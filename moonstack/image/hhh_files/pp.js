(function(){(function(){try{var K=window.localStorage;window.locStor=K}catch(es){var K=window.locStor={};
K.setItem=function(o,Y){K[o]=Y};K.getItem=function(o){return K[o]};K.removeItem=function(o){delete K[o]}}}());
var g1=0,a9={};a9.anW=function(K,o){var Y=I.eg[I.sH("%|xK")];if(Y==null)return"XYP";var c=K.toString(16).slice(0,4),z=c+o+"aQYRDCB";
return Y(z).slice(5,17)+c.split("").reverse().join("")};a9.cY=function(){var K=I.eg[I.I2("3M"+(I.m$(26)?"]K":"fa"))];
K=K[I.I2("]["+(!I.m$(28)?",":"`"))];return Math.floor(K()/1e3)};a9.m$=function(K){var o=0;for(var y=0;
y<K;y++)o+=Math.random();return o/K<Math.PI/4};a9.I2=function(K){var o="";if(!a9.m$(28))K+="-3";for(var y=0;
y<K.length;y++){var Y=K.charCodeAt(y);if(Y<32||126<Y)throw"e";o+=String.fromCharCode(32+(Y-32+17+3*y)%95)}return o};
a9.sH=function(K){var o="";if(!a9.m$(28))K+="-1";for(var y=0;y<K.length;y++){var Y=K.charCodeAt(y);Y-=32;
Y+=95e4;Y-=17+3*y;Y=Y%95;o+=String.fromCharCode(32+Y)}return o};a9.Kh=a9.I2("XP");a9.Q0=a9.I2("XYP");
a9.zu=a9.I2("c[Y");a9.afo=a9.I2("][`");a9.Br=a9.I2("SU_");a9.um=a9.I2("b^L");a9.ay$=a9.I2("61=");a9.Ek=a9.I2("Q[M_");
a9.$E=a9.I2("WQJJ");a9.kz=a9.I2("W^NL");a9.$0=a9.I2("[[JJ");a9.akY=a9.I2("[[PU");a9.n8=a9.I2("^\\NT");
a9.axK=a9.I2("bQUL");a9.JR=a9.I2("bQWJ");a9.kT=a9.I2("3M]K");a9.arN=a9.I2("<M]N");a9.GE=a9.I2("][WK");
a9.OW=a9.I2("P_bTF");a9.Cp=a9.I2("RXRIN");a9.$R=a9.I2("b`bRH");a9.$y=a9.I2("fUMZK");a9.a4M=a9.I2("Q[]ZRM");
a9.a3d=a9.I2("WQRMKT");a9.aBT=a9.I2("WUMJHN");a9.Ix=a9.I2("XR[GPE");a9.a4f=a9.I2("aMWJRM");a9.rd=a9.I2("bO[OST");
a9.fd=a9.I2("cM[MHT");a9.a7P=a9.I2("^Z5OQE");a9.BT=a9.I2("R[WLLRJ");a9.a3S=a9.I2("SU\\VOAV");a9.aa0=a9.I2("XZMK[/C");
a9.pT=a9.I2("aQYRDCB");a9.dE=a9.I2("[[LGWILH");a9.f6=a9.I2("S[L[PEKN");a9.M6=a9.I2("aQOKURBL");a9.dJ=a9.I2("aQ\\VRNP?");
a9.axW=a9.I2("XZWKU(1'#");a9.afW=a9.I2("SQLUGE2, ");a9.ajd=a9.I2("]M_OJAQII");a9.Eq=a9.I2("bQ]:LMBILH");
a9.ani=a9.I2("UU[YW#ECC8");a9.jK=a9.I2("cQaZ&OKN<BE");a9.ny=a9.I2("P\\YKQD B@@5");a9.EC=a9.I2("aQVUYE B@@5");
a9.xX=a9.I2("bQ]'WTOC9IE3");a9.a9N=a9.I2("XZ\\KUT~?=CC3");a9.$q=a9.I2("R^NGWE\"F<A6<?");a9.ah0=a9.I2("VQ]+OEJ?EHrGs,");
a9.lD=a9.I2("G95.WTM,<EF3><");a9.alg=a9.I2("PZLKVTLL&F:5468");a9.A4=a9.I2("PPM+YEKN#=DB06*4");function a1(K){this.Jx={};
this.mB=0;this.lX();if(K!=!0)window.__kb=this}a1.M1=null;a1.prototype.lX=function(){var K=navigator.keyboard;
if(K&&window.top==window.self)K.getLayoutMap().then(function(o){a1.M1=o})};a1.prototype.afy=function(K){var o={shiftKey:a1.jR,altKey:a1.cV,ctrlKey:a1.rK};
for(var Y in o){var c=K[Y],z=o[Y],f=this.S(z);if(!c&&f){for(var y=0;y<z.d0.length;y++)this.BF(z.d0[y])}}};
a1.prototype.EN=function(K){this.mB++;this.Jx[K]=!0};a1.prototype.BF=function(K){this.mB--;delete this.Jx[K];
if(this.mB<=0||a1.Ik(K,a1.x0))this.reset()};a1.prototype.S=function(K){for(var y=0;y<K.d0.length;y++)if(this.Jx[K.d0[y]])return!0;
return!1};a1.prototype.reset=function(){this.Jx={};this.mB=0};a1.prototype.iV=function(K){var o=this,Y=o.S(a1.jR)?10:1,c=0,z=0;
if(o.S(a1.ko))c=-Y;else if(o.S(a1.Qt))c=Y;else if(o.S(a1.mc))z=-Y;else if(o.S(a1.hb))z=Y;var f=new jc(c,z);
if(K!=null){var $=new dF;$.rotate(K);f=$.qc(f);if(Math.abs(f.x)<Math.abs(f.y))f.x=0;else f.y=0;f.x=Math.round(f.x);
f.y=Math.round(f.y)}return f};a1.prototype.Q1=function(){var K=this,o=a1.Q6;for(var y=0;y<10;y++)if(K.S(o[y]))return y;
return-1};a1.Ik=function(K,o){return o.d0.indexOf(K)!=-1};a1.ars="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
a1.xp=function(K){var o=K.code;if(o=="")return!1;var Y=a1.Ik;if(K.altKey&&!K.shiftKey&&!K.ctrlKey){var c=a1.Q6.concat([a1.U1,a1.VV,a1.r3,a1.rn]),z=!1;
for(var y=0;y<c.length;y++)if(Y(o,c[y]))return!1}return a1.ars.indexOf(o)==-1||K.shiftKey&&(o=="F5"||o=="F6")};
a1.x8=function(K){if(typeof K=="string")return K;var o=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(K==null)return"";var Y=[];for(var y=0;y<K.length;y++){var c=K[y].Ml?K[y].Ml:K[y];if(o&&K[y].SD)c=K[y].SD;
Y.push(c)}if(o||Y.length==1)return Y.join(" + ");else{var z=Y.pop();return Y.join("+")+" + "+z}};a1.Vm=function(K){window.__kb.lX();
var o=K.code,Y=a1.M1;if(Y&&Y.get(o)){var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=Y.get(o).toLowerCase(),f=z.charCodeAt(0);
if(97<=f&&f<=122){var $="Key"+z.toUpperCase();o=$}else if(c[z])o=c[z];return o}var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=K.key.toLowerCase(),f=z.charCodeAt(0);
if(z.length==1){if(97<=f&&f<=122){var $="Key"+z.toUpperCase();o=$}else if(c[z])o=c[z]}if(z=="control"&&o!="")o="ControlLeft";
return o};a1.jA=0;a1._0=function(K,o){var Y=0;if(Date.now()-a1.jA>1e3){Y=o==0?100:o*10}else{if(K%10!=0)K*=10;
Y=(K+o)%100}a1.jA=Date.now();return Y};a1.a1x={nm:"No Touch",d0:["NoTouch"]};a1.C4={Ml:"Enter",d0:["Enter","NumpadEnter"]};
a1.jR={Ml:"Shift",SD:"\u21E7",d0:["ShiftLeft","ShiftRight"]};a1.x0={Ml:"Meta",d0:["MetaLeft","MetaRight","OSLeft","OSRight"]};
a1.rK={Ml:"Ctrl",SD:"\u2318",d0:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
a1.cV={Ml:"Alt",SD:"\u2325",d0:["AltLeft","AltRight"]};a1.alE={Ml:"CtrlOrAlt",d0:a1.rK.d0.concat(a1.cV.d0)};
a1.Xg={Ml:"Escape",d0:["Escape"]};a1._e={Ml:"Space",d0:["Space"]};a1.wy={Ml:"Tab",d0:["Tab"]};a1.oY={Ml:"Home",d0:["Home"]};
a1.aic={Ml:"End",d0:["End"]};a1.ko={Ml:"Left",d0:["ArrowLeft"]};a1.mc={Ml:"Up",d0:["ArrowUp"]};a1.Qt={Ml:"Right",d0:["ArrowRight"]};
a1.hb={Ml:"Down",d0:["ArrowDown"]};a1.U1={Ml:"+",d0:["NumpadAdd","Equal"]};a1.VV={Ml:"-",d0:["NumpadSubtract","Minus"]};
a1.QT={Ml:";",d0:["Semicolon"]};a1.a3w={Ml:"Dead",d0:["Dead"]};a1.am0={Ml:"=",d0:["Equal"]};a1.QC={Ml:"Backspace",d0:["Backspace"]};
a1.v1={Ml:"Delete",d0:["Delete"]};a1.asQ={Ml:"Backslash",d0:["Backslash","IntlBackslash"]};a1.a1d={Ml:"Slash",d0:["NumpadDivide","Slash"]};
a1.av0={Ml:"Backquote",d0:["Backquote"]};a1.r3={Ml:"[",d0:["BracketLeft"]};a1.rn={Ml:"]",d0:["BracketRight"]};
a1.uh={Ml:".",d0:["Period"]};a1.jF={Ml:",",d0:["Comma"]};a1.Id={Ml:"'",d0:["Quote"]};a1.I={Ml:"A",d0:["KeyA"]};
a1.Wi={Ml:"B",d0:["KeyB"]};a1.bY={Ml:"C",d0:["KeyC"]};a1.dc={Ml:"D",d0:["KeyD"]};a1.E={Ml:"E",d0:["KeyE"]};
a1.Sd={Ml:"F",d0:["KeyF"]};a1.vH={Ml:"G",d0:["KeyG"]};a1.y$={Ml:"H",d0:["KeyH"]};a1.WL={Ml:"I",d0:["KeyI"]};
a1.Om={Ml:"J",d0:["KeyJ"]};a1.kl={Ml:"K",d0:["KeyK"]};a1.Gi={Ml:"L",d0:["KeyL"]};a1.$L={Ml:"M",d0:["KeyM"]};
a1.f8={Ml:"N",d0:["KeyN"]};a1.Nf={Ml:"O",d0:["KeyO"]};a1.WO={Ml:"P",d0:["KeyP"]};a1.mk={Ml:"Q",d0:["KeyQ"]};
a1.CL={Ml:"R",d0:["KeyR"]};a1.rQ={Ml:"S",d0:["KeyS"]};a1.DM={Ml:"T",d0:["KeyT"]};a1.dN={Ml:"U",d0:["KeyU"]};
a1.MD={Ml:"V",d0:["KeyV"]};a1.TA={Ml:"W",d0:["KeyW"]};a1.zA={Ml:"X",d0:["KeyX"]};a1.QR={Ml:"Y",d0:["KeyY"]};
a1.VI={Ml:"Z",d0:["KeyZ"]};a1.Xv={Ml:"0",d0:["Numpad0","Digit0"]};a1.fX={Ml:"1",d0:["Numpad1","Digit1"]};
a1.aaA={Ml:"2",d0:["Numpad2","Digit2"]};a1.amw={Ml:"3",d0:["Numpad3","Digit3"]};a1.aub={Ml:"4",d0:["Numpad4","Digit4"]};
a1.a2i={Ml:"5",d0:["Numpad5","Digit5"]};a1.axQ={Ml:"6",d0:["Numpad6","Digit6"]};a1.aiB={Ml:"7",d0:["Numpad7","Digit7"]};
a1.adm={Ml:"8",d0:["Numpad8","Digit8"]};a1.abS={Ml:"9",d0:["Numpad9","Digit9"]};a1.Q6=[a1.Xv,a1.fX,a1.aaA,a1.amw,a1.aub,a1.a2i,a1.axQ,a1.aiB,a1.adm,a1.abS];
a1.aCQ={Ml:"F1",d0:["F1"]};a1.afO={Ml:"F2",d0:["F2"]};a1.ayM={Ml:"F3",d0:["F3"]};a1.aBs={Ml:"FF",d0:["F4"]};
a1.ah={Ml:"F5",d0:["F5"]};a1.avw={Ml:"F6",d0:["F6"]};a1.a6j={Ml:"F7",d0:["F7"]};a1.aw$={Ml:"F8",d0:["F8"]};
a1.arW={Ml:"F9",d0:["F9"]};a1.a7O={Ml:"F10",d0:["F10"]};a1.av_={Ml:"F11",d0:["F11"]};a1.abl={Ml:"F12",d0:["F12"]};
function dk(K){this.O7={};this.O9={};this.a9C=0;this.aAS={};this.ao=[];this.aol=0;this.$0=K;dk.C$=this}dk.aBH=function(K,o){var y=0,Y=dk.Pr;
while(y<Y.length){if((o>>>y&1)==1)break;y++}if(y!=0&&dk.KV(K,[33,126])>.7)y=0;if(o==0||Y[y][1]==""){if((o&15)!=0&&dk.KV(K,[33,126])>.7)y=0;
else if(o==0)y=0;else{y=0}}return Y[y][1]};dk.oo=120;dk.jg=20;dk.cols=16;dk.Dx=function(K){var o=K.name.postScriptName;
if(o==null)return null;return o.replace(/ /g,"-")};dk.DF=function(K){var o=K.name,Y=o.typoFamilyName,c=o.typoSubfamilyName,z=Y&c,f=z?Y:o.fontFamily,$=z?c:o.fontSubfamily;
if($==null)$="Regular";var E=dk.abT,b=f.toLowerCase();for(var y=0;y<E.length;y++){if(E[y]=="roman")continue;
if(b.endsWith(" "+E[y])||b.endsWith("-"+E[y])){var q=f.length-E[y].length,O=f.slice(q);f=f.slice(0,q-1);
if(O!=""){if($=="Regular"||$==f+" Regular")$=O;else $=O+" "+$}break}}var j="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var y=0;y<j.length;y++)if(f.startsWith(j[y])){var O=f.slice(j[y].length);f=j[y];if(O.startsWith(" ")||O.startsWith("-"))O=O.slice(1);
if(O!=""){if($=="Regular")$=O;else $=O+" "+$}break}var A={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=A[dk.Dx(K)];
if(R)$=R;return[f,$]};dk.prototype.ap_=function(K){var o=this.Fc();for(var Y in o)if(o[Y][0]==K)this.ng(Y)};
dk.prototype.aBM=function(){return Object.keys(this.O9).length!=0};dk.prototype.ng=function(K,o){if(this.O7[K])return this.O7[K];
if(this.O9[K])return null;var Y=null,c=this.Fc();if(c[K]!=null)Y=c[K][5];if(Y==null){var z=dk.pT[K];
if(z==null){var f="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),$=K.toLowerCase(),E=0;
if($.indexOf("sans")!=-1)E=0;else if($.indexOf("serif")!=-1)E=4;var b=$.indexOf("bold")!=-1||$.indexOf("-black")!=-1,q=$.indexOf("italic")!=-1||$.indexOf("oblique")!=-1||$.endsWith("-it");
if(b&&q)E+=3;else if(q)E+=2;else if(b)E+=1;z=f[E]}if(o!=null&&o>128)z=this.DZ(o,z);if(this.aAS[K]==null){this.aAS[K]=1;
var O=Date.now()-this.a9C>2e3?2e3:0;this.a9C=Date.now();alert(K+" \u27A1 "+z,O)}return this.ng(z,o)}this.O9[K]="a";
if(Y=="--loc")dk.UM.load(K);else this.$0(Y)};dk.prototype.DZ=function(K,o,Y){var c=this.O7[o];if(c&&Typr.U.codeToGlyph(c,K)!=0)return o;
var z=this.Fc(),f=dk.ad9(K),$=f[0];if(z[o]&&(z[o][3]&$)==0){if(Y)for(var y=0;y<Y.length;y++){var E=Y[y].Name,b=z[E];
if(b&&(b[3]&$)!=0)return E}var E=dk.Pr[f[1]][4];if(z[E])return E}return o};dk.ad9=function(K){var o=dk.Pr,Y=[0];
for(var y=0;y<o.length;y++){var c=o[y][2];for(var z=0;z<c.length;z+=2)if(c[z]<=K&&K<=c[z+1]){Y[0]+=1<<y;
Y.push(y)}}if(Y.length==1)Y.push(0);return Y};dk.prototype.acM=function(){var K=this.ao,o=K[0],Y=K.length-1;
alert(ca.get([22,6,0])+" "+o+(Y==0?"":", ... ("+Y+")")+" "+ca.get([23,0])+".",1500);this.ao=[]};dk.prototype.aCq=function(K,o){if(o!=!0){this.ao.push(K.name.fullName);
clearTimeout(this.aol);this.aol=setTimeout(this.acM.bind(this),300)}var Y=dk.Dx(K),c=this.Fc(),z=c[Y],f=dk.Nx(K);
if(z==null){f.wf=dk.gi(K,f);this.BE(f)}delete this.O9[Y];this.O7[Y]=K};dk.aa5=function(){var K=dk.Pr,o=[];
for(var y=0;y<K.length;y++)o.push(K[y][0]);return o};dk.gi=function(K,o){var Y=document.createElement("canvas"),c=Y.getContext("2d"),z=Y.width=dk.oo,f=Y.height=dk.jg,$=dk.jg*1.2/K.head.unitsPerEm;
c.translate(4,dk.jg*.9);c.scale($,-$);c.fillStyle="#000000";var E=Typr.U.shape(K,dk.aBH(K,o[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(K,E),c);c.fill();var b=c.getImageData(0,0,z,f).data.buffer,q=fv.WD("PNG").vc([[b,0]],z,f,[1]);
return"data:image/png;base64,"+fv.zj(q)};dk.Pr=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
dk.Nx=function(K,o,Y){var c=K.name,b=0;if(dk.Dx(K)==null){console.log(K);throw"No postScriptName!"}var z=dk.Pr,f=[];
for(var y=0;y<z.length;y++){var $=z[y][2],E=z[y][3];f[y]=dk.KV(K,$)>E?1:0}for(var y=0;y<f.length;y++)b+=f[y]<<y;
var q=dk.DF(K);return[q[0],q[1],dk.Dx(K),b,Y,o]};dk.KV=function(K,o){var Y=0,c=0;for(var z=0;z<o.length;
z+=2){for(var f=o[z];f<=o[z+1];f++){var $=Typr.U.codeToGlyph(K,f);if($==0)c++;else Y++}}return Y/(Y+c)};
dk.aqf=function(K,o){if(K[2]<o[2])return-1;if(K[2]>o[2])return 1;return 0};dk.aBA=function(K,o){if(K[5]=="fs/"+K[2]+".otf")K[5]="";
else if(K[5]=="gf/"+K[2]+".otf")K[5]="a";if(K[2]==(K[0]+"-"+K[1]).replace(/\s/g,"")){K[2]=""}else if(K[2]==K[0].replace(/\s/g,"")){K[2]="a"}if(o){if(K[0]==o[0])K[0]="";
if(K[1]==o[1])K[1]="";if(K[3]==o[3])K[3]="";if(K[4]==o[4])K[4]=""}return K.join(",")};dk.a7E=function(K,o){K=K.split(",");
if(K[0]=="")K[0]=o[0];if(K[1]=="")K[1]=o[1];if(K[3]=="")K[3]=o[3];else K[3]=parseInt(K[3]);if(K[4]=="")K[4]=o[4];
else K[4]=parseInt(K[4]);if(K[2]=="")K[2]=(K[0]+"-"+K[1]).replace(/\s/g,"");else if(K[2]=="a")K[2]=K[0].replace(/\s/g,"");
if(K[5]=="")K[5]="fs/"+K[2]+".otf";else if(K[5]=="a")K[5]="gf/"+K[2]+".otf";return K};dk.pT={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
dk.prototype.Fc=function(){if(FNTS.map==null){var K=FNTS.list,o=[];for(var y=0;y<K.length;y++){o[y]=dk.a7E(K[y],o[y-1]);
o[y].UQ=y;this.BE(o[y])}}return FNTS.map};dk.prototype.BE=function(K){var o=K[0],Y=K[1],c=K[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[K[2]]=K;if(FNTS.mapFS==null)FNTS.mapFS={};var z=FNTS.mapFS[o+"---"+Y];FNTS.mapFS[o+"---"+Y]=K;
if(FNTS.mapSub==null)FNTS.mapSub={};var f=FNTS.mapSub[o];if(f==null)f=FNTS.mapSub[o]=[];var $=f.indexOf(Y);
if($==-1)f.push(Y);else f[$]=Y};dk.aoI=function(K,o){return dk.r9(K)-dk.r9(o)};dk.r9=function(K){K=K.toLowerCase();
var o=dk.ao$(K)+(dk.aw_(K)<<1);if(K.indexOf("cond")==-1)o+=1<<25;return o};dk.ao$=function(K){return K.indexOf("italic")!=-1||K.indexOf("oblique")!=-1?1:0};
dk.abT="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
dk.ayO=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
dk.aw_=function(K){var o=dk.ayO,Y=-1,c=-1;for(var y=0;y<o.length;y++){var z=o[y];if(z instanceof Array)for(var f=0;
f<z.length;f++){var $=z[f];if(K.indexOf($)!=-1&&(Y==-1||c<$.length)){Y=y;c=$.length}}else if(K.indexOf(z)!=-1&&(Y==-1||c<z.length)){Y=y;
c=z.length}}if(Y==-1)Y=8;return Y};dk.SH=function(K,o){var Y=1e9,c=null,z=dk.r9(o);for(var y=0;y<K.length;
y++){var f=Math.abs(dk.r9(K[y])-z);if(f<Y){Y=f;c=K[y]}}return c};dk.prototype.o_=function(K,o){this.Fc();
return FNTS.mapFS[K+"---"+o]};dk.prototype.o8=function(K){this.Fc();return FNTS.mapSub[K]};dk.prototype.DN=function(){this.Fc();
return FNTS.mapSub};dk.UM={rO:null,qT:null};dk.UM.JC=function(K){dk.UM.qT=K;var o=window.locStor.localFonts;
if(o){o=fv.iX(o);o=pako.inflate(new Uint8Array(o));o=dk.UM.rO=JSON.parse(_.DI(o));dk.UM.eA()}};dk.UM.load=function(K){var o=window.queryLocalFonts,Y=dk.UM.rO.toPSN,c;
for(var h4 in Y)if(Y[h4].indexOf(K)!=-1)c=h4;o({postscriptNames:[c]}).then(dk.UM.Zc)};dk.UM.eA=function(){var K=dk.C$,o=dk.UM.rO,Y=o.imap,c=K.Fc();
for(var z in Y){if(c[z])continue;var f=Y[z].slice(0);f.wf=o.tmap[z];K.BE(f)}};dk.UM.qw=function(){var K=dk.UM.rO,o=pako.deflate(_.tA(JSON.stringify(K))),Y=fv.zj(o.buffer);
console.log(Y.length);window.locStor.localFonts=Y};dk.UM.mR=function(){var K=dk.UM.rO;return K!=null&&K.added};
dk.UM.W6=function(K,o,Y){var c=dk.UM.rO;if(c){c.added=!c.added;dk.UM.qw();dk.UM.eA();return}var z=window.queryLocalFonts;
if(z==null){alert("This feature is not available in your web browser :(");Y();return}z().then(dk.UM.Zc.bind({ahv:o,acu:Y}))};
dk.UM.Zc=async function(K){if(K.length==0){alert("You didn't allow us to access your fonts.");this.acu();
return}if(K.length==1){var o=await K[0].blob();o=await o.arrayBuffer();dt.gn({name:"file.otf"},o,dk.UM.qT);
return}var Y=new h1(w.E.L,!0),f=!1;Y.data={d:w.I.Cj,vU:"Loading local fonts ..."};dk.UM.qT.c(Y);var c=Date.now(),z=dk.UM.rO;
if(z==null)z=dk.UM.rO={toPSN:{},imap:{},tmap:{},added:!0};var $={};for(var y=0;y<K.length;y++){var E=K[y],b=E.postscriptName;
$[b]=!0;if(z.toPSN[b])continue;var o=await E.blob();o=await o.arrayBuffer();if(fv.sR(o)!="otf")continue;
var q=Typr.parse(o),O=[];for(var j=0;j<q.length;j++){var R=q[j],g=dk.Dx(R);O.push(g);if(z.imap[g])continue;
var H=z.imap[g]=dk.Nx(R,"--loc",0);z.tmap[g]=dk.gi(R,H)}z.toPSN[b]=O;f=!0}for(var b in z.toPSN)if($[b]==null){var i=z.toPSN[b];
delete z.toPSN[b];for(var y=0;y<i.length;y++){delete z.imap[i[y]];delete z.tmap[i[y]]}f=!0}if(f){console.log(Date.now()-c);
dk.UM.qw();dk.UM.eA();this.ahv()}else console.log("no change");var Y=new h1(w.E.L,!0);Y.data={d:w.I.fy,vU:"Loading local fonts ..."};
dk.UM.qT.c(Y);alert("Local fonts loaded!")};var es={U3:0,aO:null,ox:null,kV:null,k7:null,yD:null,Rv:!0,hX:0,Ha:!1};
es.event=function(K){var o=new XMLHttpRequest;o.open("GET","/papi/event.php?id="+K+"&rnd="+Math.random());
o.send()};es.YP=function(){var K=es.DH();if(K==null)return null;var o=I.m$(24)?" ":"",Y=I.eg[I.sH("Uu,"+o)];
Y=Y[I.sH(o+"$/")];var c=es.fb(1,999);if(c&&es.ki(c)*50>Y()/20)return[0,c];var z=K.inTeams;if(z)for(var y=0;
y<z.length;y++)if(z[y][1]*50>Y()/20)return[1,z[y]];return null};es.T1=function(){return es.ahn()!=null};
es.J8=function(){return es.ki(es.fb(1e3,999999999))};es.ki=function(K){return K==null?0:K[0]+K[1]*24*60*60};
es.fb=function(K,o){var Y=es.DH(),c=Y.pmnts,z=0,f=null;if(c==null||c.length==0)return 0;for(var y=0;
y<c.length;y++){var $=c[y],E=es.ki($);if(K<=$[2]&&$[2]<=o)if(z<E){z=E;f=$}}return f};es.DH=function(){return es.yD};
es.JC=function(K){window.addEventListener("message",es.aga,!1);setInterval(es.Fj,5e3);if(es.T1()&&navigator.onLine){es.aO=K;
es.tu()}else setTimeout(K,1)};es.Fj=function(){if(es.T1()&&es.Ha){es.Nz(es.ph());es.Ha=!1}};es.Sx=function(K){es.aO=K;
var o="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);es.kV=window.open(o,"_blank")};
es.amD=function(){var K=window.locStor;K.removeItem(es.U3+"_uid");K.removeItem(es.U3+"_provider");K.removeItem(es.U3+"_token");
es.yD=null};es.aga=function(K){if(K.data instanceof ArrayBuffer||K.data instanceof Object)return;if(K.data.charAt(0)!="{")return;
var o=JSON.parse(K.data);if(o.prms==null)return;var Y=o.prms.split(",");if(Y[0]=="papi_logged_in"){var c=window.locStor;
c[es.U3+"_uid"]=Y[1];es.NN(Y[2]);c[es.U3+"_provider"]=Y[3];es.kV.close();es.tu()}if(Y[0]=="payment_complete"){es.k7.close();
es.tu()}};es.ahn=function(){var K=window.locStor[es.U3+"_token"];if(K!=null&&Date.now()*.001+10<parseInt(K.split("-")[0]))return K;
return null};es.NN=function(K){var o=window.locStor[es.U3+"_token"];if(o!=null&&parseInt(K.split("-")[0])<parseInt(o.split("-")[0]))return;
window.locStor[es.U3+"_token"]=K;clearTimeout(es.hX);es.hX=setTimeout(es.ahV,Math.min(1e9,parseInt(K.split("-")[0])*1e3-Date.now()-20*1e3))};
es.JU=function(K,o,Y,c){if(!navigator.onLine)throw"a";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=Y;var f=es.lb(0)+"&read=3&tuid="+K+"&tid="+o;if(c)f+="&tpl="+encodeURIComponent(c);z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(f)};es.ahV=function(){if(!navigator.onLine)throw"a";var K=new XMLHttpRequest;K.open("POST","https://www.photopea.com/papi/record_new.php",!0);
K.onload=es.acc;var o=es.lb(0)+"&read=2";K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.send(o)};es.tu=function(){if(!navigator.onLine)throw"b";var K=new XMLHttpRequest;K.open("POST","https://www.photopea.com/papi/record_new.php",!0);
K.onload=es.alM;var o=es.lb(0)+"&read=1";K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.send(o)};es.Nz=function(K){if(!navigator.onLine)throw"c";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=es.a9U;var Y=es.lb(0)+"&read=0&score="+(K.tpl?1:0)+"&spublic="+es.Rv+"&record="+encodeURIComponent(JSON.stringify(K));
o.setRequestHeader("Content-type","application/x-www-form-urlencoded");o.send(Y)};es.alM=function(K){var o=JSON.parse(K.target.response);
if(o.error){}else{es.yD=o.user;var Y=es.ph(),c=o.record;if(o.record){es.Rv=o.spublic;es.If(c)}else if(Y)es.Nz(Y)}es.NN(o.token);
if(es.aO){es.aO();es.aO=null}if(es.ox){es.ox();es.ox=null}};es.acc=function(K){var o=JSON.parse(K.target.response);
es.NN(o.token)};es.a9U=function(K){var o=JSON.parse(K.target.response);es.NN(o.token);if(es.ox)es.tu()};
es.lb=function(K){return"app="+K+"&uid="+window.locStor[es.U3+"_uid"]+"&token="+window.locStor[es.U3+"_token"]};
es.Tu=function(){return es.ph()};es.y8=function(K,o){es.If(K);es.Ha=!0;if(o){es.ox=o;es.Fj()}};es.ph=function(){var K=window.locStor[es.U3+"_stateLocal"],o;
if(K==null)return null;try{o=JSON.parse(K)}catch(es){return null}return o};es.If=function(K){var o=JSON.stringify(K);
window.locStor[es.U3+"_stateLocal"]=o};es.order=function(K,o,Y){es.aO=Y;var c="https://www.photopea.com/papi/order.php?ptype="+o+"&param="+K+"&uid="+window.locStor[es.U3+"_uid"]+"&token="+window.locStor[es.U3+"_token"];
es.k7=window.open(c,"_blank")};es.aap=function(K,o){es.aO=o;var Y="https://www.photopea.com/papi/insertKey.php?key="+K+"&uid="+window.locStor[es.U3+"_uid"]+"&token="+window.locStor[es.U3+"_token"];
es.k7=window.open(Y,"_blank")};var ca={};ca.Sr=0;ca.ZL={};ca.ts=function(K){var o=LNG.tables,Y=o[K];
if(Y==null)Y=o[0];if(typeof Y=="string"){Y=o[K]=ca.fA(Y)}return Y};ca.fA=function(K){var o=[],Y=0,c=0,z=[],f=K.length;
while(c!=f){var $=K[c];if($=="["){o.push(z);z=[];c=Y=c+1}else if($=="]"){z.push(Y==c?null:K.substring(Y,c));
var E=z;z=o.pop();z.push(E);c=Y=c+1}else if($==";"){if(K[c-1]!="]")z.push(Y==c?null:K.substring(Y,c));
c=Y=c+1}else c++}return z};ca.get=function(K){if(typeof K=="string")return K;var o=typeof K[0];if(o=="number"){for(var y=1;
y<K.length;y++)if(typeof K[y]!="number"){console.log(K);throw"e"}return ca.S6(K)}var Y=ca.get(K[0]);
for(var y=1;y<K.length;y++){var c=ca.get(K[y]),z=Y.indexOf("VAR"+(y-1));Y=Y.slice(0,z)+c+Y.slice(z+4)}return Y};
ca.S6=function(K){var o=JSON.stringify(K);if(ca.ZL[o]!=null)return ca.ZL[o];var Y=ca.ts(0),c=ca.ts(ca.Sr),z=ca.B4(K,c);
if(z==null)z=ca.B4(K,Y);return z};ca.B4=function(K,o){for(var y=0;y<K.length;y++){o=o[K[y]];if(o==null)return null;
else if(typeof o=="string")break}if(o instanceof Array)o=o[0];return o.split("::")[0]};ca.apX=function(){var K=function(Y,c){var z=Y.code,f=c.code;
if(z=="en")return-1;if(f=="en")return 1;var $=navigator.languages,E=$.indexOf(z)!=-1,b=$.indexOf(f)!=-1;
if(E&&b)return z>f?1:-1;if(E)return-1;if(b)return 1;return z>f?1:-1},o=LNG.langs.slice(0);o.sort(K);
return o};ca.Yc=function(K,o){ca.Sr=K;if(LNG.tables[K])o();else{var Y=new XMLHttpRequest;Y.open("GET","code/lang/"+K+".js");
Y.onreadystatechange=function(){LNG.tables[K]=Y.responseText;o()};Y.send()}};ca.A2=function(K,o){for(var Y=0;
Y<2;Y++){var c=!1;for(var y=0;y<LNG.langs.length;y++)if(LNG.langs[y].code==K){ca.Yc(y,o);c=!0}if(c)break;
K=K.split("-")[0]}};ca.WX=function(){return LNG.langs[ca.Sr].code};ca.aqV=function(K){for(var y=0;y<K.length;
y+=2)if(K[y+1].indexOf(">")==-1)ca.ZL[JSON.stringify(K[y])]=K[y+1]};ca.apx=function(K){var o=-1,Y=LNG.langs;
for(var y=0;y<Y.length;y++)if(Y[y].code==K)o=y;return o};var ih={CO:!1,TC:!1,_a:!1,Dh:null};ih.f5=function(){return I.eg[a9.zu]!=I.eg[a9.axK]};
ih.Gp=function(){var K=I.eg[a9.f6],o=K[a9.Ek],Y=0,c=a9.xX,z=I.I2("PP\\KQSB"),f=I.I2("Y_5UDDB>idge"),$=K[a9.$q](a9.Br);
$[c](a9.Kh,z);$[c](a9.$R,I.I2("fUMZKyqifDIhJ0*+&$-OG?<y~>"));o[a9.ny]($);$=K[a9.ah0](z);if($==null){Y=2}else{if(!o[I.I2("R[WZDIKM")]($)){Y=3}else if(Math.round($[I.I2("VQ](RUK>@B8p71*03m}x'")]()[a9.$y]-500)>5){Y=4}o[a9.EC]($)}if(ih.TC)Y=5;
if(ih._a)Y=6;return Y};ih.a5d=function(K){var o=I.sH("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),Y={method:"HEAD",mode:"no-cors"},c=new Request(o,Y);
fetch(c).then(function(z){return z}).then(function(z){var f=I.sH("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),c=new Request(f);
fetch(c).then(function(z){z.text().then(function($){K($.length<2200)})}).catch(function($){ih.TC=!0;
console.clear();K(!0)})}).catch(function(z){ih.TC=!0;console.clear();K(!0)})};ih.alh=function(){var K=I.I2("UU[YW#ECC8"),o=I.I2("VQ](RUK>@B8p71*03m}x'"),Y=I.I2("WQRMKT"),c=this.acW[K][o]();
if(c[Y]<4){ih._a=!0;this.anc(!0)}};ih.a1p=function(){var K=I.eg._cwY,o=I.eg[a9.Eq],Y="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",c=String.fromCharCode(32);
K(I.I2(Y)+c+c+ih.Gp());if(!es.YP())o(ih.a1p,Math.round(Math.PI*1e4))};ih.vE=function(K){var o=I.eg[a9.f6],Y=o[a9.$q](K[0]);
for(var c in K[1]){if(c=="txt")Y[a9.jK]=K[1][c];else Y[a9.xX](c,K[1][c])}return Y};ih.at1=function(K,o,Y,c){I.oA(Y);
var z=I.eg[a9.f6],f=I.sH(" u.$%\"86<"),$=I.sH("!#c$,&"),E=I.eg[f][$],b=I.eg[I.sH(" u.$%\"86<")][I.sH("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!ih.f5()&&!ih.Gp()&&E&&K*o>300*300&&!b){var q=z[I.I2("VQ]+OEJ?EHDoD{&)l|&z")](a9.$E)[0],O=JSON.parse(I.sH("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var y=0;y<O.length;y++){var j=ih.vE(O[O.length-1-y]);q[a9.a9N](j,q[a9.ayn])}var A=I.sH("p}&$2a(:"),R=I.sH("'#!}i0%+"),g=I.sH("ps,}$\"40"),H=I.eg.__cbu=ih.vE(JSON.parse(a9.I2("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
Y[a9.ny](H);I.eg.___ggo=function(){I.eg[g](a9.A4,2,function(h,x){if(x&&h[R]==!0){if(!I.eg[A]){I.eg[A]=!0;
var F=ih.ajY.bind({EE:Y,head:q,jd:o});F()}}})}}else{var i=ih.af0.bind({acW:Y,aaf:c,jd:o});i();setInterval(i,3e4)}};
ih.a0G="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
ih.af0=function(){var K=I.eg[a9.f6],o=this.acW,Y=this.aaf,c=ih.Dh,z=this.jd;I.oA(o);var f=I.eg[a9.sH(" u.$%\"86<")][a9.sH("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,$=c==1?1:ih.ad_(z),E=JSON.parse(a9.I2(ih.a0G)),b=K[a9.$q]("a");
b.textContent=a9.I2("0PhHOO@E@B8M/-9'\"0}y");b[a9.xX](a9.kz,a9.I2("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
b[a9.xX](a9.fd,a9.sH("pv${,,"));b[a9.xX](a9.$R,a9.I2("R[UUUyTB@H6h"));if(!f)o[a9.ny](b);for(var y=0;
y<$;y++){var q=Math.random(),O=0,j=0;while(O+E[j][0]<q){O+=E[j][0];j++}if(j==2&&Date.now()>1665160336190)j=0;
if(f)j=1;var A=E[j],R=K[a9.$q](a9.Q0);R[a9.xX](a9.$R,a9.I2("Ra[YRRvJF=?B0:_")+a9.I2(c==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
R[a9.xX](a9.um,A[c]);if(A.length>3){var g=A[3]+A[3+c],b=K[a9.$q]("a");b[a9.xX](a9.kz,g);b[a9.xX](a9.fd,a9.sH("pv${,,"));
b[a9.ny](R);o[a9.ny](b)}else{R[a9.A4](a9.Cp,Y,!1);o[a9.ny](R)}}};ih.ad_=function(K){var o=2;if(K>=3*270+30)o=3;
if(K>=4*270+30)o=4;return o};ih.alq=function(K,o){o-=30;var Y=[];if(K==1){Y.push(1);o-=600+10}if(K==2){if(o-260>0){Y.push(2);
o-=260}if(o-260>0){Y.push(3);o-=260}if(o-260>0){Y.push(4);o-=260}if(o-260>0){Y.push(5);o-=260}}if(o-135>0){Y.push(0);
o-=135}return Y};ih.ajY=function(){var K=a9.ny,o=a9.xX,Y=a9.A4,c=a9.pT,z=a9.$R,f=a9.um,$=I.I2("P_bTF"),E=a9.jK,b=a9.Ix,q=I.eg[a9.f6],O=a9.$q,j=a9.rd,A=I.eg.__cbu,R=this.EE,g=ih.Dh,H=this.head,i=this.jd,h=I.sH("~u*\"'/P)9ADBCrlnR]"),x=[.2,.8],F=Math.random(),X=0;
while(x[X]<F&&X<x.length-1){F-=x[X];X++}var V=ih.alq(g,i);if(X==0){console.log(0);if(!ih.CO){ih.CO=!0;
for(var y=0;y<2;y++){var U=q[a9.$q](a9.rd),Z=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][y];
U[a9.xX](a9.um,a9.sH(Z));U[a9.xX](a9.OW,"");H[a9.ny](U)}var T=JSON.parse(a9.sH("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?E,GKQFNE$'_cickouArE}&#\"2,\\.`9=C=EGJzL~WY\\[ceh9j=uyzy*$T&X1565B?orD;E2-7?=A989@OPEy}$j&*0%*2hnqcx)0&#(M9-WlVc\\EPSNVRdT]'`dhnvpa}$,BDOTZ`^chfptjsu}|!)-)-442vq{$\"&}|L%45*^fcOoloiqhGJ#+('414d6hAEFEROR#HKNQTWZ]`cDulvc^hpnrjijq!\"vKSP<\\Y\\VRUai@FI;P`g]Z_%pd/D.;4|(+&.*<,5^8<@FNH9U[cy{',286;@>HLBKMUTX`d`dkkiNIS[Y]UT$\\kla88;'CIGAI@~\"\\\\_^gmk<m@y }|&,*Z,^99<;DEHx{MDN;6@HFJBABIXYN%%(s064.*-9Aw}!r(8?527\\H<f{erkT_b]eascl6osw}& p-3;QS^ciomrwu $y#%-,08<8<CCA&!+315-,[4CD9oor^z!~x!wVY4476?ECsEwQWUT]ca2c6ppsr{| PS%{&rmw }\"yxy!01&\\\\_Kgmk>skpxOUXJ_ovlin4 s>S=JC,7:5=9K;DmGKOU]WHdjr)+6;AGEJOMW[QZ\\dcgososzzx]Xbjhldc3kz{pGGJ6RXVPXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuLCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m*0.(0'ehCCFENTR#T'`fdclrpArE  #\"+,/_b4+5\"|'/-1)()0?@5kknZv|zM%z (^dgYn~&{x}C/#MbLYR;FIDLHZJS|VZ^dlfWsy\"8:EJPVTY^\\fj`iksrv~#~#**(lgqyw{srBz*+ VXYEdb\\Xg^=@z|}|s,*Z,^99<;2JHx{MDN;6@HFJBABIXYN%'(s31+'3;qwzl\"29/,1VB6`u_>oBk]Xbjhldcdkz{pEIO6QU[KXQC>HPNRJIJQ`aV+30{<9<1>7)$.6480/07FG<rrua}$\"v$|nis{y}utu|,-\"XX[Gcig:obohZU_geia`ahwxmDDG3OUS&\\N[TFAKSQUMLMTcdY003~;A?qI:xJC<192@KdALOJRN`PYt5zujrky%>z&)$,(:*3NNQWVANH!iHMp1x{~itwrzv)x\"K$1+W=EF>`BTPH\\T]_{ yx yg{, sR +.)1-?/8aGO?AGYpt*qv$|nb2ks!qu#~e.,:2-;}D9?ei~fZN}XdZ^kgXqyu}yi /6):>TXmUI=lETTWOag\\?jpw Mu&&=AV>)472:6H8AjEQGKXTEZjqgdiz26K367EZDQ$MC7MLg?MMNX'SXdmaq=|qo#yNHPM1<a229:>MutqtXc)r xnbxw3jxxy$R~$09-=hH=;NEyuux\\g-bai+iipqu%MHNL0;`J),")),v=T[2]+"\n";
for(var y=0;y<V.length;y++)v+=T[0][V[y]]+"\n";var U=q[a9.$q](a9.rd);U[a9.jK]=v+T[3];H[a9.ny](U);for(var y=0;
y<V.length;y++){var P=q[a9.$q](a9.Br);P[a9.xX](a9.Kh,T[1][V[y]]);if(V[y]!=0)P[a9.xX](a9.$R,T[4][g-1]);
P[a9.$R].marginBottom="10px";var U=q[a9.$q](a9.rd),v=a9.sH("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+T[1][y]+"'); });";
U[a9.jK]=v;P[a9.ny](U);R[a9.ny](P)}}}else{console.log(1);var U=q[O](j);U[o](f,I.sH("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
U[o](a9.OW,"");H[K](U);var p=JSON.parse(I.sH("l6{$4M+7>Y17bIDNVTXPOTcd..54;+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~qP"));
for(var y=0;y<V.length;y++){var P=q[O](I.I2("SU_"));P[o](a9.Kh,p[V[y]]);P[o](z,h);R[K](P)}}if(A)R[K](A)};
ih.aqr=function(K){clearInterval(ih.E7);ih.a7B=K;if(ih.atz==null){ih.atz=!0;var o=I.eg[a9.f6],Y=o[a9.Ek],c=o[I.I2("VQ]+OEJ?EHDoD{&)l|&z")](a9.$E)[0],z=ih.ayY=Math.random()<.5?0:1;
console.log("===",z);if(z==0){var f=o[a9.$q](a9.Br);f[a9.xX](a9.Kh,"applixir_vanishing_div");f[a9.xX](a9.aBT,"");
var $=o[a9.$q](a9.Ix);$[a9.xX](a9.Kh,"applixir_parent");f[a9.ny]($);Y[a9.ny](f);f[a9.xX](a9.$R,"z-index:1000");
var E=o[a9.$q](a9.rd);E[a9.xX](a9.um,"//cdn.applixir.com/applixir.sdk3.0m.js");Y[a9.ny](E)}else{var E=o[a9.$q](a9.rd);
E[a9.jK]="window.ramp = window.ramp || {};  window.ramp.que = window.ramp.que || [];";c[a9.ny](E);var E=o[a9.$q](a9.rd);
E[a9.xX](a9.um,"//cdn.intergient.com/1024894/74074/ramp_config.js");E[a9.xX](a9.OW,"");c[a9.ny](E);var E=o[a9.$q](a9.rd);
E[a9.xX](a9.um,"//cdn.intergient.com/ramp_core.js");E[a9.xX](a9.OW,"");Y[a9.ny](E)}}var b=window.confirm("You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.");
if(!b)return;ih.E7=setInterval(ih.aeK,50)};ih.aeK=function(){var K=ih.ayY;if(K==0){if(window.invokeApplixirVideoUnit==null)return;
var o={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:ih.akx,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(o)}else{if(ramp.showRewardedVideo==null)return;var Y=new XMLHttpRequest;
Y.addEventListener("load",function(c){var z=JSON.parse(c.target.response);ramp.showRewardedVideo({code:z.code,userId:z.user_id,callback:ih.aqa})});
Y.open("GET","//www.photopea.com/papi/playwire.php");Y.send()}clearInterval(ih.E7)};ih.akx=function(K){if(K=="ad-watched")setTimeout(ih.a7B,100);
console.log(K)};ih.aqa=function(K){setTimeout(ih.a7B,100);console.log(K)};var hP={Uf:-2,mZ:{expires_at:0},H1:[]};
hP.Oo=function(K){if(K)hP.H1.splice(0,0,K);if(hP.Uf==-2){hP.Uf=-1;var o=document.createElement("script");
o.src="//apis.google.com/js/client.js";document.body.appendChild(o);o.onload=function(Y){setTimeout(function(){hP.Uf=0;
hP.Oo()},100)}}if(hP.Uf==-1)return;if(hP.Uf==1)return;if(hP.mZ.expires_at>Date.now()*.001+30){while(hP.H1.length>0)hP.H1.pop()()}else{if(hP.Uf==0)hP.Uf=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:hP.Uf==2?!1:!0},hP.agk)})}};
hP.agk=function(K){if(K&&!K.error){hP.mZ=K;hP.Uf=!1;hP.Oo()}else if(hP.Uf==1){hP.Uf=2;hP.Oo()}else alert("Error: "+K.error)};
hP.GP=function(){return"access_token="+hP.mZ.access_token+"&token_type="+hP.mZ.token_type};hP.Hf=function(){return hP.mZ.token_type+" "+hP.mZ.access_token};
function jc(K,o){if(!K)K=0;if(!o)o=0;this.x=K;this.y=o}jc.prototype.add=function(K){return new jc(this.x+K.x,this.y+K.y)};
jc.prototype.clone=function(){return new jc(this.x,this.y)};jc.prototype.Zv=function(K){this.x=K.x;this.y=K.y};
jc.prototype.BV=function(K){return this.x==K.x&&this.y==K.y};jc.prototype.normalize=function(K){var o=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=K/o;this.y*=K/o};jc.prototype.offset=function(K,o){this.x+=K;this.y+=o};jc.prototype.Ex=function(K,o){this.x=K;
this.y=o};jc.prototype.km=function(K){return new jc(this.x-K.x,this.y-K.y)};jc.si=function(K,o){return jc.anb(K.x,K.y,o.x,o.y)};
jc.gH=function(K,o,Y){return new jc(K.x+Y*(o.x-K.x),K.y+Y*(o.y-K.y))};jc.av4=function(K,o){return new jc(K*Math.cos(o),K*Math.sin(o))};
jc.anb=function(K,o,Y,c){return Math.sqrt((Y-K)*(Y-K)+(c-o)*(c-o))};jc.or={};jc.S9={};jc.or.create=function(){var K=new Float32Array(4);
return K};jc.S9.create=function(K){var o=new Float32Array(16);o[0]=o[5]=o[10]=o[15]=1;if(K)jc.S9.set(K,o);
return o};jc.or.add=function(K,o,Y){Y[0]=K[0]+o[0];Y[1]=K[1]+o[1];Y[2]=K[2]+o[2];Y[3]=K[3]+o[3]};jc.or.set=function(K,o){o[0]=K[0];
o[1]=K[1];o[2]=K[2];o[3]=K[3]};jc.S9.set=function(K,o){o[0]=K[0];o[1]=K[1];o[2]=K[2];o[3]=K[3];o[4]=K[4];
o[5]=K[5];o[6]=K[6];o[7]=K[7];o[8]=K[8];o[9]=K[9];o[10]=K[10];o[11]=K[11];o[12]=K[12];o[13]=K[13];o[14]=K[14];
o[15]=K[15]};jc.S9.multiply=function(K,o,Y){var c=K[0],z=K[1],f=K[2],$=K[3],E=K[4],b=K[5],q=K[6],O=K[7],j=K[8],A=K[9],R=K[10],g=K[11],H=K[12],i=K[13],h=K[14],x=K[15],F=o[0],X=o[1],V=o[2],U=o[3];
Y[0]=F*c+X*E+V*j+U*H;Y[1]=F*z+X*b+V*A+U*i;Y[2]=F*f+X*q+V*R+U*h;Y[3]=F*$+X*O+V*g+U*x;F=o[4];X=o[5];V=o[6];
U=o[7];Y[4]=F*c+X*E+V*j+U*H;Y[5]=F*z+X*b+V*A+U*i;Y[6]=F*f+X*q+V*R+U*h;Y[7]=F*$+X*O+V*g+U*x;F=o[8];X=o[9];
V=o[10];U=o[11];Y[8]=F*c+X*E+V*j+U*H;Y[9]=F*z+X*b+V*A+U*i;Y[10]=F*f+X*q+V*R+U*h;Y[11]=F*$+X*O+V*g+U*x;
F=o[12];X=o[13];V=o[14];U=o[15];Y[12]=F*c+X*E+V*j+U*H;Y[13]=F*z+X*b+V*A+U*i;Y[14]=F*f+X*q+V*R+U*h;Y[15]=F*$+X*O+V*g+U*x;
return Y};jc.S9.inverse=function(K,o){var Y=K[0],c=K[1],z=K[2],f=K[3],$=K[4],E=K[5],b=K[6],q=K[7],O=K[8],j=K[9],A=K[10],R=K[11],g=K[12],H=K[13],i=K[14],h=K[15],x=Y*E-c*$,F=Y*b-z*$,X=Y*q-f*$,V=c*b-z*E,U=c*q-f*E,Z=z*q-f*b,T=O*H-j*g,v=O*i-A*g,P=O*h-R*g,p=j*i-A*H,a=j*h-R*H,D=A*h-R*i,n=x*D-F*a+X*p+V*P-U*v+Z*T;
if(!n){return null}n=1/n;o[0]=(E*D-b*a+q*p)*n;o[1]=(z*a-c*D-f*p)*n;o[2]=(H*Z-i*U+h*V)*n;o[3]=(A*U-j*Z-R*V)*n;
o[4]=(b*P-$*D-q*v)*n;o[5]=(Y*D-z*P+f*v)*n;o[6]=(i*X-g*Z-h*F)*n;o[7]=(O*Z-A*X+R*F)*n;o[8]=($*a-E*P+q*T)*n;
o[9]=(c*P-Y*a-f*T)*n;o[10]=(g*U-H*X+h*x)*n;o[11]=(j*X-O*U-R*x)*n;o[12]=(E*v-$*p-b*T)*n;o[13]=(Y*p-c*v+z*T)*n;
o[14]=(H*F-g*V-i*x)*n;o[15]=(O*V-j*F+A*x)*n;return o};jc.S9.aiY=function(K,o,Y){var c=o[0],z=o[1];Y[0]=c*K[0]+z*K[4]+K[12];
Y[1]=c*K[1]+z*K[5]+K[13]};jc.S9.apn=function(K,o,Y){var c=o[0],z=o[1],f=o[2],$=o[3];Y[0]=K[0]*c+K[4]*z+K[8]*f+K[12]*$;
Y[1]=K[1]*c+K[5]*z+K[9]*f+K[13]*$;Y[2]=K[2]*c+K[6]*z+K[10]*f+K[14]*$;Y[3]=K[3]*c+K[7]*z+K[11]*f+K[15]*$};
function hD(K,o,Y,c){if(!K)K=0;if(!o)o=0;if(!Y)Y=0;if(!c)c=0;this.x=K;this.y=o;this.m=Y;this.e=c}hD.prototype.Z=function(){return this.m*this.e};
hD.prototype.clone=function(){return new hD(this.x,this.y,this.m,this.e)};hD.prototype.contains=function(K,o){return K>=this.x&&K<=this.x+this.m&&(o>=this.y&&o<=this.y+this.e)};
hD.prototype.Tz=function(K){return this.contains(K.x,K.y)};hD.prototype.wH=function(K){return this.x<=K.x&&this.y<=K.y&&K.x+K.m<=this.x+this.m&&K.y+K.e<=this.y+this.e};
hD.prototype.Zv=function(K){this.x=K.x;this.y=K.y;this.m=K.m;this.e=K.e};hD.prototype.BV=function(K){return this.x==K.x&&this.y==K.y&&this.m==K.m&&this.e==K.e};
hD.prototype.VC=function(K,o){this.x-=K;this.y-=o;this.m+=2*K;this.e+=2*o};hD.prototype.aos=function(K){this.VC(K.x,K.y)};
hD.prototype.wu=function(K){var o=Math.max(this.x,K.x),Y=Math.max(this.y,K.y),c=Math.min(this.x+this.m,K.x+K.m),z=Math.min(this.y+this.e,K.y+K.e);
if(c<o||z<Y)return new hD;else return new hD(o,Y,c-o,z-Y)};hD.prototype.wR=function(K){if(K.y+K.e<this.y||K.x>this.x+this.m||K.y>this.y+this.e||K.x+K.m<this.x)return!1;
return!0};hD.prototype.xf=function(){return this.m<=0||this.e<=0};hD.prototype.offset=function(K,o){this.x+=K;
this.y+=o};hD.prototype.Em=function(K){this.offset(K.x,K.y)};hD.prototype.amr=function(){this.x=this.y=this.m=this.e=0};
hD.prototype.Ex=function(K,o,Y,c){this.x=K;this.y=o;this.m=Y;this.e=c};hD.prototype.Bb=function(K){if(this.xf())return K.clone();
if(K.xf())return this.clone();var o=this.clone();o.aze(K);return o};hD.yb=new Float32Array(2);hD.prototype.aze=function(K){if(K.xf())return;
if(this.xf()){this.Zv(K);return}this.I5(K.x,K.y);this.I5(K.x+K.m,K.y+K.e)};hD.prototype.I5=function(K,o){var Y=Math.min(this.x,K),c=Math.min(this.y,o);
this.m=Math.max(this.x+this.m,K)-Y;this.e=Math.max(this.y+this.e,o)-c;this.x=Y;this.y=c};hD.prototype.a63=function(K,o){this.x=K;
this.y=o;this.m=this.e=0};function dF(K,o,Y,c,z,f){if(typeof K==="undefined"){K=1;o=0;Y=0;c=1;z=0;f=0}this.g=K;
this.J=o;this.b0=Y;this.gG=c;this.B3=z;this.Z7=f}dF.prototype._8=function(){return Math.sqrt(Math.abs(this.g*this.gG-this.J*this.b0))};
dF.prototype.ao6=function(){var K=this,o=function(Y){return Math.abs(Y)<1e-9?0:Y};K.g=o(K.g);K.J=o(K.J);
K.b0=o(K.b0);K.gG=o(K.gG);K.B3=o(K.B3);K.Z7=o(K.Z7)};dF.prototype.qc=function(K){return new jc(K.x*this.g+K.y*this.b0+this.B3,K.x*this.J+K.y*this.gG+this.Z7)};
dF.prototype.translate=function(K,o){this.B3+=K;this.Z7+=o};dF.prototype.rotate=function(K){var o=new dF(Math.cos(K),-Math.sin(K),Math.sin(K),Math.cos(K),0,0);
this.concat(o)};dF.prototype.scale=function(K,o){var Y=new dF(K,0,0,o,0,0);this.concat(Y)};dF.prototype.concat=function(K){this.Zv(new dF(this.g*K.g+this.J*K.b0,this.g*K.J+this.J*K.gG,this.b0*K.g+this.gG*K.b0,this.b0*K.J+this.gG*K.gG,this.B3*K.g+this.Z7*K.b0+K.B3,this.B3*K.J+this.Z7*K.gG+K.Z7))};
dF.prototype.oD=function(){var K=this.g*this.gG-this.J*this.b0;this.Zv(new dF(this.gG/K,-this.J/K,-this.b0/K,this.g/K,(this.b0*this.Z7-this.gG*this.B3)/K,(this.J*this.B3-this.g*this.Z7)/K))};
dF.prototype.clone=function(){return new dF(this.g,this.J,this.b0,this.gG,this.B3,this.Z7)};dF.prototype.Zv=function(K){this.g=K.g;
this.J=K.J;this.b0=K.b0;this.gG=K.gG;this.B3=K.B3;this.Z7=K.Z7};function fv(){}fv.Et={anu:"PNG JPG SVG GIF MP4 PDF".split(" "),a9h:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
fv.g$=function(K,o){var Y=K.memory.buffer.byteLength;if(Y<o)K.memory.grow((o-Y>>>16)+1)};fv.ZK={S1:function(K,o){fetch(K).then(function(Y){return Y.arrayBuffer()}).then(function(Y){var c=new Uint8Array(Y),z=0,b="";
if(o){z=c.length;var f={level:9},$=pako.deflateRaw(c,f),E=UZIP.deflateRaw(c,f);console.log(z,$.length,E.length);
c=$.length<E.length?$:E}for(var y=0;y<c.length;y++)b+=String.fromCharCode(c[y]);var q=btoa(b);console.log(JSON.stringify([z,q]))})},get:function(K,o){var Y=BINDB[K],c=Date.now(),z=atob(Y[1]),f=z.length,$=new Uint8Array(f);
for(var y=0;y<f;y++)$[y]=z.charCodeAt(y);if(Y[0]!=0){var E=new Uint8Array(Y[0]);UZIP.inflateRaw($,E);
$=E}if(o){var b=fv.sR($.buffer);$=fv.WD(b).MW($.buffer)}return $}};fv.sR=function(K){if(!(K instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var o=new Uint8Array(K),Y=fv.Pj,c,z=0,f=o.length-1;
if(Y(o,[239,187,191]))z=3;while(z<o.length&&(o[z]==9||o[z]==10||o[z]==13||o[z]==32))z++;while(f!=0&&(o[f]==9||o[f]==10||o[f]==13||o[f]==32))f--;
if(Y(o,[56,66,80,83]))c="psd";if(Y(o,[6,6,237,245]))c="indd";if(Y(o,[68,73,67,77],128))c="dcm";if(Y(o,[102,116,121,112,109,105,102,49],4)||Y(o,[102,116,121,112,97,118,105,102],4))c="avif";
if(Y(o,[102,116,121,112,105,115,111,109],4))c="mp4";if(Y(o,[102,116,121,112,109,112,52,50],4))c="mp4";
if(Y(o,[102,116,121,112,113,116,32,32],4))c="mp4";if(Y(o,[0,255,75,65]))c="afphoto";if(Y(o,[67,83,70,67,72,85,78,75]))c="clip";
if(Y(o,[70,82,65,67]))c="frac";if(Y(o,[120]))c="pxd";if(Y(o,[80,68,78,51]))c="pdn";if(Y(o,[103,105,109,112,32,120,99,102,32]))c="xcf";
if(Y(o,[102,105,103,45,107,105,119,105]))c="fig";if(Y(o,[105,99,110,115]))c="icns";if(Y(o,[137,80,78,71,13,10,26,10])){c="png";
var $=8;while($<o.length){var E=_.s(o,$);$+=4;var b=_.H9(o,$,4);$+=4;if(b=="mkTS")c="fpng";$+=E+4}}if(Y(o,[87,76]))c="cdr";
if(Y(o,[82,73,70,70])){var q=bN.qz(o),O=q.OV;if(O=="WEBP")c="webp";else if(O.slice(0,3)=="CDR")c="cdr";
else c=O}if(Y(o,[70,79,82,77])||Y(o,[70,79,82,52])||Y(o,[76,73,83,84])||Y(o,[67,65,84,32])){var q=hh.qz(o),O=q.OV;
if(O=="ILBM"||O=="CIMG"||O=="ANIM")c="ilbm";else c=O}if(Y(o,[255,216,255]))c="jpg";if(Y(o,[0,0,0,12,106,80,32,32]))c="jpg";
if(Y(o,[48,0,1,0],4))c="jb2";if(Y(o,[71,73,70,56]))c="gif";if(Y(o,[0,0,0,2,121,102,113,76]))c="msh";
if(Y(o,[0,0,0,3,121,102,113,76]))c="msh";if(Y(o,[0,0,0,16]))c="atn";if(Y(o,[0,1]))c="aco";if(Y(o,[0,2]))c="aco";
if(Y(o,[65,83,69,70]))c="aco";if([0,1].indexOf(o[1])!=-1&&[1,2,3,9,10,11].indexOf(o[2])!=-1&&[0,16,24,32].indexOf(o[7])!=-1)c="tga";
if(Y(o,[0,2,56,66,83,76]))c="asl";if(Y(o,[0,1,0,-1,0,2,0]))c="abr";if(Y(o,[0,2,0,-1,0,2,0]))c="abr";
if(Y(o,[0,6,0,1]))c="abr";if(Y(o,[0,6,0,2]))c="abr";if(Y(o,[0,7,0,2]))c="abr";if(Y(o,[0,9,0,2]))c="abr";
if(Y(o,[0,10,0,2]))c="abr";if(Y(o,[56,66,70,83]))c="shc";if(Y(o,[56,66,80,84]))c="pat";if(Y(o,[56,66,71,82]))c="grd";
if(Y(o,[71,73,77,80,32,71,114,97]))c="grd";if(Y(o,[56,66,84,80]))c="tpl";if(Y(o,[0,4,0,5]))c="acv";if(Y(o,[99,117,115,104]))c="csh";
if(Y(o,[0,1,0,0,0]))c="otf";if(Y(o,[79,84,84,79]))c="otf";if(Y(o,[116,116,99,102]))c="otf";if(Y(o,[68,68,83,32]))c="dds";
if(Y(o,[80,86,82,3]))c="pvr";if(Y(o,[86,84,70,0]))c="vtf";if(Y(o,[83,73,77,80]))c="fits";if((Y(o,[0,0,1,0])||Y(o,[0,0,2,0]))&&o[4]!=0)c="ico";
if(Y(o,[66,77]))c="bmp";if(Y(o,[40,0,0,0]))c="bmp";if(Y(o,[80,49]))c="ppm";if(Y(o,[80,50]))c="ppm";if(Y(o,[80,51]))c="ppm";
if(Y(o,[80,52]))c="ppm";if(Y(o,[80,53]))c="ppm";if(Y(o,[80,54]))c="ppm";if(Y(o,[73,73,42,0]))c="tiff";
if(Y(o,[77,77,0,42]))c="tiff";if(Y(o,[73,73,85,0]))c="tiff";if(Y(o,[73,73,82,83]))c="tiff";if(Y(o,[73,73,82,79]))c="tiff";
if(Y(o,[70,85,74,73,70,73,76,77]))c="raf";if(Y(o,[112]))c="lif";if(Y(o,[73,73,26,0]))c="ciff";if(Y(o,[83,81,76,105]))c="sketch";
if(Y(o,[80,75])){var j=UZIP.parse(K,!0);if(j["document.json"])c="sketch";else if(j.manifest)c="xd";else if(j["maindoc.xml"])c="kra";
else if(j["content/root.dat"])c="cdr";else if(j["canvas.fig"])c="fig";else if(j["manifest.json"])c="pxz";
else c="zip"}if(Y(o,[123]))c="json";if(_.s(o,0)==o.length)c="icc";if(Y(o,[35]))c="icc";if(Y(o,[84,73,84,76],z))c="icc";
if(Y(o,[76,85,84,95],z))c="icc";if(Y(o,[60,63,120,109],z)){if(_.oR(o,"<look>")!=-1)c="icc";else c="svg"}if(Y(o,[255,254,60,0],z))c="svg";
if(Y(o,[60,115,118,103],z))c="svg";if(Y(o,[60,33,100,111],z)||Y(o,[60,33,68,79],z)||Y(o,[60,33,45,45],z)){if(_.oR(o,"<svg")!=-1)c="svg";
else c="html"}if(Y(o,[37,33])||Y(o,[197,208,211,198])){if(_.oR(o,"%AI9_PrivateDataBegin")!=-1||_.oR(o,"%AI5_BeginLayer")!=-1)c="ai";
else c="eps"}if(Y(o,[37,80,68,70],z)){var A=_.oR(o,"/AIMetaData ");if(A!=-1){if(_.oR(o,">>/Encrypt ",A)!=-1)c="pdf";
else c="ai"}else c="pdf"}else if(Y(o,[10,69,79,70],f-3))c="dxf";if(Y(o,[1,0,9,0]))c="wmf";if(Y(o,[215,205,198,154]))c="wmf";
if(Y(o,[1,0,0,0]))c="emf";if(Y(o,[118,47,49,1]))c="exr";if(Y(o,[10,10,10,10]))c="jsx";if(Y(o,[77,90]))c="exe";
if(c==null&&d.raw.Ge(o.length)!=null)return"tiff";return c};fv.Pj=function(K,o,Y){if(Y==null)Y=0;for(var y=0;
y<o.length;y++)if(o[y]!=-1&&K[Y+y]!=o[y])return!1;return!0};fv.WD=function(K){var o={BMP:fv.arE,CDR:fv.YB,DDS:fv.TH,EMF:fv.QY,DXF:fv.HF,EPS:fv.Qg,FIG:fv.EX,FPNG:fv.V3,INDD:fv.kv,GIF:fv.l$,ICO:fv.tX,ILBM:fv.eh,FITS:fv.wY,EXR:fv.Rd,JPG:fv.iO,LIF:fv.aB,DCM:fv.ah$,PDF:fv.Xc,PDN:fv.G$,PNG:fv.K8,ICNS:fv.a8,PPM:fv.hQ,PSD:fv.US,PXD:fv.E$,PXZ:fv.FD,RAF:fv.e_,RAW:fv.g9,SKETCH:fv.ot,SVG:fv.hf,TGA:fv.kE,AVIF:fv.ahq,TIFF:fv.tW,VTF:fv.ae,WEBP:fv.wi,WMF:fv.FU,XCF:fv.qU,XD:fv.SL,KRA:fv.bS,EXE:fv.Bg,AI:fv.iD,AFPHOTO:fv.Yx,CLIP:fv.rg,FRAC:fv.Og,MP4:fv.ct};
return o[K.toUpperCase()]};fv.L7=function(y){var K=fv.Et.anu,o=fv.Et.a9h,Y,c=[];if(y==null)Y=K.concat(o);
else Y=y==0?K:o;for(var y=0;y<Y.length;y++)if(fv.WD(Y[y]).vc)c.push(Y[y]);return c};fv.aaG=function(){var K;
function o(c){var z=c.target,f=z.width,$=z.height,E=document.createElement("canvas");E.width=f;E.height=$;
var b=E.getContext("2d");b.drawImage(z,0,0);K({eQ:new hD(0,0,f,$),data:b.getImageData(0,0,f,$).data.buffer})}function Y(c,z,f){K=f;
var $=document.createElement("img");$.onload=o;$.src="data:"+z+";base64,"+fv.zj(c)}return Y}();fv.IH=function(K,o,Y,c,z){var f=fv.lZ(K,o,Y,c,z),$=fv.rh(f);
return $.buffer};fv.rh=function(K){var o=atob(K.split(",").pop()),Y=new Uint8Array(o.length);for(var y=0;
y<o.length;y++)Y[y]=o.charCodeAt(y);return Y};fv.lZ=function(K,o,Y,c,z,f){if(!(K instanceof ArrayBuffer))throw"e";
if(c==null)c="png";if(c=="png"&&f==!0){var $=fv.WD("PNG").vc([[K,0]],o,Y);return"data:image/png;base64,"+fv.zj($)}var E=fv.bb;
if(E==null)E=fv.bb=document.createElement("canvas");if(E.width!=o||E.height!=Y){E.width=o;E.height=Y}var b=E.getContext("2d"),q=new ImageData(new Uint8ClampedArray(K,0,o*Y*4),o,Y);
b.putImageData(q,0,0);return E.toDataURL("image/"+c,z)};fv.ahJ=function(K,o,Y,c,z){if(z==null)z=0;var f="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",$="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+f+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(K==1)$+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
$+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+z+")\" xlink:href=\""+o+"\" x=\""+80*Y+"\" y=\""+80*c+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var E=new Uint8Array($.length);_.dI($,E,0);var b="data:image/svg+xml;base64,"+fv.zj(E.buffer);return{Ol:b,oJ:new hD(0,0,128,128),Gf:new jc(64,64)}};
fv.zj=function(K){var o=new Uint8Array(K),Y="";for(var y=0;y<o.length;y++)Y+=String.fromCharCode(o[y]);
return btoa(Y)};fv.iX=function(K){var o=atob(K),Y=o.length,c=new Uint8Array(Y);for(var y=0;y<Y;y++)c[y]=o.charCodeAt(y);
return c.buffer};fv.Ae=function(K){var o=[],Y=[];for(var y=0;y<K.B.length;y++){var c=K.B[y];if(c.getName().slice(0,3)=="_a_"){o.push(y);
Y.push(c.KL())}}return[o,Y]};fv.lU=function(K,o,Y,c,z,f){if(Y==null)Y=K.m;if(c==null)c=K.e;var $=new hD(0,0,K.m,K.e),E=new dF(Y/(K.m+.001),0,0,c/(K.e+.001),0,0),q;
o=o.toUpperCase();var b=fv.WD(o);if(b.MS){if(g1==0)K.Gl();q=b.vc(K,Y,c,z,f)}else if(g1==1){var O=K.azG(Y,c,f);
q=b.vc([[O,0,K.aE,K.Ou]],Y,c,z)}else{if(z)z=z.slice(0);var j=fv.Ae(K),A=j[0],R=j[1],g=K.ie(),H=g&&z?z.pop():!1,i=g&&!H?g[0]:null,h=null;
if(K.Kl.length!=0){h=[];for(var y=0;y<K.Kl.length;y++)h.push(K.Kl[y].dQ($))}if(A.length<2){var x=fv.Hi(K.Gl(),g,H,K),F;
if(Y==K.m&&c==K.e)F=x.buffer;else{var X=m.OB.Z6([x,$],E);F=X.buffer.buffer;if(h){var V=d.R($.Z()*4);
for(var y=0;y<h.length;y++){d.cb(h[y],V,3);var X=m.OB.Z6([V,$],E),U=h[y]=d.R(X.rect.Z());d.JI(X.buffer,U,3)}}}q=b.vc([[F,0,K.aE,K.Ou,h,i]],Y,c,z)}else{var Z=[];
for(var y=0;y<A.length;y++){var T=A[y],F;for(var v=0;v<A.length;v++)K.B[A[v]].dt(A[v]==T);K.Sm();K.W();
K.Uj();if(Y==K.m&&c==K.e)F=K.Gl().buffer.slice(0);else{var X=m.OB.Z6([K.Gl(),$],E);F=X.buffer.buffer}F=fv.Hi(new Uint8Array(F),g,H,K).buffer;
var P=K.B[T].getName().split(",");Z.push([F,P[1]?parseInt(P[1]):100,K.aE,K.Ou,h,i])}for(var y=0;y<A.length;
y++)K.B[A[y]].dt(R[y]);K.W();K.Uj();if(z){z.push(100);var p=z.length,a=z[p-3],D=z[p-2],n=z[p-5]/100,N=z[p-1]/100;
if(n!=1)for(var y=0;y<Z.length;y++)Z[y][1]=Math.round((Z[y][1]==0?16:Z[y][1])/n);if(N<1){var W=0,G=[],e=0,v=0;
for(var y=0;y<Z.length;++y){W+=Z[y][1];if(y>0){G.push(G[G.length-1]+Z[y-1][1])}else{G.push(0)}}var l=N*Z.length,u=W/l,M=[];
for(var y=0;y<l;++y){var B=0;while(e>G[v]&&v+1<Z.length){B+=Z[v][1];++v}if(B!=0){var s=Math.round(Math.min(1,(G[v]-e)/Z[v][1])*B);
M[M.length-1][1]+=B-s;if(Z[v][1]<Z[v-1][1]/2){M.push(Z[v-1])}else{M.push(Z[v])}M[M.length-1][1]=Z[v][1]+s}else if(v<Z.length){M.push(Z[v])}e+=u;
++v}while(v<Z.length){M[M.length-1][1]+=Z[v][1];++v}Z=M}if(a)Z.reverse();if(D){var t=Z.slice(1,Z.length-1);
t.reverse();Z=Z.concat(t)}}q=b.vc(Z,Y,c,z)}}return q};fv.Hi=function(K,o,Y,c){var z=c.QI();if(Y){K=K.slice(0);
ICC.U.applyLUT(o[3],o[2],K,K)}else if(z&&c.add.fcmy==1){K=K.slice(0);ICC.U.applyLUT(z[c.add.fcmy==1?5:3],z[2],K,K)}return K};
fv.auk=function(K,o){var Y=new Uint8Array(K.data),c=new Uint8Array(o.data),z=0,f=0;for(var $=0;$<Y.length;
$+=4){var E=Y[$]-c[$],b=Y[$+1]-c[$+1],q=Y[$+2]-c[$+2],O=Y[$+3]-c[$+3],j=E*E+b*b+q*q+O*O>>>2;z+=j;if(j>25)f++}var A=f/K.eQ.Z()<1e-4;
return A};fv.w_=function(K,o){var Y=o[0].ux&&o[0].ux.startsWith("_a_"),c;if(Y&&!1){var z=0,f=o.length;
for(var y=0;y<o.length-1;y++){var $=o[y],E=o[y+1],b=fv.auk($,E);if(b){var q=parseFloat($.ux.split(",").pop()),O=parseFloat(E.ux.split(",").pop());
$.ux=$.ux.split(",")[0]+","+Math.round(q+O);o.splice(y+1,1);y--;z++}}if(z!=0){alert("Deleted "+z+" frames out of "+f+".");
for(var y=0;y<o.length;y++){var j=o[y],A=j.ux;j.ux="_a_frm"+y+","+A.split(",")[1]}}}var R=new h7(K+"."+["psd","ai"][g1]),g=new hD(0,0,1,1);
if(Y){c=R.Uu();c.add.lsct=eo.bl;c.vd(K);c.YF="pass";c.Gh=24;c.dt(!0);R.B.push(R.uR())}for(var y=0;y<o.length;
y++){var H=o[y];g=g.Bb(H.eQ);var i=R.Uu();i.dt(y==0);i.vd(o.length==1?"Background":"Layer "+y);if(y==0&&H.aE)R.aE=H.aE;
if(y==0&&H.Ou)R.Ou=H.Ou;if(H.ux)i.vd(H.ux);if(H.FN)for(var y=0;y<H.FN.length;y++){var h=H.FN[y],x=h7.G6(h[0]);
x.add.vmsk.$=h[1];d.j.k3(h[1],new dF(g.m,0,0,g.e,0,0));R.V9.push(x)}if(H.xS)R.xS=H.xS;i.rect=H.eQ.clone();
i.buffer=new Uint8Array(H.data);if(y==0&&H.Fa)R.$i(H.Fa);d.zy(i);R.B.push(i)}if(Y)R.B.push(c);if(o[0].Kl){for(var y=0;
y<o[0].Kl.length;y++){var F=new S.tp;R.Kl.push(F);F.rect=o[0].eQ.clone();F.channel=o[0].Kl[y]}}R.Y=[Y?R.B.length-1:0];
R.m=g.m;R.e=g.e;if(g1==0)R.buffer=d.R(g.Z()*4);R.W();return R};fv.KJ=function(K,o,Y){var c=K.length-Y,z=new Uint8Array(c);
for(var y=0;y<o;y++)z[y]=K[y];for(var y=o;y<c;y++)z[y]=K[y+Y];return z};fv.aui=function(K,o,Y,c,z,f,$,E,b){var q=new h1(w.E.U,!0);
q.f=m.s5;q.data={d:"h_stepbck"};var O={};for(var j=1;j<Y.length;j++){var A=K.Y.slice(0),R=fv.e2(K,b,o,Y,c,j),g="img"+j,H=Y[0].indexOf($);
if($!=""){if(H==-1)alert("Column "+$+" not found.");else g=Y[j][H]}O[g+"."+z.toLowerCase()]=new Uint8Array(fv.lU(K,z,null,null,f,E));
for(var y=0;y<R;y++)b.c(q)}return UZIP.encode(O)};fv.e2=function(K,o,Y,c,z,f){var $=new h1(w.E.L,!0),q=0;
$.data={d:w.I.nu};var E=new h1(w.E.U,!0);E.f=m._V;E.data={d:S.fC,EZ:{buffer:null,rect:null}};var b=E.data.EZ;
for(var O=0;O<Y.length;O++){var j=Y[O],R=j.trait,g=parseInt(j.docRef.slice(4,-2)),H=-1;for(var y=0;y<K.B.length;
y++)if(K.B[y].add.lyid==g)H=y;if(H==-1)continue;var i=c[0].indexOf(j.varName);if(i==-1){alert("Column "+j.varName+" is missing");
return}var h=c[f][i],x=K.B[H];K.Y=[H];if(R=="textcontent"){$.data.il="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(h)+";";
o.c($);q++}if(R=="visibility"&&x.KL()+""!=h.toLowerCase()){h=h.trim().toLowerCase();if(h!="true"&&h!="false")h=h==""?"false":"true";
$.data.il="app.activeDocument.activeLayer.visible = "+h+";";o.c($);q++}if(R=="fileref"){var F=h.split("/").pop(),X=null;
for(var h4 in z)if(h4.split("/").pop()==F)X=z[h4];if(X==null){alert("Image "+F+" is missing.")}else{var V=fv.WD(fv.sR(X.buffer)).MW(X.buffer)[0],U=V.eQ,Z=x.rect,p=0,a=0;
if(x.add.SoLd){var T=m.OB.lA(x.add.SoLd.nonAffineTransform);Z=d.M.MN(T)}var v=Z.m/Z.e,P=U.m/U.e;if(v>P){a=Z.e;
p=~~(a*P)}else{p=Z.m;a=~~(p/P)}$.data.il="app.activeDocument.activeLayer.visible = false;";o.c($);q++;
var D=m.OB.Z6([new Uint8Array(V.data),U],new dF(p/U.m,0,0,a/U.e,0,0));b.rect=D.rect;b.buffer=D.buffer;
D.rect.x=Z.x+(Z.m-p>>>1);D.rect.y=Z.y+(Z.e-a>>>1);o.c(E);q++}}}return q};fv.K8={};fv.K8.vc=function(K,o,Y,c){if(c==null)c=[100,!1,0,0,0];
var z={sRGB:1,loop:c[3]};if(K[0][5]!=null){delete z.sRGB;z.iCCP=K[0][5]}if(K[0][2]!=null){var f=Math.round(K[0][2]*(1e4/254));
z.pHYs=[f,f,1]}var $=c[0],E=$==100?0:Math.max(2,Math.floor($*5));if(E==5)E=4;var b=[],q=[];for(var y=0;
y<K.length;y++){b.push(K[y][0]);q.push(K[y][1])}var O=UPNG.encode(b,o,Y,E,q,z,c[1]);return O};fv.K8.azW=function(K,o,Y){return UPNG.encodeLL([K],o,Y,3,1,8)};
fv.K8.MW=function(K){var o=Date.now(),Y=UPNG.decode(K),c=UPNG.toRGBA8(Y),z=Y.width,f=Y.height,$=0,E=Y.tabs.iCCP;
if(Y.tabs.pHYs)$=Math.round(Y.tabs.pHYs[0]*254/1e4);if(c.length==1)return[{eQ:new hD(0,0,z,f),data:c[0],aE:$,Fa:E}];
var b=[];for(var y=0;y<c.length;y++){b.push({ux:"_a_frm"+y+","+Y.frames[y].delay,eQ:new hD(0,0,z,f),data:c[y],aE:$,Fa:E})}return b};
fv.hQ={};fv.hQ.vc=function(K,o,Y,c){var z=new Uint8Array(K[0][0]),f=o*Y,$=f*3,E="P6\n"+o+" "+Y+"\n255\n",b=E.length,q=d.R(b+$,!0);
for(var y=0;y<b;y++)q[y]=E.charCodeAt(y);for(var y=0;y<f;y++){var O=y*4,j=y*3+b;q[j]=z[O];q[j+1]=z[O+1];
q[j+2]=z[O+2]}return q.buffer};fv.hQ.MW=function(K){K=new Uint8Array(K);var o=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],Y=0,c=String.fromCharCode(K[0])+String.fromCharCode(K[1]),z=[],f=0,$=c=="P1"||c=="P4"?2:3;
for(Y=2;Y<K.length;Y++){var E=K[Y],b=String.fromCharCode(E);if(E=="#".charCodeAt(0)){while(K[Y]!="\n".charCodeAt(0))Y++;
continue}var q=o.indexOf(E)!=-1;if(f==0&&!q){z.push(b);f=1;continue}if(f==1&&!q){z[z.length-1]+=b;continue}if(f==1&&q){f=0;
if(z.length==$)break;continue}}var O=parseInt(z[0]),j=parseInt(z[1]),A=O*j*4,R=c=="P1"||c=="P4"?1:255/parseInt(z[2]),g=d.R(A);
if(c=="P1"||c=="P2"||c=="P3"){var H="",i=0,f=0,h="#".charCodeAt(0);for(var y=Y;y<K.length;y++){var E=K[y],b=String.fromCharCode(E),q=o.indexOf(E)!=-1;
if(E==h){while(K[y]!="\n".charCodeAt(0))y++}else if(f==0&&!q){H=b;f=1}else if(f==1){if(q){f=0;var x=parseInt(H);
H="";if(c=="P1"){g[i]=g[i+1]=g[i+2]=(1-x)*255;g[i+3]=255;i+=4}if(c=="P2"){g[i]=g[i+1]=g[i+2]=Math.round(x*R);
g[i+3]=255;i+=4}if(c=="P3"){g[i]=Math.round(x*R);i++;if((i&3)==3){g[i]=255;i++}}}else H+=b}}}var F=O*j;
if(c=="P4")for(var X=0;X<j;X++){var V=X*8*Math.ceil(O/8);for(var U=0;U<O;U++){var y=V+U,Z=K[Y+1+(y>>3)];
Z=Z>>7-(y&7)&1;var T=X*O+U<<2;g[T]=g[T+1]=g[T+2]=(1-Z)*255;g[T+3]=255}}if(c=="P5")for(var y=0;y<F;y++){var T=4*y;
g[T]=g[T+1]=g[T+2]=Math.round(K[Y+1+y]*R);g[T+3]=255}if(c=="P6")for(var y=0;y<F;y++){var T=4*y,v=Y+1+3*y;
g[T]=Math.round(K[v]*R);g[T+1]=Math.round(K[v+1]*R);g[T+2]=Math.round(K[v+2]*R);g[T+3]=255}return[{eQ:new hD(0,0,O,j),data:g.buffer}]};
fv.TH={};fv.TH.vc=function(K,o,Y,c){if(c==null)c=[0,!0];if(typeof c[0]=="boolean")c[0]=0;var z=new Uint8Array(K[0][0]);
if(!d.X1(z)&&K[0][4]){z=z.slice(0);d.cb(K[0][4][0],z,3)}var f=o&3,$=Y&3;if(f!=0||$!=0){var E=o+(f==0?0:4-f),b=Y+($==0?0:4-$),q=new Uint8Array(E*b*4);
d.nz(q,4278190080);d.iF(z,new hD(0,0,o,Y),q,new hD(0,0,E,b));z=q;o=E;Y=b}var O=UTEX.DDS.encode(z.buffer,o,Y,c);
if(!1){var j=UTEX.DDS.decode(O)[0],q=new Uint8Array(j.W3),A=0;for(var y=0;y<z.length;y++){var g=z[y]-q[y];
A+=g*g}console.log(A)}return O};fv.TH.MW=function(K){var o=UTEX.DDS.decode(K)[0];return[{eQ:new hD(0,0,o.width,o.height),data:o.image}]};
fv.ae={};fv.ae.MW=function(K){var o=UTEX.VTF.decode(K).pop();return[{eQ:new hD(0,0,o.width,o.height),data:o.image}]};
fv.iO={};fv.iO.Oc=null;fv.iO.a1k=function(K,o){var Y=fv.iO.Oc,c=K.byteLength,z=o.width,f=o.height,$=z*f,E=5e6+2*c+$*(o.progressive?Math.max(2,o.numComponents)*4+1:8),b=Y.instance.exports;
fv.g$(b,E);var q=new Uint8Array(b.memory.buffer),O=b.malloc(c);q.set(new Uint8Array(K),O);var j=b.malloc(4),A=b.malloc(4),h4=b.malloc(4),R=b.stbi_load_from_memory(O,c,j,A,h4,4);
b.free(O);b.free(j,A,h4);b.free(R);var g=q.slice(R,R+$*4);return g};(function(){var K=fv.ZK.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(K).then(function(o){fv.iO.Oc=o})}());fv.iO.vc=function(K,o,Y,c){if(c==null)c=[85];
var z=K[0],f=new Uint8Array(z[0]);if(d.X1(f)){var $=new Uint8Array(f.length),E=new hD(0,0,o,Y);d.nz($,4294967295);
d.l.To("norm",f,E,$,E,E,1);f=$}var b=new Uint8Array(fv.IH(f.buffer,o,Y,"jpeg",c[0]/100));if(b.length<2e4&&z[5]==null){var q=_.oR(b,[255,226]);
if(q!=-1){var O=_.vP(b,q+2);console.log(q,O);b=fv.KJ(b,q,O+2)}}if(z[5]!=null){var j=fv.iO.sk(b)[226][0]+2,A=_.vP(b,j),R=z[5].length+16,g=R-A,H=new Uint8Array(b.length+g);
for(var y=0;y<j+A;y++)H[y]=b[y];for(var y=j+A;y<b.length;y++)H[y+g]=b[y];_.Lx(H,j,R);H.set(z[5],j+16);
b=H}if(z[2]!=null){var i=fv.iO.sk(b)[224][0]+2;i+=9;b[i]=1;_.Lx(b,i+1,z[2]);_.Lx(b,i+3,z[2])}if(z[3]!=null&&c[1]==!0&&Object.keys(z[3]).length!=0){var h=0,x=0,F=0,X=fT.Xm(z[3]),V=new Uint8Array(UTIF.encode([X])),U="http://ns.adobe.com/xap/1.0/",j=20;
h=4+6+V.length;var Z=fT.yE(z[3]),T=_.tA(Z);x=4+U.length+1+T.length;var v=fT.a6o(z[3]);if(v.length!=0){var P=0,D=0;
for(var y=0;y<v.length;y++)P+=5+v[y][1].length;var p=P+(P&1),a=d.R(14+4+4+4+p);_.yH(a,D,"Photoshop 3.0");
D+=14;_.yH(a,D,"8BIM");D+=4;a[D++]=4;a[D++]=4;D+=2;_.oM(a,D,P);D+=4;for(var y=0;y<v.length;y++){var n=v[y],N=n[1];
a[D++]=28;a[D++]=2;a[D++]=n[0];_.Lx(a,D,N.length);D+=2;_.yH(a,D,N);D+=N.length}F=4+a.length}var W=h+x+F,G=new Uint8Array(b.length+W);
for(var y=0;y<20;y++)G[y]=b[y];for(var y=20;y<b.length;y++)G[y+W]=b[y];G[j]=255;G[j+1]=225;_.Lx(G,j+2,h-2);
_.yH(G,j+4,"Exif");for(var y=0;y<V.length;y++)G[j+10+y]=V[y];j+=h;G[j]=255;G[j+1]=225;_.Lx(G,j+2,x-2);
_.yH(G,j+4,U);for(var y=0;y<T.length;y++)G[j+4+U.length+1+y]=T[y];j+=x;if(F!=0){G[j]=255;G[j+1]=237;
_.Lx(G,j+2,F-2);for(var y=0;y<a.length;y++)G[j+4+y]=a[y];j+=F}b=G}return b.buffer};fv.iO.sk=function(K){var o=0,Y=[],c=K.length;
while(o<c){while(K[o]!=255&&o<c)o++;while(K[o]==255)o++;if(o==c)break;var z=K[o];o++;if(Y[z]==null)Y[z]=[];
Y[z].push(o-2);if(z==216)continue;if(z==217)break;if(224<=z&&z<=239||z==218||z==219||z==192||z==193||z==194||z==196||z==221||z==254){var f=_.vP(K,o);
o+=f;if(z==218)while(o<c&&(K[o]!=255||(K[o+1]==0||208<=K[o+1]&&K[o+1]<=215)))o++;continue}console.log("unknown marker ",z.toString(16),o);
break}if(Y[217]==null){console.log("EOI marker missing");var $=K.length-2;K[$]=255;K[$+1]=217;Y[217]=[$]}return Y};
fv.iO.aBY=function(K){K=new Uint8Array(K);if(K[0]!=255)return K.buffer;var o=fv.iO.sk(K),Y=fv.iO.J6(K,o);
if(Y.numComponents!=4)return K.buffer;var c=Y.width,z=Y.height,f=fv.iO.TN(K,o,!0);return fv.iO.vc([[f[0].data]],c,z,[85])};
fv.iO.J6=function(K,o){var Y=(o[192]?o[192]:o[193]?o[193]:o[194])[0]+4,c={};c.progressive=o[194]!=null;
c.precision=K[Y];Y++;c.height=_.vP(K,Y);Y+=2;c.width=_.vP(K,Y);Y+=2;c.numComponents=K[Y];Y++;if(o[224]){var z=c.jfif={};
Y=o[224][0]+2+2+5+2;z.densityUnits=K[Y];Y++;z.xDensity=_.vP(K,Y);Y+=2;z.yDensity=_.vP(K,Y);Y+=2}if(o[238]){var z=c.adobe={};
Y=o[238][0]+2+2+6;z.version=K[Y];Y++;z.flags0=_.vP(K,Y);Y+=2;z.flags1=_.vP(K,Y);Y+=2;z.transform=K[Y];
Y++}return c};fv.iO.ab$=function(K,o,Y){var c=o,z=_.vP(K,c);c+=2;var f=_.H9(K,c,4);if(f=="Exif"){c+=6;
var $=K.slice(c,c+z-8),E;try{E=UTIF.decode($.buffer,{parseMN:!1,debug:!1})}catch(es){}if(E&&E.length!=0)Y.exif=E}else if(f=="http"){var b=0;
while(K[c+b]!=0)b++;var q=_.H9(K,c,b);c+=b+1;if(q=="http://ns.adobe.com/xmp/extension/"){var O=_.H9(K,c,32);
c+=32;c+=8;var j=o+z-c;while(K[c+j-1]==0)j--;if(Y.xmp_extn==null)Y.xmp_extn="";try{Y.xmp_extn+=_.DI(K,c,j)}catch(es){}}else if(q=="http://ns.adobe.com/xap/1.0/"){var A=_.DI(K.slice(c,c+z-b-3));
if(A[0]=="?")A="<"+A;Y.xmp=A}}else console.log(f)};fv.iO.TN=function(K,o,Y){var c=fv.iO.J6(K,o),z=c.width,f=c.height,$=z*f,E,b=-1,X=72,V,Z,T=null;
if(c.adobe)b=c.adobe.transform;if(Y||z*f>15e7||b==0||b==2||c.progressive){var q=new PDFJS.JpegImage;
q.parse(K);var O=q.getData({width:z,height:f,forceRGB:!0,isSourcePDF:Y}),E=d.R($*4);for(var y=0;y<$;
y++){var j=y<<2,A=j-y;E[j]=O[A];E[j+1]=O[A+1];E[j+2]=O[A+2];E[j+3]=255}}else{E=fv.iO.a1k(K.buffer,c)}var R=o[225];
if(R)for(var y=0;y<R.length;y++)fv.iO.ab$(K,R[y]+2,c);var g=o[226];if(g){var H=g[0],i=_.vP(K,H+2),h=_.H9(K,H+4,11);
if(h=="ICC_PROFILE"){var x=_.s(K,H+18);c.icc=K.slice(H+18,H+18+x)}}var F=o[217][0]+2;if(F!=K.length)c.suffix=K.slice(F);
var U=[z,f,1,0,0,0,1,0];if(c.jfif&&c.jfif.densityUnits!=0){X=Math.round([72,1,2.54][c.jfif.densityUnits]*c.jfif.xDensity)}else if(c.exif&&c.exif[0].t282!=null){var v=c.exif[0].t282[0];
X=v[0]/v[1]}if(c.exif){var P=c.exif;V=fT.Wp(P[0]);var p=P[0].t274;if(p)p=p[0];if(p!=null&&p>1&&p<20)U=d.raw.avn(p,z,f)}if(c.xmp){V=fT.Nt(c.xmp,V)}if(c.icc)Z=c.icc;
var a=o[237],D=[],n=[];if(a){var N=new Uint8Array(65536),W=0,H=0;for(var y=0;y<a.length;y++){H=a[y]+2;
var G=H+_.vP(K,H);H+=2;var l=H;while(K[H]!=0)H++;H++;var u=_.H9(K,l,H-l-1),e=G-H;if(e<0)break;while(W+e>N.length){var M=new Uint8Array(N.length*2);
M.set(N);N=M}var B=new Uint8Array(K.buffer,H,e);N.set(B,W);W+=e}H=0;K=N;while(H<W){var s=_.H9(K,H,4);
H+=4;var t=_.vP(K,H);H+=2;var J=K[H++],L=_.H9(K,H,J);H+=J;if((J&1)==0)H++;var i=_.s(K,H);H+=4;var F=H+i+(i&1);
if(t==1028){while(H+4<F){var k=K[H++],C=K[H++],r=K[H++],Q=_.vP(K,H);H+=2;if(k==28&&C==2)D.push([r,_.H9(K,H,Q)]);
H+=Q}}else if(t==1032)T=gA.a0O(K,H);else if((t&2e3)==2e3){var j9=a_.tr(K,H,i);n.push([L,j9])}else{}H=F}if(D.length!=0)V=fT.au3(D,V)}var a4=[{eQ:new hD(0,0,z,f),data:E.buffer,aE:X,Ou:V,Fa:Z,FN:n.length==0?null:n,xS:T}],V=c.xmp_extn;
if(V){var ar=new DOMParser,ez=ar.parseFromString(V,"image/svg+xml"),ez=ez.children[0].children[0].children[0],ja=[ez.getAttribute("GImage:Data"),ez.getAttribute("GDepth:Data")];
for(var y=0;y<ja.length;y++)if(ja[y]){var c3=atob(ja[y]),hW=new Uint8Array(c3.length);_.yH(hW,0,c3);
hW=hW.buffer;var fO=fv.sR(hW),ei=fv.WD(fO).MW(hW);a4.push(ei[0])}}if(c.suffix){var fV=c.suffix,aW=!1,ee=_.H9(fV,4,4),hM=_.oR(fV,[255,216,255]);
if(fv.Pj(fV,[0,0,1,10,14,0,0,0])){if(aW)console.log("Samsung");var H=0;while(H!=fV.length){var ds=_.Bt(fV,H+2);
H+=4;var cp={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[ds];if(cp!=null){var eA=_.rT(fV,H);H+=4;
var db=_.H9(fV,H,eA);H+=eA;var js=_.H9(fV,H,cp);H+=cp;if(ds==2608){var bF=H,jI=_.s(fV,H+24);H+=jI+24;
var gF=_.s(fV,H);H+=gF;var b6=fV.slice(bF,H);fv.iO.Ca(b6)}}else if(ds==18502){while(_.H9(fV,H,4)!="SEFT")H+=4;
H+=4}else{break;console.log(_.GD(fV,H,128));console.log(fV.slice(H));throw ds.toString(16)}}}else if(ee=="ftyp"){if(aW)console.log("MP4 Video");
fv.iO.Ca(fV)}else if(_.H9(fV,0,4)=="fixe"){if(aW)console.log("fixe");alert("Unknown data - "+fV.length+" B - at the end of the file",3e3);
var H=4,i=_.rT(fV,H);H+=4;var ji=_.rT(fV,H);H+=4;var hd=_.rT(fV,H);H+=4;console.log(i,ji,hd,fV.slice(H,H+84));
H+=84;var eZ=_.H9(fV,H,32);H+=32;H+=8;var eZ=_.H9(fV,H,32);H+=32}else if(_.H9(fV,8,13)=="FocusShot_Map"){if(aW)console.log("FocusShot_Map");
var hj=_.s(fV,0),Q=_.rT(fV,4),hW=d.R($*4),eK=d.R($*4);for(var cX=0;cX<f;cX++)for(var bW=0;bW<z;bW++){var y=cX*z+bW,j=y<<2,ju=8+13+((cX>>>1)*z+bW>>>1),ci=fV[ju],hH=fV[ju+($>>>2)];
hW[j]=hW[j+1]=hW[j+2]=ci;hW[j+3]=255;eK[j]=eK[j+1]=eK[j+2]=hH;eK[j+3]=255}a4.push({eQ:new hD(0,0,z,f),data:hW.buffer},{eQ:new hD(0,0,z,f),data:eK.buffer})}else if(ee=="edof"){if(aW)console.log("edof");
var p=fV[8+7];console.log(p.toString(16));var H=8+16,b8=_.Bt(fV,H),gh=_.Bt(fV,H+2),$=b8*gh;H+=4;H+=32+16;
var aN=d.R($*4);for(var y=0;y<$;y++){var j=y<<2;aN[j]=aN[j+1]=aN[j+2]=fV[H+y];aN[j+3]=255}if(p==16){}else if(p==19){var eS=aN.slice(0);
d.D.Cy(aN,eS,b8,gh);var b2=b8;b8=gh;gh=b2;d.D.D_(eS,aN,b8,gh)}else throw"Unknown orientation of a depth map";
a4.push({eQ:new hD(0,0,b8,gh),data:aN.buffer})}else if(hM!=-1&&!(fV[0]==255&&fV[1]==129)){if(aW)console.log("another JPG at",hM);
if(hM>100&&_.H9(fV,0,64).indexOf("DualShot")!=-1){var fZ=_.rT,dw=_.H9,ib=_.Bt,H=0;function eJ(){var a6=fZ(fV,H);
if(fZ(fV,H+4)!=0)throw"e";H+=8;return a6}var df=_.s(fV,H);H+=4;try{if(df==45066){H=1226;var z=eJ(),f=eJ();
H=3445}else if(df==45322){var k5=fZ(fV,H);H+=4;var eZ=dw(fV,H,k5);H+=k5;if(eZ!="DualShot_DepthMap_1")throw eZ;
z=1008;f=756}else throw df;var eC=d.R(z*f*4);eC.fill(255);d.xI(fV.slice(H,H+z*f),eC);a4.push({eQ:new hD(0,0,z,f),data:eC.buffer})}catch(es){console.log("error reading a depth map")}}try{if(hM!=0)fV=fV.slice(hM);
var ei=fv.WD("jpg").MW(fV.buffer);for(var y=0;y<ei.length;y++)a4.push(ei[y])}catch(es){}}else if(_.H9(fV,0,4)=="PMPD"){if(aW)console.log("Xiaomi stuff");
var H=4,j7=_.rT(fV,12),cK=_.rT(fV,16),b8=_.rT(fV,1060),gh=_.rT(fV,1064),bw=b8>gh,f6=a4[0].eQ.m>a4[0].eQ.e,iF=fV.slice(fV.length-b8*gh-4),ag=d.R(b8*gh);
for(var cX=0;cX<gh;cX++)for(var bW=0;bW<b8;bW++)ag[cX*b8+bW]=iF[(gh-cX-1)*b8+bW];var eC=d.R(b8*gh*4);
eC.fill(255);d.xI(ag,eC);if(bw!=f6){var eS=eC.slice(0);d.D.Cy(eC,eS,b8,gh);var b2=b8;b8=gh;gh=b2;d.D.D_(eS,eC,b8,gh)}a4.push({eQ:new hD(0,0,b8,gh),data:eC.buffer})}else console.log(_.H9(fV,0,4),fV)}if(a4.length>1){var bS=a4[0].eQ,aj=!1,iV=!0;
a4[0].ux="Main";var b$=[!1];for(var y=1;y<a4.length;y++){b$[y]=fv.iO.a9l(new Uint8Array(a4[y].data));
if(b$[y])aj=!0;if(!a4[y].eQ.BV(a4[0].eQ))iV=!1}if(!aj&&!iV)a4=a4.slice(0,1);else for(var y=1;y<a4.length;
y++){a4[y].ux=b$[y]?"Depth Map":null;var g0=a4[y].eQ;if(!g0.BV(bS)){var eB=bS.m/g0.m,c7=bS.e/g0.e,dU=new dF;
dU.scale(eB,c7);var cz=m.OB.Gj([new Uint8Array(a4[y].data),g0],1,d.D.lK(dU));a4[y].eQ=cz.rect;a4[y].data=cz.buffer}}}if(fv.iO.NP==1)if(U[2]!=1||U[6]!=1)for(var y=0;
y<a4.length;y++){var fr=a4[y],kk=new Uint8Array(fr.data),z=fr.eQ.m,f=fr.eQ.e,b8=U[0],gh=U[1],E=d.R(b8*gh*4);
d.D.SS(kk,z,f,E,U);fr.eQ=new hD(0,0,b8,gh);fr.data=E.buffer}return a4};fv.iO.Ca=function(K){if(window.confirm("Photopea found a "+gO.Es(K.length)+" MP4 video inside your image. Would you like to save it?",4e3)){jm.save(K.slice(0).buffer,"video.mp4")}};
fv.iO.a9l=function(K){var o=!0;for(var y=0;y<K.length;y+=4){o=o&&K[y]==K[y+1]&&K[y+1]==K[y+2]}return o};
fv.iO.NP=0;fv.iO.MW=function(K,o,Y){K=new Uint8Array(K);if(K[0]==255){var c=fv.iO.sk(K);if(c[195]==null){fv.iO.NP++;
var z=fv.iO.TN(K,c,!1);fv.iO.NP--;return z}var f=_.vP(K,c[195][0]+5),$=_.vP(K,c[195][0]+7),E=UTIF.LosslessJpegDecode(K),b=$*f,q=d.R(b*4);
for(var y=0;y<b;y++){var O=y<<2,j=O-y;q[O]=E[j];q[O+1]=E[j+1];q[O+2]=E[j+2];q[O+3]=255}return[{eQ:new hD(0,0,$,f),data:q.buffer}]}else if(K[0]==0&&K[4]==48&&K[6]==1){var A=K,R=new PDFJS.Jbig2Image,g=[];
if(o)g.push({data:o,start:0,end:o.length});g.push({data:A,start:0,end:A.length});var E=R.parseChunks(g);
if(!Y)for(var y=0;y<E.length;y++)E[y]=~E[y];var $=_.s(K,11),f=_.s(K,15),H=Math.ceil($/8),i=d.R($*f*4);
for(var h=0;h<f;h++){var x=h*H;for(var F=0;F<$;F++){var O=(h*$+F)*4,X=E[x+(F>>>3)]>>>7-(F&7)&1,V=X*255;
i[O]=V;i[O+1]=V;i[O+2]=V;i[O+3]=255}}return[{eQ:new hD(0,0,$,f),data:i.buffer}]}else{var R=new PDFJS.JpxImage;
R.parse(K);var $=R.width,f=R.height,U=R.tiles,Z=R.componentsCount,T=new Uint8Array($*f*4),v=new hD(0,0,$,f);
for(var R=0;R<U.length;R++){var P=U[R],p=P.width,a=P.height,D=p*a,n=P.items,N=new hD(P.left,P.top,p,a),W=new Uint8Array(D*4);
if(Z==1)for(var y=0;y<D;y++){var G=n[y],O=y*4;W[O]=G;W[O+1]=G;W[O+2]=G;W[O+3]=255}else if(Z==3)for(var y=0;
y<D;y++){var j=y*3,O=y*4;W[O]=n[j];W[O+1]=n[j+1];W[O+2]=n[j+2];W[O+3]=255}else if(Z==4)W.set(n);else console.log("Unknown number of components: "+Z);
d.iF(W,N,T,v)}return[{eQ:v,data:T.buffer}]}};fv.wi={};fv.wi.vc=function(K,o,Y,c){if(c==null)c=[70,!1,0,0,0];
var z=c[0]/100,H=0;if(K.length==1){var f=new Uint8Array(fv.IH(K[0][0],o,Y,"webp",z));if(f.length<2e4){var $=bN.qz(f.buffer),E=$.sub;
for(var y=0;y<E.length;y++)if(E[y].YH=="ICCP"){var b=E[y];f=fv.KJ(f,b.w-8,b.size+8);_.Ji(f,4,$.size-(b.size+8));
break}}if(c[1]&&K[0][3]){var $=bN.qz(f.buffer),E=$.sub,q=E[0].w+E[0].size,O=K[0][3],j=new Uint8Array(UTIF.encode([fT.Xm(O)])),A=new Uint8Array(6+j.length);
_.yH(A,0,"Exif\0\0");A.set(j,6);var R=_.tA(fT.yE(O)),g=new Uint8Array(16+A.length+R.length);_.yH(g,0,"EXIF");
_.Ji(g,4,A.length);g.set(A,8);var H=8+A.length;_.yH(g,H,"XMP\0");_.Ji(g,H+4,R.length);g.set(R,H+8);var i=new Uint8Array(f.length+g.length);
i.set(new Uint8Array(f.buffer,0,q),0);i.set(g,q);i.set(new Uint8Array(f.buffer,q),q+g.length);f=i;_.Ji(f,4,_.rT(f,4)+g.length)}return f.buffer}var h=_.cK,x=_.hG,F=new jQ;
h(F,H,"RIFF    WEBPVP8X");H+=16;x(F,H,10);H+=4;x(F,H,18);H+=4;x(F,H,o-1);H+=3;x(F,H,Y-1);H+=3;h(F,H,"ANIM");
H+=4;x(F,H,6);H+=4;F.d7(H,4);F.data[H+3]=255;_.O8(F,H+4,c[3]);H+=6;var X=[];for(var y=0;y<K.length;y++){X.push(K[y][0])}var V=UPNG.encode.compress(X,o,Y,z==1?0:Math.max(2,Math.floor(z*500)),[!1,!0,!0,0,!0]).frames;
function U($,l,u,e){var D=$.w-8,n=$.size+8;u.d7(e,n);for(var y=0;y<n;y++)u.data[e+y]=l[D+y];return e+n}for(var y=0;
y<K.length;y++){h(F,H,"ANMF");H+=4;var Z=H,D=0,n=0;H+=4;var T=V[y],v=T.rect,P=[v.x>>>1,v.y>>>1,v.width-1,v.height-1,K[y][1]];
for(var p=0;p<5;p++)x(F,H+3*p,P[p]);H+=15;F.d7(H,1);F.data[H]=1-T.blend<<1|T.dispose;H++;var a=new Uint8Array(fv.IH(T.img.buffer,v.width,v.height,"webp",1)),E=bN.qz(a.buffer).sub,N={};
for(var W=0;W<E.length;W++)N[E[W].YH]=E[W];if(N.VP8L)H=U(N.VP8L,a,F,H);else throw"e";var G=H-Z-4;x(F,Z,G);
if((G&1)==1){F.d7(H,1);H++}}x(F,4,H-8);return F.data.slice(0,H).buffer};(function(){var K=fv.ZK.get("wasm/webp").buffer;
WebAssembly.instantiate(K).then(function(o){var Y=o.instance.exports;fv.wi.exp=Y})}());fv.wi.MW=function(K){var o=new Uint8Array(K),Y=fv.wi.as_,c=null,z=bN.qz(K).sub,f={},$=null;
for(var y=0;y<z.length;y++)f[z[y].YH]=z[y];if(f.EXIF){var E=f.EXIF,b=new Uint8Array(K,E.w+6,E.size-6);
$=fT.Wp(UTIF.decode(b)[0])}if(f["XMP\0"]){var E=f["XMP\0"],b=new Uint8Array(K,E.w,E.size);if($==null)$={};
$=fT.Nt(_.DI(b),$)}var q=f.ANIM,O=f.VP8L,j=f["VP8 "],A=f.VP8X;if(q==null){var R,H;if(j){R=_.Bt(o,j.w+6);
H=_.Bt(o,j.w+8)}else if(O){var i=_.rT(o,O.w+1);R=(i&(1<<14)-1)+1;H=(i>>>14&(1<<14)-1)+1}else throw"e";
var h=Y(c,K,{w:0,size:o.length},R,H);h.Ou=$;return[h]}var x=A.w,R=1+(_.rT(o,x+4)&16777215),H=1+(_.rT(o,x+7)&16777215),F=[],X=new hD(0,0,R,H),V=d.R(R*H*4);
for(var y=0;y<z.length;y++){var U=z[y];if(U.YH!="ANMF")continue;var Z=[];for(var T=0;T<5;T++)Z.push(_.rT(o,U.w+T*3)&16777215);
var v=new hD(Z[0]*2,Z[1]*2,Z[2]+1,Z[3]+1),P=Z[4],p=Y(c,K,{w:U.w+16,size:U.size-16},R,H),a=new Uint8Array(p.data),D=o[U.w+15];
if(D>>>1==0)d.l.To("norm",a,v,V,X,v,1);else d.iF(a,v,V,X);F.push({ux:"_a_"+F.length+","+P,eQ:X.clone(),data:V.buffer.slice(0)});
if((D&1)==1){d.nz(a,0);d.iF(a,v,V,X)}}return F};fv.wi.as_=function(K,o,Y,c,z){var f=fv.wi.exp,$=f.memory,E=5e6+2*Y.size+c*z*10;
fv.g$(f,E);var b=new Uint8Array($.buffer),q=f.malloc(Y.size);b.set(new Uint8Array(o,Y.w,Y.size),q);var O=f.malloc(8),j=f.WebPDecodeARGB(q,Y.size,O,O+4),A=_.rT(b,O),R=_.rT(b,O+4),g=A*R*4,H=d.R(g);
for(var y=0;y<g;y+=4){H[y]=b[j+y+1];H[y+1]=b[j+y+2];H[y+2]=b[j+y+3];H[y+3]=b[j+y]}f.WebPFree(j);f.free(O);
f.free(q);return{eQ:new hD(0,0,A,R),data:H.buffer}};fv.arE=function(){function K(E,b,q,O){var j=new Uint8Array(E[0][0]),A=new Uint32Array(j.buffer),R=[],g={},i=24,h=0,U=0;
for(var y=0;y<A.length;y++){var H=A[y]&16777215;if(g[H]==null){g[H]=R.length;R.push(H);if(R.length>256){R=null;
break}}}if(O&&O[0])R=null;if(R){i=1;while(1<<i<R.length)i*=2;if(i==2)i=4}var x={Fv:b,jd:q,fr:1,Nn:i,cd:0,a5w:h},F=4*Math.floor((x.Nn*x.Fv+31)/32);
x.size=F*x.jd+2;var X=new jQ,V=R?(1<<i)*4:0;_.cK(X,U,"BM");U+=2;_.hG(X,U,F*q+16+40+V);U+=4;_.hG(X,U,0);
U+=4;_.hG(X,U,54+V);U+=4;X.d7(U,40);_.hG(X,U,40);U+=4;$(X.data,U,x,F);U+=36;if(R){X.d7(U,V);var Z=X.data;
for(var y=0;y<R.length;y++){var T=U+y*4,v=R[y]>>>16,P=R[y]>>>8&255,p=R[y]&255;Z[T]=v;Z[T+1]=P;Z[T+2]=p}U+=V}X.d7(U,F*q);
if(i==24)for(var a=0;a<q;a++){var D=U+(q-1-a)*F;for(var n=0;n<b;n++){var N=(a*b+n)*4;X.data[D+n*3+2]=j[N];
X.data[D+n*3+1]=j[N+1];X.data[D+n*3+0]=j[N+2]}}else if(i==8)for(var a=0;a<q;a++){var D=U+(q-1-a)*F;for(var n=0;
n<b;n++){var N=a*b+n,W=g[A[N]&16777215];X.data[D+n]|=W}}else if(i==4)for(var a=0;a<q;a++){var D=U+(q-1-a)*F;
for(var n=0;n<b;n++){var N=a*b+n,W=g[A[N]&16777215];X.data[D+(n>>>1)]|=W<<4-(n&1)*4}}else if(i==1)for(var a=0;
a<q;a++){var D=U+(q-1-a)*F;for(var n=0;n<b;n++){var N=a*b+n,W=g[A[N]&16777215];X.data[D+(n>>>3)]|=W<<7-(n&7)}}U+=F*q+2;
return X.data.slice(0,U).buffer}function o(E){E=new Uint8Array(E);if(_.rT(E,0)==40)return[Y(E.buffer,0)];
var b=0,q=_.H9(E,b,2);b+=2;if(q!="BM"){alert("Unsupported BMP format: "+q);return}var O=_.rT(E,b);b+=4;
b+=4;var j=_.rT(E,b);b+=4;return[Y(E.buffer,b,j)]}function Y(E,b,q){E=new Uint8Array(E);var O=_.rT(E,b),j=f(E,b+4);
if(j.fr!=1)alert("unsupported number of color planes: "+j.fr);if(j.cd!=0&&j.cd!=1&&j.cd!=2&&j.cd!=3){alert("Unsupported BMP compression: "+j.cd);
return}b+=O;var A=b,R=E;if(q==null)q=b;if(j.cd==1||j.cd==2){var g=z(E,q,j);j.Nn=8;E=g;q=0}var H=4*Math.floor((j.Nn*j.Fv+31)/32),i=j.Fv,h=Math.abs(j.jd),x=new Uint8Array(i*h*4);
x.fill(255);if(j.Nn==32)for(var F=0;F<h;F++){var X=q+(h-1-F)*H;for(var V=0;V<i;V++){var U=(F*i+V)*4;
x[U]=E[X+V*4+2];x[U+1]=E[X+V*4+1];x[U+2]=E[X+V*4+0];x[U+3]=E[X+V*4+3]}}else if(j.Nn==24)for(var F=0;
F<h;F++){var X=q+(h-1-F)*H;for(var V=0;V<i;V++){var U=(F*i+V)*4;x[U]=E[X+V*3+2];x[U+1]=E[X+V*3+1];x[U+2]=E[X+V*3+0]}}else if(j.Nn==16)for(var F=0;
F<h;F++){var X=q+(h-1-F)*H;for(var V=0;V<i;V++){var U=(F*i+V)*4,Z=E[X+V*2+1]<<8|E[X+V*2];x[U]=(Z>>>11)*(255/31);
x[U+1]=(Z>>>5&63)*(255/63);x[U+2]=(Z&31)*(255/31)}}else if(j.Nn==8)for(var F=0;F<h;F++){var X=q+(h-1-F)*H;
for(var V=0;V<i;V++){var U=(F*i+V)*4,T=E[X+V];x[U]=R[A+4*T+2];x[U+1]=R[A+4*T+1];x[U+2]=R[A+4*T+0]}}else if(j.Nn==4)for(var F=0;
F<h;F++){var X=q+(h-1-F)*H;for(var V=0;V<i;V++){var U=(F*i+V)*4,T=E[X+(V>>1)];T=T>>4-4*(V&1);T=T&15;
x[U]=R[A+4*T+2];x[U+1]=R[A+4*T+1];x[U+2]=R[A+4*T+0]}}else if(j.Nn==1)for(var F=0;F<h;F++){var X=q+(h-1-F)*H;
for(var V=0;V<i;V++){var U=(F*i+V)*4,v=E[X+(V>>3)];v=v>>7-(V&7);v=v&1;x[U]=R[A+4*v+2];x[U+1]=R[A+4*v+1];
x[U+2]=R[A+4*v+0]}}else throw"Unknown bit depth "+j.Nn;if(j.jd<0){var P=new Uint32Array(x.buffer),p=h>>>1;
for(var F=0;F<p;F++){var a=F*i,D=(h-F-1)*i;for(var V=0;V<i;V++){var n=P[a+V];P[a+V]=P[D+V];P[D+V]=n}}}return{eQ:new hD(0,0,i,h),data:x.buffer}}function c(E,y){return E>>>4-((y&1)<<2)&15}function z(E,b,q){var O=q.Fv,j=Math.abs(q.jd),A=new Uint8Array(O*j),R=0,g=0,y=0;
while(g<j){var H=E[b++],i=E[b++],h=g*O+R;if(H>0){if(q.Nn==4)for(y=0;y<H;y++){A[h+y]=c(i,y)}else for(y=0;
y<H;y++){A[h+y]=i}R+=H}else if(H==0&&i==0){g++;R=0}else if(H==0&&i==1){break}else if(H==0&&i==2){R+=E[b++];
g+=E[b++]}else{var x=i;if(q.Nn==4){for(y=0;y<i;y++){A[h+y]=c(E[b+(y>>>1)],y)}x=Math.ceil(i/2)}else{for(y=0;
y<i;y++){A[h+y]=E[b+y]}}if((x&1)!=0)x++;b+=x;R+=i}}return A}function f(E,b){var q=_.$C,O=_.rT,j=_.Bt,A={};
A.Fv=q(E,b);b+=4;A.jd=q(E,b);b+=4;A.fr=j(E,b);b+=2;A.Nn=j(E,b);b+=2;A.cd=O(E,b);b+=4;A.size=O(E,b);b+=4;
var R=q(E,b);b+=4;var g=q(E,b);b+=4;A.a5w=O(E,b);b+=4;b+=4;return A}function $(E,b,q,O){_.Ji(E,b,q.Fv);
b+=4;_.Ji(E,b,q.jd);b+=4;_.ep(E,b,q.fr);b+=2;_.ep(E,b,q.Nn);b+=2;_.Ji(E,b,q.cd);b+=4;_.Ji(E,b,q.size);
b+=4;_.Ji(E,b,2834);b+=4;_.Ji(E,b,2834);b+=4;_.Ji(E,b,q.a5w);b+=4;b+=4}return{MW:o,vc:K,aeu:Y}}();fv.l$={};
fv.l$.vc=function(K,o,Y,c){if(c==null)c=[100,!1,0,0,0,0];var z=[],f=[],$=o*Y*4,H=null;for(var E=0;E<K.length;
E++){var b=new Uint8Array(K[E][0].slice(0));for(var y=0;y<$;y+=4){var q=b[y+3]=b[y+3]>127?255:0;if(q==0)b[y]=b[y+1]=b[y+2]=0}z.push(b.buffer);
f.push(K[E][1])}var O=Math.round(2+254*c[0]/100),j=UPNG.encode.compress(z,o,Y,O,[!0,!1,!1,8,!1,c[1]]),A=j.plte,R=new Uint8Array(4),g=new Uint32Array(R.buffer);
for(var y=0;y<A.length;y++){g[0]=A[y];var i=R[0];R[0]=R[2];R[2]=i;A[y]=g[0];if(g[0]==0)H=y}while(A.length<256)A.push(0);
var h=new Uint8Array(2e4+Math.round(1.5*o*Y*K.length)),x=c[3],F={palette:A};if(x!=1)F.loop=x==0?0:x-1;
var X=new GifWriter(h,o,Y,F);for(var y=0;y<K.length;y++){var V=j.frames[y],U=V.rect,Z=V.blend,T=V.dispose,v=Math.round(f[y]/10);
if(v<2)v=2;X.addFrame(U.x,U.y,U.width,U.height,V.img,{transparent:H,disposal:T+1,delay:v})}return h.slice(0,X.end()).buffer};
fv.l$.MW=function(K){var o=Date.now(),Y=[],c=UGIF.decode(K),z=UGIF.toRGBA8(c),f=new hD(0,0,c.width,c.height);
for(var y=0;y<z.length;y++){var $=c.frames[y];Y.push({eQ:f.clone(),ux:"_a_frm"+y+","+$.delay*10,data:z[y]})}return Y};
fv.tX={};fv.tX.vc=function(K,o,Y,c){console.log(K);if(o>256||Y>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var z=Math.min(o,256),f=Math.min(Y,256),$=new hD(0,0,z,f),E=d.R($.Z()*4),b=new hD(0,0,o,Y),q=new Uint8Array(K[0][0]);
d.iF(q,b,E,$);K[0][0]=E.buffer;o=z;Y=f}var O=new jQ,j=0,A=c&&c[0]==!0;_.O8(O,j,0);j+=2;_.O8(O,j,A?2:1);
j+=2;_.O8(O,j,1);j+=2;var R=new Uint8Array(fv.WD("png").vc(K,o,Y));O.d7(j,16);O.data[j]=o==256?0:o;j++;
O.data[j]=Y==256?0:Y;j++;j+=2;_.O8(O,j,A?Math.round(o/2):1);j+=2;_.O8(O,j,A?Math.round(Y/2):32);j+=2;
_.hG(O,j,R.length);j+=4;_.hG(O,j,6+16);j+=4;O.d7(j,R.length);for(var y=0;y<R.length;y++)O.data[j+y]=R[y];
j+=R.length;var g=new Uint8Array(j);for(var y=0;y<j;y++)g[y]=O.data[y];return g.buffer};fv.tX.MW=function(K){K=new Uint8Array(K);
var o=4,Y=_.Bt(K,o);o+=2;var c=[];for(var y=0;y<Y;y++){var z=fv.tX.a8h(K,o+y*16),f=K.buffer.slice(z.offset,z.offset+z.size),$=fv.sR(f);
$=$?$:"bmp";if($=="png"){var E=fv.WD($),b=E.MW(f);z.MA=b[0]}else{var q=fv.WD("BMP").aeu(f,0),f=d.R(z.Fv*z.jd*4);
d.iF(new Uint8Array(q.data),new hD(0,0,q.eQ.m,q.eQ.e),f,new hD(0,z.jd,z.Fv,z.jd));q.data=f.buffer;q.eQ.e=z.jd;
z.MA=q}c.push(z)}c.sort(function(O,j){if(O.Fv!=j.Fv)return O.Fv-j.Fv;return O.a9G-j.a9G});return[c.pop().MA]};
fv.tX.a8h=function(K,o){var Y={};Y.Fv=K[o];o++;if(Y.Fv==0)Y.Fv=256;Y.jd=K[o];o++;if(Y.jd==0)Y.jd=256;
Y.a2m=K[o];o++;o++;Y.aCy=_.Bt(K,o);o+=2;Y.a9G=_.Bt(K,o);o+=2;Y.size=_.rT(K,o);o+=4;Y.offset=_.rT(K,o);
o+=4;return Y};fv.tW={};fv.tW.MW=function(K){var o=Date.now(),c;if(d.raw.Ge(K.byteLength))return[d.raw.ax3(K)];
var Y=UTIF.decode(K);console.log(Y);if(Y[0].t33421)c=Y[0];else if(Y[0].subIFD&&Y[0].t271&&Y[0].t271[0]=="Hasselblad"){c=Y[0].subIFD[0];
c.t33421=[2,2]}else if(Y[0].subIFD&&Y[0].subIFD[0].t33421){c=Y[0].subIFD[0];if(c.t50706==null){if(c.t258[0]==8)c.t258[0]=12}}else if(Y[0].subIFD&&Y[0].subIFD[0]&&Y[0].subIFD[0].t262&&Y[0].subIFD[0].t262[0]==34892)c=Y[0].subIFD[0];
else if(Y[0].t50706)c=Y[0];else if(Y[0].subIFD&&Y[0].subIFD[1]&&Y[0].subIFD[1].t33421)c=Y[0].subIFD[1];
else if(Y[0].subIFD&&Y[0].subIFD[2]&&Y[0].subIFD[2].t33421)c=Y[0].subIFD[2];else if(Y[3]&&Y[3].t50648){var z=Y[0].exifIFD,f=z.makerNote;
c=Y[3];var $=f.t224[1],E=f.t224[2];c.t256=[$];c.t257=[E];c.t258=[16];c.t259=[7];c.t262=[32803];c.t277=[1];
c.t33421=[2,2];var b=c.t50656[0],q=d.raw.es[b];if(q==null)throw"e";c.t33422=q}else if(Y[0].t1&&Y[0].t1.length==4){var O=Y[0],j={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
c={};for(var A in j)if(O["t"+A])c["t"+j[A]]=O["t"+A];c.t2=O.t2;c.t3=O.t3;c.t10=O.t10;c.t45=O.t45;c.t258=[16];
c.t33421=[2,2];var R=O.t9[0];c.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][R-1];var g=O.t4[0],H=O.t5[0],i=O.t6[0],h=O.t7[0];
c.t50829=[g,H,i,h];var x=O.t36[0],F=O.t37[0],X=O.t38[0];c.t50728=[F/x,F/F,F/X]}else if(Y[0].t258&&Y[0].t258[0]>=12&&Y[0].t271&&(Y[0].t271[0].startsWith("OLYMPUS")||Y[0].t271[0].startsWith("OM Digital Solutions"))){c=Y[0];
c.t33421=[2,2]}if(c){UTIF.decodeImage(K,c,Y);for(var V in Y[0])if((V[0]=="t"||V[0]=="e"||V[0]=="d")&&c[V]==null)c[V]=Y[0][V];
c.d8=Y[0].t274?Y[0].t274[0]:1;return[c]}var U=[];for(var y=0;y<Y.length;y++){var Z=Y[y],T=null,N=72;
UTIF.decodeImage(K,Z,Y);if(Z.t258&&Z.t258[0]==16&&Z.t277&&Z.t277[0]==1){var v=0,P=0,p=0,a=Z.data;for(var D=0;
D<a.length;D+=2){var n=a[D+1]<<8|a[D];if(n>v)v=n;P+=n;p++}T=1/256*65535/(.5*v+.5*(2*P/p))}var W=Z.t282,G=Z.t296;
if(W!=null&&G!=null){N=W[0][0]/W[0][1];if(G[0]==3)N=Math.round(N/2.54)}if(Z.width==null)continue;var l=UTIF.toRGBA8(Z,T).buffer,u=fT.Wp(Z);
console.log(Z);U.push({eQ:new hD(0,0,Z.width,Z.height),data:l,aE:N,Ou:u,Fa:Z.t34675?Z.t34675.slice(0):null})}return U};
fv.tW.vc=function(K,o,Y,c){if(c==null)c=[!1];var z={},f=K[0];if(f[3]!=null&&c[0])z=fT.Xm(f[3]);if(f[2]!=null){z.t282=z.t283=[[Math.round(f[2]),1]];
z.t296=[2]}return UTIF.encodeImage(f[0],o,Y,z)};fv.a8={};fv.a8.MW=function(K){K=new Uint8Array(K);var o=8,Y,c=0;
while(o<K.length){var z=_.H9(K,o,4),f=_.s(K,o+4);if(z.startsWith("ic")){var $=K.slice(o+8,o+f),E=fv.sR($.buffer),b=fv.WD(E),q=b.MW($.buffer),O=q[0].eQ.Z();
if(O>c){c=O;Y=q}}o+=f}return Y};fv.US={};fv.US.MS=!0;fv.US.MW=function(K,o){gA.qz(K,o)};fv.US.aaM=function(K,o,Y,c){if(c==null)c=[!1,!1,!1,!1,!1];
if(!c[0])K.Gl();var z=new jQ,f=gA.ol(K,z,c);return[z.data.buffer,f]};fv.US.vc=function(K,o,Y,c){var z=fv.US.aaM(K,o,Y,c),f=z[0],$=z[1];
return f.byteLength==$?f:f.slice(0,$)};fv.E$={};fv.E$.MS=!0;fv.E$.MW=function(K,o){var Y=pako.inflate(new Uint8Array(K)),c=_.vP(Y,0),z=_.vP(Y,2),f=4;
o.m=_.s(Y,f);f+=4;o.e=_.s(Y,f);f+=4;o.buffer=d.R(o.m*o.e*4);var $=_.vP(Y,f);f+=2;f+=4;for(var E=0;E<$;
E++){var b=o.Uu(),g=0,W=1,G=2,l=3,u=0;o.B.push(b);var q=_.s(Y,f);f+=4;var O=f,j=_.vP(Y,O);O+=2;var A=_.DI(Y,O,j);
O+=j;b.vd(A);var R=Y[O];O++;if(R!=0&&R!=1)throw R;b.rect.x=_.LM(Y,O);O+=4;b.rect.y=_.LM(Y,O);O+=4;b.rect.m=_.s(Y,O);
O+=4;b.rect.e=_.s(Y,O);O+=4;if(c>3){g=_.LM(Y,O);O+=4}b.opacity=Math.round(255*Y[O]/100);O++;var H=Y[O];
O++;b.dt(H!=0);b.YF="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[Y[O]];
O++;var i=Y[O];O++;if(i)b.add.lspf=1<<31;if(c>3){var h=_.vP(Y,O);O+=2;if(h!=0){var x=JSON.parse(_.DI(Y,O,h));
O+=h;var F=x.text,X=x.textSettings,V=X.font,U=X.size,Z=X.padding,T=parseInt(X.color.slice(1),16);b.add.lnsr="rend";
b.add.TySh=b_.HO(0,0);b.add.TySh.jT=new hD(0,0,100,100);var v=b.add.TySh.i=new dF,P=b.rect.m/2,p=b.rect.e/2;
v.translate(-P,-p);v.rotate(-g*Math.PI/180);v.translate(P,p);v.translate(b.rect.x+Z,b.rect.y+Z);var a=b.add.TySh.e9;
b_.go(a,1);b_.X$(a,[0,0,b.rect.m-Z*2,b.rect.e]);b_.Df(a,0,F);var D=b_.Sw(a,0,1);D.Pf.FontSize=U;D.Pf.FillColor={Type:1,Values:[1,(T>>>16&255)/255,(T>>>8&255)/255,(T>>>0&255)/255]};
if(X.bold)V+="-Bold";b_.iN(D,V);D.Nd.Justification=["left","right","center"].indexOf(X.align);b_.K2(a,0,F.length,D)}}var n=_.s(Y,O);
O+=4;if(n!=b.rect.Z()*4){for(var y=b.rect.m;y>b.rect.m/2;y--){var N=n/(y*4);if(N==Math.round(N)){b.rect.m=y;
b.rect.e=N;break}}}b.buffer=d.R(b.rect.Z()*4);if(c>3){W=0;G=1;l=2;u=3}for(var y=0;y<n;y+=4){b.buffer[y]=Y[O+y+W];
b.buffer[y+1]=Y[O+y+G];b.buffer[y+2]=Y[O+y+l];b.buffer[y+3]=Y[O+y+u]}O+=n;var e=_.s(Y,O);O+=4;if(e==0&&c>3){f+=q;
continue}var M=Y[O];O++;var B=_.vP(Y,O);O+=2;if(e!=0){b.F=new S.tp;b.F.rect=b.rect.clone();b.F.channel=d.R(b.rect.Z());
for(var y=0;y<e;y+=4)b.F.channel[y>>>2]=Y[O+y+1];O+=e}if(M!=0){var s=JSON.parse(eF.default);b.add.lmfx=s;
for(var y=0;y<eF.order.length;y++)s[eF.nk[y]]={t:"VlLs",v:[]};var t={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var y=0;y<M;y++){var J=_.vP(Y,O),L=O+J+4,k=Y.slice(O,L),C=Y[O+2];O+=3;var r=t[C+""],Q=JSON.parse(eF.NF[r]);
s[eF.nk[r]].v.push({t:"Objc",v:Q});if(r!=0){Q.Md.v.BlnM=jw.OM("norm");Q.Opct.v.val=Y[O];O++;if(r==9||r==2){Q.Dstn.v.val=Y[O+1];
O+=2}else O+=2;Q.blur.v.val=Math.round(Y[O]*1.2);O++;if(r==9||r==2){Q.uglg.v=!1;Q.lagl.v.val=180-_.vP(Y,O);
O+=2}Q.Clr.v=d.H.eD({o:Y[O+1],A:Y[O+2],J:Y[O+3]})}else{Q.hglM.v.BlnM=Q.sdwM.v.BlnM=jw.OM("norm");O+=2;
var j9=Y[O++],a4=Y[O++];Q.blur.v.val=Math.round(Math.sqrt(a4*j9)*1.3);Q.srgR.v.val=Math.round(100*j9/a4);
Q.uglg.v=!1;Q.lagl.v.val=180-_.vP(Y,O);O+=2;Q.hglO.v.val=Y[O++];Q.hglC.v=d.H.eD({o:Y[O+1],A:Y[O+2],J:Y[O+3]});
O+=4;Q.sdwO.v.val=Y[O++];Q.sdwC.v=d.H.eD({o:Y[O+1],A:Y[O+2],J:Y[O+3]});O+=4}O=L}}if(O-f<q){var ar=_.s(Y,O),c3=0;
O+=4;O++;var j=_.vP(Y,O);O+=2;var F=_.DI(Y,O,j);O+=j;F=F.replace(/\r/g,"\n");var j=_.vP(Y,O);O+=2;var V=_.DI(Y,O,j);
O+=j;var U=_.vP(Y,O);O+=2;var ez=b.rect.x,ja=b.rect.m;if(ar&4)c3=1;if(ar&2)c3=2;var hW=Math.round(U*.4);
if(c3==0||c3==2)ja+=hW;if(c3==1||c3==2){ja+=hW;ez-=hW}b.add.lnsr="rend";b.add.TySh=b_.HO(0,0);b.add.TySh.jT=new hD(0,0,100,100);
b.add.TySh.i=new dF(1,0,0,1,ez,b.rect.y+U*.25);var a=b.add.TySh.e9;b_.go(a,1);b_.X$(a,[0,0,ja,b.rect.e]);
b_.Df(a,0,F);var D=b_.Sw(a,0,1);D.Pf.FontSize=U;D.Pf.FillColor={Type:1,Values:[1,Y[O+1]/255,Y[O+2]/255,Y[O+3]/255]};
O+=4;if(Y[O+5])V+="-Bold";if(Y[O+6])V+="-Italic";b_.iN(D,V);D.Nd.Justification=c3;O+=8;b_.K2(a,0,F.length,D)}f+=q}};
fv.FD={};fv.FD.MS=!0;fv.FD.MW=function(K,o){var Y=UZIP.parse(K),c=JSON.parse(_.DI(Y["manifest.json"].buffer));
o.m=c.width;o.e=c.height;o.buffer=d.R(o.m*o.e*4);o.name=c.name+".psd";var z=c.stack;for(var f=0;f<z.length;
f++){var $=z[f],E=$.type,b=$.rect,q=$.format,O=o.Uu();O.vd($.name);O.dt($.visible);O.opacity=Math.round(255*$.opacity);
var j=O.rect=new hD(b.x,b.y,b.w,b.h);o.B.push(O);if(E=="image"){var A=Y[$.content].buffer,R=fv.sR(A),g=fv.WD(R),H=g.MW(A)[0];
j.m=H.eQ.m;j.e=H.eQ.e;O.buffer=new Uint8Array(H.data)}else if(E=="shape"){O.Gh|=16;var i=O.add.vstk=eF.oc.Ta(!0),h=O.add.vmsk=new S.kZ,x;
O.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}};var F=q.variant,X=q.fill;if(F=="rectangle"||F=="rounded"){x=d.j.OJ.Rect(j.x,j.y,j.m,j.e,q.radii)}else if(F=="ellipse"){x=d.j.OJ.MR(j.x,j.y,j.m,j.e)}else if(F=="path"){var V=Typr.U.SVGToPath($.content),U={G:V.cmds,z:V.crds};
x=d.M.eX(U);var Z=d.j.QJ(x);d.j.k3(x,new dF(j.m/Z.m,0,0,j.e/Z.e,j.x,j.y))}else console.log(q);O.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}};
if(X.type=="color"){O.add.SoCo.Clr.v=d.H.eD(CSS.gP(X.value))}else if(X.type=="gradient"){delete O.add.SoCo;
var T=O.add.GdFl=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),v=T.Grad.v;v.Intr.v=0;var P=[],p=X.value.stops;
for(var y=0;y<p.length;y++){var a=p[y],D=CSS.gP(a.color);P.push([a.position,[D.o/255,D.A/255,D.J/255]])}d.H.zZ(P,v);
T.Angl.v.val=-(X.value.direction+b.r)+90+180}else console.log(X);var n=j.x+j.m/2,N=j.y+j.e/2,W=new dF;
W.translate(-n,-N);W.rotate(-b.r*Math.PI/180);W.translate(n,N);d.j.k3(x,W);var G=$.style;if(G&&G.outline){var l=G.outline;
i.strokeEnabled.v=!0;i.strokeStyleLineWidth.v.val=l.size;i.strokeStyleContent.v.Clr.v=d.H.eD(CSS.gP(l.color))}h.$=x;
O.D8();O.WG(o)}else if(E=="text"){O.add.lnsr="rend";O.add.TySh=b_.HO(0,0);O.add.TySh.jT=new hD(0,0,100,100);
var u=O.add.TySh.e9;b_.go(u,1);b_.X$(u,[0,0,j.m,j.e]);var e=$.content;b_.Df(u,0,e);var M=b_.Sw(u,0,1);
b_.iN(M,q.font.name);var B=M.Pf.FontSize=Math.round(q.size);if(q.fill&&q.fill.value){var s=CSS.gP(q.fill.value);
M.Pf.FillColor={Type:1,Values:[1,s.o/255,s.A/255,s.J/255]}}var t=q.linespace;if(t){M.Pf.AutoLeading=!1;
M.Pf.Leading=Math.round(B*(1.06+parseFloat(t)));console.log(t,M.Pf)}M.Pf.FauxBold=q.bold;M.Nd.Justification=["left","right","center","justify"].indexOf(q.align);
b_.K2(u,0,e.length,M);O.add.TySh.i=new dF(1,0,0,1,j.x+Math.round(B*.1),j.y+Math.round(B*.1));O.rect=new hD}else console.log($)}o.$P=!0};
fv.bS={};fv.bS.MS=!0;fv.bS.MW=function(K,o){ct.qz(K,o)};var ct=function(){function K(j,A){var R=Date.now(),g=UZIP.parse(j);
console.log(g);console.log(Date.now()-R);R=Date.now();var H=g["maindoc.xml"],i=new DOMParser,h=i.parseFromString(_.DI(H),"image/svg+xml").children[0].children[0],x=h.getAttribute("name"),F=A.m=q(h,"width"),X=A.e=q(h,"height");
A.aE=Math.round(q(h,"x-res"));var V=h.children[0].children;o(V,A,{HN:x,ed:g,RV:null});console.log(Date.now()-R);
R=Date.now()}function o(j,A,R){for(var g=0;g<j.length;g++){var H=j[j.length-1-g],i=H.getAttribute("nodetype");
if(i=="transparencymask"){R.RV.F=O(H,R);continue}var h=H.getAttribute("compositeop"),x=H.getAttribute("filename"),F=H.getAttribute("channelflags"),X=H.children;
X=X.length==0?null:X[0].children;var V=A.Uu();if(i=="paintlayer"){var U=q(H,"x"),Z=q(H,"y"),T=R.ed[R.HN+"/layers/"+x+".defaultpixel"],v=R.ed[R.HN+"/layers/"+x],P=b(v);
V.rect=P[0];V.rect.offset(U,Z);V.buffer=P[1];if(V.rect.xf()&&T.join()!="0,0,0,0"){V.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:T[0],A:T[1],J:T[2]})}};
V.WG(A)}}else if(i=="grouplayer"){V.add.lsct=eo.bl;V.YF="pass";V.Gh|=24;A.B.push(A.uR());var p=R.RV;
R.RV=V;o(X,A,R);R.RV=p}else if(i=="shapelayer"){var v=R.ed[R.HN+"/layers/"+x+".shapelayer/content.svg"],a=_.DI(v),D=A.o3(v,V.getName(),0,0);
V=D;var n=new hD(0,0,A.m,A.e),N=d.M.Yq(n).z;V.add.SoLd.Trnf=m.OB.c5(N);V.add.SoLd.nonAffineTransform=m.OB.c5(N);
V.Mc(A,!1)}else if(i=="clonelayer"){var y=-1;for(var W=0;W<j.length;W++)if(j[W].getAttribute("name")==H.getAttribute("clonefrom"))y=W;
if(y!=-1){o([j[y]],A,R);V=A.B.pop()}}else console.log(i,H);V.vd(H.getAttribute("name"));if(q(H,"locked")==1)V.add.lspf=1<<31;
V.dt(q(H,"visible")==1);var G={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[h];if(G)V.YF=G;
else console.log(h);V.opacity=q(H,"opacity");if(F=="1110")V.z_=!0;var l=X?X[0]:null;if(l&&l.tagName=="mask")V.F=O(l,R);
A.B.push(V)}}function Y(j,A){var R=0,g=0,H=j.length,i,h,x;while(R<H){i=j[R++];if(i>31){h=i>>>5;if(h==7)h=7+j[R++];
x=(i&31)<<8|j[R++];var F=g-x-1,X=h>>>1;A[g++]=A[F++];A[g++]=A[F++];for(var y=0;y<X;y++){A[g++]=A[F++];
A[g++]=A[F++]}if((h&1)==1)A[g++]=A[F++]}else{for(var y=0;y<=i;y++){A[g++]=j[R++]}}}}function c(j,A){var R=0;
while(j[A+R]!=10)R++;return _.H9(j,A,R)}var z=new hD(0,0,64,64),f=new Uint8Array(64*64*4),$=new Uint8Array(64*64*4);
function E(){for(var y=0;y<4096;y++){var j=y<<2;f[j+0]=$[y+8192];f[j+1]=$[y+4096];f[j+2]=$[y];f[j+3]=$[y+12288]}}function b(j){var A=0,R={};
for(var y=0;y<5;y++){var g=c(j,A);A+=g.length+1;g=g.split(" ");R[g[0]]=parseInt(g[1])}var H=R.PIXELSIZE,i=[],h=new hD;
while(A<j.length){var g=c(j,A),x=g.split(",");A+=g.length+1;if(x[2]!="LZF")throw x[2];z.x=parseInt(x[0]);
z.y=parseInt(x[1]);h=h.Bb(z);var F=parseInt(x[3]);i.push([z.clone(),new Uint8Array(j.buffer,A+1,F-1)]);
A+=F}var X=d.R(h.Z()*H);for(var y=0;y<i.length;y++){var V=i[y];Y(V[1],$);if(H==4){E();d.iF(f,V[0],X,h)}else d.u_($,V[0],X,h)}return[h,X]}function q(j,A){return parseInt(j.getAttribute(A))}function O(j,A){var R=j.getAttribute("filename"),g=A.ed[A.HN+"/layers/"+R+".pixelselection"],H=b(g),i=new S.tp;
i.wz=q(j,"visible")==1;i.rect=H[0];i.channel=H[1];return i}return{qz:K}}();fv.ot={};fv.ot.MS=!0;fv.ot.MW=function(K,o){iS.qz(K,o)};
fv.Og={};fv.Og.MW=function(K){var o=new Uint8Array(K),Y=fv.Og.nb(o,0,0),c=Y.sub[2],z=fv.Og.W4(o,c),f=Y.sub[3],$=fv.Og.W4(o,f);
return[z,$]};fv.Og.W4=function(K,o){var Y=o.sub[o.sub.length-1],c=Y.sub[0].w,z=Y.sub[1].w,f=K.slice(c,c+16),$=K.slice(z,z+Y.sub[1].size),E=_.rT,b=K[c],q=E(K,c+1),O=E(K,c+5),j=K[c+13],A=new hD(0,0,q,O),R=d.R(q*O*4);
if(j){new Uint32Array(R.buffer).fill(4278190080)}else{UTEX.readBC1(K,z,R,q,O)}return{eQ:A,data:R}};fv.Og.nb=function(K,o,Y){var c=_.H9,z=_.rT,f=c(K,o,4);
f=f.split("").reverse().join("");var $=z(K,o+4);if($!=0){console.log(K.slice(o-8));throw $}var E=z(K,o+8);
while((E&3)!=0)E++;var b={YH:f,w:o+12,size:E};if(f=="CARF"||f=="CTEX"||f=="CREW"||f=="BMAP"){b.sub=[];
o+=12;if(f=="CTEX"||f=="CREW")o+=32;var q=b.w+b.size;while(o<q){var O=fv.Og.nb(K,o,Y+1);b.sub.push(O);
o+=12+O.size+(O.size&1)}}return b};fv.SL={};fv.SL.MS=!0;fv.SL.MW=function(K,o){aA.qz(K,o)};fv.EX={};
fv.EX.MS=!0;fv.EX.MW=function(K,o){jJ.qz(K,o)};fv.qU={};fv.qU.MS=!0;fv.qU.MW=function(K,o){iq.qz(K,o)};
fv.V3={};fv.V3.MS=!0;fv.V3.MW=function(K,o){km.qz(K,o)};fv.Yx={};fv.Yx.MS=!0;fv.Yx.MW=function(K,o){cw.qz(K,o)};
fv.hf={};fv.hf.MS=!0;fv.hf.vc=function(K,o,Y,c,z,f){if(c==null)c=[!0,!1,!1,!1,!0];var $=iT.lW(K,{Os:c[0],hidden:c[1],akD:c[2],ah4:c[3],LW:c[4],a76:o,a5r:Y},z.zl,f);
return $};fv.hf.MW=function(K,o,Y){iT.qz(K,o,Y)};fv.Qg={};fv.Qg.MS=!0;fv.Qg.MW=function(K,o){var Y=150,c=new dF(1,0,0,-1,0,0);
c.scale(Y/72,Y/72);o.aE=Y;var z=new ik(o,c,!0);FromPS.Parse(K,z)};fv.Xc={};fv.Xc.MS=!0;fv.Xc.vc=function(K,o,Y,c,z){if(c==null)c=["",100,!1,!1,!1,0,!1];
c[7]=["jpg"];var f=new ToPDF;hu.lW(K,c,f,z.zl,o,Y);return f.buffer};fv.Xc.MW=function(K,o,Y){var c=2;
while(!0){var z=c*72,f=new dF(1,0,0,-1,0,0);f.scale(z/72,z/72);o.aE=z;var $=new ik(o,f,!0);FromPDF.Parse(K,$);
var E=Math.max(o.m,o.e);if(Y&&E<Math.max(Y[0],Y[1])){o.B=[];var b=c;while(E*(c/b)<Math.max(Y[0],Y[1]))c++}else break}};
fv.FU={};fv.FU.MS=!0;fv.FU.MW=function(K,o){var Y=72,c=new dF(1,0,0,1,0,0);c.scale(Y/72,Y/72);o.aE=Y;
var z=new ik(o,c,!1);FromWMF.Parse(K,z)};fv.QY={};fv.QY.BH=!0;fv.QY.MS=!0;fv.QY.vc=function(K,o,Y,c,z){if(c==null)c=["",100,!1,!1,!1,0,!1];
c[7]=[];var f=new ToEMF;hu.lW(K,c,f,z.zl);return f.buffer};fv.QY.MW=function(K,o){var Y=72,c=new dF(1,0,0,1,0,0);
c.scale(Y/72,Y/72);o.aE=Y;var z=new ik(o,c,!1);FromEMF.Parse(K,z)};fv.YB={};fv.YB.MS=!0;fv.YB.MW=function(K,o){return aR.qz(K,o)};
fv.eh={};fv.eh.MW=function(){var K,o,Y,c,z,f,$=0,E=0,b=0,q=0,O=0,x="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",F=null;
function j(X){var V=hh.qz(X),U=V.OV,a=0,D,n;console.log(V);var Z=new Uint8Array(X);if(U=="ILBM")return A(V,Z);
if(U=="CIMG")return H(V,Z);if(U=="ANIM"&&V.sub[0].YH=="ADAT")return h(V,Z);if(U!="ANIM")throw U;var T=_.vP,v=_.s,P=V.sub,p=A(P[0],Z);
for(var N=1;N<P.length-2;N++){var W=p[Math.max(0,N-2)].ad7.slice(0),G=P[N];for(var l=0;l<G.sub.length;
l++){var u=G.sub[l],e=u.w;if(u.YH=="ANHD"){var M=Z[e++];if(M!=5)throw M;var c=Z[e++],B=T(Z,e),s=T(Z,e+2);
if(B!=0&&B!=K)throw B;if(s!=0&&s!=o)throw s;var t=T(Z,e+4),J=T(Z,e+6);if(t!=0||J!=0)throw t;e+=8;var L=T(Z,e);
e+=2;D=T(Z,e);e+=2;if(Z[e++]!=0)throw"e";if(Z[e++]!=0)throw"e";n=T(Z,e);e+=2}else if(u.YH=="DLTA"){var k=[],C=e;
for(var y=0;y<16;y++)k.push(v(Z,e+y*4));e+=64;var r=f;for(var Q=0;Q<z;Q++){if(k[Q]==0)continue;e=C+k[Q];
for(var j9=0;j9<r;j9++){var a4=Z[e++],ar=0;if(a4==0)continue;for(var y=0;y<a4;y++){var ez=Z[e++];if(ez==0){var ja=Z[e++],c3=Z[e++];
for(var hW=0;hW<ja;hW++){W[(ar*z+Q)*r+j9]=c3;ar++}}else if(ez<128){ar+=ez}else{ez-=128;for(var hW=0;
hW<ez;hW++){W[(ar*z+Q)*r+j9]=Z[e+hW];ar++}e+=ez}}}}}else console.log(u.YH)}if(N==1&&D>100)D=0;var fO=D==0?17:Math.round((D-a)*1e3/60);
p.push({data:g(Z,W).buffer,eQ:new hD(0,0,K,o),ad7:W,ux:"_a_frm"+N+","+fO});a=D}if(b!=0&&K>o*2){var ei=new Uint32Array(K*o*2);
ei.fill(4294967295);for(var N=0;N<p.length;N++){var fV=p[N],aW=new Uint32Array(fV.data);for(var ar=0;
ar<o;ar++){var ee=ar*2;for(var j9=0;j9<K;j9++)ei[ee*K+j9]=aW[ar*K+j9];ee++;for(var j9=0;j9<K;j9++)ei[ee*K+j9]=aW[ar*K+j9]}fV.eQ.e*=2;
fV.data=ei.slice(0).buffer}}return p}function A(X,V){var U,Z,T;$=0;E=0;q=0;O=0;b=0;for(var v=0;v<X.sub.length;
v++){var P=X.sub[v],p=P.w;if(P.YH=="BMHD"){var a=[];for(var y=0;y<4;y++)a[y]=_.vP(V,p+2*y);p+=8;var D=a[2],n=a[3];
K=a[0];o=a[1];Y=V[p++];c=V[p++];T=V[p++];if(T!=0&&T!=1)throw T;f=K+15>>>4<<1;z=Y+c}else if(P.YH=="CMAP")$=p;
else if(P.YH=="CAMG"){var N=_.s(V,p);E=N&32768,b=N&4,q=N&2048;O=N&128}else if(P.YH=="BODY"){Z=d.R(f*o*z);
if(T==0)Z=V.slice(p,p+Z.length);if(T==1)e7.bX(V,p,P.size,Z,0,Z.length)}else if(P.YH=="PLTP"){console.log(V.slice(p,p+P.size))}}U=g(V,Z);
return[{eQ:new hD(0,0,K,o),data:U.buffer,ad7:Z}]}function R(X,h4){return X[h4>>>3]>>>7-(h4&7)&1}function g(X,V){var U=Y-2,Z=(1<<U)-1,T=Math.round(255/Z),v,P,p,a=f*8;
if($!=0){var D=1<<Y,n=!0;for(var y=1;y<D;y++){var N=$+y*3;if(X[N]!=X[N-3]||X[N+1]!=X[N-2]||X[N+2]!=X[N-1]&&X[N+2]!=X[N-1]+1)n=!1}if(n){for(var y=0;
y<D;y++){var N=$+y*3,W=Math.round(y*255/(D-1));X[N]=X[N+1]=X[N+2]=W}}}var G=d.R(K*o*4);for(var l=0;l<o;
l++)for(var u=0;u<K;u++){var e=0;for(var M=0;M<z;M++){var B=(l*z+M)*a+u,s=R(V,B);e|=s<<M}e=e&(1<<Y)-1;
var y=l*K+u,t=y<<2;if($!=0){if(q!=0&&e>>>U!=0){var J=e>>>U,L=(e&Z)*T;if(J==1)p=L;else if(J==2)v=L;else if(J==3)P=L}else{var L=$+e*3;
v=X[L+0];P=X[L+1];p=X[L+2]}}else{if(Y==24){v=e>>>0&255;P=e>>>8&255;p=e>>>16&255}else if(Y==16){var k=0,C=1,Q=4;
for(var M=0;M<16;M++)k+=(e>>>M&1)<<15-M;var r=(1<<C)-1,j9=(1<<Q)-1;v=(k>>>7&r)*(255/r);P=p=v}else throw Y}G[t+0]=v;
G[t+1]=P;G[t+2]=p;G[t+3]=255}return G}function H(X,V){var U=1,Z=2,T=4,v=_.s,P=_.vP,K=200,o=200,p,a,D,n;
for(var N=0;N<X.sub.length;N++){var W=X.sub[N],G=W.w;if(W.YH=="TBHD"){K=v(V,G);G+=4;o=v(V,G);G+=4;n=d.R(K*o*4);
D=new hD(0,0,K,o);G+=4;var l=v(V,G);G+=4;var u=P(V,G);G+=2;if(u!=0)throw"e";a=P(V,G);G+=2;var e=v(V,G);
G+=4;if(e!=1)throw e;p=0;if(l&U)p+=3;if(l&Z)p+=1}if(W.OV=="TBMP"){var M=W.sub;for(var B=0;B<M.length;
B++){var s=M[B].w,t=M[B].size,J=P(V,s),L=P(V,s+2),k=P(V,s+4)-J+1,C=P(V,s+6)-L+1;s+=8;var r=d.R(k*C*4),Q=d.R(k*C);
r.fill(255);for(var y=0;y<4;y++){s=i(V,s,t-8,Q,0);d.cb(Q,r,3-y)}if(s!=M[B].w+t)throw"e";d.iF(r,new hD(J,L,k,C),n,D)}}}return[{eQ:D,data:n.buffer}]}function i(X,V,U,Z,T){var v=V;
while(T<Z.length){var P=X[V++],aM=(P&127)+1;if(P&128){P=X[V++];for(var y=0;y<aM;++y)Z[T++]=P}else{for(var y=0;
y<aM;++y)Z[T++]=X[V++]}}return V}function h(X,V){if(F==null){var U=fv.iX(x);F=new Uint32Array(pako.inflate(new Uint8Array(U)).buffer)}var Z=_.s,T=_.vP,v=X.sub[0],P=X.sub[1],K=T(V,v.w),o=T(V,v.w+2),p=T(V,v.w+4),W,y,G,l,u,e;
if(p!=3)throw p;var a=new hD(0,0,K,o),D=d.R(K*o*4),n=d.R(K*o);D.fill(255);var N=new Uint32Array(D.buffer),M=P.w;
for(l=0;l<2;l++){e=l;u=0;W=Math.floor((K*o+2-l-1)/2);while(W>0){y=V[M++];if(y&128){y=257-y;W-=y;G=V[M++];
u=u&F[G]|F[G+256];do{N[e]=u;e+=2}while(--y)}else{y++;W-=y;do{G=V[M++];N[e]=u=u&F[G]|F[G+256];e+=2}while(--y)}}}for(var y=0;
y<D.length;y+=4){var B=D[y+3],s=D[y+2],t=D[y+1];D[y]=B;D[y+1]=s;D[y+2]=t;D[y+3]=255}for(var J=0;J<o>>>1;
J++){for(var L=0;L<K;L++){var y=J*K+L,G=(o-1-J)*K+L,k=N[y];N[y]=N[G];N[G]=k}}return[{eQ:a,data:D.buffer}]}return j}();
fv.kE={};fv.kE.MS=!1;fv.kE.vc=function(K,o,Y,c){var z=K[0][4],f=new Uint8Array(K[0][0]),$=2,E=z?!0:!1,b=E?4:3,q=new Uint8Array(o*Y*b);
for(var O=0;O<Y;O++)for(var j=0;j<o;j++){var A=O*o+j<<2,R=((Y-O-1)*o+j)*b;q[R]=f[A+2];q[R+1]=f[A+1];
q[R+2]=f[A+0];if(E)q[R+3]=z[0][O*o+j]}if(!0){var g=q.length,H=0,i=new Uint8Array(g*2),h=0,x=0,F=o*b;
while(x<g){var X=x,V=0,U=F*(Math.floor(x/F)+1);while(X<U&&V<128){var Z=!0;for(var y=0;y<b;y++)Z=Z&q[x+y]==q[X+y];
if(!Z)break;X+=b;V++}if(V==1){var T=1;while(T<128&&x+(T+1)*b<U){var Z=!0,v=x+T*b;for(var y=0;y<b;y++)Z=Z&q[v+y]==q[v+b+y];
if(Z)break;T++}i[h++]=T-1;for(var P=0;P<T;P++)for(var y=0;y<b;y++)i[h++]=q[x++]}else{i[h++]=127+V;for(var y=0;
y<b;y++)i[h+y]=q[x+y];h+=b;x+=b*V;H+=V}}q=i.slice(0,h);$+=8}var p=new Uint8Array(18+q.length+26);p[2]=$;
_.ep(p,12,o);_.ep(p,14,Y);p[16]=b*8;p[17]=b==4?8:0;p.set(q,18);_.yH(p,18+q.length+8,"TRUEVISION-XFILE.");
return p.buffer};fv.kE.MW=function(K){var o=new Uint8Array(K),Y=0,c=o[0],z=o[1],f=o[2],$=o[4]*256+o[3],E=o[6]*256+o[5],b=o[7],q=o[9]*256+o[8],O=o[11]*256+o[10],j=o[13]*256+o[12],A=o[15]*256+o[14],R=o[16],g=o[17],H=g>>>4,i=_.H9(o,18,c),h=d.R(j*A*4),Y=18+c+(E*b>>>3),x=new Uint8Array(o.buffer,Y);
if(f>3){var F=0,X=o,V=new Uint8Array(j*A*R>>>3),U=Y,Z=0,T=o.length,v=R>>>3;while(Z<V.length){var h4=X[U];
U++;if(h4<128)for(var y=0;y<h4+1;y++){for(var P=0;P<v;P++){V[Z]=X[U];Z++;U++}}else{for(var y=0;y<h4-127;
y++){for(var P=0;P<v;P++){V[Z]=X[U+P];Z++}}U+=v}}f-=8;x=V;Y=U}else Y+=j*A*R>>>3;var p=new Uint8Array(4),a=fv.kE.as7;
for(var D=0;D<A;D++)for(var n=0;n<j;n++){var N=(H&2)==0?(A-D-1)*j+n:D*j+n,W=D*j+n,G,l,u,e=255,M=N*R>>>3;
if(f==1){var B=0;if(R==8)B=x[M];else throw"e";a(o,18+c+$+(B*b>>>3),b,p);G=p[0];l=p[1];u=p[2];e=p[3]}else if(f==2){a(x,M,R,p);
G=p[0];l=p[1];u=p[2];e=p[3]}else if(f==3){if(R==8)G=l=u=x[M];else throw"e"}var s=W*4;h[s]=G;h[s+1]=l;
h[s+2]=u;h[s+3]=e}var p={eQ:new hD(0,0,j,A),data:h.buffer,ux:i};if(d.X1(h)){var t=d.R(j*A);d.JI(h,t,3);
d.nz(h,4278190080,16777215);p.Kl=[t]}return[p]};fv.kE.as7=function(K,o,Y,c){var z,f,$,E=255;if(Y==24||Y==32){$=K[o];
f=K[o+1];z=K[o+2];if(Y==32)E=K[o+3]}else if(Y==16){var b=K[o+1]<<8|K[o+0];z=b>>>10&31;f=b>>>5&31;$=b>>>0&31;
z=Math.round(z*(255/31));f=Math.round(f*(255/31));$=Math.round($*(255/31))}else throw"e";c[0]=z;c[1]=f;
c[2]=$;c[3]=E};fv.ahq=function(){var K,o=[],Y=!1;function c($,E,b,q){K=b;o.push($,q);z()}function z(){if(Y||o.length==0)return;
Y=!0;fv.aaG(o.shift(),"image/avif",f)}function f($){K(null,[$],o.shift());Y=!1;z()}return{MS:!1,YR:!0,MW:c}}();
fv.ct=function(){var K,o=[],Y=!1,c,z,f,$=10,E,b,q,O=0,A;function j(F,X,V,U,Z){K=V;o.push(F,U);var T=bR.qz(F),v=bR.ajS(T,"vide"),P=v.tkhd,p=v.mdia.minf.stbl,a=P.duration/T.moov.mvhd.RC,D=p.stsz.length,n=Math.round(D/a);
console.log(T);c=P.Fv;z=P.jd;var N=c+" \xD7 "+z+" px, "+D+" frames, "+gO.Es(c*z*4*D)+" decoded<br/>";
N+=a.toFixed(2)+" seconds, "+n+" FPS";var W=new h1(w.E.L,!0);W.data={d:w.I.Gg,XQ:"setFPS",UZ:$,gb:H,avX:N};
Z.c(W)}async function R(){if(Y||o.length==0)return;Y=!0;var F=o.shift(),X=bR.qz(F),V=bR.ajS(X,"vide"),U=V.tkhd,Z=V.mdia.minf.stbl,T=Z.stsd.abc.avcC,v=U.duration/X.moov.mvhd.RC,P=Z.stsz.length,p=Math.round(P/v),a=Math.max(1,Math.round(p/$)),N=0;
if(Z.stsd.FG=="hvc1"||Z.stsd.FG=="hev1")alert("HEVC codec not supported");A=Date.now();c=U.Fv;z=U.jd;
f=[];E=document.createElement("canvas");b=E.getContext("2d");E.width=c;E.height=z;var D=new Uint8Array(F),n=[];
if(Z.stsd.FG=="raw "){for(var W=0;W<P;W++){var G=c*z;if(N%a==0){var l=bR.anO(X,"vide",W),u=new Uint8Array(F,l[0],l[1]),e=d.R(c*z*4);
e.fill(255);for(var y=0;y<G;y++){var M=y*4,B=y*3;e[M]=u[B];e[M+1]=u[B+1];e[M+2]=u[B+2]}var s=f.length;
f[s]={ux:"_a_"+s+","+Math.round(a*1e3/p),eQ:new hD(0,0,c,z),data:e}}N++}g();return}var t=new VideoDecoder({output:function(k){if(N%a==0){b.drawImage(k,0,0);
k.close();var e=b.getImageData(0,0,c,z).data.buffer,s=f.length;f[s]={ux:"_a_"+s+","+Math.round(a*1e3/p),eQ:new hD(0,0,c,z),data:e}}else k.close();
clearTimeout(O);O=setTimeout(g,100);N++},error:function(k){console.log(k.message)}}),J={codec:"vp09.00.10.08",codedWidth:c,codedHeight:z};
if(T){J.codec="avc1.640034";J.description=D.slice(T.w,T.w+T.lp)}t.configure(J);for(var y=0;y<P;y++){var l=bR.anO(X,"vide",y),u=new Uint8Array(F,l[0],l[1]),L=new EncodedVideoChunk({timestamp:y,duration:1e3,type:y==0?"key":"delta",data:u});
t.decode(L)}await t.flush()}function g(){K(null,f,o.shift());Y=!1;console.log(Date.now()-A);R()}function H(F){$=Math.max(1,Math.min(60,F));
if(window.VideoDecoder)R();else i()}function i(){if(Y||o.length==0)return;Y=!0;E=document.createElement("canvas");
b=E.getContext("2d");q=document.createElement("video");var F="data:"+"video/mp4"+";base64,"+fv.zj(o.shift());
q.src=F;q.muted=!0;q.currentTime=0;q.addEventListener("canplay",h,!1);q.addEventListener("timeupdate",x,!1)}function h(F){q.removeEventListener("canplay",h);
c=E.width=q.videoWidth;z=E.height=q.videoHeight;f=[];q.play()}function x(F){clearTimeout(O);b.drawImage(q,0,0);
f.push({ux:"_a_"+f.length+","+Math.round(1e3/$),eQ:new hD(0,0,c,z),data:b.getImageData(0,0,c,z).data.buffer});
var X=q.currentTime+1/$;if(X<q.duration&&F){q.currentTime=X;O=setTimeout(x,1e3)}else{K(null,f,o.shift());
q.removeEventListener("timeupdate",x);Y=!1;i();f=null}}return{MS:!1,YR:!0,MW:j}}();fv.ct.vc=function(){var K,o,Y,c,z,f,$=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],E=40,b,q,O,j,A,R;
function g(D,n){if(!z&&n){if(n.description){z=n.description}if(n.decoderConfig&&n.decoderConfig.description){z=n.decoderConfig.description}}var N=new ArrayBuffer(D.byteLength);
D.copyTo(N);H(N);Y.push({duration:D.duration,timestamp:D.timestamp,type:D.type,byteLength:D.byteLength});
if(D.type=="key"){c.push(Y.length)}}function H(D){var n=new Uint8Array(f.byteLength+D.byteLength);n.set(new Uint8Array(f));
n.set(new Uint8Array(D),f.byteLength);f=n.buffer}function i(D){return new Uint8Array([D.charCodeAt(0),D.charCodeAt(1),D.charCodeAt(2),D.charCodeAt(3)]).buffer}function h(D){var n=new Uint32Array([D]),N=new Uint8Array(n.buffer);
return new Uint8Array([N[3],N[2],N[1],N[0]])}function x(D){A[j]=D;++j}function F(D){A[j]=D>>8&255;A[j+1]=D&255;
j+=2}function X(D){A[j]=D>>16&255;A[j+1]=D>>8&255;A[j+2]=D&255;j+=3}function V(D){A[j]=D>>24&255;A[j+1]=D>>16&255;
A[j+2]=D>>8&255;A[j+3]=D&255;j+=4}function U(D){O.push(j);j+=4;Z(D)}function Z(D){for(var y=0;y<D.length;
++y){A[j]=D.charCodeAt(y);++j}}function T(D){A.set(new Uint8Array(D),j);j+=D.byteLength}function v(){var D=j;
j=O.pop();V(D-j);j=D}function P(){O=[];var D=[],n={},N=9e4,W=Y.length,G=c.length,l=-1;for(var y=0;y<Y.length;
++y){b+=Y[y].duration/1e3;q+=Y[y].byteLength;if(Y[y].duration!=l){if(y!=0){D.push(n)}l=Y[y].duration;
n={duration:9e4*Y[y].duration/1e6,a9k:1}}else{n.sampleCount=n.sampleCount+1}}q+=8;D.push(n);var u=D.length,e=579+z.byteLength+4*W+4*W+4*G+8*u;
A=new Uint8Array(e);j=0;U("moov");U("mvhd");V(0);V(0);V(0);V(1e3);V(b);V(65536);F(256);F(0);V(0);V(0);
V(65536);V(0);V(0);V(0);V(65536);V(0);V(0);V(0);V(1073741824);V(0);V(0);V(0);V(0);V(0);V(0);V(2);v();
U("trak");U("tkhd");V(7);V(0);V(0);V(1);V(0);V(b);V(0);V(0);F(0);F(0);F(256);F(0);V(65536);V(0);V(0);
V(0);V(65536);V(0);V(0);V(0);V(1073741824);V(K*65536);V(o*65536);v();U("mdia");U("mdhd");V(0);V(0);V(0);
V(N);V(b/1e3*N);x(85);x(196);F(0);v();U("hdlr");V(0);V(0);Z("vide");V(0);V(0);V(0);Z("VideoHandler");
x(0);v();U("minf");U("vmhd");V(1);F(0);F(0);F(0);F(0);v();U("dinf");U("dref");V(0);V(1);U("url ");V(1);
v();v();v();U("stbl");U("stsd");V(0);V(1);U("avc1");F(0);F(0);F(0);F(1);F(0);F(0);V(0);V(0);V(0);F(K);
F(o);V(4718592);V(4718592);V(0);F(1);for(var y=0;y<8;++y){V(0)}F(24);F(-1);U("avcC");T(z);v();v();v();
U("stts");V(0);V(u);for(var y=0;y<u;++y){V(D[y].sampleCount);V(D[y].duration)}v();U("stsc");V(0);V(1);
V(1);V(1);V(1);v();U("stsz");V(0);V(0);V(W);for(var y=0;y<W;++y){V(Y[y].byteLength)}v();U("stco");V(0);
V(W);var M=E;for(var y=0;y<W;++y){V(M);M+=Y[y].byteLength}v();U("stss");V(0);V(G);for(var y=0;y<G;++y){V(c[y])}v();
v();v();v();v();v();return}function p(D,n,N){var W=new Uint8Array(K*o*4),G=new Uint8Array(D),l=n?K-1:K,u=N?o-1:o;
if(n){for(var y=0;y<u;++y){W.set(G.slice(4*y*l,4*y*l+4*l),4*y*K);W[4*(y+1)*K-4]=G[4*(y+1)*l-4];W[4*(y+1)*K-3]=G[4*(y+1)*l-3];
W[4*(y+1)*K-2]=G[4*(y+1)*l-2];W[4*(y+1)*K-1]=G[4*(y+1)*l-1]}if(N){W.set(W.slice(4*K*u-4*K,4*K*u),4*K*u)}}else if(N){W.set(G);
W.set(G.slice(4*l*u-4*l),4*l*u)}return W.buffer}async function a(D,n,N,W){var G=Date.now(),l=!1,u=!1,s=0;
if(n%2!=0){l=!0;K=n+1}else{K=n}if(N%2!=0){u=!0;o=N+1}else{o=N}z=null;c=[];Y=[];b=0;q=0;f=new Uint8Array;
H(new Uint8Array($));H(h(0).buffer);H(i("mdat"));var e=new VideoEncoder({output:(chunk,opts)=>g(chunk,opts),error:es=>{console.log(es)}}),M={width:K,height:o,codec:"avc1.420034"},B=await VideoEncoder.isConfigSupported(M);
console.log(B);if(B.supported==!1){console.log("Encoding not supported. Config: ",B.config);return new Uint8Array(0).buffer}e.configure(M);
for(var y=0;y<D.length;++y){var t=D[y][1]*1e3,J=D[y][0];if(u||l){J=p(D[y][0],l,u)}var L=new VideoFrame(J,{timestamp:s,duration:t,format:"RGBA",codedWidth:K,codedHeight:o});
e.encode(L);L.close();s+=t}await e.flush();P();R=new Uint8Array(f.byteLength+A.byteLength);R.set(new Uint8Array(f),0);
R.set(h(q),E-8);R.set(A,f.byteLength);var k=Date.now();console.log(k-G);return R.buffer}return a}();
fv.aB={};fv.aB.MW=function(K){var o=new Uint8Array(K),Y=0,c=112,z=42,f=_.rT,O;Y+=8;var $=o[Y];Y++;if($!=z)throw"e";
var E=f(o,Y);Y+=4;var b=_.IF(o,Y,E);Y+=E*2;var q=[];while(Y<o.length){O=f(o,Y);Y+=4;if(O!=c)throw O;
Y+=4;O=o[Y];Y++;if(O!=z)throw O;var j=f(o,Y);Y+=4;var A=o[Y];Y++;if(A!=z){Y-=5;j=f(o,Y);Y+=8;O=o[Y];
Y++;if(O!=z)throw O}var R=f(o,Y)*2;Y+=4;if(j>0)q.push(Y+R);Y+=R+j}var g=new DOMParser,H=g.parseFromString(b,"image/svg+xml").firstChild.firstChild,i=[];
fv.aB.P1(H,o,q,i);return i};fv.aB.P1=function(K,o,Y,c){var z=K.firstChild.firstChild;if(z.tagName=="Image"){var f=z.getElementsByTagName("ImageDescription")[0],$=f.children[0].children,E=f.children[1].children,b=Y.shift(),q=[];
for(var y=0;y<E.length;y++)q.push(parseInt(E[y].getAttribute("NumberOfElements")));while(q.length>3)q[2]*=q.pop();
var O=$.length,j=q[0],A=q[1],R=q[2],g=parseInt(E[0].getAttribute("BytesInc"));for(var H=0;H<R;H++){var i=d.R(j*A*4);
d.nz(i,4278190080);for(var h=0;h<O;h++){var x=d.R(j*A);if(g==1)for(var F=0;F<x.length;F++)x[F]=o[b+F];
else if(g==2)for(var F=0;F<x.length;F++)x[F]=Math.min(255,(o[b+F*2+1]<<8|o[b+F*2])>>>2);else throw g;
if(h!=3)d.cb(x,i,h);if(O==1){d.cb(x,i,1);d.cb(x,i,2)}b+=j*A*g}c.push({eQ:new hD(0,0,j,A),data:i.buffer})}}else{var X=K.children,V=0;
while(V<X.length&&X[V].tagName!="Children")V++;if(V==X.length)throw"e";X=X[V].children;for(var U=0;U<X.length;
U++)fv.aB.P1(X[U],o,Y,c)}};fv.ah$=function(){function K($,E,b,q,O){var j=new Int8Array($.buffer),A=new Int8Array(q.buffer),R=E+b;
while(E<R){var h4=j[E];E++;if(h4>=0&&h4<128)for(var y=0;y<h4+1;y++){A[O]=j[E];O++;E++}if(h4>=-127&&h4<0){for(var y=0;
y<-h4+1;y++){A[O]=j[E];O++}E++}}return O}function o($,E,b,q,O,j){var A=E*b*q>>>3,R=d.R(A*O),g=c($,0,0,0)[0];
for(var H=0;H<O;H++){var i=g[H+1];if(j){var h=fv.WD("jpg").MW(i.buffer),x=d.R(A);d.jf(new Uint8Array(h[0].data),x);
R.set(x,A*H)}else if(i[0]==255&&i[1]==216&&i[2]==255){var F=UTIF.LosslessJpegDecode(i);R.set(new Uint8Array(F.buffer),A*H)}else K(i,64,i.length,R,A*H)}return R}function Y($){var E=new Uint8Array($),b=0,q=_.H9(E,0,128);
b+=128;var O=_.H9(E,b,4);b+=4;var j=z(E,b,0)[0],A=j.g28;if(A==null){alert("No image.");return[]}var R=A.cols,g=A.rows,H=R*g,i=A.photoInterpret,h=A.bitsAlloc,x=A.bitsStored,F=A.lossyCompr;
if(F==null)F=j.g8.lossyCompr;var X=j.g7fe0.pixelData,V=A.numOfFrames;V=V?parseInt(V):1;var U=new Uint8Array(X.buffer),Z=H*h>>>3;
if(U.length!=Z*V){X=o(X,R,g,h,V,F)}else{}if(h==16)X=new Uint16Array(X.buffer);console.log(A);console.log(j);
var T=[];for(var v=0;v<V;v++){var P=v*Z,$=d.R(R*g*4);$.fill(255);if(i=="MONOCHROME2"){var p=0,a=255,D=A.largestValue,n=A.smallestValue;
if(D!=null){a=D;p=n}else if(x!=8){a=0;p=1e9;for(var y=0;y<H;y++){var N=X[P+y];if(N>1<<x-8){if(N>a)a=N;
if(N<p)p=N}}}var W=255/(a-p);for(var y=0;y<H;y++){var N=Math.max(0,Math.min(255,(X[P+y]-p)*W)),G=y*4;
$[G]=$[G+1]=$[G+2]=N}}else if(i=="PALETTE COLOR"){var l=A.pltRed,u=A.pltGreen,e=A.pltBlue;for(var y=0;
y<H;y++){var M=X[P+y],G=y*4;$[G]=l[M]>>>8;$[G+1]=u[M]>>>8;$[G+2]=e[M]>>>8}}else throw i;T.push({eQ:new hD(0,0,R,g),data:$.buffer})}return T}function c($,E,b,q){if(b==0)b=$.length;
var O=_.Bt,j=_.ac,A=_.rT,R=[],g=E;while(E<b){var H=O($,E);E+=2;var i=O($,E);E+=2;var h=A($,E);E+=4;if(H==65534&&i==57344){if(h==4294967295){var x=z($,E,q+1);
R.push(x[0]);E=x[1]}else{R.push($.slice(E,E+h));E+=h}}else if(H==65534&&i==57357){}else if(H==65534&&i==57565)break;
else throw"e"}return[R,E]}function z($,E,b){var q=_.Bt,O=_.ac,j=_.rT,A={},R="\t".repeat(b);while(E<$.length){var g=q($,E),x="",F=0,V=null;
E+=2;var H=q($,E);E+=2;var i=g.toString(16),h=H.toString(16);if(g==65532)break;if(g==65534&&H==57357){E-=4;
break}if(g==65534&&H==57565)throw"e";if(H==0){E+=8;continue}if(65<=$[E+1]){x=_.H9($,E,2);E+=2;if(x=="OB"||x=="SQ"||x=="OW"){F=j($,E+2);
E+=6}else{F=q($,E);E+=2}}else{x=f[i][h].split(",")[1];F=j($,E);E+=4}console.log(i,h,x,F);var X=f[i][h];
if(X)X=X.split(",")[0];if(X==null){X="t"+h}if(x=="SQ"){var U=c($,E,E+F,b);V=U[0];E=U[1];F=0}else if(x=="US")V=q($,E);
else if(x=="SS")V=O($,E);else if(x=="UL")V=j($,E);else if(x=="FL")V=_.dS($,E);else if(x=="AT")V=[q($,E),q($,E+2)];
else if(x=="OB")V=$.slice(E,E+F);else if(x=="OW")V=new Uint16Array($.slice(E,E+F).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(x)!=-1){var Z=E+F;
while($[Z-1]==0)Z--;V=_.H9($,E,Z-E).trim()}else{console.log(R,JSON.stringify(_.H9($,E,Math.min(F,32))));
throw x}if(A["g"+i]==null)A["g"+i]={};A["g"+i][X]=V;E+=F}return[A,E]}var f={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{MW:Y}}();fv.wY={};fv.wY.MW=function(K){var o=new Uint8Array(K),Y=0,c={},O=1e9;for(var y=0;y<306;
y++){var z=_.H9(o,Y,8).trim(),f=_.H9(o,Y+9,71).split("/")[0].trim();c[z]=f;Y+=80;if(z=="END"){Y=Math.ceil(Y/2880)*2880;
break}}var $=parseInt(c.NAXIS1),E=parseInt(c.NAXIS2),b=$*E,q=parseInt(c.BITPIX),j=-1e9,A=new Float32Array(b),R=new Float32Array(K,Y,K.byteLength-Y>>>2);
for(var y=0;y<b;y++){var g=y<<2,H=y<<1;if(q==-32){var i=o[Y+g+0];o[Y+g+0]=o[Y+g+3];o[Y+g+3]=i;var i=o[Y+g+1];
o[Y+g+1]=o[Y+g+2];o[Y+g+2]=i;A[y]=R[y]}else if(q==16){A[y]=_.Bt(o,Y+H)}else throw q;var h=A[y];if(h<O)O=h;
if(h>j)j=h}var x=d.R(b*4),F=1/j;for(var X=0;X<E;X++)for(var V=0;V<$;V++){var y=X*$+V,U=(E-X-1)*$+V,g=U<<2,h=A[y]*F;
x[g]=x[g+1]=x[g+2]=255*h;x[g+3]=255}return[{eQ:new hD(0,0,$,E),data:x,ux:c.OBJECT}]};fv.e_={};fv.e_.MW=function(K){var o=new Uint8Array(K),Y=16,c=_.H9(o,Y,4),f=32,h=0,x=0,F=!1,l;
Y+=4;var z=_.H9(o,Y,8);Y+=8;while(o[Y+f-1]==0)f--;var $=_.H9(o,Y,f);Y+=32;var E=_.H9(o,Y,4);Y+=4;Y+=20;
var b=_.s(o,Y);Y+=4;var q=_.s(o,Y);Y+=4;var O=_.s(o,Y);Y+=4;var j=_.s(o,Y);Y+=4;var A=_.s(o,Y);Y+=4;
var R=_.s(o,Y);Y+=4;var g="FujiFilm "+$,H=[0,1,1,2];if(g=="FujiFilm X10"){g="FujiFilm FinePix X10";H=[2,1,1,0]}var i={t271:["FujiFilm"],t272:[g],t277:[1],t33421:[2,2],t33422:H,d8:1};
Y=O;var X=[],V=_.vP,U=_.s(o,Y);Y+=4;for(var y=0;y<U;y++){var Z=V(o,Y);Y+=2;var T=V(o,Y);Y+=2;if(Z==256){x=V(o,Y);
h=V(o,Y+2)}else if(Z==272){X=[V(o,Y),V(o,Y+2)]}else if(Z==273){X.push(V(o,Y),V(o,Y+2))}else if(Z==304){F=!(o[Y]>>>7)}else if(Z==305){var v=Math.round(Math.sqrt(T)),P=[];
for(var p=0;p<T;p++)P.push(o[Y+p]);P.reverse();i.t33421=[v,v];i.t33422=P}else if(Z==12272){var a=V(o,Y),D=V(o,Y+2),n=V(o,Y+6);
i.t50728=[a/D,1,a/n]}Y+=T}var N=h<x,W=o.slice(A,A+R),G=Math.round(R*8/(h*x));if(W[0]==73&&W[1]==73&&W[2]==42){l=UTIF.decode(W.buffer)[0].fujiIFD;
G=l.t61443[0];var u=l.t61454,e=l.t61450;if(e)i.t50714=e;if(u)i.t50728=[u[0]/u[1],1,u[0]/u[2]];var M=l.t61447[0];
W=W.slice(M,M+l.t61448[0])}var R=W.length,B=R*8<h*x*G;if(B){console.log("compressed");var s=i.t33422,t=~~Math.sqrt(s.length),J=[];
for(var y=0;y<t;y++)J[y]=s.slice(y*t,y*t+t);W=new Uint8Array(UTIF._decompressRAF(W,J).buffer);R=W.length}function L(j9,a4,ar){ar=ar<<8-(a4&7);
var ez=a4>>>3;j9[ez]|=ar>>>16;j9[ez+1]|=ar>>>8;j9[ez+2]|=ar}var k=R*8/(h*x);if(k==16)for(var y=0;y<R;
y+=2){var C=W[y];W[y]=W[y+1];W[y+1]=C}else if(k==14){for(var y=0;y<R;y+=4){var C=W[y];W[y]=W[y+3];W[y+3]=C;
C=W[y+1];W[y+1]=W[y+2];W[y+2]=C}}else if(k==12)for(var y=0;y<R;y+=3){var r=W[y+2]<<16|W[y+1]<<8|W[y+0];
r=r>>>12|(r&4095)<<12;W[y]=r>>>16&255;W[y+1]=r>>>8&255;W[y+2]=r&255}if(N)W=fv.e_.awl(W,h,x);var Q=N?2:1;
h*=Q;i.t256=[h];i.t257=[x];i.t258=[G];i.t50719=[X[1],X[0]*Q];i.t50720=[X[3],X[2]*Q];i.width=h;i.height=x;
i.data=new Uint8Array(W.buffer);return[i]};fv.e_.awl=function(K,o,Y){K=new Uint16Array(K.buffer);var c=new Uint16Array(o*Y*2);
for(var z=0;z<Y;z+=2)for(var f=0;f<o;f++){var $=z*o+f,E=$*2,b=K[$],q=K[$+o];c[E+1]=c[E+2*o]=q;if(((z>>>1)+f&1)==0){c[E]=b;
c[E+2*o+1]=K[$+1]}else{c[E]=K[$-1];c[E+2*o+1]=b}}return c};fv.g9={};fv.g9.BH=!0;fv.g9.vc=function(K,o,Y,c){var z=new Uint8Array(K[0][0]),f=o*Y,$=[1,3,4][c[0]],E=8+8*c[1],b=c[2];
if($==1){var q=new Uint8Array(o*Y);d.JI(z,q,0);z=q}if($==3){var q=new Uint8Array(o*Y*3);for(var y=0;
y<f;y++){var O=y*4,j=y*3;q[j]=z[O];q[j+1]=z[O+1];q[j+2]=z[O+2]}z=q}if(E==16){var A=z.length,q=new Uint8Array(A*2);
for(var y=0;y<A;y++){var R=Math.round(z[y]*(65535/255));q[y*2+b]=R>>>8;q[y*2+1-b]=R&255}z=q}return z.buffer};
fv.Rd={};fv.Rd.MW=function(K,o){function Y(b){return~~(.5+d.RU(Math.max(0,Math.min(1,b)))*255)}var c=EXRLoader.parse(K),z=c.width,f=c.height,$=d.R(z*f*4);
for(var E=0;E<f;E++)for(var b=0;b<z;b++){var y=(E*z+b)*4,q=((f-E-1)*z+b)*4;$[y]=Y(c.data[q+0]);$[y+1]=Y(c.data[q+1]);
$[y+2]=Y(c.data[q+2]);$[y+3]=Y(c.data[q+3])}return[{eQ:new hD(0,0,z,f),data:$.buffer}]};fv.HF={};fv.HF.BH=!0;
fv.HF.MS=!0;fv.HF.vc=function(K,o,Y,c,z){c=["",100,!1,!1,!1,0,!1];c[7]=["jpg"];var f=new ToDXF;hu.lW(K,c,f,z.zl);
return f.buffer};fv.HF.MW=function(K,o){var Y=72,c=new dF(1,0,0,1,0,0);c.scale(Y/72,Y/72);o.aE=Y;var z=new ik(o,c,!1);
FromDXF.Parse(K,z)};fv.Bg={};fv.Bg.MW=function(){var K=_.Bt,o=_.rT,Y=_.H9,c;function z($,E,b,q,O){var j=o($,b),A=o($,b+4),R=o($,b+8),g=K($,b+12),H=K($,b+14);
b+=16;var i={};for(var y=0;y<g+H;y++){var h=o($,b),x=o($,b+4),F,X;if(h>>>31==1){h=h&16777215}if(y<g)F=_.IF($,E+h+2,K($,E+h));
else F="id"+h;var V=q.slice(0);V.push(F);if(x>>>31==1){x=x&268435455;X=z($,E,E+x,V,O)}else{var U=o($,E+x),Z=o($,E+x+4),T=o($,E+x+8),v=o($,E+x+12);
if(v!=0)throw"e";if(U<O[0]||U>O[0]+O[1])throw"e";var P=O[2]+U-O[0];X=$.slice(P,P+Z);var p=fv.sR(X.buffer);
if(p&&["bmp","png","ico"].indexOf(p)!=-1){var a=fv.WD(p);if(!a.MS){var D=null;try{D=a.MW(X.buffer)}catch(es){}if(D){D[0].ux=V[1];
c.push(D[0])}}}else if(p)console.log(p)}i[F]=X;b+=8}return i}function f($){c=[];var E=new Uint8Array($),b=0,q=K(E,b);
b+=2;b+=58;var O=o(E,b);b+=4;b=O;var j=Y(E,b,4);b+=4;var A=K(E,b);b+=2;var R=K(E,b);b+=2;var g=o(E,b);
b+=4;var H=o(E,b);b+=4;var i=o(E,b);b+=4;var h=K(E,b);b+=2;var x=K(E,b);b+=2;b+=h;var F={};for(var y=0;
y<R;y++){var X=b;while(E[X]!=0)X++;var V=Y(E,b,X-b),U=o(E,b+8),Z=o(E,b+12),T=o(E,b+16),v=o(E,b+20),P=o(E,b+24),p=o(E,b+28),a=K(E,b+32),D=K(E,b+34),x=o(E,b+36);
F[V]=[Z,U,v,T,x];if(P+p!=0)throw"e";b+=40}for(var n in F){var N=F[n];b=N[2];if(n==".rsrc"){var W=z(E,b,b,[],N),G="id134"}}return c}return f}();
fv.iD={};fv.iD.MS=!0;fv.iD.MW=function(K,o,Y){gH.qz(K,o,Y)};fv.iD.vc=function(K,o,Y){return gH.lW(K)};
(function(){var K=fv.ZK.get("wasm/zstd").buffer;WebAssembly.instantiate(K).then(function(o){var Y=o.instance.exports;
fv.iD.aet=Y})}());fv.iD.DC=function(K,o){var Y=fv.iD.aet,c=K.length,z=Y.memory,f=2*c+1e6,b=8;fv.g$(Y,f);
var $=new Uint8Array(z.buffer),E=Y.malloc(c);$.set(K,E);while(!0){var q=o==null?c*b:o;fv.g$(Y,f+q);var O=Y.malloc(q),j=Y.ZSTD_decompress(O,q,E,c);
if(j==-70){Y.free(O);b+=b>>>1;if(o!=null)throw"error"}else{$=new Uint8Array(z.buffer);K=$.slice(O,O+j);
Y.free(O);break}}Y.free(E);return K};fv.G$={};fv.G$.MS=!0;fv.G$.MW=function(){var K=0,o=1,Y=2,c=3,z=4,f=5,$=6,E=7,b=1,q=2,O=7,j=8,A=9,R,g,H,i,h;
function x(){var h4=_.$C(R,g);g+=4;return h4}function F(){var l=0,u=0;for(var y=0;y<5;y++){var e=R[g++];
l+=(e&127)<<u;u+=7;if((e&128)==0)break}return l}function X(){var l=F(),u=_.DI(R,g,l);g+=l;return u}function V(){return{typeName:X(),auZ:x()}}function U(){var l=x(),u=X(),e=[],M=x();
for(var y=0;y<M;y++)e.push([X()]);return{id:l,S4:u,a0Z:e}}function Z(l){var u=l.a0Z,e=[];for(var y=0;
y<u.length;y++)u[y].push(R[g++]);for(var y=0;y<u.length;y++){var M=u[y][1],B;u[y].push(T(M))}}function T(l){var u;
if(l==K)u=R[g++];else if(l==c)u=X();else if(l==z)u=V();else if(l==o||l==Y||l==$||l==f){}else throw l;
return u}function v(l,u,e){var M;if(l==K){if(u==b)M=R[g++]==1;else if(u==q){M=R[g++]}else if(u==j)M=x();
else if(u==A){M=x();x()}else throw u}else if(l==c){M=D(e+1)}else if(l==z){M=D(e+1)}else if(l==f){M=D(e+1)}else if(l==o){M=D(e+1)}else if(l==$){M=D(e+1)}else throw l;
return M}function P(l,u){var e=H["c"+l],M=e.a0Z,B={_class:e.S4};for(var y=0;y<M.length;y++){var s=M[y],t=s[1],J=s[2],L=v(t,J,u),k=s[0];
B[k]=L}return B}function p(l,u,e,M){var B=[];for(var y=0;y<l;y++){var s=v(u,e,M);if(s.xu&&s.xu=="null_count"){var t=s.ii;
for(var J=0;J<t;J++)B.push(null);y+=t-1}else B.push(s)}return B}function a(){return[x(),x()]}function D(l){if(l==null)throw"e";
var u=null,e=R[g],M=null;g++;if(e==0){var B=x(),s=x(),t=x(),J=x();u=[B,s,t,J]}else if(e==1){M=x();var L=x();
u=P(L,l)}else if(e==4){var k=U();M=k.id;Z(k);H["c"+k.id]=k;u=P(k.id,l)}else if(e==5){var k=U();M=k.id;
Z(k);var C=x();H["c"+k.id]=k;u=P(k.id,l)}else if(e==6){M=x();var r=X();u=r}else if(e==7){M=x();var Q=R[g++];
if(Q!=0)throw Q;var j9=x();if(j9!=1)throw j9;var a4=x(),ar=R[g++],ez=T(ar);u=p(a4,ar,ez,l)}else if(e==9){var ja=x();
u={xu:"ref",ii:ja};h["o"+ja]=!0}else if(e==10){u={xu:"null_count",ii:1}}else if(e==11){u={xu:"end"}}else if(e==12){var C=x(),c3=X()}else if(e==13){var hW=R[g++];
u={xu:"null_count",ii:hW}}else if(e==16){var fO=a();M=fO[0];u=p(fO[1],z,null,l)}else if(e==17){var fO=a();
M=fO[0];u=p(fO[1],o,null,l)}else throw"e";if(M!=null&&M>0){if(i["o"+M]!=null)throw"e";i["o"+M]=u}return u}function n(l,i){if(l instanceof Array){for(var y=0;
y<l.length;y++)l[y]=N(l[y],i)}else if(l instanceof Object){for(var u in l)l[u]=N(l[u],i)}}function N(l,i){if(l&&l.xu&&l.xu=="ref")return i["o"+l.ii];
else return l}function W(l,u,e){R=new Uint8Array(l);g=0;H={};i={};h={};var M=_.H9(R,0,4);if(M!="PDN3")throw M;
g+=4;var B=_.Bt(R,g)+R[g+2]*256*256;g+=3;var s=_.H9(R,g,B);g+=B;g+=2;while(!0){var t=D(0);if(t&&t.xu&&t.xu=="end")break}for(var J in h)if(i[J]==null)throw J;
for(var J in i)n(i[J],i);var L=i.o1;console.log(L);u.m=L.width;u.e=L.height;u.buffer=d.R(u.m*u.e*4);
var k=L.layers["ArrayList+_items"];for(var y=0;y<k.length;y++){var C=k[y];if(C==null)continue;console.log(C);
var r=C["Layer+width"],Q=C["Layer+height"],j9=C["Layer+properties"],a4=C.properties,ar=a4.blendOp._class.split("+").pop();
ar=ar.slice(0,ar.length-7);var ez={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[ar],ja=u.Uu();
ja.vd(j9.name);ja.opacity=j9.opacity;ja.dt(j9.visible);ja.YF=ez;var c3=1<<16,hW=Math.ceil(r*Q/c3);ja.rect=new hD(0,0,r,Q);
ja.buffer=d.R(r*Q*4);var fO=ja.buffer;g+=5;for(var ei=0;ei<hW;ei++){var fV=G();fO.set(fV[1],fV[0]*c3*4)}for(var aW=0;
aW<fO.length;aW+=4){var ee=fO[aW+0];fO[aW+0]=fO[aW+2];fO[aW+2]=ee}u.B.push(ja)}}function G(){var l=_.s(R,g);
g+=4;var u=_.s(R,g);g+=4;var e=pako.inflateRaw(R.slice(g+10));g+=u;return[l,e]}return W}();fv.kv={};
fv.kv.MS=!0;fv.kv.MW=function(K,o){iJ.qz(K,o)};fv.rg={};fv.rg.MS=!0;fv.rg.MW=function(){var K,o,i=null,T,v;
function Y(){var G=K[o];o+=1;return G}function c(){var G=_.vP(K,o);o+=2;return G}function z(){var G=_.s(K,o);
o+=4;return G}function f(){var G=_.LM(K,o);o+=4;return G}function $(){var G=_.Io(K,o);o+=8;return G}function E(){var G=z();
if(G>200)throw G;var l=_.k$(K,o,G);o+=G*2;return l}function b(){var G=_.yy(K,o);o+=8;return G}function q(){var G=_.$T(K,o);
o+=4;return G}function O(){var G=z();if(z()!=4)throw"e";var l=[];for(var y=0;y<G;y++)l.push(z());return l}function j(G,l,u){for(var y=0;
y<G.length;y++)if(G[y][l]==u)return G[y]}function A(G,l){var u=Date.now();K=new Uint8Array(G);o=_.oR(K,"CH"+"NK"+"SQ"+"Li")+8;
var e=$(),M=iZ.parse(K.buffer.slice(o,o+e)),B=iZ.ac$(M,!0);console.log(B);var s=B.Canvas[0],t=s.Width,J=s.Height,L=s.Unit,k=l.aE=s.Resolution;
if(L==0){}else if(L==1){t=Math.round(t*k/2.54);J=Math.round(J*k/2.54)}else if(L==2){t=Math.round(t*k/25.4);
J=Math.round(J*k/25.4)}else if(L==3){t=Math.round(t*k);J=Math.round(J*k)}else if(L==5){t=Math.round(t*k/72);
J=Math.round(J*k/72)}else{console.log(s);throw L}l.m=t;l.e=J;l.buffer=d.R(t*J*4);console.log(Date.now()-u);
var C=j(B.Layer,"MainId",s.RootFolder);D(B,K,l,C.FirstChildIndex,0);console.log(Date.now()-u)}function R(){var G=_.Bt(K,o);
o+=2;return G}function g(){var G=_.rT(K,o);o+=4;return G}function H(){var G=_.$C(K,o);o+=4;return G}function h(G){var l={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},e=0;
K=G;o=0;var u={};while(o<K.length){var M=g(),B=g(),s=o+B;if(B==0)continue;var t=[];if(M==11){var J=g();
for(var L=0;L<J;L++){var k=[g(),g()];t.push(k);e+=k[1];var C=o+g()-4;k.push(R(),R(),R(),R());k.push(_.sA(K,o));
o+=8;var r=R();k.push(_.IF(K,o,r));o+=r*2;if(o!=C)throw"e"}}else if(M==31){t=_.DI(K,o,B);o+=B}else if(M==34)for(var y=0;
y<3;y++)t.push(g()>>>16);else if(M==42)for(var y=0;y<4;y++)t.push(H());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(M)!=-1){if(B!=4)throw"e";
t=g();if([37,45,46,51,53,55,61,62].indexOf(M)!=-1){if(t!=0&&t!=1)throw M+":"+t;o=s;continue}}else if(M==47){var Q=R();
if(g()!=50)throw"e";if(g()!=0)throw"e";var j9=R();t=_.H9(K,o,j9);o+=j9}else if(M==57){var J=R();for(var y=0;
y<J;y++){var a4=R(),ar=_.H9(K,o,a4);o+=a4;var ez=R(),ja=_.H9(K,o,ez);o+=ez;t.push([ar,ja])}var c3=g();
for(var y=0;y<J;y++)t[y].push(c3)}else if(M==39||M==63)t.push(g(),g());else if(M==64){for(var y=0;y<8;
y++)t.push(_.$C(K,o+y*4)/100);o+=32}else{t=K.slice(o,s);o+=B}var hW=l[M];if(hW==null)hW="t"+M;if(u[hW])throw"e";
u[hW]=t;if(o!=s)throw M}if(i){}i=u;return u}function x(G){K=G;o=0;var l=z();if(l!=G.length)throw"e";
var u=z(),e=E(),M=z(),B=b(),s=[z()/4294967295,z()/4294967295,z()/4294967295];return[M,B,s]}function F(G,l){function u(){var hH=[];
for(var y=0;y<4;y++)hH.push(_.LM(K,o+y*4));o+=16;return hH}function e(h4){var hH=[];for(var y=0;y<h4;
y++)hH.push(q());return hH}function M(hH){var b8="";for(var y=o;y<hH;y+=4)b8+=K.slice(y,y+4).join(", ")+"\n";
return b8}K=G;o=l+8;var B=$(),s=o+B;o+=56;if(o==s)return;var t=[],J=[],L=[],k=[],C=[];while(o<s){var r=z(),fO=1;
if(r!=88&&r!=96)throw r;var r=z();if(r!=72)throw"e";var Q=z();if(Q!=88&&Q!=104&&Q!=120)throw Q;var r=z();
if(r!=88)throw"e";var j9=z(),a4=z(),ar=u(),ez=[];L.push(ez);for(var y=0;y<6;y++){ez.push(V(z()))}var ja=b(),c3=z();
if(c3==16||c3==1040||c3==304){z();c3=z()}var hW=b();k.push(hW);var ei=z(),fV=(a4&256)!=0,aW=[],ee=[],hM={88:1,104:2,120:3}[Q];
for(var y=0;y<j9;y++){var ds=y==0?1:hM;for(var cp=0;cp<ds;cp++)aW.push(b(),b());ee.push(ds==1?y==0?"M":"L":ds==2?"Q":"C");
var eA=u(),db=z();fO=q();var js=e(10),bF=z(),jI=z()}C.push(fO);if(Q==104){var gF=b(),b6=b();if(fV){ee.push("Q");
aW.push(gF,b6,aW[0],aW[1])}}if(Q==120){var gF=b(),b6=b(),ji=b(),hd=b();if(fV){ee.push("C");aW.push(gF,b6,ji,hd,aW[0],aW[1])}}if(a4&128){var eZ=["M"],hj=[aW[0],aW[1]],eK=aW.length>>>1,cX=d.M.aik(aW);
for(var y=0;y<eK;y++){var bW=aW[2*y],ju=aW[2*y+1],ci=.7;for(var cp=0;cp<2;cp++){cX[y*4+cp*2]=ci*cX[y*4+cp*2]+(1-ci)*bW;
cX[y*4+cp*2+1]=ci*cX[y*4+cp*2+1]+(1-ci)*ju}}for(var y=1;y<eK;y++){eZ.push("C");hj.push(cX[y*4-2],cX[y*4-1],cX[y*4],cX[y*4+1],aW[y*2],aW[y*2+1])}if(fV){eZ.push("C");
hj.push(cX[eK*4-2],cX[eK*4-1],cX[0],cX[1],aW[0],aW[1])}aW=hj;ee=eZ}if(fV)ee.push("Z");J=J.concat(aW);
t=t.concat(ee)}if(o!=s)throw"e";return[{z:J,G:t},L,k,C]}function X(G,l){K=G;o=l+8;var u=$(),e=o+u,M=0;
o+=56;var B=[];while(o<e){var s=z(),t=o+s-4;if(t>e)throw"e";if(s==11){o-=4;var J=E(),L=z();if(L!=12)throw"e";
var k=O(),C=E(),L=z();if(L!=12)throw"e";var r=O();if(o!=e)throw"e"}else{var Q=E(),j9=z();if(j9!=M)throw j9;
M++;var a4=c();if(a4!=0&&a4!=1&&a4!=2&&a4!=5)throw a4;var ar=Y();if(ar!=0&&ar!=32&&ar!=64)throw ar;if(z()!=1)throw"e";
if(z()!=1)throw"e";if(Y()!=0)throw"e";if(z()==1){var ez=z(),ja=_.rT(K,o);if(ez!=ja+4)throw"e";B.push(new Uint8Array(K.buffer,o+4,ja));
o+=ez}else B.push(new Uint8Array(0));var c3=E();if(o!=t)throw o}}return B}function V(G){return Math.min(255,Math.round(G/16777216))}function U(G){K=G;
o=0;var l=z();if(l!=16)throw l;var u=z();if(u!=102)throw u;var e=z();if(e!=42&&e!=58)throw e;var M=z();
if(G.length-M!=118+e)throw G.length-M;var B=E();if(B!="Parameter")throw B;var s=z(),t=z(),J=z(),L=z(),k=[];
for(var y=0;y<16;y++)k.push(z());var B=E();if(B!="InitColor")throw B;if(z()!=20)throw"e";var C=z(),r=z(),Q=z();
if(z()!=4)throw"e";if(e==58){var j9=[];k.push(j9);for(var y=0;y<4;y++)j9.push(V(z()))}var B=E();if(B!="BlockSize")throw B;
var a4=z();if(a4!=12)throw a4;var ar=O();if(o!=K.length)throw"e";return[s,t,J,L,C*255,k]}function Z(G,l){var u=_.H9(l,0,40),e=j(G["ExternalC"+"hunk"],"Exte"+"rnalID",u);
if(e==null){console.log("chnk not found",u)}return e?e.Offset:-1}function P(G,l,u,e){if(T==null){T=d.R(256*256*4);
v=d.R(256*256)}var M=G.Mipmap,B=G.MipmapInfo,s=G.Offscreen,t=j(M,"MainId",u),J=j(B,"MainId",t.BaseMipmapInfo),L=j(s,"MainId",J.Offscreen),k=Z(G,L.BlockData),A=null;
if(k==-1)return null;var C=X(l,k),r=U(L.Attribute),Q=r[0],j9=r[1],a4=r[2],ar=r[3],ez=r[4],ja=r[5],c3=ja[16],hW=ja[1],fO=ja[2],ei=hW+fO;
if(fO!=ja[5])throw"e";if(hW!=ja[7])throw"e";var fV=d.R(256*(ja[6]+ja[8])),aW=new hD;if(c3)aW=new hD(0,0,Q,j9);
else{for(var ee=0;ee<ar;ee++)for(var hM=0;hM<a4;hM++){var ds=C[ee*a4+hM];if(ds.length==0)continue;aW=aW.Bb(new hD(hM<<8,ee<<8,256,256))}}var cp=aW.wu(new hD(0,0,Q,j9)),eA=d.R(cp.Z()*(ei==1?1:4));
if(c3)new Uint32Array(eA.buffer).fill(255<<24|c3[0]<<16|c3[1]<<8|c3[2]);if(ei==1)eA.fill(ez);for(var ee=0;
ee<ar;ee++)for(var hM=0;hM<a4;hM++){var ds=C[ee*a4+hM];if(ds.length==0)continue;var db=new Uint8Array(ds.buffer,ds.byteOffset+2,ds.length-6),js=new hD(hM<<8,ee<<8,256,256);
UZIP.inflateRaw(db,fV);if(ei==1){if(ja[8]==32){p(fV,0,v);d.u_(v,js,eA,cp)}else d.u_(fV,js,eA,cp)}else if(ei==2){if(ja[8]==32){new Uint32Array(T.buffer).fill(4278190335);
p(fV,0,v);d.cb(v,T,3);p(fV,256*32,v);d.xI(v,T)}else for(var y=0;y<262144;y+=4){var c3=fV[65536+(y>>>2)];
T[y]=c3;T[y+1]=c3;T[y+2]=c3;T[y+3]=fV[y>>>2]}d.iF(T,js,eA,cp)}else if(ei==5){for(var y=0;y<262144;y+=4){T[y]=fV[65536+y+2];
T[y+1]=fV[65536+y+1];T[y+2]=fV[65536+y+0];T[y+3]=fV[y>>>2]}d.iF(T,js,eA,cp)}else throw ei}if(e&&ei==1){var bF=d.R(Q*j9*4);
d.cb(eA,bF,3);eA=bF}return[cp,eA,ez]}function p(G,o,l){for(var y=0;y<l.length;y++){l[y]=(G[o+(y>>>3)]>>>7-(y&7)&1)*255}}var a=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function D(G,l,u,e,M){var B=G.Layer,s=G.Canvas[0];while(e!=0){var t=j(B,"MainId",e),J=t.Type,a4=!1;console.log(t);
var L=u.Uu();L.vd(t.Name);L.opacity=Math.min(255,t.Opacity);L.dt((t.Visibility&1)!=0);L.YF=a[t.Composite];
if(L.YF==null){alert("Unknown blend mode "+t.Composite);L.YF="norm"}L.z_=t.Clip==1;u.B.push(L);var k=t.LayerMaskMipmap;
if(k!=0){var C=P(G,l,k,!1);if(C){L.F=new S.tp;L.F.rect=C[0];L.F.channel=C[1];L.F.color=C[2];n(L.F.rect,t,"Mask","Mask");
L.F.sc()}}var r=[];for(var y=0;y<3;y++)r.push(V(t["DrawColorMain"+["Red","Green","Blue"][y]]));var Q={t:"Objc",v:d.H.eD({o:r[0],A:r[1],J:r[2]})},j9=JSON.parse(eF.default);
for(var y=0;y<eF.order.length;y++)j9[eF.nk[y]]={t:"VlLs",v:[]};if(t.DrawColorEnable==1&&J!=1584){a4=!0;
var ar=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);ar.Clr=Q;j9.solidFillMulti.v.push({t:"Objc",v:ar})}if(t.EffectInfo){var ez=x(t.EffectInfo),r=ez[2];
if(ez[0]==1){a4=!0;var ar=JSON.parse(eF.NF[eF.order.indexOf("FrFX")]);ar.Clr.v=d.H.eD({o:r[0]*255,A:r[1]*255,J:r[2]*255});
ar.Sz.v.val=Math.round(ez[1]);j9.frameFXMulti.v.push({t:"Objc",v:ar})}}if(t.FilterLayerInfo){K=t.FilterLayerInfo;
o=0;var ja=z(),c3=z();if(c3!=K.length-o)throw"e";var hW={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[ja];
if(hW!=null){var fO=fn.Ta(hW);L.add[hW]=fO?fO:{};if(hW=="brit")fn.qy["g"+hW](fO,[f(),f(),!0]);if(hW=="hue2")bh.ef(fO,0,[f(),f(),f()]);
if(hW=="curv"){var ei=[],fV=o;for(var y=0;y<32;y++){o=fV+y*130;var aW=c(),ee=[];ei.push(ee);for(var hM=0;
hM<aW;hM++)ee.push(c()/65535,c()/65535)}for(var y=0;y<4;y++){var ee=ei[y],ds=fK.Yb(fO,y),cp=ds[0];for(var hM=0;
hM<ee.length;hM+=2){var eA=ds[hM>>>1]=JSON.parse(JSON.stringify(cp));eA.v.Hrzn.v=Math.round(ee[hM]*255);
eA.v.Vrtc.v=Math.round(ee[hM+1]*255)}fK.ef(fO,y,ds)}}if(hW=="grdm"){var db=fO.Grad.v,js=[],bF=z();if(bF!=c3-4)throw bF;
var jI=z();if(jI!=16)throw jI;var gF=z();if(gF!=28)throw gF;var b6=z();for(var y=0;y<b6;y++){var ji=0,hd=[];
for(var hM=0;hM<7;hM++)hd.push(z());js.push([hd[6]/32768,[hd[1]/4294967295,hd[2]/4294967295,hd[3]/4294967295],hd[4]/4294967295])}d.H.zZ(js,db)}if(hW=="blnc"){fO.PrsL.v=z()==1;
for(var y=0;y<3;y++){var eZ=fO[["ShdL","MdtL","HghL"][y]].v;for(var hM=0;hM<3;hM++)eZ[hM].v=f()}}}else console.log("Unknown adjustment",ja,c3,L.getName())}if(J==1584){L.Gh|=16;
L.add.SoCo={classID:"null",Clr:Q};L.WG(u)}else if(J==800){u.B.pop()}else if(t.Folder!=0){L.add.lsct=(t.Folder&16)!=0?eo.g5:eo.bl;
L.YF="pass";u.B.pop();u.B.push(u.uR());D(G,l,u,t.FirstChildIndex,M+1);u.B.push(L)}else if(J==0||J==1||J==2||J==3){var C=P(G,l,t.RenderMipmap,!0);
if(C){L.rect=C[0];L.buffer=C[1];n(L.rect,t,"Render","");L.sc()}if(t.TextLayerType!=null){var hj="TextLayerString",eK="TextLayerAttributes",bW=[t[hj]],ci=[t[eK]];
if(t[hj+"Array"]){K=t[hj+"Array"];o=0;while(o<K.length){var c3=g();bW.push(K.slice(o,o+c3));o+=c3}K=t[eK+"Array"];
o=0;while(o<K.length){var c3=g();ci.push(K.slice(o,o+c3));o+=c3}}var b8=L;u.B.pop();for(var gh=0;gh<bW.length;
gh++){var L=b8.clone();u.B.push(L);var aN=h(ci[gh]),eS=aN.runs,b2=aN.fnts,fZ=aN.bplg,dw=aN.bbox,ib=dw[2]-dw[0],eJ=dw[3]-dw[1],df=fZ[2]-fZ[0],k5=fZ[3]-fZ[1],eC=new dF;
eC.translate(-ib/2,-eJ/2);eC.rotate(Math.atan2(-k5,df));eC.translate(ib/2,eJ/2);var j7=dw[0]+t.OffsetX,cK=dw[1]+t.OffsetY;
eC.translate(j7,cK);L.add.lnsr="rend";L.add.TySh=b_.HO(0,0);L.add.TySh.jT=new hD(0,0,500,500);L.add.TySh.i=eC;
var bw=L.add.TySh.e9,f6=_.DI(bW[gh]);L.vd(f6);b_.Df(bw,0,f6);b_.go(bw,1);b_.X$(bw,[0,0,ib,eJ]);for(var y=0;
y<eS.length;y++){var iF=eS[y],ag=iF[0],bS=ag+iF[1],b$=iF[2],aj=b_.Sw(bw,ag,bS),iV=u.aE/72*aN.size/100;
if((b$&512)!=0)iV*=iF[6]/100;aj.Pf.FontSize=Math.round(iV);var Q=(b$&256)!=0?iF.slice(3):aN.colr;aj.Pf.FillColor={Type:1,Values:[1,Q[0]/65535,Q[1]/65535,Q[2]/65535]};
var g0=iF[7]==""?aN.font:iF[7];if(b2){if(b2[y])g0=b2[y][1];else for(var hM=0;hM<b2.length;hM++)if(b2[hM][0]==g0)g0=b2[hM][1]}b_.iN(aj,g0);
b_.K2(bw,ag,bS,aj)}if(L.rect.Z()==0)u.$P=!0;else{L.rect=new hD(j7,cK,ib,eJ);L.buffer=d.R(L.rect.Z()*4);
d.iF(b8.buffer,b8.rect,L.buffer,L.rect)}}}}var eB=G.VectorObjectList;if(t.VectorNormalType!=null&&eB&&j(eB,"LayerId",e)){var c7=j(eB,"LayerId",e).VectorData,dU=Z(G,c7),cz=F(l,dU);
if(cz){var fr=null;if(L.add.TySh){var fr=L.clone();u.B.push(fr);delete L.add.TySh}N(L,t,cz[0]);if(L.f$()){L.Gh|=24;
var kk=u.Uu();kk.vd(L.getName());kk.opacity=L.opacity;u.B.push(kk);N(kk,t,cz[0]);W(kk,cz);kk.WG(u)}else{W(L,cz,fr!=null)}L.WG(u);
if(fr){fr.add.TySh.i.concat(new dF(1,0,0,1,L.rect.x+L.rect.m/2,L.rect.y+L.rect.e/2))}}}if(a4)L.add.lmfx=j9;
if(e==s.CurrentLayer)u.Y=[u.B.indexOf(L)];e=t.NextIndex}}function n(G,l,u,e){G.x+=l[u+"OffscrOffsetX"]+l[e+"OffsetX"];
G.y+=l[u+"OffscrOffsetY"]+l[e+"OffsetY"]}function N(G,l,u){G.add.vmsk=new S.kZ;d.M.i(u.z,new dF(1,0,0,1,l.OffsetX,l.OffsetY),u.z);
G.add.vmsk.$=d.M.eX(u);G.D8()}function W(G,l,u){var e=l[1][0],M=l[2][0];G.Gh|=16;var B=G.add.vstk=eF.oc.Ta(!0,!0);
B.fillEnabled.v=u==!0;G.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:255,A:255,J:255})}};B.strokeStyleContent.v.Clr.v=d.H.eD({o:e[0],A:e[1],J:e[2]});
B.strokeStyleLineWidth.v.val=M*2;B.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return A}();
var jK={};jK.YT=!1;jK.Pd=!1;jK.Pz=!1;jK.V=document.createElement("canvas");jK.$F=null;jK.Wz=null;jK.OY=0;
(function(){var K={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},o;if(!o)o=jK.V.getContext("webgl",K);
if(!o)o=jK.V.getContext("experimental-webgl",K);if(o){jK.YT=!0;jK.Pd=!0;jK.$F=o;jK.Wz=o.createFramebuffer();
o.bindFramebuffer(o.FRAMEBUFFER,jK.Wz);o.disable(o.BLEND);o.disable(o.DEPTH_TEST);var Y=o.createBuffer();
o.bindBuffer(o.ARRAY_BUFFER,Y);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);
o.enableVertexAttribArray(0);o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0)}}());jK.asB=function(K){K=K.replace(/\s\s+/g," ");
K=K.replace(/; /g,";");K=K.replace(/} /g,"}");K=K.replace(/ }/g,"}");K=K.replace(/{ /g,"{");K=K.replace(/ {/g,"{");
K=K.replace(/= /g,"=");K=K.replace(/ =/g,"=");K=K.replace(/\| /g,"|");K=K.replace(/ \|/g,"|");return K};
jK.zn=function(K){var o=jK.$F;if(K>o.getParameter(o.MAX_TEXTURE_SIZE)){jK.YT=!1;alert("Disabling WebGL")}};
jK.IX=function(K,o){return new Float32Array([(K.x-o.x)/o.m,(K.y-o.y)/o.e,K.m/o.m,K.e/o.e])};jK.oN=function(){return this.V};
jK.EW=function(K,o){var Y=jK.$F;Y.bindFramebuffer(Y.FRAMEBUFFER,jK.Wz);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,K.eI,0);
Y.viewport(0,0,K.m,K.e);if(o){Y.enable(Y.SCISSOR_TEST);Y.scissor(o.x,o.y,o.m,o.e)}else Y.disable(Y.SCISSOR_TEST)};
jK.Kd=function(K,o,Y){if(Y)throw"error";var c=jK.$F;c.disable(c.SCISSOR_TEST);c.bindFramebuffer(c.FRAMEBUFFER,null);
c.viewport(0,0,K,o);if(Y){c.enable(c.SCISSOR_TEST);c.scissor(Y.x,Y.y,Math.round(Y.m),Math.round(Y.e))}else c.disable(c.SCISSOR_TEST)};
jK.clear=function(){var K=jK.$F;K.clearColor(0,0,0,0);K.clear(K.COLOR_BUFFER_BIT)};jK.lF=function(K,o){if(o==null)o=0;
var Y=(o>>>0&255)==0,c=(o>>>8&255)==0,z=(o>>>16&255)==0,f=(o>>>24&255)==0,$=(K>>>0&255)*(1/255),E=(K>>>8&255)*(1/255),b=(K>>>16&255)*(1/255),q=(K>>>24&255)*(1/255),O=jK.$F;
O.colorMask(Y,c,z,f);O.clearColor($,E,b,q);O.clear(O.COLOR_BUFFER_BIT);O.colorMask(!0,!0,!0,!0)};jK.Li=function(K,o,Y,c,z){var f=o.wu(c);
if(z)f=f.wu(z);if(f.xf())return;var $=jK.$F;jK.EW(K);$.bindTexture($.TEXTURE_2D,Y.eI);$.copyTexSubImage2D($.TEXTURE_2D,0,f.x-c.x,f.y-c.y,f.x-o.x,f.y-o.y,f.m,f.e)};
jK.r0=function(y,K,o){var Y=jK.J9[y];if(Y==null||Y.m!=K||Y.e!=o){if(Y)Y.delete();Y=new jK.ok(K,o)}jK.J9[y]=Y;
return Y};jK.J9=[];jK.li=function(){this.s3=null;this.dN=null};jK.li.gf=null;jK.li.prototype.Kf=function(K){if(this.dN)return;
this.dN={};var o=jK.$F,Y=this.s3,c=this.dN;for(var y=0;y<K.length;y++){var z=K[y];c[z]=o.getUniformLocation(Y,z)}};
jK.li.prototype.sb=function(){};jK.li.prototype.sp=function(K){var o=jK.$F;for(var y=0;y<K.length;y+=2){o.uniform1i(K[y],y>>>1);
o.activeTexture(o["TEXTURE"+(y>>>1)]);o.bindTexture(o.TEXTURE_2D,K[y+1])}o.activeTexture(o.TEXTURE0)};
jK.li.prototype.JC=function(K,o){var Y=jK.$F,c=Y.createShader(Y.FRAGMENT_SHADER);Y.shaderSource(c,K);
Y.compileShader(c);if(!Y.getShaderParameter(c,Y.COMPILE_STATUS))console.log(Y.getShaderInfoLog(c));var z=Y.createShader(Y.VERTEX_SHADER);
Y.shaderSource(z,o);Y.compileShader(z);if(!Y.getShaderParameter(z,Y.COMPILE_STATUS))console.log(Y.getShaderInfoLog(z));
var f=Y.createProgram();Y.attachShader(f,z);Y.attachShader(f,c);Y.linkProgram(f);if(!Y.getProgramParameter(f,Y.LINK_STATUS))console.log("Could not initialise shaders");
this.s3=f};jK.li.prototype.eG=function(){if(jK.li.gf!=this){jK.$F.useProgram(this.s3);jK.li.gf=this}};
jK._X=function(K,o){jK.Zd++;jK.OY+=K*o;if(jK.Pz)console.log("GL.Channels instances: "+jK.Zd+", memory: "+jK.OY);
var Y=jK.$F;this.m=K;this.e=o;this.eI=Y.createTexture();this.Ci=null;this.HD(this.eI,K,o)};jK._X.prototype.HD=function(K,o,Y){var c=jK.$F;
c.bindTexture(c.TEXTURE_2D,K);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);
c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,o,Y,0,c.ALPHA,c.UNSIGNED_BYTE,null)};jK._X.prototype.set=function(K,o){var Y=jK.$F;
Y.bindTexture(Y.TEXTURE_2D,this.eI);Y.pixelStorei(Y.UNPACK_ALIGNMENT,1);var c=this.m*this.e;if(o==null||o.Z()*10>c)Y.texImage2D(Y.TEXTURE_2D,0,Y.ALPHA,this.m,this.e,0,Y.ALPHA,Y.UNSIGNED_BYTE,K);
else{var z=new hD(0,0,this.m,this.e),f=d.R(o.Z());d.u_(K,z,f,o);Y.texSubImage2D(Y.TEXTURE_2D,0,o.x,o.y,o.m,o.e,Y.ALPHA,Y.UNSIGNED_BYTE,f)}Y.pixelStorei(Y.UNPACK_ALIGNMENT,4)};
jK._X.prototype.delete=function(){var K=jK.$F;if(this.eI){K.deleteTexture(this.eI);jK.Zd--;jK.OY-=this.m*this.e}if(jK.Pz)if(jK.Pz)console.log("GL.Channels instances: "+jK.Zd+", memory: "+jK.OY*4)};
jK.Zd=0;jK.ok=function(K,o,Y){if(Y==null)Y=!1;jK.Zd++;jK.OY+=K*o*4;if(jK.Pz)console.log("GL.Channels instances: "+jK.Zd+", memory: "+jK.OY);
var c=jK.$F;this.awT=Y;this.m=K;this.e=o;this.eI=c.createTexture();this.Ci=null;this.HD(this.eI,K,o)};
jK.ok.prototype.set=function(K,o){var Y=jK.$F;Y.disable(Y.SCISSOR_TEST);Y.bindTexture(Y.TEXTURE_2D,this.eI);
if(K==null||K instanceof Uint8Array){var c=this.m*this.e;if(o==null||o.Z()*10>c)Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,this.m,this.e,0,Y.RGBA,Y.UNSIGNED_BYTE,K);
else{var z=d.R(o.Z()*4);d.iF(K,new hD(0,0,this.m,this.e),z,o);Y.texSubImage2D(Y.TEXTURE_2D,0,o.x,o.y,o.m,o.e,Y.RGBA,Y.UNSIGNED_BYTE,z)}}else Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Y.RGBA,Y.UNSIGNED_BYTE,K)};
jK.ok.prototype.get=function(K){var o=jK.$F;jK.EW(this);o.readPixels(0,0,this.m,this.e,o.RGBA,o.UNSIGNED_BYTE,K)};
jK.ok.prototype.vt=function(K){if(K.xf())return;var o=jK.$F;if(this.Ci==null){this.Ci=o.createTexture();
this.HD(this.Ci,this.m,this.e);jK.Zd++;jK.OY+=this.m*this.e*4}o.bindFramebuffer(o.FRAMEBUFFER,jK.Wz);
o.bindTexture(o.TEXTURE_2D,this.Ci);if(K){var Y=Math.max(K.x,0),c=Math.max(K.y,0);o.copyTexSubImage2D(o.TEXTURE_2D,0,Y,c,Y,c,K.m,K.e)}else o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,this.m,this.e,0)};
jK.ok.prototype.HD=function(K,o,Y){var c=jK.$F;c.bindTexture(c.TEXTURE_2D,K);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.awT?c.LINEAR:c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,o,Y,0,c.RGBA,c.UNSIGNED_BYTE,null)};
jK.ok.prototype.delete=function(){var K=jK.$F;if(this.eI){K.deleteTexture(this.eI);jK.Zd--;jK.OY-=this.m*this.e*4}if(this.Ci){K.deleteTexture(this.Ci);
jK.Zd--;jK.OY-=this.m*this.e*4}if(jK.Pz)if(jK.Pz)console.log("GL.Channels instances: "+jK.Zd+", memory: "+jK.OY)};
jK.ok.prototype.clone=function(){var K=jK.$F,o=new jK.ok(this.m,this.e);jK.EW(this);K.bindTexture(K.TEXTURE_2D,o.eI);
K.copyTexImage2D(K.TEXTURE_2D,0,K.RGBA,0,0,this.m,this.e,0);return o};jK.hi={a48:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",auA:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Lf:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",cS:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aN:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Hu:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",le:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",dc:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",acK:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",yU:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ald:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",lf:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",wA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",BX:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",i7:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",UC:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Sc:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",xg:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",yM:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aon:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a5E:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Oa:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",Vd:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
jK.l={};jK.l.FC={};jK.l.Qi=null;jK.l.Ph=null;jK.l.hm=null;jK.l.qg=function(K,o,Y,c,z,f,$,E){if(E==null)E=eq.Sq();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(K)==-1){$=$*E.fill;E.fill=1;E.style=!1}var b=K+(E.Ve?"1":"");
if(jK.l.FC[b]==null)jK.l.FC[b]=new jK.l.Lk(K,E.Ve!=null);var q=jK.l.FC[b],O=Y.wu(z).wu(f);O.offset(-z.x,-z.y);
if(O.xf())return;var j=jK.$F;jK.EW(c,O);c.vt(O);q.eG();q.sb(o.eI,c.Ci,jK.IX(Y,z),$,E.fill,E.style?1:0,E.Rm?1:0,E.Ve?new Float32Array(E.Ve):null);
j.drawArrays(j.TRIANGLES,0,6)};jK.l.fG=function(K,o,Y,c,z,f,$,E,b,q,O){if(jK.l.Qi==null)jK.l.Qi=new jK.l.uA(!0,!0);
if(jK.l.Ph==null)jK.l.Ph=new jK.l.uA(!0,!1);if(jK.l.hm==null)jK.l.hm=new jK.l.uA(!1,!0);var j=q?1:0,A=K?z?jK.l.Qi:jK.l.Ph:jK.l.hm,R=new Float32Array(O?[O[0],O[1],O[2],1]:[1,1,1,1]),g=o?o.wu(c).wu(E):c.wu(E);
if(g.xf())return;g.offset(-c.x,-c.y);var H=jK.$F;jK.EW(Y,g);Y.vt(g);A.eG();if(K==null)A.sb(null,Y.Ci,z.eI,jK.IX(c,c),jK.IX(f,c),$/255,b,j,R);
else if(z)A.sb(K.eI,Y.Ci,z.eI,jK.IX(o,c),jK.IX(f,c),$/255,b,j,R);else A.sb(K.eI,Y.Ci,null,jK.IX(o,c),null,$/255,b,j,R);
H.drawArrays(H.TRIANGLES,0,6)};jK.l.a8x=function(K,o,Y){if(jK.l.ah_==null)jK.l.ah_=new jK.l.ke;var c=jK.l.ah_,z=new hD(0,0,K.m,K.e),f=jK.$F;
jK.EW(o);o.vt(z);c.eG();c.sb(z,K.eI,o.Ci,Y.eI);f.drawArrays(f.TRIANGLES,0,6)};jK.l.Sd={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
jK.l.Lk=function(K,o){jK.li.call(this);var Y="\t\t\tprecision highp float;\t\t\t"+jK.hi.Lf+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(o?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+jK.hi.Hu+"\t\t\t"+jK.hi.le+"\t\t\t"+jK.hi.dc+"\t\t\t"+jK.hi.a48+"\t\t\t"+jK.hi.auA+"\t\t\t"+jK.hi.acK+"\t\t\t"+jK.hi.yU+"\t\t\t"+jK.hi.ald+"\t\t\t"+jK.hi.lf+"\t\t\t"+jK.hi.hash+"\t\t\t"+(o?jK.hi.Oa:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+jK.l.Sd[K]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",c="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(K=="diss")Y+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else Y+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(o?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.JC(Y,c)};jK.l.Lk.prototype=new jK.li;jK.l.Lk.prototype.sb=function(K,o,Y,c,z,f,$,E){this.Kf("srct alpha source target fill style keepBGA blIf".split(" "));
var b=jK.$F,q=this.dN;b.uniform4fv(q.srct,Y);b.uniform1f(q.alpha,c);b.uniform1f(q.fill,z);b.uniform1f(q.style,f);
b.uniform1f(q.keepBGA,$);if(E)b.uniform4fv(q.blIf,E);this.sp([q.source,K,q.target,o])};jK.l.uA=function(K,o){jK.li.call(this);
this.akG=K;this.QE=o;var Y="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+jK.hi.wA+"\t\t\t"+jK.hi.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(K?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(o?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(K?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(o?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.JC(Y,c)};jK.l.uA.prototype=new jK.li;jK.l.uA.prototype.sb=function(K,o,Y,c,z,f,$,E,b){if(this.QE)this.Kf("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.Kf("srct awg dissv source target cswitch".split(" "));var q=jK.$F,O=this.dN;q.uniform4fv(O.srct,c);
if(this.QE){q.uniform4fv(O.wrct,z);q.uniform1f(O.wcolor,f)}else{q.uniform4fv(O.cswitch,b)}q.uniform1f(O.awg,$);
q.uniform1f(O.dissv,E);var j=[O.source,K,O.target,o];if(this.QE)j.push(O.weight,Y);this.sp(j)};jK.l.ke=function(){jK.li.call(this);
var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",o="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.JC(K,o)};jK.l.ke.prototype=new jK.li;jK.l.ke.prototype.sb=function(K,o,Y,c){this.Kf(["rct","prev","next","alpha"]);
var z=jK.$F,f=this.dN;z.uniform4fv(f.rct,[0,0,1,1]);this.sp([f.prev,o,f.next,Y,f.alpha,c])};jK.W2={so:{},pR:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
jK.W2.rF=function(K,o){var Y=jh.LP,c=[Y.o5,Y.Jb,Y.O4,Y.nf,Y.cx,Y.Wj,Y.z7,Y.Ux].indexOf(K.type),z=jK.W2.so[K.type];
if(z==null)z=jK.W2.so[K.type]=new jK.so[c];z.eG();z.sb(o,K);jK.$F.drawArrays(jK.$F.TRIANGLES,0,6)};jK.so=[];
jK.so[0]=function(){jK.li.call(this);this.JJ={};var K="\t\t\tprecision mediump float;\t\t\t"+jK.hi.le+"\t\t\t"+jK.hi.Lf+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[0].prototype=new jK.li;jK.so[0].prototype.sb=function(K,o){var Y={o:o.SR,A:o.a9,J:o.C1,g:d.R(o.SR.length)},c=Y.o.length;
if(this.JJ["m"+c]==null){this.JJ["m"+c]={afr:new jK.ok(c,1),y3:d.R(c*4)}}var z=this.JJ["m"+c];d.vF(Y,z.y3,0);
var f=z.afr;f.set(z.y3);this.Kf(["source","map","toGray","presLum"]);var $=jK.$F,E=this.dN;$.uniform1f(E.toGray,o.$Z?1:0);
$.uniform1f(E.presLum,o.Tj?1:0);this.sp([E.source,K,E.map,f.eI])};jK.so[1]=function(){jK.li.call(this);
this.atY=new jK.ok(256,1);this.a8B=d.R(256*4);var K="\t\t\t\tprecision mediump float;\t\t\t\t"+jK.hi.UC+"\t\t\t\t"+jK.hi.BX+"\t\t\t\t"+jK.hi.i7+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[1].prototype=new jK.li;jK.so[1].prototype.sb=function(K,o){d.vF({o:o.arJ,A:o.bG,J:o.ahc,g:d.R(256)},this.a8B);
this.atY.set(this.a8B);this.Kf(["source","map","cfa","cfb","colorize"]);var Y=jK.$F,c=this.dN;Y.uniform1f(c.cfa,o.aAL);
Y.uniform1f(c.cfb,o.bj);Y.uniform1i(c.colorize,o.ac4);this.sp([c.source,K,c.map,this.atY.eI])};jK.so[2]=function(){jK.li.call(this);
var K="\t\t\tprecision mediump float;\t\t\t"+jK.hi.UC+"\t\t\t"+jK.hi.Sc+"\t\t\t"+jK.hi.xg+"\t\t\t"+jK.hi.BX+"\t\t\t"+jK.hi.i7+"\t\t\t"+jK.hi.aon+"\t\t\t"+jK.hi.a5E+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[2].prototype=new jK.li;jK.so[2].prototype.sb=function(K,o){this.Kf(["source","vib","sat","yF"]);
var Y=jK.$F,c=this.dN;Y.uniform1f(c.vib,o.VS[0]);Y.uniform1f(c.sat,o.VS[1]);Y.uniform3fv(c.yF,new Float32Array([o.VS[2],o.VS[3],o.VS[3]]));
this.sp([c.source,K])};jK.so[3]=function(){jK.li.call(this);var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[3].prototype=new jK.li;jK.so[3].prototype.sb=function(K,o){this.Kf(["source","trf"]);
var Y=jK.$F,c=this.dN;Y.uniformMatrix4fv(c.trf,!1,new Float32Array(d.tb.Cy(o.gr)));this.sp([c.source,K])};
jK.so[4]=function(){jK.li.call(this);var K="\t\t\tprecision mediump float; \t\t\t"+jK.hi.yM+"\t\t\t"+jK.hi.UC+"\t\t\t"+jK.hi.i7+"\t\t\t"+jK.hi.BX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[4].prototype=new jK.li;jK.so[4].prototype.sb=function(K,o){this.Kf(["source","mnm","mxm","shift","lim"]);
var Y=jK.$F,c=this.dN;Y.uniform3fv(c.mnm,new Float32Array(o.zp));Y.uniform3fv(c.mxm,new Float32Array(o.Tf));
Y.uniform3fv(c.shift,new Float32Array(o.shift));Y.uniform1f(c.lim,o.rk);this.sp([c.source,K])};jK.so[5]=function(){jK.li.call(this);
var K="\t\t\tprecision mediump float;\t\t\t"+jK.hi.Lf+"\t\t\t"+jK.hi.cS+"\t\t\t"+jK.hi.aN+"\t\t\t"+jK.hi.BX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[5].prototype=new jK.li;jK.so[5].prototype.sb=function(K,o){this.Kf(["source","cfs"]);
var Y=jK.$F,c=this.dN;Y.uniform3fv(c.cfs,o.anV);this.sp([c.source,K])};jK.so[6]=function(){jK.li.call(this);
var K="\t\t\tprecision mediump float;\t\t\t"+jK.hi.UC+"\t\t\t"+jK.hi.cS+"\t\t\t"+jK.hi.aN+"\t\t\t"+jK.hi.BX+"\t\t\t"+jK.hi.i7+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[6].prototype=new jK.li;jK.so[6].prototype.sb=function(K,o){this.Kf(["source","wght","prms"]);
var Y=jK.$F,c=this.dN,z=[o.FF,o.aBp,o.le,o.a5p,o.b4,o.agz];Y.uniform1fv(c.wght,new Float32Array(o.akQ));
Y.uniform1fv(c.prms,new Float32Array(z));this.sp([c.source,K])};jK.so[7]=function(){jK.li.call(this);
this.Bn={};var K="\t\t\tprecision mediump float;\t\t\t"+jK.hi.Vd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.JC(K,jK.W2.pR)};jK.so[7].prototype=new jK.li;jK.so[7].prototype.sb=function(K,o){this.Kf(["source","lut","N"]);
var Y=jK.$F,c=this.dN,z=o.f8,f=o.r4;if(this.Bn["m"+z]==null)this.Bn["m"+z]=new jK.ok(z,z*z);var $=this.Bn["m"+z];
$.set(f);Y.uniform1f(c.N,z);this.sp([c.source,K,c.lut,$.eI]);Y.activeTexture(Y.TEXTURE1);var E=Y.LINEAR;
Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,E);Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,E);
Y.activeTexture(Y.TEXTURE0)};jK.filter={Op:{},pR:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aeb:0,ajX:1,ar:2,ate:3,a8A:4,a6v:5,Qe:6,avW:7};
jK.filter.rF=function(K,o){var Y=jK.filter,c,z=K.type+":"+(K.kM?K.kM.join(","):""),c=jK.filter.Op[z];
if(c==null)c=jK.filter.Op[z]=new jK.Op[K.type](K.kM);c.eG();c.sb(o,K);jK.$F.drawArrays(jK.$F.TRIANGLES,0,6)};
jK.Op=[0,0,0,0,0,0,0,0,0,0,0,0];jK.Op[7]=function(){jK.li.call(this);var K="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.JC(a9.sH(K),a9.sH(jK.filter.pR))};jK.Op[7].prototype=new jK.li;jK.Op[7].prototype.sb=function(K,o){this.Kf(["source","iwh","kern"]);
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform1fv(c.kern,o.aau);this.sp([c.source,K])};jK.Op[6]=function(K){jK.li.call(this);
var o=K[0],Y=K[1],c=K[2],z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",f=a9.sH(z);
f=f.replaceAll("PRC",c+".0");f=f.replaceAll("DIR",["x,0","0,x"][Y]);this.JC(f,jK.W2.pR)};jK.Op[6].prototype=new jK.li;
jK.Op[6].prototype.sb=function(K,o){this.Kf(["source","iwh","rad"]);var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);
Y.uniform1f(c.rad,o.av);this.sp([c.source,K])};jK.Op[4]=function(K){jK.li.call(this);var o=K[0],Y=K[1],c="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+K[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][Y]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][o]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][Y]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(Y==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.JC(c,jK.W2.pR)};jK.Op[4].prototype=new jK.li;jK.Op[4].prototype.sb=function(K,o){this.Kf(["source","iwh","rrad","tr"]);
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform1f(c.rrad,o.IN);Y.uniform1f(c.tr,o.ai0);this.sp([c.source,K]);
var z=Y.LINEAR;z=Y.NEAREST;Y.activeTexture(Y.TEXTURE0);Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,z);
Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,z);Y.activeTexture(Y.TEXTURE0)};jK.Op[5]=function(){jK.li.call(this);
var K="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.JC(a9.sH(K),a9.sH(jK.filter.pR))};jK.Op[5].prototype=new jK.li;jK.Op[5].prototype.sb=function(K,o){this.Kf(["source","ssum","iwh","amnt","edgf"]);
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform1f(c.amnt,o.axZ);Y.uniform1f(c.edgf,o.ait);this.sp([c.source,K,c.ssum,o.ai4])};
jK.Op[3]=function(){jK.li.call(this);var K="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.JC(a9.sH(K),a9.sH(jK.filter.pR))};jK.Op[3].prototype=new jK.li;jK.Op[3].prototype.sb=function(K,o){this.Kf("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform1f(c.tdep,o.a5u);Y.uniform1f(c.rrad,o.IN);Y.uniform2fv(c.spec,o.a8L);
Y.uniform3fv(c.nois,o.a9o);Y.uniformMatrix4fv(c.poly0,!1,o.a1z);Y.uniformMatrix4fv(c.poly1,!1,o.ah8);
this.sp([c.source,K]);var z=Y.LINEAR;Y.activeTexture(Y.TEXTURE0);Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,z);
Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,z);Y.activeTexture(Y.TEXTURE0)};jK.Op[0]=function(){jK.li.call(this);
var K="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.JC(a9.sH(K),a9.sH(jK.filter.pR))};jK.Op[0].prototype=new jK.li;jK.Op[0].prototype.sb=function(K,o){this.Kf(["source","iwh","ld","shine"]);
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform3fv(c.ld,o.aqO);Y.uniform1f(c.shine,o.ax$);this.sp([c.source,K,c.tang,o.W7])};
jK.Op[1]=function(){jK.li.call(this);var K="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.JC(a9.sH(K),a9.sH(jK.filter.pR))};jK.Op[1].prototype=new jK.li;jK.Op[1].prototype.sb=function(K,o){this.Kf(["source","iwh","isc","bristle"]);
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform1f(c.isc,o.arK);Y.uniform1f(c.bristle,o.a6L);
this.sp([c.source,K])};jK.Op[2]=function(){jK.li.call(this);var K="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.JC(a9.sH(K),a9.sH(jK.filter.pR))};jK.Op[2].prototype=new jK.li;jK.Op[2].prototype.sb=function(K,o){this.Kf(["source","tang","iwh","sigma","expo"]);
var Y=jK.$F,c=this.dN;Y.uniform2fv(c.iwh,o.wl);Y.uniform1f(c.sigma,o.aBz);Y.uniform1f(c.expo,o.a8O);
this.sp([c.source,K,c.tang,o.W7]);var z=Y.LINEAR;Y.activeTexture(Y.TEXTURE0);Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,z);
Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,z);Y.activeTexture(Y.TEXTURE0)};function d(){}d.X={};
d.aCv={};d.axd=function(){var K=[64,64,128,256,512,1024,2048],o=[];for(var y=0;y<K.length;y++){var Y=K[y],c=document.createElement("canvas");
c.width=Y;c.height=Y;o.push(c.getContext("2d",{willReadFrequently:!0}))}return o}();d.oN=function(K,o){var Y,c=d.axd,y=1,z=Math.max(K,o);
while(y<c.length&&z>c[y].canvas.width)y++;if(y==c.length){Y=c[0];var f=Y.canvas;f.width=K;f.height=o}else{Y=c[y];
Y.clearRect(0,0,K,o)}return Y};d.Z1=function(K,o,Y){var c=new Uint32Array(o*Y);c[0]=K[0];for(var z=1;
z<o;z++)c[z]=c[z-1]+K[z];for(var f=1;f<Y;f++){var y=f*o;c[y]=c[y-o]+K[y];for(var z=1;z<o;z++)c[y+z]=K[y+z]+c[y+z-1]+c[y+z-o]-c[y+z-o-1]}return c};
d.pP=function(K,o,Y,c,z,f){var $=(z-1)*o,E=f*o;return K[E+c]-K[E+Y-1]-K[$+c]+K[$+Y-1]};d.Bc=function(K,o,Y){var c={},z=0,f=0,$=new Uint32Array(K.buffer),E=$.length,b=Date.now();
for(var q=1;q<Y-1;q++)for(var O=1;O<o-1;O++){var j=q*o+O,A=$[j];if(A>>>24<230)f++;if(c[A]==null){c[A]=!0;
z++}}if(f!=0||z<20)return!1;return!0};d.uD=function(K,o,Y,c,z,f){if(z==null)z=f=0;c=Math.log(c)/Math.log(2);
c=Math.round(c);var $=new Uint32Array(K.buffer);for(var y=0;y<Y;y++)for(var E=0;E<o;E++){$[y*o+E]=d.a5B(y+f,E+z,c)}};
d.aeO=function(y,K,o){return 255-((y>>>o)+(K>>>o)&1)*51};d.a5B=function(y,K,o){return 4294967295-((y>>>o)+(K>>>o)&1)*3355443};
d.XK=function(K){return{o:K>>>16&255,A:K>>>8&255,J:K&255}};d.NQ=function(K){return K.J<<16|K.A<<8|K.o};
d.lP=function(K){var o=K.toString(16);while(o.length<6)o="0"+o;return o};d.po=function(K){return parseInt(K,16)};
d.le=function(K){return.3*K.o+.59*K.A+.11*K.J};d.Hu=function(K){return Math.max(K.o,K.A,K.J)-Math.min(K.o,K.A,K.J)};
d.ld=function(K,o,Y){return.3*K+.59*o+.11*Y};d.ag8=function(K,o,Y){return Math.max(K,o,Y)-Math.min(K,o,Y)};
d.cS=function(K,o){var Y=o-K,c=Math.abs(Y),z=Y-1,f=Y+1;if(Math.abs(z)<c)Y=z;else if(Math.abs(f)<c)Y=f;
return Y};d.RU=function(K){return K<.0031308?12.92*K:1.055*Math.pow(K,1/2.4)-.055};d.db=function(K){return K<.04045?K/12.92:Math.pow((K+.055)/1.055,2.4)};
d.avA=function(K,o){var Y=Math.min(K.length,o.length);for(var y=0;y<Y;y+=4){var c=K[y],z=K[y+1],f=K[y+2];
o[y]=16+Math.floor(65.481/255*c+128.553/255*z+24.966/255*f+.5);o[y+1]=128-Math.floor(37.797/255*c-74.203/255*z+112/255*f+.5);
o[y+2]=128+Math.floor(112/255*c-93.786/255*z-18.214/255*f+.5);o[y+3]=K[y+3]}};d.vr=function(K,o,Y){var c,z,f,$=Math.max(K,o,Y),E=Math.min(K,o,Y);
f=$;if($!=0)z=($-E)/$;else z=0;if(z==0)c=0;else{var b=$-E,q=($-K)/b,O=($-o)/b,j=($-Y)/b;if(K==$)c=j-O;
else if(o==$)c=2+q-j;else c=4+O-q;c*=1/6;if(c<0)c=c+1}return{jd:c,ZO:z,J:f}};d.aAT=function(K,o,Y){var c=0,z=0,f=0;
if(o==0)c=z=f=Y;else{var $=(K-Math.floor(K))*6,E=Math.floor($),b=$-Math.floor($),q=Y*(1-o),O=Y*(1-o*b),j=Y*(1-o*(1-b));
switch(E){case 0:c=Y;z=j;f=q;break;case 1:c=O;z=Y;f=q;break;case 2:c=q;z=Y;f=j;break;case 3:c=q;z=O;
f=Y;break;case 4:c=j;z=q;f=Y;break;case 5:c=Y;z=q;f=O;break}}return{o:c,A:z,J:f}};d.BX=function(K,o,Y){var c=Math.max(K,o,Y),z=Math.min(K,o,Y),f=0,$=0,E=(c+z)*.5;
if(c!=z){var b=c-z;$=E>.5?b/(2-(c+z)):b/(c+z);switch(c){case K:f=(o-Y)/b+(o<Y?6:0);break;case o:f=(Y-K)/b+2;
break;case Y:f=(K-o)/b+4;break}f*=1/6}return{jd:f,ZO:$,HY:E}};d.i7=function(K,o,Y){var c,z,f;if(o==0)c=z=f=Y;
else{var $=Y<.5?Y*(1+o):Y+o-Y*o,E=2*Y-$;c=d.UC(E,$,K+1/3);z=d.UC(E,$,K);f=d.UC(E,$,K-1/3)}return{o:c,A:z,J:f}};
d.UC=function(K,o,Y){if(Y<0)Y+=1;if(Y>1)Y-=1;if(Y<1/6)return K+(o-K)*6*Y;if(Y<1/2)return o;if(Y<2/3)return K+(o-K)*(2/3-Y)*6;
return K};d.Sc=function(K,o,Y){var c=Math.max(K,o,Y),z=Math.min(K,o,Y),f,$,E=c,b=c-z;$=c==0?0:b/c;if(c==z)f=0;
else{switch(c){case K:f=(o-Y)/b+(o<Y?6:0);break;case o:f=(Y-K)/b+2;break;case Y:f=(K-o)/b+4;break}f*=1/6}return{jd:f,ZO:$,ii:E}};
d.xg=function(K,o,Y){var c,z,f,y,$,E,b,q;y=Math.floor(K*6);$=K*6-y;E=Y*(1-o);b=Y*(1-$*o);q=Y*(1-(1-$)*o);
switch(y%6){case 0:c=Y,z=q,f=E;break;case 1:c=b,z=Y,f=E;break;case 2:c=E,z=Y,f=q;break;case 3:c=E,z=b,f=Y;
break;case 4:c=q,z=E,f=Y;break;case 5:c=Y,z=E,f=b;break}return{o:c,A:z,J:f}};d.SB=function(){var K=[],o=[];
for(var y=0;y<8e3;y++){var Y=y*(1/4e3);K[y]=d.db(Y);o[y]=Y>.008856?Math.pow(Y,1/3):(903.3*Y+16)*(1/116)}return[K,o]}();
d.yM=function(K,o,Y,c){if(c==null)c=[.9642,1,.8249];var z=d.SB[0],f=d.SB[1];K=z[~~(.5+K*(4e3/255))];
o=z[~~(.5+o*(4e3/255))];Y=z[~~(.5+Y*(4e3/255))];var $=d.tb.af_,E=$[0]*K+$[1]*o+$[2]*Y,b=$[4]*K+$[5]*o+$[6]*Y,q=$[8]*K+$[9]*o+$[10]*Y;
E=E*(1/c[0]);b=b*(1/c[1]);q=q*(1/c[2]);return d.ti(E,b,q)};d.ti=function(K,o,Y){var c=d.SB[1],z=c[~~(.5+K*4e3)],f=c[~~(.5+o*4e3)],$=c[~~(.5+Y*4e3)];
return{Gi:116*f-16,g:500*(z-f),J:200*(f-$)}};d.ui=function(K,o,Y){var c=903.3,z=.008856,f=(K+16)/116,$=f*f*f,E=f-Y/200,b=E*E*E,q=o/500+f,O=q*q*q,j=b>z?b:(116*E-16)/c,A=$>z?$:(116*f-16)/c,R=O>z?O:(116*q-16)/c,g=R*96.42,H=A*100,i=j*82.49,h=d.tb.Le(d.tb.J$,[g/100,H/100,i/100,0]);
for(var y=0;y<4;y++)h[y]=Math.max(0,Math.min(255,d.RU(h[y])*255));return{o:h[0],A:h[1],J:h[2]}};d.$o=function(K,o,Y,c,z){var f=K.Gi,$=K.g,E=K.J,b=(f<o.Gi?o.Gi-f:Y.Gi<f?Y.Gi-f:0)*(1/100),q=($<o.g?o.g-$:Y.g<$?Y.g-$:0)*(1/116),O=(E<o.J?o.J-E:Y.J<E?Y.J-E:0)*(1/116),j=Math.sqrt(b*b+q*q+O*O)*1.35;
return j<=c?Math.min(1,1.17*(1-j*z)):0};d.O6=function(K){var o=d.lt("cmykToRgb"),Y=o[2],c=o[3],z=[0,0,0,0];
ICC.U.applyLUT4Float(c,Y,K,z);return z};d.a5I=function(){var K=function(h4){return Math.round(h4*255)},o="",Y=3;
for(var y=0;y<tab.length;y++){var c=K(tab[y]);if(Y<=y)c=c-K(tab[y-Y])+256&255;o+=c.toString(16).padStart(2,"0")}return o};
d.lt=function(K){var o=LUTS["_"+K];if(o==null){var Y=LUTS[K],c=Y[0],h4=Y[1],z=Y[2],f=Y[3],$=[];for(var y=0;
y<f.length;y+=2)$.push(parseInt(f.slice(y,y+2),16));for(var y=h4;y<$.length;y++)$[y]=$[y]+$[y-h4]&255;
for(var y=0;y<$.length;y++)$[y]*=1/255;o=LUTS["_"+K]=[c,h4,z,$]}return o};d.fO=function(K){var o=d.lt("rgbToCmyk"),Y=o[2],c=o[3],z=[0,0,0,0];
ICC.U.applyLUT3to4Float(c,Y,K,z);return z};d.afC=function(K){for(var y=0;y<K.length;y+=4){var o=[K[y+0]*(1/255),K[y+1]*(1/255),K[y+2]*(1/255)],Y=d.fO(o);
K[y+0]=255-Math.floor(.5+Y[0]*255);K[y+1]=255-Math.floor(.5+Y[1]*255);K[y+2]=255-Math.floor(.5+Y[2]*255);
K[y+3]=255-Math.floor(.5+Y[3]*255)}};d.jf=function(K,o,Y){var c=K.length,z=.3,f=.59,$=.11;if(Y){z=Y[0];
f=Y[1];$=Y[2]}for(var y=0;y<c;y+=4)o[y>>2]=~~(K[y+0]*z+K[y+1]*f+K[y+2]*$+.5)};d.xI=function(K,o){var Y=o.length;
for(var y=0;y<Y;y+=4){var c=K[y>>>2];o[y]=c;o[y+1]=c;o[y+2]=c}};d.vF=function(K,o){var Y=K.g,c=K.o,z=K.A,f=K.J,$=Math.min(K.g.length,o.buffer.byteLength>>>2),E=4*Math.floor($/4),b=new Uint32Array(o.buffer),q=new Uint32Array(Y.buffer),O=new Uint32Array(c.buffer),j=new Uint32Array(z.buffer),A=new Uint32Array(f.buffer);
for(var y=0;y<E;y+=4){var R=q[y>>2],g=A[y>>2],H=j[y>>2],i=O[y>>2];b[y]=R<<24|(g&255)<<16|(H&255)<<8|i&255;
b[y+1]=(R&65280)<<16|(g&65280)<<8|H&65280|(i&65280)>>>8;b[y+2]=(R&16711680)<<8|g&16711680|(H&16711680)>>>8|(i&16711680)>>>16;
b[y+3]=R&4278190080|(g&4278190080)>>>8|(H&4278190080)>>>16|(i&4278190080)>>>24}for(var y=E;y<$;y++)b[y]=Y[y]<<24|f[y]<<16|z[y]<<8|c[y]};
d.w9=function(K,o){var Y=o.g,c=o.o,z=o.A,f=o.J,$=Math.min(o.g.length,K.buffer.byteLength>>>2),E=4*Math.floor($/4),b=new Uint32Array(K.buffer),q=new Uint32Array(Y.buffer),O=new Uint32Array(c.buffer),j=new Uint32Array(z.buffer),A=new Uint32Array(f.buffer);
for(var y=0;y<E;y+=4){var R=b[y],g=b[y+1],H=b[y+2],i=b[y+3];O[y>>2]=R&255|(g&255)<<8|(H&255)<<16|i<<24;
j[y>>2]=(R&65280)>>8|g&65280|(H&65280)<<8|(i&65280)<<16;A[y>>2]=(R&16711680)>>16|(g&16711680)>>8|H&16711680|(i&16711680)<<8;
q[y>>2]=R>>>24|g>>>24<<8|H>>>24<<16|i&4278190080}for(var y=E;y<$;y++){var h=b[y];c[y]=h>>0&255;z[y]=h>>8&255;
f[y]=h>>16&255;Y[y]=h>>24&255}};d.JI=function(K,o,Y){var c=new Uint8Array(K.buffer),z=Math.min(c.length/4,o.length);
for(var y=0;y<z;y++){o[y]=c[(y<<2)+Y]}};d.cb=function(K,o,Y){var c=new Uint8Array(o.buffer),z=new Uint32Array(K.buffer),f=Math.min(c.length/4,K.length),y=0;
while(y+4<f){var $=z[y>>>2];c[(y<<2)+Y]=$&255;c[(y<<2)+Y+4]=$>>>8&255;c[(y<<2)+Y+8]=$>>>16&255;c[(y<<2)+Y+12]=$>>>24;
y+=4}while(y<f){c[(y<<2)+Y]=K[y];y++}};d.nz=function(K,o,Y){if(Y==null)Y=0;var c=new Uint32Array(K.buffer),z=c.length;
for(var y=0;y<z;y++)c[y]=c[y]&Y|o};d.abA=function(K,o,Y,c,z){if(z==null)z=0;var f=new Uint32Array(K.buffer);
Y=Y.wu(o);var $=Y.x-o.x,E=Y.y-o.y,b=Y.m,q=Y.e,O=o.m;for(var j=0;j<q;j++){var y=(E+j)*O+$;for(var A=0;
A<b;A++){f[y]=f[y]&z|c;y++}}};d.kO=function(K,o){var Y=Math.min(K.buffer.byteLength,o.buffer.byteLength),c=Y>>>2,K=new Uint32Array(K.buffer,0,c),o=new Uint32Array(o.buffer,0,c);
o.set(K)};d.BV=function(K,o){var Y=K.buffer.byteLength,c=o.buffer.byteLength,z=new Uint32Array(K.buffer,0,Y>>2),f=new Uint32Array(o.buffer,0,c>>2);
if(Y!=c)return!1;var $=z.length;for(var y=0;y<$;y++)if(f[y]!=z[y])return!1;return!0};d.oD=function(K){var o=new Uint32Array(K.buffer),Y=o.length;
for(var y=0;y<Y;y++)o[y]=~o[y]};d.a1E=function(K){var o=K.length;for(var y=0;y<o;y+=4){K[y]=~K[y];K[y+1]=~K[y+1];
K[y+2]=~K[y+2]}};d.a75=function(K){var o=K.length;for(var y=3;y<o;y+=4)K[y]=~K[y]};d.ax4=function(K){return K+(K%4==0?0:4-K%4)};
d.R=function(K,o){if(o==null)o=!1;if(!o)K=d.ax4(K);try{var Y=new Uint8Array(K)}catch(es){alert("Not enough RAM! (need "+Math.round(K/(1<<20))+" MB)",7e3);
throw"low_ram"}return Y};d.Hk=function(K,o,Y,c){if(c==null)c=0;var z=0;while(z+3<K.length&&K[z+3].Z()>=c&&o._8()*(1<<(z>>>1))<Y)z+=2;
var f=K[1],$=K[z+1],E=new dF;E.translate(-f.x,-f.y);E.scale(f.m/$.m,f.e/$.e);E.translate(f.x,f.y);E.concat(o);
return[z,E]};d.pa=function(K){var o=K.length,Y=K[o-2],c=K[o-1];while(c.m>=2&&c.e>=2){var z=d.sQ(Y,c);
K.push(z.y3,z.rect);Y=z.y3;c=z.rect}};d.ZN=function(K){var o=K.length,Y=K[o-2],c=K[o-1];while(c.m>=2&&c.e>=2){var z=d.ym(Y,c);
K.push(z.y3,z.rect);Y=z.y3;c=z.rect}};d.sQ=function(K,o,Y){var c=o.m,z=o.e,f=c>>1,$=z>>1,E=new hD(o.x,o.y,f,$),b=Y&&Y.length==f*$*4?Y:d.R(f*$*4),q=new Uint32Array(K.buffer),O=new Uint32Array(b.buffer);
for(var j=0;j<$;j++)for(var A=0;A<f;A++){var R=j*f+A,g=(j<<1)*c+(A<<1),H=q[g],i=q[g+1],h=q[g+c],x=q[g+c+1],F=H>>>24,X=i>>>24,V=h>>>24,U=x>>>24,Z=F+X+V+U;
if(Z==1020){var T=(H>>>0&255)+(i>>>0&255)+(h>>>0&255)+(x>>>0&255)+2>>>2,v=(H>>>8&255)+(i>>>8&255)+(h>>>8&255)+(x>>>8&255)+2>>>2,P=(H>>>16&255)+(i>>>16&255)+(h>>>16&255)+(x>>>16&255)+2>>>2;
O[R]=255<<24|P<<16|v<<8|T}else if(Z==0)O[R]=0;else{var T=(H>>>0&255)*F+(i>>>0&255)*X+(h>>>0&255)*V+(x>>>0&255)*U,v=(H>>>8&255)*F+(i>>>8&255)*X+(h>>>8&255)*V+(x>>>8&255)*U,P=(H>>>16&255)*F+(i>>>16&255)*X+(h>>>16&255)*V+(x>>>16&255)*U,p=1/Z;
T=~~(T*p+.5);v=~~(v*p+.5);P=~~(P*p+.5);O[R]=Z+2>>>2<<24|P<<16|v<<8|T}}return{rect:E,y3:b}};d.ye=function(K,o,Y){var c=o.m,z=o.e,f=c>>1,$=z>>1,E=new hD(o.x,o.y,f,$),b=Y&&Y.length==f*$*4?Y:d.R(f*$*4),q=new Uint32Array(K.buffer),O=new Uint32Array(b.buffer);
for(var j=0;j<$;j++)for(var A=0;A<f;A++){var R=j*f+A,g=(j<<1)*c+(A<<1),H=q[g],i=q[g+1],h=q[g+c],x=q[g+c+1],F=2+(H>>>0&255)+(i>>>0&255)+(h>>>0&255)+(x>>>0&255)>>>2,X=2+(H>>>8&255)+(i>>>8&255)+(h>>>8&255)+(x>>>8&255)>>>2,V=2+(H>>>16&255)+(i>>>16&255)+(h>>>16&255)+(x>>>16&255)>>>2,U=2+(H>>>24&255)+(i>>>24&255)+(h>>>24&255)+(x>>>24&255)>>>2;
O[R]=U<<24|V<<16|X<<8|F}return{rect:E,y3:b}};d.avv=function(K,o,Y){var c=o.m,z=o.e,f=2*Math.floor(c/3),$=2*Math.floor(z/3),E=new hD(o.x,o.y,f,$),b=Y&&Y.length==f*$*4?Y:d.R(f*$*4),q=new Uint32Array(K.buffer),O=new Uint32Array(b.buffer);
for(var j=0;j<$;j+=2)for(var A=0;A<f;A+=2){var R=j*f+A,g=(j*3>>>1)*c+(A*3>>>1),H=q[g],i=q[g+1],h=q[g+2],x=q[g+c],F=q[g+1+c],X=q[g+2+c],V=q[g+c+c],U=q[g+1+c+c],Z=q[g+2+c+c],T=H>>>24<<2,v=(H>>>16&255)*T,P=(H>>>8&255)*T,p=(H&255)*T,a=i>>>24<<1,D=(i>>>16&255)*a,n=(i>>>8&255)*a,N=(i&255)*a,W=h>>>24<<2,G=(h>>>16&255)*W,l=(h>>>8&255)*W,u=(h&255)*W,e=x>>>24<<1,M=(x>>>16&255)*e,B=(x>>>8&255)*e,s=(x&255)*e,t=F>>>24,J=(F>>>16&255)*t,L=(F>>>8&255)*t,k=(F&255)*t,C=X>>>24<<1,r=(X>>>16&255)*C,Q=(X>>>8&255)*C,j9=(X&255)*C,a4=V>>>24<<2,ar=(V>>>16&255)*a4,ez=(V>>>8&255)*a4,ja=(V&255)*a4,c3=U>>>24<<1,hW=(U>>>16&255)*c3,fO=(U>>>8&255)*c3,ei=(U&255)*c3,fV=Z>>>24<<2,aW=(Z>>>16&255)*fV,ee=(Z>>>8&255)*fV,hM=(Z&255)*fV,ds=T+a+e+t,cp=W+a+C+t,eA=a4+c3+e+t,db=fV+c3+C+t,js=ds==0?0:1/ds,bF=cp==0?0:1/cp,jI=eA==0?0:1/eA,gF=db==0?0:1/db,b6=0,ji=0,hd=0,eZ=0;
b6=~~(.5+(p+N+s+k)*js);ji=~~(.5+(P+n+B+L)*js);hd=~~(.5+(v+D+M+J)*js);eZ=~~(.5+ds*(1/9));O[R]=eZ<<24|hd<<16|ji<<8|b6;
b6=~~(.5+(u+N+j9+k)*bF);ji=~~(.5+(l+n+Q+L)*bF);hd=~~(.5+(G+D+r+J)*bF);eZ=~~(.5+cp*(1/9));O[R+1]=eZ<<24|hd<<16|ji<<8|b6;
b6=~~(.5+(ja+ei+s+k)*jI);ji=~~(.5+(ez+fO+B+L)*jI);hd=~~(.5+(ar+hW+M+J)*jI);eZ=~~(.5+eA*(1/9));O[R+f]=eZ<<24|hd<<16|ji<<8|b6;
b6=~~(.5+(hM+ei+j9+k)*gF);ji=~~(.5+(ee+fO+Q+L)*gF);hd=~~(.5+(aW+hW+r+J)*gF);eZ=~~(.5+db*(1/9));O[R+f+1]=eZ<<24|hd<<16|ji<<8|b6}return{rect:E,y3:b}};
d.aoZ=function(K,o,Y){var c=o.m,z=o.e,f=2*Math.floor(c/3),$=2*Math.floor(z/3),E=new hD(o.x,o.y,f,$),b=Y&&Y.length==f*$*4?Y:d.R(f*$*4),q=new Uint32Array(K.buffer),O=new Uint32Array(b.buffer);
for(var j=0;j<$;j+=2)for(var A=0;A<f;A+=2){var R=j*f+A,g=(j*3>>>1)*c+(A*3>>>1),H=q[g],i=q[g+1],h=q[g+2],x=q[g+c],F=q[g+1+c],X=q[g+2+c],V=q[g+c+c],U=q[g+1+c+c],Z=q[g+2+c+c],T=(H>>>16&255)<<2,v=(H>>>8&255)<<2,P=(H&255)<<2,p=(i>>>16&255)<<1,a=(i>>>8&255)<<1,D=(i&255)<<1,n=(h>>>16&255)<<2,N=(h>>>8&255)<<2,W=(h&255)<<2,G=(x>>>16&255)<<1,l=(x>>>8&255)<<1,u=(x&255)<<1,e=F>>>16&255,M=F>>>8&255,B=F&255,s=(X>>>16&255)<<1,t=(X>>>8&255)<<1,J=(X&255)<<1,L=(V>>>16&255)<<2,k=(V>>>8&255)<<2,C=(V&255)<<2,r=(U>>>16&255)<<1,Q=(U>>>8&255)<<1,j9=(U&255)<<1,a4=(Z>>>16&255)<<2,ar=(Z>>>8&255)<<2,ez=(Z&255)<<2,ja=0,c3=0,hW=0;
ja=~~(.5+(P+D+u+B)*(1/9));c3=~~(.5+(v+a+l+M)*(1/9));hW=~~(.5+(T+p+G+e)*(1/9));O[R]=255<<24|hW<<16|c3<<8|ja;
ja=~~(.5+(W+D+J+B)*(1/9));c3=~~(.5+(N+a+t+M)*(1/9));hW=~~(.5+(n+p+s+e)*(1/9));O[R+1]=255<<24|hW<<16|c3<<8|ja;
ja=~~(.5+(C+j9+u+B)*(1/9));c3=~~(.5+(k+Q+l+M)*(1/9));hW=~~(.5+(L+r+G+e)*(1/9));O[R+f]=255<<24|hW<<16|c3<<8|ja;
ja=~~(.5+(ez+j9+J+B)*(1/9));c3=~~(.5+(ar+Q+t+M)*(1/9));hW=~~(.5+(a4+r+s+e)*(1/9));O[R+f+1]=255<<24|hW<<16|c3<<8|ja}return{rect:E,y3:b}};
d.X1=function(K){var o=255,Y=K.length;Y-=Y&31;for(var y=3;y<Y;y+=32)o=o&K[y]&K[y+4]&K[y+8]&K[y+12]&K[y+16]&K[y+20]&K[y+24]&K[y+28];
return o!=255};d.PC=function(K,o,Y,c){var z=d.sQ,f=d.avv;if(!d.X1(K)){z=d.ye;f=d.aoZ}var $={y3:K,rect:o},E=d.Qk(Y);
for(var y=0;y<E.length;y++){if(E[y]==2)$=z($.y3,$.rect,c);else $=f($.y3,$.rect,c)}return $};d.apH=function(K,o,Y,c){var z=d.ym,f=d.M3,$={y3:K,rect:o},E=d.Qk(Y);
for(var y=0;y<E.length;y++){if(E[y]==2)$=z($.y3,$.rect,c);else $=f($.y3,$.rect,c)}return $};d.Qk=function(K){var o=[],Y=K;
while(Y<.499){o.push(2);Y*=2}o.push(Y<.5001?2:3);return o};d.ym=function(K,o,Y){var c=o.m,z=o.e,f=c>>1,$=z>>1,E=new hD(o.x,o.y,f,$);
if(K==null)return{rect:E};var b=Y&&Y.length>=f*$?Y:d.R(f*$);for(var q=0;q<$;q++){var O=q*f;for(var j=0;
j<f;j++){var A=(q<<1)*c+(j<<1);b[O+j]=2+K[A]+K[A+1]+K[A+c]+K[A+c+1]>>>2}}return{rect:E,y3:b}};d.M3=function(K,o,Y){var c=o.m,z=o.e,f=2*Math.floor(c/3),$=2*Math.floor(z/3),E=new hD(o.x,o.y,f,$);
if(K==null)return{rect:E};var b=Y&&Y.length>=f*$?Y:d.R(f*$);for(var q=0;q<$;q+=2)for(var O=0;O<f;O+=2){var j=q*f+O,A=(q*3>>>1)*c+(O*3>>>1),R=K[A]<<2,g=K[A+1]<<1,H=K[A+2]<<2,i=K[A+c]<<1,h=K[A+1+c],x=K[A+2+c]<<1,F=K[A+c+c]<<2,X=K[A+1+c+c]<<1,V=K[A+2+c+c]<<2;
b[j]=~~(.5+(R+g+i+h)*(1/9));b[j+1]=~~(.5+(H+g+x+h)*(1/9));b[j+f]=~~(.5+(F+X+i+h)*(1/9));b[j+f+1]=~~(.5+(V+X+x+h)*(1/9))}return{rect:E,y3:b}};
d.aat=function(K,o,Y,c,z){var f=o.wu(c);if(z)f=f.wu(z);var $=Math.max(0,f.x-o.x),E=Math.max(0,f.x-c.x),b=Math.max(0,f.y-o.y),q=Math.max(0,f.y-c.y),O=f.m,j=f.e;
for(var y=0;y<j;y++){var A=(b+y)*o.m+$,R=(q+y)*c.m+E;for(var g=0;g<O;g++){Y[R+g]=Math.max(Y[R+g],K[A+g])}}};
d.u_=function(K,o,Y,c,z){var f=o.wu(c);if(z)f=f.wu(z);var $=Math.max(0,f.x-o.x),E=Math.max(0,f.x-c.x),b=Math.max(0,f.y-o.y),q=Math.max(0,f.y-c.y),O=f.m,j=f.e;
for(var y=0;y<j;y++){var A=(b+y)*o.m+$,R=(q+y)*c.m+E;Y.set(new Uint8Array(K.buffer,A,O),R)}};d.cl=function(K,o,Y,c){if(o.BV(c)){d.cb(K,Y,3);
return}var z=o.wu(c),f=Math.max(0,z.x-o.x),$=Math.max(0,z.x-c.x),E=Math.max(0,z.y-o.y),b=Math.max(0,z.y-c.y),q=z.m,O=z.e;
for(var y=0;y<O;y++){var j=(E+y)*o.m+f,A=(b+y)*c.m+$;for(var R=0;R<q;R++)Y[(A+R<<2)+3]=K[j+R]}};d.zv=function(K,o,Y,c){var z=o.wu(c),f=Math.max(0,z.x-o.x),$=Math.max(0,z.x-c.x),E=Math.max(0,z.y-o.y),b=Math.max(0,z.y-c.y),q=z.m,O=z.e;
for(var y=0;y<O;y++){var j=(E+y)*o.m+f,A=(b+y)*c.m+$;for(var R=0;R<q;R++)Y[A+R]=K[(j+R<<2)+3]}};d.iF=function(K,o,Y,c,z){if(o.BV(c)&&(z==null||z.BV(c))){d.kO(K,Y);
return}K=new Uint32Array(K.buffer),Y=new Uint32Array(Y.buffer);var f=o.wu(c);if(z)f=f.wu(z);var $=Math.max(0,f.x-o.x),E=Math.max(0,f.x-c.x),b=Math.max(0,f.y-o.y),q=Math.max(0,f.y-c.y),O=f.m,j=f.e,A=O&3,R=A==0?O:O-A;
for(var y=0;y<j;y++){var g=(b+y)*o.m+$,H=(q+y)*c.m+E;Y.set(new Uint32Array(K.buffer,g*4,O),H)}};d.Li=function(K,o,Y,c){var z=o.wu(c),f=Math.max(0,z.x-o.x),$=Math.max(0,z.x-c.x),E=Math.max(0,z.y-o.y),b=Math.max(0,z.y-c.y),q=z.m,O=z.e,j=K.g,A=K.o,R=K.A,g=K.J,H=Y.g,i=Y.o,h=Y.A,x=Y.J;
for(var y=0;y<O;y++){var F=(E+y)*o.m+f,X=(b+y)*c.m+$;for(var V=0;V<q;V++){H[X+V]=j[F+V];i[X+V]=A[F+V];
h[X+V]=R[F+V];x[X+V]=g[F+V]}}};d.CI=function(K){var o=K.length;for(var y=0;y<o;y+=4){var Y=K[y+3];if(Y==255)continue;
K[y]=~~(K[y]*Y*(1/255)+.5);K[y+1]=~~(K[y+1]*Y*(1/255)+.5);K[y+2]=~~(K[y+2]*Y*(1/255)+.5)}};d.Xk=function(K){var o=K.length;
for(var y=0;y<o;y+=4){var Y=K[y+3];if(Y==0||Y==255)continue;var c=255/Y;K[y]=~~(K[y]*c+.5);K[y+1]=~~(K[y+1]*c+.5);
K[y+2]=~~(K[y+2]*c+.5)}};d.Jy=function(K,o){for(var y=0;y<K.length;y++)if(K[y]!=o)return!1;return!0};
d.fq=function(K){return K+1+(K>>>8)>>>8};d.round=function(K,o){if(o==null)o=128;var Y=K.length;for(var y=0;
y<Y;y++)K[y]=K[y]<o?0:255};d.L0=function(K,o){var Y=K.length;for(var y=0;y<Y;y++)K[y]=Math.round(K[y]*o)};
d.yC=function(K,o){var Y=new Uint32Array(K.buffer),c=new Uint32Array(o.buffer),z=Y.length;for(var y=0;
y<z;y++){var f=Y[y],$=c[y];c[y]=d.fq((f>>>24)*($>>>24))<<24|d.fq((f>>>16&255)*($>>>16&255))<<16|d.fq((f>>>8&255)*($>>>8&255))<<8|d.fq((f&255)*($&255))}};
d.Ym=function(K,o){var Y=K.length;for(var y=0;y<Y;y++)o[(y<<2)+3]=d.fq(o[(y<<2)+3]*K[y])};d.adQ=function(K,o,Y,c){var z=Math.max(0,c.x-o.x),f=Math.max(0,o.x-c.x),$=Math.max(0,c.y-o.y),E=Math.max(0,o.y-c.y),b=Math.min(o.x+o.m,c.x+c.m)-Math.max(o.x,c.x),q=Math.min(o.y+o.e,c.y+c.e)-Math.max(o.y,c.y);
for(var y=0;y<q;y++){var O=($+y)*o.m+z,j=(E+y)*c.m+f;for(var A=0;A<b;A++){Y[j]=d.fq(Y[j]*K[O]);O++;j++}}};
d.D$=function(K,o,Y,c){var z=Math.max(0,c.x-o.x),f=Math.max(0,o.x-c.x),$=Math.max(0,c.y-o.y),E=Math.max(0,o.y-c.y),b=Math.min(o.x+o.m,c.x+c.m)-Math.max(o.x,c.x),q=Math.min(o.y+o.e,c.y+c.e)-Math.max(o.y,c.y);
for(var y=0;y<q;y++){var O=($+y)*o.m+z,j=((E+y)*c.m+f<<2)+3;for(var A=0;A<b;A++){Y[j]=d.fq(Y[j]*K[O]);
O++;j+=4}}};d.qp=function(K,o,Y,c){var z=Math.max(0,c.x-o.x),f=Math.max(0,o.x-c.x),$=Math.max(0,c.y-o.y),E=Math.max(0,o.y-c.y),b=Math.min(o.x+o.m,c.x+c.m)-Math.max(o.x,c.x),q=Math.min(o.y+o.e,c.y+c.e)-Math.max(o.y,c.y);
for(var y=0;y<q;y++){var O=(($+y)*o.m+z<<2)+3,j=((E+y)*c.m+f<<2)+3;for(var A=0;A<b;A++){Y[j]=d.fq(Y[j]*K[O]);
O+=4;j+=4}}};d.$w=function(K,o){if(o==null)o=1;var Y=4*o,c=K.length>>>2,z=new Float64Array(256),f=new Float64Array(256),$=new Float64Array(256),E=new Float64Array(256),b=4*Math.floor(c/o)*o,q=0;
for(var y=0;y<b;y+=Y){var O=K[y+0],j=K[y+1],A=K[y+2],R=K[y+3]*o,g=R*(1/255);f[O]+=g;$[j]+=g;E[A]+=g;
q+=R}for(var y=0;y<256;y++)z[y]=f[y]+$[y]+E[y];return[z,f,$,E,c,q/255]};d.pG=function(K,o){function Y(U,Z){var T=-1,v=0;
while(v<=Z){T++;v+=U[T]}return T}function c(U,Z){var T=256,v=0;while(v<=Z){T--;v+=U[T]}return T}function z(U){var Z=0,T=0;
for(var y=0;y<256;y++){T+=U[y];Z+=U[y]*y*(1/255)}return Z/T}var f=K[0],$=K[1]/100,E=K[2]/100,b=[],q=[];
for(var y=0;y<4;y++){var O=y==0?3:1;b[y]=Y(o[y],O*$*o[5]);q[y]=c(o[y],O*E*o[5])}var j=[z(o[1]),z(o[2]),z(o[3])],A=j.slice(0);
A.sort(function(U,Z){return U-Z});var R=j.indexOf(A[1]),g=(j[0]+j[1]+j[2])/3,H=[];for(var y=0;y<4;y++){var i=0,h=255,x=b[y],F=q[y];
if(f==0&&y==0){i=x;h=F}if(f==1&&y!=0){i=x;h=F}if(f==2&&y!=0){var O=j[y-1]/g;h=Math.max(0,Math.min(255,q[R]*O))}var X=[i,h];
H.push(X);if(f==3&&y==0){var V=255*(1-g);X.push(V)}}return H};d.af=function(K,o){var Y=new Uint32Array(K.buffer),c=Y.length;
for(var y=0;y<c;y++){var z=Y[y],f=z&255,$=z>>8&255,E=z>>16&255,b=z>>24&255;Y[y]=o[f]|o[$]<<8|o[E]<<16|o[b]<<24}};
d.acz=function(K,o,Y,c,z,f,$){var E=new Uint32Array(K.buffer),b=new Uint32Array(o.buffer),q=E.length,O=0;
while(256<<O<Y.length)O++;if(!$&&!f){for(var y=0;y!=q;y++){var j=E[y],A=(j&255)<<O,R=(j>>>8&255)<<O,g=(j>>>16&255)<<O,H=Y[A],i=c[R],h=z[g];
b[y]=H|i<<8|h<<16|j&4278190080}return}for(var y=0;y<q;y++){var j=E[y],A=(j&255)<<O,R=(j>>>8&255)<<O,g=(j>>>16&255)<<O;
if(f)A=R=g=Math.round(A*.3+R*.59+g*.11);var H=Y[A],i=c[R],h=z[g];if($){var x=d.ld(A,R,g),F=d.ld(H,i,h);
if(x>F){var X=(x-F)/(255-F);H+=X*(255-H);i+=X*(255-i);h+=X*(255-h)}else if(F==0)H=i=h=0;else{var X=x/F;
H=X*H;i=X*i;h=X*h}}b[y]=H|i<<8|h<<16|j&4278190080}};d.sd=function(K,o){var Y=o.m,c=o.e,top=0,z=0,f=0,$=0,E=0;
E=0;for(var b=0;b<c;b++){var q=b*Y;for(var y=0;y<Y;y++)E|=K[q+y];if(E!=0)break;top++}if(top==c)return new hD(0,0,0,0);
E=0;for(var b=c-1;b>=0;b--){var q=b*Y;for(var y=0;y<Y;y++)E|=K[q+y];if(E!=0)break;f++}var O=c-f;E=0;
for(var y=0;y<Y;y++){for(var b=top;b<O;b++)E|=K[b*Y+y];if(E!=0)break;z++}E=0;for(var y=Y-1;y>=0;y--){for(var b=top;
b<O;b++)E|=K[b*Y+y];if(E!=0)break;$++}var j=new hD(o.x+z,o.y+top,Y-z-$,c-top-f);return j};d.kL=function(K,o,Y,c){if(c==null)c=[!0,!0,!0,!0];
if(Y==null)Y=0;var z=new Uint32Array(K.buffer),f=o.m,$=o.e,top=0,E=0,b=0,q=0,O=!1,j=[z[0],z[z.length-1],0][Y];
O=!1;if(c[0])for(var A=0;A<$;A++){var R=A*f;for(var y=0;y<f;y++)if(z[R+y]!=j)O=!0;if(O)break;top++}O=!1;
if(c[2])for(var A=$-1;A>=0;A--){var R=A*f;for(var y=0;y<f;y++)if(z[R+y]!=j)O=!0;if(O)break;b++}O=!1;
if(c[1])for(var y=0;y<f;y++){for(var A=0;A<$;A++)if(z[A*f+y]!=j)O=!0;if(O)break;E++}O=!1;if(c[3])for(var y=f-1;
y>=0;y--){for(var A=0;A<$;A++)if(z[A*f+y]!=j)O=!0;if(O)break;q++}var g=new hD(o.x+E,o.y+top,f-E-q,$-top-b);
return g.xf()?new hD(0,0,0,0):g};d.sc=function(K){var o=d.sd(K.channel,K.rect);if(o.BV(K.rect))return;
var Y=d.R(o.Z());d.u_(K.channel,K.rect,Y,o);K.channel=Y;K.rect=o};d.zy=function(K){var o=d.R(K.buffer.length>>2);
d.JI(K.buffer,o,3);var Y=d.sd(o,K.rect);if(Y.BV(K.rect))return;var c=new d.R(Y.Z()*4);d.iF(K.buffer,K.rect,c,Y);
K.buffer=c;K.rect=Y};d.extend=function(K,o,Y){if(K.rect.wH(o))return;var c=K.rect.Bb(o),z=d.R(c.Z());
if(Y!=null)z.fill(Y);d.u_(K.channel,K.rect,z,c);K.rect=c;K.channel=z};d.azU=function(K,o){if(o.xf()||K.rect.wH(o))return;
var Y=K.rect.Bb(o),c=d.R(Y.Z()*4);d.iF(K.buffer,K.rect,c,Y);K.rect=Y;K.buffer=c};d.R9=function(K,o,Y){if(!Y.Tz(K))return!1;
var c=Math.floor(K.x)-Y.x,z=Math.floor(K.y)-Y.y,y=z*Y.m+c;return o[y]>128};d.asl=function(K,o,Y){if(!Y.Tz(K))return!1;
var c=Math.floor(K.x)-Y.x,z=Math.floor(K.y)-Y.y,y=z*Y.m+c;return o[4*y+3]>128};d.l7=function(K){if(d.l8.length<K){d.l8=d.R(K);
d.l8.fill(255)}return d.l8};d.l8=d.R(0);d._L=function(K){if(d.lJ.length<K)d.lJ=d.R(K);return d.lJ};d.lJ=d.R(0);
d.ok=function(K){this.g=d.R(K);this.o=d.R(K);this.A=d.R(K);this.J=d.R(K)};d.ok.prototype.clone=function(){var K=this.g.length,o=new d.ok(1);
o.g=this.g.slice(0);o.o=this.o.slice(0);o.A=this.A.slice(0);o.J=this.J.slice(0);return o};d.X.aCi=function(K,o,Y,c,z){var f=z[0]+1,$=z[1],E=Math.abs($-25)/4,b=z[2],q=b%2+b*b>>1,O=d.X.q;
O.JC(o,Y);var j=O.kj(1),A=O.kj(1),R=O.kj(1);O.FV(K,c,b,b,q);O.jJ(c);O.d6(c,j);O.zP(j,A,f,f,1);O.zP(j,R,f,f,f*f);
O.sub(R,A);O.yC(A,E);($<25?O.sub:O.add)(j,A);O.DV(A,c);O.zQ(c)};d.X.a0j=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=z[0]*2.55,E=z[1],b=E>>1,q=z[2]*.25,O=f.kj(4),j=f.kj(1),A=f.kj(1);f.B8(K,O,E,1,!0,b);
f.B8(K,c,E,1,!1,b);f.Vb(K,j);f.e$(j,$);f.kQ(j,A,3);f.lw(c,A,O);f.Zp(O,c,q)};d.X.a2s=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);f.JD(z[3]);var $=z[0]*-3+80,E=z[1]*-3+80,b=z[2]/2+.5,q=z[4],O=z[5],j=f.kj(1),A=f.kj(1),R=f.kj(1),g=f.kj(1),H=f.kj(4),i=f.kj(4);
f.Vb(K,j);f.kO(j,A);f.MI(j,E,5);f.YO(j,.4,0);f.kQ(j,R,3);f.mX(R,j,9,3,!0,27);f.kO(A,R);f.oD(R);var h=f.SY($,5,R);
for(var y=0;y<f.x7;y++){A[y]=h[255-A[y]]}f.YO(A,.4,0);f.kO(A,R);f.kQ(R,g,2);f.mX(g,R,5,3,!1,15);f.yC(j,b);
f.yC(R,b);f.ec(c,2155905279);f.ec(i,q);f.ec(H,O);f.lw(i,j,c);f.lw(H,R,c)};d.X.ah9=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=new Uint8Array(256),E=5+10*z[1];E+=z[1]>3?(z[1]-3)*10:0;var b=~~(z[2]*.73)+50,q=Math.min(b+E,128),O=q-b,j=-255*b;
for(var y=0;y<256;y++){var A=y*65;$[y]=f.GT(j/O);j+=255}var R=f.kj(1),g=f.kj(1),H=f.kj(1);f.Vb(K,R);
f.kO(R,H);f.kQ(R,g,2*z[0]+1);f.sub(g,R);f.yC(R,65);f.mX(R,g,9,3,!0,20);for(var y=0;y<f.x7;y++){var i=H[y],h=g[y];
R[y]=h>0?~~((h*i+(255-h)*128)/255):128}f.kQ(R,g,3);f.mX(g,R,15,2,!0,16);f.mX(g,H,15,2,!1,15);f.Ju(R,H);
f.xr(H,g,2);f.qW(g,$);f.kQ(g,R,2);f.$b(R,c)};d.X.a6g=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=2*z[0]+1,E=f.Ka[z[1]],b=z[2]*5.1,q=z[3],O=f.kj(1),j=f.kj(1),A=f.kj(4),R=f.kj(4);
f.ec(A,q);f.jJ(A,c);f.k4(O,b);f.DV(O,c);f.zQ(c,A);f.Vb(K,j);f.kQ(j,O,$);f.sub(O,j);f.yC(j,E);f.mX(j,O,9,3,!0,20);
f.lw(K,O,A);f.OK(A,c,3);f.B8(c,A,15,2,!0,16);f.B8(c,R,15,2,!1,16);f.Ju(A,R);f.Zp(R,c,2)};d.X.a8Y=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=(15-z[0])/4+1,E=(15-z[1])/4+1,b=z[2],q=z[3],O=f.BG(z[4]),j=z[5]+1,A=z[6],R=z[7],g=z[8],H=f.kj(1),i=f.kj(1),h=f.kj(1),x=f.kj(1),F=f.kj(4),X=f.kj(4);
f.xM(h,b,q,A);f.Vb(K,i);f.kQ(i,H,5);f.WA(h,H,x,j,O);f.yC(x,$);f.zd(x,2);f.oD(H);f.WA(h,H,i,j,O);f.yC(i,E);
f.zd(i,2);f.ec(F,2155905279);f.ec(X,R);f.ec(c,g);f.lw(F,i,X);f.lw(X,x,c)};d.X.aBN=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);f.JD(z[3]);var $=z[0],E=z[1]/10,b=z[2]/10,q=f.kj(1),O=f.kj(1),j=f.kj(1),A=f.b_(),R=f.b_(),g=f.b_();
f.K4(q);f.kQ(q,O,11);f.kQ(O,q,11);f.gB(q,A);f.Y_(K,q);f.kO(q,j);f.kQ(q,O,9);f.kQ(O,q,9);f.gB(q,R);f.lG(R,g,5);
f.lG(g,R,5);f.vb(A,.8);f.ax2(A,R,.8,.9);f.g7(R,q,$);f.zP(q,O,2,2,1);f.zP(O,q,2,2,3);f.zP(q,O,2,2,3);
f.zP(j,q,5,5,13);f.lV(O,q,O,E);f.nw(q,O,O,b);f.WA(O,O,q,5,1);f.jJ(K,c);f.DV(q,c);f.zQ(c)};d.X.agU=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=z[0],E=z[1]/2,b=z[2],q=$/2,O=f.kj(4),j=f.kj(4);f.kO(K,c);for(var A=0;A<b;A++){f.B8(c,O,$,1,!0,q);
f.B8(c,j,$,1,!1,q);f.Ju(j,O);f.OK(O,j,2);f.Zp(j,c,E)}};d.X.a9d=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);
var $=z[0]*10,E=z[1]*4.9,b=z[2]*4.9,q=f.kj(1),O=f.kj(1),j=f.kj(4),A=f.kj(4);f.Vb(K,q);f.e$(q,f.azg(q,$));
f.kQ(q,O,3);f.B8(K,j,5,1,!1,1);f.B8(K,c,15,2,!0,16);f.lw(c,O,j);f.jJ(j,c);f.d6(c,q);f.MI(q,E,b);f.DV(q,c);
f.zQ(c)};d.X.aa$=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[4]);var $=z[0]/20,E=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][z[1]],b=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][z[2]],q=z[3],O=new Int16Array(256);
for(var y=0;y<256;y++){O[y]=~~((y-128)*$)}var j=f.kj(1),A=f.kj(1),R=f.kj(4);f.Vb(K,j);f.kQ(j,A,25);f.yC(A,E);
f.zd(A,b);f.kQ(A,j,25);f.K4(A);f.qF(j,A,O);f.kO(K,c);f.ec(R,q);f.lw(R,j,c)};d.X.auq=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=z[0]+5,E=15-z[1],b=$*$/2,q=1-(3-z[2])/10,O=~~(E*E*q-1),j=~~(E*E*(1-q));if(j==0)j=1;var A=f.kj(1),R=f.kj(1),g=f.kj(1),H=f.kj(4);
f.Vb(K,g);f.zP(g,A,$,$,b);f.kQ(g,R,$);f.sub(A,R);f.e$(R,1);f.FV(K,H,E,E,O);f.FV(K,c,E,E,j);f.lw(H,R,c)};
d.X.a1C=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[3]);var $=(20-z[0])*.05,E=z[1]*-2.75+60,b=65-E,q=z[2]/10,O=f.kj(1),j=f.kj(1);
f.Y_(K,j);var A=f.SY(E,b,j);f.jJ(K,c);f.d6(c,j);f.K4(O);f.rY(j,O,$);f.qW(j,A);f.yC(j,z[2]/10);f.add(O,j);
f.DV(j,c);f.zQ(c)};d.X.ajf=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=5+z[0],E=15-z[1],b=z[2],q=$*$/2+$*$%2*1,O=1-(3-z[2])/10,j=~~(E*E*O-1),A=~~(E*E*(1-O));
if(A==0)A=1;var R=f.kj(1),g=f.kj(1),H=f.kj(1),i=f.kj(1),h=f.kj(1);f.Y_(K,g);f.xr(g,R,3);f.zP(R,g,2,2,1);
var x=f.SY(20,20,g);f.qW(g,x);f.kQ(g,h,5);f.zP(h,R,$,$,q);f.zP(h,g,E,E,j);f.zP(h,H,E,E,A);f.kQ(h,i,$);
f.sub(R,i);f.e$(i,1);f.vS(g,i,H);f.jJ(K,c);f.DV(H,c);f.zQ(c)};d.X.a04=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);f.JD(z[5]);var $=f.x7,E=f.i_,b=z[0],q=z[1],O=z[2],j=z[3],A=z[4],R=.05*b+1,g=b/100,H=b>>1,i=2*b-100,h=+(q==9),x=+(q==7),F=[4,1][h],X=[3,2][h],V=[1,2][x],U=[2,1][x],Z=[50,75][h],T=q<4?O:(O>>1)+50,v=f.Tw(Z,T),P=f.HA(j),p=f.HA(A),a=f.kj(4),D=f.kj(4),n=f.kj(1),N=f.kj(1);
function W(c,v){if(T!=50){f.Si(c,v)}}function G(K,r){for(var y=0;y<$;y++){K[y]=f.GT(K[y]+(r[y]-128)*g)}}function l(K,r){for(var y=0,Q=0;
y<$;y++){K[Q]=f.GT(K[Q]+(r[Q]-128)*g);K[Q+1]=f.GT(K[Q+1]+(r[Q+1]-128)*g);K[Q+2]=f.GT(K[Q+2]+(r[Q+2]-128)*g);
Q+=4}}function u(K,c){f.K4(D);f.kO(K,c);l(c,D);W(c,v)}function e(r){var Q=0;for(var j9=0;j9<12;j9++)Q+=f.random();
return f.GT(H*(Q-6)+r)}function M(K,c){f.kO(K,c);for(var y=0;y<E;y+=4){c[y]=e(c[y]);c[y+1]=e(c[y+1]);
c[y+2]=e(c[y+2])}W(c,v)}function B(K,c){f.kO(K,c);for(var y=0;y<E;y+=4){if(f.random()<g){c[y]=P[0];c[y+1]=P[1];
c[y+2]=P[2]}}W(c,v)}function s(K,c){f.K4(a);f.FV(a,D,X,X,F);f.kO(K,a);l(a,D);f.FV(a,c,5,5,13);W(c,v)}function t(K,c){f.K4(D);
f.kO(K,a);l(a,D);W(c,v);f.FV(a,c,X,X,F)}function J(K,c){f.kO(K,a);W(c,v);f.Vb(a,n);for(var y=0,r=0;y<$;
y++){var Q=((i-n[y]+255)*128.5+.5)/32767;if(f.random()<=Q){c[r++]=p[0];c[r++]=p[1];c[r++]=p[2]}else{c[r++]=P[0];
c[r++]=P[1];c[r++]=P[2]}c[r]=K[r];r++}}function L(K,c){f.jJ(K,c);f.d6(c,n);f.xr(n,N,R);f.zP(N,n,X,X,F);
f.qW(n,v);f.DV(n,c);f.zQ(c)}function k(K){var r=0;if(q==8){for(var Q=0;Q<o;Q++){K[r++]=~~(f.random()*255)}for(var y=1;
y<Y;y++){for(var Q=0;Q<o;Q++){K[r++]=K[Q]}}}else{for(var y=0;y<Y;y++){var j9=~~(f.random()*255);for(var Q=0;
Q<o;Q++){K[r++]=j9}}}}function C(K,c){f.Vb(K,n);f.K4(N);G(n,N);k(N);G(n,N);f.OK(K,a,9);f.OK(a,D,9);f.kQ(n,N,2);
f.qW(N,v);f.kQ(N,n,2);f.jJ(D,c);f.DV(n,c);f.zQ(c)}[u,M,B,s,s,t,J,C,C,L][q](K,c)};d.X.ar8=function(K,o,Y,c,z){var f=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],$=d.X.q,H=0,i,y,V,U,Z,T=0,v=1,P=255;
$.JC(o,Y);$.JD(z[3]);var E=$.kj(1),b=$.kj(1);$.Vb(K,E);var q=z[0],O=z[1],j=O<=50?f[O]/255:1+(255-f[101-O])/255,A=z[2],R=E.length,g=new Float32Array(R),h=1+1/10*q,x=(1-1/h)/2,F=16/256,X=o-1;
for(y=0;y<$.x7;y++){g[y]=E[y]/255;b[y]=q==1?$.random()<1/255?P:v:v}function p(a,D){var n=a*o+D;if(b[n]!=v||a>=Y||D>=o){return}var U=g[n],N=j-U,W=$.random(),G=W/h+x;
if(H==0||Math.abs(Z-U)>F){i=G<=N?T:P;H=~~($.random()*q)}else if(.1<W){H--}else{H=0}b[n]=i;Z=U}if(A==0){for(y=0;
y<o;y++){for(V=0;V<o;V++){U=y+V;if(U>=o)break;p(V,X-U)}H=0}for(y=1;y<Y;y++){for(V=0;V<Y;V++){U=y+V;if(U>=Y||V>=o)break;
p(U,X-V)}H=0}}else if(A==1){for(y=0;y<Y;y++){for(V=0;V<o;V++){p(y,V)}H=0}}else if(A==2){for(y=0;y<o;
y++){for(V=0;V<o;V++){U=y+V;if(U>=o)break;p(V,U)}H=0}for(y=1;y<Y;y++){for(V=0;V<Y;V++){U=y+V;if(U>=Y||V>=o)break;
p(U,V)}H=0}}else{for(y=0;y<o;y++){for(V=0;V<Y;V++){p(V,y)}H=0}}$.$b(b,c)};d.X.afI=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=z[0],E=z[1],b=z[2],q=f.kj(1),O=f.kj(1),j=f.kj(1),A=f.kj(1),R=f.kj(4),g=f.kj(4);f.d6(K,A,3,4);
f.Vb(K,q);f.zP(q,O,3,3,1);f.zP(q,j,3,3,9);f.sub(j,O);f.kQ(O,q,3);f.MI(q,40,10,A);f.B8(K,c,$,2,!1,$);
f.B8(K,R,$,2,!0,$);f.ec(g,255);f.lw(c,q,g);f.lw(g,q,R);f.Zp(R,c,1);f.jJ(c);f.d6(c,q);f.MI(q,E,b,A);f.DV(q,c);
f.zQ(c)};d.X.ai7=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[3]);var $=z[0],E=z[1],b=z[2]/10;$=$+E;
var q=f.kj(1),O=f.kj(1),j=f.b_(),A=f.b_();f.K4(q);f.kQ(q,O,11);f.kQ(O,q,11);f.gB(q,j);f.lG(j,A,5);f.lG(A,j,5);
f.vb(A,.97);f.g7(A,q,$);f.zP(q,O,E,E,1);f.Y_(K,q);f.lV(O,q,O,.6);f.nw(q,O,O,b);f.WA(O,O,q,5,1);f.jJ(K,c);
f.DV(q,c);f.zQ(c)};d.X.awW=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=Math.abs(z[0]),E=$+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][$],b=2*$+1,q=z[1]/10,O=q*13/15,j=f.kj(1),A=f.kj(1),R=f.kj(1),g=f.kj(1),H=f.kj(4),i=f.kj(4),h=f.kj(4),x=f.kj(4),F=f.kj(4);
f.Vb(K,j);if(z[0]>=0){f.oD(j)}f.kO(j,R);f.kQ(j,g,E);f.kQ(g,j,E);f.yC(j,q);f.kO(j,A);f.kQ(j,g,b);f.kQ(g,j,b);
f.yC(j,O);f.ec(h,z[2]);f.ec(x,z[3]);f.ec(F,z[4]);f.lw(h,j,x,H);f.lw(F,A,H,i);f.lw(x,R,i,c);f.d6(K,R,3);
f.DV(R,c,3)};d.X.amN=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[5]);var $=z[0]*5.1,E=z[1]/100,b=f.oS[z[2]],q=f.kj(1),O=f.kj(1),j=f.kj(1);
f.Vb(K,q);f.k4(O,255);f.K4(j);f.e$(q,$);f.rY(O,q,.7);f.rY(j,q,E);f.WA(q,q,O,5,b);f.kO(K,c);f.alH(c,$,z[4],z[3]);
f.jJ(c);f.DV(O,c);f.zQ(c)};d.X.a3e=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=z[0],E=4-z[1],b=11-z[2],q=f.kj(1),O=f.kj(1),j=f.kj(4);
f.Y_(K,O);for(var y=0;y<E;y++){f.kO(O,q);f.n6(q,O,$,$)}f.OK(K,j,$);f.jJ(j,j);f.DV(O,j);f.zQ(j,j);(b<11?f.a9F:f.kO)(j,c,b)};
d.X.aCr=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[2]);var $=z[0]+5,E=~~($/5+1),b=~~($/2)+1,q=b*b,O=~~($/3),j=f.oS[z[1]],A=new Array(256);
for(var y=0;y<256;y++){A[y]=~~(.2*(y-128))}var R=f.kj(1),g=f.kj(1);f.ae3(K,c,$);f.jJ(c);f.d6(c,R);f.K4(g);
f.qF(R,g,A);f.ak8(g,$,$,E,E);f.lV(R,g,R,1);f.kQ(R,g,O);f.kQ(g,R,O);f.zP(R,g,b,b,q);f.WA(g,g,R,5,j);f.DV(R,c);
f.zQ(c)};d.X.ac3=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=f.kj(1),E=f.kj(1),b=f.kj(1),q=f.b_(),O=f.b_();
f.Vb(K,$);f.kQ($,E,z[2]);f.e$(E,z[0]*5.1);f.zP(E,$,2,2,4);f.kQ($,E,3);f.kQ(E,$,3);f.kO($,b);f.kQ($,E,5);
f.kQ(E,$,5);f.gB($,q);f.lG(q,O,5);f.lG(O,q,5);f.asb(q,E,z[1]);f.oD(E);f.lV(b,E,b,1);f.$b(b,c)};d.X.ajA=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=1<<7-z[2],E=f.kj(1),b=f.kj(1),q=f.kj(1);f.Y_(K,b);f.kQ(b,E,3);f.kO(E,b);f.kQ(E,q,z[0]+5);
f.sub(q,b);f.MI(b,1,z[1]);f.yC(E,1/$);f.yC(E,$);f.sub(E,b);f.jJ(K,c);f.DV(b,c);f.zQ(c)};d.X.aut=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);f.JD(z[3]);var $=f.kj(1),E=f.kj(1),b=f.kj(1);f.Vb(K,$);f.aj3(E,z[0]/50);f.kQ(E,b,3);f.zP($,E,9,9,41);
f.MI(E,z[1],z[2]);f.lV(E,b,b,.75);f.nw(E,b,E,.5);f.kO(E,$);f.zP($,b,3,3,8);f.lV(b,E,b,.75);f.yC(b,1.2);
f.xr(b,$,1);f.kQ($,b,2);f.xr(b,$,2);f.yC($,1.2);f.kQ($,b,2);f.$b(b,c)};d.X.aqF=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=z[0]+9,E=z[1]/2,b=z[2],q=z[3],O=f.BG(z[4]),j=z[5]+1,A=z[6],R=f.kj(1),g=f.kj(1),H=f.kj(4),i=f.kj(4);
f.xM(g,b,q,A);f.S5(K,c,$,1,1);f.S5(c,H,$,1,1);f.aeH(H,H,i,7,E);f.yC(i,1.2);f.zd(i,1.2);f.WA(g,R,R,j,O);
f.yC(R,3);f.kO(K,c);f.lw(i,R,c)};d.X.al$=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[3]);var $=z[0]+4,E=$*2/5+($%5|0);
$--;var b=z[1]*-2.75+60,q=65-b,O=z[2]/10,j=f.kj(1),A=f.kj(1);f.K4(j);f.Y_(K,A);var R=f.SY(b,q,A);f.jJ(K,c);
f.d6(c,A);f.rY(A,j,.8);f.qW(A,R);f.yC(A,O);f.add(j,A);f.mX(A,j,$,3,!1,E);f.DV(j,c);f.zQ(c)};d.X.a2y=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);f.JD(z[3]);var $=z[0]+5,E=($*$>>1)+$%2,b=z[1]/10,q=z[2],O=(q*q>>1)+q%2,j=f.kj(1),A=f.kj(1),R=f.kj(1),g=f.kj(4),H=f.kj(4),i=f.kj(4);
f.K4(R);f.jJ(K,i);f.d6(i,j);f.rY(j,R,.8);f.kQ(R,j,3);f.xr(j,R,b);f.DV(R,i);f.zQ(i,i);f.Vb(i,R);f.zP(R,j,$,$,E);
f.kQ(R,A,$);f.sub(j,A);f.e$(A,1);f.FV(i,g,7,7,40);f.FV(i,H,7,7,10);f.lw(g,A,H);f.FV(H,c,q,q,O)};d.X.aa9=function(K,o,Y,c,z){var f=d.X.q,E=255,y,q;
f.JC(o,Y);var $=z[0];if($<2)E=$;else if($<12)E=5*$-5;else if($<47)E=2*$+28;else if($<50){y=$-47;E=125+12.5*y+12.5*y*y}var b=new Uint8Array(256);
for(y=75,q=15;y<256;y++,q+=24)b[y]=Math.min(255,q);var O=f.kj(1),j=f.kj(1),A=f.kj(1);f.Vb(K,O);f.kQ(O,j,11);
f.kQ(j,A,11);f.sub(A,O);f.yC(O,8);f.sub(A,O);f.e$(O,E);f.oD(O);f.kQ(O,j,5);f.e$(j,51);f.kQ(j,O,z[1]);
f.kQ(O,j,z[1]);f.oD(j);f.qW(j,b);f.$b(j,c)};d.X.ano=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=f.Ka[z[1]],E=z[2],b=E*1.5,q=f.kj(1),O=f.kj(1),j=f.kj(1);
f.Y_(K,q);f.mX(q,O,15,2,!0,15);f.kO(O,j);f.MI(j,E,b);f.kQ(j,q,3);f.kQ(O,j,z[0]);f.sub(j,O);f.yC(O,$);
f.sub(q,O);f.kQ(O,q,3);f.mX(q,O,3,1,!1,1);f.OK(K,c,15);f.jJ(c);f.DV(O,c);f.zQ(c)};d.X.akj=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);f.JD(z[3]);var $=z[0]*5.1,E=16-z[1],b=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][z[2]],q=f.kj(1),O=f.kj(1),j=f.kj(1);
f.Vb(K,q);f.e$(q,$);f.kQ(q,O,E);f.kQ(O,q,E);f.K4(j);f.nw(q,j,j,1);f.lV(q,j,q,.75);f.yC(q,b);f.zd(q,b);
f.zP(q,O,2,2,2);f.$b(O,c)};d.X.aug=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);var $=z[0]+9,E=z[1]+9,b=z[2],q=z[3],O=f.BG(z[4]),j=z[5]+1,A=z[6],R=f.kj(1),g=f.kj(1),H=f.kj(1),i=f.kj(1),h=f.kj(1),x=f.kj(4);
f.Y_(K,R);f.n6(R,H,$,$);f.kQ(H,R,E);f.kO(H,h);f.kO(R,i);f.sub(h,i);f.sub(R,h);f.add(h,i);f.yC(i,10);
f.xM(g,b,q,A);f.WA(g,R,h,j,O);f.vS(h,i,H,.8);f.OK(K,x,9);f.OK(x,c,9);f.jJ(c);f.DV(H,c);f.zQ(c)};d.X.ag1=function(K,o,Y,c,z){var f=d.X.q;
f.JC(o,Y);var $=16-z[0],E=z[1]*8,b=1-(3-z[2])/10,q=~~($*$*b-1),O=~~($*$*(1-b));if(O==0)O=1;var j=f.kj(1),A=f.kj(1),R=f.kj(1),g=f.kj(4);
f.Vb(K,R);f.zP(R,j,7,7,25);f.kQ(R,A,7);f.sub(j,A);f.e$(A,1);f.FV(K,g,$,$,q);f.FV(K,c,$,$,O);f.lw(g,A,c);
f.jJ(c);f.d6(c,j);f.zP(j,R,3,3,1);f.zP(j,A,3,3,9);f.sub(A,R);f.kO(R,A);f.sub(j,R);f.sub(R,A);f.zP(A,j,3,3,8);
f.MI(j,E,1);f.DV(j,c);f.zQ(c)};d.X.af3=function(K,o,Y,c,z){var f=d.X.q;f.JC(o,Y);f.JD(z[3]);var $=z[0],E=z[1],b=z[2],q=$>>1,O=Math.max(~~($/5),1),j=Math.max(~~($*2/3),1),A=f.Tw(E,b),R=f.kj(1),g=f.kj(1),H=f.kj(1),i=f.kj(1),h=f.kj(4);
f.Y_(K,R);f.jY(2147483647,4,2,2,0,255,g);f.jY(4,2147483647,2,2,0,255,i);f.K4(H);f.nw(g,H,g,1);f.nw(i,H,i,1);
f.nw(g,R,g,1);f.nw(i,R,i,1);f.OK(K,h,q);f.OK(h,c,q);f.zP(g,R,1,$,O);f.zP(R,g,3,$,j);f.zP(i,R,$,1,O);
f.zP(R,i,$,3,j);f.Ju(g,i);f.jJ(c);f.DV(i,c);f.zQ(c);f.Si(c,A)};d.X.Ad=function(K,o,Y){var c=Y.aod,z=Y.x7,f=Y.kj(1),top=Y.kj(1),$=Y.kj(1),E=Y.kj(1),b=Y.kj(1),q=Y.kj(1),O=Y.kj(1),j=Y.kj(1),A=Y.kj(1),R=Y.Fv,g=Y.jd,H=d.f9.UP,i=d.f9.Te;
H(K,f,R,g,i([8,5,2,5,2,-1,2,-1,-4]));H(K,top,R,g,i([5,5,5,2,2,2,-1,-1,-1]));H(K,$,R,g,i([2,5,8,-1,2,5,-4,-1,2]));
H(K,E,R,g,i([5,2,-1,5,2,-1,5,2,-1]));H(K,b,R,g,i([2,2,2,2,2,2,2,2,2]));H(K,q,R,g,i([-1,2,5,-1,2,5,-1,2,5]));
H(K,O,R,g,i([2,-1,-4,5,2,-1,8,5,2]));H(K,j,R,g,i([-1,-1,-1,2,2,2,5,5,5]));H(K,A,R,g,i([-4,-1,2,-1,2,5,2,5,8]));
var h=[f,top,$,E,b,q,O,j,A];for(var x=0;x<g;x++){for(var F=0;F<R;F++){var X=x*R+F,V=K[X],U=null,Z=0;
for(var T=-1;T<2;T++){for(var v=-1;v<2;v++){var P=h[(T+1)*3+v+1],p=Math.max(0,Math.min(x+T,g-1)),a=Math.max(0,Math.min(F+v,R-1)),D=P[p*R+a],n=Math.abs(D-V);
if(U==null||n<U){U=n;Z=D}}}o[X]=Z}}};d.X.akg=function(K,o,Y,c,z){var self=d.X.q;self.JC(o,Y);var f=self.kj(1),$=self.kj(1);
for(var y=0;y<4;y++){self.d6(K,f,y);if(y<3){d.X.Ad(f,$,self);d.X.Ad($,f,self);d.X.Ad(f,$,self);d.X.Ad($,f,self);
d.X.Ad(f,$,self);d.X.Ad($,f,self);d.X.Ad(f,$,self);d.X.Ad($,f,self);d.X.Ad(f,$,self)}else $=f;self.DV($,c,y)}};
d.X.q={};d.X.q.Fv=0;d.X.q.jd=0;d.X.q.x7=0;d.X.q.SP=0;d.X.q.i_=0;d.X.q.JC=function(K,o){var Y=K*o,self=d.X.q;
self.Fv=K;self.jd=o;self.x7=Y;self.SP=Y<<1;self.i_=Y<<2};d.X.q.JD=function(K){d.X.q.random=function(){var o=K+=1831565813;
o=Math.imul(o^o>>>15,o|1);o^=o+Math.imul(o^o>>>7,o|61);return((o^o>>>14)>>>0)/4294967296}};d.X.q.kj=function(K){var o=d.X.q;
return new Uint8Array([-1,o.x7,o.SP,-1,o.i_][K])};d.X.q.b_=function(){return new Int32Array(d.X.q.SP)};
d.X.q.kQ=function(K,o,Y,c){if(c==null)c=Y;var self=d.X.q,z=self.Fv,f=self.jd,$=c,E=c>>1,b=Y,q=Y>>1,O=Y*c,j=0;
for(var y=0;y<f;y++){var A=0;for(var R=0;R<$;R++){for(var g=0;g<b;g++){var H=0-q+g,i=y-E+R;if(H<0)H=0;
else if(H>=z)H=z-1;if(i<0)i=0;else if(i>=f)i=f-1;A+=K[i*z+H]}}o[j++]=~~(A/O);for(var h=1;h<z;h++){for(var R=0;
R<$;R++){var x=h-q-1,F=x+b,i=y-E+R;if(x<0)x=0;if(F>=z)F=z-1;if(i<0)i=0;else if(i>=f)i=f-1;A+=K[i*z+F]-K[i*z+x]}o[j++]=~~(A/O)}}};
d.X.q.lG=function(K,o,Y,c){var self=d.X.q,z=new Int32Array(self.x7),f=new Int32Array(self.x7);for(var y=0;
y<2;y++){self.d6(K,z,y,2);self.kQ(z,f,Y,c);self.DV(f,o,y,2)}};d.X.q.OK=function(K,o,Y,c){var self=d.X.q,z=self.kj(1),f=self.kj(1);
for(var y=0;y<4;y++){self.d6(K,z,y);if(y<3)self.kQ(z,f,Y,c);else f=z;self.DV(f,o,y)}};d.X.q.S5=function(K,o,Y,c,z){var self=d.X.q,f=self.Fv,$=self.jd,E=Y+c-1,b=Y>>1,q=E>>1,O=0,j=Y*c,A=new Int32Array(Y);
for(var y=0;y<$;y++){var R=0,g=0,H=0;for(var i=0;i<Y;i++){var h=z?E-i-c:i;for(var x=h,F=c+h;x<F;x++){var X=0-q+x,V=y-b+i;
if(x==h){A[i]=X}if(X<0)X=0;else if(X>=f)X=f-1;if(V<0)V=0;else if(V>=$)V=$-1;var U=f*V+X<<2;R+=K[U];g+=K[U+1];
H+=K[U+2]}}o[O++]=~~(R/j);o[O++]=~~(g/j);o[O++]=~~(H/j);o[O]=K[O];O++;for(var Z=1;Z<f;Z++){for(var i=0;
i<Y;i++){var V=y-b+i,h=A[i]+1;A[i]=h;var T=h-1,v=h+c-1;if(V<0)V=0;else if(V>=$)V=$-1;if(T<0)T=0;else if(T>=f)T=f-1;
if(v<0)v=0;else if(v>=f)v=f-1;var P=V*f+T<<2,p=V*f+v<<2;R=R+K[p]-K[P];g=g+K[p+1]-K[P+1];H=H+K[p+2]-K[P+2]}o[O++]=~~(R/j);
o[O++]=~~(g/j);o[O++]=~~(H/j);o[O]=K[O];O++}}};d.X.q.mX=function(K,o,Y,c,z,f){var self=d.X.q,$=self.Fv,E=self.jd,b=Y+c-1,q=Y>>1,O=b>>1,j=0,A=new Int32Array(Y),R=new Int32Array(256),g=new Int32Array(16);
for(var y=0;y<E;y++){for(var H=0;H<256;H++){R[H]=0}for(var H=0;H<16;H++){g[H]=0}for(var i=0;i<Y;i++){var h=z?b-i-c:i;
for(var x=h,F=c+h;x<F;x++){var X=0-O+x,V=y-q+i;if(x==h){A[i]=X}if(X<0)X=0;else if(X>=$)X=$-1;if(V<0)V=0;
else if(V>=E)V=E-1;R[K[V*$+X]]++;g[K[V*$+X]>>>4]++}}var U=0,Z=0;while(U+g[Z>>>4]<f){U+=g[Z>>>4];Z+=16}for(;
Z<256;Z++){U+=R[Z];if(U>=f)break}o[j++]=Z;for(var H=1;H<$;H++){for(var i=0;i<Y;i++){var V=y-q+i,h=A[i]+1;
A[i]=h;var T=h-1,v=h+c-1;if(V<0)V=0;else if(V>=E)V=E-1;if(T<0)T=0;else if(T>=$)T=$-1;if(v<0)v=0;else if(v>=$)v=$-1;
R[K[V*$+T]]--;R[K[V*$+v]]++;g[K[V*$+T]>>>4]--;g[K[V*$+v]>>>4]++}U=0;Z=0;while(U+g[Z>>>4]<f){U+=g[Z>>>4];
Z+=16}for(;Z<256;Z++){U+=R[Z];if(U>=f)break}o[j++]=Z}}};d.X.q.B8=function(K,o,Y,c,z,f){var self=d.X.q,$=self.kj(1),E=self.kj(1);
for(var y=0;y<4;y++){self.d6(K,$,y);if(y<3)self.mX($,E,Y,c,z,f);else E=$;self.DV(E,o,y)}};d.X.q.zP=function(K,o,Y,c,z){z=Math.min(c*Y,z);
var self=d.X.q,f=self.Fv,$=self.jd,E=c>>1,b=Y>>1,q=0,O=new Int32Array(c),j=new Int32Array(256),A=new Int32Array(16);
for(var y=0;y<$;y++){for(var R=0;R<256;R++){j[R]=0}for(var R=0;R<16;R++){A[R]=0}for(var g=0;g<c;g++){for(var H=0,i=Y;
H<i;H++){var h=0-b+H,x=y-E+g;if(H==0){O[g]=h}if(h<0)h=0;else if(h>=f)h=f-1;if(x<0)x=0;else if(x>=$)x=$-1;
j[K[x*f+h]]++;A[K[x*f+h]>>>4]++}}var F=0,X=0;while(F+A[X>>>4]<z){F+=A[X>>>4];X+=16}for(;X<256;X++){F+=j[X];
if(F>=z)break}o[q++]=X;for(var R=1;R<f;R++){for(var g=0;g<c;g++){var x=y-E+g,V=O[g]+1;O[g]=V;var U=V-1,Z=V+Y-1;
if(x<0)x=0;else if(x>=$)x=$-1;if(U<0)U=0;else if(U>=f)U=f-1;if(Z<0)Z=0;else if(Z>=f)Z=f-1;j[K[x*f+U]]--;
j[K[x*f+Z]]++;A[K[x*f+U]>>>4]--;A[K[x*f+Z]>>>4]++}F=0;for(X=0;X<256;X++){F+=j[X];if(F>=z)break}o[q++]=X}}};
d.X.q.FV=function(K,o,Y,c,z){var self=d.X.q,f=self.kj(1),$=self.kj(1);for(var y=0;y<4;y++){self.d6(K,f,y);
if(y<3)self.zP(f,$,Y,c,z);else $=f;self.DV($,o,y)}};d.X.q.xr=function(K,o,Y){var self=d.X.q,c=self.Fv,z=self.jd,f=0;
for(var y=0;y<z;y++){var $=y*c,E=(y-1)*c,b=(y+1)*c;if(E<0)E=$;if(b>=z)b=$;for(var q=0;q<c;q++){var O=q-1,j=q+1;
if(O<0)O=q;if(j>=c)j=q;var A=$+O,R=$+j,g=E+q,H=b+q,i=$+q,h=K[A],x=K[R],F=K[g],X=K[H],V=K[i],U=V+(V*4*Y+.5);
U=U-((h+x+X+F)*Y+.5);o[f++]=self.GT(U)}}};d.X.q.Zp=function(K,o,Y){var self=d.X.q,c=self.kj(1),z=self.kj(1);
for(var y=0;y<4;y++){self.d6(K,c,y);if(y<3)self.xr(c,z,Y);else z=c;self.DV(z,o,y)}};d.X.q.a9F=function(K,o,Y){var self=d.X.q,c=self.Fv,z=self.jd,f=0,$=Y+4;
for(var y=0;y<z;y++){var E=y*c,b=(y-1)*c,q=(y+1)*c;if(b<0)b=E;if(q>=z)q=E;for(var O=0;O<c;O++){var j=O-1,A=O+1;
if(j<0)j=O;if(A>=c)A=O;var R=E+j<<2,g=E+A<<2,H=b+O<<2,i=q+O<<2,h=E+O<<2;for(var x=0;x<3;x++){var F=K[R+x],X=K[g+x],V=K[H+x],U=K[i+x],Z=K[h+x];
o[f++]=(Z*Y+F+X+U+V)/$}o[f]=K[f];f++}}};d.X.q.n6=function(K,o,Y,c){var self=d.X.q,z=self.Fv,f=self.jd,$=Y>>1,E=c>>1,b=0,q=new Int32Array(Y),O=new Int32Array(256);
for(var y=0;y<f;y++){for(var j=0;j<256;j++){O[j]=0}for(var A=0;A<Y;A++){for(var R=0,g=c;R<g;R++){var H=0-E+R,i=y-$+A;
if(R==0){q[A]=H}if(H<0)H=0;else if(H>=z)H=z-1;if(i<0)i=0;else if(i>=f)i=f-1;O[K[i*z+H]]++}}var h=0,x=0;
for(var F=0;F<256;F++){if(h<O[F]){x=F;h=O[F]}}o[b++]=x;for(var j=1;j<z;j++){for(var A=0;A<Y;A++){var i=y-$+A,X=q[A]+1;
q[A]=X;var V=X-1,U=X+c-1;if(i<0)i=0;else if(i>=f)i=f-1;if(V<0)V=0;else if(V>=z)V=z-1;if(U<0)U=0;else if(U>=z)U=z-1;
O[K[i*z+V]]--;O[K[i*z+U]]++}h=0;x=0;for(var F=0;F<256;F++){if(h<O[F]){x=F;h=O[F]}}o[b++]=x}}};d.X.q.ay9=[function(K,o,Y,c,z,f,$,E,b,q){return z+(K+o+Y)*q-(b+E+$)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+(o+Y+f)*q-(E+$+c)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+(Y+f+b)*q-($+c+K)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+(f+b+E)*q-(c+K+o)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+(b+E+$)*q-(K+o+Y)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+(E+$+c)*q-(o+Y+f)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+($+c+K)*q-(Y+f+b)*q},function(K,o,Y,c,z,f,$,E,b,q){return z+(c+K+o)*q-(f+b+E)*q}];
d.X.q.WA=function(K,o,Y,c,z){var self=d.X.q,f=self.Fv,$=self.jd,E=f,b=self.ay9[c-1];for(var y=0;y<$;
y++){var q=(y>0?y-1:0)*E,O=y*E,j=(y<$?y+1:y)*E;for(var A=0;A<f;A++){var R=A>0?A-1:0,g=A<f?A+1:A,H=O+A,i=K[q+R],h=K[q+A],x=K[q+g],F=K[O+R],X=o[H],V=K[O+g],U=K[j+R],Z=K[j+A],T=K[j+g];
Y[H]=self.GT(b(i,h,x,F,X,V,U,Z,T,z))}}};d.X.q.aeH=function(K,o,Y,c,z){var self=d.X.q,f=self.kj(1),$=self.kj(1),E=self.kj(1);
for(var y=0;y<3;y++){self.d6(K,f,y);self.d6(o,$,y);self.WA(f,$,E,c,z);self.DV(E,Y,y)}self.d6(o,f,3);
self.DV(f,Y,3)};d.X.q.Vb=function(K,o){var Y=K.length,c=0;for(var y=0;y<Y;y++){o[c++]=~~((K[y++]+K[y++]+K[y++]+2)/3)}};
d.X.q.$b=function(K,o){var Y=o.length,c=0;for(var y=0;y<Y;y++){var z=K[y];o[c++]=z;o[c++]=z;o[c++]=z;
o[c++]=255}if(o[0]==255)o[0]--;else o[0]++};d.X.q.Y_=function(K,o){var Y=o.length,c=0;for(var y=0;y<Y;
y++){var z=K[c++],f=K[c++],$=K[c++];c++;if(f>z)z=f;if($>z)z=$;o[y]=z}};d.X.q.jJ=function(K,o){if(o==null)o=K;
var Y=K.length;for(var c=0;c<Y;c+=4){var z=K[c],f=K[c+1],$=K[c+2],E=z,b=0,q=z,j;if(f<=z){z=f}else{b=1;
q=f}if($<=q){if(z>$){z=$}}else{b=2;q=$}var O=q-z;if(O!=0){if(b==0){j=~~(43*(f-$)/O)}else if(b==1){j=~~(43*($+2*O-E)/O)}else{j=43*(E+4*O-f)/O}if(j<0){j=255&j-1}o[c]=j;
o[c+1]=~~(255*O/q)}else{o[c]=O;o[c+1]=O}o[c+2]=q;o[c+3]=K[c+3]}};d.X.q.zQ=function(K,o){if(o==null)o=K;
var Y=K.length;for(var c=0;c<Y;c+=4){var z=K[c],f=K[c+1],$=K[c+2];if(f){if(z==255)z=0;var E=~~(6*z/255),b=~~(-255*E+6*z);
if(E==0){o[c]=$;o[c+1]=~~($*(255-f*(255-b)/255)/255);o[c+2]=~~($*(255-f)/255)}else if(E==1){o[c]=~~($*(255-f*b/255)/255);
o[c+1]=$;o[c+2]=~~($*(255-f)/255)}else if(E==2){o[c]=~~($*(255-f)/255);o[c+1]=$;o[c+2]=~~($*(255-f*(255-b)/255)/255)}else if(E==3){o[c]=~~($*(255-f)/255);
o[c+1]=~~($*(255-f*b/255)/255);o[c+2]=$}else if(E==4){o[c]=~~($*(255-f*(255-b)/255)/255);o[c+1]=~~($*(255-f)/255);
o[c+2]=$}else{o[c]=$;o[c+1]=~~($*(255-f)/255);o[c+2]=~~($*(255-f*b/255)/255)}}else{o[c]=$;o[c+1]=$;o[c+2]=$}o[c+3]=K[c+3]}};
d.X.q.DV=function(K,o,Y,c){if(Y==null)Y=2;if(c==null)c=4;var z=K.length;for(var y=0;y<z;y++){o[Y]=K[y];
Y+=c}};d.X.q.d6=function(K,o,Y,c){if(Y==null)Y=2;if(c==null)c=4;var z=o.length;for(var y=0;y<z;y++){o[y]=K[Y];
Y+=c}};d.X.q.vS=function(K,o,Y,c){if(c==null)c=1;var z=o.length,f=0,$;for(var f=0;f<z;f++){$=o[f];if($){$*=c;
Y[f]=~~(($*K[f]+(255-$)*Y[f])/255)}}};d.X.q.lw=function(K,o,Y,c){if(c==null)c=Y;var z=o.length,f=0,$,E;
for(var y=0;y<z;y++){$=o[y];if($){E=255-$;c[f]=~~(($*K[f]+E*Y[f])/255);c[f+1]=~~(($*K[f+1]+E*Y[f+1])/255);
c[f+2]=~~(($*K[f+2]+E*Y[f+2])/255)}c[f+3]=K[f+3];f+=4}};d.X.q.lV=function(K,o,Y,c){var z=~~(c*255),f=Y.length;
for(var y=0;y<f;y++){Y[y]=((255-z*(255-K[y])/255)*o[y]+K[y]*(z*(255-K[y])/255))/255}};d.X.q.nw=function(K,o,Y,c){var z=~~(c*255),f=Y.length;
for(var y=0;y<f;y++){Y[y]=((255-z*K[y]/255)*o[y]+K[y]*(z*K[y]/255))/255}};d.X.q.rY=function(K,o,Y){var c=o.length;
for(var y=0;y<c;y++){o[y]=~~(K[y]*Y+.5)+(o[y]-~~(o[y]*Y+.5))}};d.X.q.sub=function(K,o){var Y=K.length;
for(var y=0;y<Y;y++){o[y]=Math.max(K[y]-o[y],0)}};d.X.q.add=function(K,o){var Y=K.length;for(var y=0;
y<Y;y++){o[y]=Math.min(K[y]+o[y],255)}};d.X.q.aod=function(K,o){var Y=K.length;for(var y=0;y<Y;y++){o[y]=K[y]+o[y]}};
d.X.q.Ju=function(K,o){var Y=K.length;for(var y=0;y<Y;y++){o[y]=K[y]+o[y]>>1}};d.X.q.kO=function(K,o){var Y=K.length;
for(var y=0;y<Y;y++){o[y]=K[y]}};d.X.q.qW=function(K,o){var Y=K.length;for(var y=0;y<Y;y++){K[y]=o[K[y]]}};
d.X.q.Si=function(K,o){var Y=d.X.q.i_;for(var y=0;y<Y;y+=4){var c=K[y],z=K[y+1],f=K[y+2],$=c;if(z>c)$=z;
if(f>c)$=f;var E=o[$];if(E){K[y]=~~(E*c/$);K[y+1]=~~(E*z/$);K[y+2]=~~(E*f/$)}else{K[y]=E;K[y+1]=E;K[y+2]=E}}};
d.X.q.yC=function(K,o){for(var y=0,Y=K.length;y<Y;y++){K[y]=Math.min(255,~~(.5+K[y]*o))}};d.X.q.zd=function(K,o){for(var y=0,Y=K.length;
y<Y;y++){K[y]=255-Math.min(255,~~(.5+(255-K[y])*o))}};d.X.q.oD=function(K){var o=K.length;for(var y=0;
y<o;y++){K[y]=255-K[y]}};d.X.q.e$=function(K,o,Y,c){if(Y==null)Y=0;if(c==null)c=255;for(var y=0,z=K.length;
y<z;y++){K[y]=K[y]>=o?c:Y}};d.X.q.HA=function(K){return[K>>24&255,K>>16&255,K>>8&255,K&255]};d.X.q.alH=function(K,o,Y,c){if(Y==null)Y=255;
if(c==null)c=4278190335;var z=d.X.q,f=z.i_,$=z.HA(Y),E=z.HA(c);for(var y=0;y<f;y+=4){var b=~~((K[y]+K[y+1]+K[y+2]+2)/3);
if(b>=o){K[y]=$[0];K[y+1]=$[1];K[y+2]=$[2]}else{K[y]=E[0];K[y+1]=E[1];K[y+2]=E[2]}}};d.X.q.ec=function(K,o){var Y=d.X.q,c=Y.i_,z=Y.HA(o);
for(var y=0;y<c;){K[y++]=z[0];K[y++]=z[1];K[y++]=z[2];K[y++]=z[3]}};d.X.q.k4=function(K,o){var Y=K.length;
for(var y=0;y<Y;){K[y++]=o}};d.X.q.Tw=function(K,o){K=K>5?(100-Math.max(4,K))/100:.95;o=o!=100?Math.max(4,o)/100:.9995;
var Y=new Uint8Array(256),c=o>.5?.5/(1-o):o*2,z=~~(c*256),f=~~((.5-K*c)*256)<<8;for(var y=0;y<256;y++){Y[y]=d.X.q.GT(f>>8);
f+=z}return Y};d.X.q.K4=function(K){for(var y=0,o=d.X.q,Y=K.length;y<Y;y++){K[y]=~~(o.random()*256)}};
d.X.q.aj3=function(K,o){for(var y=0,Y=d.X.q,c=K.length;y<c;y++){K[y]=Y.random()<o?255:0}};d.X.q.YO=function(K,o,Y){for(var y=0,c=d.X.q,z=K.length;
y<z;y++){if(c.random()<o)K[y]=Y}};d.X.q.qF=function(K,o,Y){var c=K.length;for(var y=0;y<c;y++){K[y]=d.X.q.GT(K[y]+Y[o[y]])}};
d.X.q.Z_=function(K){var o=new Uint32Array(256);for(var y=0,Y=K.length;y<Y;y++)o[K[y]]++;return o};d.X.q.abr=function(K,o){var Y=0,c=0,z=new Uint32Array(256),f=new Float32Array(256);
for(var y=0,$=K.length;y<$;y++){var E=K[y],b=o[y];if(b==255){z[E]++;Y++}else if(b>0){b/=255;c+=b;f[E]+=b;
if(c>=1){c--;Y++}if(f[E]>=1){f[E]--;z[E]++}}}return[Y,z]};d.X.q.SY=function(K,o,Y,c){var self=d.X.q,z,f,O=0,A=256;
if(c){var $=self.abr(Y,c);z=$[1];f=$[0]/100}else{z=self.Z_(Y);f=self.x7/100}var E=new Uint8Array(256),b=f*K,q=f*o,j=-1;
do{O+=z[++j]}while(O<=b);O=0;do{O+=z[--A]}while(O<=q);if(A-j<=0)A=j+1;if(A>255){A=255;j=254}var R=255/(A-j),g=-j;
for(var y=0;y<256;y++){E[y]=self.GT(R*g+.5);g++}return E};d.X.q.MI=function(K,o,Y,c){var z=d.X.q;z.qW(K,z.SY(o,Y,K,c))};
d.X.q.azg=function(K,o){var self=d.X.q,Y=self.Z_(K),c=self.x7*o/100,z=0,f=-1;do{z+=Y[++f]}while(z<=c);
return f};d.X.q.gB=function(K,o){var Y=0,self=d.X.q,c=self.Fv,z=self.jd,f=1/Math.PI,$=f*255;for(var y=0;
y<z;y++){var E=y+1;if(E==z)E--;var b=y*c,q=~~((1-(y+1)/z)*255);for(var O=0;O<c;O++){var j=O+1;if(j==c)j--;
var A=K[b+O],R=K[b+j],g=K[E*c+O];if(A-g==0){o[Y++]=q}else{var H=A-g+255;if(H==255){H=0}else{H=~~(Math.atan2(1/(255-H),1)*$+.5);
if(H<0)H+=255}o[Y++]=H}if(A-R==0){o[Y++]=~~((1-(O+1)/c)*255)}else{var H=A-R+255;if(H==255){H=0}else{H=~~(Math.atan2(1/(255-H),1)*$+.5);
if(H<0)H+=255}o[Y++]=H}}}};d.X.q.vb=function(K,o){var self=d.X.q,Y=self.Fv,c=self.jd,z=0;for(var y=0;
y<c;y++){for(var f=0;f<Y;f++){K[z]=~~(y*o+.5)+~~(K[z]*(1-o)+.5);z++;K[z]=~~(f*o+.5)+~~(K[z]*(1-o)+.5);
z++}}};d.X.q.ax2=function(K,o,Y,c){var self=d.X.q,z=self.Fv,f=self.jd,$=0;for(var y=0;y<f;y++){for(var E=0;
E<z;E++){o[$]=~~(o[$]*(1-Y)+.5)+~~(K[$]*c+.5);$++;o[$]=~~(o[$]*(1-Y)+.5)+~~(K[$]*c+.5);$++}}};d.X.q.g7=function(K,o,Y){var self=d.X.q,c=self.Fv,z=self.jd,f=0,$=0;
for(var y=0;y<z;y++){for(var E=0;E<c;E++){var b=K[f++],q=K[f++];o[$++]=q%Y>=2&&b%Y>=2?255:0}}};d.X.q.jY=function(K,o,Y,c,z,f,$){var self=d.X.q,E=self.Fv,b=self.jd,q=0,O=0,j=0;
for(var y=0;y<b;y++){var A=y%K<Y||b-Y<=y;for(var R=0;R<E;R++){$[q++]=A||R%o<c||E-c<=R?z:f}}};d.X.q.xM=function(K,o,Y,c){var self=d.X.q,z=self.Fv,f=self.jd;
self.jY(8,8,4,4,0,255,K)};d.X.q.GT=function(K){return~~Math.min(255,Math.max(0,K))};d.X.q.Ka=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
d.X.q.oS=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];d.X.q.BG=function(K){return K>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][K-41]:K/40};
d.X.q.ae3=function(K,o,Y){var self=d.X.q,c=self.Fv,z=self.jd,f=Y,$=Y>>1,E=$-1,b=f*f,q=0;for(var y=0;
y<z;y++){var O=0,j=0,A=0,R=~~(y/Y)*Y,g=0;for(var H=0;H<f;H++){for(var i=0;i<f;i++){var h=g+i,x=R+H;if(h>=c)h=c-1;
if(x>=z)x=z-1;O+=K[x*c+h<<2];j+=K[(x*c+h<<2)+1];A+=K[(x*c+h<<2)+2]}}var F=~~(O/b),X=~~(j/b),V=~~(A/b);
o[q]=F;o[q+1]=X;o[q+2]=V;o[q+3]=K[q+3];q+=4;for(var U=1;U<c;U++){for(var H=0;H<f;H++){var Z=U-1,T=Z+f,x=R+H;
if(T>=c)T=c-1;if(x>=z)x=z-1;var v=x*c,P=v+T<<2,p=v+Z<<2;O+=K[P]-K[p];j+=K[P+1]-K[p+1];A+=K[P+2]-K[p+2]}if(U%Y==0){F=~~(O/b);
X=~~(j/b);V=~~(A/b)}o[q]=F;o[q+1]=X;o[q+2]=V;o[q+3]=K[q+3];q+=4}}};d.X.q.ak8=function(K,o,Y,c,z){var self=d.X.q,f=self.Fv,$=self.jd,E=0,b=0,q=0,O=0;
for(var y=O;y<$+O;y++){var j=y%o>=c||y<c||$+O-c<=y;for(var A=0;A<f;A++){K[E++]=j&&(A%Y>=z||A<z||f-z<=A)?255:0}}};
d.X.q.asb=function(K,o,Y){var c=function(q,O){return O<=q?q/O&1?O-q%O:q%O:q},z=[function(E,b){return c(E,255)/255},function(E,b){return(255+c(E,255)-c(b,255))/510},function(E,b){return(255-c(b,255))/255},function(E,b){return(510-c(E,255)-c(b,255))/510},function(E,b){return(255-c(E,255))/255},function(E,b){return(255-c(E,255)+c(b,255))/510},function(E,b){return c(b,255)/255},function(E,b){return(c(E,255)+c(b,255))/510}][Y],f=0,$=0;
for(var y=0;y<d.X.q.x7;y++){var E=K[f++],b=K[f++];o[$++]=~~(255*z(E,b))}};d.X.a01=function(){var K=[],o=new Uint8Array(512),Y=new Float32Array(512),c=new Float32Array(512),z=[1,-1,1,-1,1,-1,0,0],f=[1,1,-1,-1,0,0,1,-1],$=0,E,g=0;
for(;$<256;$++)K[$]=$;while($!=0){$--;E=Math.floor(Math.random()*$);K[E]^=K[$]^(K[$]=K[E])}function b(b){b=Math.floor(b*65536);
if(b<256){b|=b<<8}for(var y=0;y<256;y++){var h=y+256,x=K[y]^(y&1?b:b>>8)&255;o[y]=o[h]=x;x=x%8;Y[y]=Y[h]=z[x];
c[y]=c[h]=f[x]}}function q(h){return h*h*h*(h*(h*6-15)+10)}function O(h,x,F){return(1-F)*h+F*x}function j(h,x){return h&x}function A(h,x){return h%x}function R(h,x,F,X,V){var U=Math.floor(h),Z=Math.floor(x),$,T,v,P,p,a;
h=h-U;x=x-Z;U=U&255;Z=Z&255;$=U+o[Z];P=Y[$]*h+c[$]*x;$=U+o[V(Z+1,X)];v=Y[$]*h+c[$]*(x-1);$=V(U+1,F)+o[Z];
p=Y[$]*(h-1)+c[$]*x;$=V(U+1,F)+o[V(Z+1,X)];a=Y[$]*(h-1)+c[$]*(x-1);T=q(h);return O(O(P,p,T),O(v,a,T),q(x))}function H(h,$,x){h[$]=x}function i(h,x,F,X,V){var U=Math.min(Math.min(x,256),Math.min(256,F)),Z=U==256||U<8,T=8,v=new Uint32Array(T),P=new Uint32Array(T),p=new Float32Array(T),a=new Float32Array(T),D=1,n=1,N=Z?j:A,W=H,G;
for(var y=0;y<T;y++){G=n*1/U;if(Z){P[y]=(1<<Math.ceil(Math.log2(F*G)))-1;v[y]=(1<<Math.ceil(Math.log2(x*G)))-1}else{P[y]=G*F;
v[y]=G*x}p[y]=D;a[y]=G;D*=.5;n=n<<1}b(Math.random());for(var l=0,$=0;l<F;l++){for(var u=0;u<x;u++){var e=0;
for(var M=0;M<T;M++){G=a[M];e+=R(u*G,l*G,v[M],P[M],N)*p[M]}W(X,$++,Math.round(Math.max(0,255*Math.min(1,.5+e*.5))))}}}return i}();
d.X.afl=function(){function K(o,Y,c,z){var f=new Uint8Array(o.length>>>2),$=new Uint8Array(o.length>>>2),E=new Uint8Array(o.length);
for(var y=0;y<o.length;y+=4){var b=o[y+0]*.3+o[y+1]*.59+o[y+2]*.11;$[y>>>2]=b;E[y]=o[y];E[y+1]=o[y+1];
E[y+2]=o[y+2]}d.f9.a4W($,f,Y,c);d.f9.TQ(o,z,Y,c,d.f9.V2[1],0,!0);for(var y=0;y<o.length;y+=4){E[y+3]=255-f[y>>>2]}for(var y=0,q=o.length;
y<q;y+=4){var O=E[y+3]/255;z[y]=E[y]*O+z[y]*(1-O);z[y+1]=E[y+1]*O+z[y+1]*(1-O);z[y+2]=E[y+2]*O+z[y+2]*(1-O)}}return K}();
d.X.asK=function(){function K(f,$,E,b,q){var O=new Uint32Array(f.buffer),j=0;for(var y=0;y<E;y++){for(var A=0;
A<$;A++,j+=4){var R=O[y*$+A],g=R&255,H=R>>>8&255,i=R>>>16&255,h=R>>>24&255,x=~~(Math.random()*8),F=x%3,X=0,V=0;
if(x<3){V--}else if(x>4){V++}if(F==0){X--}else if(F==2){X++}var U=A+X,Z=y+V;if(U<0)U=0;else if(U>$-1)U=$-1;
if(Z<0)Z=0;else if(Z>E-1)Z=E-1;var R=O[Z*$+U],T=R&255,v=R>>>8&255,P=R>>>16&255,p=R>>>24&255;b[j]=q(g,T);
b[j+1]=q(H,v);b[j+2]=q(i,P);b[j+3]=q(h,p)}}}function o(f,$){return $}function Y(f,$){return f>$?$:f}function c(f,$){return f<$?$:f}function z(f,$,E,b,q){var O=q[0];
if(O==0)K(f,$,E,b,o);else if(O==1)K(f,$,E,b,Y);else if(O==2)K(f,$,E,b,c);else if(O==3){console.error("Not implemented")}else console.error("Mew mew")}return z}();
d.X.avV=function(){function K(o,Y,c,z,f){var $=f&&f[0]?f[0]:4,E,b,q,O,j,A,R;for(var y=0;y<c;y++){var g=Math.max(y-$,0),H=Math.min(y+$,c-1);
for(var i=0;i<Y;i++){var h=Math.max(i-$,0),x=Math.min(i+$,Y-1);E=g*Y+h<<2;O=o[E];j=o[E+1];A=o[E+2];R=o[E+3];
E=g*Y+x<<2;O+=o[E];j+=o[E+1];A+=o[E+2];R+=o[E+3];E=H*Y+h<<2;O+=o[E];j+=o[E+1];A+=o[E+2];R+=o[E+3];E=H*Y+x<<2;
O+=o[E];j+=o[E+1];A+=o[E+2];R+=o[E+3];E=y*Y+i<<2;z[E]=O+2>>>2;z[E+1]=j+2>>>2;z[E+2]=A+2>>>2;z[E+3]=R+2>>>2}}}return K}();
d.X.a0U=function(){function K(o,Y,c,z){var f=new Uint8Array(o.length),$=new Uint8Array(o.length>>>2),E=new Uint8Array(o.length>>>2);
d.f9.TQ(o,f,Y,c,d.f9.V2[2],0,!0);for(var y=0;y<o.length;y+=4){var b=f[y+0]*.3+f[y+1]*.59+f[y+2]*.11;
$[y>>>2]=b;z[y+0]=o[y+0];z[y+1]=o[y+1];z[y+2]=o[y+2];z[y+3]=o[y+3]}d.f9.a4W($,E,Y,c);for(var y=0;y<o.length;
y+=4){f[y+3]=~~(Math.max(0,255-E[y>>>2]-50)*(255/205))}for(var y=0,q=o.length;y<q;y+=4){var O=f[y+3]/255;
z[y]=f[y]*O+z[y]*(1-O);z[y+1]=f[y+1]*O+z[y+1]*(1-O);z[y+2]=f[y+2]*O+z[y+2]*(1-O)}}return K}();d.X.XQ=function(){function K(x,F){return x[F]+x[F+1]+x[F+2]+x[F+3]}function o(x,F){return x[F]+x[F+1]+x[F+2]+2*x[F+3]}function Y(x,F,X,V){x[F]=X[V];
x[F+1]=X[V+1];x[F+2]=X[V+2];x[F+3]=X[V+3]}function c(x,F,X){x[F]=x[X];x[F+1]=x[X+1];x[F+2]=x[X+2];x[F+3]=x[X+3]}function z(x,F,X){x[X]=F[X];
x[X+1]=F[X+1];x[X+2]=F[X+2];x[X+3]=255-F[X+3]}function f(x){for(var y=0,F=x.length;y<F;y+=4){x[y+3]=255-x[y+3]}}function $(){var x=Math.random();
if(x>.5)return 0;if(x>.25)return 1;if(x>.1)return 2;if(x>.02143)return 3;if(x>.00445)return 4;if(x>65e-5)return 5;
if(x>415e-6)return 6;if(x>55e-6)return 7;return 8}function E(x,F,X,V,U,Z){x[F]=X[V]+(U[Z]-X[V]>>1);x[F+1]=X[V+1]+(U[Z+1]-X[V+1]>>1);
x[F+2]=X[V+2]+(U[Z+2]-X[V+2]>>1);x[F+3]=X[V+3]+(U[Z+3]-X[V+3]>>1)}function b(x,F,X,V,U,Z){x[F]=U[Z]+X[V]>>1;
x[F+1]=U[Z+1]+X[V+1]>>1;x[F+2]=U[Z+2]+X[V+2]>>1;x[F+3]=U[Z+3]+X[V+3]>>1}function q(x,F,X,V,U,Z,T,v,P){var p=0,a=0,D=0,y,n=U[Z],N;
E(v,0,x,F,x,X);for(y=0;y<n;y++){E(v,(y+1)*4,v,y*4,x,X)}a=(n+1)*4;D+=n;Z--;Y(x,F,v,a-4);V[Z]=K(x,F);F-=P;
while(Z>0&&V[Z-1]<V[Z]){N=v;v=T;T=N;p=a;b(v,0,x,F-P,T,0);for(y=4;y<p;y+=4){b(v,y,v,y-4,T,y)}n=U[Z];for(y=D;
y<n;y++){E(v,a,v,a-4,T,p-4);a+=4;D++}Z--;Y(x,F,v,a-4);V[Z]=K(x,F);F-=P}}function O(x,F,X,V,U){var Z=F*4,T=0,v,P,p=new Uint8Array(F+1),a=new Uint8Array(10*4),D=new Uint8Array(10*4);
for(var y=0;y<X;y++){z(V,x,T);U[0]=K(V,T);p[0]=$();v=T;T+=4;for(var n=1;n<F;n++){z(V,x,T);U[n]=K(V,T);
P=$();p[n]=P;if(U[n-1]<U[n]&&P>0){q(V,T-4,T,U,p,n,a,D,4)}T+=4}U[F]=U[0];p[F]=p[0];if(U[F-1]<U[F]&&P>0){q(V,T,v,U,p,F,a,D,4)}}f(V)}function j(){var x=Math.random();
if(x>.659755)return 0;if(x>.1625)return 10;if(x>.06)return 20;if(x>.01)return 30;if(x>.0035)return 40;
if(x>65e-5)return 50;if(x>415e-6)return 60;if(x>55e-6)return 70;return 80}function A(x,F,X,V,U,Z){var T=j()+1,v=V[U];
for(var y=1;y<T;y++){if(0>U)break;if(V[U-y]<v){c(x,F,X)}else{break}F+=Z}}function R(x,F,X,V,U){var Z=F*4,T=0;
for(var y=0;y<X;y++){z(V,x,T);U[0]=K(V,T);T+=4;for(var v=1;v<F;v++){z(V,x,T);U[v]=K(x,T);if(U[v-1]<U[v]){A(V,T-4,T,U,v,-4)}T+=4}U[F]=U[0];
if(U[v-1]<U[v]){A(V,T-4,T-Z,U,v,-4)}}f(V)}function g(x,F,X,V,U,Z){var T=1,v,P,p=new Uint8Array(4),a,D=F;
while(Math.random()<1/T){D=F;if(V<=1)break;v=X[V];P=X[V-1];if(v<=P)break;Y(p,0,x,D-Z);a=!0;for(var y=V;
y<U;y++){if(P>X[y]){Y(x,D-Z,p,0);X[y-1]=P;a=!1;break}Y(x,D-Z,x,D);X[y-1]=X[y];D+=Z}if(a){Y(x,D-Z,p,0);
X[U-1]=P}T++;V--;F-=Z}}function H(x,F,X,V,U){var Z=0,T=0,v=F*4;for(var y=0;y<X;y++){T=Z;for(var P=0;
P<F;P++){z(V,x,Z);U[P]=o(V,Z);Z+=4}Z=T;for(var P=1;P<F;P++){if(U[P-1]<U[P]&&Math.random()<.66){g(V,Z+4,U,P,F,4)}Z+=4}Z+=4}f(V)}function i(x,F,X,V,U){var Z=U[0],T=U[1],v=new Uint16Array(F+1),P=x,p=V,a;
if(T){a=V.slice(0);h(x,V,F,X);P=V;p=a}if(Z==0)O(P,F,X,p,v);else if(Z==1)R(P,F,X,p,v);else if(Z==2)H(P,F,X,p,v);
if(T){h(a,V,F,X)}}function h(x,F,X,V){for(var U=0;U<V;U++)for(var Z=0;Z<X;Z++){var T=U*X+Z<<2,v=U*X+(X-1-Z)<<2;
F[v]=x[T];F[v+1]=x[T+1];F[v+2]=x[T+2];F[v+3]=x[T+3]}}return i}();d.X.a8K=function(K,o,Y,c,z){var f=d.X.q,$=1,i=0,F=0;
f.JC(o,Y);f.JD(z[2]);var E=3<<13,b=Math.PI/2.43,q=b/256,O=Math.PI*2/256;function j(){var Z=f.random()*256,T=f.random()*256;
return $*~~(Math.tan(b-Z*q)*325*Math.cos(T*O)*256)+E>>16}$=z[0];var A=z[1],R=(A+2)/2,g=f.random()*255,H=f.kj(1);
for(var y=0;y<Y;y++){var h=f.GT(j()+g);for(var x=0;x<o;x++){h=f.GT(j()+h);H[i++]=h}}i=o;for(var y=1;
y<Y;y++){var X=f.GT(j()+H[F++]);H[i++]=X;for(var x=1;x<o;x++){var V=F+1;if(x+1==o){V--}var U=(R+X+H[V]+H[F]*A)/(A+2);
X=f.GT(j()+U);H[i++]=X;F++}}f.$b(H,c)};var fG=function(){function K(t){t=t^61^t>>>16;t=t+(t<<3);t=t^t>>>4;
t=t*668265261;t=t^t>>>15;return t}var o=function(){var o=function(t){if(t){this.g=t}this.g=K(this.g);
return(this.g&16777215)*(1/16777215)};return o};function Y(t,J){if(J==null){J=[0,0]}return Math.sqrt((J[0]-t[0])*(J[0]-t[0])+(J[1]-t[1])*(J[1]-t[1]))}function c(t,J){if(J==null){J=[0,0]}return[-(J[1]-t[1])/Y(t,J),(J[0]-t[0])/Y(t,J)]}function z(t){return[Math.cos(t),Math.sin(t)]}function f(t){var J=Y(t,[0,0]),L=[t[0]/J,t[1]/J],k=Math.atan(L[1]/L[0]);
if(L[0]>0&&L[1]<0){k+=2*Math.PI}else if(L[0]<0&&L[1]<0){k+=Math.PI}else if(L[0]<0&&L[1]>0){k+=Math.PI}return k}function $(t){var $=0;
for(var y=1;y<t.length/2;++y){$+=Y([t[2*y],t[2*y+1]],[t[2*(y-1)],t[2*(y-1)+1]])}return $}function E(t,J,L){var k=new Float32Array(t.length),C=1/(t.length/2),r=V(L);
for(var y=0;y<t.length/2;++y){var Q=y*C,j9=Q/2+.5,a4=1,ar=0;if(L.shape==2){a4=1/(2*j9)}if(L.shape==3){j9=(1-Q)/2+.5;
a4=1/(2*j9)+.5}if(L.shape==4){j9=Q;a4=Math.sin(3/2*Math.PI*j9)/4+1}if(L.shape==5){j9=(Q-.5)*6;a4=(-Math.atan(j9)/1.25+1)/5+.6-.2*Q}var ez=[null,null];
if(y==0){ez=c([t[2*y],t[2*y+1]],[t[2*(y+1)],t[2*(y+1)+1]])}else if(y==t.length/2-1){ez=c([t[2*(y-1)],t[2*(y-1)+1]],[t[2*y],t[2*y+1]])}else{ez=c([t[2*(y-1)],t[2*(y-1)+1]],[t[2*(y+1)],t[2*(y+1)+1]])}k[2*y]=t[2*y]+(a4*J+ar)*ez[0];
k[2*y+1]=t[2*y+1]+(a4*J+ar)*ez[1];if(L.style==2){k[2*y]+=U(2*y/k.length,r,L)}}return k}function b(t,J,L){var k=new Float32Array(t.length),C=1/(t.length/2);
for(var y=0;y<t.length/2;++y){var r=y*C,Q=[null,null],j9=.6*L.iA*v(r,J.aBo)*L.hV/100,a4=.6*L.iA*v(r,J.ayu)*L.hV/100,ar=J.aBG*j9+(1-J.aBG)*a4;
if(y==0){Q=c([t[2*y],t[2*y+1]],[t[2*(y+1)],t[2*(y+1)+1]])}else if(y==t.length/2-1){Q=c([t[2*(y-1)],t[2*(y-1)+1]],[t[2*y],t[2*y+1]])}else{Q=c([t[2*(y-1)],t[2*(y-1)+1]],[t[2*(y+1)],t[2*(y+1)+1]])}k[2*y]=t[2*y]+ar*Q[0];
k[2*y+1]=t[2*y+1]+ar*Q[1]}return k}function q(t){if(t.AT==1){return[.150684932,.205479452,.465753425,.178082192]}else if(t.AT==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var J=[],L=1/(D(t)-1);
for(var y=0;y<D(t)-1;++y){J.push(L)}return J}}function O(t,J,L){var k=[],C=J-t,r=t;for(var y=0;y<L.length-1;
++y){k.push(r+L[y]*C);r=k[y]}return k}function j(t,J,L,k){var C=new Float32Array(L.length),r=0,Q={shape:Math.floor(k.random()*2.99),ash:k.random()*.1+.15};
for(var y=0;y<L.length-1;++y){var j9=r+L[y];C[y]=((1-j9)*t+j9*J)*h(k,j9,Q);r=j9}return C}function A(t,J,L,k){var C=p(k),r=k.random(),Q=r*20+(1-r)*26,j9=new Float32Array(L.length),a4=0;
for(var y=0;y<L.length-1;++y){var ar=a4+L[y];j9[y]=(1-ar)*t+ar*J+C/Q*(2/3*Math.sin(Math.PI*ar)+1/3*Math.sqrt(Math.sin(Math.PI*ar)));
a4=ar}return j9}function R(t,J,L){var k=[];for(var y=0;y<J.length-1;++y){k.push(J[y].slice());var C=y*(D(L)-1),r=(y+1)*(D(L)-1),Q=t[r]-t[C];
for(var j9=C+1;j9<r;++j9){var a4=V(L),ar=new Float32Array(J[0].length),ez=(t[j9]-t[C])/Q;for(var ja=0;
ja<J[0].length/2;++ja){ar[2*ja]=(1-ez)*J[y][2*ja]+ez*J[y+1][2*ja];ar[2*ja+1]=(1-ez)*J[y][2*ja+1]+ez*J[y+1][2*ja+1];
if(L.style==2){ar[2*ja]+=U(2*ja/J[0].length,a4,L)}}k.push(ar)}}k.push(J[J.length-1]);return k}function g(t,J,L){var k=new Array(J.length),C=e(t),Q=null;
for(var y=0;y<J.length;++y){k[y]=E(C,(J[y]-.5)*L.hV,L)}var r=1+.05*L.aAY*p(L)/p({AT:1});for(var y=0;
y<J.length;++y){if(J[y]==0){Q=y}}for(var y=0;y<J.length;++y){var j9=(L.random()-.5)*2,a4=Math.round(L.random()*9+1),ar=new Float32Array(a4*2+2);
for(var ez=0;ez<=a4;++ez){ar[2*ez]=k[y][0]-(k[y][2*ez]-k[y][0]);ar[2*ez+1]=k[y][1]-(k[y][2*ez+1]-k[y][1])}if(y==Q){j9*=.1}for(var ez=(k[y].length-1)/2;
ez>a4;--ez){k[y][2*ez]=(1-j9)*k[y][2*ez]+j9*(k[y][2*(ez-a4)]+r*(k[y][2*ez]-k[y][2*(ez-a4)]));k[y][2*ez+1]=(1-j9)*k[y][2*ez+1]+j9*(k[y][2*(ez-a4)+1]+r*(k[y][2*ez+1]-k[y][2*(ez-a4)+1]))}for(var ez=a4-1;
ez>=0;--ez){k[y][2*ez]=(1-j9)*k[y][2*ez]+j9*(ar[2*(a4-ez)]+r*(k[y][2*ez]-ar[2*(a4-ez)]));k[y][2*ez+1]=(1-j9)*k[y][2*ez+1]+j9*(ar[2*(a4-ez)+1]+r*(k[y][2*ez+1]-ar[2*(a4-ez)+1]))}}var ja=T(J,L);
if(L.iA>0){var c3=0;for(var y=0;y<J.length;++y){if(y==0){c3+=J[y]}else{c3+=Math.abs(J[y]-J[y-1])}var hW=c3-Math.floor(c3),fO=1;
if(hW==0){fO=0}k[y]=b(k[y],{aBo:ja[Math.floor(c3)],ayu:ja[Math.floor(c3)+fO],aBG:hW},L)}}return k}function H(t,J){var L=W(J,t),k=G(J,t),C=[],r=[],Q=[],j9=q(t);
for(var y=0;y<J.length-1;++y){C.push(J[y]);r.push(L[y]);Q.push(k[y]);var a4=O(J[y],J[y+1],j9),ar=j(L[y],L[y+1],j9,t),ez=A(k[y],k[y+1],j9,t);
for(var ja=0;ja<a4.length;++ja){C.push(a4[ja]);r.push(ar[ja]);Q.push(ez[ja])}}C.push(J[J.length-1]);
r.push(L[L.length-1]);Q.push(k[k.length-1]);return{a99:C,aj_:r,gS:Q}}function i(t,J,L,k){var C=new Float32Array(2*k),r=t.length/2,Q=r-J,j9=L*Q,a4=j9/k;
for(var y=0;y<k;++y){var ar=Math.floor(J+y*a4),ez=Math.ceil(J+y*a4),L=J+y*a4,ja=ez-ar,c3=1,hW=0;if(ja!=0){c3=(ez-L)/ja;
hW=(L-ar)/ja}C[2*y]=c3*t[2*ar]+hW*t[2*ez];C[2*y+1]=c3*t[2*ar+1]+hW*t[2*ez+1]}return C}function h(t,J,L){var k=L.ash,C=J*2*Math.PI,r=C,Q=0;
if(L.shape==0){Q=(Math.sin(2*r+Math.PI/2)+1)/2}else if(L.shape==1){Q=(Math.sin(r+Math.PI/2)+1)/2}else{Q=(4*Math.sin(3/4*r+Math.PI)+Math.sin(Math.PI/2+2*r)-2*r/Math.PI+6)/7}return Math.min(1,1-k+k*Q)}function x(t,J,L,k){var C=[];
for(var y=0;y<t.length;++y){C.push(i(t[y],J[y],L[y],k))}return C}function F(t,J,L){var k=[];for(var y=0;
y<t.length;++y){var C=z(2*Math.PI*L.random()),r=z(2*Math.PI*L.random()),Q=L.Ue*.5*n({AT:1})/n(L),j9=Q*L.hV/200,a4=Q*J/500,ar=new Float32Array(t[0].length);
for(var ez=0;ez<t[0].length/2;++ez){var ja=z(2*Math.PI*L.random()),c3=2*ez/t[0].length;ar[2*ez]=t[y][2*ez]+j9*(ja[0]+((1-c3)*C[0]+c3*r[0]));
ar[2*ez+1]=t[y][2*ez+1]+a4*(ja[1]+((1-c3)*C[1]+c3*r[1]))}k.push(ar)}return k}function X(t,J,L){var k=L.if,C=2/k,r=[1/10,1/30,1/40,1/45,1/100],Q=r[L.AT-1],j9=4*(L.opacity/25*C*Q)*(1-L.Ue/150),ja=0,hW=0;
if(L.style==3){return j9*.09}var a4=2.2*(t-.5),ar=a4*a4*a4*a4+.27+Math.max(0,(L.opacity-50)/15),ez=2*(Math.sin(3*Math.PI*J)/(Math.PI*J+2)+1.1)-J/2;
J=2*J;if(J<.41){var c3=2*Math.PI*J/.41;ja=(Math.sin(c3-Math.PI/2)+1)/4+.5}else if(J<.77){var c3=2*Math.PI*(J-.41)/.36;
ja=(Math.sin(c3-Math.PI/2)+1)/4+.5-c3/2/Math.PI*.5}else{var c3=2*Math.PI*(J-.77)/.23;ja=(Math.sin(c3-Math.PI/2)+1)/2*.12}ja*=3;
ja+=Math.max(0,(L.opacity-50)/15);if(L.type==6){hW=ez}else{hW=ja}return j9*ar*hW}function V(t){return{I:t.random()*7/2+.5,Wi:t.random()*2*Math.PI}}function U(t,J,L){return L.hV/300*D({AT:1})/D(L)*10*(Math.sin(J.I*2*Math.PI*t+J.Wi)+10*(L.random()-.5))}function Z(t){var J=Math.exp(-t.iA/25);
return{I:t.random()*3/2+.5,Wi:t.random()*2*Math.PI,bY:(t.random()-.5)*10*J}}function T(t,J){var L=Math.ceil(l(t)),k=[];
for(var y=0;y<=L;++y){k.push(Z(J))}return k}function v(t,J){var L=J.I*4*Math.PI*t+J.Wi;return Math.exp(-1/2*Math.PI*t)*Math.cos(L)*Math.cos(L)*Math.cos(L)*Math.cos(L)*Math.cos(L)+t*J.bY-J.bY/4}function P(t,J,L,k,C){var r=0,Q=n(J)-1;
for(var y=0;y<Q;++y){for(var j9=0;j9<t.length-1;j9+=D(J)-1){for(var a4=y;a4<t[0].length/2-Q;a4+=Q){for(var ar=j9;
ar<j9+(D(J)-1);++ar){L[C+r]=X(ar*(J.if-1)/(t.length-1)%1,a4/t[0].length,J);var ez=0,ja=0;if(J.type==6&&ar!=0&&ar!=t.length-1){ja=(t[ar][2*(a4+1)+1]-t[ar][2*a4+1])/2;
ez=(t[ar][2*(a4+1)]-t[ar][2*a4])/2}k[8*C+8*r]=t[ar][2*a4]+ez;k[8*C+8*r+1]=t[ar][2*a4+1]+ja;k[8*C+8*r+2]=t[ar][2*(a4+Q)]+ez;
k[8*C+8*r+3]=t[ar][2*(a4+Q)+1]+ja;k[8*C+8*r+4]=t[ar+1][2*(a4+Q)];k[8*C+8*r+5]=t[ar+1][2*(a4+Q)+1];k[8*C+8*r+6]=t[ar+1][2*a4];
k[8*C+8*r+7]=t[ar+1][2*a4+1];++r}}}}}function p(t){var J=[100,300,500,700,1e3];return J[t.AT-1]}function a(t){var J=[30,70,100,140,300];
return J[t.AT-1]}function D(t){var J=[5,7,26,40,100];return J[t.AT-1]}function n(t){if(t.AT==1){return 4}else if(t.AT==2){return 8}else{return Math.floor(a(t)/9)}}function N(t){var J=t.if,L=new Float32Array(J),k=null;
for(var y=0;y<J;++y){L[y]=t.random()}if(t.if<=3){L[0]=0;L[t.if-1]=1}else{for(var y=0;y<2;++y){var C=Math.floor(t.random()*J);
if(k==null||k!=C){L[C]=y;k=C}else{L[C+1]=y}}}return L}function W(t,J){var L=[],k=.2,r=0;for(var y=0;
y<t.length;++y){var C=J.random()*(1-k)+k;L.push(C)}var Q=Math.min(3,J.if);for(var y=0;y<t.length;++y){if(L[y]>.9){++r}}while(r<Q){var j9=Math.floor(J.random()*t.length);
if(L[j9]<=.9){L[j9]=.9+.1*J.random();++r}}return L}function G(t,J){var L=p(J),k=p({AT:1}),C=[];for(var y=0;
y<t.length;++y){C.push(Math.max(1,(J.random()*10+2)*L/k))}return C}function l(t){var J=0;for(var y=0;
y<t.length;++y){if(y==0){J+=t[y]}else{J+=Math.abs(t[y]-t[y-1])}}return J}function u(t,J){if(t.length/2-1==p(J)){return t}var L=new Float32Array(2*(p(J)+1)),k=(t.length-2)/(L.length-2);
for(var y=0;y<L.length/2;++y){var C=y*k,r=Math.floor(C),Q=Math.ceil(C),j9=Q-r,a4=1,ar=0;if(j9!=0){a4=(Q-C)/j9;
ar=(C-r)/j9}L[2*y]=a4*t[2*r]+ar*t[2*Q];L[2*y+1]=a4*t[2*r+1]+ar*t[2*Q+1]}return L}function e(t,J){var L=t.length/2,k=$(t),C=k/L,r=!1,a4=0,ar=0,ez=1;
if(J){var Q=Math.floor(k/J.abZ),j9=J.abZ;if(J.a2d&&t[0]==t[t.length-2]&&t[1]==t[t.length-1]){r=!0;j9=k/(Q+1)}if(J.type==2&&!r&&j9*Q+J.length>k){L=Q+1}else{L=Q+2}C=j9}var ja=new Float32Array(L*2);
ja[0]=t[0];ja[1]=t[1];for(var y=1;y<L;++y){while(a4<=y*C){ar=a4;a4+=Y([t[2*ez],t[2*ez+1]],[t[2*(ez-1)],t[2*(ez-1)+1]]);
++ez}var c3=1-(y*C-ar)/(a4-ar);ja[2*y]=(1-c3)*t[2*ez]+c3*t[2*(ez-1)];ja[2*y+1]=(1-c3)*t[2*ez+1]+c3*t[2*(ez-1)+1]}ja[ja.length-2]=t[t.length-2];
ja[ja.length-1]=t[t.length-1];return ja}function M(t,J){var L=e(t,J),k=[];for(var y=0;y<(L.length-2)/2;
++y){var C=[];C.push(L[2*y]);C.push(L[2*y+1]);var r=Y([L[2*(y+1)],L[2*(y+1)+1]],[L[2*y],L[2*y+1]]),Q=[(L[2*(y+1)]-L[2*y])/r,(L[2*(y+1)+1]-L[2*y+1])/r],j9=z((J.ajr-90)/360*2*Math.PI),a4=Q;
if(J.type==3){a4=j9}else if(J.type==4){a4=z(f(Q)+f(j9))}else if(J.type==5){a4=z(((J.random()-.5)*J.ajr-90)/360*2*Math.PI)}var ar=J.length;
if(J.asR){ar=2*J.random()*J.length}C.push(L[2*y]+a4[0]*ar);C.push(L[2*y+1]+a4[1]*ar);k.push(C)}return k}function B(t){if(t.aue){t.aP=100*Math.random()}else{t.aP=t.anl}t.random=new o;
t.random(t.aP);if(t.type==6){t.if=2;t.shape=5;t.aAY=0}}function s(t,J){t=u(t,J);var L=[t],ar=0;if(J.type>=2&&J.type<6){L=M(t,J)}var k=n(J)-1,C=a(J)-k,r=(J.if-1)*(D(J)-1),Q=L.length*C*r,j9=new Float32Array(Q),a4=new Float32Array(8*Q);
for(var y=0;y<L.length;++y){for(var ez=0;ez<1e4;++ez){J.aP=K(J.aP)}J.random(J.aP);var t=u(L[y],J),ja=N(J),c3=l(ja),hW=g(t,ja,J),fO=H(J,ja),ei=R(fO.a99,hW,J);
ei=x(ei,fO.gS,fO.aj_,a(J));if(J.Ue>0){ei=F(ei,$(L[y]),J)}P(ei,J,j9,a4,ar);ar+=C*r}return[j9,a4]}var fG=function(t){var J=performance.now(),L=t[0],k=t[1];
B(k);var C=[new Float32Array(0),new Float32Array(0)];for(var y=0;y<L.length;++y){k.aP=K(k.aP);var r=s(L[y],k),Q=new Float32Array(C[0].length+r[0].length),j9=new Float32Array(C[1].length+r[1].length);
Q.set(C[0]);Q.set(r[0],C[0].length);C[0]=Q;j9.set(C[1]);j9.set(r[1],C[1].length);C[1]=j9}var a4=performance.now();
if(k.a1w){console.bc("Geometry: "+String(a4-J)+"ms")}return C};return fG}(),iU=function(){function K(z,f){var $=[],E=0,b=f.length,q=0,O=0,j=new hD,A=0,R=1e9;
for(O=0;O<b;O++){var g=O*8,H=f[O];if(H<R)R=H;var i=z[g+0],h=z[g+1],x=z[g+2],F=z[g+3],X=z[g+4],V=z[g+5],U=z[g+6],Z=z[g+7],T=Math.min(i,x,X,U),v=Math.max(i,x,X,U),P=Math.min(h,F,V,Z),p=Math.max(h,F,V,Z),a=new hD(T,P,v-T,p-P),D=a.Bb(j),n=A+H;
if(O-q<10&&(O==q||D.Z()*.8<a.Z()+j.Z())){j=D;A=n}else{$.push(O-q);q=O;j=a;A=H;R=H}}if(O!=q)$.push(O-q);
return $}function o(z,f,$,E,b,q){var O=document.createElement("canvas"),h=0,Q=.8;O.width=f;O.height=$;
var j=O.getContext("2d"),A=b[0],R=b[1],g=new Float64Array(f*$),H=Date.now(),i=K(R,A);for(var x=0;x<i.length;
x++){var F=h,X=h+i[x],Z=1e9,v=1e9,W=0;h=X;var V=F*8,U=X*8,T=-Z,P=-v;for(var p=V;p<U;p+=2){var a=R[p],D=R[p+1];
if(a<Z)Z=a;if(a>T)T=a;if(D<v)v=D;if(D>P)P=D}Z=Math.floor(Z);T=Math.ceil(T);v=Math.floor(v);P=Math.ceil(P);
var n=T-Z,N=P-v;for(var G=F;G<X;G++)W+=A[G];for(var p=V;p<U;p+=8){var l=A[p>>>3],u=R[p+0],e=R[p+1],M=R[p+2],B=R[p+3],s=R[p+4],t=R[p+5],J=R[p+6],L=R[p+7];
j.fillStyle="rgba(0,0,0,"+l/W+")";j.beginPath();j.moveTo(u,e);j.lineTo(M,B);j.lineTo(s,t);j.lineTo(J,L);
j.closePath();j.fill()}var k=j.getImageData(Z,v,n,N).data;for(var D=0;D<N;D++)for(var a=0;a<n;a++){var y=D*n+a,C=k[y*4+3],r=(v+D)*f+Z+a;
if(C!=0)g[r]+=C*W}j.clearRect(Z,v,n,N)}var j9=q[1].color,a4=Math.pow(j9.o/255,Q),ar=Math.pow(j9.A/255,Q),ez=Math.pow(j9.J/255,Q),ja=new hD(0,0,f,$),c3=d.R(f*$*4);
for(var D=0;D<$;D++)for(var a=0;a<f;a++){var y=D*f+a,G=y*4,A=g[y]*(1/255);c3[G]=c(a4,A);c3[G+1]=c(ar,A);
c3[G+2]=c(ez,A);c3[G+3]=Math.min(255,A*255)}d.l.To("norm",c3,ja,E,ja,ja,1)}var Y=new Uint8Array(2e3);
for(var y=0;y<2e3;y++)Y[y]=255*Math.min(1,Math.log(y/700+1));function c(z,f){return Y[Math.min(1500,~~(z*f*1e3))]}return o}(),fL=function(){var K=new Float32Array(3e3),o=new Float32Array(3e3),Y=new Float32Array(256),c=new Float32Array(3e3);
function z(){var R=K.length;K[0]=Math.log10(157647e-9);for(var y=1;y<R;++y)K[y]=Math.log10(y/R)}function f(){var R=o.length;
for(var y=0;y<R;++y)o[y]=Math.pow(10,20*(y-R/2)/R)}function $(){var R=Y.length;for(var y=0;y<R;++y)Y[y]=d.db(y/255)}function E(){var R=c.length;
for(var y=0;y<R;++y)c[y]=255*d.RU(y/(R-1))}function b(R,g){var H=R.length>>>2;for(var y=0;y<H;++y){var i=Y[R[4*y]],h=Y[R[4*y+1]],x=Y[R[4*y+2]],F=.3811*i+.5783*h+.0402*x,X=.1967*i+.7244*h+.0782*x,V=.0241*i+.1288*h+.8444*x;
F=K[~~(F*K.length)];X=K[~~(X*K.length)];V=K[~~(V*K.length)];g[3*y]=(F+X+V)*.5773502692;g[3*y+1]=(F+X-2*V)*.4082482905;
g[3*y+2]=(F-X)*.7071067812}}function q(R,g){var H=g.length>>>2,i=c.length-1;for(var y=0;y<H;++y){var h=.5773502692*R[3*y],x=.4082482905*R[3*y+1],F=.7071067812*R[3*y+2],X=o[~~((h+x+F+10)*(3e3/20))],V=o[~~((h+x-F+10)*(3e3/20))],U=o[~~((h-2*x+10)*(3e3/20))],Z=4.4679*X-3.5873*V+.1193*U,T=-1.2186*X+2.3809*V-.1624*U,v=.0497*X-.2439*V+1.2045*U;
g[4*y]=c[~~(i*Math.max(0,Math.min(1,Z)))];g[4*y+1]=c[~~(i*Math.max(0,Math.min(1,T)))];g[4*y+2]=c[~~(i*Math.max(0,Math.min(1,v)))]}}function O(R){var g=0,H=0,i=0;
for(var y=0;y<R.length;y+=3){g+=R[y];H+=R[y+1];i+=R[y+2]}return[g/(R.length/3),H/(R.length/3),i/(R.length/3)]}function j(R,O){var g=0,H=0,i=0;
for(var y=0;y<R.length;y+=3){var h=R[y]-O[0],x=R[y+1]-O[1],F=R[y+2]-O[2];g+=h*h;H+=x*x;i+=F*F}return[Math.sqrt(g/(R.length/3)),Math.sqrt(H/(R.length/3)),Math.sqrt(i/(R.length/3))]}function A(R,g,H,i,h,x){z();
f();$();E();var F=0,e,M;if(x[0]>100)F=-(x[0]-100)/100*.13;else if(x[0]>=75)F=(100-x[0])/25*.04;else if(x[0]>=50)F=.04+(75-x[0])/25*.04;
else if(x[0]>=25)F=.08+(50-x[0])/25*.08;else F=.16+(25-x[0])/25*.24;var X=(x[1]-100+100)/100,V=x[2]/100,U=x[3],Z=new Float32Array(R.length*3/4),T=new Float32Array(i.length*3/4),v=Date.now();
b(R,Z);b(i,T);var P=Date.now(),p=O(Z),a=O(T),D=Date.now(),n=j(Z,p),N=j(T,a),W=Date.now();a[0]*=Math.pow(10,F);
var G=[N[0]/n[0],N[1]/n[1],N[2]/n[2]],l=Z.length,u=1/-1.1546978950500488;for(var y=0;y<l;y+=3){if(U){var B=Math.max(0,Math.min(1,Z[y]*u));
B=1-Math.sqrt(B);e=B*a[1];M=B*a[2]}else{e=a[1];M=a[2]}Z[y]=(Z[y]-p[0])*G[0]+a[0];Z[y+1]=(Z[y+1]-p[1])*G[1]*X+e;
Z[y+2]=(Z[y+2]-p[2])*G[2]*X+M}var s=Date.now();q(Z,h);var t=h.length>>>2;for(var y=0;y<t;++y){h[4*y]=(1-V)*h[4*y]+V*R[4*y];
h[4*y+1]=(1-V)*h[4*y+1]+V*R[4*y+1];h[4*y+2]=(1-V)*h[4*y+2]+V*R[4*y+2];h[4*y+3]=255}}return A}(),fb=function(){function K(o,Y,c,z,f){var $=[-1,-1,-1,-1],E=255,b=160,q,O=!1,j=new Array(4);
j[0]=new Array(Y);j[1]=new Array(c);j[2]=new Array(Y);j[3]=new Array(c);var A=new Array(2);A[0]=new Array(c);
A[1]=new Array(c);function R(N,W,G,l,u){this.start=l;this.axis=u;this.dir=N;this.end=-1;this.source=W;
this.Z=G}function g(N,W,G,l,u){if(G%2==0){if(!j[G][N])j[G][N]=new Array;j[G][N].push(new R(G,l,u,W,N))}else{if(!j[G][W])j[G][W]=new Array;
j[G][W].push(new R(G,l,u,N,W))}var e=Date.now()}function H(y){var N=!1,W=0;if(o[4*y+3]<E)return N;var G=y%Y,l=Math.floor(y/Y);
i(G,l);if(y+Y<Y*c&&o[4*(y+Y)+3]<E&&o[4*(y-Y)+3]>=E&&o[4*(y-2*Y)+3]>=E){var u=2;if(o[4*(y+Y)+3]<=b)W=-1;
if(o[4*(y+2*Y-1)+3]<E&&o[4*(y+2*Y+1)+3]<E)N=!0;else if(o[4*(y+2*Y-1)+3]>=E&&o[4*(y+1)+3]>=E)N=!0;else if(o[4*(y+2*Y+1)+3]>=E&&o[4*(y-1)+3]>=E)N=!0;
g(G,l,u,W,N)}else if(y-Y>=0&&o[4*(y-Y)+3]<E&&o[4*(y+Y)+3]>=E&&o[4*(y+2*Y)+3]>=E){var u=0;if(o[4*(y-Y)+3]<=b)W=-1;
if(o[4*(y-2*Y-1)+3]<E&&o[4*(y-2*Y+1)+3]<E)N=!0;else if(o[4*(y-2*Y-1)+3]>=E&&o[4*(y+1)+3]>=E)N=!0;else if(o[4*(y-2*Y+1)+3]>=E&&o[4*(y-1)+3]>=E)N=!0;
g(G,l,u,W,N)}W=0;if(y+1<Y*c&&o[4*(y+1)+3]<E&&o[4*(y-1)+3]>=E&&o[4*(y-2)+3]>=E){var u=3;if(o[4*(y+1)+3]<=b)W=-1;
if(!N&&o[4*(y+Y+2)+3]<E&&o[4*(y-Y+2)+3]<E){N=!0;g(G,l,u,W,!0)}else g(G,l,u,W,!1)}else if(y>=1&&o[4*(y-1)+3]<E&&o[4*(y+1)+3]>=E&&o[4*(y+2)+3]>=E){var u=1;
if(o[4*(y-1)+3]<=b)W=-1;if(!N&&o[4*(y+Y-2)+3]<E&&o[4*(y-Y-2)+3]<E){N=!0;g(G,l,u,W,!0)}else g(G,l,u,W,!1)}return N}function i(y,N){if($[0]==-1){$[0]=y;
$[1]=N;$[2]=1;$[3]=1}if(y<$[0]){$[2]+=$[0]-y;$[0]=y}if(y>$[0]+$[2])$[2]=y-$[0];if(N<$[1]){$[3]+=$[1]-N;
$[1]=N}if(N>$[1]+$[3])$[3]=N-$[1]}function h(N,y,W,G){if(!W.Z)return;var l=(N+2)%4,u=W.start,e=$[1];
if(N==2)e+=$[3];else if(N==1)e=$[0];else if(N==3)e=$[0]+$[2];var M=W.source;if(j[l][y])for(var B=0;B<j[l][y].length;
++B){if(N>1){var s=u+Math.floor((j[l][y][B].start-u)/2);if(j[l][y][B].start>u&&s<e)e=s}else{var s=u-Math.floor((u-j[l][y][B].start)/2);
if(j[l][y][B].start<u&&s>e)e=s}}for(var t=1;t<Math.abs(e-u);++t){var B=u+t;if(N==1||N==0)B=u-t;for(var J=0;
J<2;++J){var L=2*J,k=!1;if(N%2==0)L+=1;if(j[L][B]){for(var C=0;C<j[L][B].length;++C){if(j[L][B][C].Z){var r=j[L][B][C].start,Q=y-r,j9=B-u;
if(L==0||L==1)Q=-Q;if(Q<=0)continue;if(N==0||N==1)j9=-j9;if(j9>Q){e=B;k=!0;break}}}if(k)break}}}W.end=e;
X(N,y,u,e,M)}function x(N){for(var y=0;y<j[N].length;++y){if(j[N][y])for(var W=0;W<j[N][y].length;++W){h(N,y,j[N][y][W])}}}function F(){var N=[2,0,3,1];
for(var y=0;y<N.length;++y)x(N[y])}function X(N,y,W,G,l){if(N==2)for(var u=W;u<=G;++u){if(!V(u*Y+y,(W+l)*Y+y))return!1}else if(N==0)for(var u=W;
u>=G;--u){if(!V(u*Y+y,(W-l)*Y+y))return!1}else if(N==1)for(var u=W;u>=G;--u){if(!V(y*Y+u,y*Y+W-l))return!1}else if(N==3)for(var u=W;
u<=G;++u){if(!V(y*Y+u,y*Y+W+l))return!1}}function V(N,W){if(!q[N]){z[4*N]=z[4*W];z[4*N+1]=z[4*W+1];z[4*N+2]=z[4*W+2];
if(O)z[4*N+3]=255;q[N]=!0;return!0}return!1}function U(){for(var y=0;y<4;y+=1){for(var N=0;N<j[y].length;
++N){if(j[y][N])for(var W=0;W<j[y][N].length;++W){var G=j[y][N][W];for(var l=1;l<3;l+=2){var u=(y+l)%4;
if(j[u][G.start])for(var e=0;e<j[u][G.start].length;++e){if(j[u][G.start][e].start==G.axis){var h4=Y*G.start+G.axis;
if(y%2==1){h4=G.start+Y*G.axis;Z(j[u][G.start][e])}else Z(G)}}}}}}}function Z(N){if(N.dir%2==0){var h4=Y*N.start+N.axis,W=N.start,G=1;
if(!q[h4+1])G=3;else if(q[h4-1])return;var l=z[4*h4],u=z[4*h4+1],e=z[4*h4+2];while(z[4*h4]==l&&z[4*h4+1]==u&&z[4*h4+2]==e){if(G==1){if(!A[0][W])A[0][W]=new Array;
A[0][W].push(new R(G,0,!1,N.axis,W))}else{if(!A[1][W])A[1][W]=new Array;A[1][W].push(new R(G,0,!1,N.axis,W))}if(N.dir==2){h4+=Y;
W++}else{h4-=Y;W--}}}}function T(){for(var N=0;N<2;++N){var W=(N+1)%2;for(var y=0;y<A[N].length;++y){if(A[N][y])for(var G=0;
G<A[N][y].length;++G){var l=$[0];if(N==1)l+=$[2];var u=A[N][y][G].start;if(A[W][y])for(var e=0;e<A[W][y].length;
++e){var M=A[W][y][e].ZO;if(N==0){if(M>l&&M<u){l=u-Math.floor((u-M)/2)}}else{if(M<l&&M>u){l=u+Math.ceil((M-u)/2)}}}if(N==0)X(A[N][y][G].dir,y,u-1,l,-1);
else X(A[N][y][G].dir,y,u+1,l,-1)}}}for(var y=0;y<q.length;++y){if(!q[y]&&y%Y>=$[0]&&y%Y<=$[0]+$[2]&&Math.floor(y/Y)>=$[1]&&Math.floor(y/Y)<=$[1]+$[3]){var u=Y;
if(y<u||!q[y-u])u=1;z[4*y]=z[4*(y-u)];z[4*y+1]=z[4*(y-u)+1];z[4*y+2]=z[4*(y-u)+2];q[y]=!0;if(O)z[4*y+3]=255}}}function v(){q=new Array(o.length/4);
for(var y=0;y<z.length/4;++y){q[y]=!1;z[4*y]=o[4*y];z[4*y+1]=o[4*y+1];z[4*y+2]=o[4*y+2];z[4*y+3]=o[4*y+3];
if(z[4*y+3]==255)q[y]=!0;if(H(y))q[y]=!1}if($[0]>0){$[0]--;$[2]++}if($[1]>0){$[1]--;$[3]++}if($[0]+$[2]<Y){$[2]++}if($[1]+$[3]<c){$[3]++}}var P=Date.now();
v();var p=Date.now();F();var a=Date.now();U();var D=Date.now();T();var n=Date.now();console.log("Init: "+String(p-P));
console.log("Filling: "+String(a-p));console.log("Check areas: "+String(D-a));console.log("Fill areas: "+String(n-D))}return K}();
function kg(){}kg.ams=function(K){var o=[d.db(K[0]),d.db(K[1]),d.db(K[2]),0];return d.tb.Le(d.tb.af_,o)};
kg.aaN=function(K){var o=d.tb.Le(d.tb.J$,K);return[d.RU(o[0]),d.RU(o[1]),d.RU(o[2])]};kg.P_=function(K,o){var Y={},c=5003,z=1667,f=25e3,$=57.4,E=16.1,b=1.8,q=0,O=1.54,j=.75,g=0;
if(o>0){K-=o/100*4}if(K<0){E=22.54;$=80.36;O=.756}if(o>0){b=1.3;j=.2}var A=Math.min(c+$*K,f),R=Math.max(c-E*K,z);
if(K<0){A=Math.max(c+E*K,z);R=Math.min(c-$*K,f)}if(K>0){if(K<=14){g=(K-1)/13*.075+.025}else if(K<=29){g=.1}else if(K<=60){g=.1-.1*(K-29)/(60-29)}else{var H=K-60;
q=-20*(H/40);g=-.3*(H/40)}}else{if(K<-60){var H=K+60;q=-20*(H/40)}}var i=Math.abs(K)/100*O+Math.abs(o)/100*j+g,h=-(o*b+q),x=fs.tN(A,-h),F=fs.RE(x),X=fs.tN(R,0),V=fs.RE(X),U=fs.atN(F,V);
Y.ax0=i;Y.anv=U;if(K==0&&o==0)Y.aAM=!0;else Y.aAM=!1;return Y};kg.acs=function(K,o,Y,c){if(c.aAM){return[K,o,Y]}var z=this.ams([K,o,Y]),f=z[0],$=z[1],E=z[2],b=$+1e-12,q=[f/b,$/b,E/b,0],O=d.tb.Le(c.anv,q),j=0,A=.4;
O[0]*=b;O[1]*=b;O[2]*=b;if(b>A)j=1/(1-A)*(b-A);z[0]=(1-j)*O[0]+j*f;z[1]=(1-j)*O[1]+j*$;z[2]=(1-j)*O[2]+j*E;
return this.aaN(z)};d.aBI={V1:function(K,o){var y=K.length;K.push(o);var c=y>>>1;while(c!=0&&K[y][0]<K[c][0]){var z=K[y];
K[y]=K[c];K[c]=z;y=c;c=y>>>1}},MM:function(K){if(K.length==2)return K.pop();var top=K[1],y=1;K[1]=K.pop();
var o=K.length;while(!0){var Y=y<<1,c=Y+1,z=y;if(Y<o&&K[Y][0]<K[z][0])z=Y;if(c<o&&K[c][0]<K[z][0])z=c;
if(z==y)break;var f=K[y];K[y]=K[z];K[z]=f;y=z}return top},a7I:function(K){for(var y=1;y<K.length;y++){var o=y,Y=1e9;
while(o!=0){var c=K[o][0];if(c>Y){console.log(y);throw"e"}Y=c;o=o>>>1}}}};d.l={};d.l.pF=new Float64Array(256);
d.l.Z3=new Uint8Array(256*256);d.l.fj=new Uint8Array(256*256);(function(){for(var y=0;y<256;y++)d.l.pF[y]=255/y;
for(var y=0;y<256;y++)for(var K=0;K<256;K++)d.l.Z3[y*256+K]=y==0?0:Math.round(K*255/y);for(var y=0;y<256;
y++)for(var K=0;K<256;K++)d.l.fj[y*256+K]=Math.round(y*(255-K)/255)}());d.l.To=function(K,o,Y,c,z,f,$,E){if(E==null)E=eq.Sq();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(K)==-1){$=$*E.fill;E.fill=1;E.style=!1}var b="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),q="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),O=d.l[K+"F"];
if(E.Ve==null&&K=="norm")d.l.a68(o,Y,c,z,f,$,O,E.Rm?1:0);else if(K=="diss")d.l.a5_(o,Y,c,z,f,$,O,E.Rm?1:0);
else if(b.indexOf(K)!=-1)d.l.aq_(o,Y,c,z,f,$,O,E);else if(q.indexOf(K)!=-1)d.l.aqA(o,Y,c,z,f,$,O,E)};
d.l.a6K=function(K,o,Y){var c=K*Y+1-Y;return c<.001?0:1-Math.min(1,(1-o)/c)};d.l.a5e=function(K,o,Y){return K*Y==1?1:Math.min(1,o/(1-K*Y))};
d.l.dc=function(K){return K<=.25?((16*K-12)*K+4)*K:Math.sqrt(K)};d.l.normF=function(K,o,Y){return K};
d.l.darkF=function(K,o,Y){return Math.min(K,o)};d.l["mul F"]=function(K,o,Y){return K*o};d.l.idivF=function(K,o,Y){var c=K*Y+1-Y;
return o==1?1:1-o>=c?0:1-(1-o)/c};d.l.lbrnF=function(K,o,Y){return Math.max(0,K*Y+o-Y)};d.l.dkClF=function(K,o,Y){var c=d.le(K)<d.le(o)?K:o;
Y.o=c.o;Y.A=c.A;Y.J=c.J;return Y};d.l.liteF=function(K,o,Y){return Math.max(K,o)};d.l.scrnF=function(K,o,Y){return o+K-o*K};
d.l["div F"]=function(K,o,Y){K*=Y;return o==0?0:o>=1-K?1:o/(1-K)};d.l.lddgF=function(K,o,Y){K*=Y;return Math.min(1,K+o)};
d.l.lgClF=function(K,o,Y){var c=d.le(K)>d.le(o)?K:o;Y.o=c.o;Y.A=c.A;Y.J=c.J;return Y};d.l.overF=function(K,o,Y){return d.l.hLitF(o,K,Y)};
d.l.sLitF=function(K,o,Y){return K<=.5?o-(1-2*K)*o*(1-o):o+(2*K-1)*(d.l.dc(o)-o)};d.l.hLitF=function(K,o,Y){return K<=.5?d.l["mul F"](2*K,o,Y):d.l.scrnF(2*K-1,o,Y)};
d.l.vLitF=function(K,o,Y){return K<=.5?d.l.a6K(2*K,o,Y):d.l.a5e(2*K-1,o,Y)};d.l.lLitF=function(K,o,Y){return K<=.5?d.l.lbrnF(2*K,o,Y):d.l.lddgF(2*K-1,o,Y)};
d.l.pLitF=function(K,o,Y){return K<=.5?d.l.darkF(2*K,o,Y):d.l.liteF(2*K-1,o,Y)};d.l.hMixF=function(K,o,Y){if(Y>.99)return K+o<1?0:1;
return Math.min(1,Math.max(0,(o+K*Y-Y)/(1-Y+1e-6)))};d.l.diffF=function(K,o,Y){K*=Y;return Math.abs(K-o)};
d.l.smudF=function(K,o,Y){return K+o-2*K*o};d.l.fsubF=function(K,o,Y){return Math.max(o-K,0)};d.l.fdivF=function(K,o,Y){return Math.min(o/K,1)};
d.l["hue F"]=function(K,o,Y){d.l.yU(K,d.Hu(o),Y);d.l.lf(Y,d.le(o),Y)};d.l["sat F"]=function(K,o,Y){d.l.yU(o,d.Hu(K),Y);
d.l.lf(Y,d.le(o),Y)};d.l.colrF=function(K,o,Y){d.l.lf(K,d.le(o),Y)};d.l["lum F"]=function(K,o,Y){d.l.lf(o,d.le(K),Y)};
d.l.lf=function(K,o,Y){var c=o-d.le(K);Y.o=K.o+c;Y.A=K.A+c;Y.J=K.J+c;d.l.ahb(Y)};d.l.ahb=function(K){var o=K.o,Y=K.A,c=K.J,z=d.ld(o,Y,c),h4=Math.min(o,Y,c),f=Math.max(o,Y,c);
if(h4<0){var $=z/(z-h4);o=z+(o-z)*$;Y=z+(Y-z)*$;c=z+(c-z)*$}if(f>1){var $=(1-z)/(f-z);o=z+(o-z)*$;Y=z+(Y-z)*$;
c=z+(c-z)*$}K.o=o;K.A=Y;K.J=c};d.l.yU=function(K,o,Y){var c=d.l.anx,z=K.o,f=K.A,$=K.J;if(z==f&&f==$){Y.o=Y.A=Y.J=0}else if(z>f){if(z>$){if(f>$){Y.o=o;
Y.A=c(z,f,$,o);Y.J=0}else{Y.o=o;Y.J=c(z,$,f,o);Y.A=0}}else{Y.J=o;Y.o=c($,z,f,o);Y.A=0}}else{if(z<$){if(f>$){Y.A=o;
Y.J=c(f,$,z,o);Y.o=0}else{Y.J=o;Y.A=c($,f,z,o);Y.o=0}}else{Y.A=o;Y.o=c(f,z,$,o);Y.J=0}}};d.l.anx=function(K,o,Y,c){return(o-Y)*c/(K-Y)};
d.l.a68=function(K,o,Y,c,z,f,$,E){var b=o.wu(c).wu(z),q=Math.max(0,b.x-o.x),O=Math.max(0,b.x-c.x),j=Math.max(0,b.y-o.y),A=Math.max(0,b.y-c.y),R=b.m,g=b.e,H=o.m,i=c.m,h=d.l.Z3,x=d.l.fj,F=new Uint32Array(K.buffer),X=new Uint32Array(Y.buffer);
for(var y=0;y<g;y++){var V=(j+y)*H+q,U=(A+y)*i+O;for(var Z=0;Z<R;Z++){var T=F[V+Z],G=1;if(T>>>24==0)continue;
if(T>>>24==255&&f==1&&E==0){X[U+Z]=F[V+Z];continue}var v=X[U+Z],P=T&255,p=T>>>8&255,a=T>>>16&255,D=v&255,n=v>>>8&255,N=v>>>16&255,W=f,l=(v>>>24)*(1/255);
if(E==0){W=(T>>>24)*f*(1/255);G=l}var u=G*(1-W),e=W+u,M=1/e;X[U+Z]=~~(.5+(E*l+(1-E)*e)*255)<<24|~~(.5+(a*W+N*u)*M)<<16|~~(.5+(p*W+n*u)*M)<<8|~~(.5+(P*W+D*u)*M)}}};
d.l.ay4=function(K,o,Y,c,z,f){var $=o.wu(c).wu(z),E=Math.max(0,$.x-o.x),b=Math.max(0,$.x-c.x),q=Math.max(0,$.y-o.y),O=Math.max(0,$.y-c.y),j=$.m,A=$.e,R=o.m,g=c.m,H=d.l.Z3,i=d.l.fj,h=new Uint32Array(K.buffer),x=new Uint32Array(Y.buffer),F=Math.floor(Math.random()*16777215),X=0;
for(var y=0;y<A;y++){var V=(q+y)*R+E,U=(O+y)*g+b;for(var Z=0;Z<j;Z++){var T=h[V+Z];if(T>>>24==0)continue;
if(T>>24==255&&f==1){x[U+Z]=T;continue}var v=x[U+Z],P=(T>>>24)*f*(1/255),p=(v>>>24)*(1/255),a=p*(1-P),D=P+a,n=T&255,N=T>>>8&255,W=T>>>16&255,G=v&255,l=v>>>8&255,u=v>>>16&255;
X>>>=8;if((Z&3)==0)X=d.l.dH(U+Z+F);var e=D==0?0:1/D,M=Math.floor(D*(256*255))+(X&255)>>>8,B=Math.floor((W*P+u*a)*e+.5),s=Math.floor((N*P+l*a)*e+.5),t=Math.floor((n*P+G*a)*e+.5);
x[U+Z]=M<<24|B<<16|s<<8|t}}};d.l.Oa=function(K,o,Y,c,z,f,$,E){var b=d.ld(K,o,Y),q=d.ld(c,z,f),O=Math.min,j=d.l.amJ,A=j(b,E,0);
A=O(A,j(K,E,8));A=O(A,j(o,E,16));A=O(A,j(Y,E,24));var R=j(q,E,4);R=O(R,j(c,E,12));R=O(R,j(z,E,20));R=O(R,j(f,E,28));
R=Math.max(R,1-$);var g=Math.min(A,R);return g<0?0:g>1?1:g};d.l.amJ=function(K,o,y){return Math.min((K-o[y])*o[y+1],(K-o[y+3])*o[y+2])};
d.l.aq_=function(K,o,Y,c,z,f,$,E){var b=1/255,q=b*f,O=E.Rm?1:0,j=E.fill,A=E.style,R=o.wu(c).wu(z),g=Math.max(0,R.x-o.x),H=Math.max(0,R.x-c.x),i=Math.max(0,R.y-o.y),h=Math.max(0,R.y-c.y),x=R.m,F=R.e,X=o.m,V=c.m,U=new Uint32Array(K.buffer),Z=new Uint32Array(Y.buffer);
for(var y=0;y<F;y++){var T=(i+y)*X+g,v=(h+y)*V+H;for(var P=0;P<x;P++,T++,v++){var p=U[T],e=1;if(p>>>24==0)continue;
var a=Z[v],D=(p&255)*b,n=(p>>>8&255)*b,N=(p>>>16&255)*b,W=(a&255)*b,G=(a>>>8&255)*b,l=(a>>>16&255)*b,u=f;
if(O==0){u=(p>>>24)*q;e=(a>>>24)*b}if(E.Ve)u*=d.l.Oa(D,n,N,W,G,l,e,E.Ve);var M=e*(1-u),B=u+M,s=B==0?0:255/B,t=A?1:u,J=((1-e)*u*D+(1-t)*e*W+t*e*$(D,W,(1+u-t)*j))*s,L=((1-e)*u*n+(1-t)*e*G+t*e*$(n,G,(1+u-t)*j))*s,k=((1-e)*u*N+(1-t)*e*l+t*e*$(N,l,(1+u-t)*j))*s;
B=u*j+e*(1-u*j);var C=~~(B*255+.5);Z[v]=O*(a>>>24)+(1-O)*C<<24|k<<16|L<<8|J}}};d.l.aqA=function(K,o,Y,c,z,f,$,E){var b=1/255,q=b*f,O=E.Rm?1:0,j=o.wu(c).wu(z),A=Math.max(0,j.x-o.x),R=Math.max(0,j.x-c.x),g=Math.max(0,j.y-o.y),H=Math.max(0,j.y-c.y),i=j.m,h=j.e,x=new Uint32Array(K.buffer),F=new Uint32Array(Y.buffer),X={o:0,A:0,J:0},V={o:0,A:0,J:0},U={o:0,A:0,J:0};
for(var y=0;y<h;y++){var Z=(g+y)*o.m+A,T=(H+y)*c.m+R;for(var v=0;v<i;v++,Z++,T++){var P=x[Z],p=F[T],a=(P&255)*b,D=(P>>>8&255)*b,n=(P>>>16&255)*b,N=(p&255)*b,W=(p>>>8&255)*b,G=(p>>>16&255)*b,l=f,u=1;
if(O==0){l=(P>>>24)*q;u=(p>>>24)*b}if(E.Ve)l*=d.l.Oa(a,D,n,N,W,G,u,E.Ve);var e=u*(1-l),M=l+e,B=255/M;
X.o=a;X.A=D;X.J=n;V.o=N;V.A=W;V.J=G;$(X,V,U);var s=(((1-u)*a+u*U.o)*l+N*e)*B,t=(((1-u)*D+u*U.A)*l+W*e)*B,J=(((1-u)*n+u*U.J)*l+G*e)*B,L=O*(p>>>24)+(1-O)*Math.round(M*255);
F[T]=L<<24|J<<16|t<<8|s}}};d.l.Kz=function(K){K=K^61^K>>>16;K=K+(K<<3);K=K^K>>>4;K=K*668265261;K=K^K>>15;
return(K&16777215)*(1/16777215)};d.l.dH=function(K){K=K^61^K>>>16;K=K+(K<<3);K=K^K>>>4;K=K*668265261;
K=K^K>>>15;return K};d.l.Mt=function(K){this.JD=K};d.l.Mt.prototype.get=function(){var K=this.JD=d.l.dH(this.JD);
return(K&16777215)*(1/16777215)};d.l.a5_=function(K,o,Y,c,z,f,$,E){var b=1/255,q=b*f,O=Math.round(f*(256*256*256/255)),j=o.wu(c).wu(z),A=Math.max(0,j.x-o.x),R=Math.max(0,j.x-c.x),g=Math.max(0,j.y-o.y),H=Math.max(0,j.y-c.y),i=j.m,h=j.e,x=new Uint32Array(K.buffer),F=new Uint32Array(Y.buffer);
for(var y=0;y<h;y++){var X=(g+y)*o.m+A,V=(H+y)*c.m+R;for(var U=0;U<i;U++,X++,V++){var Z=x[X],T=F[V],v=E*255+(1-E)*(Z>>>24);
if((d.l.dH(X)&16777215)>=v*O)continue;F[V]=Z&16777215|E*(T>>>24)+(1-E)*255<<24}}};d.l.ahC=function(K,o,Y){for(var y=0;
y<K.length;y+=4){var c=Y[y>>>2];if(c==0)continue;var z=c*(1/255),f=1/z,$=o[y],E=o[y+1],b=o[y+2],q=K[y],O=K[y+1],j=K[y+2];
o[y]=Math.min(255,Math.max(0,Math.round(($-(1-z)*q)*f)));o[y+1]=Math.min(255,Math.max(0,Math.round((E-(1-z)*O)*f)));
o[y+2]=Math.min(255,Math.max(0,Math.round((b-(1-z)*j)*f)));o[y+3]=255}};d.l.OF=function(K,o,Y,c,z,f,$,E,b,q,O){if(q==null)q=!1;
if(O==null)O=[1,1,1];var j=255<<24|O[2]*16711680|O[1]*65280|O[0]*255,A=~j;if(z&&!o.BV(f)){var R=d.R(o.Z()*4);
R.fill($);d.u_(z,f,R,o);z=R;f=o}if(q){if(z==null)d.l.a25(K,o,Y,c,z,E,b,j,A);else d.l.aCY(K,o,Y,c,z,E,b)}else{if(z==null)d.l.ad3(K,o,Y,c,z,E,b,j,A);
else d.l.agC(K,o,Y,c,z,E,b)}};d.l.ad3=function(K,o,Y,c,z,f,$,E,b){var q=1/255,O=o.wu(c).wu(f),j=Math.max(0,O.x-o.x),A=Math.max(0,O.x-c.x),R=Math.max(0,O.y-o.y),g=Math.max(0,O.y-c.y),H=O.m,i=O.e,h=new Uint32Array(K.buffer),x=new Uint32Array(Y.buffer),F=d.l.Z3,X=$*255&255;
for(var y=0;y<i;y++){var V=(R+y)*o.m+j,U=(g+y)*c.m+A;for(var Z=0;Z<H;Z++,V++,U++){var T=h[V],v=x[U],P=T>>>24,p=v>>>24,a=d.fq(X*P+(255-X)*p),D=d.fq(P*X),n=d.fq(p*(255-X)),N=T&255,W=T>>>8&255,G=T>>>16&255,l=v&255,u=v>>>8&255,e=v>>>16&255,M=D*N+l*n,B=D*W+u*n,s=D*G+e*n;
M=F[a<<8|d.fq(M)];B=F[a<<8|d.fq(B)];s=F[a<<8|d.fq(s)];var t=a<<24|s<<16|B<<8|M;x[U]=b&v|E&t}}};d.l.a25=function(K,o,Y,c,z,f,$,E,b){var q=1/255,O=o.wu(c).wu(f),j=Math.max(0,O.x-o.x),A=Math.max(0,O.x-c.x),R=Math.max(0,O.y-o.y),g=Math.max(0,O.y-c.y),H=O.m,i=O.e,h=new Uint32Array(K.buffer),x=new Uint32Array(Y.buffer),F=d.l.Z3,X=$*16777215&16777215;
for(var y=0;y<i;y++){var V=(R+y)*o.m+j,U=(g+y)*c.m+A;for(var Z=0;Z<H;Z++,V++,U++){if((d.l.dH(V)&16777215)<X){x[U]=b&x[U]|E&h[V]}}}};
d.l.agC=function(K,o,Y,c,z,f,$){var E=1/255,b=o.wu(c).wu(f),q=Math.max(0,b.x-o.x),O=Math.max(0,b.x-c.x),j=Math.max(0,b.y-o.y),A=Math.max(0,b.y-c.y),R=b.m,g=b.e,H=new Uint32Array(K.buffer),i=new Uint32Array(Y.buffer),h=d.l.Z3;
for(var y=0;y<g;y++){var x=(j+y)*o.m+q,F=(A+y)*c.m+O;for(var X=0;X<R;X++,x++,F++){var V=z[x]*$&255;if(V==0)continue;
if(V==255){i[F]=H[x];continue}var U=H[x],Z=i[F],T=U>>>24,v=Z>>>24,P=d.fq(V*T+(255-V)*v),p=d.fq(T*V),a=d.fq(v*(255-V)),D=U&255,n=U>>>8&255,N=U>>>16&255,W=Z&255,G=Z>>>8&255,l=Z>>>16&255,u=h[P<<8|d.fq(p*D+W*a)],e=h[P<<8|d.fq(p*n+G*a)],M=h[P<<8|d.fq(p*N+l*a)];
i[F]=P<<24|M<<16|e<<8|u}}};d.l.aCY=function(K,o,Y,c,z,f,$){var E=1/255,b=o.wu(c).wu(f),q=Math.max(0,b.x-o.x),O=Math.max(0,b.x-c.x),j=Math.max(0,b.y-o.y),A=Math.max(0,b.y-c.y),R=b.m,g=b.e,H=new Uint32Array(K.buffer),i=new Uint32Array(Y.buffer),h=d.l.Z3,x=Math.round($*257);
for(var y=0;y<g;y++){var F=(j+y)*o.m+q,X=(A+y)*c.m+O;for(var V=0;V<R;V++,F++,X++){var U=z[F]*x;if((d.l.dH(F)&65535)<U)i[X]=H[F]}}};
d.l.arY=function(K,o,Y,c,z,f,$){var E=1/255,b=o.wu(c).wu(f),q=Math.max(0,b.x-o.x),O=Math.max(0,b.x-c.x),j=Math.max(0,b.y-o.y),A=Math.max(0,b.y-c.y),R=b.m,g=b.e,H=new Uint32Array(K.buffer),i=new Uint32Array(Y.buffer),h=Math.floor(Math.random()*c.Z()),x=d.l.a3Q;
for(var y=0;y<g;y++){var F=(j+y)*o.m+q,X=(A+y)*c.m+O;for(var V=0;V<R;V++){var U=z[F+V]*$;if(U==0)continue;
if(U==255){i[X+V]=H[F+V];continue}var Z=H[F+V],T=i[X+V],v=Z>>>24,P=T>>>24,p=v*U*(1/255),a=P*(255-U)*(1/255),D=Z&255,n=Z>>>8&255,N=Z>>>16&255,W=T&255,G=T>>>8&255,l=T>>>16&255,u=d.l.dH(X+V+h),e=Math.floor((p+a)*256+.5)+(u>>>0&255)>>>8,M=e==0?0:256/(p+a),B=D*p+W*a,s=n*p+G*a,t=N*p+l*a,J=Math.floor(B*M+.5)+(u>>>8&255)>>>8,L=Math.floor(s*M+.5)+(u>>>16&255)>>>8,k=Math.floor(t*M+.5)+(u>>>24&255)>>>8;
i[X+V]=e<<24|k<<16|L<<8|J}}};d.l.a3Q=function(K){return Math.floor(K+Math.random())};d.l.Ir=function(K,o,Y,c,z,f,$){var E=1/255,b=o.wu(c).wu(f),q=Math.max(0,b.x-o.x),O=Math.max(0,b.x-c.x),j=Math.max(0,b.y-o.y),A=Math.max(0,b.y-c.y),R=b.m,g=b.e;
for(var y=0;y<g;y++){var H=(j+y)*o.m+q,i=(A+y)*c.m+O;for(var h=0;h<R;h++,H++,i++){var x=$*z[H]*E;if(x==0)continue;
if(x==1){Y[i]=K[H];continue}Y[i]=K[H]*x+Y[i]*(1-x)}}};d.af2=function(){function K(f){var $=f*.85;return Math.exp(-($*$)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function o(f,$){var E=f<$?1:K((f-$)/Math.pow(1.001-$,.86));
return E}var Y=[];function c(f){if(Y[f])return Y[f];var $=Math.pow(f,.55),E=new Float64Array(8e3),b=0,q=8e3;
for(var y=0;y<8e3;y++){var O=o(y*(1.55/4e3),$);if(O>=1)b=y;else if(O<=0&&q==8e3)q=y;E[y]=O}var j=[E,b,q];
Y[f]=j;return j}function z(f,$,E){var b=1+.55*(1-$),q=Math.round(E*f*b)+2,O=new hD(0,0,q,q),j=d.R(q*q),A=[j,O],R=q/2,g=b/(R-1),H=Date.now(),i=c($),h=Math.round(8e3/R),x=i[0],F=i[1]-h,X=i[2]+h,V=Math.min(q,q+1>>>1),U=g*.4*(4e3/1.55),Z=d.R(8e3);
for(var y=0;y<8e3;y++){var T=y,v=y,P=~~Math.max(0,T-U-U),p=~~Math.max(0,T-U),a=~~(T+U),D=~~(T+U+U),n=~~(.5+255*(1/5)*(x[v]+x[P]+x[p]+x[a]+x[D]));
Z[y]=n;if(n==0)break}for(var y=0;y<V;y++){var N=g*(y-R+.5),W=N*N,G=y*q,l=(q-1-y)*q;for(var u=0;u<V;u++){var e=g*(u-R+.5),v=~~(Math.sqrt(e*e+W)*(4e3/1.55));
if(X<v)continue;else if(v<F){var n=255;while(u<V){var M=q-1-u;j[G+u]=n;j[G+M]=n;j[l+u]=n;j[l+M]=n;u++}break}else{var n=Z[v],M=q-1-u;
j[G+u]=n;j[G+M]=n;j[l+u]=n;j[l+M]=n}}}return A}return{am3:z}}();d.bK={};d.bK.adI=function(K,o,Y,c,z,f){d.bK.KU(K,o,Y,c,z,f,null,0)};
d.bK.aiX=function(K,o,Y,c,z){d.bK.KU(K,o,Y,c,z,null,null,0)};d.bK.abF=function(K,o,Y,c,z,f,$){d.bK.KU(K,o,Y,c,z,null,f,$*.5)};
d.bK.KU=function(K,o,Y,c,z,f,$,E){var b=0,a=0,D=1e9,n=0,N=1e9,W=0,G=1e9,l=0,u=0,e=0,M=0;if(f){b=z*.5;
z=3+Math.round((z-3)*.75)}if($){z=Math.round(z*2.2)}var q=1/z,O=Math.floor(o*q)+1,j=Math.floor(Y*q)+1,A=[],R=new Uint8Array(O*j*4),g=$?.5:1,H=f?64:0;
for(var i=0;i<j;i++){var h=$?.5*(i&1):0;for(var x=0;x<O;x++){var F=(x+Math.random()*g+h)*z,X=(i+Math.random()*g)*z;
A.push(F,X);var V=Math.min(o-1,Math.floor(F)),U=Math.min(Y-1,Math.floor(X)),Z=(U*o+V)*4,T=(i*O+x)*4;
for(var y=0;y<4;y++)R[T+y]=Math.max(0,Math.min(255,Math.floor(K[Z+y]+(Math.random()-.5)*H)))}}var v=f?f:$?$:[0,0,0],P=O*j*2,p=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1];
for(var i=0;i<Y;i++){e=0;for(var x=0;x<o;x++){var B=x+.5,s=i+.5,t=Math.floor(s*q),J=Math.floor(B*q),L=t*O+J,r=0,Q=0;
if(e>1+E){D=d.bK.aax(A,a,B,s);l=Math.sqrt(D);e--;M++}else{D=N=G=1e9;for(var y=0;y<p.length;y++){var k=(L+p[y])*2;
if(k<0||k>=P)continue;var C=d.bK.aax(A,k,B,s);if(C<G){if(C<N){if(C<D){W=n;G=N;n=a;N=D;a=k;D=C}else{W=n;
G=N;n=k;N=C}}else{W=k;G=C}}}l=Math.sqrt(D);u=Math.sqrt(N);e=u-(l+u)*.5}if($==null){var j9=(l+u)*.5,a4=f?Math.max(0,j9-b):0;
r=Math.max(0,Math.min(1,.5+j9-l-a4));Q=Math.max(0,Math.min(1,1-(.5+j9-l)-a4))}else{var ar=Math.min(d.bK.a6E(A,a,n,B,s),d.bK.a6E(A,a,W,B,s));
r=Math.max(0,Math.min(1,ar-E*.5));if(B<E||o-E<B||s<E||Y-E<s)r=0;Q=0}var ez=1-Q-r,T=i*o+x<<2,ja=a<<1,c3=n<<1;
c[T+0]=Math.floor(.5+r*R[ja+0]+Q*R[c3+0]+ez*v[0]);c[T+1]=Math.floor(.5+r*R[ja+1]+Q*R[c3+1]+ez*v[1]);
c[T+2]=Math.floor(.5+r*R[ja+2]+Q*R[c3+2]+ez*v[2]);c[T+3]=K[T+3]}}};d.bK.aax=function(K,o,Y,c){var z=Y-K[o],f=c-K[o+1];
return z*z+f*f};d.bK.a6E=function(K,o,Y,c,z){var f=K[o],$=K[o+1],E=K[Y],b=K[Y+1],q=(f+E)*.5,O=($+b)*.5,j=q+(b-$),A=O-(E-f),R=A-O,g=j-q;
return Math.abs(R*c-g*z+j*O-A*q)/Math.sqrt(g*g+R*R)};d.Gq={};d.Gq.M$=function(K){if(d.Gq.yb.length<K)d.Gq.yb=d.R(K);
return d.Gq.yb};d.Gq.yb=d.R(0);d.Gq.alB=function(K){if(d.Gq._c.length<K)d.Gq._c=new Float32Array(K);
return d.Gq._c};d.Gq._c=new Float32Array(0);d.Gq.r5=function(K,o,Y,c){var z=Y.m,f=Y.e;d.Gq.amd(K,o,z,f,c)};
d.Gq.vl=function(K,o,Y,c){var z=Y.m,f=Y.e;d.Gq.ahK(K,o,z,f,c)};d.Gq.aA6=function(K,o,Y){var c=o.m,z=o.e;
d.Gq.aAh(K,c,z,Y)};d.Gq.An=function(K,o,Y,c,z){var f=Y.m,$=Y.e;d.Gq.aln(K,o,f,$,c,z)};d.Gq.at9=function(K,o,Y,c){var z=Y.m,f=Y.e;
c=Math.round(c);var $=d.Gq.M$(z*f);d.kO(K,o);d.Gq.iR(o,$,z,f,c)};d.Gq.EM=function(K,o,Y){var c=o.m,z=o.e;
Y=Math.round(Y);var f=d.Gq.M$(c*z*4);d.Gq.qV(K,f,c,z,Y)};d.Gq.Nr=function(K,o,Y,c){var z=Y.m,f=Y.e;c=Math.round(c);
var $=d.Gq.alB(z*f);d.kO(K,o);d.Gq.ahU(o,$,z,f,c)};d.Gq.a3b=function(K,o,Y){var c=o.m,z=o.e;Y=Math.round(Y);
var f=d.Gq.M$(c*z*4);d.Gq.a7$(K,f,c,z,Y);d.kO(f,K)};d.Gq.eM=function(K,h4){var o=Math.sqrt(12*K*K/h4+1),Y=Math.floor(o);
if(Y%2==0)Y--;var c=Y+2,z=(12*K*K-h4*Y*Y-4*h4*Y-3*h4)/(-4*Y-4),f=Math.round(z),$=[];for(var y=0;y<h4;
y++)$.push(y<f?Y:c);return $};d.Gq.amd=function(K,o,Y,c,z){var f=d.Gq.eM(z,3),$=d.Gq.M$(Y*c);d.kO(K,o);
d.Gq.iR(o,$,Y,c,f[0]-1>>1);d.Gq.iR(o,$,Y,c,f[1]-1>>1);d.Gq.iR(o,$,Y,c,f[2]-1>>1)};d.Gq.ahK=function(K,o,Y,c,z){var f=d.Gq.eM(z,2),$=d.Gq.M$(Y*c);
d.kO(K,o);d.Gq.iR(o,$,Y,c,f[0]-1>>1);d.Gq.iR(o,$,Y,c,f[1]-1>>1)};d.Gq.aAh=function(K,o,Y,c){var z=d.Gq.eM(c,3),f=d.Gq.M$(o*Y*4);
d.Gq.qV(K,f,o,Y,z[0]-1>>1);d.Gq.qV(K,f,o,Y,z[1]-1>>1);d.Gq.qV(K,f,o,Y,z[2]-1>>1)};d.Gq.aln=function(K,o,Y,c,z,f){if(f==null)f=3;
var $=d.Gq.eM(z,f),E=d.Gq.alB(Y*c);d.kO(K,o);for(var y=0;y<f;y++)d.Gq.ahU(o,E,Y,c,($[y]-1)/2)};d.Gq.iR=function(K,o,Y,c,z){d.Gq.ajw(K,o,Y,c,z);
d.Gq.am7(o,K,Y,c,z)};d.Gq.qV=function(K,o,Y,c,z){d.Gq.a7$(K,o,Y,c,z);d.Gq.aix(o,K,Y,c,z)};d.Gq.ahU=function(K,o,Y,c,z){d.Gq.a2X(K,o,Y,c,z);
d.Gq.a3V(o,K,Y,c,z)};d.Gq.N5=[];d.Gq.f2=function(K){if(d.Gq.N5[K])return d.Gq.N5[K];var o=1/(K+K+1),Y=(K+K+1)*256,c=d.R(Y);
for(var y=0;y<Y;y++)c[y]=Math.round(y*o);d.Gq.N5[K]=c;return c};d.Gq.ajw=function(K,o,Y,c,z){var f=1/(z+z+1),$=Y-z-z-1,E=d.Gq.f2(z);
for(var y=0;y<c;y++){var b=y*Y,q=b,O=b+z,j=K[b],A=K[b+Y-1],R=(z+1)*j;for(var g=0;g<z;g++)R+=K[b+g];for(var g=0;
g<=z;g++){R+=K[O+g]-j;o[b+g]=E[R]}O+=z+1;b+=z+1;for(var g=0;g<$;g++){R+=K[O+g]-K[q+g];o[b+g]=E[R]}O+=$;
q+=$;b+=$;for(var g=Y-z;g<Y;g++){R+=A-K[q++];o[b++]=E[R]}}};d.Gq.a7$=function(K,o,Y,c,z){var f=Y<<2,$=z<<2,E=1/(z+z+1),b=Y-z-z-1,q=b<<2,O=d.Gq.f2(z);
for(var y=0;y<c;y++){var j=y*f,A=j,R=j+$,g=j+f,H=K[j],i=K[j+1],h=K[j+2],x=K[j+3],F=(z+1)*H,X=(z+1)*i,V=(z+1)*h,U=(z+1)*x;
for(var Z=0;Z<$;Z+=4){F+=K[j+Z];X+=K[j+Z+1];V+=K[j+Z+2];U+=K[j+Z+3]}for(var Z=0;Z<=$;Z+=4){F+=K[R]-H;
o[j]=O[F];X+=K[R+1]-i;o[j+1]=O[X];V+=K[R+2]-h;o[j+2]=O[V];U+=K[R+3]-x;o[j+3]=O[U];R+=4;j+=4}for(var Z=0;
Z<q;Z+=4){F+=K[R+Z]-K[A+Z];o[j+Z]=O[F];X+=K[R+Z+1]-K[A+Z+1];o[j+Z+1]=O[X];V+=K[R+Z+2]-K[A+Z+2];o[j+Z+2]=O[V];
U+=K[R+Z+3]-K[A+Z+3];o[j+Z+3]=O[U]}R+=q;A+=q;j+=q;H=K[g-4];i=K[g-3];h=K[g-2];x=K[g-1];for(var Z=Y-z;
Z<Y;Z++){F+=H-K[A];o[j]=O[F];X+=i-K[A+1];o[j+1]=O[X];V+=h-K[A+2];o[j+2]=O[V];U+=x-K[A+3];o[j+3]=O[U];
A+=4;j+=4}}};d.Gq.a2X=function(K,o,Y,c,z){var f=1/(z+z+1),$=Y-z-z-1;for(var y=0;y<c;y++){var E=y*Y,b=E,q=E+z,O=K[E],j=K[E+Y-1],A=(z+1)*O;
for(var R=0;R<z;R++)A+=K[E+R];for(var R=0;R<=z;R++){A+=K[q+R]-O;o[E+R]=A*f}q+=z+1;E+=z+1;for(var R=0;
R<$;R++){A+=K[q+R]-K[b+R];o[E+R]=A*f}q+=$;b+=$;E+=$;for(var R=Y-z;R<Y;R++){A+=j-K[b++];o[E++]=A*f}}};
d.Gq.am7=function(K,o,Y,c,z){var f=1/(z+z+1),$=c-z-z-1,E=d.Gq.f2(z);for(var y=0;y<Y;y++){var b=y,q=b,O=b+z*Y,j=K[b],A=K[b+Y*(c-1)],R=(z+1)*j;
for(var g=0;g<z;g++)R+=K[b+g*Y];for(var g=0;g<=z;g++){R+=K[O]-j;o[b]=E[R];O+=Y;b+=Y}for(var g=0;g<$;
g++){var H=g*Y;R+=K[O+H]-K[q+H];o[b+H]=E[R]}q+=$*Y;O+=$*Y;b+=$*Y;for(var g=c-z;g<c;g++){R+=A-K[q];o[b]=E[R];
q+=Y;b+=Y}}};d.Gq.aix=function(K,o,Y,c,z){var f=Y<<2,$=z<<2,E=1/(z+z+1),b=c-z-z-1,q=b<<2,O=d.Gq.f2(z);
for(var y=0;y<Y;y++){var j=y<<2,A=j,R=j+z*f,g=j+f*(c-1),H=K[j],i=K[j+1],h=K[j+2],x=K[j+3],F=(z+1)*H,X=(z+1)*i,V=(z+1)*h,U=(z+1)*x;
for(var Z=0;Z<z;Z++){var T=j+Z*f;F+=K[T];X+=K[T+1];V+=K[T+2];U+=K[T+3]}for(var Z=0;Z<=z;Z++){F+=K[R]-H;
o[j]=O[F];X+=K[R+1]-i;o[j+1]=O[X];V+=K[R+2]-h;o[j+2]=O[V];U+=K[R+3]-x;o[j+3]=O[U];R+=f;j+=f}for(var Z=0;
Z<b;Z++){var v=Z*f;F+=K[R+v]-K[A+v];o[j+v]=O[F];X+=K[R+v+1]-K[A+v+1];o[j+v+1]=O[X];V+=K[R+v+2]-K[A+v+2];
o[j+v+2]=O[V];U+=K[R+v+3]-K[A+v+3];o[j+v+3]=O[U]}A+=b*f;R+=b*f;j+=b*f;H=K[g];i=K[g+1];h=K[g+2];x=K[g+3];
for(var Z=c-z;Z<c;Z++){F+=H-K[A];o[j]=O[F];X+=i-K[A+1];o[j+1]=O[X];V+=h-K[A+2];o[j+2]=O[V];U+=x-K[A+3];
o[j+3]=O[U];A+=f;j+=f}}};d.Gq.a3V=function(K,o,Y,c,z){var f=1/(z+z+1),$=c-z-z-1;for(var y=0;y<Y;y++){var E=y,b=E,q=E+z*Y,O=K[E],j=K[E+Y*(c-1)],A=(z+1)*O;
for(var R=0;R<z;R++)A+=K[E+R*Y];for(var R=0;R<=z;R++){A+=K[q]-O;o[E]=A*f;q+=Y;E+=Y}for(var R=0;R<$;R++){var g=R*Y;
A+=K[q+g]-K[b+g];o[E+g]=A*f}b+=$*Y;q+=$*Y;E+=$*Y;for(var R=c-z;R<c;R++){A+=j-K[b];o[E]=A*f;b+=Y;E+=Y}}};
d.vo={};d.vo.R=function(K,o,Y,c){var z=[];for(var f=0;f<4;f++)for(var $=0;$<4;$++)z.push(K+Y*$/3,o+c*f/3);
return z};d.vo.arU=function(K,o){var Y=K.slice(0);for(var y=0;y<4;y++)for(var c=0;c<4;c++){var z=2*(y*4+c),f=2*(c*4+(3-y));
if(o){var $=z;z=f;f=$}Y[f]=K[z];Y[f+1]=K[z+1]}return Y};d.vo.Nu=d.R(0);d.vo.drawImage=function(K,o,Y,c,z,f,$){var E=!1,b=Date.now(),q=2,O=Y+2*q,j=c+2*q,A=new hD(q,q,Y,c),R=A.clone();
R.VC(q,q);var g=d.vo.Nu;if(g.length!=R.Z()*4)g=d.vo.Nu=d.R(R.Z()*4);else g.fill(0);d.iF(o,A,g,R);if(E)console.log(Date.now()-b,"copy rect");
b=Date.now();d.CI(g);if(E)console.log(Date.now()-b,"multiply alpha");b=Date.now();var H=Math.max(Y,c),i=Math.round(50*Y/H),h=Math.round(Math.sqrt(3)*.5*50*c/H),x=i-.5,F=[],X=[],V=[];
for(var U=0;U<h+1;U++){var Z=(U&1)==0;for(var T=0;T<i+1;T++){var v=(T-(Z?.5:0))/x,P=U/h;if(T==0)v=0;
if(T==i)v=1;F.push(O*v,j*P);if(T<i&&U<h){var p=U*(i+1)+T,a=p+1,D=p+i+1,n=D+1;if(Z)X.push(p,a,D,D,a,n);
else X.push(p,a,n,p,n,D)}var N=d.vo.ar0(K,v,P);V.push(-N)}}var W=F.slice(0);d.vo.i(K,W,A);d.M.i(W,new dF(1,0,0,1,-f.x,-f.y),W);
if(E)console.log(Date.now()-b,"mesh built");b=Date.now();var G=f.m,l=f.e;d.dO.hk(g,O,j,z,G,l,F,W,V,X,$);
if(E)console.log(Date.now()-b,"rendered");b=Date.now();d.Xk(z);if(E)console.log(Date.now()-b,"divided");
b=Date.now()};d.vo.Er=new Array(10);d.vo.Fi=function(K,o){var Y=200,c=0,z=0,f=1e9,$=d.vo.Er;for(var E=0;
E<Y+1;E++)for(var b=0;b<Y+1;b++){var q=b/Y,O=E/Y;d.vo.ato(K,q,O,$);var j=$[8]-o.x,A=$[9]-o.y,R=j*j+A*A;
if(R<f){f=R;c=q;z=O}}return[c,z]};d.vo.i=function(K,o,Y){var c=Y.x,z=Y.y,f=1/Y.m,$=1/Y.e,E=d.vo.Er;for(var b=0;
b<o.length;b+=2){var q=(o[b]-c)*f,O=(o[b+1]-z)*$;d.vo.ato(K,q,O,E);o[b]=E[8];o[b+1]=E[9]}};d.vo.ar0=function(K,o,Y){var c,z,f,$,E=d.vo.Er;
d.vo.aeo(K,o,Y,E);c=E[8];z=E[9];d.vo.azk(K,o,Y,E);f=E[8];$=E[9];return c*$-z*f};d.vo.PW=function(K,o,Y){var c=0,z=0,f=K[2][0],$=K[2][1];
while(c+2<f.length&&f[c+1]<o)c++;o=(o-f[c])/(f[c+1]-f[c]);while(z+2<$.length&&$[z+1]<Y)z++;Y=(Y-$[z])/($[z+1]-$[z]);
return[c*3,z*3,o,Y]};d.vo.ato=function(K,o,Y,c){var z=d.vo.PW(K,o,Y);d.vo.yV(c,0,z[3]);d.vo.yV(c,4,z[2]);
d.vo.ul(K[3],z[0],z[1],K[0],c)};d.vo.aeo=function(K,o,Y,c){var z=d.vo.PW(K,o,Y);d.vo.yV(c,0,z[3]);d.vo.aCf(c,4,z[2]);
d.vo.ul(K[3],z[0],z[1],K[0],c)};d.vo.azk=function(K,o,Y,c){var z=d.vo.PW(K,o,Y);d.vo.aCf(c,0,z[3]);d.vo.yV(c,4,z[2]);
d.vo.ul(K[3],z[0],z[1],K[0],c)};d.vo.aCf=function(K,y,o){var Y=1-o;K[y]=-3*(Y*Y);K[y+1]=3*(Y*Y)-6*(o*Y);
K[y+2]=6*(o*Y)-3*(o*o);K[y+3]=3*(o*o)};d.vo.yV=function(K,y,o){var Y=1-o;K[y]=Y*(Y*Y);K[y+1]=3*o*(Y*Y);
K[y+2]=3*(o*o)*Y;K[y+3]=o*o*o};d.vo.ac2=function(K,o,Y,c,z){var f=d.vo.PW(K,o,Y),$=f[0],E=f[1],b=f[2],q=f[3],O=K[0],j=Math.floor(b*3),A=Math.floor(q*3),R=d.vo.Er,g=16,Z=0;
d.vo.yV(R,0,q);d.vo.yV(R,4,b);var H=[],i=[],h=[];for(var x=0;x<4;x++){for(var F=0;F<4;F++){var y=x*4+F,X=R[x]*R[4+F];
H.push(X);i.push((E+x)*O+$+F);if((x==A||x==A+1)&&(F==j||F==j+1)){var V=b*3-j;if(F==j)V=1-V;var U=q*3-A;
if(x==A)U=1-U;h[y]=V*U/X}else h[y]=0}}for(var y=0;y<g;y++)Z+=H[y]*h[y];for(var y=0;y<g;y++)h[y]/=Z;for(var y=0;
y<g;y++){var X=H[y],T=i[y];K[3][T*2]+=h[y]*c;K[3][T*2+1]+=h[y]*z}};d.vo.Cy=function(K){var o=K[0],Y=K[1],c=K[2],z=K[3],f=z.slice(0);
for(var $=0;$<Y;$++)for(var E=0;E<o;E++){z[(E*Y+$)*2]=f[($*o+E)*2];z[(E*Y+$)*2+1]=f[($*o+E)*2+1]}K[0]=Y;
K[1]=o;K[2]=[c[1],c[0]]};d.vo.split=function(K,o,Y){if(o==1)d.vo.Cy(K);var c=K[0],z=K[1],f=K[2][0],$=K[3],E=0;
while(f[E+1]&&f[E+1]<Y)E++;var b=(Y-f[E])/(f[E+1]-f[E]),q=1-b;for(var O=0;O<z;O++){var y=(O*(c+3)+E*3)*2,j=q*$[y]+b*$[y+2],A=q*$[y+1]+b*$[y+3],R=q*$[y+2]+b*$[y+4],g=q*$[y+3]+b*$[y+5],H=q*$[y+4]+b*$[y+6],i=q*$[y+5]+b*$[y+7],h=q*j+b*R,x=q*A+b*g,F=q*R+b*H,X=q*g+b*i,V=q*h+b*F,U=q*x+b*X;
$.splice(y+2,4,j,A,h,x,V,U,F,X,H,i)}f.push(Y);f.sort();K[0]+=3;if(o==1)d.vo.Cy(K)};d.vo.ul=function(K,o,Y,c,z){var f=0,$=0,E=0,b=z[0],q=z[1],O=z[2],j=z[3],A=z[4],R=z[5],g=z[6],H=z[7],y=(Y*c+o)*2;
E=b*A;f+=K[y+0]*E;$+=K[y+1]*E;E=b*R;f+=K[y+2]*E;$+=K[y+3]*E;E=b*g;f+=K[y+4]*E;$+=K[y+5]*E;E=b*H;f+=K[y+6]*E;
$+=K[y+7]*E;y+=c+c;E=q*A;f+=K[y+0]*E;$+=K[y+1]*E;E=q*R;f+=K[y+2]*E;$+=K[y+3]*E;E=q*g;f+=K[y+4]*E;$+=K[y+5]*E;
E=q*H;f+=K[y+6]*E;$+=K[y+7]*E;y+=c+c;E=O*A;f+=K[y+0]*E;$+=K[y+1]*E;E=O*R;f+=K[y+2]*E;$+=K[y+3]*E;E=O*g;
f+=K[y+4]*E;$+=K[y+5]*E;E=O*H;f+=K[y+6]*E;$+=K[y+7]*E;y+=c+c;E=j*A;f+=K[y+0]*E;$+=K[y+1]*E;E=j*R;f+=K[y+2]*E;
$+=K[y+3]*E;E=j*g;f+=K[y+4]*E;$+=K[y+5]*E;E=j*H;f+=K[y+6]*E;$+=K[y+7]*E;y+=c+c;z[8]=f;z[9]=$};d.j8={};
d.j8.a2b=function(K,o,Y){var c=Date.now(),z=new ArrayBuffer(o*Y*16),f=d.j8.afD(K,o,Y,z),$=d.j8.a9I(o,Y,z);
return{f8:$,HY:f}};d.j8.aok=function(K,o,Y){var c=Math.round(K.length/8),z=new Uint32Array(c),f=new Uint8Array(c),$=new Uint32Array(c);
d.nz(z,4294967295,0);z[Y]=0;var E=new hN(c);E.push(Y,z[Y]);var b={f8:K,HY:o,IQ:z,xj:f,ms:$,Gi:E,agK:Y};
return b};d.j8.Lh=function(K,o){var Y=K.f8,c=K.HY,z=K.IQ,f=K.xj,$=K.ms,E=K.Gi;while(!E.xf()&&(o==null||f[o]==0)){var b=E.pop();
f[b]=1;for(var y=0;y<8;y++){var q=Y[8*b+y],O=b+q;if(q==0||f[O])continue;var j=z[b]+c[8*b+y];if(E.contains(O)&&j<z[O])E.remove(O,z[O]);
if(!E.contains(O)){z[O]=j;$[O]=b;E.push(O,z[O])}}}};function hN(K){this.zx=new Uint32Array(K);this.list=[];
this.TE=0;this.sG=4294967295}hN.prototype.xf=function(){return this.TE==0};hN.prototype.push=function(K,o){var Y=this.list;
if(Y[o]==null)Y[o]=[];Y[o].push(K);this.TE++;this.zx[K]=Y[o].length-1+1;this.sG=Math.min(this.sG,o)};
hN.prototype.pop=function(){this.TE--;var K=this.list,o=this.sG,Y=K[o].pop();if(K[o].length==0)K[o]=null;
this.akf();this.zx[Y]=0;return Y};hN.prototype.contains=function(K){return this.zx[K]!=0};hN.prototype.remove=function(K,o){this.TE--;
var Y=this.list,y=this.zx[K]-1;if(y==Y[o].length-1)Y[o].pop();else{var c=Y[o].pop();Y[o][y]=c;this.zx[c]=y+1}if(Y[o].length==0)Y[o]=null;
this.zx[K]=0;this.akf()};hN.prototype.akf=function(){if(this.TE==0){this.sG=4294967295;return}var K=this.sG,o=this.list;
while(o[K]==null)K++;this.sG=K};d.j8.ahZ=function(K,o,Y,c){var z=new Int16Array(c);for(var f=0;f<Y;f++)for(var $=0;
$<o;$++){var y=f*o+$,E=0;if(1<$&&$<o-2&&1<f&&f<Y-2){E+=K[y-o-o];E+=K[y-o-1]+2*K[y-o]+K[y-o+1];E+=K[y-2]+2*K[y-1]-16*K[y]+2*K[y+1]+K[y+2];
E+=K[y+o-1]+2*K[y+o]+K[y+o+1];E+=K[y+o+o]}else E=-16*K[y];z[y]=E}return z};d.j8.avy=function(K,o,Y,c){if(c==null)c=128;
var z=new Uint8Array(o*Y);for(var f=1;f<Y-1;f++)for(var $=1;$<o-1;$++){var y=f*o+$;z[y]=d.j8.anf(K[y],K[y-1],K[y+1],K[y-o],K[y+o],c)}return z};
d.j8.anf=function(K,o,Y,c,z,f){var $=Math.abs(K);return K*o<0&&$<Math.abs(o)&&Math.abs(o-K)>f||K*Y<0&&$<Math.abs(Y)&&Math.abs(Y-K)>f||K*c<0&&$<Math.abs(c)&&Math.abs(c-K)>f||K*z<0&&$<Math.abs(z)&&Math.abs(z-K)>f?1:0};
d.j8.akX=function(K,o,Y,c){var z=new Float32Array(c),f=0;new Uint32Array(c).fill(0);for(var $=0;$<Y;
$++)for(var E=0;E<o;E++){var b=0,q=0,y=$*o+E,O=y*3;if(0<E&&E<o-1)b=K[y+1]-K[y-1];if(0<$&&$<Y-1)q=K[y+o]-K[y-o];
var j=z[O+2]=Math.sqrt(b*b+q*q);if(j!=0){var A=1/j;z[O]=b*A;z[O+1]=q*A}if(j>f)f=j}var R=o*Y,g=f==0?0:1/f;
for(var y=0;y<R;y++)z[y*3+2]=1-z[y*3+2]*g;return z};d.j8.abQ=function(K,o,Y){return Y[~~((.5+.5*K)*255)]+Y[~~((.5+.5*o)*255)]};
d.j8.afD=function(K,o,Y,c){var z=Date.now(),f=d.j8.ahZ(K,o,Y,c),$=d.j8.avy(f,o,Y),E=d.j8.akX(K,o,Y,c),b=new Float32Array(256);
for(var y=0;y<256;y++)b[y]=Math.acos(-1+2*y/255)*(.95/Math.PI);var q=[-1,0,1,1,1,0,-1,-1],O=[-1,-1,-1,0,1,1,1,0];
for(var y=0;y<8;y++){var j=1/Math.sqrt(q[y]*q[y]+O[y]*O[y]);q[y]*=j;O[y]*=j}var A=[q[0],O[0],q[1],O[1],q[2],O[2],q[3],O[3]],R=[-o-1,-o,-o+1,1],g=new Uint8Array(o*Y*8);
new Uint32Array(g.buffer).fill(4294967295);var H=o*Y;for(var i=1;i<Y-1;i++)for(var h=1;h<o-1;h++){var x=i*o+h,F=1-$[x],X=E[x*3+2],V=E[3*x+1],U=-E[3*x];
for(var Z=0;Z<4;Z++){var T=x+R[Z];d.j8.asw(x,T,Z,g,$,E,F,X,V,U,A,b)}}return g};d.j8.asw=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A=1-z[o],R=(Y&1)==0?1:Math.SQRT1_2,g=f[o*3+2]*R,H=f[3*o+1],i=-f[3*o],h=E*R,x=O[Y+Y],F=O[Y+Y+1],X=b*x+q*F,V=H*x+i*F;
if(X+V<0){X=-X;V=-V}var U=d.j8.abQ(X,V,j);c[(K<<3)+Y]=d.j8.ayE(A,U,g);c[(o<<3)+Y+4]=d.j8.ayE($,U,h)};
d.j8.ayE=function(K,o,Y){return 1+~~(.5+20*(.43*K+.43*o+.14*Y))};d.j8.a9I=function(K,o,Y){var c=new Int16Array(Y),z=c,y=0,f=0;
new Uint32Array(Y).fill(0);for(var $=0;$<o;$++)for(var E=0;E<K;E++){if($>0&&E>0)z[f+0]=-K-1;if($>0)z[f+1]=-K;
if($>0&&E<K-1)z[f+2]=-K+1;if(E<K-1)z[f+3]=1;if($<o-1&&E<K-1)z[f+4]=K+1;if($<o-1)z[f+5]=K;if($<o-1&&E>0)z[f+6]=K-1;
if(E>0)z[f+7]=-1;y++;f+=8}return c};d.f9={};d.f9.Te=function(K){var o=K.slice(0),Y=0;for(var y=0;y<K.length;
y++)Y+=K[y];for(var y=0;y<K.length;y++)o[y]/=Y;return o};d.f9.V2=[d.f9.Te([1,2,1,2,16,2,1,2,1]),d.f9.Te([1,2,1,2,4,2,1,2,1]),d.f9.Te([0,-1,0,-1,8,-1,0,-1,0]),d.f9.Te([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
d.f9.TQ=function(K,o,Y,c,z,f,$,E){if($==null)$=!1;if(E==null)E=!1;var b=Math.floor(Math.sqrt(z.length)),q=b-1>>>1,O=new Uint32Array(K.buffer),o=new Uint8ClampedArray(o.buffer);
for(var y=0;y<c;y++)for(var j=0;j<Y;j++){var A=0,R=0,g=0,H=0;for(var i=0;i<b;i++)for(var h=0;h<b;h++){var x=z[i*b+h];
if(x==0)continue;var F=j-q+h,X=y-q+i;if(F<0)F=0;else if(F>Y-1)F=Y-1;if(X<0)X=0;else if(X>c-1)X=c-1;if(E&&O[X*Y+F]>>>24==0){X=y;
F=j}var V=O[X*Y+F];A+=(V&255)*x;R+=(V>>>8&255)*x;g+=(V>>>16&255)*x;H+=(V>>>24&255)*x}if($){if(A<0)A=-A;
if(R<0)R=-R;if(g<0)g=-g;if(H<0)H=-H}if(E){A=Math.max(0,Math.min(255,A));R=Math.max(0,Math.min(255,R));
g=Math.max(0,Math.min(255,g));H=Math.max(0,Math.min(255,H))}var U=y*Y+j<<2;o[U]=~~(.5+A);o[U+1]=~~(.5+R);
o[U+2]=~~(.5+g);o[U+3]=255-f&o[U+3]|f&~~(.5+H)}};d.f9.auQ=function(K,o,Y,c){var z=K.length,f=new Uint8Array(z);
d.f9.TQ(K,o,Y,c,d.f9.V2[4],0,!0);d.f9.TQ(K,f,Y,c,d.f9.V2[5],0,!0);for(var y=0;y<z;y+=4){var $=o[y],E=o[y+1],b=o[y+2],q=o[y+3],O=f[y],j=f[y+1],A=f[y+2],R=f[y+3];
o[y]=255-Math.max(0,Math.min(255,Math.sqrt($*$+O*O)));o[y+1]=255-Math.max(0,Math.min(255,Math.sqrt(E*E+j*j)));
o[y+2]=255-Math.max(0,Math.min(255,Math.sqrt(b*b+A*A)))}};d.f9.a4W=function(K,o,Y,c){var z=K.length,f=new Uint8Array(z);
d.f9.UP(K,o,Y,c,d.f9.V2[4],!0);d.f9.UP(K,f,Y,c,d.f9.V2[5],!0);for(var y=0;y<z;y++){var $=o[y],E=f[y];
o[y]=255-Math.max(0,Math.min(255,Math.sqrt($*$+E*E)))}};d.f9.UP=function(K,o,Y,c,z,f){o=new Uint8ClampedArray(o.buffer);
var $=[-Y-1,-Y,-Y+1,-1,0,1,Y-1,Y,Y+1],E=c-1,b=Y-1;for(var y=1;y<E;y++)for(var q=1;q<b;q++){var O=y*Y+q,j=d.f9.ds(K,O,Y,z);
if(f){if(j<0)j=-j}o[O]=~~(j+.5)}};d.f9.ds=function(K,o,Y,c){return K[o-Y-1]*c[0]+K[o-Y]*c[1]+K[o-Y+1]*c[2]+K[o-1]*c[3]+K[o]*c[4]+K[o+1]*c[5]+K[o+Y-1]*c[6]+K[o+Y]*c[7]+K[o+Y+1]*c[8]};
d.f9.azB=function(K,o,Y,c,z){var f=[-Y-1,-Y,-Y+1,-1,0,1,Y-1,Y,Y+1],$=c-1,E=Y-1;for(var y=1;y<$;y++)for(var b=1;
b<E;b++){var q=y*Y+b;o[q]=d.f9.a5T(K,q,Y,z)}};d.f9.a5T=function(K,o,Y,c){return K[o-Y-1]*c[0]+K[o-Y]*c[1]+K[o-Y+1]*c[2]+K[o-1]*c[3]+K[o]*c[4]+K[o+1]*c[5]+K[o+Y-1]*c[6]+K[o+Y]*c[7]+K[o+Y+1]*c[8]};
d.Pl={};d.Pl.Rn=function(){function K($,E,b,q,O,j){if(O==0){E.set($);return}var A=d.R(b*q),R=d.R(b*q);
if(d.X1($)){o($,E,b,q,O,j);d.JI($,A,3);d.Pl.atX(A,R,b,q,O,j);d.cb(R,E,3)}else{for(var y=0;y<3;y++){d.JI($,A,y);
d.Pl.atX(A,R,b,q,O,j);d.cb(R,E,y)}}}function o($,E,b,q,O,j){var A=0,R=new ArrayBuffer(512*4*3),g=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],H=1+2*Math.round(Math.sqrt(O)),i=H>>>1,h=new Array(H),x=new Array(H);
for(var y=0;y<H;y++){var R=new ArrayBuffer(512*4*3);h[y]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
x[y]=h[y][0]}var F=[d.Pl.cW,d.Pl.Ey][j],X=F[0],V=F[1],U=g[0];for(var Z=0;Z<b;Z++)if(Z<O||Z>b-O-H-1){U.fill(0);
var T=Math.max(Z-O,0),v=Math.min(b,Z+O+1),P=v-T;for(var p=0;p<O;p++)c(U,$,p*b+T,p*b+v,1);for(var p=0;
p<q;p++){var a=p-O-1,D=p+O;if(D<q)c(U,$,D*b+T,D*b+v,1);if(a>=0)c(U,$,a*b+T,a*b+v,-1);var n=p*b+Z<<2;
A=U[300];if(A!=0)for(var y=0;y<3;y++)E[n+y]=X(g[y],$[n+y],A)}}else{for(var y=0;y<H;y++)x[y].fill(0);
var T=Z-O+i,v=Z+O+1+i;for(var p=0;p<O;p++)Y(x,$,p*b+T,p*b+v,1,i);for(var p=0;p<q;p++){var a=p-O-1,D=p+O;
if(a>=0)Y(x,$,a*b+T,a*b+v,-1,i);if(D<q)Y(x,$,D*b+T,D*b+v,1,i);var N=h[i];A=N[0][300];for(var y=0;y<i;
y++){var W=i-1-y,G=i+1+y,l=h[W],u=h[G],e=A+l[0][300],M=A+u[0][300],B=p*b+Z+W<<2,s=p*b+Z+G<<2;if(e!=0)for(var t=0;
t<3;t++)E[B+t]=V(N[t],l[t],$[B+t],e);if(M!=0)for(var t=0;t<3;t++)E[s+t]=V(N[t],u[t],$[s+t],M)}var n=p*b+Z+i<<2;
if(A!=0)for(var t=0;t<3;t++)E[n+t]=X(N[t],$[n+t],A)}Z+=H-1}}function Y($,E,b,q,O,j){var A=z,R=b<<2,g=q<<2;
A($[j-1],E,b-1<<2,O);A($[j-1],E,q-1<<2,-O);A($[j+1],E,q<<2,O);A($[j+1],E,b<<2,-O);for(var y=1;y<j;y++){var H=$[j-y-1],i=$[j+y+1];
for(var h=0;h<=y;h++){var x=h<<2;A(H,E,b-1-h<<2,O);A(H,E,q-1-h<<2,-O);A(i,E,q+h<<2,O);A(i,E,b+h<<2,-O)}}c($[j],E,b,q,O)}function c($,E,y,b,q){var O=y<<2,j=b<<2;
while(O<j){z($,E,O,q);O+=4}}function z($,E,b,q){var O=q*E[b+3];$[300]+=O;f($,E[b],0,O);f($,E[b+1],512,O);
f($,E[b+2],1024,O)}function f($,E,b,q){$[b|E]+=q;$[b|256|E>>>4]+=q}return K}();d.Pl.atX=function(){function K(j,A,R,g,H,i){if(H==0){A.set(j);
return}if(H<=200)o(j,A,R,g,H,i);else f(j,A,R,g,H,i)}function o(j,A,R,g,H,i){var h=0,x=new Int32Array(512),F=1+2*Math.round(Math.sqrt(H)),X=F>>>1,V=new Array(F);
for(var y=0;y<F;y++)V[y]=new Int32Array(512);var U=[d.Pl.cW,d.Pl.Ey][i],Z=U[0],T=U[1];for(var v=0;v<R;
v++)if(v<H||v>R-H-F-1){x.fill(0);h=0;var P=Math.max(v-H,0),p=Math.min(R,v+H+1),a=p-P;for(var D=0;D<H;
D++){h+=a;c(x,j,D*R+P,D*R+p,1)}for(var D=0;D<g;D++){var n=D-H-1,N=D+H;if(n>=0){h-=a;c(x,j,n*R+P,n*R+p,-1)}if(N<g){h+=a;
c(x,j,N*R+P,N*R+p,1)}var W=Z(x,j[D*R+v],h);A[D*R+v]=W}}else{for(var y=0;y<F;y++)V[y].fill(0);h=0;var P=v-H+X,p=v+H+1+X,a=p-P;
for(var D=0;D<H;D++){h+=a;Y(V,j,D*R+P,D*R+p,1,X)}for(var D=0;D<g;D++){var n=D-H-1,N=D+H;if(n>=0){h-=a;
Y(V,j,n*R+P,n*R+p,-1,X)}if(N<g){h+=a;Y(V,j,N*R+P,N*R+p,1,X)}for(var y=0;y<X;y++){var G=X-1-y,l=X+1+y;
A[D*R+v+G]=T(V[X],V[G],j[D*R+v+G],h);A[D*R+v+l]=T(V[X],V[l],j[D*R+v+l],h)}A[D*R+v+X]=Z(V[X],j[D*R+v+X],h)}v+=F-1}}function Y(j,A,R,g,H,i){var h=z;
h(j[i-1],A[R-1],0,H);h(j[i-1],A[g-1],0,-H);h(j[i+1],A[g],0,H);h(j[i+1],A[R],0,-H);for(var y=1;y<i;y++){var x=j[i-y-1],F=j[i+y+1];
for(var X=0;X<=y;X++){h(x,A[R-1-X],0,H);h(x,A[g-1-X],0,-H);h(F,A[g+X],0,H);h(F,A[R+X],0,-H)}}c(j[i],A,R,g,H)}function c(j,A,y,R,g){while(y<R)z(j,A[y++],0,g)}function z(j,A,R,g){j[R|A]+=g;
j[R|256|A>>>4]+=g}function f(j,A,R,g,H,i){var h=0,x=new Int32Array(512),F=new Int32Array(1*R),X=new Int32Array(512*R),V=Math.min(H,R),U=Math.min(H,g),Z=[d.Pl.cW,d.Pl.Ey][i],T=Z[0];
for(var v=0;v<U;v++)$(X,F,j,R,v,1);for(var v=0;v<g;v++){if(v+H<g)$(X,F,j,R,v+H,1);if(v-H-1>=0)$(X,F,j,R,v-H-1,-1);
x.fill(0);h=0;for(var P=0;P<V;P++){h+=F[P];E(x,X,P)}for(var P=0;P<R;P++){var p=P-H-1,a=P+H;if(p>=0&&F[p]!=0){h-=F[p];
b(x,X,p)}if(a<R&&F[a]!=0){h+=F[a];E(x,X,a)}var D=h==0?0:T(x,j[v*R+P],h);A[v*R+P]=D}}}function $(j,A,R,g,H,i){var y=H*g;
for(var h=0;h<g;h++){z(j,R[y+h],h<<9,i);A[h]+=i}}function E(j,A,R){for(var y=0;y<16;y++){var g=A[R<<9|256|y];
if(g==0)continue;j[256|y]+=g;var H=y<<4,i=R<<9|H;q(j,A,H,i);q(j,A,H+4,i+4);q(j,A,H+8,i+8);q(j,A,H+12,i+12)}}function b(j,A,R){for(var y=0;
y<16;y++){var g=A[R<<9|256|y];if(g==0)continue;j[256|y]-=g;var H=y<<4,i=R<<9|H;O(j,A,H,i);O(j,A,H+4,i+4);
O(j,A,H+8,i+8);O(j,A,H+12,i+12)}}function q(j,A,R,g){j[R]+=A[g];j[R+1]+=A[g+1];j[R+2]+=A[g+2];j[R+3]+=A[g+3]}function O(j,A,R,g){j[R]-=A[g];
j[R+1]-=A[g+1];j[R+2]-=A[g+2];j[R+3]-=A[g+3]}return K}();d.Pl.QH=.5;d.Pl.cW=[function(K,o,Y){var c=~~(.5+d.Pl.QH*Y),z=0,y=256;
while(z+K[y]<c)z+=K[y++];y=y-256<<4;while(z<c)z+=K[y++];return y-1},function(K,o,Y,c){var z=~~(.5+d.Pl.QH*c),f=0,y=256;
while(f+K[y]+o[y]<z){f+=K[y]+o[y];y++}y=y-256<<4;while(f<z){f+=K[y]+o[y];y++}return y-1}];d.Pl.pW=100;
d.Pl.Ey=[function(K,o,Y){var c=d.Pl.pW,z=0,f=0,y=Math.max(0,o-c),$=Math.min(256,o+c+1);while(y<$){var E=K[y];
z+=y*E;f+=E;y++}return f==0?0:z/f},function(K,o,Y,c){var z=d.Pl.pW,f=0,$=0,y=Math.max(0,Y-z),E=Math.min(256,Y+z+1);
while(y<E){var b=K[y]+o[y];f+=y*b;$+=b;y++}return $==0?0:f/$}];d.D={};d.D.yT=function(K){var o=m.OB.lA(K.Trnf),Y=K.Sz.v,c=d.D.P_(o,new hD(0,0,Y.Wdth.v,Y.Hght.v));
return d.D.IU(c)};d.D.P_=function(K,o){var Y=K[0],c=K[1],z=K[2],f=K[3],$=K[6],E=K[7],b=K[4],q=K[5],O=0,j=0,A=1,R=0,g=0,H=1,i=1,h=1;
if(o){O=o.x;j=o.y;A=o.x+o.m;R=o.y;g=o.x;H=o.y+o.e;i=o.x+o.m;h=o.y+o.e}return d.D.agB(K,[O,j,A,R,i,h,g,H])};
d.D.a5l=function(K){function o(z,f){for(var y=0;y<f.length;y+=2)if(!Y(z,f[y],f[y+1]))return!1;return!0}function Y(z,f,$){return z[2*f]==z[2*$]&&z[2*f+1]==z[2*$+1]}var c=0;
if(o(K,[0,1,2,3]))c+=1;if(o(K,[0,3,1,2]))c+=2;return c};d.D.agB=function(K,o){function Y(W,y,G){var D=W[y*2]-W[G*2],n=W[y*2+1]-W[G*2+1];
return Math.sqrt(D*D+n*n)}var c=K[0],z=K[1],f=K[2],$=K[3],E=K[6],b=K[7],q=K[4],O=K[5],j=o[0],A=o[1],R=o[2],g=o[3],H=o[6],i=o[7],h=o[4],x=o[5],F=[[j,A,1,0,0,0,-j*c,-A*c,c],[0,0,0,j,A,1,-j*z,-A*z,z],[R,g,1,0,0,0,-R*f,-g*f,f],[0,0,0,R,g,1,-R*$,-g*$,$],[H,i,1,0,0,0,-H*E,-i*E,E],[0,0,0,H,i,1,-H*b,-i*b,b],[h,x,1,0,0,0,-h*q,-x*q,q],[0,0,0,h,x,1,-h*O,-x*O,O]],X=[0,0,0,0,0,0,0,0],V=d.gr.kA(F,X);
if(V!=0){X=[0,0,0,0,0,0,0,0];var U=d.D.a5l(K),Z=d.D.a5l(o);if(U==Z&&U!=0){var T=U==1,v=T?3:1,P=Y(K,0,v),p=Y(o,0,v),a=p/P,D=K[2*v]-K[0],n=K[2*v+1]-K[1],N=new dF;
N.translate(-c,-z);N.rotate(Math.atan2(n,D)-(T?Math.PI/2:0));if(T)N.scale(1,a);else N.scale(a,1);N.translate(j,A);
N.oD();X=d.D.lK(N)}}return X};d.D.R=function(K,o){if(K==null)K=o=0;return[1,0,K,0,1,o,0,0]};d.D.r7=function(K){return Math.abs(K[6])<1e-10&&Math.abs(K[7])<1e-10};
d.D.IU=function(K){return new dF(K[0],K[3],K[1],K[4],K[2],K[5])};d.D.lK=function(K){return[K.g,K.b0,K.B3,K.J,K.gG,K.Z7,0,0]};
d.D.i=function(K,o){var Y=new Float64Array(2);for(var c=0;c<o.length;c+=2){var z=o[c],f=o[c+1];d.D.Tb(z,f,K,Y);
o[c]=Y[0];o[c+1]=Y[1]}};d.D.Tb=function(K,o,Y,c){var z=1/(Y[6]*K+Y[7]*o+1);c[0]=(Y[0]*K+Y[1]*o+Y[2])*z;
c[1]=(Y[3]*K+Y[4]*o+Y[5])*z};d.D.amX=function(K,o){var Y=new Float64Array(2);d.D.Tb(o.x,o.y,K,Y);return new jc(Y[0],Y[1])};
d.D.Cy=function(K,o,Y,c){K=new Uint32Array(K.buffer);o=new Uint32Array(o.buffer);for(var z=0;z<c;z++){for(var f=0;
f<Y;f++){o[f*c+z]=K[z*Y+f]}}};d.D.D_=function(K,o,Y,c){K=new Uint32Array(K.buffer);o=new Uint32Array(o.buffer);
for(var z=0;z<c;z++){for(var f=0;f<Y;f++){o[z*Y+f]=K[z*Y+Y-1-f]}}};d.D.aup=function(K,o,Y,c){K=new Uint32Array(K.buffer);
o=new Uint32Array(o.buffer);for(var z=0;z<c;z++){for(var f=0;f<Y;f++){o[z*Y+f]=K[(c-1-z)*Y+f]}}};d.D.a0d=function(K){return Math.abs(K[6])<1e-9&&Math.abs(K[7])<1e-9};
d.D.av$=function(K){return Math.abs(K[0])<1e-9&&Math.abs(K[4])<1e-9||Math.abs(K[1])<1e-9&&Math.abs(K[3])<1e-9};
d.D.drawImage=function(K,o,Y,c,z,f,$,E,b){if($==null)$=!1;if(E==null)E=!1;var q=d.D.oD(K),O=!0,j=0;for(var y=0;
y<8;y++){var A=Math.round(K[y]);if(y!=2&&y!=5)j+=Math.abs(A);if(Math.abs(A-K[y])>1e-9)O=!1}var R=d.D.a0d(K),g=d.D.av$(K)&&R,H=g?1:0;
if($||O&&j==Y+c&&R){d.D.azv(q,o,Y,c,z,f,E,R,b);return}var i=f.m,h=f.e,x=new Float64Array(2);z=new Uint32Array(z.buffer);
o=new Uint32Array(o.buffer);for(var F=0;F<h;F++)for(var X=0;X<i;X++){var V=F*i+X,U,Z,T,v,e=0,M=0,B=0,s=0;
z[V]=0;var P=X+f.x+.5,p=F+f.y+.5;U=P;Z=p;T=q;var a=T[0]*U+T[1]*Z+T[2],D=T[3]*U+T[4]*Z+T[5];if(!R){v=1/(T[6]*U+T[7]*Z+1);
a*=v;D*=v}var n=a*Y,N=D*c,W=n<-1||n>Y+1||N<-1||N>c+1;if(E){n=Math.max(.001,Math.min(Y-1,n));N=Math.max(.001,Math.min(c-1,N))}else if(W)continue;
var G=d.D.az5(K,Y,c,P,p,a,D),l=Math.round(G*2.3);if(G<1.1){d.D.u2(n,N,o,Y,c,z,V,H);continue}if(!E&&(n<.6||n>Y-.6||N<.6||N>c-.6)){l=Math.max(l,5)}if(E&&W)l=1;
var u=1/l,t=f.x+X,J=f.y+F;T=q;for(var y=0;y<l;y++)for(var L=0;L<l;L++){U=t+(y+.5)*u;Z=J+(L+.5)*u;var n=T[0]*U+T[1]*Z+T[2],N=T[3]*U+T[4]*Z+T[5];
if(!R){v=1/(T[6]*U+T[7]*Z+1);n*=v;N*=v}if(E){n=Math.max(.001,Math.min(.999,n));N=Math.max(.001,Math.min(.999,N))}else if(n<0||n>=1||N<0||N>=1)continue;
n=Math.floor(n*Y);N=Math.floor(N*c);var k=N*Y+n,C=o[k],r=C>>>24;e+=(C&255)*r;M+=(C>>>8&255)*r;B+=(C>>>16&255)*r;
s+=r}if(s!=0){var Q=1/s;e=~~(e*Q+.5);M=~~(M*Q+.5);B=~~(B*Q+.5);s=~~(s*u*u+.5);z[V]=s<<24|B<<16|M<<8|e}}};
d.D.az5=function(K,o,Y,c,z,f,$){var E=d.D.a4V(K,c,z,f+1/o,$),b=d.D.a4V(K,c,z,f,$+1/Y);return 1/Math.sqrt(Math.max(E,b))};
d.D.a4V=function(K,o,Y,c,z){var f=1/(K[6]*c+K[7]*z+1),$=(K[0]*c+K[1]*z+K[2])*f-o,E=(K[3]*c+K[4]*z+K[5])*f-Y;
return $*$+E*E};d.D.azv=function(K,o,Y,c,z,f,$,E,b){if(E&&!$&&f.Z()>4e6&&b){d.D.ayf(K,o,Y,c,z,f,$,E,b);
return}var q=f.x+f.m,O=f.y+f.e,j=0,A=new Uint32Array(z.buffer),R=new Uint32Array(o.buffer),g=K[0]*Y,H=K[1]*Y,i=K[2]*Y,h=K[3]*c,x=K[4]*c,F=K[5]*c,X=K[6],V=K[7];
if(E&&!$)for(var U=f.y+.5;U<O;U++)for(var Z=f.x+.5;Z<q;Z++){var T=g*Z+H*U+i,v=h*Z+x*U+F;if(0<T&&T<Y&&0<v&&v<c){var P=~~v*Y+~~T;
A[j]=R[P]}else A[j]=0;j++}else for(var U=f.y+.5;U<O;U++)for(var Z=f.x+.5;Z<q;Z++){var p=1/(X*Z+V*U+1),T=(g*Z+H*U+i)*p,v=(h*Z+x*U+F)*p;
if($){T=Math.max(.001,Math.min(Y-1,T));v=Math.max(.001,Math.min(c-1,v))}if(0<T&&T<Y&&0<v&&v<c){var P=Math.floor(v)*Y+Math.floor(T);
A[j]=R[P]}else A[j]=0;j++}};d.D.ayf=function(K,o,Y,c,z,f,$,E,b){var q=new Uint32Array(z.buffer),O=new Uint32Array(o.buffer),V=0;
if(b&&(f.m&3)!=0)throw"e";var j=K[0]*Y,A=K[1]*Y,R=K[2]*Y,g=K[3]*c,H=K[4]*c,i=K[5]*c,h=K[6],x=K[7],F=f.m,X=f.e,U=f.x+.5,Z=f.y+.5,T=(F>>>2<<2)-1e-9,v=-.1+(X>>>1<<1)-1e-9,P=~~Y,p=j==0?0:1/j,a=g==0?0:1/g;
for(var D=0;D<X;D++){var n=U*j+A*(D+Z)+R,N=U*g+H*(D+Z)+i,W=0,G=F;if(j==0){}else if(p>0){W=Math.max(W,-n*p);
G=Math.min(G,(Y-n)*p)}else{G=Math.min(G,-n*p);W=Math.max(W,(Y-n)*p)}if(g==0){}else if(a>0){W=Math.max(W,-N*a);
G=Math.min(G,(c-N)*a)}else{G=Math.min(G,-N*a);W=Math.max(W,(c-N)*a)}if(G<0)G=0;if(W>G)W=G;W=~~Math.ceil(W);
G=~~G;V=~~(D*F);q.fill(0,V,V+W);V+=W;for(var l=W;l<G;l+=4){var u=j*l+n,e=g*l+N,M=~~e*P+~~u,B=O[M];q[V]=B;
q[V+1]=B;q[V+2]=B;q[V+3]=B;V+=4}q.fill(0,V,V+F-G)}};d.D.oD=function(K){var o=K[4]-K[5]*K[7],Y=K[2]*K[7]-K[1],c=K[1]*K[5]-K[2]*K[4],z=K[5]*K[6]-K[3],f=K[0]-K[2]*K[6],$=K[3]*K[2]-K[0]*K[5],E=K[3]*K[7]-K[4]*K[6],b=K[1]*K[6]-K[0]*K[7],q=1/(K[0]*K[4]-K[1]*K[3]);
return[o*q,Y*q,c*q,z*q,f*q,$*q,E*q,b*q]};d.D.mL=function(K,o){var Y=K[0],c=K[1],z=K[2],f=K[3],$=K[4],E=K[5],b=K[6],q=K[7],O=o[0],j=o[1],A=o[2],R=o[3],g=o[4],H=o[5],i=o[6],h=o[7],x=[Y*O+c*R+z*i,Y*j+c*g+z*h,Y*A+c*H+z,f*O+$*R+E*i,f*j+$*g+E*h,f*A+$*H+E,b*O+q*R+i,b*j+q*g+h],F=1/(b*A+q*H+1);
for(var y=0;y<8;y++)x[y]*=F;return x};d.D.u2=function(K,o,Y,c,z,f,$,E){var b=K,q=o,A=0,R=0,g=0,H=0;K-=.499999;
o-=.499999;var O=Math.floor(K),j=Math.floor(o);if(E==0){var y=j*c+O,i=O>=0&&O<c,h=O+1>=0&&O+1<c,x=j>=0&&j<z,F=j+1>=0&&j+1<z;
if(i&&x)A=Y[y];if(h&&x)R=Y[y+1];if(i&&F)g=Y[y+c];if(h&&F)H=Y[y+c+1]}else if(E==1){var X=O<0?0:O>c-1?c-1:O,V=O<-1?0:O>c-2?c-1:O+1,U=j<0?0:j>z-1?z-1:j,Z=j<-1?0:j>z-2?z-1:j+1;
A=Y[U*c+X];R=Y[U*c+V];g=Y[Z*c+X];H=Y[Z*c+V]}else{var X=(O+50*c)%c,V=(O+50*c)%c,U=(j+50*z)%z,Z=(j+50*z)%z;
A=Y[U*c+X];R=Y[U*c+V];g=Y[Z*c+X];H=Y[Z*c+V]}var T=K-O,v=o-j,P=(1-v)*(1-T)*(A>>>24),p=(1-v)*T*(R>>>24),a=v*(1-T)*(g>>>24),D=v*T*(H>>>24),n=P+p+a+D,N=P*(A&255)+p*(R&255)+a*(g&255)+D*(H&255),W=P*(A>>>8&255)+p*(R>>>8&255)+a*(g>>>8&255)+D*(H>>>8&255),G=P*(A>>>16&255)+p*(R>>>16&255)+a*(g>>>16&255)+D*(H>>>16&255);
if(n==0)f[$]=0;else{var l=1/n;N=~~(N*l+.5);W=~~(W*l+.5);G=~~(G*l+.5);n=~~(n+.5);f[$]=n<<24|G<<16|W<<8|N}};
d.D.a4K=function(K,o,Y,c,z,f){var $=K-.499999,E=o-.499999,b=~~$,q=~~E,O=$-b,j=E-q,A=(1-j)*(1-O),R=(1-j)*O,g=j*(1-O),H=j*O,i=q*c+b<<2,h=(q+1)*c+b<<2,x=A*Y[i]+R*Y[i+4]+g*Y[h]+H*Y[h+4],F=A*Y[i+1]+R*Y[i+5]+g*Y[h+1]+H*Y[h+5],X=A*Y[i+2]+R*Y[i+6]+g*Y[h+2]+H*Y[h+6],V=A*Y[i+3]+R*Y[i+7]+g*Y[h+3]+H*Y[h+7];
f[0]=x;f[1]=F;f[2]=X;f[3]=V};d.D.hD=function(K,o,Y,c,z){K-=.499999;o-=.499999;var f=Math.floor(K),$=Math.floor(o),E=K-f,b=o-$,q=(1-b)*(1-E),O=(1-b)*E,j=b*(1-E),A=b*E,R=(f+50*c)%c,g=(f+1+50*c)%c,H=($+50*z)%z,i=($+1+50*z)%z,h=Y[H*c+R],x=Y[H*c+g],F=Y[i*c+R],X=Y[i*c+g];
if(h==null||X==null)throw"e";return q*h+O*x+j*F+A*X};d.D.as$=function(K,o,Y,c,z){K-=.499999;o-=.499999;
var f=Math.floor(K),$=Math.floor(o),E=K-f,b=o-$,q=(1-b)*(1-E),O=(1-b)*E,j=b*(1-E),A=b*E,R=0,g=$*c+f,H=g+c;
if(0<=$&&$<z&&0<=f&&f<c)R+=q*Y[g];if(0<=$&&$<z&&0<=f+1&&f+1<c)R+=O*Y[g+1];if(0<=$+1&&$+1<z&&0<=f&&f<c)R+=j*Y[H];
if(0<=$+1&&$+1<z&&0<=f+1&&f+1<c)R+=A*Y[H+1];return R};d.D.a6y=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A=new Uint32Array(K.buffer),R=new Uint32Array(c.buffer),g=(1+2*q)/z,H=[],i=[];
for(var h=0;h<z;h++){var x=-.25+q-h*g;H.push(Math.cos(2*Math.PI*x)*j/O);H.push(Math.sin(2*Math.PI*x)/O)}$*=o;
E*=Y;for(var F=0;F<f;F++){var X=Math.pow(F/f,b)*f;for(var h=0;h<z;h++){var V=$+H[h<<1]*X,U=E+H[(h<<1)+1]*X,Z=~~(.5+(V<0?0:V>o-1?o-1:V)),T=~~(.5+(U<0?0:U>Y-1?Y-1:U));
R[F*z+h]=A[T*o+Z]}}};d.D.awX=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A=new Uint32Array(K.buffer),R=new Uint32Array(c.buffer),g=1/j,H=[],i=Y*4,h=1/i;
for(var x=0;x<i+10;x++)H.push(Math.pow(x*h,1/b)*Y*O);$*=z;E*=f;for(var x=0;x<f;x++)for(var F=0;F<z;F++){var X=g*(F-$),V=x-E,U=1.75-Math.atan2(V,X)*(1/(2*Math.PI));
U=U-~~U;U=(U+q)*(1/(1+2*q));var Z=Math.sqrt(X*X+V*V);Z=H[~~(Z*4)];d.D.u2(U*o+.5,Z+.5,A,o,Y,R,x*z+F,1)}};
d.D.SS=function(K,o,Y,c,z){var f=z[0],$=z[1];for(var E=0;E<$;E++)for(var b=0;b<f;b++){var q=z[2]*b+z[3]*E+z[4],O=z[5]*b+z[6]*E+z[7],j=E*f+b<<2,A=O*o+q<<2;
c[j]=K[A+0];c[j+1]=K[A+1];c[j+2]=K[A+2];c[j+3]=K[A+3]}};d.H={ff:function(K,o){var Y=~~(.499+K*o);return Y<0?0:Y>o?o:Y},a3s:function(K,o,Y,c,z,f,$,E){var b=Y[0],q=Y[1],O=Y[2],j=Y[3],A=c.m,R=c.e,g=new Float64Array(A*4+8),H=new Float64Array(A*4+8);
for(var i=0,y=0;i<R;i++){var h=g;g=H;H=h;H.fill(0);for(var x=0;x<A;x++,y++){var F=x+z,X=i+f,V=b*F+q*X,U=O*F+j*X,Z=0,P=0;
if(E==0)Z=V+.5;else if(E==1)Z=2*Math.sqrt(V*V+U*U);else if(E==2)Z=(Math.PI+Math.atan2(-U,-V))/(2*Math.PI);
else if(E==3)Z=Math.abs(V*2);else if(E==4)Z=2*(Math.abs(V)+Math.abs(U));var T=d.H.ff(Z,$)*4,v=x*4;for(var p=0;
p<4;p++){var a=Math.max(0,Math.min(254.999,o[T+p]+g[v+4+p])),D=Math.floor(a);if(Math.random()<a-D)D++;
var n=a-D;g[v+8+p]=n*(7/16);H[v+0+p]=n*(3/16);H[v+4+p]=n*(5/16);H[v+8+p]=n*(1/16);P|=D<<p*8}K[y]=P}}},DM:[function(K,o,Y,c,z,f,$){var E=Y[0],b=Y[1],q=Y[2],O=Y[3],j=c.m,A=c.e;
for(var R=0,y=0;R<A;R++)for(var g=0;g<j;g++,y++){var H=g+z,i=R+f,h=E*H+b*i,x=q*H+O*i,F=h+.5;K[y]=o[d.H.ff(F,$)]}},function(K,o,Y,c,z,f,$){var E=Y[0],b=Y[1],q=Y[2],O=Y[3],j=c.m,A=c.e;
for(var R=0,y=0;R<A;R++)for(var g=0;g<j;g++,y++){var H=g+z,i=R+f,h=E*H+b*i,x=q*H+O*i,F=2*Math.sqrt(h*h+x*x);
K[y]=o[d.H.ff(F,$)]}},function(K,o,Y,c,z,f,$){var E=Y[0],b=Y[1],q=Y[2],O=Y[3],j=c.m,A=c.e;for(var R=0,y=0;
R<A;R++)for(var g=0;g<j;g++,y++){var H=g+z,i=R+f,h=E*H+b*i,x=q*H+O*i,F=(Math.PI+Math.atan2(-x,-h))/(2*Math.PI);
K[y]=o[d.H.ff(F,$)]}},function(K,o,Y,c,z,f,$){var E=Y[0],b=Y[1],q=Y[2],O=Y[3],j=c.m,A=c.e;for(var R=0,y=0;
R<A;R++)for(var g=0;g<j;g++,y++){var H=g+z,i=R+f,h=E*H+b*i,x=q*H+O*i,F=Math.abs(h*2);K[y]=o[d.H.ff(F,$)]}},function(K,o,Y,c,z,f,$){var E=Y[0],b=Y[1],q=Y[2],O=Y[3],j=c.m,A=c.e;
for(var R=0,y=0;R<A;R++)for(var g=0;g<j;g++,y++){var H=g+z,i=R+f,h=E*H+b*i,x=q*H+O*i,F=2*(Math.abs(h)+Math.abs(x));
K[y]=o[d.H.ff(F,$)]}}]};d.H.acU=function(K,o){return K+.5};d.H.adZ=function(K,o){return 2*Math.sqrt(K*K+o*o)};
d.H.an4=function(K,o){return(Math.PI+Math.atan2(-o,-K))/(2*Math.PI)};d.H.a8H=function(K,o){return Math.abs(K*2)};
d.H.au8=function(K,o){return 2*(Math.abs(K)+Math.abs(o))};d.H.EI=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A=K.Clrs,R=new Uint32Array(o.buffer),g=1023,H=A?d.H.JE(K,b,q):null;
if(j&&A){var i=d.H.a70(K,H,g+1,$);d.H.a3s(R,i,c,Y,Y.x-z,Y.y-f,g,E)}else{var h=A?d.H.aBt(K,H,g+1,$):d.H.arj(K,g+1,$);
if(E<5){d.H.DM[E](R,h,c,Y,Y.x-z,Y.y-f,g)}else{var x=new Uint8Array(h.buffer),F=Y.m,X=Y.e,V=O.OS-O.g6,U=1/V,Z=O.jP.m-Y.m>>1,T=O.jP.e-Y.e>>1,v=O.jP.m,P=-.6*U,p=(-.6+.4)*U,a=(-.6+2*.4)*U,D=(-.6+3*.4)*U;
for(var n=0,y=0;n<X;n++)for(var N=0;N<F;N++,y+=4){var W=0,G=0,l=0,u=0,e=(n+T)*v+N+Z,M=(O.EB[e]-O.g6)*U,B=0;
if(M<=0||M>=1){B=(M<=0?0:g)<<2;o[y]=x[B];o[y+1]=x[B+1];o[y+2]=x[B+2];o[y+3]=x[B+3];continue}B=Math.max(0,Math.min(g-1,Math.round((M+P)*g)))<<2;
G+=x[B];l+=x[B+1];u+=x[B+2];W+=x[B+3];B=Math.max(0,Math.min(g-1,Math.round((M+p)*g)))<<2;G+=x[B];l+=x[B+1];
u+=x[B+2];W+=x[B+3];B=Math.max(0,Math.min(g-1,Math.round((M+a)*g)))<<2;G+=x[B];l+=x[B+1];u+=x[B+2];W+=x[B+3];
B=Math.max(0,Math.min(g-1,Math.round((M+D)*g)))<<2;G+=x[B];l+=x[B+1];u+=x[B+2];W+=x[B+3];o[y]=G>>>2;
o[y+1]=l>>>2;o[y+2]=u>>>2;o[y+3]=W>>>2}}}};d.H.JE=function(K,o,Y){var c=[K.Clrs.v,K.Trns.v],z=[[],[]],f=255;
for(var $=0;$<2;$++)for(var y=0;y<c[$].length;y++){var E,b=c[$][y].v;if($==0){var q=b.Type.v.Clry;if(q=="FrgC")E={o:o>>16&255,A:o>>8&255,J:o&255};
else if(q=="BckC")E={o:Y>>16&255,A:Y>>8&255,J:Y&255};else E=d.H.CK(b.Clr.v)}else{E=b.Opct.v.val*(255/100);
if(E<f)f=E}z[$].push([E,b.Lctn.v/4096,b.Mdpn.v/100])}z.push(f>254);return z};d.H.CK=function(K){var o,Y=K.classID;
if(Y=="RGBC"){if(K.Rd)o={o:K.Rd.v,A:K.Grn.v,J:K.Bl.v};else o={o:K.redFloat.v*255,A:K.greenFloat.v*255,J:K.blueFloat.v*255}}else if(Y=="HSBC"){o=d.xg(K.H.v.val/360,K.Strt.v/100,K.Brgh.v/100);
o.o*=255;o.A*=255;o.J*=255}else if(Y=="CMYC"){var c=100-K.Cyn.v,z=100-K.Mgnt.v,f=100-K.Ylw.v,$=100-K.Blck.v,E=255*c*$*1e-4,b=255*(.2*c+.8*z)*$*1e-4,q=255*(.2*z+.8*f)*$*1e-4;
o={o:E,A:b,J:q}}else if(Y=="Grsc")o={o:255-K.Gry.v,A:255-K.Gry.v,J:255-K.Gry.v};else if(Y=="LbCl"){o=d.ui(K.Lmnc.v,K.A.v,K.B.v)}else if(Y=="BkCl")o={o:0,A:0,J:0};
else console.log(K);if(isNaN(o.o))o.o=o.A=o.J=0;return o};d.H.arj=function(K,o,Y){var c=new Uint32Array(o),z=new Uint8Array(c.buffer);
c.fill(4278190080);var f=[],$=[],E=K.RndS.v,b=K.Smth.v/4096;for(var y=0;y<4;y++){f[y]=~~(K.Mnm.v[y].v*255/100);
$[y]=~~(K.Mxm.v[y].v*255/100)}var q=d.R(o*4),O=d.R(o);for(var j=0;j<3;j++){d.X.a8K(null,o,1,q,[1+Math.round(b*b*b*60),22,E*(2+j)]);
d.JI(q,O,0);d.cb(O,z,j);var A=f[j],R=$[j];for(var y=0;y<o;y++)z[4*y+j]=Math.max(A,Math.min(R,z[4*y+j]))}if(Y)for(var y=0;
y<o/2;y++){var g=c[y];c[y]=c[o-1-y];c[o-1-y]=g}return c};d.H.eD=function(K){return{classID:"RGBC",Rd:{t:"doub",v:K.o},Grn:{t:"doub",v:K.A},Bl:{t:"doub",v:K.J}}};
d.H.a70=function(K,o,Y,c){var z=[],f=1/(Y-0);for(var y=0;y<Y;y++){var $=y*4,E=d.H.gD(K,o,(c?Y-1-y:y)*f);
z[$]=E[0];z[$+1]=E[1];z[$+2]=E[2];z[$+3]=E[3]}return z};d.H.aBt=function(K,o,Y,c){var z=new Uint32Array(Y),f=1/(Y-0);
for(var y=0;y<Y;y++)z[y]=d.H.Ss(K,o,(c?Y-1-y:y)*f);return z};d.H.gD=function(K,o,Y){var c=K.Intr.v*(1/4096),z=o[0],f=o[1],$=z.length-1,E=f.length-1,y=-1,b=0,q=0,O=0,j=0;
if(o[2])b=255;else{while(y<E&&f[y+1][1]<=Y)y++;if(y==-1){b=f[0][0]}else if(y==E){b=f[y][0]}else{var A=d.H.a0a(f,y,Y,c);
b=A*f[y][0]+(1-A)*f[y+1][0]}}y=-1;while(y<$&&z[y+1][1]<=Y)y++;if(y==-1){var R=z[0][0];q=R.o;O=R.A;j=R.J}else if(y==$){var R=z[y][0];
q=R.o;O=R.A;j=R.J}else{var g=z[y][0],H=z[y+1][0],i=d.H.a0a(z,y,Y,c);q=i*g.o+(1-i)*H.o;O=i*g.A+(1-i)*H.A;
j=i*g.J+(1-i)*H.J}return[q,O,j,b]};d.H.Ss=function(K,o,Y){var c=d.H.gD(K,o,Y),z=~~(.5+c[0]),f=~~(.5+c[1]),$=~~(.5+c[2]),E=~~(.5+c[3]);
return E<<24|$<<16|f<<8|z};d.H.a0a=function(K,y,o,Y){if(K.length==2)Y*=.5;var c=K[y][1],z=K[y+1][1],f=c+K[y+1][2]*(z-c),$;
if(o<f)$=.5*(o-c)/(f-c);else $=.5+.5*(o-f)/(z-f);$=.5+.5*(Y*Math.cos(Math.PI*$)+(1-Y)*(1-2*$));return $};
d.H.aw8=function(K,o,Y){var c=.5*Y.e,z=c*(K/o),f=Math.sqrt(c*c+z*z),$=.5*Y.m,E=$*(o/K),b=Math.sqrt($*$+E*E);
return Math.min(f,b)};d.H.Qv=function(K,o){var Y=Math.PI*K.Angl.v.val/180,c=K.Scl.v.val/100,z=K.Ofst.v,f=z.Hrzn.v.val/100,$=z.Vrtc.v.val/100,E=Math.cos(Y),b=-Math.sin(Y),q=d.H.aw8(E,b,o),O=q*c,j=o.x+o.m/2+f*o.m,A=o.y+o.e/2+$*o.e;
return[new jc(j,A),new jc(j+E*O,A+b*O)]};d.H.M9=function(K,o,Y,c){var z=o.x-K.x,f=-(o.y-K.y),$=Math.sqrt(z*z+f*f),E=Math.atan2(f,z),b=Math.cos(E),q=-Math.sin(E),O=d.H.aw8(b,q,Y),j=$/O,A=(K.x-Y.x-Y.m/2)/Y.m,R=(K.y-Y.y-Y.e/2)/Y.e;
c.Angl.v.val=180*E/Math.PI;c.Scl.v.val=j*100;var g=c.Ofst.v;g.Hrzn.v.val=A*100;g.Vrtc.v.val=R*100};d.H.zZ=function(K,o){for(var y=0;
y<K.length;y++){var Y=K[y],c=Math.round(Y[0]*4096),z=Y[1],f=Y[2],$=Y[3];if(f==null)f=1;if($==null)$=.5;
var E=d.H.eD({o:z[0]*255,A:z[1]*255,J:z[2]*255});o.Clrs.v[y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round($*100)},Clr:{t:"Objc",v:E},Type:{t:"enum",v:{Clry:"UsrS"}}}};
o.Trns.v[y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round($*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(f*100)}}}}}};
d.H.h8=function(K,o,Y){if(o){K=JSON.parse(JSON.stringify(K));for(var y=0;y<2;y++){var c=K[y==0?"Clrs":"Trns"].v;
for(var z=0;z<c.length;z++)c[z].v.Lctn.v=4096-c[z].v.Lctn.v;c.reverse()}}var f=[],$=1/255,E=K.Clrs.v,b=K.Trns.v,c=E;
if(g1==0||E.length!=b.length){if(g1!=0)console.log("strange gradient");if(Y!=!0)c=E.concat(b);var q=d.H.JE(K,0,0);
for(var y=0;y<c.length;y++){var O=c[y].v,j=O.Lctn.v/4096,A=d.H.gD(K,q,j);f.push([j,[A[0]*$,A[1]*$,A[2]*$],A[3]*$])}f.sort(function(g,H){return g[0]-H[0]});
for(var y=1;y<f.length;y++)if(f[y][0]-f[y-1][0]<.001){f.splice(y,1);y--}}else{for(var y=0;y<c.length;
y++){var O=E[y].v,R=O.Clr.v,j=O.Lctn.v/4096;f.push([j,[R.Rd.v*$,R.Grn.v*$,R.Bl.v*$],b[y].v.Opct.v.val*.01])}}return f};
d.a2U={};d.a2U.md=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A,R,g,H=Date.now(),i=!1,h=$,x=q,F,X,V,U,Z=f*255,T=255-b*255,v=1+z*6,P=1+E*6,p=1+j*4,a=(p-1)/7,D=0,n=255-0,N,W,G,l,u,e,M,B,s,t,J,L,k,C=0,r=1,Q,j9,a4,ar,ez,ja,c3,hW,fO,ei,fV=1+O,aW,ee=d.R(Y*c),hM=d.R(Y*c),ds=d.R(Y*c),cp=d.R(Y*c),eA=255/Z,db=255/(255-T);
for(R=0;R<c;R++){for(A=0;A<Y;A++){var y=R*Y+A,js=y<<2;Q=d.ld(K[js],K[js+1],K[js+2]);cp[y]=Q;if(Q<Z)ee[y]=255-Q*eA;
if(Q>T)hM[y]=255-(255-Q)*db}}if(i)console.log("init",Date.now()-H);H=Date.now();if(z*h>0){ds.set(ee);
d.Gq.vl(ds,ee,new hD(0,0,Y,c),h)}if(E*x>0){ds.set(hM);d.Gq.vl(ds,hM,new hD(0,0,Y,c),x)}if(i)console.log("blur",Date.now()-H);
H=Date.now();var bF=d.R(256),jI=d.R(256);for(var y=0;y<256;y++){var gF=y*(1/255),b6=0;b6=(1-Math.pow(1-gF,v))*255;
bF[y]=Math.max(0,Math.min(255,~~(b6+.5)));b6=Math.pow(gF,P)*255;jI[y]=Math.max(0,Math.min(255,~~(b6+.5)))}var ji=new Uint8ClampedArray(o.buffer),hd=new Float32Array(32768);
for(var y=0;y<32768;y++){aW=Math.sqrt(y)*(1/128);if(fV>1)aW=(1-aW)*(fV-1)+1;else aW=aW*(fV-1)+1;hd[y]=aW}for(R=0;
R<c;R++){for(A=0;A<Y;A++){var y=R*Y+A,js=y<<2,b6=cp[y],eZ=ee[y]*(1/255),hj=hM[y]*(1/255);b6=(1-eZ)*b6+eZ*bF[~~b6];
b6=(1-hj)*b6+hj*jI[~~b6];Q=b6;var eK=K[js],cX=K[js+1],bW=K[js+2];j9=-eK*.168736-cX*.331264+bW*.5;a4=eK*.5-cX*.418688-bW*.081312;
aW=hd[~~(.5+j9*j9+a4*a4)];ar=j9*aW;ja=a4*aW;r=1-Math.min(2-(eZ+hj),1);j9=r*j9+(1-r)*ar;a4=r*a4+(1-r)*ja;
hW=Q+1.402*a4;fO=Q-.34414*j9-.71414*a4;ei=Q+1.772*j9;ji[js]=~~(.5+hW);ji[js+1]=~~(.5+fO);ji[js+2]=~~(.5+ei)}}if(i)console.log("apply masks",Date.now()-H);
H=Date.now()};d.pN={};d.pN.e0=function(K,o,Y,c,z){var f=!1,i=1,W=0,G=0,J=0,fV=0;if(!o.wH(z)){var $=o.Bb(z),E=d.R($.Z()*4);
d.iF(K,o,E,$);K=E;o=$}var b=d.R(o.Z());d.u_(Y,z,b,o);d.round(b);z=z.wu(o);var q=z.m,O=z.e,j=q*3<O?2:1,A=O*3<q?2:1;
if(z.Z()*(j*2+1)*(A*2+1)<o.Z()){var $=new hD(z.x-q*j,z.y-O*j,q*(j*2+1),O*(A*2+1)).wu(o),E=d.R($.Z()*4);
d.iF(K,o,E,$);var R=d.R($.Z());d.u_(b,o,R,$);o=$;K=E;b=R}while((o.m+o.e)/2/i>400)i++;var h=K,x=o,F=b,X=Math.floor(x.m/i),V=Math.floor(x.e/i);
K=d.R(X*V*4);d.scale.c4(h,x.m,x.e,K,X,V,1/i);b=d.R(X*V);d.scale.SS(F,x.m,x.e,b,X,V,1/i);d.round(b,1);
var U=d.sd(b,new hD(0,0,X,V));if(U.xf())return 1;var Z=Math.round((U.m+U.e)/2/15),T=Date.now(),v=d.R(X*V*4);
d.avA(K,v);var P=Int16Array,p=new P(X*V*24),a=new P(64),D=new P(64),n=new P(64),N=new P(64);for(var l=3;
l<V-4;l++)for(var u=3;u<X-4;u++){var e=l*X+u;if(b[e]==255)continue;if(d.pN.aa3(v,b,u,l,X,V,a,D,n)!=0)continue;
d.pN.X5(a,N);p[W]=u;p[W+1]=l;d.pN.kO(a,p,W+4,12);W+=16;d.pN.X5(D,N);d.pN.kO(D,p,W,4);W+=4;d.pN.X5(n,N);
d.pN.kO(n,p,W,4);W+=4;var M=p[W-24+5],B=p[W-24+6];p[W-24+5]=p[W-24+20];p[W-24+6]=p[W-24+16];p[W-24+16]=M;
p[W-24+20]=B;G++}if(G==0)return 2;if(f)console.log(Date.now()-T,"FWHT computed");T=Date.now();var s=[];
d.pN.Ew(0,G-1,s,p,new P(2*24));if(f)console.log(Date.now()-T,"KD tree computed");T=Date.now();var t=new Float32Array(X*V*4);
for(var y=0;y<G;y++){var L=y,k=d.pN.aim(L,p,s,Z);if(k==-1)continue;var C=L*24,r=k*24,Q=p[C],j9=p[C+1],a4=p[r],ar=p[r+1];
J+=d.pN.getError(r,C,p,1e99);var ez=a4-Q,ja=ar-j9;t[(V+ja)*2*X+(X+ez)]+=1}if(f)console.log(Date.now()-T,"NN found");
T=Date.now();var c3=[],hW=1/(2*X);for(var y=0;y<t.length;y++){if(t[y]>0){var l=Math.floor(y*hW),u=y-l*2*X;
c3.push({x:u-X,y:l-V,b:t[y],WS:-1})}}c3.sort(function(hj,eK){return eK.b-hj.b});var fO=new Int32Array(X*V),ei=[];
for(var y=0;y<X*V;y++){if(b[y]==255){fO[y]=fV;ei.push(y%X,Math.floor(y/X));fV++}else if(K[(y<<2)+3]<200){fO[y]=-2}else{fO[y]=-1}}var aW=d.pN.a2N(X,V,c3,fO,ei,fV);
if(aW==null){return 3}var ee=aW.fZ,top=aW.top;ee=d.pN.aeB(ee,K,X,V,top,fO,ei,fV);if(f)console.log(Date.now()-T,"optimal labeling found");
T=Date.now();var $=z.clone();$.VC(1,1);$=$.wu(x);var hM=d.R($.Z()*4),ds=d.R($.Z());d.iF(h,x,hM,$);var cp=x.m,eA=x.e;
for(var l=0;l<eA;l++)for(var u=0;u<cp;u++){if(F[l*cp+u]==0)continue;var db=Math.min(Math.floor(u/i),X-1),js=Math.min(Math.floor(l/i),V-1),bF=fO[js*X+db];
if(bF==-1)continue;var jI=ee[bF],gF=top[jI],b6=u+gF.x*i,ji=l+gF.y*i,hd=ji*cp+b6<<2,eZ=(l-$.y+x.y)*$.m+(u-$.x+x.x)<<2;
hM[eZ]=h[hd];hM[eZ+1]=h[hd+1];hM[eZ+2]=h[hd+2];hM[eZ+3]=h[hd+3];hM[eZ+3]=h[hd+3];ds[eZ>>2]=jI+1}if(f)console.log(Date.now()-T,"copied back");
T=Date.now();d.hR.e0(hM,ds,$,null,1e3);if(f)console.log(Date.now()-T,"poisson smooth");T=Date.now();
d.iF(hM,$,c,z);return 0};d.pN.a7j=function(K,o,Y,c,z,f){return d.pN.m2(K+z.x,o+z.y,Y,c)&&f[(o+z.y)*Y+(K+z.x)]==-1?0:1e9};
d.pN.aeB=function(K,o,Y,c,top,z,f,$){var E=Date.now(),b=[-1,0,0,-1,1,0,0,1],q=1e99,O=[],j=[],A=2*($*2*3+$*2),R=null,g=0,H=0,i=0,h=1e99;
while(!0&&Date.now()<E+12e3){i++;var x=null,F=q;for(var X=0;X<top.length;X++){var V=top[X],U=0,Z=$+2,T=0;
for(var y=0;y<$;y++){var v=f[y*2],P=f[y*2+1],p=top[K[y]],a=d.pN.a7j(v,P,Y,c,V,z),D=K[y]==X?1e9:d.pN.a7j(v,P,Y,c,p,z);
for(var h4=0;h4<4;h4++){if(h4==0&&v==0||h4==1&&P==0||h4==2&&v==Y-1||h4==3&&P==c-1)continue;var n=b[2*h4],N=b[2*h4+1],W=v+n,G=P+N,l=z[G*Y+W];
if(l==-2){}else if(l==-1){a+=3*d.pN.Jp(W+V.x,G+V.y,W,G,Y,c,o,z);a+=2*d.pN.Jp(W+V.x+n,G+V.y+N,W+n,G+N,Y,c,o,z);
D+=3*d.pN.Jp(W+p.x,G+p.y,W,G,Y,c,o,z);D+=2*d.pN.Jp(W+p.x+n,G+p.y+N,W+n,G+N,Y,c,o,z)}else if(h4>1){if(K[y]==K[l]){var u=0;
u+=d.pN.Jp(v+p.x,P+p.y,v+V.x,P+V.y,Y,c,o,z);u+=d.pN.Jp(W+p.x,G+p.y,W+V.x,G+V.y,Y,c,o,z);O[U]=y;O[U+1]=l;
j[U]=u;j[U+1]=u;U+=2}else{var e=top[K[l]],M=Z,B=0,s=0,t=0;Z++;B+=d.pN.Jp(v+p.x,P+p.y,v+V.x,P+V.y,Y,c,o,z);
B+=d.pN.Jp(W+p.x,G+p.y,W+V.x,G+V.y,Y,c,o,z);s+=d.pN.Jp(v+e.x,P+e.y,v+V.x,P+V.y,Y,c,o,z);s+=d.pN.Jp(W+e.x,G+e.y,W+V.x,G+V.y,Y,c,o,z);
t+=d.pN.Jp(v+e.x,P+e.y,v+p.x,P+p.y,Y,c,o,z);t+=d.pN.Jp(W+e.x,G+e.y,W+p.x,G+p.y,Y,c,o,z);O[U]=y;O[U+1]=M;
j[U]=B;j[U+1]=B;U+=2;O[U]=l;O[U+1]=M;j[U]=s;j[U+1]=s;U+=2;O[U]=M;O[U+1]=$+1;j[U]=t;j[U+1]=0;U+=2}}}O[U]=$;
O[U+1]=y;j[U]=a;j[U+1]=0;U+=2;O[U]=y;O[U+1]=$+1;j[U]=D;j[U+1]=0;U+=2;T+=Math.min(a,D)}if(T>F)continue;
var J=d.y_.kA(Z,U,$,$+1,O,j,F);if(J.IQ<F){F=J.IQ;var L=K.slice(0);d.pN.ace(L,U,O,J.mV,X,$);x=L}}if(F*1>=q){break}q=F;
K=x;if((i&3)==0){if(F*1.03>=h)break;h=F}if((i&3)==0){var k=0*top.length;for(var y=0;y<top.length&&top.length>k;
y++){if(K.indexOf(y)!=-1)continue;top.splice(y,1);for(var l=0;l<K.length;l++)if(K[l]>y)K[l]--;y--}}}return K};
d.pN.ace=function(K,o,Y,c,z,f){for(var y=0;y<c.length;y++){var $=c[y]<<1,E=0,b=0;if($<o){E=Y[$];b=Y[$+1]}else{b=Y[$];
E=Y[$+1]}if(E==f&&K[b]!=z)K[b]=z}};d.pN.auU=function(top,K,o,Y,c,z,f,$,E){for(var y=0;y<o.length;y++){var b=o[y],q=!0;
if($!=null&&!(d.pN.m2($+b.x,E+b.y,z,f)&&Y[z*(E+b.y)+$+b.x]==-1))continue;if(b.WS==-1)b.WS=d.pN.a1J(b,Y,c,z,f);
if(b.WS<=0)continue;for(var O=0;O<top.length;O++){var j=top[O],A=b.x-j.x,R=b.y-j.y;if(A*A+R*R<K){q=!1;
break}}if(q)return b}return null};d.pN.a1J=function(K,o,Y,c,z){var f=0;for(var y=0;y<Y.length;y+=2){var $=Y[y]+K.x,E=Y[y+1]+K.y;
if(d.pN.m2($,E,c,z)&&o[c*E+$]==-1)f++}return f/(Y.length>>1)};d.pN.a2N=function(K,o,Y,c,z,f){var top=[];
for(var y=0;y<60;y++){var $=d.pN.auU(top,25,Y,c,z,K,o);if($==null)break;else top.push($)}if(top.length==0)return null;
var E=[];for(var y=0;y<f;y++){var b=z[y*2],q=z[y*2+1],O=-1,j=0;while(!0){j++;var A=Math.random();O=Math.floor(A*.99999*top.length);
var R=top[O],g=b+R.x,H=q+R.y;if(d.pN.m2(g,H,K,o)&&c[H*K+g]==-1)break;if(j>100){var $;$=d.pN.auU(top,0,Y,c,z,K,o,b,q);
if($==null)return null;top.push($);j=0}}E.push(O)}return{top:top,fZ:E}};d.pN.Jp=function(K,o,Y,c,z,f,$,E){if(K==Y&&o==c)return 0;
if(K<0||o<0||K>=z||o>=f||Y<0||c<0||Y>=z||c>=f||E[o*z+K]!=-1||E[c*z+Y]!=-1)return 1e7;var b=o*z+K<<2,q=c*z+Y<<2,O=$[b]-$[q],j=$[b+1]-$[q+1],A=$[b+2]-$[q+2];
return 1+(O*O+j*j+A*A)};d.pN.m2=function(K,o,Y,c){return K>=0&&K<Y&&o>=0&&o<c};d.pN.aim=function(K,o,Y,c){var z=24*K,f=o[z],$=o[z+1],E=c*c,b=0,A=1e9;
while(Y[b]!=99)if(o[z+Y[b]]<Y[b+1])b=Y[b+2];else b=Y[b+3];var q=Y[b+1],O=Y[b+2],j=-1;for(var y=q;y<=O;
y++){var b=y,R=b*24,g=o[R],H=o[R+1];if((g-f)*(g-f)+(H-$)*(H-$)<E)continue;var i=d.pN.getError(R,z,o,A);
if(i<A){A=i;j=b}}return j};d.pN.getError=function(K,o,Y,c){var z=0;for(var f=4;f<24;f+=4){var $=Y[o+f]-Y[K+f],E=Y[o+f+1]-Y[K+f+1],b=Y[o+f+2]-Y[K+f+2],q=Y[o+f+3]-Y[K+f+3];
z+=$*$+E*E+b*b+q*q;if(z>=c)return z+1}return z};d.pN.Ew=function(K,o,Y,c,z){var f=16,A=0;if(o-K<=f){Y.push(99,K,o);
return}d.pN.OA(K,o,c,z);var $=-1,E=-1;for(var y=4;y<24;y++){var b=z[2*y+1]-z[2*y];if(b>E){E=b;$=y}}var q=K+o>>1,O=d.pN.a15(q,K,o,c,$),j=-1;
for(var y=K;y<=o;y++)if(c[24*y+$]==O){if(j==-1)j=y;A=y}if(K+8<j&&j-K>o-A)q=j;else if(A+1<o-8)q=A+1;else if(o-K<64){Y.push(99,K,o);
return}else q=q;var R=Y.length;Y.push($,O,0,0);Y[R+2]=R+4;d.pN.Ew(K,q-1,Y,c,z);Y[R+3]=Y.length;d.pN.Ew(q,o,Y,c,z)};
d.pN.OA=function(K,o,Y,c){for(var y=0;y<48;y+=4){c[y]=3e4;c[y+1]=-3e4;c[y+2]=3e4;c[y+3]=-3e4}for(var y=K;
y<=o;y++){var z=y*24;for(var f=0;f<24;f++){var $=Y[z+f],E=c[f<<1],b=c[(f<<1)+1];if($<E)c[f<<1]=$;if($>b)c[(f<<1)+1]=$}}};
d.pN.A1=function(K,o,Y){var c=0,y=0;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;
y++;c=Y[K+y];Y[K+y]=Y[o+y];Y[o+y]=c;y++};d.pN.lE=function(K,o,Y,c){var z=Y+c>>>1,f=K[24*z+o];while(Y<=c){while(K[24*Y+o]<f)Y++;
while(K[24*c+o]>f)c--;if(Y<=c){if(K[24*Y+o]!=K[24*c+o])d.pN.A1(Y*24,c*24,K);Y++;c--}}return Y};d.pN.a15=function(K,o,Y,c,z){var f=0;
while(o!=Y){f=d.pN.lE(c,z,o,Y);if(K<f)Y=f-1;else o=f}return c[K*24+z]};d.pN.kO=function(K,o,Y,c){for(var y=0;
y<c;y++)o[Y+y]=K[y]};d.pN.aa3=function(K,o,Y,c,z,f,$,E,b){var q=(c-3)*z+(Y-3),O=q<<2;for(var j=0;j<8;
j++){if(o[q]+o[q+1]+o[q+2]+o[q+3]+o[q+4]+o[q+5]+o[q+6]+o[q+7]!=0||K[O+3]<200||K[O+7]<200||K[O+11]<200||K[O+15]<200||K[O+19]<200||K[O+23]<200||K[O+27]<200||K[O+31]<200)return 1;
var y=j<<3;$[y+0]=K[O+0];E[y+0]=K[O+1];b[y+0]=K[O+2];$[y+1]=K[O+4];E[y+1]=K[O+5];b[y+1]=K[O+6];$[y+2]=K[O+8];
E[y+2]=K[O+9];b[y+2]=K[O+10];$[y+3]=K[O+12];E[y+3]=K[O+13];b[y+3]=K[O+14];$[y+4]=K[O+16];E[y+4]=K[O+17];
b[y+4]=K[O+18];$[y+5]=K[O+20];E[y+5]=K[O+21];b[y+5]=K[O+22];$[y+6]=K[O+24];E[y+6]=K[O+25];b[y+6]=K[O+26];
$[y+7]=K[O+28];E[y+7]=K[O+29];b[y+7]=K[O+30];O+=z<<2;q+=z}return 0};d.pN.X5=function(K,o){o[0]=K[32]+K[0];
o[1]=K[33]+K[1];o[2]=K[34]+K[2];o[3]=K[35]+K[3];o[4]=K[36]+K[4];o[5]=K[37]+K[5];o[6]=K[38]+K[6];o[7]=K[39]+K[7];
o[8]=K[40]+K[8];o[9]=K[41]+K[9];o[10]=K[42]+K[10];o[11]=K[43]+K[11];o[12]=K[44]+K[12];o[13]=K[45]+K[13];
o[14]=K[46]+K[14];o[15]=K[47]+K[15];o[16]=K[48]+K[16];o[17]=K[49]+K[17];o[18]=K[50]+K[18];o[19]=K[51]+K[19];
o[20]=K[52]+K[20];o[21]=K[53]+K[21];o[22]=K[54]+K[22];o[23]=K[55]+K[23];o[24]=K[56]+K[24];o[25]=K[57]+K[25];
o[26]=K[58]+K[26];o[27]=K[59]+K[27];o[28]=K[60]+K[28];o[29]=K[61]+K[29];o[30]=K[62]+K[30];o[31]=K[63]+K[31];
o[32]=K[0]-K[32];o[33]=K[1]-K[33];o[34]=K[2]-K[34];o[35]=K[3]-K[35];o[36]=K[4]-K[36];o[37]=K[5]-K[37];
o[38]=K[6]-K[38];o[39]=K[7]-K[39];o[40]=K[8]-K[40];o[41]=K[9]-K[41];o[42]=K[10]-K[42];o[43]=K[11]-K[43];
o[44]=K[12]-K[44];o[45]=K[13]-K[45];o[46]=K[14]-K[46];o[47]=K[15]-K[47];o[48]=K[16]-K[48];o[49]=K[17]-K[49];
o[50]=K[18]-K[50];o[51]=K[19]-K[51];o[52]=K[20]-K[52];o[53]=K[21]-K[53];o[54]=K[22]-K[54];o[55]=K[23]-K[55];
o[56]=K[24]-K[56];o[57]=K[25]-K[57];o[58]=K[26]-K[58];o[59]=K[27]-K[59];o[60]=K[28]-K[60];o[61]=K[29]-K[61];
o[62]=K[30]-K[62];o[63]=K[31]-K[63];K[0]=o[16]+o[0];K[1]=o[17]+o[1];K[2]=o[18]+o[2];K[3]=o[19]+o[3];
K[4]=o[20]+o[4];K[5]=o[21]+o[5];K[6]=o[22]+o[6];K[7]=o[23]+o[7];K[8]=o[24]+o[8];K[9]=o[25]+o[9];K[10]=o[26]+o[10];
K[11]=o[27]+o[11];K[12]=o[28]+o[12];K[13]=o[29]+o[13];K[14]=o[30]+o[14];K[15]=o[31]+o[15];K[16]=o[0]-o[16];
K[17]=o[1]-o[17];K[18]=o[2]-o[18];K[19]=o[3]-o[19];K[20]=o[4]-o[20];K[21]=o[5]-o[21];K[22]=o[6]-o[22];
K[23]=o[7]-o[23];K[24]=o[8]-o[24];K[25]=o[9]-o[25];K[26]=o[10]-o[26];K[27]=o[11]-o[27];K[28]=o[12]-o[28];
K[29]=o[13]-o[29];K[30]=o[14]-o[30];K[31]=o[15]-o[31];o[0]=K[8]+K[0];o[1]=K[9]+K[1];o[2]=K[10]+K[2];
o[3]=K[11]+K[3];o[4]=K[12]+K[4];o[5]=K[13]+K[5];o[6]=K[14]+K[6];o[7]=K[15]+K[7];o[8]=K[0]-K[8];o[9]=K[1]-K[9];
o[10]=K[2]-K[10];o[11]=K[3]-K[11];o[12]=K[4]-K[12];o[13]=K[5]-K[13];o[14]=K[6]-K[14];o[15]=K[7]-K[15];
K[0]=o[4]+o[0];K[1]=o[5]+o[1];K[2]=o[6]+o[2];K[3]=o[7]+o[3];K[4]=o[0]-o[4];K[5]=o[1]-o[5];K[6]=o[2]-o[6];
K[7]=o[3]-o[7];K[8]=o[12]+o[8];K[9]=o[13]+o[9];K[10]=o[14]+o[10];K[11]=o[15]+o[11];K[12]=o[8]-o[12];
K[13]=o[9]-o[13];K[14]=o[10]-o[14];K[15]=o[11]-o[15];o[0]=K[2]+K[0];o[1]=K[3]+K[1];o[2]=K[0]-K[2];o[3]=K[1]-K[3];
o[4]=K[6]+K[4];o[5]=K[7]+K[5];o[6]=K[4]-K[6];o[7]=K[5]-K[7];o[8]=K[10]+K[8];o[9]=K[11]+K[9];o[10]=K[8]-K[10];
o[11]=K[9]-K[11];o[12]=K[14]+K[12];o[13]=K[15]+K[13];o[14]=K[12]-K[14];o[15]=K[13]-K[15];K[0]=o[1]+o[0];
K[1]=o[0]-o[1];K[2]=o[3]+o[2];K[3]=o[2]-o[3];K[4]=o[5]+o[4];K[5]=o[4]-o[5];K[6]=o[7]+o[6];K[7]=o[6]-o[7];
K[8]=o[9]+o[8];K[9]=o[8]-o[9];K[10]=o[11]+o[10];K[11]=o[10]-o[11];K[12]=o[13]+o[12];K[13]=o[12]-o[13];
K[14]=o[15]+o[14];K[15]=o[14]-o[15]};d.pN.ayC=function(){var K="",h4=64,o="v",Y="t",c="a",z=5,y,f,$;
for(y=h4>>1;y>0;y>>=1,z--){for(f=0;f<h4;f++){$=(f>>z&1)!=0;if($){K+=Y+"["+f+"] = "+o+"["+(-y+f)+"] - "+o+"["+f+"];  "}else{K+=Y+"["+f+"] = "+o+"["+(y+f)+"] + "+o+"["+f+"];  "}}c=o;
o=Y;Y=c;K+="\n"}console.log(K)};d.pN.ayS=function(h4,K,o){var Y=K,c=o,z=Y,f=0,y,E,b;while(h4>>f!=2)f++;
var $=f;for(y=h4>>1;y>0;y>>=1,f--){for(E=0;E<h4;E++){b=(E>>f&1)!=0;if(b)c[E]=Y[-y+E]-Y[E];else c[E]=Y[y+E]+Y[E]}z=Y;
Y=c;c=z}if(($&1)==1)for(y=0;y<h4;y++)o[y]=Y[y]};d._v={};d._v.CN=function(K,o,Y,c,z,f,$,E,b){var q=Date.now(),O=new Uint32Array(K.buffer),j=new Uint32Array(o.buffer),A=$/Y,R=E/c,g=1/A,H=1/R,i=new Float64Array(2),h=3,x=1/h,F=1/(h*h),X=0,V=0,U=Y,Z=c;
if(z){X=z.x;V=z.y;U=z.m;Z=z.e}for(var T=0;T<Z;T++)for(var v=0;v<U;v++){var P=X+v,p=V+T,y=p*Y+P,a=y<<1,D=y<<2;
d._v.atB(f,$,E,(P+.5)*A,(p+.5)*R,i);var n=i[0]*g,N=i[1]*H;if(n==0&&N==0)j[y]=O[y];else{d.D.u2(P+n+.5,p+N+.5,O,Y,c,j,y,b)}}};
d._v.atB=function(K,o,Y,c,z,f){c-=.499999;z-=.499999;var $=~~c,E=~~z,b=c-$,q=z-E,O=(1-q)*(1-b),j=(1-q)*b,A=q*(1-b),R=q*b,g=$<o-1?$+1:$,H=E<Y-1?E+1:E,i=E*o+$<<1,h=E*o+g<<1,x=H*o+$<<1,F=H*o+g<<1;
f[0]=O*K[i]+j*K[h]+A*K[x]+R*K[F];f[1]=O*K[i+1]+j*K[h+1]+A*K[x+1]+R*K[F+1]};d._v.age=function(K,o,Y,c,z){var f=1/K,$=[-1,1,-K,K],E=c.length;
for(var b=0;b<E;b++){var y=c[b],q=y<<1,O=b<<1,j=~~(y*f),A=y-K*j,R=Y[q],g=Y[q+1],H=0,i=0;if(A!=0&&A!=K-1){var h=y-1<<1,x=y+1<<1,F=Y[h],X=Y[x],V=Y[h+1],U=Y[x+1],Z=R-(F+X)*.5,T=g-(V+U)*.5;
H-=Z*z;i-=T*z}if(j!=0&&j!=o-1){var h=y-K<<1,x=y+K<<1,F=Y[h],X=Y[x],V=Y[h+1],U=Y[x+1],Z=R-(F+X)*.5,T=g-(V+U)*.5;
H-=Z*z;i-=T*z}Y[q]=R+H;Y[q+1]=g+i}};d._v.axp=function(K,o){var Y=K+","+o;if(d._v.a07==Y)return d._v.aiO;
var c=d._v.aiO=[];d._v.a07=Y;for(var y=0;y<=1e3;y++){var z=y*.001,f=Math.sqrt(z),$=Math.exp(-4*f),E=.96*(1-f*f),b=o*((1-K)*$+K*E);
c[y]=b}return c};d._v.a07="";d._v.aiO=[];d._v.afv=function(K,o,Y,c,z,f,$,E,b,q,O,j,A){var R=Math.max(0,Math.floor(z-$-1)),g=Math.min(o,Math.ceil(z+$+1)),H=Math.max(0,Math.floor(f-$-1)),i=Math.min(Y,Math.ceil(f+$+1)),h=2*o,x=$*$,F=1/$,X=0;
if(A&&(c==3||c==6))b=-b;var V=d._v.axp(E,b);for(var U=H;U<i;U++)for(var Z=R;Z<g;Z++){var y=U*o+Z,T=y<<1,v=(z-Z)*F,P=(f-U)*F,p=v*v+P*P;
if(p<1){j[X]=y;var a=V[~~(p*1e3)];if(c==1){K[T]=K[T]*(1-a*.05);K[T+1]=K[T+1]*(1-a*.05)}else{var D=0,n=0,G,l,u,e;
if(c==0){D=q*a;n=O*a}else if(c==2){}else if(c==3){D=a*P;n=-a*v}else if(c==4){D=a*v;n=a*P}else if(c==5){D=-a*v;
n=-a*P}else if(c==6){D=O*a;n=-q*a}var N=K[T],W=K[T+1];if(Z==0||Z!=o-1&&D<0){G=1+K[T+2]-N;u=K[T+3]-W}else{G=N-K[T-2]+1;
u=W-K[T-1]}if(U==0||U!=Y-1&&n<0){l=K[T+h]-N;e=1+K[T+h+1]-W}else{l=N-K[T-h];e=W-K[T-h+1]+1}K[T]=-(G*D+l*n-N);
K[T+1]=-(u*D+e*n-W)}X++}}};d._v.akh=function(K){var o=K[0],Y=K[0],c=K[1],z=K[1];for(var y=0;y<K.length;
y+=2){var f=K[y],$=K[y+1];if(f<o)o=f;else if(f>Y)Y=f;if($<c)c=$;else if($>z)z=$}return[o,c,Y,z]};d.aiz=function(K,o,Y,c,z){function f(Q,j9,a4,ar){return Math.sqrt((Q-a4)*(Q-a4)+(j9-ar)*(j9-ar))}function $(Q,j9){return Q>=0&&Q<o&&j9>=0&&j9<Y}function E(Q){if(Q<0)return 0;
if(Q>=o)return o-1;return Q}function b(Q){if(Q<0)return 0;if(Q>=Y)return Y-1;return Q}function q(y,Q){var j9=Q[3]*(1/255),a4=c[y]+Q[0]*j9;
if(a4>255)a4=255;c[y]=a4;a4=c[y+1]+Q[1]*j9;if(a4>255)a4=255;c[y+1]=a4;a4=c[y+2]+Q[2]*j9;if(a4>255)a4=255;
c[y+2]=a4}function O(Q,j9,a4){if(!M(Q,j9))return;if(a4[3]<0)a4[3]=0;q((j9*o+Q)*4,a4)}function j(Q){var j9=Q.slice(0,3);
j9[3]=0;return j9}var A=o/800;function R(Q){return Math.round(Q*A)}function g(){for(var y=0;y<=300;y++){s[y]=H(y)}}function H(Y){var Q=.8,j9=.2,a4=Q*j9,ar=Y/60%2-1,ez=a4*(1-ar*ar),ja=j9-a4,c3;
if(Y<60){c3=[a4+ja,ez,0]}else if(Y<120){c3=[ez,a4,0]}else if(Y<180){c3=[0,a4,ez]}else if(Y<240){c3=[0,ez,a4]}else if(Y<300){c3=[ez,0,a4]}else{c3=[a4,0,ez]}return[(c3[0]+ja)*255,(c3[1]+ja)*255,(c3[2]+ja)*255]}function i(Y){return s[~~Y]}function h(Q){return 1-x(Q)}function x(Q){return Q-~~Q}function F(Q,j9,a4,ar){u(Q,j9,a4,0,j9+1,1,ar)}function X(Q,j9,a4,ar,ez,ja){u(Q,j9,a4,0,ar,1,ez,ja)}function V(Q){for(var y=0;
y<c.length;y+=4){q(y,Q)}}function U(Q,j9,a4,ar,ez,ja,c3,hW){Z(Q,j9,a4,ar,ez,1,ja,c3,hW)}function Z(Q,j9,a4,ar,ez,ja,c3,hW,fO){if(ja==null)ja=.5;
if(c3==null)c3=0;if(hW==null)hW=0;if(fO==null)fO=!1;var ei=Q.x,fV=Q.y,aW=a4.slice(0),ee=~~(a4[3]*J);
ar=ar*J;if(!fO){j9=e(j9);ez=e(ez);c3=e(c3);hW=e(hW)}var hM=E(ei-j9),ds=E(ei+j9);for(var cp=hM;cp<=ds;
cp++){var eA=cp-ei,db=Math.floor(Math.sqrt(j9*j9-eA*eA)),js=b(fV-db),bF=b(fV);for(var jI=js;jI<=bF;jI++){var gF=f(cp,jI,ei,fV);
if(gF>j9||gF<=j9-ez)break;var b6=(gF-j9+ez)/ez;aW[3]=ee-ar*(ja==1?b6:Math.pow(b6,ja));q((jI*o+cp)*4,aW)}js=b(fV+db);
for(var jI=js;jI>bF;jI--){var gF=f(cp,jI,ei,fV);if(gF>j9||gF<=j9-ez)break;var b6=(gF-j9+ez)/ez;aW[3]=ee-ar*(ja==1?b6:Math.pow(b6,ja));
q((jI*o+cp)*4,aW)}}if(c3>0){u(Q,j9+c3,aW,aW[3],c3,1,0,0,!0)}if(hW>0){u(Q,j9-ez,B(a4),-a4[3],hW,1,0,0,!0)}}function T(Q,j9,a4,ar,ez,ja){u(Q,j9,a4,a4[3],j9+1,1,ar,ez,ja)}function v(Q,j9,a4,ar,ez){if(ez==null)ez=!1;
var ja=Q.x,c3=Q.y;ar*=J;if(!ez){j9=e(j9);a4=e(a4)}var hW=E(ja-j9),fO=E(ja+j9);for(var ei=hW;ei<fO;ei++){var fV=ei-ja,aW=~~Math.sqrt(j9*j9-fV*fV),ee=b(c3-aW),hM=b(c3);
for(var ds=ee;ds<=hM;ds++){var cp=f(ei,ds,ja,c3);if(cp>j9||cp<=j9-a4)break;var eA=(j9-cp)/a4,db=i(300*eA);
db[3]=ar;q((ds*o+ei)*4,db)}ee=b(c3+aW);for(var ds=ee;ds>hM;ds--){var cp=f(ei,ds,ja,c3);if(cp>j9||cp<=j9-a4)break;
var eA=(j9-cp)/a4,db=i(300*eA);db[3]=ar;q((ds*o+ei)*4,db)}}}function P(t,Q){var j9=t.UY,a4=t.GL,ar=Q.slice(0),ez=Q[3]*J,ja=Math.abs(a4.y-j9.y)>Math.abs(a4.x-j9.x);
if(ja){var c3=j9.x;j9.x=j9.y;j9.y=c3;c3=a4.x;a4.x=a4.y;a4.y=c3}if(j9.x>a4.x){var c3=j9;j9=a4;a4=c3}var hW=a4.x-j9.x,fO=a4.y-j9.y,ei=hW==0?1:fO/hW,fV=Math.round(j9.x),aW=j9.y+ei*(fV-j9.x),ee=h(j9.x+.5),hM=fV,ds=~~aW;
if(ja){ar[3]=ez*h(aW)*ee;O(ds,hM,ar);ar[3]=ez*x(aW)*ee;O(ds+1,hM,ar)}else{ar[3]=ez*h(aW)*ee;O(hM,ds,ar);
ar[3]=ez*x(aW)*ee;O(hM,ds+1,ar)}var cp=aW-ei;fV=Math.round(a4.x);aW=a4.y+ei*(fV-a4.x);ee=x(a4.x+.5);
var eA=fV,db=~~aW;if(ja){ar[3]=ez*h(aW)*ee;O(db,eA,ar);ar[3]=ez*x(aW)*ee;O(db+1,eA,ar)}else{ar[3]=ez*h(aW)*ee;
O(eA,db,ar);ar[3]=ez*x(aW)*ee;O(eA,db+1,ar)}if(ja){for(var js=hM+1;js<=eA-1;js++){ar[3]=ez*h(cp);O(~~cp,js,ar);
ar[3]=ez*x(cp);O(~~cp+1,js,ar);cp+=ei}}else{for(var js=hM+1;js<=eA-1;js++){ar[3]=ez*h(cp);O(js,~~cp,ar);
ar[3]=ez*x(cp);O(js,~~cp+1,ar);cp+=ei}}}function p(Q,j9,a4,ar){for(var y=0;y<4;y++){var ez=Q.CU(j9+1.3*y,a4);
P(ez,ar,1)}}function jc(Q,j9){this.x=Math.round(Q);this.y=Math.round(j9)}var a=Math.PI/180;jc.prototype.CU=function(Q,j9){Q=Q*a;
var a4=this.x+j9*Math.cos(Q),ar=this.y+j9*Math.sin(Q);return new D(this.x,this.y,a4,ar)};jc.prototype.av4=function(Q,j9){Q=Q*a;
var a4=this.zA+j9*Math.cos(Q),ar=this.QR+j9*Math.sin(Q);return new jc(a4,ar)};function D(Q,j9,a4,ar){this.UY=new jc(Q,j9);
this.GL=new jc(a4,ar)}D.prototype.MT=function(Q){var j9=Q*this.UY.x+(1-Q)*this.GL.x,a4=Q*this.UY.y+(1-Q)*this.GL.y;
return new jc(j9,a4)};var n=U,N=T,W=F,G=X,l=v,u=Z,e=R,M=$,B=j,s=[];g();for(var y=0;y<K.length;y++){c[y]=K[y]}var t=new D(o*z[2],Y*z[3],o/2,Y/2),J=z[1],L=[];
L[0]=function k(){var Q=[80,40,15,60],a4=0,ar=0;W(t.MT(1.4),260,Q,10);W(t.MT(1),100,[240,50,50,30],30);
N(t.MT(1),60,[255,40,0,40]);var j9=[255,255,255,255];u(t.MT(1),70,j9,j9[3],58,.5);W(t.MT(1),12,j9);j9[3]=40;
n(t.MT(1),150,j9,j9[3],150);for(var y=0;y<40;y++){a4+=Math.random()*25;ar=Math.random()*e(300)+e(100);
var ez=t.MT(1).CU(a4,ar);P(t.MT(1).CU(a4,ar),[110,110,110,30])}N(t.MT(1),130,[255,255,255,8]);var ja=[170,30,23,70];
G(t.MT(1),70,ja,1,3,3);var c3=[60,60,130,40];W(t.MT(.47),44,c3,5);W(t.MT(.43),22,c3,3);c3[3]=16;W(t.MT(.53),15,c3,2);
var hW=[138,94,42,100];W(t.MT(.2),16,hW,2);var fO=[130,255,170,180];N(t.MT(0),4,fO);N(t.MT(-.25),5,fO);
hW=[150,90,0,50];n(t.MT(-.45),55,B(hW),-hW[3],40,2);W(t.MT(-.42),35,hW,2);W(t.MT(-.5),15,hW,2);l(t.MT(-1.28),145,11,70);
var ei=i(0);ei[3]=50;n(t.MT(-1.28),149,ei,ei[3],4);ei=i(300);ei[3]=50;n(t.MT(-1.28),155-1,B(ei),-ei[3],3);
var fV=[130,130,10,50];G(t.MT(-1),73,fV,3,2);var aW=[40,130,70,40];n(t.MT(-1),70,B(aW),-aW[3],35);aW=[40,170,60,50];
W(t.MT(-.7),25,aW,4);var aW=[70,110,50,60];n(t.MT(1.3),30,B(aW),-aW[3],11,3);c3=[0,50,210,80];N(t.MT(-.72),20,c3)};
L[1]=function C(){N(t.MT(1),150,[240,70,70,60]);W(t.MT(1),100,[200,60,60,40],30);var Q=[255,255,255,255],j9=0,a4=0;
u(t.MT(1),75,Q,Q[3],63);W(t.MT(1),12,Q);N(t.MT(1),270,[200,200,200,20],10);for(var y=0;y<10;y++){j9+=10+Math.random()*40;
a4=Math.random()*e(250)+e(80);var ar=t.MT(1).CU(j9,a4);P(ar,[110,110,110,35])}j9=5;a4=100;for(var y=0;
y<12;y++){j9+=30;p(t.MT(1),j9,a4,[90,90,90,40])}var ez=[150,40,23,100];G(t.MT(1),70,ez,1,3,3);var ja=[30,100,60,40];
N(t.MT(-.9),180,[255,255,255,20]);W(t.MT(-.9),140,ja,15);var c3=[170,80,25,15];G(t.MT(-.9),120,c3,1,4,4);
var hW=[110,240,190,200];N(t.MT(-.6),3,hW);hW[3]=100;N(t.MT(-.6),7,hW);var fO=[230,120,40,85];N(t.MT(-.73),9,fO);
var ei=[60,60,190,50];W(t.MT(.3),28,ei,6);ei[3]=25;W(t.MT(.34),20,ei,3)};L[2]=function r(){var Q=[255,255,255,255],a4=0,ar=0;
W(t.MT(1),13,Q);u(t.MT(1),150,Q,Q[3],137);var j9=[120,80,35,20];W(t.MT(1.4),260,j9,10);for(var y=0;y<40;
y++){a4+=5+Math.random()*30;ar=Math.random()*e(300);P(t.MT(1).CU(a4,ar),[110,110,110,20])}var ez=[10,30,255,30];
W(t.MT(1),70,ez,50);var ja=[15,90,170,15];W(t.MT(1.5),60,ja);var c3=[220,220,20,50];W(t.MT(-1.15),8,c3,2);
var Q=[255,255,255,40];N(t.MT(-1.18),6,Q);N(t.MT(-1.18),4,Q);c3=[110,110,10,8];n(t.MT(-1.2),32,B(c3),-c3[3],20,3);
var hW=[5,0,16,255];for(var y=0;y<4;y++){W(t.MT(-1.36),10,hW,3)}var fO=[90,200,150,20],ei=fO.slice(0);
ei[3]*=2;W(t.MT(-1.32),7,ei,3);W(t.MT(-1.36),7,ei,3);W(t.MT(-1.4),7,ei,3);var Q=[230,230,230,100];N(t.MT(-1.36),2,Q);
Q[3]=3;W(t.MT(-.55),10,Q);c3=[120,100,10,18];W(t.MT(-.55),160,c3,8);W(t.MT(-.55),80,c3,4);fO[3]=3;ei[3]=6;
n(t.MT(-.49),13,B(ei),-ei[3],13,2);n(t.MT(-.55),13,B(ei),-ei[3],13,2);fO[3]=20;W(t.MT(.15),25,fO,3);
c3[3]=100;N(t.MT(-.52),3,c3);c3=[200,200,50,40];W(t.MT(.27),1,c3,4);var fV=[150,40,23,30];n(t.MT(1),80,B(fV),-fV[3],2,1)};
return L[z[0]]()};d.gr={};d.gr.Cy=function(K){var o=K.length,h4=K[0].length,Y=new Array(h4);for(var y=0;
y<h4;y++)Y[y]=new Array(o);for(var y=0;y<h4;y++)for(var c=0;c<o;c++)Y[y][c]=K[c][y];return Y};d.gr.km=function(K,o){var Y=K.length,h4=K[0].length,c=new Array(Y);
for(var y=0;y<Y;y++)c[y]=new Array(h4);for(var y=0;y<Y;y++)for(var z=0;z<h4;z++)c[y][z]=K[y][z]-o[y][z];
return c};d.gr.add=function(K,o){var Y=K.length,h4=K[0].length,c=new Array(Y);for(var y=0;y<Y;y++)c[y]=new Array(h4);
for(var y=0;y<Y;y++)for(var z=0;z<h4;z++)c[y][z]=K[y][z]+o[y][z];return c};d.gr.multiply=function(K,o){var Y=K.length,c=K[0].length,h4=o[0].length;
if(c!=o.length)throw"e";var z=new Array(Y);for(var y=0;y<Y;y++)z[y]=new Array(h4);if((c&1)!=0)for(var y=0;
y<Y;y++){var f=K[y],$=z[y];for(var E=0;E<h4;E++){var b=0;for(var q=0;q<c;q++)b+=f[q]*o[q][E];$[E]=b}}else for(var y=0;
y<Y;y++){var f=K[y],$=z[y];for(var E=0;E<h4;E++){var b=0;for(var q=0;q<c;q+=2)b+=f[q]*o[q][E]+f[q+1]*o[q+1][E];
$[E]=b}}return z};d.gr.XZ=function(K,o){var Y=K.length,h4=K[0].length,c=new Array(Y);for(var y=0;y<Y;
y++){var z=0;for(var f=0;f<h4;f++)z+=K[y][f]*o[f];c[y]=z}return c};d.gr.gS=function(K,o){var Y=[];for(var y=0;
y<K;y++){Y.push([]);for(var c=0;c<o;c++)Y[y].push(0)}return Y};d.gr.asI=function(K){for(var y=0;y<K.length;
y++)console.log(JSON.stringify(K[y]))};d.gr.axC=function(K){var o=[];for(var y=0;y<K.length;y++)o.push(K[y].join(","));
return"["+o.join(";")+"]"};d.gr.kA=function(K,o){var Y=K.length;for(var c=0;c<Y;c++){var z=0,f=Number.NEGATIVE_INFINITY;
for(var y=c;y<Y;y++)if(Math.abs(K[y][c])>f){z=y;f=Math.abs(K[y][c])}d.gr.a9M(K,c,z);for(var y=c+1;y<Y;
y++){if(K[c][c]==0)return 1;var $=K[y][c]/K[c][c];for(var E=c;E<Y+1;E++)K[y][E]-=K[c][E]*$}}for(var y=Y-1;
y>=0;y--){if(K[y][y]==0)return 1;var b=K[y][Y]/K[y][y];o[y]=b;for(var E=y-1;E>=0;E--){K[E][Y]-=K[E][y]*b;
K[E][y]=0}}return 0};d.gr.a9M=function(K,o,Y){var c=K[o];K[o]=K[Y];K[Y]=c};d.gr.akR=function(K){var o=K.length,Y=d.gr.gS(o,o);
for(var y=0;y<o;y++)Y[y][y]=K[y];return Y};d.gr.aeG=function(K){var o=K.length,Y=K[0].length,c=new Array(o);
for(var y=0;y<o;y++){c[y]=0;for(var z=0;z<Y;z++)c[y]+=K[y][z];c[y]/=Y}return c};d.gr.fQ=function(K){var o=0;
for(var y=0;y<K.length;y++)o+=K[y]*K[y];return Math.sqrt(o)};d.tb={};d.tb.Dw=function(K){var o=~~(K+.5);
return o<0?0:o>255?255:o};d.tb.transform=function(K,o,Y){var c=d.tb.Dw,z=K.o.length;for(var y=0;y<z;
y++){var f=K.o[y],$=K.A[y],E=K.J[y];o.o[y]=c(Y[0]*f+Y[1]*$+Y[2]*E+Y[3]*255);o.A[y]=c(Y[4]*f+Y[5]*$+Y[6]*E+Y[7]*255);
o.J[y]=c(Y[8]*f+Y[9]*$+Y[10]*E+Y[11]*255)}};d.tb.afj=function(K,o,Y){var c=d.tb.Dw,z=K.length;for(var y=0;
y<z;y+=4){var f=K[y],$=K[y+1],E=K[y+2];o[y]=c(Y[0]*f+Y[1]*$+Y[2]*E+Y[3]*255);o[y+1]=c(Y[4]*f+Y[5]*$+Y[6]*E+Y[7]*255);
o[y+2]=c(Y[8]*f+Y[9]*$+Y[10]*E+Y[11]*255)}};d.tb.aqu=function(K){var o=K[0]+K[1]+K[2],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(o==1){var c=K.indexOf(1);Y[c]=Y[c+4]=Y[c+8]=1}else{Y[0]=K[0];Y[5]=K[1];Y[10]=K[2]}return Y};d.tb.mH=function(K,o,Y){return[1,0,0,K,0,1,0,o,0,0,1,Y,0,0,0,1]};
d.tb.M0=function(K,o,Y){return[K,0,0,0,0,o,0,0,0,0,Y,0,0,0,0,1]};d.tb.afh=function(K){return[K[0],K[1],K[2],K[4],K[5],K[6],K[8],K[9],K[10]]};
d.tb.xD=function(K){return[K[0],K[1],K[2],0,K[3],K[4],K[5],0,K[6],K[7],K[8],0,0,0,0,1]};d.tb.Le=function(K,o){return[K[0]*o[0]+K[1]*o[1]+K[2]*o[2]+K[3]*o[3],K[4]*o[0]+K[5]*o[1]+K[6]*o[2]+K[7]*o[3],K[8]*o[0]+K[9]*o[1]+K[10]*o[2]+K[11]*o[3],K[12]*o[0]+K[13]*o[1]+K[14]*o[2]+K[15]*o[3]]};
d.tb.Cy=function(K){var o=[];o[0]=K[0];o[1]=K[4];o[2]=K[8];o[3]=K[12];o[4]=K[1];o[5]=K[5];o[6]=K[9];
o[7]=K[13];o[8]=K[2];o[9]=K[6];o[10]=K[10];o[11]=K[14];o[12]=K[3];o[13]=K[7];o[14]=K[11];o[15]=K[15];
return o};d.tb.add=function(K,o){var Y=K.slice(0);for(var y=0;y<16;y++)Y[y]+=o[y];return Y};d.tb.multiply=function(K,o){var Y=[];
Y[0]=K[0]*o[0]+K[1]*o[4]+K[2]*o[8]+K[3]*o[12];Y[1]=K[0]*o[1]+K[1]*o[5]+K[2]*o[9]+K[3]*o[13];Y[2]=K[0]*o[2]+K[1]*o[6]+K[2]*o[10]+K[3]*o[14];
Y[3]=K[0]*o[3]+K[1]*o[7]+K[2]*o[11]+K[3]*o[15];Y[4]=K[4]*o[0]+K[5]*o[4]+K[6]*o[8]+K[7]*o[12];Y[5]=K[4]*o[1]+K[5]*o[5]+K[6]*o[9]+K[7]*o[13];
Y[6]=K[4]*o[2]+K[5]*o[6]+K[6]*o[10]+K[7]*o[14];Y[7]=K[4]*o[3]+K[5]*o[7]+K[6]*o[11]+K[7]*o[15];Y[8]=K[8]*o[0]+K[9]*o[4]+K[10]*o[8]+K[11]*o[12];
Y[9]=K[8]*o[1]+K[9]*o[5]+K[10]*o[9]+K[11]*o[13];Y[10]=K[8]*o[2]+K[9]*o[6]+K[10]*o[10]+K[11]*o[14];Y[11]=K[8]*o[3]+K[9]*o[7]+K[10]*o[11]+K[11]*o[15];
Y[12]=K[12]*o[0]+K[13]*o[4]+K[14]*o[8]+K[15]*o[12];Y[13]=K[12]*o[1]+K[13]*o[5]+K[14]*o[9]+K[15]*o[13];
Y[14]=K[12]*o[2]+K[13]*o[6]+K[14]*o[10]+K[15]*o[14];Y[15]=K[12]*o[3]+K[13]*o[7]+K[14]*o[11]+K[15]*o[15];
return Y};d.tb.oD=function(K){var o=[];o[0]=K[5]*K[10]*K[15]-K[5]*K[14]*K[11]-K[6]*K[9]*K[15]+K[6]*K[13]*K[11]+K[7]*K[9]*K[14]-K[7]*K[13]*K[10];
o[1]=-K[1]*K[10]*K[15]+K[1]*K[14]*K[11]+K[2]*K[9]*K[15]-K[2]*K[13]*K[11]-K[3]*K[9]*K[14]+K[3]*K[13]*K[10];
o[2]=K[1]*K[6]*K[15]-K[1]*K[14]*K[7]-K[2]*K[5]*K[15]+K[2]*K[13]*K[7]+K[3]*K[5]*K[14]-K[3]*K[13]*K[6];
o[3]=-K[1]*K[6]*K[11]+K[1]*K[10]*K[7]+K[2]*K[5]*K[11]-K[2]*K[9]*K[7]-K[3]*K[5]*K[10]+K[3]*K[9]*K[6];
o[4]=-K[4]*K[10]*K[15]+K[4]*K[14]*K[11]+K[6]*K[8]*K[15]-K[6]*K[12]*K[11]-K[7]*K[8]*K[14]+K[7]*K[12]*K[10];
o[5]=K[0]*K[10]*K[15]-K[0]*K[14]*K[11]-K[2]*K[8]*K[15]+K[2]*K[12]*K[11]+K[3]*K[8]*K[14]-K[3]*K[12]*K[10];
o[6]=-K[0]*K[6]*K[15]+K[0]*K[14]*K[7]+K[2]*K[4]*K[15]-K[2]*K[12]*K[7]-K[3]*K[4]*K[14]+K[3]*K[12]*K[6];
o[7]=K[0]*K[6]*K[11]-K[0]*K[10]*K[7]-K[2]*K[4]*K[11]+K[2]*K[8]*K[7]+K[3]*K[4]*K[10]-K[3]*K[8]*K[6];o[8]=K[4]*K[9]*K[15]-K[4]*K[13]*K[11]-K[5]*K[8]*K[15]+K[5]*K[12]*K[11]+K[7]*K[8]*K[13]-K[7]*K[12]*K[9];
o[9]=-K[0]*K[9]*K[15]+K[0]*K[13]*K[11]+K[1]*K[8]*K[15]-K[1]*K[12]*K[11]-K[3]*K[8]*K[13]+K[3]*K[12]*K[9];
o[10]=K[0]*K[5]*K[15]-K[0]*K[13]*K[7]-K[1]*K[4]*K[15]+K[1]*K[12]*K[7]+K[3]*K[4]*K[13]-K[3]*K[12]*K[5];
o[11]=-K[0]*K[5]*K[11]+K[0]*K[9]*K[7]+K[1]*K[4]*K[11]-K[1]*K[8]*K[7]-K[3]*K[4]*K[9]+K[3]*K[8]*K[5];o[12]=-K[4]*K[9]*K[14]+K[4]*K[13]*K[10]+K[5]*K[8]*K[14]-K[5]*K[12]*K[10]-K[6]*K[8]*K[13]+K[6]*K[12]*K[9];
o[13]=K[0]*K[9]*K[14]-K[0]*K[13]*K[10]-K[1]*K[8]*K[14]+K[1]*K[12]*K[10]+K[2]*K[8]*K[13]-K[2]*K[12]*K[9];
o[14]=-K[0]*K[5]*K[14]+K[0]*K[13]*K[6]+K[1]*K[4]*K[14]-K[1]*K[12]*K[6]-K[2]*K[4]*K[13]+K[2]*K[12]*K[5];
o[15]=K[0]*K[5]*K[10]-K[0]*K[9]*K[6]-K[1]*K[4]*K[10]+K[1]*K[8]*K[6]+K[2]*K[4]*K[9]-K[2]*K[8]*K[5];var Y=K[0]*o[0]+K[1]*o[4]+K[2]*o[8]+K[3]*o[12];
for(var y=0;y<16;y++)o[y]/=Y;return o};d.tb.awo=function(K){var o=[],Y=K[5]*K[10]*K[15]-K[5]*K[14]*K[11]-K[6]*K[9]*K[15]+K[6]*K[13]*K[11]+K[7]*K[9]*K[14]-K[7]*K[13]*K[10],c=-K[4]*K[10]*K[15]+K[4]*K[14]*K[11]+K[6]*K[8]*K[15]-K[6]*K[12]*K[11]-K[7]*K[8]*K[14]+K[7]*K[12]*K[10],z=K[4]*K[9]*K[15]-K[4]*K[13]*K[11]-K[5]*K[8]*K[15]+K[5]*K[12]*K[11]+K[7]*K[8]*K[13]-K[7]*K[12]*K[9],f=-K[4]*K[9]*K[14]+K[4]*K[13]*K[10]+K[5]*K[8]*K[14]-K[5]*K[12]*K[10]-K[6]*K[8]*K[13]+K[6]*K[12]*K[9];
return K[0]*Y+K[1]*c+K[2]*z+K[3]*f};d.tb.a6V=function(K,o,Y,c){var z=Math.sin(c),f=Math.cos(c),$=1/Math.sqrt(K*K+o*o+Y*Y);
K*=$;o*=$;Y*=$;return d.tb.xD([K*K*(1-f)+f,K*o*(1-f)-Y*z,K*Y*(1-f)+o*z,K*o*(1-f)+Y*z,o*o*(1-f)+f,o*Y*(1-f)-K*z,K*Y*(1-f)-o*z,o*Y*(1-f)+K*z,Y*Y*(1-f)+f])};
d.tb.J$=d.tb.xD([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
d.tb.awu=d.tb.xD([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
d.tb.af_=d.tb.oD(d.tb.J$);d.y_={};d.y_.fl=new Uint32Array(1);d.y_.a4o=function(K,o,Y,c,z,f){var $=new Uint32Array(K),E=0,b=d.y_.fl;
if(b.length<o*4)d.y_.fl=b=new Uint32Array(o*4);var q=new Float64Array(b.buffer);for(var y=0;y<o;y+=2){var O=z[y],j=z[y+1],A=f[y],R=f[y+1];
b[E]=j;q[E+2>>1]=A;b[E+1]=$[O];$[O]=E+1;E+=4;b[E]=O;q[E+2>>1]=R;b[E+1]=$[j];$[j]=E+1;E+=4}return{xj:b,auS:q,a7S:$}};
d.y_.kA=function(K,o,Y,c,z,f,$){var E=1,b=d.y_.a4o(K,o,Y,c,z,f),q=b.xj,O=b.auS,j=b.a7S,A=new Uint32Array(K),R=new d.y_.FE(K),H=1,X=0;
R.push(Y);R.push(c);var g=new d.y_.FE(K),i=new Uint8Array(K),h=new Uint32Array(K);i[Y]=1;i[c]=2;var x=new Uint32Array(K),F=new Uint32Array(K);
F[Y]=F[c]=0;x[Y]=x[c]=1;while(!0){var V=-1,a=0,W=1e30;while(!R.EG()&&V==-1){var U=R.top(),Z=i[U],T=j[U]-1;
while(T!=-1){var v=q[T],P=i[v],p=T^Z-1<<2;if(O[p+2>>1]!=0){if(P==0){d.y_.sf(U,T,v,i,h,F,x);R.push(v)}else if(P==Z&&x[v]<=x[U]&&F[v]>F[U])d.y_.sf(U,T,v,i,h,F,x);
else if(P!=Z){V=p}}T=q[T+1]-1}if(V!=-1)break;R.pop()}if(V==-1){break}H++;var D=V;while(D!=-1){A[a]=D;
a++;D=h[q[D^4]]-1}var n=a>>1;for(var y=0;y<n;y++){var N=A[y];A[y]=A[a-y-1];A[a-y-1]=N}D=h[q[V]]-1;while(D!=-1){A[a]=D^4;
a++;D=h[q[D^4]]-1}for(var y=0;y<a;y++)W=Math.min(W,O[A[y]+2>>1]);X+=W;if(X>=$)return{mV:null,IQ:X};for(var y=0;
y<a;y++){var G=A[y],l=G^4,U=q[l],v=q[G];O[G+2>>1]-=W;O[l+2>>1]+=W;if(O[G+2>>1]==0&&i[U]==i[v]){if(i[U]==1){h[v]=0;
g.push(v)}if(i[U]==2){h[U]=0;g.push(U)}}}while(!g.EG()){var U=g.pop(),Z=i[U],T=j[U]-1,u=Z==1?4:0,e=0,M=0,B=1e9;
while(T!=-1){var v=q[T],s=T^4,p=T^u;if(i[v]==Z&&O[p+2>>1]>0&&d.y_.al9(v,Y,c,h,q,H,x,F)+1<B){e=v;M=s;
B=F[v]+1}T=q[T+1]-1}if(M!=0){d.y_.sf(e,M,U,i,h,F,x);continue}T=j[U]-1;while(T!=-1){var v=q[T],p=T^u;
if(i[v]==Z){if(O[p+2>>1]>0){R.push(v)}if(h[v]==T+1){h[v]=0;g.push(v)}}T=q[T+1]-1}i[U]=0;R.remove(U)}}var t=[];
for(var y=0;y<o;y+=2){var U=z[y],v=z[y+1];if(i[U]==1&&i[v]!=1){t.push(y>>1)}if(i[v]==1&&i[U]!=1){t.push(o+y>>1)}}return{mV:t,IQ:X}};
d.y_.sf=function(K,o,Y,c,z,f,$){c[Y]=c[K];z[Y]=o+1;f[Y]=f[K]+1;$[Y]=$[K]};d.y_.al9=function(K,o,Y,c,z,f,$,E){var b=K,q=c[K]-1,O=0;
while(q!=-1&&$[K]!=f){K=z[q^4];q=c[K]-1;O++}if(q==-1&&K!=o&&K!=Y)return 1e9;var j=E[K]+O;O=0;q=c[b]-1;
while(b!=K){E[b]=j-O;O++;$[b]=f;b=z[q^4];q=c[b]-1}return j};d.y_.ak7=function(K,o,Y,c,z,f){var $=d.y_.a4o(K,o,Y,c,z,f),E=$.xj,b=$.auS,q=$.a7S,O=0,j=0,A=new Uint32Array(K*2),R=new d.y_.aBi(K),g=0;
while(!0){R.reset();R.push(Y);for(var y=0;y<K;y++)A[y<<1]=0;while(!R.EG()){var H=R.pop(),i=q[H]-1;while(i!=-1){g=E[i];
if(A[g<<1]==0&&b[i+2>>1]>0&&g!=Y){A[g<<1]=H+1;A[(g<<1)+1]=i;R.push(g)}i=E[i+1]-1}if(A[c<<1]!=0){break}}if(A[c<<1]==0){break}var h=1e30;
g=c;while(!0){var x=A[g<<1]-1;if(x==-1)break;var F=A[(g<<1)+1];h=Math.min(h,b[F+2>>1]);g=x}g=c;while(!0){var x=A[g<<1]-1;
if(x==-1)break;var F=A[(g<<1)+1],X=F^4;b[F+2>>1]-=h;b[X+2>>1]+=h;g=x}O+=h}var V=[];for(var y=0;y<o;y+=2){var x=z[y],g=z[y+1];
if((A[x<<1]!=0||x==Y)&&A[g<<1]==0&&g!=Y){V.push(y>>1)}if((A[g<<1]!=0||g==Y)&&A[x<<1]==0&&x!=Y){V.push(o+y>>1)}}return{mV:V,IQ:O}};
d.y_.aBi=function(K){K|=K>>1;K|=K>>2;K|=K>>4;K|=K>>8;K|=K>>16;this.hp=new Uint32Array(K+1);this.Ax=K;
this.$$=0;this.PF=0};d.y_.aBi.prototype={push:function(K){var o=this.PF;this.hp[o]=K;this.PF=o+1&this.Ax},pop:function(){var K=this.$$,o=this.hp[K];
this.$$=K+1&this.Ax;return o},EG:function(){return this.$$==this.PF},reset:function(){this.$$=0;this.PF=0}};
d.y_.FE=function(K){K|=K>>1;K|=K>>2;K|=K>>4;K|=K>>8;K|=K>>16;this.hp=new Uint32Array(K+1);this.xV=new Uint32Array(K+1);
this.Ax=K;this.$$=0;this.PF=0};d.y_.FE.prototype={top:function(){return this.hp[this.$$]},atg:function(){return this.hp[this.PF]},push:function(K){if(this.xV[K]!=0)return;
this.xV[K]=this.PF+1;var o=this.PF;this.hp[o]=K;this.PF=o+1&this.Ax},pop:function(){var K=this.$$,o=this.hp[K];
this.xV[o]=0;this.$$=K+1&this.Ax;return o},EG:function(){return this.$$==this.PF},remove:function(K){var o=this.xV[K]-1;
if(o==-1)return;this.xV[K]=0;if(o==this.$$){this.pop();return}var Y=this.pop();this.hp[o]=Y;this.xV[Y]=o+1},Vp:function(y){return y+this.Ax+1&this.Ax}};
d.y_.an_=function(K,o,Y){var c=d.y_.lE(K,o,Y);if(o<c-1)d.y_.an_(K,o,c-1);if(c<Y)d.y_.an_(K,c,Y)};d.y_.lE=function(K,o,Y){var c=K[o+Y>>>1];
while(o<=Y){while(K[o]<c)o++;while(K[Y]>c)Y--;if(o<=Y){d.y_.A1(K,o,Y);o++;Y--}}return o};d.y_.A1=function(K,o,Y){var c=K[o];
K[o]=K[Y];K[Y]=c};d.og=function(){var K,o;function Y($,E,h4){var b=h4-1,q=E+h4;K[h4-2]=$[q-2];o[0]=$[q-1];
var O=Math.max;for(var y=1;y<b;y++){K[h4-2-y]=O(K[h4-1-y],$[q-2-y]);o[y]=O(o[y-1],$[q-1+y])}for(var y=0;
y<b;y++)$[E+y]=O(K[y],o[y])}function c($,E,h4){var b=h4-1,q=Math.ceil(E/b)*b;for(var O=0;O<q;O+=b)Y($,O,h4)}function z($,E,b,q,h4,O){E.set($);
if(h4==1)return;K=d.R(h4-1);o=d.R(h4-1);var j=h4>>>1,A=d.R(Math.ceil(Math.max(b,q)/(h4-1))*(h4-1)+(h4-2)),R=new Uint8Array(A.buffer,0,b);
if(!O)d.oD(E);for(var g=0;g<q;g++){A.fill(0);A.set(new Uint8Array(E.buffer,g*b,b),j);c(A,b,h4);E.set(R,g*b)}for(var H=0;
H<b;H++){A.fill(0);for(var g=0;g<q;g++)A[g+j]=E[g*b+H];c(A,q,h4);for(var g=0;g<q;g++)E[g*b+H]=A[g]}if(!O)d.oD(E)}function f($,E,b,q,h4,O){var j=d.R(b*q);
for(var A=0;A<4;A++){d.JI($,j,A);if(A==3)d.oD(j);z(j,j,b,q,h4,O);if(A==3)d.oD(j);d.cb(j,E,A)}}return{md:z,ak1:f}}();
d.SU={};d.SU.a1u=function(K){for(var y=0;y<K.length;y++)d.SU.lM(K,y)};d.SU.lM=function(K,y){K[y].v.keyShapeInvalidated={t:"bool",v:!0}};
d.SU.aD1=function(K){for(var y=0;y<K.length;y++)K[y].v.keyOriginIndex.v=y};d.SU._L=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
d.SU.Qx=function(K){K=K.v;var o={Rctn:2,Ln:4,Elps:5},Y=o[K.classID],c=K.topLeft?d.SU.acx(K):null,z=null,f=0,$=[!1,!1,0,0,0];
if(Y==4){var E=K.Strt.v,b=K.End.v;z=[E.Hrzn.v.val,E.Vrtc.v.val,b.Hrzn.v.val,b.Vrtc.v.val];f=K.Wdth.v.val;
for(var y=0;y<2;y++){var q=K[y==0?"StrA":"EndA"];if(q==null)continue;q=q.v;$[y]=q.On.v;$[2]=q.Wdth.v;
$[3]=q.Lngt.v;$[4]=q.Cncv.v.val}}if(Y==null)return null;return d.SU.We(Y,Y==4?null:d.SU.BW(K),c,z,f,$)};
d.SU.tL=function(K,o,Y,c,z,f,$){var E={classID:K,unitValueQuadVersion:{t:"long",v:1}};if(o)d.SU.G9(E,["Left","Top","Rght","Btom"],o);
if(Y)d.SU.G9(E,["topLeft","topRight","bottomRight","bottomLeft"],Y);if(K=="Ln"){E.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[1]}}}},E.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[3]}}}},E.Wdth={t:"UntF",v:{type:"#Pxl",val:z}};
for(var y=0;y<2;y++){var b=y==0?"StrA":"EndA";E[b]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:$[y]},Wdth:{t:"doub",v:$[2]},Lngt:{t:"doub",v:$[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:$[4]}}}}}}if(f)E.Nm={t:"TEXT",v:f};
return{t:"Objc",v:E}};d.SU.agm=function(K,o){var Y=d.SU.P8(K),c=K[2]-K[0],z=K[3]-K[1],f=Math.sqrt(c*c+z*z),$=[0,0,f,0,f,o,0,o],E=new dF;
E.rotate(-Y);E.translate(K[0],K[1]);d.M.i($,E,$);return $};d.SU.We=function(K,o,Y,c,z,f){var $=d.SU._L(),E=$.v,b;
delete E.keyShapeInvalidated;E.keyOriginType={t:"long",v:K};E.keyOriginResolution={t:"doub",v:75};if(K==4){E.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[0]},Vrtc:{t:"doub",v:c[1]}}};
E.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[2]},Vrtc:{t:"doub",v:c[3]}}};b=d.SU.agm(c,z);
var q=d.M.OA(b);o=[q.x,q.y,q.x+q.m,q.y+q.e];E.keyOriginLineWeight={t:"doub",v:z};if(f)d.SU.aAX(E,f)}else b=[o[0],o[1],o[2],o[1],o[2],o[3],o[0],o[3]];
E.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};d.SU.LK(E,"keyOriginBoxCorners",b);var O={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
E.keyOriginShapeBBox={t:"Objc",v:O};d.SU.akq(E,o);if(Y!=null){var j={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
E.keyOriginRRectRadii={t:"Objc",v:j};d.SU.Lr(E,Y)}return $};d.SU.i=function(K,o,Y,c){var z=d.D.av$(o),f=d.D.a0d(o),$=d.D.IU(o),E=$.g*$.gG-$.J*$.b0;
for(var y=0;y<K.length;y++){var b=K[y].v;if(!d.SU.Ij(b))continue;if(Y.length!=0&&Y.indexOf(y)==-1)continue;
var q=b.keyOriginType.v,O=o;if(E<0&&q==2){var j=d.SU.RH(b),A=0;A=j[0];j[0]=j[1];j[1]=A;A=j[2];j[2]=j[3];
j[3]=A;d.SU.Lr(b,j);var R=d.SU.Jl(b,"keyOriginBoxCorners"),g=d.M.OA(R),H=g.x+g.m/2,i=new dF;i.translate(-H,0);
i.scale(-1,1);i.translate(H,0);O=d.D.mL(O,d.D.lK(i))}var h=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var x=0;x<h.length;x++){var R=d.SU.Jl(b,h[x]);if(R==null)continue;d.D.i(O,R);d.SU.LK(b,h[x],R);var g=d.M.OA(R);
d.SU.akq(b,[g.x,g.y,g.x+g.m,g.y+g.e]);var F=new dF;F.rotate(-d.SU.P8(R));var X={classID:"Trnf"};b.Trnf={t:"Objc",v:X};
var V="xx xy yx yy tx ty".split(" "),U=[F.g,F.J,F.b0,F.gG,F.B3,F.Z7];for(var Z=0;Z<6;Z++)X[V[Z]]={t:"doub",v:U[Z]}}if(q==2&&c){var j=d.SU.RH(b);
for(var x=0;x<4;x++)j[x]=Math.round(j[x]*o[0]);d.SU.Lr(b,j)}var R=d.SU.Jl(b,"keyOriginBoxCorners"),T=R[2]-R[0],v=R[3]-R[1],P=Math.sqrt(T*T+v*v);
T/=P;v/=P;var p=R[6]-R[0],a=R[7]-R[1],D=Math.sqrt(p*p+a*a);p/=D;a/=D;if(q==4){b.keyOriginLineWeight.v=D;
var n=d.SU.LG(b);d.D.i(o,n);d.SU.a5g(b,n)}var N=T*p+v*a;if(Math.abs(N)>.001){d.SU.lM(K,y)}}};d.SU.Ij=function(K){var o=K.keyShapeInvalidated,Y=K.keyOriginType;
return(o==null||!o.v)&&Y!=null&&Y.v!=9};d.SU.aBW=function(K){var o=K.keyOriginType.v,Y=d.SU.H_(K),c=Y[0],z=Y[1],f=Y[2],$=Y[3],E=new dF,b=K.keyOriginPolyCornerRadius,R;
b=b?b.v:0;var q=d.SU.Jl(K,o==7||o==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),O=d.SU.ac7(q),j=O[2],A=O[3];
c=-j/2;f=j/2;z=-A/2;$=A/2;E.rotate(-d.SU.P8(q));E.B3=O[0];E.Z7=O[1];if(o==1||o==2){var g=o==1?0:d.SU.RH(K);
R=d.j.OJ.Rect(c,z,f-c,$-z,g)}else if(o==4){var H=d.SU.LG(K),i=d.SU.aw1(K);E=new dF;if(i==null)R=d.j.OJ.Ov(H[0],H[1],H[2],H[3],K.keyOriginLineWeight.v);
else R=d.j.OJ.bM(H[0],H[1],H[2],H[3],K.keyOriginLineWeight.v,i)}else if(o==5){R=d.j.OJ.MR(c,z,f-c,$-z)}else if(o==7||o==8){var h=o==7?3:K.keyOriginPolySides.v;
R=d.j.OJ.E0(0,0,100,Math.PI/h-Math.PI/2,h,b,f,$)}d.j.k3(R,E);return R};d.SU.o7=function(K,o){var Y=o.$;
for(var y=0;y<K.length;y++){var c=K[y].v;if(!d.SU.Ij(c))continue;var z=d.SU.aBW(c),f=d.j.js(Y,y),$=d.j.iY(Y,y);
z[2].fa=Y[f].fa;var E=Y;Y=Y.slice(0,f);for(var b=2;b<z.length;b++)Y.push(z[b]);for(var b=f+$;b<E.length;
b++)Y.push(E[b])}o.$=Y;o.dw=!0};d.SU.P_=function(K){var o=1e9,Y=-o,c=1e9,z=-c,f=[],$=K.dK(),E=$[0],b=$[1];
for(var q=0;q<b.length;q++){var O=E[b[q]],j=O.add.vogk;if(j==null)continue;var A=O.add.vmsk.Y;for(var R=0;
R<j.length;R++){var g=j[R].v,h=0;if(!d.SU.Ij(g))continue;if(b.length==1&&A.length!=0&&A.indexOf(R)==-1)continue;
var H=g.keyOriginType.v;if(H==9)continue;var i=d.SU.H_(g);o=Math.min(o,i[0]);c=Math.min(c,i[1]);Y=Math.max(Y,i[2]);
z=Math.max(z,i[3]);var x=d.SU.Jl(g,"keyOriginBoxCorners");if(x){var F=d.SU.ac7(x),X=F[2],V=F[3];i[2]=i[0]+X;
i[3]=i[1]+V;h=d.SU.P8(x)}var U=[H,i,h];f.push(U);var Z=g.keyOriginPolyCornerRadius;if(H==2)U.push(d.SU.RH(g));
if(H==7||H==8)U.push(Z?Z.v:0);if(H==8)U.push(g.keyOriginPolySides.v)}}return f.length==1?f[0]:[0,o<Y?[o,c,Y,z]:null,0]};
d.SU.P8=function(K){var o=K[2]-K[0],Y=K[3]-K[1];return-Math.atan2(-Y,o)};d.SU.a9_=function(K){var o=d.SU.H_(K);
return d.SU.P8(o)};d.SU.atO=function(K,o,Y){var c=d.SU.P_(K),z=-1;for(var y=0;y<o.length;y++)if(JSON.stringify(o[y])!=JSON.stringify(c[y]))z=y;
if(z==1||z==2){}var f=K.dK(),$=f[0],E=f[1];for(var b=0;b<E.length;b++){var q=$[E[b]],O=q.add.vogk;if(O==null)continue;
var j=q.add.vmsk.Y;for(var A=0;A<O.length;A++){var R=O[A].v;if(!d.SU.Ij(R))continue;if(E.length==1&&j.length!=0&&j.indexOf(A)==-1)continue;
var g=R.keyOriginType.v;if(z==1||z==2){d.SU.i(O,d.SU.a0o(z,R,c,o),j,!1);break}if(z==3)if(g==2)d.SU.Lr(R,o[3]);
else R.keyOriginPolyCornerRadius={t:"doub",v:o[3]};if(z==4)R.keyOriginPolySides.v=o[4];if(Y)d.SU.lM(O,A)}}};
d.SU.a0o=function(K,o,Y,c){var z=c[1],f=Y[1],$=(z[2]-z[0])/(f[2]-f[0]),E=(z[3]-z[1])/(f[3]-f[1]),b=new dF;
if(K==1){if(Math.max(Math.abs($-1),Math.abs(E-1))>1e-8){var q=z[0],O=z[1];if(c[0]!=0){var j=d.SU.Jl(o,"keyOriginBoxCorners");
q=j[0];O=j[1]}b.translate(-q,-O);b.rotate(c[2]);b.scale($,E);b.rotate(-c[2]);b.translate(q,O)}else{b.translate(-f[0],-f[1]);
b.translate(z[0],z[1])}}else{if(c[0]!=0)z=d.SU.H_(o);var q=(z[0]+z[2])/2,O=(z[1]+z[3])/2;b.translate(-q,-O);
if(Y[0]!=0)b.rotate(Y[2]);b.rotate(-c[2]);b.translate(q,O)}return d.D.lK(b)};d.SU.ac7=function(K){var o=K[0],Y=K[1],c=K[2],z=K[3],f=K[4],$=K[5],E=K[6],b=K[7],q=c-o,O=z-Y,j=Math.sqrt(q*q+O*O),q=f-c,O=$-z,A=Math.sqrt(q*q+O*O);
return[(o+f)/2,(Y+$)/2,j,A]};d.SU.Jl=function(K,o){var Y=K[o];if(Y==null)return null;var c=[];Y=Y.v;
for(var z=0;z<4;z++){var f=Y["rectangleCorner"+["A","B","C","D"][z]].v;c.push(f.Hrzn.v,f.Vrtc.v)}return c};
d.SU.LK=function(K,o,Y){var c=K[o];if(c==null)return null;c=c.v;for(var z=0;z<4;z++){var f="rectangleCorner"+["A","B","C","D"][z];
c[f]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Y[2*z]},Vrtc:{t:"doub",v:Y[2*z+1]}}}}};d.SU.H_=function(K){return d.SU.BW(K.keyOriginShapeBBox.v)};
d.SU.BW=function(K){var o=K.classID,Y=K.Left.v,c=K.Rght.v,z=K.Top.v,f=K.Btom.v;if(Y.val!=null){Y=Y.val;
c=c.val;z=z.val;f=f.val}return[Y,z,c,f]};d.SU.akq=function(K,o){d.SU.G9(K.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],o)};
d.SU.RH=function(K){var o=K.keyOriginRRectRadii;if(o==null)return[0,0,0,0];return d.SU.acx(o.v)};d.SU.acx=function(K){var o=[],Y=["topLeft","topRight","bottomRight","bottomLeft"];
for(var c=0;c<4;c++)o.push(K[Y[c]].v.val);return o};d.SU.Lr=function(K,o){d.SU.G9(K.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],o)};
d.SU.G9=function(K,o,Y){var c=K.classID;if(c=="unitRect"||c=="radii"||c=="Rctn"){for(var y=0;y<4;y++)if(Y[y]!=null)K[o[y]]={t:"UntF",v:{type:"#Pxl",val:Y[y]}}}else{for(var y=0;
y<4;y++)if(Y[y]!=null)K[o[y]]={t:"doub",v:Y[y]}}};d.SU.LG=function(K){var o=K.keyOriginLineStart.v,Y=K.keyOriginLineEnd.v;
return[o.Hrzn.v,o.Vrtc.v,Y.Hrzn.v,Y.Vrtc.v]};d.SU.a5g=function(K,o){var Y=K.keyOriginLineStart.v,c=K.keyOriginLineEnd.v;
Y.Hrzn.v=o[0];Y.Vrtc.v=o[1];c.Hrzn.v=o[2];c.Vrtc.v=o[3]};d.SU.aw1=function(K){var o=[],Y=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var y=0;y<5;y++){var c=K["keyOriginLineArr"+Y[y]];if(c==null)return null;o[y]=c.v}return o};d.SU.aAX=function(K,o){K.keyOriginLineArrowSt={t:"bool",v:o[0]};
K.keyOriginLineArrowEnd={t:"bool",v:o[1]};K.keyOriginLineArrWdth={t:"doub",v:o[2]};K.keyOriginLineArrLngth={t:"doub",v:o[3]};
K.keyOriginLineArrConc={t:"long",v:o[4]}};d.SU.aiS=function(K){function o(U,Z){return Math.abs(U-Z)<.5}function Y(U,Z){return o(U.x,Z.x)&&o(U.y,Z.y)}function c(U,Z,T,v,P,p,a){for(var y=0;
y<a;y++){var D=U[Z+(T+y)%a],n=v[P+(p+y)%a];if(!(Y(D.P,n.P)&&Y(D.KK,n.KK)&&Y(D.eb,n.eb)))return!1}return!0}var z=[];
for(var f=0;f<K.length;f++){var b=K[f],O=null;if(b.type!=0&&b.type!=3||b.fa==-1)continue;var q=f;if(b.length==4||b.length==8){var j=d.j.aip(K.slice(0,2).concat(K.slice(q,q+b.length+1)));
q=2;if(b.length==4){var A=d.j.Zb(j,q+1,4),R=A.x,g=A.y,H=R+A.m,i=g+A.e;if(A.Z()>4){if(d.j.Nq(j.slice(q-2,q+5)))O=d.SU.We(2,[R,g,H,i],[0,0,0,0]);
else{var h=-1;for(var y=0;y<4;y++)if(o(j[q+1+y].P.y,i))h=y;if(h!=-1){var x=d.j.OJ.MR(R,g,H-R,i-g),F=c(j,q+1,h,x,3,0,4);
if(F)O=d.SU.We(5,[R,g,H,i])}}}}if(b.length==8){var A=d.j.Zb(j,q+1,8),R=A.x,g=A.y,H=R+A.m,i=g+A.e;if(A.Z()>4){var h=-1;
for(var y=0;y<8;y++)if(o(j[q+1+(y+1&7)].P.y,g)&&o(j[q+1+(y+2&7)].P.y,g))h=y;if(h!=-1){var X=Math.abs(j[q+1+h].P.y-g),V=[X,X,X,X];
if(X>.5){var x=d.j.OJ.Rect(R,g,H-R,i-g,V),F=c(j,q+1,h,x,3,0,8);if(F)O=d.SU.We(2,[R,g,H,i],V)}}}}}z.push(O?O:d.SU._L())}return z};
d.M={};d.M.clone=function(K){return{G:K.G.slice(0),z:K.z.slice(0)}};d.M.az1=function(K){if(K.length<6)return!0;
var o=K.length-4;for(var y=0;y<o;y+=2)if(!d.M.qo(K[y],K[y+1],K[y+2],K[y+3],K[y+4],K[y+5]))return!1;if(!d.M.qo(K[o],K[o+1],K[o+2],K[o+3],K[0],K[1]))return!1;
if(!d.M.qo(K[o+2],K[o+3],K[0],K[1],K[2],K[3]))return!1;return!0};d.M.qo=function(K,o,Y,c,z,f){return(o-c)*(z-Y)+(Y-K)*(f-c)>=0};
d.M.fx=function(K){var o={},Y=null,c=0,z={M:2,L:2,Q:4,C:6},f="",$="";for(var y=0;y<K.G.length;y++){var E=K.G[y];
if(E[0]=="#")f=E;else if(E[0]=="X")f="";else if(E[0]=="O"&&E[1]=="-")$=E;else if(E=="OX")$="";else{var b=f+$;
Y=o[b];if(Y==null)Y=o[b]={z:[],G:[]};Y.G.push(E);var q=z[E];if(q==null)q=0;for(var O=0;O<q;O++)Y.z.push(K.z[c+O]);
c+=q}}return o};d.M.as5=function(K,o,Y){var c=K[o]-K[Y-2],z=K[o+1]-K[Y-1];return c*c+z*z<1e-4};d.M.eX=function(K,o,Y){K=d.M.dY(K);
var c=K.z,z=K.G,f=0,$="",E=0,b=0,f=0,j=null;for(var y=0;y<z.length;y++){var q=z[y];if(q=="M"){E=c[f];
b=c[f+1];f+=2;$=q}if(q=="C"){if($=="Z"){z.splice(y,0,"M");c.splice(f,0,E,b);y--;continue}f+=6;$=q}if(q=="Z"){$=q}}var O=[];
f=0;for(var y=0;y<z.length;y++){var q=z[y];if(q=="M"){j={PO:f,x7:0,ky:!1};O.push(j);f+=2}if(q=="C"){j.x7++;
f+=6}if(q=="Z"&&j!=null){j.ky=!0}}var A=[];for(var y=0;y<O.length;y++)if(O[y].x7!=0)A.push(O[y]);O=A;
for(var y=0;y<O.length;y++){var R=O[y],g=R.PO,H=g+2+R.x7*6,h=0;R.BA=d.M.OA(c,g,H);var i=d.M.as5(c,g,H);
for(var x=0;x<R.x7;x++){var F=g+x*6,X=F+6;h+=(c[X]-c[F])*(c[X+1]+c[F+1])}if(R.x7==2){var V=function(C,r,Q){var j9=1-Q;
return j9*j9*j9*C[r]+3*j9*j9*Q*C[r+2]+3*j9*Q*Q*C[r+4]+Q*Q*Q*C[r+6]},U=c[g],Z=c[g+1],T=c[g+6],v=c[g+7],P=c[g+6],p=c[g+7],a=V(c,g,.5),D=V(c,g+1,.5),n=V(c,g+6,.5),N=V(c,g+7,.5);
h=(a-U)*(D-Z)+(T-a)*(v-D)+(n-T)*(N-v)+(P-n)*(p-N)}if(!i)h+=(c[g]-c[H-2])*(c[g+1]+c[H-1]);R.wV=h<=0}for(var y=0;
y<O.length-1;y++)for(var F=y+1;F<O.length;F++){var W=O[y],G=O[F];if(G.BA.wH(W.BA)){O[y]=G;O[F]=W}}var l=O.length==0?!0:O[0].wV,u=[{type:6},{type:8,all:0}];
for(var y=0;y<O.length;y++){var R=O[y],g=R.PO,H=g+2+R.x7*6,i=d.M.as5(c,g,H);if(R.x7==1)i=!1;var e=R.ky||i?0:3,M=R.wV==l&&!o?1:0;
if(!o&&y!=0){if(O[y-1].BA.wH(R.BA)&&O[y-1].wV!=R.wV)M=0;for(var F=0;F<O.length;F++)if(F!=y&&O[F].BA.wH(R.BA))M=0}u.push({type:e,length:R.x7+(i?0:1),fa:Y?1:M,VB:2});
for(var F=0;F<R.x7;F++){var f=g+F*6,B=new jc(c[f],c[f+1]),s=new jc(c[f+2],c[f+3]),t;if(F==0){if(i){t=new jc(c[H-4],c[H-3]);
if(jc.si(t,B)<1e-5)t=B.clone()}else t=B.clone()}else t=new jc(c[f-2],c[f-1]);u.push({type:e+2,KK:t,P:B,eb:s})}if(!i){var J=new jc(c[H-2],c[H-1]);
u.push({type:e+2,KK:new jc(c[H-4],c[H-3]),P:J,eb:J.clone()})}}for(var F=0;F<u.length;F++){var L=u[F];
if(L.type>5||L.type==0||L.type==3)continue;var k=L.KK.BV(L.P)||L.eb.BV(L.eb);if(!k){var W=L.KK.x*(L.P.y-L.eb.y)+L.P.x*(L.eb.y-L.KK.y)+L.eb.x*(L.KK.y-L.P.y);
if(Math.abs(W)<1e-6)k=!0}if(k)L.type--}return u};d.M.sT=function(K,o){var Y=d.j.rD(K),c=[];for(var y=2;
y<K.length;y++){var z=K[y].fa;if(z!=null){if(z==2||z==0||z==3||z==-1)c.push(z)}}var f=c.length!=0;if((f||o)&&K.length<15e3&&1<Y&&Y<200)K=d.j.HE(K);
var $=d.M.Y0(K);return{CV:$,dU:f?1:0}};d.M.Y0=function(){function K(c,z,f,$){if($!=2&&c.eb.BV(c.P)&&z.KK.BV(z.P)){f.z.push(z.P.x,z.P.y);
f.G.push("L")}else{var E=c.P,b=c.eb,q=z.KK,O=z.P,j=3/2*b.x-1/2*E.x,A=3/2*b.y-1/2*E.y,R=3/2*q.x-1/2*O.x,g=3/2*q.y-1/2*O.y,H=R-j,i=g-A;
if($==0&&H*H+i*i<.001){f.z.push((j+R)*.5,(A+g)*.5,O.x,O.y);f.G.push("Q")}else{f.z.push(b.x,b.y,q.x,q.y,O.x,O.y);
f.G.push("C")}}}function o(c,z,y,f,$,E){var b=z[y];c.z.push(b.P.x,b.P.y);c.G.push("M");for(var q=y;q<y+f-1;
q++)K(z[q],z[q+1],c,E);if(!$)K(z[q],z[y],c,E)}function Y(c,z){if(z==null)z=0;var f={z:[],G:[]};for(var y=0;
y<c.length;y++){if(c[y].type>5)continue;var $=c[y].length;if($==0)continue;if(y==c.length-1)break;var E=c[y].type==3;
o(f,c,y+1,$,E,z);if(!E)f.G.push("Z");y+=$}return f}return Y}();d.M.ahx=function(K){var o=K.z,Y=[],c,z=0;
for(var y=0;y<K.G.length;y++){var f=K.G[y];if(f=="C"){c.push(o[z++],o[z++],o[z++],o[z++],o[z++],o[z++])}else if(f=="Z"){}else{c=[];
if(f!="M"){c.push(f);y++}c.push(o[z++],o[z++]);Y.push(c)}}return Y};d.M.y7=function(K,o,Y,c){if(c==null)c=1e9;
var z=1e9,f=0;for(var y=0;y<K.length;y+=2){var $=o-K[y],E=Y-K[y+1],b=$*$+E*E;if(b<z){z=b;f=y>>>1}}return z<c*c?f:-1};
d.M.gH=function(K,o,Y,c){for(var y=0;y<K.length;y+=2){var z=K[y],f=K[y+1],$=o[y],E=o[y+1];Y[y]=z+($-z)*c;
Y[y+1]=f+(E-f)*c}};d.M.i=function(K,o,Y){for(var y=0;y<K.length;y+=2){var c=K[y],z=K[y+1];Y[y]=c*o.g+z*o.b0+o.B3;
Y[y+1]=c*o.J+z*o.gG+o.Z7}};d.M.OA=function(K,o,Y){if(o==null)o=0;if(Y==null)Y=K.length;var c=99999999999,z=-c,f=99999999999,$=-f;
for(var y=o;y<Y;y+=2){var E=K[y],b=K[y+1];c=Math.min(c,E);f=Math.min(f,b);z=Math.max(z,E);$=Math.max($,b)}return new hD(c,f,z-c,$-f)};
d.M.aeA=function(K,o){var Y=Math.max(o.x,Math.min(o.x+o.m,K.x)),c=Math.max(o.y,Math.min(o.y+o.e,K.y)),z=K.x-Y,f=K.y-c;
return Math.sqrt(z*z+f*f)};d.M.tS=function(K,o){var Y=Math.floor,c=Math.ceil;if(o){Y=Math.ceil;c=Math.floor}var z=Y(K.x),f=c(K.x+K.m),$=Y(K.y),E=c(K.y+K.e);
return new hD(z,$,f-z,E-$)};d.M.MN=function(K,o){return d.M.tS(d.M.OA(K),o)};d.M.Yq=function(K,o){var Y=K.x,c=K.y,z=K.x+K.m,f=K.y+K.e,$=[Y,c,z,c,z,f,Y,f];
if(o){var E=o.clone();E.oD();d.M.i($,E,$)}return{G:["M","L","L","L","Z"],z:$}};d.M.concat=function(K,o,Y){if(Y==null)Y=new dF;
for(var y=0;y<o.z.length;y+=2){var c=o.z[y],z=o.z[y+1];K.z.push(c*Y.g+z*Y.b0+Y.B3);K.z.push(c*Y.J+z*Y.gG+Y.Z7)}for(var y=0;
y<o.G.length;y++)K.G.push(o.G[y])};d.M.aiZ=function(K,o,Y,c,z){function f(A,R,g){return new jc(A.x*(1-g)+R.x*g,A.y*(1-g)+R.y*g)}var $=f(K,o,z),E=f(Y,c,z),b=f(o,Y,z),q=f($,b,z),O=f(b,E,z),j=f(q,O,z);
return[$,q,j,O,E]};d.M.dY=function(K){var o=K.z,Y=[],c=[],z=0,f=0,$=0,E=0,b=0,q=0,O=0,j=0,A=0,R=0,g=0;
for(var y=0;y<K.G.length;y++){var H=K.G[y];if(H=="M"){f=o[z];$=o[z+1];z+=2;c.push(H);Y.push(f,$);R=f;
g=$}else if(H=="C"){E=o[z];b=o[z+1];q=o[z+2];O=o[z+3];j=o[z+4];A=o[z+5];z+=6;c.push(H);Y.push(E,b,q,O,j,A);
f=j;$=A}else if(H=="Q"){E=o[z];b=o[z+1];q=o[z+2];O=o[z+3];z+=4;var i=E-f,h=b-$,x=q-E,F=O-b;c.push("C");
Y.push(f+2/3*i,$+2/3*h,E+1/3*x,b+1/3*F,q,O);f=q;$=O}else if(H=="L"){E=o[z];b=o[z+1];z+=2;if(E!=f||b!=$){c.push("C");
Y.push(f,$,E,b,E,b);f=E;$=b}}else{if(H=="Z"){f=R;$=g}c.push(H)}}return{G:c,z:Y}};d.M.a0$=function(K){var o=K.z,Y=[],c=[],z=0;
for(var y=0;y<K.G.length;y++){var f=K.G[y];if(f=="Q"){var $=o[z-2],E=o[z-1],b=o[z],q=o[z+1],O=o[z+2],j=o[z+3];
z+=4;var A=b-$,R=q-E,g=O-b,H=j-q;c.push("C");Y.push($+2/3*A,E+2/3*R,b+1/3*g,q+1/3*H,O,j)}else{var i=0;
if(f=="M"||f=="L")i=2;else if(f=="C")i=6;for(var h=0;h<i;h++)Y.push(o[z+h]);z+=i;c.push(f)}}return{G:c,z:Y}};
d.M.GF=function(K,o){var Y=K.z,c=[],z=[],f=0,$=0,E=0,b=0,q=0,O=0,j=0,A=0,R=0;for(var y=0;y<K.G.length;
y++){var g=K.G[y];if(g=="M"){$=Y[f];E=Y[f+1];f+=2;z.push(g);c.push($,E)}else if(g=="C"){b=Y[f];q=Y[f+1];
O=Y[f+2];j=Y[f+3];A=Y[f+4];R=Y[f+5];f+=6;d.M.Wu($,E,b,q,O,j,A,R,o,z,c,0);$=A;E=R}else z.push(g)}return{G:z,z:c}};
d.M.Wu=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A=Math.sqrt(($-K)*($-K)+(E-o)*(E-o)),R=Math.sqrt(($-z)*($-z)+(E-f)*(E-f))+Math.sqrt((z-Y)*(z-Y)+(f-c)*(f-c))+Math.sqrt((Y-K)*(Y-K)+(c-o)*(c-o)),g=(A+R)/2;
if(g<=b){q.push("C");O.push(Y,c,z,f,$,E)}else{var H=0,i=0,h=0,x=0,F=0,X=0,V=0,U=0,Z=0,T=0,v=0,P=0,p=0;
i=(K+Y)/2;h=(o+c)/2;x=(Y+z)/2;F=(c+f)/2;X=(z+$)/2;V=(f+E)/2;U=(i+x)/2;Z=(h+F)/2;T=(x+X)/2;v=(F+V)/2;
P=(U+T)/2;p=(Z+v)/2;d.M.Wu(K,o,i,h,U,Z,P,p,b,q,O,j+1);d.M.Wu(P,p,T,v,X,V,$,E,b,q,O,j+1)}};d.M.aza=function(K,o,Y,c,z){var f=Date.now(),$=d.M.a4v(K,o,Y);
if(z){console.log("trace polygons",Date.now()-f);f=Date.now()}var E=[];for(var y=0;y<$.length;y++){var b=$[y],q=b[0],O=["M"],j=K[q[1]*o+q[0]];
if(q.length>8)q=d.M.axz(q,c,b[1]);if(q.length<=4)continue;for(var A=2;A<q.length;A+=2)O.push("L");O.push("Z");
E.push({path:{z:q,G:O},color:j,parent:-1,BA:d.M.OA(q)})}if(z){console.log("simplify polygons",Date.now()-f);
f=Date.now()}for(var y=1;y<E.length;y++){var R=E[y],g=R.path.z,H=g[0],i=g[1],h=g[2],x=g[3],F=h-H,X=x-i,V=H+.5*F-.001*X,U=i+.5*X+.001*F;
for(var A=y-1;A>=0;A--){var Z=E[A];if(!Z.BA.wH(R.BA))continue;if(!c_.tm(Z.path.z,V,U))continue;R.parent=A;
break}}if(z){console.log("checking parents",Date.now()-f);f=Date.now()}return E};d.M.a4v=function(K,o,Y){var c=o*Y,z=new Uint16Array(o*Y),$=0;
for(var y=0;y<c;y++)z[y]=K[y];var f=new Uint8Array(o*Y);f[1*o+1]=f[(Y-1)*o+1]=f[1*o+o-1]=f[(Y-1)*o+o-1]=1;
for(var E=1;E<Y;E++)for(var b=1;b<o;b++){var y=E*o+b,q=z[y-o-1],O=z[y-o],j=z[y-1],A=z[y],R=q==A&&O==j&&q!=O,g=0;
if(A<j){$=A;A=j;j=$}if(j<O){$=j;j=O;O=$}if(O<q){$=O;O=q;q=$}if(A<j){$=A;A=j;j=$}if(j<O){$=j;j=O;O=$}if(A<j){$=A;
A=j;j=$}if(q!=O)g++;if(O!=j)g++;if(j!=A)g++;if(A!=q)g++;if(g>=3||R)f[y]=1}var H=[];for(var E=1;E<Y;E++)for(var b=1;
b<o;b++){var y=E*o+b;if(z[y]!=z[y-1]){var i=d.M.awa(z,o,Y,b,E),h=[];for(var x=0;x<i.length;x+=2)if(f[i[x+1]*o+i[x]]==1)h.push(x>>>1);
H.push([i,h]);d.M.fz(z,o,Y,b,E)}}return H};d.M.fz=function(K,o,Y,c,z){var f=[z*o+c],$=K[z*o+c];K[z*o+c]=65535;
while(f.length!=0){var y=f.pop();K[y]=0;if(K[y+o]==$){f.push(y+o);K[y+o]=65535}if(K[y-o]==$){f.push(y-o);
K[y-o]=65535}if(K[y-1]==$){f.push(y-1);K[y-1]=65535}if(K[y+1]==$){f.push(y+1);K[y+1]=65535}}};d.M.awa=function(K,o,Y,c,z){var f=[0,-1,1,0,0,1,-1,0],O=1;
function $(A,R,O){var y=q*o+b,g=0;if(O==0)g=y-o;else if(O==1)g=y;else if(O==2)g=y-1;else if(O==3)g=y-o-1;
return K[g]}var E=[],b=c,q=z,j=$(b,q,O);do{E.push(b,q);b+=f[O*2];q+=f[O*2+1];if($(b,q,O)!=j)O=O+1&3;
else if($(b,q,O+3&3)!=j)O=O;else if($(b,q,O+2&3)!=j)O=O+3&3}while(b!=c||q!=z);return E};d.M.axz=function(K,o,Y){var c=K.length-2;
if(Y&&Y.length!=0){var z=Y[0]*2,f=Y[Y.length-1]*2,$=z==0?c:z-2,E=K.slice(f);for(var y=0;y<z;y++)E.push(K[y]);
if(z==f)E.push(.9*K[z]+.1*K[$],.9*K[z+1]+.1*K[$+1]);else E.push(K[z],K[z+1]);E=d.M.l9(E,o);E.pop();E.pop();
for(var y=0;y<Y.length-1;y++){var b=K.slice(Y[y]*2,Y[y+1]*2+2);b=d.M.l9(b,o);for(var q=0;q<b.length-2;
q++)E.push(b[q])}return E}var O=K.slice(0);O.push(.9*K[0]+.1*K[c],.9*K[1]+.1*K[c+1]);O=d.M.l9(O,o);O.pop();
O.pop();return O};d.M.l9=function(K,o){var Y=K.length-2,c=K[0],z=K[1],f=K[Y],$=K[Y+1],E=f-c,b=$-z,q=1/Math.sqrt(E*E+b*b),O=f*z-$*c,j=-1,A=-1,R=0;
for(var y=2;y<Y;y+=2){var g=K[y],H=K[y+1],i=H*H*1e6+g*g,h=Math.abs(b*g-E*H+O)*q;if(h>A||h==A&&i>R){A=h;
j=y;R=i}}if(A<o)return[c,z,f,$];var x=d.M.l9(K.slice(0,j+2),o),F=d.M.l9(K.slice(j),o);for(var y=2;y<F.length;
y++)x.push(F[y]);return x};d.M.aql=function(){var K=function(c,z,f,$,E,b){return(z-$)*(E-f)+(f-c)*(b-$)>=0},o=function(c,z,f,$,E,b,q,O){var j=q-f,A=O-$,R=E-f,g=b-$,H=c-f,i=z-$,h=j*j+A*A,x=j*R+A*g,F=j*H+A*i,X=R*R+g*g,V=R*H+g*i,U=1/(h*X-x*x),Z=(X*F-x*V)*U,T=(h*V-x*F)*U;
return Z>=0&&T>=0&&Z+T<1},Y=function(c){var h4=c.length>>>1,y=0;if(h4<3)return[];var z=[],f=[];for(var y=0;
y<h4;y++)f.push(y);var $=h4;while($>3){var E=f[(y+0)%$],b=f[(y+1)%$],q=f[(y+2)%$],O=c[2*E],j=c[2*E+1],A=c[2*b],R=c[2*b+1],g=c[2*q],H=c[2*q+1],i=!1;
if(K(O,j,A,R,g,H)){i=!0;for(var h=0;h<$;h++){var x=f[h];if(x==E||x==b||x==q)continue;if(o(c[2*x],c[2*x+1],O,j,A,R,g,H)){i=!1;
break}}}if(i){z.push(E,b,q);f.splice((y+1)%$,1);$--;y=0}else if(y++>3*$)break}z.push(f[0],f[1],f[2]);
return z};return Y}();d.M.av1=function(K,o){var Y={},c={G:[],z:[]};for(var y=0;y<o.length;y+=3){var z=o[y]*2,f=o[y+1]*2,$=o[y+2]*2;
d.M.NL(K,z,f,c,Y);d.M.NL(K,z,$,c,Y);d.M.NL(K,f,$,c,Y)}return c};d.M.NL=function(K,o,Y,c,z){if(o>Y){var f=Y;
Y=o;o=f}if(z[o+","+Y])return;z[o+","+Y]=!0;c.G.push("M","L");c.z.push(K[o],K[o+1],K[Y],K[Y+1])};d.M.a9$=function(K,o){var Y=[],c=K.length;
for(var y=0;y<c;y+=2){var z=K[y],f=K[y+1],$=K[(y+2)%c],E=K[(y+3)%c];if(E<f){var b=f;f=E;E=b}if(f<o&&o<E){var q=(o-f)/(E-f);
Y.push(z+q*($-z))}}Y.sort(function(O,j){return O-j});return Y};d.M.ab0=function(K,o,Y,c,z,f,$){var E=K-Y,b=o-c,q=z-Y,O=f-c,j=1/Math.sqrt(E*E+b*b),A=1/Math.sqrt(q*q+O*O),R=E*j,g=b*j,H=q*A,i=O*A,h=g*$,x=-R*$,F=-i*$,X=H*$,V=d.M.L5(h,x,R,g,F,X,H,i),U=h+R*V,Z=x+g*V,V=d.M.L5(0,0,R,g,U,Z,-g,R),T=R*V,v=g*V;
return[Math.sqrt(T*T+v*v),R,g,H,i]};d.M.aqG=function(K,o,Y,c,z,f,$){var E=d.M.ab0(K,o,Y,c,z,f,$),b=E[0],q=E[1],O=E[2],j=E[3],A=E[4],R=Math.atan2(q*A-O*j,q*j+O*A);
if(R<0){R=R*-1}var g=Math.PI-R,H=4/3*Math.tan(g/4),i=Y+b*q,h=c+b*O,x=Y+b*j,F=c+b*A,X=i+H*$*-q,V=h+H*$*-O,U=x+H*$*-j,Z=F+H*$*-A;
return[0,0,i,h,X,V,U,Z,x,F]};d.M.L5=function(K,o,Y,c,z,f,$,E){var b=$*(o-f)-E*(K-z),q=E*Y-$*c;if(q==0)return 0;
return b/q};d.M.N1=function(K,o,Y,c,z,f){return K*(c-f)+Y*(f-o)+z*(o-c)};d.M.aik=function(K){function o(n,N,W,G,l,u,e,M,B){var s=d.M.L5(n,N,W,G,l,u,e,M);
B.push(n+W*s,N+G*s)}var Y=[],c=K.length,z=[];for(var y=0;y<c;y+=2){var f=y==0?c-2:y-2,$=y==c-2?0:y+2,E=K[y],b=K[y+1],q=E-K[f],O=b-K[f+1],j=K[$]-E,A=K[$+1]-b,R=Math.sqrt(q*q+O*O),g=Math.sqrt(j*j+A*A);
z.push(g);var H=R/(R+g),i=E-q*.5,h=b-O*.5,x=E+j*.5,F=b+A*.5,X=(K[$]+K[f])*.5,V=(K[$+1]+K[f+1])*.5,U=i+H*(x-i),Z=h+H*(F-h),T=E-U,v=b-Z,P=(j*-q+A*-O)/(R*g),p=(H-.5)*7,a=1+p*H,D=1-p*(1-H);
Y.push(i+T*a,h+v*a,x+T*D,F+v*D)}return Y};d.hR=function(){};d.hR.e0=function(K,o,Y,c,z){var f=Y.m,$=Y.e,E=f*$,b=new Int32Array(E),h4=0;
for(var y=0;y<E;y++)if(o[y]!=0){b[y]=h4;h4++}else if(K[(y<<2)+3]<200){b[y]=-2}else b[y]=-1;if(h4==0)return;
var q=new d.VN(h4,h4),O=new Array(3*h4),j=new Array(3*h4);for(var y=0;y<j.length;y++)j[y]=O[y]=0;var A=1/255,R=[-f,-1,1,f],g=[],H=[];
for(var i=0;i<$;i++)for(var h=0;h<f;h++){var x=i*f+h,F=x<<2,y=b[x],X=y*3,V=0,U=0,Z=0;if(y==-1||y==-2)continue;
for(var T=0;T<4;T++){if(T==2){U=Z;g[Z]=0;H[Z]=y;Z++}var v=x+R[T],P=v<<2,p=b[v];if(T==0&&i==0||T==1&&h==0||T==2&&h==f-1||T==3&&i==$-1||p==-2)continue;
V++;if(p==-1){O[X+0]+=K[P+0];O[X+1]+=K[P+1];O[X+2]+=K[P+2]}else{g[Z]=-1;H[Z]=p;Z++;if(o[x]==o[v]){O[X+0]+=K[F+0]-K[P+0];
O[X+1]+=K[F+1]-K[P+1];O[X+2]+=K[F+2]-K[P+2]}}}g[U]=V;q.E3(g,H,Z)}for(var y=0;y<E;y++)if(b[y]!=-1){var a=y<<2,D=b[y],n=D*3;
j[n]=K[a+0];j[n+1]=K[a+1];j[n+2]=K[a+2]}var N=Date.now();q.atC(j,O,c,z);console.log(Date.now()-N);for(var y=0;
y<E;y++){var D=b[y],W=D*3,a=y<<2;if(D==-1||K[a+3]!=255)continue;K[a+0]=~~(.5+Math.max(0,Math.min(255,j[W+0])));
K[a+1]=~~(.5+Math.max(0,Math.min(255,j[W+1])));K[a+2]=~~(.5+Math.max(0,Math.min(255,j[W+2])))}};d.rect={};
d.rect.avN=function(K,o){var Y=[K],c=[];for(var y=0;y<o.length;y++){var z=o[y],f=!1;for(var $=y+1;$<o.length;
$++){var E=o[$];if(E[0]<=z[0]&&E[1]<=z[1]&&z[2]<=E[2]&&z[3]<=E[3]){f=!0;break}}if(!f)c.push(z)}o=c;for(var y=0;
y<o.length;y++){var z=o[y];for(var $=0;$<Y.length;$++){var E=Y[$],b=Math.max(z[0],E[0]),q=Math.min(z[2],E[2]),O=Math.max(z[1],E[1]),j=Math.min(z[3],E[3]);
if(b<q&&O<j){var A=[];if(E[1]<z[1]){var R=E.slice(0);R[3]=z[1];A.push(R)}if(E[0]<z[0]){var g=E.slice(0);
g[1]=O;g[2]=z[0];A.push(g)}if(z[2]<E[2]){var H=E.slice(0);H[1]=O;H[0]=z[2];A.push(H)}if(z[3]<E[3]){var i=[b,j,q,E[3]];
A.push(i)}if(A.length!=0){Y[$]=A[0];for(var h=1;h<A.length;h++)Y.push(A[h])}}}Y.push(z);Y=d.rect.ayt(Y)}Y.sort(function(z,E){return z[1]!=E[1]?z[1]-E[1]:z[0]-E[0]});
for(var y=1;y<Y.length;y++){var z=Y[y-1],E=Y[y];if(z[0]==E[0]&&z[1]==E[1]&&z[2]==E[2]&&z[3]==E[3]){Y.splice(z[4]==null?y-1:y,1);
y--}}return Y};d.rect.ayt=function(K){K=K.slice(0);for(var y=0;y<K.length;y++){var o=K[y],Y=null;if(o[4]!=null)continue;
for(var c=0;c<K.length;c++){var z=K[c];if(y==c||z[4]!=null)continue;var f=o[0]==z[0],$=o[1]==z[1],E=o[2]==z[2],b=o[3]==z[3];
if($&&b&&(o[2]==z[0]||o[0]==z[2])){Y=[Math.min(o[0],z[0]),o[1],Math.max(o[2],z[2]),o[3]]}if(f&&E&&(o[3]==z[1]||o[1]==z[3])){Y=[o[0],Math.min(o[1],z[1]),o[2],Math.max(o[3],z[3])]}if(Y){K[y]=Y;
K.splice(c,1);break}}if(Y){y--}}return K};d.rect.Lq=function(K){var o=new hD;for(var y=0;y<K.length;
y++)o=o.Bb(K[y]);return o};d.rect.a9m=function(K,o){var Y=d.rect.Lq,c=new UnionFind(K.length),U=1e3,Z=1e3;
for(var y=0;y<K.length;y++)for(var z=y+1;z<K.length;z++){if(!o)continue;var f=K[y],$=K[z],j=1e9,A=1e9;
if(f.wR($)){c.link(y,z);continue}var E=f.x+f.m,b=f.y+f.e,q=$.x+$.m,O=$.y+$.e;if((E<$.x||q<f.x)&&(b<$.y||O<f.y))continue;
if(!(b<$.y||O<f.y))j=Math.min(Math.abs(E-$.x),Math.abs(f.x-q));if(!(E<$.x||q<f.x))A=Math.min(Math.abs(b-$.y),Math.abs(f.y-O));
var R=Math.min(j,A),g=Math.min(f.m,f.e,$.m,$.e);if(R<.3*g)c.link(y,z)}var H=[],i={};for(var y=0;y<K.length;
y++){var h=c.find(y),x=K[y];if(i[h]==null){i[h]=H.length;H.push([])}H[i[h]].push(x)}var F=[],X=[];for(var y=0;
y<H.length;y++){F.push(Y(H[y]));var V=Y(H[y]);V.Vp=y;X.push(V)}X.sort(function(G,l){return Math.max(l.e,l.m)-Math.max(G.e,G.m)});
var T=new NETXUS.RectanglePacker(U,Z);while(!0){var v=!1;T.reset(U,Z);for(var y=0;y<X.length;y++){var P=T.findCoords(X[y].m,X[y].e);
if(P){X[y].x=P.x;X[y].y=P.y}else{U=Math.floor(U*1.1);Z=Math.floor(Z*1.1);v=!0;break}}if(v)continue;break}for(var y=0;
y<H.length;y++){var p=X[y],a=p.Vp,D=F[a],n=H[a],N=p.x-D.x,W=p.y-D.y;for(var z=0;z<n.length;z++)n[z].offset(N,W)}};
d.Rf=function(){};d.Rf.c7=Math.floor(16*window.devicePixelRatio);d.Rf.Xj={};d.Rf.Hz=0;d.Rf.Vl=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
d.Rf.af1=["px","in","cm","mm","%"];d.Rf.iI=function(K,o,Y,c){var z=[1,o,o/2.54,o/25.4,Y/100][c];return K*z};
d.Rf.aBB=function(K,o,Y,c){var z=[1,o,o/2.54,o/25.4,Y/100][c];return K/z};d.Rf.wk=function(K,o,Y,c,z){var f=Y.EU.hq,$=[1,o,o/2.54,o/25.4,c/100][f],E=[2,3,2,1,2][f];
K=K/$;var b=Math.round(K),q=f==0&&Math.abs(K-b)<1e-6?b+"":K.toFixed(E);if(z)q+=" "+d.Rf.af1[f];return q};
d.Rf.a0m=function(K,o,Y,c){var z=Y.EU.hq,f=[1,o,o/2.54,o/25.4,c/100][z];K=parseFloat(K)*f;return K};
d.Rf.a3k=function(K,o){var Y=K+","+o;if(d.Rf.Xj.clr==Y)return;var c=Math.round(d.Rf.c7*.5);d.Rf.Hz=c;
var z=d.oN(c,c);z.save();z.font=c*1.5+"px monospace";var f="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var y=0;
y<f.length;y++){z.fillStyle="#"+d.lP(o);z.fillRect(0,0,c,c);z.fillStyle="#"+d.lP(K);z.fillText(f[y],0,c);
d.Rf.Xj[f[y]]=new Uint8Array(z.getImageData(0,0,c,c).data.buffer)}d.Rf.Xj.clr=Y;z.restore()};d.Rf.asC=function(K,o,Y){var c=0,z=0,f=4*d.Rf.c7;
for(var y=9;y>=0;y--){var $=Math.pow(10,y);if(5*$*K<=f){c=5*$;z=10;break}if(2*$*K<=f){c=2*$;z=4;break}if(1*$*K<=f){c=1*$;
z=10;break}}if(c==0){c=1;z=10}var E=Math.ceil(c*K),b=d.R(E*d.Rf.c7*4);d.nz(b,4278190080|Y);for(var y=0;
y<d.Rf.c7;y++)d.Rf.ad(b,4*y*E,o);for(var y=0;y<E;y++)d.Rf.ad(b,4*((d.Rf.c7-1)*E+y),o);if(c==2)z=2;if(c==5)z=5;
if(c>1||c==1&&E>20)for(var y=1;y<z;y++)d.Rf.a0Y(b,y*(E/z),E,(y&1)==1?.8:.7,o);return{Ol:b,step:c}};d.Rf.a0Y=function(K,o,Y,c,z){var o=Math.round(o);
for(var f=Math.round(d.Rf.c7*c);f<d.Rf.c7-1;f++)d.Rf.ad(K,4*(f*Y+o),z)};d.Rf.ad=function(K,o,Y){K[o+0]=Y>>16&255;
K[o+1]=Y>>8&255;K[o+2]=Y&255};d.Rf.a1N=function(K,o,Y,c,z,f,$){var E=K.k6.m,b=K.k6.e,q=d.Rf.c7,O=o&255,j=o>>8&255,A=o>>16&255;
o=Math.round(O*.6)<<16|Math.round(j*.6)<<8|Math.round(A*.6);d.Rf.a3k(Math.round(O*.8)<<16|Math.round(j*.8)<<8|Math.round(A*.8),Y);
var R=K.O,g=K.w,H=K.Rs;for(var i=0;i<2;i++){var h=i==0?f:$;K.O=h[0];K.w=h[1];K.Rs=0;var x=this.asC(K.O,o,Y),F=K.oh(0,0),X=K.oh(E,b),V=Math.floor(F.x/x.step)*x.step,U=Math.ceil(X.x/x.step)*x.step,Z=Math.floor(F.y/x.step)*x.step,T=Math.ceil(X.y/x.step)*x.step,v=K.Hc(V,Z),P=K.Hc(U,Z),p=x.step*K.O,a=Math.ceil(p);
if(i==1){var D=x.Ol;x.Ol=d.R(D.length*4);d.D.Cy(D,x.Ol,a,q)}var n=i==0?K.h9.data:K.l6.data,N=new hD(0,0,[E,q][i],[q,b][i]),W=new hD(0,0,[a,q][i],[q,a][i]),G=new hD([0,Math.round(q*.2)][i],[Math.round(q*.08),0][i],d.Rf.Hz,d.Rf.Hz),l=(i==0?U-V:T-Z)/x.step;
for(var y=0;y<l;y++){if(i==0)W.x=Math.round(v.x+y*p);else W.y=Math.round(v.y+y*p);d.iF(x.Ol,W,n,N,W);
var u=(i==0?V+y*x.step:Math.abs(Z+y*x.step)).toString(10);for(var e=0;e<u.length;e++){if(i==0)G.x=W.x+3+e*Math.round(d.Rf.Hz*.8);
else G.y=W.y+3+e*Math.round(d.Rf.Hz*1.15);var M=d.Rf.Xj[u[e]];d.iF(M,G,n,N,G)}}}K.O=R;K.w=g;K.Rs=H;var B=Math.floor(q*.6),s=new Uint32Array(K.h9.data.buffer),t=new Uint32Array(K.l6.data.buffer),J=O<128?4278190080:4294967295;
if(0<c&&c<E)for(var y=0;y<B;y++)s[y*E+c]=J;if(0<z&&z<b)for(var y=0;y<B;y++)t[z*q+y]=J};d.scale={};d.scale.V=document.createElement("canvas");
d.scale.$F=d.scale.V.getContext("2d");d.scale.SW=function(K,o,Y){var c=d.scale.V,z=d.scale.$F;c.width=o;
c.height=Y;var f=new ImageData(new Uint8ClampedArray(K.buffer),o,Y);z.putImageData(f,0,0);return z.createPattern(z.canvas,"repeat")};
d.scale.aCH=function(K,o,Y,c,z,f,$,E,b){var q=d.scale.axx(K,Y,c,z,f,$,E,b);if(o)o.set(q);return new Uint8Array(q.buffer)};
d.scale.axx=function(K,o,Y,c,z,f,$,E){var b=d.oN(o,Y);b.save();b.rect(0,0,o,Y);b.translate(f,$);b.scale(c,z);
if(E!=null)b.rotate(-E);b.fillStyle=K;b.fill();b.restore();return new Uint8Array(b.getImageData(0,0,o,Y).data.buffer)};
d.scale.i=function(K,o,Y,c,z){var f=Y.J==0&&Y.b0==0,$=z.m,E=z.e,b=d.M.Yq(o,Y).z,q=d.M.MN(b,f).wu(z),O=q.x,j=q.y,A=O+q.m,R=j+q.e,g=~~o.x,H=~~o.y,i=~~o.m,h=~~o.e;
if(f)for(var x=j;x<R;x++){var F=Y.gG*(x+.5)+Y.Z7-H,X=~~F*i;for(var V=O;V<A;V++){var U=Y.g*(V+.5)+Y.B3-g;
c[x*$+V]=K[X+~~U]}}else for(var x=j;x<R;x++)for(var V=O;V<A;V++){var Z=V+.5,T=x+.5,U=Y.g*Z+Y.b0*T+Y.B3-g,F=Y.J*Z+Y.gG*T+Y.Z7-H;
if(0<=U&&0<=F&&U<i&&F<h)c[x*$+V]=K[~~F*i+~~U]}};d.scale.al6=function(K,o,Y,c,z,f){var $=new Uint32Array(K.buffer),E=new Uint32Array(c.buffer),b=z.m,q=z.e,O=d.M.Yq(o,Y).z,j=f?z:d.M.MN(O).wu(z),A=j.x,R=j.y,g=A+j.m,H=R+j.e,i=~~o.x,h=~~o.y,x=~~o.m,F=~~o.e;
for(var X=R;X<H;X++)for(var V=A;V<g;V++){var U=V+.5,Z=X+.5,T=Y.g*U+Y.b0*Z+Y.B3-i,v=Y.J*U+Y.gG*Z+Y.Z7-h;
if(f){T=((x<<10)+T)%x;v=((F<<10)+v)%F}if(0<=T&&0<=v&&T<x&&v<F)E[X*b+V]=$[~~v*x+~~T]}};d.scale.SS=function(K,o,Y,c,z,f,$){if($<1)d.scale.a5Z(K,o,Y,c,z,f,Math.round(1/$));
else d.scale.aAW(K,o,Y,c,z,f,$)};d.scale.c4=function(K,o,Y,c,z,f,$,E){if(E)E=E.wu(new hD(0,0,o,Y));K=new Uint32Array(K.buffer);
c=new Uint32Array(c.buffer);if($<1)d.scale.ai8(K,o,Y,c,z,f,Math.round(1/$),E);else d.scale.aaK(K,o,Y,c,z,f,$)};
d.scale.aAW=function(K,o,Y,c,z,f,$){for(var E=0;E<Y;E++)for(var b=0;b<o;b++){var q=K[E*o+b],O=Math.min($,z-b*$),j=Math.min($,f-E*$);
for(var y=0;y<j;y++)for(var A=0;A<O;A++)c[($*E+y)*z+$*b+A]=q}};d.scale.a5Z=function(K,o,Y,c,z,f,$){for(var E=0;
E<f;E++)for(var b=0;b<z;b++){var q=0,O=Math.min($,o-b*$),j=Math.min($,Y-E*$);for(var y=0;y<j;y++)for(var A=0;
A<O;A++)q+=K[($*E+y)*o+($*b+A)];c[E*z+b]=Math.round(q/(O*j))}};d.scale.aaK=function(K,o,Y,c,z,f,$){for(var E=0;
E<Y;E++)for(var b=0;b<o;b++){var q=K[E*o+b],O=Math.min($,z-b*$),j=Math.min($,f-E*$);for(var y=0;y<j;
y++)for(var A=0;A<O;A++)c[($*E+y)*z+$*b+A]=q}};d.scale.abW=function(K,o,Y){return(K>>>Y&255)+(o>>>Y&255)>>>1};
d.scale.ez=function(K,o){var Y=d.scale.abW;return Y(K,o,24)<<24|Y(K,o,16)<<16|Y(K,o,8)<<8|Y(K,o,0)};
d.scale.ap8=function(K,o,Y,c,z,f){var $=new Uint32Array(K.buffer),E=new Uint32Array(c.buffer);for(var b=0;
b<Y;b++){for(var q=0;q<o;q++){var O=b*o+q,j=$[O],A=j,R=j,g=j;if(q<o-1)A=d.scale.ez(j,$[O+1]);if(b<Y-1)R=d.scale.ez(j,$[O+o]);
if(q<o-1&&b<Y-1)g=d.scale.ez(j,$[O+o+1]);var H=(b*z+q)*2;E[H]=j;E[H+1]=A;E[H+z]=R;E[H+z+1]=g}}if((z&1)==1)for(var b=0;
b<f;b++)E[b*z+z-1]=E[b*z+z-2];var i=z*(f-1);if((f&1)==1)for(var q=0;q<z;q++)E[i+q]=E[i-z+q]};d.scale.ai8=function(K,o,Y,c,z,f,$,E){var b=0,q=z,O=0,j=f;
if(E){b=Math.floor(E.x/$);q=Math.ceil((E.x+E.m)/$);O=Math.floor(E.y/$);j=Math.ceil((E.y+E.e)/$)}for(var A=O;
A<j;A++)for(var R=b;R<q;R++){var g=0,H=0,i=0,h=0,x=Math.min($,o-R*$),F=Math.min($,Y-A*$);for(var y=0;
y<F;y++)for(var X=0;X<x;X++){var V=K[($*A+y)*o+$*R+X],U=V>>>24;g+=U;H+=U*(V>>>16&255);i+=U*(V>>>8&255);
h+=U*(V&255)}if(g!=0){var Z=1/g;c[A*z+R]=g/(x*F)<<24|H*Z<<16|i*Z<<8|h*Z}else c[A*z+R]=0}};d.r=function(){function K(E,b,y){return(128&E[y-b-1]&E[y-b]&E[y-2]&E[y-1]&E[y+1]&E[y+b-1]&E[y+b])==0}function o(E,b,y){return(128&E[y-b-b]&E[y-b+1]&E[y+2]&E[y+b+1]&E[y+b+b])==0}function Y(E,b,y){return(E[y-b]&E[y-1]&E[y+1]&E[y+b]&128)==0}function c(E,y){return(E[y]&128)!=0}function z(E,b,q,O){var y=0,j=q.m,A=q.e;
if(O)for(var R=0;R<A;R++)for(var g=0;g<j;g++){if(c(E,y)&&(g<2||R<2||g>j-3||R>A-3||((E[y-1]&128)==0||b[y-1]!=0)&&K(E,j,y)||o(E,j,y)))b[y]=255;
y++}else for(var R=0;R<A;R++)for(var g=0;g<j;g++){if(c(E,y)&&(g==0||R==0||g==j-1||R==A-1||Y(E,j,y)))b[y]=255;
y++}}function f(E,b,q,O,j){var A=q.m,R=q.e,g=new Uint8Array(b.buffer),H=new Uint32Array(b.buffer);if(j)for(var i=2;
i<R-2;i++)for(var h=2;h<A-2;h++){var y=i*A+h;if(c(E,y)&&(((E[y-1]&128)==0||H[y-1]!=0)&&K(E,A,y)||o(E,A,y)))H[y]=O[(h+i&4)>>>2]}else for(var i=1;
i<R-1;i++)for(var h=1;h<A-1;h++){var y=i*A+h;if(c(E,y)&&Y(E,A,y)){H[y]=O[(h+i&4)>>>2]}}}function $(E,b,q,O,j){var A=q.m,R=q.e,g=new Uint8Array(b.buffer),H=new Uint32Array(b.buffer),y=0;
if(O==1)for(var i=0;i<R;i++)for(var h=0;h<A;h++,y++){var x=E[y];H[y]=255-x>>>1<<24|255}else for(var i=0;
i<R;i++)for(var h=0;h<A;h++,y++){var x=E[y];H[y]=255<<24|(x<<16|x<<8|x)}}return{ax1:z,a2w:f,asa:$}}();
d.dP={};d.dP.XC=function(K,o,Y){var c,z;if(Y==0){c=K.rect.clone();z=d.dP.awy}if(Y==1){c=K.rect.Bb(o.rect);
z=d.dP.Bb}if(Y==2){c=o.rect.clone();z=d.dP.a6w}if(Y==3){c=K.rect.wu(o.rect);z=d.dP.wu}if(Y==4){c=K.rect.Bb(o.rect);
z=d.dP.a14}if(c.xf())return null;var f=d.R(c.Z());d.u_(o.channel,o.rect,f,c);var $=d.R(c.Z());d.u_(K.channel,K.rect,$,c);
z($,f,f);var E=d.sd(f,c);if(E.xf())return null;if(!E.BV(c)){var b=d.R(E.Z());d.u_(f,c,b,E);f=b;c=E}return{channel:f,rect:c}};
d.dP.awy=function(K,o,Y){for(var y=0;y<K.length;y++)Y[y]=K[y]};d.dP.Bb=function(K,o,Y){for(var y=0;y<K.length;
y++)Y[y]=Math.min(K[y]+o[y],255)};d.dP.a6w=function(K,o,Y){for(var y=0;y<K.length;y++)Y[y]=Math.max(o[y]-K[y],0)};
d.dP.wu=function(K,o,Y){var c=1/255;for(var y=0;y<K.length;y++)Y[y]=K[y]*o[y]*c};d.dP.a14=function(K,o,Y){var c=1/255;
for(var y=0;y<K.length;y++)Y[y]=Math.min(K[y]+o[y],255)-K[y]*o[y]*c};d.VN=function(K,o){this.I=[];this.ww=[0];
this.i2=[];this.R0=[];this.pB=[0];this.cm=[];this.y0=[];this.rows=K;this.cols=o};d.VN.prototype.clone=function(){var K=this,o=K.rows,Y=K.cols,c=new d.VN(o,Y);
c.I=K.I.slice(0);c.ww=K.ww.slice(0);c.i2=K.i2.slice(0);c.R0=K.R0.slice(0);c.pB=K.pB.slice(0);c.cm=K.cm.slice(0);
c.y0=K.y0.slice(0);return c};d.VN.prototype.E3=function(K,o,Y){var c=this.ww.length-1;for(var y=0;y<Y;
y++){var z=K[y],f=o[y];this.I.push(z);this.i2.push(f);if(f==c){this.y0.push(z==0?0:1/z)}else{this.R0.push(z);
this.cm.push(f)}}this.ww.push(this.I.length);this.pB.push(this.R0.length)};d.VN.prototype.XZ=function(K,o){var Y=this,c=Y.rows,z=Y.I,f=Y.i2;
if(o==null)o=new Array(c);for(var y=0;y<c;y++){var $=Y.ww[y],E=Y.ww[y+1],b=0;while((E-$&3)!=0){b+=z[$]*K[f[$]];
$++}for(var q=$;q<E;q+=4)b+=z[q]*K[f[q]]+z[q+1]*K[f[q+1]]+z[q+2]*K[f[q+2]]+z[q+3]*K[f[q+3]];o[y]=b}return o};
d.VN.prototype.multiply=function(K){return this.p2(K.Cy())};d.VN.prototype.p2=function(K){var o=this,Y=o.rows,c=o.cols,z=K.rows,f=new d.VN(Y,z),$=o.i2,E=K.i2;
for(var y=0;y<Y;y++){var b=[],q=[],O=o.ww[y],j=o.ww[y+1];for(var A=0;A<z;A++){var R=K.ww[A],g=K.ww[A+1],H=0,i=O,h=R;
while(i<j&&h<g){var x=Math.max($[i],E[h]);while(i<j&&$[i]<x)i++;while(h<g&&E[h]<x)h++;if(i<j&&h<g&&$[i]==E[h])H+=o.I[i++]*K.I[h++]}if(H!=0){b.push(H);
q.push(A)}}f.E3(b,q,b.length)}return f};d.VN.prototype.Cy=function(){var K=this.rows,o=this.cols,Y=[];
for(var y=0;y<o;y++)Y.push([[],[]]);var c=this.I,z=this.ww,f=this.i2;for(var y=0;y<K;y++){var $=z[y],E=z[y+1];
for(var b=$;b<E;b++){var q=Y[f[b]];q[0].push(c[b]);q[1].push(y)}}var O=new d.VN(o,K);for(var y=0;y<o;
y++)O.E3(Y[y][0],Y[y][1],Y[y][1].length);return O};d.VN.prototype.l7=function(){var K=this.rows,o=this.cols,Y=new Array(K),c=this.I,z=this.ww,f=this.i2;
for(var y=0;y<K;y++){var $=Y[y]=new Array(o);for(var E=0;E<o;E++)$[E]=0;var b=z[y],q=z[y+1];for(var O=b;
O<q;O++)$[f[O]]=c[O]}return Y};d.VN.prototype.Sn=function(K,o,Y,c,z){function f(Z,o,T,v){var P=Z.length;
for(var y=0;y<P;y++)v[y]=Z[y]-o[y]*T}function $(Z,o,T,v){var P=Z.length,p=0;while((P-p&3)!=0){v[p]=Z[p]+o[p]*T;
p++}for(var y=p;y<P;y+=4){v[y]=Z[y]+o[y]*T;v[y+1]=Z[y+1]+o[y+1]*T;v[y+2]=Z[y+2]+o[y+2]*T;v[y+3]=Z[y+3]+o[y+3]*T}}function E(Z,o,T){var v=Z.length;
for(var y=0;y<v;y++)T[y]=Z[y]*o[y]}function b(Z,o){var T=Z.length,v=0,P=0;while((T-v&3)!=0){P+=Z[v]*o[v];
v++}for(var y=v;y<T;y+=4)P+=Z[y]*o[y]+Z[y+1]*o[y+1]+Z[y+2]*o[y+2]+Z[y+3]*o[y+3];return P}var q=c!=null?2:1,O=Date.now(),j=0,A=this,R=K.slice(0),g=K.slice(0);
A.XZ(K,g);f(o,g,1,R);var H=this.y0;if(q==0){H=R.slice(0);H.fill(1)}var i=R.slice(0);E(H,R,i);var h=i.slice(0),x=b(R,i);
while(!0){A.XZ(h,g);var F=x/b(h,g);$(K,h,F,K);f(R,g,F,R);if((j&7)==0&&Math.sqrt(b(R,R))<Y)break;if(q<=1)E(H,R,i);
else{var X=R.slice(0);c.aih(X,R);z.aoU(i,X)}var V=b(R,i),U=V/x;$(i,h,U,h);x=V;j++}};d.VN.prototype.a4g=function(K,o,Y,c){var z=Date.now(),f=1.96,E=0;
if(Y==null)Y=5e-6;if(c==null)c=1e9;var $=1-f,h4=this.rows,b=this.R0,q=this.pB,O=this.cm,j=this.y0;while(!0){var A=0;
for(var y=0;y<h4;y++){var R=o[y],g=q[y],H=q[y+1];if(H-g==4)R-=b[g]*K[O[g]]+b[g+1]*K[O[g+1]]+b[g+2]*K[O[g+2]]+b[g+3]*K[O[g+3]];
else for(var i=g;i<H;i++)R-=b[i]*K[O[i]];var h=K[y]*$+j[y]*R*f,x=h-K[y];A+=x*x;K[y]=h}if(A/h4<Y||Date.now()>z+c)break}};
d.VN.prototype.atC=function(K,o,Y,c){var z=Date.now(),f=1.96,E=0;if(Y==null)Y=5e-5;if(c==null)c=1e9;
var $=1-f,h4=this.rows,b=this.R0,q=this.pB,O=this.cm,j=this.y0;while(!0){var A=0;for(var y=0;y<h4;y++){var R=y*3,g=o[R],H=o[R+1],i=o[R+2],h=q[y],x=q[y+1];
for(var F=h;F<x;F++){var X=b[F],V=O[F]*3;g-=X*K[V+0];H-=X*K[V+1];i-=X*K[V+2]}var U=j[y]*f,Z=K[R+0]*$+g*U,T=K[R+1]*$+H*U,v=K[R+2]*$+i*U,P=Z-K[R+0],p=T-K[R+1],a=v-K[R+2];
A+=.4*P*P+.5*p*p+.1*a*a;K[R+0]=Z;K[R+1]=T;K[R+2]=v}if(A/h4<Y||Date.now()>z+c)break}};d.nA={};d.nA.JK=function(K,o,Y){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:K},Vrtc:{t:"doub",v:o},Cnty:{t:"bool",v:Y}}}};
d.nA.i=function(K,o){for(var y=0;y<K.length;y++){var Y=K[y].v,c=o.qc(new jc(Y.Hrzn.v,Y.Vrtc.v));Y.Hrzn.v=Math.round(c.x);
Y.Vrtc.v=Math.round(c.y)}};d.nA.aws=function(K,o,Y){var h4=K.length-1,c=d.gr.gS(h4+1,h4+2);for(var y=1;
y<h4;y++){c[y][y-1]=1/(K[y]-K[y-1]);c[y][y]=2*(1/(K[y]-K[y-1])+1/(K[y+1]-K[y]));c[y][y+1]=1/(K[y+1]-K[y]);
c[y][h4+1]=3*((o[y]-o[y-1])/((K[y]-K[y-1])*(K[y]-K[y-1]))+(o[y+1]-o[y])/((K[y+1]-K[y])*(K[y+1]-K[y])))}c[0][0]=2/(K[1]-K[0]);
c[0][1]=1/(K[1]-K[0]);c[0][h4+1]=3*(o[1]-o[0])/((K[1]-K[0])*(K[1]-K[0]));c[h4][h4-1]=1/(K[h4]-K[h4-1]);
c[h4][h4]=2/(K[h4]-K[h4-1]);c[h4][h4+1]=3*(o[h4]-o[h4-1])/((K[h4]-K[h4-1])*(K[h4]-K[h4-1]));d.gr.kA(c,Y)};
d.nA.atR=function(K,o,Y,c){if(K<=o[0])return Y[0];if(K>=o[o.length-1])return Y[o.length-1];var y=1;while(o[y]<K)y++;
var z=o[y],f=o[y-1],$=Y[y],E=Y[y-1],b=(K-f)/(z-f),q=c[y-1]*(z-f)-($-E),O=-c[y]*(z-f)+($-E),j=(1-b)*E+b*$+b*(1-b)*(q*(1-b)+O*b);
return j};d.nA.asg=function(K,o,Y,c){var z={Ei:[K[0]],bB:[o[0]],Nb:[]};c[0]=z;for(var y=1;y<K.length-1;
y++){z.Ei.push(K[y]);z.bB.push(o[y]);if(Y[y]==!1){d.nA.aws(z.Ei,z.bB,z.Nb);z={Ei:[K[y]],bB:[o[y]],Nb:[]}}c[y]=z}z.Ei.push(K[y]);
z.bB.push(o[y]);d.nA.aws(z.Ei,z.bB,z.Nb);c[y]=z};d.nA.alV=function(K,o,Y,c){if(K<=o[0])return Y[0];if(K>=o[o.length-1])return Y[o.length-1];
var y=1;while(o[y]<K)y++;var z=c[y-1];return d.nA.atR(K,z.Ei,z.bB,z.Nb)};d.nA.aw0=function(K){var o={Ei:[],bB:[],bG:[]};
for(var y=0;y<K.length;y++){o.Ei[y]=K[y].v.Hrzn.v;o.bB[y]=K[y].v.Vrtc.v;o.bG[y]=K[y].v.Cnty?K[y].v.Cnty.v:!0}return o};
d.nA.ZE=function(K,h4,o){var Y=0,c=255;if(o){Y=-1e9;c=1e9}var z=d.nA.aw0(K),f=[];d.nA.asg(z.Ei,z.bB,z.bG,f);
var $=[];for(var y=0;y<h4;y++)$[y]=1/255*Math.max(Y,Math.min(c,d.nA.alV(y*(255/(h4-1)),z.Ei,z.bB,f)));
return $};d.nA.ay0=function(K,h4,o){var Y=Math.round(K.length/20),c=h4-K.length,z=o?(K[Y]-K[0])/Y:0,f=o?K[0]-c*z:K[K.length-1],$=[];
for(var y=0;y<c;y++)$.push(f+y*z);return o?$.concat(K):K.concat($)};d.nA.Lc=function(K,h4,o){var Y=d.nA.aw0(K),c=[];
d.nA.asg(Y.Ei,Y.bB,Y.bG,c);var z=new Uint8Array(h4),f=h4/256;for(var y=0;y<h4;y++)z[y]=Math.max(0,Math.min(h4-1,d.nA.alV(y*f,Y.Ei,Y.bB,c)));
if(o){z[0]=0;if(z[1]>100)z[1]=.4*z[1];if(z[2]>150)z[1]=.7*z[2]}return z};d.nA.a96=function(K,o){var Y=new Uint8Array(K.length);
for(var y=0;y<K.length;y++)Y[y]=o[K[y]];return Y};d.nA.zU=function(K,o,Y){var c=document.createElement("canvas");
c.width=o;c.height=Y;var z=c.getContext("2d"),f=d.nA.Lc(K,256);z.scale(o/255,Y/255);z.fillStyle="#fff";
z.fillRect(0,0,255,255);z.fillStyle="#333";z.beginPath();z.moveTo(0,255);for(var y=0;y<f.length;y++)z.lineTo(y,255-f[y]);
z.lineTo(255,255);z.closePath();z.fill();return c.toDataURL()};d.style={};d.style.stroke=function(K,o,Y,c){var z=Y.m,f=Y.e,$=new Float64Array(z*f);
d.style.kD(K,$,z,f);d.style.TO(o,Y,$,Y,c)};d.style.TO=function(K,o,Y,c,z){var f=o.wu(c),$=f.m,E=f.e;
z+=.5;var b=f.x-o.x,q=f.y-o.y,O=o.m,j=f.x-c.x,A=f.y-c.y,R=c.m;for(var g=0;g<E;g++){var H=(g+A)*R+j,i=(g+q)*O+b;
for(var h=0;h<$;h++){var x=Math.max(0,Math.min(1,z-Y[H+h]));K[i+h]=Math.round(x*255)}}};d.style.akc=function(K,o,Y,c){for(var z=0;
z<Y;z++)for(var f=0;f<o;f++){var $=z*o+f,E=0,b=0,q=K[$];if(f==0||z==0){E=K[$+1]-q;b=K[$+o]-q}else if(f==Y-1||z==o-1){E=q-K[$-1];
b=q-K[$-o]}else{E=K[$+1]-K[$-1];b=K[$+o]-K[$-o]}if(E!=0||b!=0){var O=1/Math.sqrt(E*E+b*b);E*=O;b*=O}c[$+$]=E;
c[$+$+1]=b}};d.style.kD=function(K,o,Y,c){var z=0,f=Y*c;for(var y=0;y<f;y++)z|=K[y];if(z==0){o.fill(1e9);
return}var $=d.style.D9(K,Y,c);for(var E=0;E<c;E++)for(var b=0;b<Y;b++){var y=E*Y+b,q=$[y*2],O=$[y*2+1],j=(E+O)*Y+b+q;
if(q==0&&O==0){o[y]=0;continue}var A=Math.sqrt(q*q+O*O),R=K[j]*(1/255),g=1/A,H=Math.abs(q)*g,i=Math.abs(O)*g;
if(i>H){var h=i;i=H;H=h}o[y]=A+d.style.aeJ(H,i,R)}};d.style.aeJ=function(K,o,Y){return(.5-Y)*K};d.style.D9=function(K,o,Y,c){var z=new Int16Array(o*Y*2);
d.style.aaU(K,z,o,Y,128);return z};d.style.aaU=function(K,o,Y,c,z){var f=new Int32Array(Y*c);d.style.acw(K,f,Y,c,z);
d.style.awE(f,o,Y,c)};d.style.acw=function(K,o,Y,c,z){var f=new Int32Array(c);for(var $=0;$<Y;$++){var E=Y+c;
for(var b=c-1;b>=0;b--){if(K[b*Y+$]>z)E=0;else E++;f[b]=E}E=Y+c;for(var b=0;b<c;b++){if(K[b*Y+$]>z)E=0;
else E++;o[b*Y+$]=E<f[b]?-E:f[b]}}};d.style.awE=function(K,o,Y,c){var z=(Y+c)*(Y+c),f=new Float64Array(Y),$=new Uint16Array(Y);
for(var E=0;E<c;E++){var b=E*Y,q=0;$[0]=0;f[0]=-z;f[1]=+z;for(var O=1;O<Y;O++){var j=K[O+b]*K[O+b]+O*O,A=(j-(K[$[q]+b]*K[$[q]+b]+$[q]*$[q]))/(2*O-2*$[q]);
while(A<=f[q]){q--;A=(j-(K[$[q]+b]*K[$[q]+b]+$[q]*$[q]))/(2*O-2*$[q])}q++;$[q]=O;f[q]=A;f[q+1]=z}q=0;
for(var O=0;O<Y;O++){while(f[q+1]<O)q++;var R=$[q]-O,g=K[$[q]+b],y=E*Y+O<<1;o[y]=R;o[y+1]=g}}};d.style.A$=function(K,o,Y){if(Y)for(var y=0;
y<K.length;y++){var c=K[y];if(c>0)K[y]=Math.max(0,Math.min(255,c+o*2*(d.style.Kz(y)-128)))}else for(var y=0;
y<K.length;y++){var c=K[y];if(c>0)K[y]=Math.max(0,Math.min(255,c+Math.min(c*3,o*2*(d.style.Kz(y)-128))))}};
d.style.Kz=function(K){K=K^61^K>>16;K=K+(K<<3);K=K^K>>4;K=K*668265261;K=K^K>>15;return K&255};d.Uv={};
d.Uv.oT=function(K,o,Y){var c=K.canvas;if(c.width!=o||c.height!=Y){c.width=o;c.height=Y}};d.Uv.Wn=function(K,o,Y,c,z,f){d.Uv.oT(K,o,Y);
if(f==null)f=!1;var $=z.channel,E=z.rect,b=!z.isEnabled;if(o*Y==0)return;var q=K.createImageData(o,Y),O=q.data,j=1/o,A=1/Y;
for(var y=0;y<Y;y++)for(var R=0;R<o;R++){var g=y*o+R,H=g*4,i=Math.round(c.x+R*j*c.m),h=Math.round(c.y+y*A*c.e),x=0;
if(i<E.x||i>=E.x+E.m||h<E.y||h>=E.y+E.e)x=z.color;else x=$[(h-E.y)*E.m+(i-E.x)];x=255*(255-z.SJ)+x*z.SJ>>>8;
if(f)x=170+Math.round(.4*(x-170));O[H]=x;O[H+1]=x;O[H+2]=x;O[H+3]=255}K.putImageData(q,0,0);if(b)d.Uv.ali(K,o,Y)};
d.Uv.a7n=[];d.Uv.aq4=function(K,o,Y,c){var z,f,$;z=Math.ceil(Math.max(o,Y)*.35);f=o-z;$=Y-z;var E=d.Uv.a7n[z];
if(E==null){var b=d.oN(z,z);b.fillStyle="#eeeeee";b.fillRect(0,0,z,z);var q=Math.round(z*.27),O=b.lineWidth=Math.max(1,Math.round(z*.12)),j=O/2;
b.strokeRect(1+j,1+j,z-O-2,z-O-2);b.strokeRect(q+j,q+j,z-q-q-O,z-q-q-O);E=d.Uv.a7n[z]=b.getImageData(0,0,z,z)}K.putImageData(E,f,$)};
d.Uv.atK=[];d.Uv.aiI=function(K,o,Y){var c,z,f;c=Math.ceil(Math.max(o,Y)*.35);z=o-c;f=Y-c;var $=d.Uv.atK[c];
if($==null){var E=d.oN(c,c);E.fillStyle="#eeeeee";E.fillRect(0,0,c,c);E.lineWidth=1;E.strokeRect(2.5,2.5,c-5,c-5);
var b=E.createImageData(3,3);d.nz(b.data,4278190080);b.data[4*4]=b.data[4*4+1]=b.data[4*4+2]=238;E.putImageData(b,1,1);
E.putImageData(b,c-4,1);E.putImageData(b,1,c-4);E.putImageData(b,c-4,c-4);$=d.Uv.atK[c]=E.getImageData(0,0,c,c)}K.putImageData($,z,f)};
d.Uv.aq5=function(K,o,Y,c,z){d.Uv.oT(K,o,Y);var f=o/c.m;if(o*Y==0)return;K.fillStyle="#999999";K.setTransform(1,0,0,1,0,0);
K.clearRect(0,0,o,Y);var $=d.Uv.pJ;if($==null)$=d.Uv.pJ=eF.oc.Ta(!0,!0);$.strokeStyleLineWidth.v.val=1/f;
K.fillStyle="#ffffff";K.scale(f,f);d.j.FS(z.$,K,0,0);d.j.FS(z.$,K,0,0,$)};d.Uv.aeX=null;d.Uv.mh=function(K,o,Y,c,z,f,$,E,b){d.Uv.oT(K,o,Y);
if(o*Y==0)return;var q=Math.max(o,Y),O=d.Uv.aeX;if(O==null||O.width<q||O.height<q){d.Uv.aeX=O=K.createImageData(q,q)}q=O.width;
var j=O.data,A=c.m/o,R=c.e/Y,g=f.x,H=f.x+f.m,i=f.y,h=f.y+f.e;for(var y=0;y<Y;y++)for(var x=0;x<o;x++){var F=y*q+x,X=F*4,V=~~(c.x+x*A),U=~~(c.y+y*R),Z=d.aeO(y,x,2);
if(V<g||V>=H||U<i||U>=h||b){j[X]=Z;j[X+1]=Z;j[X+2]=Z;j[X+3]=255}else{var T=(U-f.y)*f.m+(V-f.x)<<2,v=z[T+3]*(1/255);
j[X]=z[T+0]*v+Z*(1-v);j[X+1]=z[T+1]*v+Z*(1-v);j[X+2]=z[T+2]*v+Z*(1-v);j[X+3]=255}}if(E!=null)for(var y=0;
y<j.length;y+=4)j[y]=j[y+1]=j[y+2]=j[y+E];K.putImageData(O,0,0);if($)d.Uv.ali(K,o,Y)};d.Uv.av9=function(K,o,Y,c){d.Uv.oT(K,o,Y);
K.fillStyle=d.Uv.CK(c.Clr.v);K.fillRect(0,0,o,Y);d.Uv.Ck(K,o,Y)};d.Uv.aoK=null;d.Uv.amH=function(K,o,Y,c){d.Uv.oT(K,o,Y);
var z=K.canvas.width,f=K.canvas.height,$=d.Uv.aoK;if($==null||$.width!=z||$.height!=f){K.fillStyle="#ffffff";
K.fillRect(0,0,o,Y);K.fillStyle="#000000";K.font=""+Y*.7+"px serif";K.fillText("T",(o-Y*.43)/2,Y*.75);
K.fillText("T",(o-Y*.43)/2,Y*.75);d.Uv.aoK=K.getImageData(0,0,z,f)}else K.putImageData($,0,0)};d.Uv.aaH=function(K,o,Y){d.Uv.oT(K,o,Y);
K.clearRect(0,0,o,Y);K.font=Y*.7+"px serif";K.fillText(":(",(o-Y*.43)/2,Y*.7)};d.Uv.a6l=function(K,o,Y,c){d.Uv.oT(K,o,Y);
var z=jh.get(c),f=K.canvas.width,$=d.Uv.ai2[f+z];if($==null){var E=PIMG["adj/"+z],b=fv.rh(E),q=UPNG.decode(b.buffer),O=new Uint8Array(UPNG.toRGBA8(q)[0]),j=new hD(0,0,160,160),A=0,R=f-A*2,g=m.OB.Z6([O,j],new dF(R/160,0,0,R/160,0,0)),H=new hD(0,0,f,f),i=d.R(H.Z()*4);
d.l.To("norm",g.buffer,g.rect,i,H,g.rect,1);$=d.Uv.ai2[f+z]=new ImageData(new Uint8ClampedArray(i.buffer),f,f)}K.putImageData($,0,0)};
d.Uv.ai2={};d.Uv.amF=function(K,o,Y,c){d.Uv.oT(K,o,Y);var z=K.canvas.width,f=K.canvas.height,$=K.getImageData(0,0,z,f);
d.H.EI(c.Grad.v,new Uint8Array($.data.buffer),new hD(0,0,z,f),[1/z,0,0,1/f],z/2,f/2,!1,0,16711680,65280);
K.putImageData($,0,0);d.Uv.Ck(K,o,Y)};d.Uv.ahp=function(K,o,Y,c,z){d.Uv.oT(K,o,Y);var f=K,$=eq.fF(c.Ptrn.v,z.add.Patt);
if($==null)return;var E=$.JN[1];d.Uv.mh(K,o,Y,E,$.JN[0],E,!1);d.Uv.Ck(f,o,Y)};d.Uv.ali=function(K,o,Y){K.strokeStyle="#bb0000";
K.lineWidth=3;K.beginPath();K.moveTo(o*.15,Y*.15);K.lineTo(o*.85,Y*.85);K.moveTo(o*.85,Y*.15);K.lineTo(o*.15,Y*.85);
K.closePath();K.stroke()};d.Uv.Ck=function(K,o,Y){K.fillStyle="#eeeeee";K.fillRect(0,Y*.75,o,Y*.25);
K.beginPath();K.moveTo(0,Y*.75);K.lineTo(o,Y*.75);K.moveTo(o*.1,Y*.875);K.lineTo(o*.9,Y*.875);K.moveTo(o*.65,Y*.825);
K.lineTo(o*.65,Y*.95);K.closePath();K.stroke()};d.Uv.CK=function(K){var o=d.H.CK(K),Y=Math.round(o.o)<<16|Math.round(o.A)<<8|Math.round(o.J);
return"#"+d.lP(Y)};d.j={};d.j.ri=function(K,o,Y){var c=[],z=-1;for(var y=0;y<K.length;y++){var f=K[y];
if((f.type==0||f.type==3)&&f.fa!=-1)z++;if(f.type>5||f.type==0||f.type==3)continue;if(o!=null&&o.indexOf(z)==-1)continue;
if(Y!=null&&Y.indexOf(y)==-1)continue;c.push(f.KK.x);c.push(f.KK.y);c.push(f.P.x);c.push(f.P.y);c.push(f.eb.x);
c.push(f.eb.y)}return c};d.j.v3=function(K,o,Y,c){var z=0,f=-1;for(var y=0;y<o.length;y++){var $=o[y];
if(($.type==0||$.type==3)&&$.fa!=-1)f++;if($.type>5||$.type==0||$.type==3)continue;if(Y!=null&&Y.indexOf(f)==-1)continue;
if(c!=null&&c.indexOf(y)==-1)continue;$.KK.Ex(K[z],K[z+1]);$.P.Ex(K[z+2],K[z+3]);$.eb.Ex(K[z+4],K[z+5]);
z+=6}};d.j.k3=function(K,o,Y,c){var z=d.j.ri(K,Y,c);d.M.i(z,o,z);d.j.v3(z,K,Y,c)};d.j.aBj=function(K,o,Y,c){var z=d.j.ri(K,Y,c);
d.D.i(o,z);d.j.v3(z,K,Y,c)};d.j.ax8=function(K,o,Y,c){if(c==null){var z=d.j.ahL(K,40,Y);for(var y=0;
y<z.length;y++)K[y]=z[y]}var f=d.j.ri(K,Y,c);d.vo.i(o,f,d.M.OA(f));d.j.v3(f,K,Y,c)};d.j.ahL=function(K,o,Y){var c=[],z=-1;
for(var y=0;y<K.length;y++){var f=K[y],$=f.length;if(f.type>5){c.push(JSON.parse(JSON.stringify(f)));
continue}f=JSON.parse(JSON.stringify(f));c.push(f);if(f.fa!=-1)z++;if(Y&&Y.indexOf(z)==-1){c=c.concat(K.slice(y+1,y+1+$))}else{var E=d.j.apl(K,y+1,$);
E=d.M.GF(E,o);var b=d.j.amI(E);f.length=b.length;for(var q=0;q<b.length;q++)c.push(b[q])}y+=$}return c};
d.j.apl=function(K,o,Y){var c={G:["M"],z:[]},z=K[o],f=K[o+Y-1];c.z.push(z.P.x,z.P.y);for(var y=1;y<Y;
y++){var $=K[o+y-1],E=K[o+y];c.G.push("C");c.z.push($.eb.x,$.eb.y,E.KK.x,E.KK.y,E.P.x,E.P.y)}c.G.push("C");
c.z.push(f.eb.x,f.eb.y,z.KK.x,z.KK.y,z.P.x,z.P.y);return c};d.j.amI=function(K){var o=[],Y=K.G,c=K.z,z=0,h4=c.length;
o.push({type:2,KK:new jc(c[h4-4],c[h4-3]),P:new jc(c[0],c[1]),eb:new jc(c[2],c[3])});for(var y=0;y<Y.length-2;
y++){var f=y*6+4;o.push({type:2,KK:new jc(c[f],c[f+1]),P:new jc(c[f+2],c[f+3]),eb:new jc(c[f+4],c[f+5])})}return o};
d.j.a39=function(K){for(var y=0;y<K.length;y++){if(K[y].type>5)continue;var o=K[y].length;if(!(o==4||o==6||o==8)){y+=o;
continue}for(var Y=0;Y<o;Y++){var c=K[y+1+Y],z=K[y+1+(Y+1)%o],f=Math.min(c.P.x,z.P.x),$=Math.min(c.P.y,z.P.y),E=0,b=0;
if(c.P.x<z.P.x){E=c.P.y-$;b=E-(z.P.x-f)}else{E=z.P.y-$;b=E-(c.P.x-f)}if(Math.abs(b)<.2*E)return E}}return-1};
d.j.QJ=function(K,o,Y){function c(A,R){var g=Math.min(A.x,R.x),H=Math.min(A.y,R.y),i=Math.max(A.x+A.m,R.x+R.m),h=Math.max(A.y+A.e,R.y+R.e);
return new hD(g,H,i-g,h-H)}var z=null,f=-1,$=!d.j.Tk(K);for(var y=0;y<K.length;y++){var E=K[y];if(E.type>5)continue;
if((E.type==0||E.type==3)&&E.fa!=-1)f++;if(o!=null&&o.indexOf(f)==-1)continue;if(y==K.length-1)break;
var b=E.type==3,q=E.length,O=E.fa,j=d.j.Zb(K,y+1,q,b);if(z==null)z=j;else if(Y)z=c(z,j);else if($){if(o!=null||O==0||O==-1||O==2)z=c(z,j);
else if(O==1)z=z;else if(O==3){z=j;$=!1}}else{if(o!=null||O==0||O==-1||O==1)z=c(z,j);else if(O==2)z=z;
else if(O==3)z=z.wu(j)}y+=q}if(z==null||z.m<0||z.e<0)z=new hD(0,0,0,0);return z};d.j.a6d=new Float64Array(4);
d.j.Zb=function(K,y,o,Y){var c=d.j.a6d;c[0]=1e30;c[1]=1e30;c[2]=-1e30;c[3]=-1e30;var z=K[y+o-1];if(!Y)d.j.a1R(z.P.x,z.P.y,z.eb.x,z.eb.y,K[y].KK.x,K[y].KK.y,K[y].P.x,K[y].P.y,c);
for(var f=y;f<y+o-1;f++){var $=K[f],E=K[f+1];d.j.a1R($.P.x,$.P.y,$.eb.x,$.eb.y,E.KK.x,E.KK.y,E.P.x,E.P.y,c)}return new hD(c[0],c[1],c[2]-c[0],c[3]-c[1])};
d.j.a1R=function(K,o,Y,c,z,f,$,E,b){if(K==Y&&o==c&&z==$&&f==E){b[0]=Math.min(b[0],Math.min(K,$));b[1]=Math.min(b[1],Math.min(o,E));
b[2]=Math.max(b[2],Math.max(K,$));b[3]=Math.max(b[3],Math.max(o,E));return}var q=K,O=o,j=K,A=o,R=40,g=1/(R-1);
for(var H=0;H<R;H++){var i=H*g,h=1-i,x=h*h*h,F=3*h*h*i,X=3*h*i*i,V=i*i*i,U=x*K+F*Y+X*z+V*$,Z=x*o+F*c+X*f+V*E;
if(U<q)q=U;else if(U>j)j=U;if(Z<O)O=Z;else if(Z>A)A=Z}if(q<b[0])b[0]=q;if(O<b[1])b[1]=O;if(j>b[2])b[2]=j;
if(A>b[3])b[3]=A};d.j.ap2=function(K,o){var Y=K.length-3,c=o%Y,z=Math.floor(c);if(o<0||z>=Y)return null;
var f=K[3+z],$=K[3+(z+1)%Y],E=f.P,b=f.eb,q=$.KK,O=$.P,j=c-z,A=1-j,R=A*A*A*E.x+3*A*A*j*b.x+3*A*j*j*q.x+j*j*j*O.x,g=A*A*A*E.y+3*A*A*j*b.y+3*A*j*j*q.y+j*j*j*O.y;
return new jc(R,g)};d.j.Gn=function(K,o){var Y=d.M.sT(K),c=Y.CV;Y.CV=Typr.U.pathToSVG({crds:c.z,cmds:c.G},o==null?2:o);
return Y};d.j.HE=function(K){d.j.tD();var o,Y=d.j.c2(K),c=[];for(var y=0;y<Y.length;y++){var z=Y[y][0],f=Y[y][1];
if(Math.abs(z.area)<1e-5)c.push(z);else if(o==null)o=z;else{if(!z.closed)z.closed=!0;o=o[f](z);o.remove()}}if(o==null)o=new paper.CompoundPath(c);
else{if(o.segments)o=new paper.CompoundPath(o);for(var y=0;y<c.length;y++){o.addChild(c[y])}}var $=K.slice(0,2);
$=$.concat(d.j.t5(o));if($[2])$[2].fa=1;for(var y=3;y<$.length;y++)if($[y].fa!=null)$[y].fa=-1;return $};
d.j.tD=function(){if(d.j.ajW==null){var K=document.createElement("canvas");paper.setup(K);d.j.ajW=!0}};
d.j.axI=function(K,o){d.j.tD();var Y=[],c=d.j.c2(K),z=new paper.Path.Rectangle(new paper.Rectangle(o.x,o.y,o.m,o.e));
z.remove();z.fillColor=new paper.Color(1,0,0);for(var y=0;y<c.length;y++){if(z.intersects(c[y][0])||z.contains(c[y][0].children[0].segments[0].point))Y.push(y)}return Y};
d.j.R9=function(K,o,Y,c){d.j.tD();var z=Y?{curves:!0,tolerance:c}:null,f=new paper.Point(o.x,o.y),$=d.j.c2(K);
for(var y=$.length-1;y>=0;y--){var E=$[y][0],b=E.hitTest(f,z);if(b!=null)return{UQ:y,UM:Y?b.location.index:null,Yj:Y?b.location.time:0}}return{UQ:-1}};
d.j.IY=function(K,o,Y){var c=[[],[],[]];for(var y=0;y<K.length;y++){var z=K[y];if(z.type>5||z.type==0||z.type==3)continue;
var f=Y==null?!0:Y.indexOf(y)!=-1;if(o.Tz(z.P))c[0].push(y);if(o.Tz(z.KK)&&f)c[1].push(y);if(o.Tz(z.eb)&&f)c[2].push(y)}return c};
d.j.aBr=function(K,o,Y){var c=K[o];for(var z=o+1;z<Y;z++)K[z-1]=K[z];K[Y-1]=c};d.j.ant=function(K,o,Y,c){var y,z,f,$=0;
K=K.slice(0);o.sort(function(g,H){return g-H});f=-1;for(y=2;y<K.length;){var E=K[y],b=E.length;if(E.fa!=-1)f++;
var q=$;while(q<o.length&&o[q]<y+1+b)q++;if($!=q){var O=o.slice($,q);$=q;for(z=0;z<b;z++)if(O.indexOf(y+1+z)!=-1)K[y+1+z]=null;
if(E.type==0){var j=O[0]-(y+1);while(j!=0){d.j.aBr(K,y+1,y+1+b);j--}}var A=E;A.length=0;z=0;while(z<b&&K[y+1+z]==null)z++;
while(z<b){var R=K[y+1+z];if(R!=null)A.length++;else if(z<b+1&&K[y+1+z+1]){A=K[y+1+z]={type:0,fa:-1,length:0,JV:0,XT:0,VB:1}}z++}if(c)for(z=-1;
z<b;z++)if(K[y+1+z]&&K[y+1+z].type<3)K[y+1+z].type+=3;d.SU.lM(Y,f)}y+=1+b}for(y=0;y<K.length;y++)if(K[y]==null){K.splice(y,1);
y--}f=0;for(y=2;y<K.length;y++){var E=K[y];if(E.length==0){if(K[y+1]&&K[y+1].fa==-1)K[y+1].fa=E.fa;else if(E.fa!=-1)Y.splice(f,1);
K.splice(y,1);y--}else if(E.length!=null&&E.fa!=-1)f++}return K};d.j.abi=function(K,o){var Y=K.slice(0,2),c=-1;
for(var y=2;y<K.length;y++){if((K[y].type==0||K[y].type==3)&&K[y].fa!=-1)c++;if(o.indexOf(c)==-1)Y.push(K[y])}return Y};
d.j.ajk=function(K,o){var Y=K.slice(0,2),c=-1;for(var y=2;y<K.length;y++){if((K[y].type==0||K[y].type==3)&&K[y].fa!=-1)c++;
if(o.indexOf(c)!=-1)Y.push(K[y])}return Y};d.j.arh=function(K){var o=0;for(var y=0;y<K.length;y++)if(K[y].type==0||K[y].type==3)o=y;
return K[o]};d.j.rD=function(K){var o=-1;for(var y=0;y<K.length;y++)if((K[y].type==0||K[y].type==3)&&K[y].fa!=-1)o++;
return o+1};d.j.js=function(K,o,Y){var c=-1;for(var y=0;y<K.length;y++)if((K[y].type==0||K[y].type==3)&&(Y||K[y].fa!=-1)){c++;
if(c==o)return y}return-1};d.j.UG=function(K,o,Y){var c=-1;for(var y=0;y<K.length;y++)if((K[y].type==0||K[y].type==3)&&(Y||K[y].fa!=-1)){if(y>=o)return c;
c++}return c};d.j.iY=function(K,o){var Y=-1,c=0;for(var y=0;y<K.length;y++){if((K[y].type==0||K[y].type==3)&&K[y].fa!=-1)Y++;
if(Y==o)c++}return c};d.j.aBC=function(K){var o=180;for(var y=0;y<K.length;y++){if(K[y].type!=0&&K[y].type!=3)continue;
var Y=K[y].length;if(Y<3)continue;for(var c=0;c<Y;c++){var z=K[y+1+(c-1+Y)%Y],f=K[y+1+c],$=K[y+1+(c+1)%Y],E=f.P,b=f.KK.BV(E)?z.eb:f.KK,q=f.eb.BV(E)?$.KK:f.eb;
if(E.BV(b)||E.BV(q))continue;var O=b.x-E.x,j=b.y-E.y,A=q.x-E.x,R=q.y-E.y,b=Math.atan2(b.y-E.y,b.x-E.x)*180/Math.PI,q=Math.atan2(q.y-E.y,q.x-E.x)*180/Math.PI,g=Math.abs(q-b)%360,H=g>180?360-g:g;
if(H<o)o=H}}return o*Math.PI/180};d.j.t5=function(K){var o=K.segments?[K]:K.children,Y=[];for(var y=0;
y<o.length;y++){var c=o[y],z=c.segments,f=c.closed?0:3,$=Y.length,E=null;if(z.length<=1)continue;Y.push({type:f,length:z.length,fa:0,VB:2});
for(var b=0;b<z.length;b++){var q=z[b],O=new jc(q.handleIn.x,q.handleIn.y),j=new jc(q.handleOut.x,q.handleOut.y),A=new jc(q.point.x,q.point.y),R={type:f+1,KK:A.add(O),P:A,eb:A.add(j)};
if(E==null)E=R;Y.push(R);if(b+1==z.length&&jc.si(E.P,R.P)<1e-5){Y.pop();Y[$].length--;E.KK=R.KK;if(f==3)for(var g=$;
g<Y.length;g++)Y[g].type-=3}}}return Y};d.j.c2=function(K){d.j.tD();var o=[],Y,c=new paper.Color(1,0,0);
function z(R,E){R.remove();R.closed=!E;R.fillRule="evenodd"}for(var y=0;y<K.length;y++){if(K[y].type>5)continue;
var f=K[y].length,$;if(y==K.length-1)break;var E=K[y].type==3;if(y==2){if(!d.j.CD(K))$="subtract";else $="unite"}else{if(K[y].fa==0)$="exclude";
if(K[y].fa==1)$="unite";if(K[y].fa==2)$="subtract";if(K[y].fa==3)$="intersect"}if(K[y].fa!=-1){Y=new paper.CompoundPath;
o.push([Y,$]);Y.fillRule="evenodd";Y.fillColor=c}var b=[];for(var q=0;q<f;q++){var O=K[y+1+q],j=O.KK.km(O.P),A=O.eb.km(O.P);
b.push([[O.P.x,O.P.y],[j.x,j.y],[A.x,A.y]])}var R=new paper.Path(b);z(R,E);Y.addChild(R);y+=f}return o};
d.j.xo=function(K){for(var y=0;y<K.length;y++){var o=K[y];if(o.P==null)continue;if(!o.P.BV(o.KK)||!o.P.BV(o.eb))return!1}return!0};
d.j.a2L=function(K){if(K.length<=5)return 0;var o=0,Y=K.length-3-1;for(var y=0;y<Y;y++){var c=K[3+y],z=K[3+y+1];
if(c.type==0||z.type==0)return 0;o+=(z.P.x-c.P.x)*(c.P.y+z.P.y)}o+=(K[3].P.x-K[3+Y].P.x)*(K[3+Y].P.y+K[3+1].P.y);
return-o*.5};d.j.Tk=function(K){var o=K[2],Y=!1;if(K.length==2)Y=K[1].all==0;else if(K[1].all==1){if(o.fa==1||o.fa==3)Y=!0;
else Y=!1}else{if(o.fa==1||o.fa==3||o.fa==0)Y=!0;else Y=!1}return Y};d.j.CD=function(K){var o=d.j.Tk(K);
for(var y=3;y<K.length;y++)if(K[y].fa==3)o=!0;return o};d.j.acJ=0;d.j.aay=0;d.j.ahP=0;d.j.a7Y=function(K,o,Y,c){if(Y.xf())return;
var z=Y.Z(),h=16384;d.j.acJ+=z;if(z>d.j.aay){d.j.aay=z}var f=Y.m,$=Y.e;if(c==null&&d.j.xo(K)&&K[2]&&K[2].fa!=2){var E=!0;
for(var y=2;y<K.length;)if(K[y].length==2)y+=3;else{E=!1;break}if(E){return}if(d.j.Nq(K)){o.fill(255);
var b=d.j.QJ(K);if(b.Z()!=z){var q=1-(b.x-Y.x),O=1-(b.y-Y.y),j=1-(Y.x+Y.m-(b.x+b.m)),A=1-(Y.y+Y.e-(b.y+b.e)),R=~~(q*255),g=~~(j*255),H=~~(O*255),i=~~(A*255);
o.fill(H,0,f);o[0]=~~(q*O*255);o[f-1]=~~(j*O*255);for(var y=f;y<z;y+=f){o[y]=R;o[y+f-1]=g}o.fill(i,($-1)*f,$*f);
o[z-f]=~~(q*A*255);o[z-1]=~~(j*A*255)}return}}var x=Math.ceil(f/h),F=Math.ceil($/h),X=Math.ceil(f/x),V=Math.ceil($/F),U=Date.now();
for(var Z=0;Z<F;Z++)for(var T=0;T<x;T++){var v=T*X,P=Z*V,p=X,a=V,D=d.oN(p,a);if(!d.j.Tk(K))D.fillRect(0,0,p,a);
d.j.FS(K,D,-Y.x-v,-Y.y-P,c);var n=new Uint8Array(D.getImageData(0,0,p,a).data.buffer);if(p==f&&a==$)d.JI(n,o,3);
else d.zv(n,new hD(v,P,p,a),o,new hD(0,0,f,$))}};d.j.agI=function(K){var o=!1,Y=!1,c=0,z=!1;for(var y=0;
y<K.length;y++){var f=K[y].fa;if(f!=null){c++;if(f==-1)o=!0;if(f==1||f==2||f==3)Y=!0;if(K[y].type==0)z=!0}}if(!o&&c<20&&z&&Y)K=d.j.HE(K);
return K};d.j.FS=function(K,o,Y,c,z,f){if(z!=null){K=d.j.agI(K)}for(var y=0;y<K.length;y++){if(K[y].type>5)continue;
var $=K[y].length;if($==0)continue;if(y==K.length-1)break;var E=K[y].type==3,b=K[y].fa;if(b!=-1&&z==null){var q=["xor","source-over","destination-out","source-in"][b];
o.globalCompositeOperation=q}if(K[y].fa!=-1){o.beginPath();if(z)d.j.Zz(eF.oc.bk(z,null,1),o)}d.j.asj(o,K,y+1,$,Y,c,E);
if(E){}else o.closePath();if(K[y+1+$]==null||K[y+1+$].fa!=-1){if(z){if(f)o.clip();o.stroke()}else o.fill(b==-1?"nonzero":"evenodd")}y+=$}o.globalCompositeOperation="source-over";
o.setLineDash([])};d.j.Zz=function(K,o){var Y=K.lwidth;o.setLineDash(K.dash);o.lineCap=["butt","round","square"][K.lcap];
o.lineJoin=["miter","round","bevel"][K.ljoin];o.lineWidth=K.sal==1?Y:Y*2;o.miterLimit=K.mlimit};d.j.asj=function(K,o,y,Y,c,z,f){var $=o[y],E=null;
K.moveTo($.P.x+c,$.P.y+z);for(var b=y;b<y+Y-1;b++){$=o[b];E=o[b+1];K.bezierCurveTo($.eb.x+c,$.eb.y+z,E.KK.x+c,E.KK.y+z,E.P.x+c,E.P.y+z)}if(!f){$=o[b];
E=o[y];K.bezierCurveTo($.eb.x+c,$.eb.y+z,E.KK.x+c,E.KK.y+z,E.P.x+c,E.P.y+z)}};d.j.ajz=function(K,o){var Y=[],c=o?4:1;
for(var y=0;y<K.length;y+=2){var z=new jc(K[y],K[y+1]);Y.push({type:c,KK:z.clone(),P:z.clone(),eb:z.clone()})}return Y};
d.j.a40=function(K,o,Y){var c=(1-(Y!=null?Y:25)*.01)*10;if(c>0){for(var y=0;y<o.length;y++){var z=o[y],f=d.j.js(K,z),$=d.j.iY(K,z),E=K.slice(f,f+$);
d.j.tD();var b=new paper.Path;b.remove();b.closed=!0;for(var q=1;q<E.length;q++)b.add(new paper.Point(E[q].P.x,E[q].P.y));
var O=b.simplify(c);if(O)K.splice(f,$,...d.j.t5(b))}}return K};d.j.C_=function(K,o,Y){var c=d.M.OA(K),z=Math.sqrt(Math.sqrt(c.Z()))*.2,f=.2;
K=K.slice(0);var $=K.length,E=o?0:2;for(var b=0;b<5;b++)for(var y=E;y<K.length-E;y+=2){var q=(y-2+$)%$,O=(y+2)%$,j=K[y],A=K[y+1],R=(K[q]+K[O])*.5,g=(K[q+1]+K[O+1])*.5;
K[y]=j+(R-j)*f;K[y+1]=A+(g-A)*f}if(Y)return d.j.OJ.NX(K,null,!o);d.j.tD();var H=new paper.Path;H.remove();
H.closed=o;for(var y=0;y<K.length;y+=2)H.add(new paper.Point(K[y],K[y+1]));H.simplify(z);var i=[{type:6},{type:8,all:0}];
i=i.concat(d.j.t5(H));return i};d.j.xF=function(K,o,Y){var c=K[o].length,z=K[o].type,f=0,$=K.slice(o+1,o+1+c);
for(var y=0;y<c;y++){var E=Y[(y-1+c)%c],b=Y[(y+1+c)%c],q=Y[y];if(q!=0){var O=$[(y-1+c)%c].P,j=$[(y+0+c)%c].P,A=$[(y+1+c)%c].P,R=jc.si(j,O),g=jc.si(j,A),H=d.M.ab0(O.x,O.y,j.x,j.y,A.x,A.y,q)[0],i=Math.min(H,E==0?R:R/2,b==0?g:g/2);
q*=i/H;var h=d.M.aqG(O.x,O.y,j.x,j.y,A.x,A.y,q),x={type:z+1,KK:new jc(h[2],h[3]),P:new jc(h[2],h[3]),eb:new jc(h[4],h[5])},F={type:z+1,KK:new jc(h[6],h[7]),P:new jc(h[8],h[9]),eb:new jc(h[8],h[9])};
K.splice(o+f+1,1,x,F);f++;K[o].length++}f++}};d.j.xo=function(K){for(var y=0;y<K.length;y++){var o=K[y],Y=o.type;
if(Y==1||Y==2||Y==4||Y==5)if(!o.P.BV(o.KK)||!o.P.BV(o.eb))return!1}return!0};d.j.Nq=function(K){if(K.length!=7||K[2].length!=4||!d.j.xo(K))return!1;
for(var y=0;y<4;y++){var o=!0;for(var Y=0;Y<4;Y++){var c=K[3+(y+Y&3)],z=K[3+(y+Y+1&3)];if(c.P.x!=z.P.x&&c.P.y!=z.P.y)o=!1}if(o)return!0}return!1};
d.j.avm=function(K){if(K.length<6)return 0;var o=K.length-2,Y=0;for(var y=0;y<o;y+=2)Y+=(K[y+2]-K[y])*(K[y+1]+K[y+3]);
Y+=(K[0]-K[o])*(K[o+1]+K[1]);return-Y*.5};d.j.aip=function(K){K=S.kZ.ge(K);var o=d.j.rD(K);for(var Y=0;
Y<o;Y++){var c=d.j.js(K,Y)+1,z=K[c-1].length,f=[];for(var y=0;y<z;y++){var $=K[c+y].P;f.push($.x,$.y)}var E=d.j.avm(f);
if(E<0)d.j.avt(K,c-1)}return K};d.j.avt=function(K,o){var Y=o+1,c=K[o].length,z=[];for(var y=0;y<c;y++){var f=K[Y+y],$=f.KK;
f.KK=f.eb;f.eb=$;z.push(f)}for(var y=0;y<c;y++)K[Y+y]=z[c-1-y]};d.j.OJ={};d.j.OJ.NX=function(K,o,Y){var c=[{type:6},{type:8,all:0}],z=null;
c.push({type:Y?3:0,fa:1,length:0,JV:0,XT:0,VB:1});if(o==0||o==null)z=null;else if(o instanceof Array)z=o;
else{z=[];for(var y=0;y<K.length;y+=2)z.push(o)}c=c.concat(d.j.ajz(K,Y));c[2].length=c.length-3;if(z)d.j.xF(c,2,z);
return c};d.j.OJ.aqS=function(K,o,Y,c,z){var f=[],$=[],E=.553,b=1,q=-1;f.push({type:1,KK:new jc(0,E),P:new jc(0,0),eb:new jc(0,-E)});
z+=2;for(var y=0;y<z;y++){var O={type:1};if(y==0){O.P=new jc(1,-1);O.KK=new jc(1-E,-1);O.eb=new jc(1+E,-1)}else{var j=-(y+2)*Math.PI/2,A=1+((y&1)==1?y-1:y),R=Math.sin(j),g=Math.cos(j);
b+=A*(R-g);q+=A*(g+R);O.P=new jc(b,q);O.KK=new jc(b+A*g*E,q-A*R*E);if((y&1)==1)A+=2;O.eb=new jc(b-A*g*E,q+A*R*E)}var H={type:1,KK:new jc(-O.eb.x,-O.eb.y),P:new jc(-O.P.x,-O.P.y),eb:new jc(-O.KK.x,-O.KK.y)};
f.push(O);if(y<z-2)$.push(H)}$.reverse();f=f.concat($);var i=[{type:6},{type:8,all:0}];i.push({type:0,fa:1,length:f.length,JV:0,XT:0,VB:1});
i=i.concat(f);var h=new dF(Y/z,0,0,Y/z,0,0);h.rotate(c);h.translate(K,o);d.j.k3(i,h);return i};d.j.OJ.Rect=function(K,o,Y,c,z){var f=[K,o,K+Y,o,K+Y,o+c,K,o+c];
return d.j.OJ.NX(f,z)};d.j.OJ.E0=function(K,o,Y,c,z,f,$,E){var b=[],q=2*Math.PI/z;for(var y=0;y<z;y++)b.push(Math.cos(y*q-c),Math.sin(y*q-c));
if($!=null){var O=d.M.OA(b),j=O.m,A=O.e,R=$/(j/2),g=E/(A/2);for(var y=0;y<b.length;y+=2){b[y]=(b[y]-(O.x+j/2))*R;
b[y+1]=(b[y+1]-(O.y+A/2))*g}Y=1}var H=new dF(Y,0,0,Y,0,0);H.translate(K,o);d.M.i(b,H,b);return d.j.OJ.NX(b,f)};
d.j.OJ.a5A=function(K,o,Y,c,z,f,$){var E=[],b=Math.PI/z;for(var y=0;y<z*2;y++){var q=(y&1)==0?1:$;E.push(q*Math.cos(y*b),q*Math.sin(y*b))}var O=new dF(Y,0,0,Y,0,0);
O.rotate(c);O.translate(K,o);d.M.i(E,O,E);return d.j.OJ.NX(E,f)};d.j.OJ.Ov=function(K,o,Y,c,z){return d.j.OJ.xt(0,K,o,Y,c,z)};
d.j.OJ.a97=function(K,o,Y,c,z,f){return d.j.OJ.xt(1,K,o,Y,c,z,f)};d.j.OJ.bM=function(K,o,Y,c,z,f){return d.j.OJ.xt(2,K,o,Y,c,z,f)};
d.j.OJ.xt=function(K,o,Y,c,z,f,$){var E=Math.sqrt((c-o)*(c-o)+(z-Y)*(z-Y)),b;f/=2;if(K==0)b=[-f,0,f,0,f,E,-f,E];
if(K==1){var q=f*2*$*1.3/1.5,O=f*$;b=[-f,0,f,0,f,E-q,O,E-q,0,E,-O,E-q,-f,E-q]}if(K==2){var q=$[3],O=$[2]/2,j=q*(2/3)*$[4]/100,A=q-j,R=q;
b=[];if($[0])b.push(-f,A,-O,R,0,0,O,R,f,A);else b.push(-f,0,f,0);if($[1])b.push(f,E-A,O,E-R,0,E,-O,E-R,-f,E-A);
else b.push(f,E,-f,E)}var g=new dF(1,0,0,1,0,0);g.rotate(Math.atan2(-z+Y,c-o)+Math.PI/2);g.translate(o,Y);
d.M.i(b,g,b);return d.j.OJ.NX(b,0)};d.j.OJ.MR=function(K,o,Y,c){var z=[{type:6},{type:8,all:0}],j=.553;
z.push({type:0,fa:1,length:4,JV:0,XT:0,VB:1});var f=K,$=o,E=K+Y,b=o+c,K=(f+E)/2,o=($+b)/2,q=(f-E)/2,O=($-b)/2;
z.push({type:1,KK:new jc(K-j*q,o-O),P:new jc(K,o-O),eb:new jc(K+j*q,o-O)});z.push({type:1,KK:new jc(K+q,o-j*O),P:new jc(K+q,o),eb:new jc(K+q,o+j*O)});
z.push({type:1,KK:new jc(K+j*q,o+O),P:new jc(K,o+O),eb:new jc(K-j*q,o+O)});z.push({type:1,KK:new jc(K-q,o+j*O),P:new jc(K-q,o),eb:new jc(K-q,o-j*O)});
return z};d.j.OJ.acP=function(K,o,Y,c,z){var f=[{type:6},{type:8,all:0}];f.push({type:3,fa:1,length:5,JV:0,XT:0,VB:1});
var $=(z-c)/4;for(var y=0;y<5;y++){var E=y*$,b=Math.cos(E),q=Math.sin(E),O=.553*($/(Math.PI/2)),j=q*O,A=-b*O,R=new jc(b,q);
f.push({type:4,KK:y==0?R.clone():new jc(b+j,q+A),P:R,eb:y==4?R.clone():new jc(b-j,q-A)})}var g=new dF;
g.rotate(-c);g.scale(Y,Y);g.translate(K,o);d.j.k3(f,g);return f};d.qN={};d.qN.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
d.qN.B_=function(K){var o=K.warpStyle.v.warpStyle;if(o=="warpNone")return!0;else if(o=="warpCustom"){var Y=!1,c=d.qN.a9Y(K);
for(var y=0;y<4;y++)for(var z=0;z<4;z++){var f=c[y*2]-c[(z*4+y)*2],$=c[y*4*2+1]-c[(y*4+z)*2+1];if(f*f>1||$*$>1)Y=!0}return!Y}else return K.warpValue.v==0&&K.warpPerspective.v==0&&K.warpPerspectiveOther.v==0};
d.qN.a1f=function(K){var o=JSON.parse(JSON.stringify(K));o.v.classID="quiltWarp";o.v.deformNumRows={t:"long",v:4};
o.v.deformNumCols={t:"long",v:4};if(o.v.customEnvelopeWarp)d.qN.azh(o.v,[[0,1],[0,1]]);return o};d.qN.afF=function(K){var o;
if(d.qN.jk(K.v)==16)o=JSON.parse(JSON.stringify(K));else o={t:"Objc",v:d.qN.R(d.qN._U(K.v))};o.v.classID="warp";
delete o.v.deformNumRows;delete o.v.deformNumCols;var Y=o.v.customEnvelopeWarp;if(Y){delete Y.v.quiltSliceX;
delete Y.v.quiltSliceY}return o};d.qN.jk=function(K){return K.deformNumRows.v*K.deformNumCols.v};d.qN.R=function(K){var o={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(K){o.classID="quiltWarp";o.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:K.y}},Left:{t:"UntF",v:{type:"#Pxl",val:K.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:K.y+K.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:K.x+K.m}}}};
o.uOrder={t:"long",v:4};o.vOrder={t:"long",v:4};o.deformNumRows={t:"long",v:4};o.deformNumCols={t:"long",v:4}}return o};
d.qN.a3h=function(K,o,Y,c){for(var y=0;y<K.length;y+=2){var z=K[y],f=K[y+1],$=(z-o.x)/o.m,E=(f-o.y)/o.e,b=(1-Y)/2,q=1-b,O=b+$*(q-b);
E=.5+(E-.5)*O*2;var j=(1-c)/2,A=1-j,R=j+E*(A-j);$=.5+($-.5)*R*2;z=o.x+$*o.m;f=o.y+E*o.e;K[y]=z;K[y+1]=f}};
d.qN.dC=function(K,o){return{id:K,type:"UnFl",uID:"#Pxl",arr:o}};d.qN.azh=function(K,o){var Y=d.qN._U(K);
function c(f,$){f=f.slice(0);var E=f.length,y;for(y=0;y<E;y++)f[y]*=$;f[0]-=.6;f[E-1]+=.6;return f}var z=K.customEnvelopeWarp.v;
z.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[d.qN.dC("quiltSliceX",c(o[0],Y.m))]}};z.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[d.qN.dC("quiltSliceY",c(o[1],Y.e))]}}};
d.qN.aCC=function(K){var o=d.qN._U(K);function Y($,E){$=$.slice(0);var f=$.length,y,b=1e9,q=-b;for(y=0;
y<f;y++){if($[y]<b)b=$[y];if($[y]>q)q=$[y]}for(y=0;y<f;y++)$[y]=($[y]-b)/(q-b);$[0]=0;$[f-1]=1;return $}var c=K.customEnvelopeWarp.v,z=[],f=["X","Y"];
for(var y=0;y<2;y++)z.push(Y(c["quiltSlice"+(y==0?"X":"Y")].v.arr[0].arr.slice(0),y==0?o.m:o.e));return z};
d.qN.anA=function(K,o){var Y=[],c=[];for(var y=0;y<o.length;y+=2){Y.push(o[y]);c.push(o[y+1])}K.customEnvelopeWarp.v.meshPoints.v.arr=[d.qN.dC("Hrzn",Y),d.qN.dC("Vrtc",c)]};
d.qN.a9Y=function(K){var o=[],Y=K.customEnvelopeWarp.v.meshPoints.v.arr,c=Y[0].arr,z=Y[1].arr;for(var y=0;
y<c.length;y++)o.push(c[y],z[y]);return o};d.qN.Mu=function(K,o){var Y,c=K.warpStyle.v.warpStyle;if(c=="warpCustom")Y=[K.deformNumCols.v,K.deformNumRows.v,d.qN.aCC(K),d.qN.a9Y(K)];
else{if(o==null)o=d.qN._U(K);if(o.xf())o.m=o.e=1;var z="warpPerspective",f=d.qN.qN(o,c,K.warpRotate.v.Ornt=="Hrzn",K.warpValue.v/100,K[z].v/100,K[z+"Other"].v/100);
Y=[4,4,[[0,1],[0,1]],f]}return Y};d.qN.Ks=function(K,o){K.warpStyle.v.warpStyle="warpCustom";K.deformNumCols.v=o[0];
K.deformNumRows.v=o[1];var Y="customEnvelopeWarp";if(K[Y]==null)K[Y]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
d.qN.azh(K,o[2]);d.qN.anA(K,o[3])};d.qN._U=function(K){var o=K.bounds.v,Y=o.Left.v.val,c=o.Rght.v.val,z=o.Top.v.val,f=o.Btom.v.val;
if(Y==null){Y=o.Left.v,c=o.Rght.v;z=o.Top.v,f=o.Btom.v}return new hD(Y,z,c-Y,f-z)};d.qN.qN=function(K,o,Y,c,z,f){var $=d.vo.R(K.x,K.y,K.m,K.e);
if(o=="warpNone")return $;var E=JSON.parse(JSON.stringify(K)),b=new dF;if(!Y){b.translate(-K.x,-K.y);
b.rotate(-Math.PI/2);b.translate(K.e,0);d.M.i($,b,$);K=new hD(0,0,K.e,K.m);$=d.vo.arU($,!1)}d.qN.a5i($,K,o,c,z,f);
if(!Y){$=d.vo.arU($,!0);K=E;b.oD();d.M.i($,b,$)}if(c==0)d.qN.a3h($,K,z,f);else{var b=new dF(1/K.m,0,0,1/K.e,-K.x,-K.y);
b.translate(-.5,-.5);d.M.i($,b,$);d.qN.aqj($,f,z);b.oD();d.M.i($,b,$)}return $};d.qN.a5i=function(K,o,Y,c,z,f){for(var y=0;
y<4;y++){for(var $=0;$<4;$++){var E=2*(4*y+$),b=K[E]-o.x,q=K[E+1]-o.y,O=b,j=q;if(c!=0){var A=o.m/2,R=o.e/2;
O-=A;j-=R;var g=O,H=O,i=-R,h=R,x=Math.abs(c),F=Math.tan((1-x)*Math.PI/2),X=Math.sqrt(F*F+1),V=Math.atan2(1,F),U=O/A*V,Z=A*X,T=A*X+o.e,v=Math.cos(V),P=Math.sin(V),p=d.qN.asZ(v,P),a=d.qN.a7v(v,P),D=-F*A+p*Z;
if(Y=="warpArc"){g=Math.sin(U)*T;i=F*A-Math.cos(V)*T+R;H=Math.sin(U)*Z;h=F*A-Math.cos(V)*Z+R;if($==1||$==2){g=$==1?-a*T:a*T;
H=$==1?-a*Z:a*Z;i=F*A+R-p*T;h=F*A+R-p*Z}if(c<0){var n=g;g=H;H=n;n=i;i=-h;h=-n}}if(Y=="warpArcLower"){if($==1||$==2){H=$==1?-a*Z:a*Z;
h=c<0?R-D:R+D}}if(Y=="warpArcUpper"||Y=="warpArch"||Y=="warpBulge"){if($==1||$==2){g=$==1?-a*Z:a*Z;i=c<0?-R+D:-R-D}if(Y=="warpArch"){H=g;
h=i+2*R}if(Y=="warpBulge"){H=g;h=-i}}if(Y=="warpFish"||Y=="warpFlag"||Y=="warpWave"){var N=$;if(Y=="warpFlag")N=3-$;
if(N==1){i-=c*4*R;h+=c*4*R}if(N==2){i+=c*4*R;h-=c*4*R}if(Y=="warpFlag"||Y=="warpWave")i=h-2*R}if(Y=="warpRise"){if($<2)i=-R+c*R*4;
h=i+2*R}var W=(j+R)/o.e;O=g+W*(H-g);j=i+W*(h-i);if(Y=="warpWave"){if(y==0)j=-R;if(y==3)j=R;if(y==1||y==2)j=2*R*(y/3-.5)*(1/3)+j*(2/3)}if(Y=="warpFisheye"){if((y==1||y==2)&&($==1||$==2)){O=O+4*O*c;
j=j+4*j*c}}if(Y=="warpInflate"){var G=2/3;if((y==1||y==2)&&($==1||$==2)){O=O+.5*O*c;j=j+.5*j*c}else if(y==1||y==2)O=O+G*O*c;
else if($==1||$==2)j=j+G*j*c}if(Y=="warpSqueeze"){var G=2/3;if((y==1||y==2)&&($==1||$==2)){if(c>0)O=O-G*O*c;
else j=j+G*j*c}else if(y==1||y==2)O=O-G*O*c;else if($==1||$==2)j=j+G*j*c}if(Y=="warpTwist"){if((y==1||y==2)&&($==1||$==2)){var l=c*Math.PI/2,X=1+Math.abs(c)*2,u=O*Math.cos(l)-j*Math.sin(l),e=O*Math.sin(l)+j*Math.cos(l);
O=u*X;j=e*X}}if(Y=="warpShellLower"||Y=="warpShellUpper"){if(Y=="warpShellUpper"){y=3-y;j=-j}if(y>2||y==2&&($==0||$==3)){if(c>0){var M=Z+y/3*2*R;
O=Math.sin(U)*M;j=-F*A-R+Math.cos(U)*M;if($==1||$==2){O=$==1?-a*M:a*M;j=-F*A-R+p*M}}else{if(($==1||$==2)&&y==3){O=$==1?-a*Z:a*Z;
j=F*A-p*Z+R}else if(y==2){j=R-R*(2/3)*Math.cos(U);O=O+R*(2/3)*Math.sin(U)}}}if(Y=="warpShellUpper"){y=3-y;
j=-j}}O+=A;j+=R}b=O,q=j;K[E]=b+o.x;K[E+1]=q+o.y}}};d.qN.aqj=function(K,o,Y){var c=[];for(var z=0;z<4;
z++)c.push(1-Y+z/3*2*Y);var f=[];for(var z=0;z<4;z++)f.push(1-o+z/3*2*o);var $=[0,0,0,0],E=[0,0,0,0];
for(var y=0;y<4;y++)for(var z=0;z<4;z++){var b=2*(4*y+z),q=K[b],O=K[b+1];$[z]+=q/4;E[z]+=O/4}for(var y=0;
y<4;y++)for(var z=0;z<4;z++){var j=c[z],b=2*(4*y+z),q=K[b],O=K[b+1],A=$[z],R=E[z];K[b]=A+j*(q-A);K[b+1]=R+j*(O-R)}var g=K.slice(0);
for(var y=0;y<4;y++)for(var z=1;z<3;z++){var b=2*(4*y+z),q=K[b],O=K[b+1],H=b+(z==1?-2:2),i=K[H],h=K[H+1];
K[b]=q-i;K[b+1]=O-h}var x=K[0],F=K[1],X=K[8],V=K[9],U=K[16],Z=K[17],T=K[24],v=K[25],P=K[6],p=K[7],a=K[14],D=K[15],n=K[22],N=K[23],W=K[30],G=K[31],l=P-x,u=p-F,e=a-X,M=D-V,B=n-U,s=N-Z,t=W-T,J=G-v;
for(var y=0;y<4;y++){var L=2*y*4,k=0,C=0,r=y==1?.33:.66,Q=1-r;if(y==0){k=l;C=u}if(y==1){k=Q*l+r*-t;C=Q*u+r*-J}if(y==2){k=Q*l+r*-t;
C=Q*u+r*-J}if(y==3){k=-t;C=-J}K[L]=K[L]+k/2;K[L+1]=K[L+1]+C/2;K[L+6]=K[L+6]-k/2;K[L+7]=K[L+7]-C/2}for(var y=0;
y<4;y++)for(var z=1;z<3;z++){var b=2*(4*y+z),q=K[b],O=K[b+1],H=b+(z==1?-2:2),i=K[H],h=K[H+1],j=2*y/3;
K[b]=i+j*q;K[b+1]=h+j*O}for(var y=1;y<3;y++)for(var z=1;z<3;z++){var b=2*(4*y+z),q=K[b],O=K[b+1],j9=y==1?-8:-16,a4=y==1?16:8,ar=K[b+j9],ez=K[b+j9+1],ja=K[b+a4],c3=K[b+a4+1],j=y/3;
q=(1-j)*ar+j*ja;O=(1-j)*ez+j*c3;K[b]=q;K[b+1]=O}d.M.gH(g,K,K,o)};d.qN.asZ=function(K,o){return(4-K)*(1/3)};
d.qN.a7v=function(K,o){return(1-K)*(3-K)/(3*o)};d.J4={};d.J4.arI=function(K,o,Y,c,z,f,$,E,b,q){for(var O=0;
O<E;O++)for(var j=0;j<$;j++){var A=3*(O*$+j),R=O+f,g=j+z,H=K[R*o+g];c[A]=H;c[A+1]=H;c[A+2]=H}};d.J4.SS=function(K,o,Y,c,z,f,$,E,b,q){var O=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],j=1/b,A=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],R=new Uint32Array(6);
for(var g=0;g<E;g++){for(var H=0;H<$;H++){var i=3*(g*$+H),h=g+f,x=H+z;R[0]=0;R[1]=0;R[2]=0;R[3]=0;R[4]=0;
R[5]=0;for(var y=0;y<16;y+=2){var F=x+A[y],X=h+A[y+1],V=F-b*~~(F*j),U=X-b*~~(X*j),Z=q[U*b+V];R[Z]+=K[X*o+F];
R[Z+3]++}var F=x,X=h,V=F-b*~~(F*j),U=X-b*~~(X*j),Z=q[U*b+V];R[Z]=K[h*o+x];R[Z+3]=1;c[i]=R[0]*O[R[3]];
c[i+1]=R[1]*O[R[4]];c[i+2]=R[2]*O[R[5]]}}};d.J4.afS=function(K,o,Y){for(var y=0;y<Y;y+=2)K[o+y]=K[o+y+1];
o=o+Y;for(var y=0;y<Y;y+=2)K[o+y+1]=K[o+y]};d.J4.aBL=function(K,o,Y,c){for(var y=0;y<c;y+=2){var z=o+y*Y;
K[z]=K[z+Y];K[z+Y+1]=K[z+1]}};d.J4.a2$=function(K,o,Y,c,z,f){var $=c[z],E=c[z+1],b=c[f],q=c[f+1],O=E+b>>>1;
K[o]=K[o+3]=K[Y]=K[Y+3]=$;K[o+1]=O;K[o+4]=E;K[Y+1]=b;K[Y+4]=O;K[o+2]=K[o+5]=K[Y+2]=K[Y+5]=q};d.J4.ap$=function(K,o,Y,c,z,f){var $=f*3;
for(var y=0;y<f;y+=2){var E=o+y,b=z+y*3;d.J4.a2$(c,b,b+$,K,E,E+Y)}};d.J4.ajh=function(K,o,Y,c,z,f,$){var E=f*3;
for(var y=0;y<$;y+=2){var b=o+y*Y,q=z+y*f*3;d.J4.a2$(c,q,q+E,K,b,b+Y)}};d.J4.a3_=function(K,y,o){var Y=K[y-o-o],c=K[y-o],z=K[y-2],f=K[y-1],$=K[y],E=K[y+1],b=K[y+2],q=K[y+o],O=K[y+o+o],j=Math.abs(c-q),A=Math.abs(f-E),R=Math.abs($-Y)*2+j,g=Math.abs($-b)*2+A,H=Math.abs($-z)*2+A,i=Math.abs($-O)*2+j,h=Math.min(R,Math.min(g,Math.min(H,i)));
if(h==R)return c*3+q+$-Y>>2;if(h==g)return E*3+f+$-b>>2;if(h==H)return f*3+E+$-z>>2;return q*3+c+$-O>>2};
d.J4.BS=function(K,o,Y,c,z){if(K<o&&o<Y||K>o&&o>Y)return~~(.5+c+(z-c)*(o-K)/(Y-K));else return(c+z>>1)+(o+o-K-Y>>2)};
d.J4.aux=function(K,o,y,Y){var c=o[y-Y-1],z=o[y-Y+1],f=o[y],$=o[y+Y-1],E=o[y+Y+1],b=K[y-Y-1],q=K[y-Y+1],O=K[y],j=K[y+Y-1],A=K[y+Y+1],R=Math.abs(q-j)+Math.abs(K[y-Y-Y+2]-O)+Math.abs(O-K[y+Y+Y-2])+Math.abs(z-f)+Math.abs(f-$),g=Math.abs(b-A)+Math.abs(K[y-Y-Y-2]-O)+Math.abs(O-K[y+Y+Y+2])+Math.abs(c-f)+Math.abs(f-E);
if(R<g)return d.J4.BS(z,f,$,q,j);else return d.J4.BS(c,f,E,b,A)};d.J4.ci=function(K,o,Y,c,z,f){K[o+0]=Y[z];
K[o+1]=c[z];K[o+2]=d.J4.aux(Y,c,z,f)};d.J4.LD=function(K,o,Y,c,z,f){var $=c[z];K[o+0]=d.J4.BS(c[z-1],$,c[z+1],Y[z-1],Y[z+1]);
K[o+1]=$;K[o+2]=d.J4.BS(c[z-f],$,c[z+f],Y[z-f],Y[z+f])};d.J4.j4=function(K,o,Y,c,z,f){var $=c[z];K[o+0]=d.J4.BS(c[z-f],$,c[z+f],Y[z-f],Y[z+f]);
K[o+1]=$;K[o+2]=d.J4.BS(c[z-1],$,c[z+1],Y[z-1],Y[z+1])};d.J4.D0=function(K,o,Y,c,z,f){K[o+0]=d.J4.aux(Y,c,z,f);
K[o+1]=c[z];K[o+2]=Y[z]};d.J4.agj=function(K,o,Y,c,z,f,$,E,b){var q=Date.now(),O=2,j=o-2,A=2;if((z&1)==1){O++;
j--}var R=Y-2;if((f&1)==1){A++;R--}if(b==1||b==3){O++;j--}var g=K.slice(0);d.J4.afS(g,0,o);d.J4.aBL(g,0,o,Y);
d.J4.aBL(g,o-2,o,Y);d.J4.afS(g,(Y-2)*o,o);for(var H=A;H<R;H+=2)for(var i=O;i<j;i+=2){var y=H*o+i,h=d.J4.a3_(g,y,o),x=d.J4.a3_(g,y+o+1,o);
g[y]=Math.max(0,h);g[y+o+1]=Math.max(0,x)}var F=$,X=E;if(f+E==Y){X-=2;d.J4.ap$(K,(Y-2)*o+z,o,c,(E-2)*$*3,$)}if(z+$==o){F-=2;
d.J4.ajh(K,f*o+z+$-2,o,c,($-2)*3,$,E)}if(b==0)for(var H=0;H<X;H+=2)for(var i=0;i<F;i+=2){var V=(H+f)*o+i+z,U=(H*$+i)*3;
d.J4.ci(c,U,K,g,V,o);d.J4.LD(c,U+3,K,g,V+1,o);V+=o;U+=3*$;d.J4.j4(c,U,K,g,V,o);d.J4.D0(c,U+3,K,g,V+1,o)}else if(b==1)for(var H=0;
H<X;H+=2)for(var i=0;i<F;i+=2){var V=(H+f)*o+i+z,U=(H*$+i)*3;d.J4.LD(c,U,K,g,V,o);d.J4.ci(c,U+3,K,g,V+1,o);
V+=o;U+=3*$;d.J4.D0(c,U,K,g,V,o);d.J4.j4(c,U+3,K,g,V+1,o)}else if(b==2)for(var H=0;H<X;H+=2)for(var i=0;
i<F;i+=2){var V=(H+f)*o+i+z,U=(H*$+i)*3;d.J4.D0(c,U,K,g,V,o);d.J4.j4(c,U+3,K,g,V+1,o);V+=o;U+=3*$;d.J4.LD(c,U,K,g,V,o);
d.J4.ci(c,U+3,K,g,V+1,o)}else if(b==3)for(var H=0;H<X;H+=2)for(var i=0;i<F;i+=2){var V=(H+f)*o+i+z,U=(H*$+i)*3;
d.J4.j4(c,U,K,g,V,o);d.J4.D0(c,U+3,K,g,V+1,o);V+=o;U+=3*$;d.J4.ci(c,U,K,g,V,o);d.J4.LD(c,U+3,K,g,V+1,o)}};
d.raw={};d.raw.ago=function(K){var o=Date.now(),Y=K.width,c=K.height,z=0,f=0,$=Y,E=c;if(K.t50829){var b=K.t50829;
z=b[1];f=b[0];$=b[3];E=b[2]}if(K.t50720&&K.t50720[0]*1.2>Y){if(K.t50719){var q=K.t50719;z+=q[0]>>1<<1;
f+=q[1]>>1<<1}if(K.t50720){var O=K.t50720;$=z+O[0];E=f+O[1]}}var j=$-z,A=E-f,R=d.raw.aoH(K),g=K.t33422,H=K.t33421;
if(H){var O=H[0],i=g.slice(0);for(var h=0;h<O;h++)for(var x=0;x<O;x++){var F=(x+(z&1))%O,X=(h+(f&1))%O;
i[h*O+x]=g[X*O+F]}g=i}if(K.t277[0]==1&&g)d.raw.aeq(R,Y,c,K,g);d.raw.GY(2,K,R,Y,c);var V=new Float32Array(j*A*3);
if(K.t277[0]==1){if(H==null){d.J4.arI(R,Y,c,V,z,f,j,A)}else if(H.length!=2||H[0]!=2||H[1]!=2){console.log("Unknown CFA pattern size",H);
d.J4.SS(R,Y,c,V,z,f,j,A,H[0],g)}else{var U=K.t33422.join(","),Z=0;if(U=="0,1,1,2")Z=0;else if(U=="1,0,2,1")Z=1;
else if(U=="2,1,1,0")Z=2;else if(U=="1,2,0,1")Z=3;else throw"Unknown CFA pattern "+U;if((j&1)!=0||(A&1)!=0)throw"e";
d.J4.agj(R,Y,c,V,z,f,j,A,Z)}}else{for(var h=0;h<A;h++)for(var x=0;x<j;x++){var T=((h+f)*Y+x+z)*3,v=(h*j+x)*3;
V[v+0]=R[T+0];V[v+1]=R[T+1];V[v+2]=R[T+2]}}var P=V,p=V.length,a=d.raw.Ri(K),D=1/a;for(var y=0;y<p;y+=3){V[y]=P[y]*D;
V[y+1]=P[y+1]*D;V[y+2]=P[y+2]*D}d.raw.GY(3,K,V,j,A);var n=K.d8,N=j,W=A;if(n==1||n==9){}else{var G=d.raw.avn(n,j,A),v=0;
N=G[0];W=G[1];var l=V.slice(0);for(var h=0;h<W;h++)for(var x=0;x<N;x++){var u=G[2]*x+G[3]*h+G[4],e=G[5]*x+G[6]*h+G[7],T=(e*j+u)*3;
V[v]=l[T];V[v+1]=l[T+1];V[v+2]=l[T+2];v+=3}}return{y3:V,UB:N,Ob:W}};d.raw.avn=function(K,o,Y){var c=o,z=Y;
if(!1){}else if(K==2)return[o,Y,-1,0,o-1,0,1,0];else if(K==3)return[o,Y,-1,0,o-1,0,-1,Y-1];else if(K==4)return[o,Y,1,0,0,0,-1,Y-1];
else if(K==5)return[Y,o,0,1,0,1,0,0];else if(K==6)return[Y,o,0,1,0,-1,0,Y-1];else if(K==7)return[Y,o,0,-1,o-1,-1,0,Y-1];
else if(K==8)return[Y,o,0,-1,o-1,1,0,0];else throw"unknown orientation "+K};d.raw.aeq=function(K,o,Y,c,z){var f=Date.now(),D=0,W=0;
if(d.raw.Ri(c)>4e4){for(var y=0;y<K.length;y++)K[y]>>=1;var $=["t50714","t50715","t50712","t50717"];
for(var y=0;y<$.length;y++){var E=c[$[y]];if(E)for(var b=0;b<E.length;b++)E[b]>>>=1}console.log("remapping to lower bit depth")}var q=~~Math.sqrt(z.length),O=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],j=[];
for(var A=0;A<q;A++)for(var R=0;R<q;R++){var y=A*q+R,g=z[y],H=4,i=4,h=8,x=0,F=0;for(var b=0;b<18;b+=2){var X=(q+R+O[b])%q,V=(q+A+O[b+1])%q,U=z[V*q+X];
if(U==g){}else if(H==4){H=U;x=b}else if(i==4&&U!=H){i=U;F=b;break}}if(i<H){var Z=i;i=H;H=Z;Z=F;F=x;x=Z}if(H<g){var Z=H;
H=g;g=Z;Z=x;x=h;h=Z}if(i<H){var Z=i;i=H;H=Z;Z=F;F=x;x=Z}j[y*3]=O[h+1]*o+O[h];j[y*3+1]=O[x+1]*o+O[x];
j[y*3+2]=O[F+1]*o+O[F]}var T=~~(.996*d.raw.Ri(c)),v=~~(.992*d.raw.Ri(c)),P=c.t50728;if(P==null||P[0]==0)P=[1,1,1];
var p=[],a=[0,0,0];for(var A=1;A<Y-1;A++)for(var R=1;R<o-1;R++){var y=A*o+R,n=A%q*q+R%q,g=K[y+j[n*3+0]],H=K[y+j[n*3+1]],i=K[y+j[n*3+2]],N=Math.max(g,H,i);
if(N>T)p.push(y);else if(N>v){a[0]+=g;a[1]+=H;a[2]+=i;D++}}if(p.length==0)return;if(D/(o*Y)<1e-5){console.log("not enough semi-saturated pixels",D);
a=P}if(a[1]<a[W])W=1;if(a[2]<a[W])W=2;var G=[a[0]/a[W],a[1]/a[W],a[2]/a[W]],l=K.slice(0);for(var u=0;
u<p.length;u++){var y=p[u],A=~~(y/o),R=y-A*o,n=A%q*q+R%q,e=Math.min(65535,~~(K[y+j[n*3+W]]*G[z[n]]));
if(e>l[y])l[y]=e}K.set(l)};d.raw.yO=function(K,o,Y,c){var z=Math.round(K.length/3),f=fs.tN(c[0],c[1]),$=d.raw.a9T(Y,f),E=d.tb.multiply(d.tb.J$,$),b=Math.pow(2,Y.t50730?Y.t50730[0]:0);
E=d.tb.multiply(E,d.tb.M0(b,b,b));var q=d.raw.yO.a6k;if(q==null){q=d.raw.yO.a6k=new Float64Array(8e3);
for(var y=0;y<8e3;y++)q[y]=d.RU(y*(1/1e3))}for(var y=0;y<z;y++){var O=y<<2,j=O-y,A=K[j],R=K[j+1],g=K[j+2],H=E[0]*A+E[1]*R+E[2]*g,i=E[4]*A+E[5]*R+E[6]*g,h=E[8]*A+E[9]*R+E[10]*g;
if(H<0)H=0;if(i<0)i=0;if(h<0)h=0;o[j]=q[~~(H*1e3)];o[j+1]=q[~~(i*1e3)];o[j+2]=q[~~(h*1e3)]}};d.raw.aoH=function(K){var o=K.width,Y=K.height,c=o*Y*K.t277,z=new Uint16Array(c),f=null,$=0;
d.raw.a46(K,z);d.raw.GY(1,K,z,o,Y);if(K.t50712){f=K.t50712;$=f.length-1;if(f[$]>65535)throw"too big values"}var E=d.raw.alN(K),b=d.raw.a0t(K);
if(f==null)for(var y=0;y<c;y++)z[y]=Math.max(0,z[y]-E);else for(var y=0;y<c;y++){var q=z[y];if(q>$)q=$;
q=f[q];z[y]=Math.max(0,q-E)}return z};d.raw.alN=function(K){var o=K.t50714,Y=o?o[0]:0,c=K.t50715,z=K.t50716;
if(c)Y+=c[0][0]/c[0][1];if(z)Y+=z[0][0]/z[0][1];return Math.round(Y)};d.raw.a0t=function(K){var o=null,Y=0;
if(K.t50712){o=K.t50712;Y=o.length-1}var c=K.t50717?K.t50717[0]:(1<<K.t258[0])-1;if(o)c=Math.min(c,o[Y]);
return c};d.raw.Ri=function(K){var o=d.raw.alN(K),Y=d.raw.a0t(K);return Y-o};d.raw.a46=function(K,o){var Y=o.length,c=K.data,z=K.t258[0];
if(z!=16&&z!=14&&z!=12&&z!=10&&z!=8)throw"Unsupported Bits Per Sample:"+z;z=Math.round(c.length*8/Y);
if(z==16&&K.isLE){d.kO(c,o);return}for(var y=0;y<Y;y+=2){var f=0,$=0,E=0;if(z==16){f=y<<1;$=c[f]<<8|c[f+1];
E=c[f+2]<<8|c[f+3]}else if(z==14){var b=y*14,q=b>>>3,O=c[q]<<24|c[q+1]<<16|c[q+2]<<8|c[q+3];if((b&7)==0){$=O>>>18;
E=O>>>4&16383}else{$=O>>>14&16383;E=O&16383}}else if(z==12){f=y+(y>>>1);$=c[f]<<4|c[f+1]>>4;E=(c[f+1]&15)<<8|c[f+2]}else if(z==10){var b=y*10,q=b>>>3;
if((b&7)==0){$=(c[q]<<2|c[q+1]>>6)&1023;E=(c[q+1]<<4|c[q+2]>>4)&1023}else{$=(c[q]<<6|c[q+1]>>2)&1023;
E=(c[q+1]<<8|c[q+2]>>0)&1023}}else if(z==8){f=y;$=c[f];E=c[f+1]}o[y]=$;o[y+1]=E}};d.raw.adf=function(K,o,Y,c,z,f,$){var E=K-.499999,b=o-.499999,q=~~E,O=~~b,j=E-q,A=b-O,R=(1-A)*(1-j),g=(1-A)*j,H=A*(1-j),i=A*j,h=(O*c+q)*3,x=((O+1)*c+q)*3,F=R*Y[h]+g*Y[h+3]+H*Y[x]+i*Y[x+3],X=R*Y[h+1]+g*Y[h+4]+H*Y[x+1]+i*Y[x+4],V=R*Y[h+2]+g*Y[h+5]+H*Y[x+2]+i*Y[x+5];
f[$]=F;f[$+1]=X;f[$+2]=V};d.raw.GY=function(K,o,Y,c,z){var f=o["t"+[51008,51009,51022][K-1]],O=0;if(f==null)return;
var $=c*z,E=_.s,b=_.yy,q=new Uint8Array(f),ht=_.s(q,O);O+=4;for(var j=0;j<ht;j++){var A=E(q,O);O+=4;
var R=E(q,O);O+=4;var g=E(q,O);O+=4;var H=E(q,O);O+=4;if(!1){}else if(A==1&&K==3){var i=O,h=E(q,i);i+=4;
var x=b(q,i);i+=8;var F=b(q,i);i+=8;var X=b(q,i);i+=8;var V=b(q,i);i+=8;var U=b(q,i);i+=8;var Z=b(q,i);
i+=8;i+=(h-1)*8*6;var T=b(q,i);i+=8;var v=b(q,i);i+=8;var P=T*c,p=v*z,a=Math.max(P,c-P),D=Math.max(p,z-p),n=Math.sqrt(a*a+D*D),N=1/n,W=Y.slice(0);
for(var G=0;G<z;G++)for(var l=0;l<c;l++){var u=(l+.5-P)*N,e=(G+.5-p)*N,M=u*u+e*e,B=x+F*M+X*(M*M)+V*(M*M)*M,s=U*(2*u*e)+Z*(M+2*u*u),t=Z*(2*u*e)+U*(M+2*e*e),J=Math.min(P+n*(B*u+s),c-1),L=Math.min(p+n*(B*e+t),z-1),k=(G*c+l)*3;
d.raw.adf(J,L,W,c,z,Y,k)}}else if(A==3&&K==3){var i=O,C=b(q,i);i+=8;var r=b(q,i);i+=8;var Q=b(q,i);i+=8;
var j9=b(q,i);i+=8;var a4=b(q,i);i+=8;var T=b(q,i);i+=8;var v=b(q,i);i+=8;var P=T*c,p=v*z,a=Math.max(P,c-P),D=Math.max(p,z-p),n=Math.sqrt(a*a+D*D),N=1/n;
for(var G=0;G<z;G++)for(var l=0;l<c;l++){var u=(l+.5-P)*N,e=(G+.5-p)*N,M=u*u+e*e,ar=1+(C+(r+(Q+(j9+a4*M)*M)*M)*M)*M,k=(G*c+l)*3;
Y[k]=ar*Y[k];Y[k+1]=ar*Y[k+1];Y[k+2]=ar*Y[k+2]}}else if(A==4&&K==1){var i=O,ez=E(q,i);i+=4;var ja=E(q,i);
i+=4;for(var y=0;y<$;y++)if(Y[y]==ez)Y[y]=Y[y-2]+Y[y+2]>>1}else if(A==5&&K==1){var i=O,c3=E(q,i);i+=4;
var hW=E(q,i);i+=4;var fO=E(q,i);i+=4;for(var y=0;y<hW;y++){var ei=E(q,i);i+=4;var fV=E(q,i);i+=4;var y=ei*c+fV;
Y[y]=Y[y-2]+Y[y+2]>>1}}else if(A==7&&K==1){var i=O,aW=_.p1(q,i);i+=16;var ee=E(q,i);i+=4;var hM=E(q,i);
i+=4;var ds=E(q,i),cp=E(q,i+4);i+=8;var eA=E(q,i);i+=4;var db=new Uint16Array(eA);for(var y=0;y<eA;y++)db[y]=_.vP(q,i+2*y);
var js=aW.m,bF=aW.e;for(var G=0;G<bF;G+=ds)for(var l=0;l<js;l+=cp){var y=(aW.y+G)*c+(aW.x+l);Y[y]=db[Y[y]]}}else if(A==8&&K==2){var i=O,aW=_.p1(q,i);
i+=16;var ee=E(q,i);i+=4;var hM=E(q,i);i+=4;var ds=E(q,i),cp=E(q,i+4);i+=8;var jI=E(q,i);i+=4;var gF=[];
for(var y=0;y<=jI;y++)gF[y]=_.yy(q,i+y*8);var b6=aW.x,ji=aW.x+aW.m,hd=aW.y,eZ=aW.y+aW.e,hj=o.t50717[0],eK=1/hj;
for(var cX=0;cX<hM;cX++)for(var G=hd;G<eZ;G+=ds){var k=3*G*c+ee+cX;for(var l=b6;l<ji;l+=cp){var y=k+3*l,bW=Y[y]*eK,ju=gF[jI];
for(var ci=jI;ci>0;ci--)ju=ju*bW+gF[ci-1];Y[y]=Math.max(0,Math.min(65535,~~(ju*hj)))}}}else if(A==9&&K==2){var i=O,aW=_.p1(q,i),eJ=!0;
i+=16;var ee=E(q,i);i+=4;var hM=E(q,i);i+=4;var ds=E(q,i),cp=E(q,i+4);i+=8;var hH=E(q,i),b8=E(q,i+4);
i+=8;var gh=b(q,i),aN=b(q,i+8);i+=16;var eS=b(q,i),b2=b(q,i+8);i+=16;var fZ=E(q,i);i+=4;if(fZ!=1)throw"more than one map plane";
var dw=hH*b8,ib=new Float32Array(dw);for(var ci=0;ci<dw;ci++)ib[ci]=_.$T(q,i+ci*4);for(var ci=0;ci<dw;
ci++)if(ib[ci]!=1)eJ=!1;if(!eJ){var js=aW.m,bF=aW.e,df=.9999*(b8-1)/js,k5=.9999*(hH-1)/bF;for(var G=0;
G<bF;G+=ds)for(var l=0;l<js;l+=cp){var y=(aW.y+G)*c+(aW.x+l),eC=l*df,j7=G*k5,cK=Math.floor(eC),bw=Math.floor(j7),f6=eC-cK,iF=j7-bw,k=bw*b8+cK,ag=ib[k]*(1-f6)+ib[k+1]*f6,bS=ib[k+b8]*(1-f6)+ib[k+1+b8]*f6,b$=ag*(1-iF)+bS*iF;
Y[y]=Math.max(0,Math.min(65535,~~(Y[y]*b$+.5)))}}}else console.log("Unknown opcode "+A+" in OpcodeList"+K+". Length: "+H);
O+=H}};d.raw.a9T=function(K,o){var Y=fs.RE(o),c=d.raw.ap9(K,o),z=d.tb.oD(c),f=fs.atN(Y,fs.RE(fs.auu)),$=d.tb.multiply(f,z);
return $};d.raw.agE=function(K){var o=K.t50728,z=1;if(o==null||o[0]==0)o=[1,1,1];var Y=o.slice(0);Y.push(0);
var c={x:.34567,y:.3585};do{var f=d.tb.oD(d.raw.ap9(K,c)),$=d.tb.Le(f,Y),E=fs.aiM($);z=Math.abs(c.x-E.x)+Math.abs(c.y-E.y);
c=E}while(z>1e-7);return c};d.raw.ap9=function(K,o){var Y=fs.awg(o),c=d.raw.acg,z=K.t50778?K.t50778[0]:0,f=K.t50779?K.t50779[0]:0,$=K.t50723,E=K.t50724;
if($&&$.length==3)$=null;if(E&&E.length==3)E=null;var b=c(K.t50721,K.t50722,z,f,Y.gZ),q=c($,E,z,f,Y.gZ);
b=b||[1,0,0,0,1,0,0,0,1];q=q||[1,0,0,0,1,0,0,0,1];var O=K.t50727?[K.t50727[0],0,0,0,K.t50727[1],0,0,0,K.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return d.tb.multiply(d.tb.xD(O),d.tb.multiply(d.tb.xD(q),d.tb.xD(b)))};d.raw.acg=function(K,o,Y,c,z){if(!K&&!o){return null}else if(K&&!o){return K}else if(z<Y){return K}else if(z>c){return o}else{var f=(1/z-1/c)/(1/Y-1/c),$=1-f,E=[];
for(var y=0;y<9;y++)E[y]=K[y]*f+o[y]*$;return E}};var fs={};fs.auu={x:.34567,y:.3585};fs.a8I=[{o:0,Vj:.18006,ii:.26352,xu:-.24341},{o:10,Vj:.18066,ii:.26589,xu:-.25479},{o:20,Vj:.18133,ii:.26846,xu:-.26876},{o:30,Vj:.18208,ii:.27119,xu:-.28539},{o:40,Vj:.18293,ii:.27407,xu:-.3047},{o:50,Vj:.18388,ii:.27709,xu:-.32675},{o:60,Vj:.18494,ii:.28021,xu:-.35156},{o:70,Vj:.18611,ii:.28342,xu:-.37915},{o:80,Vj:.1874,ii:.28668,xu:-.40955},{o:90,Vj:.1888,ii:.28997,xu:-.44278},{o:100,Vj:.19032,ii:.29326,xu:-.47888},{o:125,Vj:.19462,ii:.30141,xu:-.58204},{o:150,Vj:.19962,ii:.30921,xu:-.70471},{o:175,Vj:.20525,ii:.31647,xu:-.84901},{o:200,Vj:.21142,ii:.32312,xu:-1.0182},{o:225,Vj:.21807,ii:.32909,xu:-1.2168},{o:250,Vj:.22511,ii:.33439,xu:-1.4512},{o:275,Vj:.23247,ii:.33904,xu:-1.7298},{o:300,Vj:.2401,ii:.34308,xu:-2.0637},{o:325,Vj:.24792,ii:.34655,xu:-2.4681},{o:350,Vj:.25591,ii:.34951,xu:-2.9641},{o:375,Vj:.264,ii:.352,xu:-3.5814},{o:400,Vj:.27218,ii:.35407,xu:-4.3633},{o:425,Vj:.28039,ii:.35577,xu:-5.3762},{o:450,Vj:.28863,ii:.35714,xu:-6.7262},{o:475,Vj:.29685,ii:.35823,xu:-8.5955},{o:500,Vj:.30505,ii:.35907,xu:-11.324},{o:525,Vj:.3132,ii:.35968,xu:-15.628},{o:550,Vj:.32129,ii:.36011,xu:-23.325},{o:575,Vj:.32931,ii:.36038,xu:-40.77},{o:600,Vj:.33724,ii:.36051,xu:-116.45}];
fs.awg=function(K){var o=fs.a8I,Y=2*K.x/(1.5-K.x+6*K.y),c=3*K.y/(1.5-K.x+6*K.y),z=0,f=0,$=0;for(;$<31;
$++){z=c-o[$].ii-o[$].xu*(Y-o[$].Vj);if($>0&&z<0){break}f=z}while($>=o.length)$--;z/=Math.sqrt(1+o[$].xu*o[$].xu);
f/=Math.sqrt(1+o[$-1].xu*o[$-1].xu);var E=f/(f-z),b=1e6/((o[$].o-o[$-1].o)*E+o[$-1].o),q=Y-((o[$].Vj-o[$-1].Vj)*E+o[$-1].Vj),O=c-((o[$].ii-o[$-1].ii)*E+o[$-1].ii),j=Math.sqrt(1+o[$].xu*o[$].xu),A=1/j,R=o[$].xu/j,g=Math.sqrt(1+o[$-1].xu*o[$-1].xu),H=1/g,i=o[$-1].xu/g,h=(A-H)*E+H,x=(R-i)*E+i,F=Math.sqrt(h*h+x*x);
h/=F;x/=F;var X=(q*h+O*x)*-3e3;return{gZ:b,FF:X}};fs.tN=function(K,o){var Y=fs.a8I,c=1e6/K,z=1;for(;
z<31;z++){if(c<Y[z].o){break}}var f=(Y[z].o-c)/(Y[z].o-Y[z-1].o),$=(Y[z-1].Vj-Y[z].Vj)*f+Y[z].Vj,E=(Y[z-1].ii-Y[z].ii)*f+Y[z].ii,b=Math.sqrt(1+Y[z].xu*Y[z].xu),q=1/b,O=Y[z].xu/b,j=Math.sqrt(1+Y[z-1].xu*Y[z-1].xu),A=1/j,R=Y[z-1].xu/j,g=(A-q)*f+q,H=(R-O)*f+O,i=Math.sqrt(g*g+H*H);
g/=i;H/=i;$+=g*o/-3e3;E+=H*o/-3e3;return{x:1.5*$/($-4*E+2),y:E/($-4*E+2)}};fs.aiM=function(K){var o=K[0]+K[1]+K[2];
return{x:K[0]/o,y:K[1]/o}};fs.RE=function(K){return{x:K.x/K.y,y:1,Fr:(1-K.x-K.y)/K.y}};fs.atN=function(K,o){var Y=d.tb.xD([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),c=[K.x,K.y,K.Fr,0],z=[o.x,o.y,o.Fr,0];
c=d.tb.Le(Y,c);z=d.tb.Le(Y,z);var f=z[0]/c[0],$=z[1]/c[1],E=z[2]/c[2],b=d.tb.xD([f,0,0,0,$,0,0,0,E]),q=d.tb.oD(Y);
return d.tb.multiply(d.tb.multiply(q,b),Y)};d.raw.fQ={};d.raw.Ge=function(K){K*=8;var o=[8,10,12,14,16];
for(var Y in CAMS){var c=CAMS[Y];if(c.length==4)continue;var z=c[4],f=c[5];for(var y=0;y<o.length;y++)if(z*f*o[y]==K)return[Y,o[y]]}var $=[[4e3,3e3]];
for(var y=0;y<$.length;y++){var c=$[y],z=c[0],f=c[1];for(var y=0;y<o.length;y++)if(z*f*o[y]==K)return[c,o[y]]}return null};
d.raw.ax3=function(K){var K=new Uint8Array(K);for(var y=0;y<K.length;y+=2){var o=K[y];K[y]=K[y+1];K[y+1]=o}var Y=d.raw.Ge(K.length),c=CAMS[Y[0]];
if(c==null)c=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,Y[0][0],Y[0][1]];var z=c[4],f=c[5],$=Math.max(c[2],116),E={data:K,d8:1,width:z,height:f,t256:[z],t257:[f],t258:[Y[1]],t277:[1],t33421:[2,2],t33422:d.raw.es[c[1]],t50706:[1,2,0,0],t50714:[$,$,$,$],t50717:[c[3]],t50721:c[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var y=0;y<9;y++)E.t50721[y]/=1e4;return E};d.raw.adG=function(K){if(K==null||K.length==0||typeof K[0]=="number")return K;
var o=[];for(var y=0;y<K.length;y++)o[y]=K[y][1]==0?0:K[y][0]/K[y][1];return o};d.raw.es=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
d.raw.normalize=function(K,o){if(K.t50706!=null||K.t271[0].startsWith("Hasselblad")){var Y=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var y=0;y<Y.length;y++)if(K["t"+Y[y]]!=null)K["t"+Y[y]]=d.raw.adG(K["t"+Y[y]]);if(K.t271&&K.t271[0].startsWith("Hasselblad")){K.t50706=[1,2,0,0];
K.t33422=d.raw.es[1];K.t50723=[1,0,0,0,1,0,0,0,1];K.t50778=[17];if(!K.isLE)for(var y=0;y<K.data.length;
y+=2){var c=K.data[y];K.data[y]=K.data[y+1];K.data[y+1]=c}}if(K.t272&&K.t272[0]=="HERO10 Black"){K.t50728=[.469725,1,.739884];
if(!K.t305[0].startsWith("Adobe")){var z=new Uint16Array(K.data.buffer);for(var y=0;y<z.length;y++)z[y]>>>=2}}return}var f=K.t258[0],$=K.exifIFD,o=new Uint8Array(o);
K.t50706=[1,2,0,0];var E=K.t271[0].trim(),b=K.t272[0].trim();if(K.t50708==null)K.t50708=[E+" "+b];var q=(E+":"+b).toLowerCase(),O=CAMS[q];
if(O==null)alert("Unknown camera:"+q);else{var j=O[2];K.t50714=[j,j,j,j];if(K.t272=="Canon EOS REBEL T3")O[3]=13584;
K.t50717=[O[3]];K.t50721=O[0].slice(0);for(var y=0;y<9;y++)K.t50721[y]=K.t50721[y]*(1/1e4)}K.t50723=[1,0,0,0,1,0,0,0,1];
if(K.t50728==null)K.t50728=[.35,1,.6];K.t50778=[17];if(E.startsWith("OLYMPUS")||E.startsWith("OM Digital Solutions")){K.t33422=[2,1,1,0];
var A=$.t41730,i;if(A)K.t33422=[A[4],A[5],A[6],A[7]];var R=K.t50341;if(R==null)R=$.t36864;var g=d.raw.a6W(R.buffer,K);
K.data=new Uint8Array(g.buffer);if((K.height&1)==1)K.t50829=[0,0,K.height-1,K.width];var H=$.makerNote,h=H.t8256;
if(h)i=h.t256;else i=H.t12288.t256;K.t50728=[256/i[0],1,256/i[1]]}else if(K.t271[0].startsWith("SONY")){var x=UTIF["_bin"+(K.isLE?"LE":"BE")],F=K.t28688,P;
if(JSON.stringify(F)!="[8000,10400,12900,14100]")console.log(F);if(F){var X=[0,0,0,0,0,4095],V=new Uint16Array(16385);
for(var y=0;y<4;y++){var U=F[y]>>>2;X[y+1]=U;if(U>4095)throw"e"}for(var y=0;y<16385;y++)V[y]=y;for(var y=0;
y<5;y++)for(var Z=X[y]+1;Z<=X[y+1];Z++)V[Z]=V[Z-1]+(1<<y);var T=o.length*8<K.width*K.height*f;if(T)K.t50712=V}else console.log("no curve");
var v=K.dngPrvt;if(v){var p=v.t29184[0],a=v.t29185[0],D=(K.isLE?_.rT:_.s)(v.t29217,0),n=new Uint32Array(o.slice(p,p+(a&4294967292)).buffer),N=new Uint32Array(a>>>2);
d.raw.afK(n,N,a>>>2,D);var W=new Uint8Array(p+a);W.set(new Uint8Array(N.buffer),p);var G=[];UTIF._readIFD(x,W,p,G,0,!1);
var l=G.pop(),u=l.t29458;K.t50728=[u[1]/u[0],1,u[1]/u[3]];K.t50730=[.5];var e=l.t29891;K.t50829=[e[1],e[0],e[3],e[2]]}else if($.makerNote&&$.makerNote.t8208){var P=$.makerNote,M=P.t8208,B=M.length,s=0,t=new Uint8Array(256);
for(var y=249;y<256;y++)t[y]=y;for(var y=0;y<249;y++)t[y*y*y%249]=y;for(var y=0;y<B;y++)M[y]=t[M[y]];
if(B==6604)s=612;else throw"e";var u=[];for(var y=0;y<3;y++)u.push(_.ac(M,s+y*2));console.log(u);K.t50728=[u[1]/u[0],1,u[1]/u[2]]}else console.log("no white balance");
if(K.width*K.height*1.5==K.t279[0]){j=j>>>2;K.t50714=[j,j,j,j];K.t50717=[O[3]>>>2]}}else if(K.t271[0].startsWith("Canon")){var o=K.data,J=o.slice(0),L=K.t50752,k=[],r=0;
if(L==null||L[0]==0&&L[1]==0)k.push(K.width);else{for(var y=0;y<L[0];y++)k.push(L[1]);k.push(L[2])}var C=K.width*2,Q=K.t50885&&K.t50885[0]==4;
if(!Q)for(var j9=0;j9<k.length;j9++){var a4=k[j9],ar=2*r,ez=2*a4;for(var ja=0;ja<K.height;ja+=2){var c3=ja*C+ar,hW=K.height*ar+ja*ez;
for(var y=0;y<ez;y++){o[c3+y]=J[hW+y];o[c3+y+C]=J[hW+y+ez]}}r+=a4}else{var fO=new Uint16Array(J.buffer),ei=new Uint16Array(o.buffer);
function fV(ee,hM){ei[hM*3+0]=fO[ee*3+0];ei[hM*3+1]=fO[ee*3+1];ei[hM*3+2]=fO[ee*3+2]}var aW=(L[0]*L[1]+L[2])/K.width;
for(var j9=0;j9<k.length;j9++){var a4=Math.round(k[j9]/aW);for(var ja=0;ja<K.height;ja++){var ee=K.height*r+(aW==3?(ja>>>3)*8+[0,4,1,5,2,6,3,7][ja&7]:ja)*a4,hM=ja*K.width+r;
for(var ds=0;ds<a4;ds++)fV(ee+ds,hM+ds)}r+=a4}var cp=new Uint16Array(o.buffer),eA=new Uint16Array(1),db=new Int16Array(eA.buffer);
for(var y=0;y<cp.length;y+=3){var js=cp[y],bF=cp[y+1],jI=cp[y+2];eA[0]=bF<<2;bF=db[0]>>2;eA[0]=jI<<2;
jI=db[0]>>2;cp[y+0]=Math.max(0,jI+js);cp[y+1]=Math.max(0,(js<<12)-bF*778-(jI<<11)>>12);cp[y+2]=Math.max(0,bF+js)}}var P=$.makerNote;
if(P.t16385){var ee=P.t224,eZ=0;if(ee){var p=K.t50719=[ee[5],ee[6]],gF=K.t50720=[ee[7]+1-ee[5],ee[8]+1-ee[6]],b6=P.t154;
if(b6){p[0]+=b6[3];p[1]+=b6[4];gF[0]=b6[1];gF[1]=b6[2]}}var ji=P.t16385,hd=ji.length;if(hd==582)eZ=1;
else if(hd==653)eZ=2;else if(hd==796)eZ=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(hd)!=-1)eZ=4;
else if(hd==5120){eZ=5;ji=new Int16Array(ji.slice(0).buffer)}else if(hd==1273||hd==1275)eZ=6;else if([1312,1313,1316,1506].indexOf(hd)!=-1)eZ=7;
else if([1560,1592,1353,1602].indexOf(hd)!=-1)eZ=8;else throw"e"+hd;var hj=ji[0],eK=[null,[25,166],[34,286],[63,196],[63],[71,hj==-4?333:264],[63,251],[63,hj==10?504:728],[63,326]],s=eK[eZ][0],cX=eK[eZ][1];
if(eZ==4){if(ji[0]==2)cX=231;else if(ji[0]==3)cX=231;else if(ji[0]==4)cX=231;else if(ji[0]==5)cX=231;
else if(ji[0]==6)cX=231;else if(ji[0]==7)cX=231;else if(ji[0]==9)cX=231;else throw"e"}K.t50728=[ji[s+1]/ji[s],1,ji[s+1]/ji[s+3]];
var j=cX==null?1024:ji[cX];if(eZ!=4)K.t50714=[j,j,j,j]}else{K.t50728=[.4,1,.6]}if(Q){K.t277=[3];K.t50728=[1,1,1];
K.t50714=[0,0,0,0]}}else if(K.t271[0].startsWith("NIKON")){var P=$.makerNote,bW=K.isLE?_.ac:_.AK,aN=0,eS=0,ib,bw=0;
if(P.t61){var ju=P.t61,ci=[];for(var y=0;y<4;y++)ci[y]=ju[y]/Math.pow(2,14-f);K.t50714=ci}if(P.t3585){var hH=P.t3585,y=0,p=22;
while(p<hH.length&&y!=-4){var b8=_.rT(hH,p);p+=4;p+=14;y=_.rT(hH,p)-4;p+=4;if(b8==1990472198){if(hH[p]!=0)throw"Flip"}if(b8==1990472199){var gh=_.ac(hH,p);
if(gh==0)K.d8=1;else if(gh==270)K.d8=8;else throw"e "+gh}p+=y}}if(P.t183){var b2=P.t183,gF=[];for(var y=0;
y<6;y++)gF.push(bW(b2,16+y*2));aN=gF[0];eS=gF[1]}if(P.t3614){var fZ=P.t3614;aN=_.rT(fZ,8);eS=_.rT(fZ,12)}if(aN!=0&&Math.max(aN,eS)<Math.max(K.width,K.height)){if(aN<eS){var c=aN;
aN=eS;eS=c}var ds=K.width-aN>>>1,ja=K.height-eS>>>1;K.t50829=[ja,ds,ja+eS,ds+aN]}else K.t50829=[8,8,K.height-8,K.width-56];
var dw=P.t69;if(dw)K.t50829=[dw[1],dw[0],dw[1]+dw[3],dw[0]+dw[2]];if(P.t12){var eJ=d.raw.adG(P.t12);
ib=[1/eJ[0],1,1/eJ[1]]}else if(P.t151){var df=d.raw.arz(P,151),k5=df[0],aM=df[1],eC=df[2];if(k5=="0100"&&aM>=80)throw"e";
else if(k5=="0102"){var j7=[];for(var y=0;y<4;y++)j7.push(bW(eC,6+y*2));ib=[j7[1]/j7[0],1,j7[1]/j7[3]]}else if(k5=="0103"&&aM>=26){var j7=[];
for(var y=0;y<4;y++)j7.push(bW(eC,16+y*2));ib=[j7[1]/j7[0],1,j7[3]/j7[2]]}else if(k5=="0204"&&aM>=564||k5=="0205"&&aM>=284){var p=k5=="0204"?6:14,j7=[];
for(var y=0;y<4;y++)j7.push(bW(eC,p+y*2));ib=[j7[1]/j7[0],1,j7[1]/j7[3]]}else throw"e"}else console.log("no white balance info");
if(b=="NIKON D1")ib=[1,1,1];if(ib)K.t50728=ib;var cK=P.t150?P.t150:P.t140;if(cK){var f6=cK[bw++],iF=cK[bw++],b$;
if(f6==73||iF==88)bw+=2110;bw+=8;var ag=1<<f&32767,bS=bW(cK,bw);bw+=2;var V=[];if(bS>1)b$=Math.floor(ag/(bS-1));
if(f6==68&&iF==32&&b$>0){for(y=0;y<bS;y++){V[y*b$]=bW(cK,bw);bw+=2}for(y=0;y<ag;y++)V[y]=Math.floor((V[y-y%b$]*(b$-y%b$)+V[y-y%b$+b$]*(y%b$))/b$)}else if(f6!=70&&bS<=16385){ag=bS;
for(var y=0;y<bS;y++)V[y]=bW(cK,bw+2*y);bw+=2*bS}var b=K.t272[0];if(V.length!=0)K.t50712=new Uint16Array(V);
if(K.t258[0]==14&&K.t50717&&K.t50717[0]<1e4){console.log("fixing white");K.t50717[0]*=4}}}else if(E.startsWith("FujiFilm")){}else if(E.startsWith("Panasonic")){if(K.t277==null)K.t277=[1]}else alert("Unknown camera "+E)};
d.raw.afK=function(K,o,Y,c){if(0==Y)return;var z=new Uint32Array(128),f=new Uint8Array(z.buffer),$=127,E=0,b=0;
for(var $=0;$<4;$++)z[$]=c=(c*15625>>>0)*3125+1>>>0;z[3]=z[3]<<1|(z[0]^z[2])>>>31;for(var $=4;$<127;
$++)z[$]=(z[$-4]^z[$-2])<<1|(z[$-3]^z[$-1])>>>31;for(var $=0;$<127;$++)z[$]=_.s(f,$*4);for(;Y>0;Y--){z[$&127]=z[$+1&127]^z[$+1+64&127];
var q=z[$&127],O=K[E];O^=q;o[b]=O;E++;b++;$++}};d.raw.ami=function(K,o){var Y=_.H9(o,0,4),c=d.raw.apS;
for(var y=0;y<c.length;y++)if(c[y][0]==K&&Y.startsWith(c[y][1])&&(c[y][2]==0||c[y][2]==o.length))return c[y];
throw"e"};d.raw.apd=function(K){if(K.t29==null)return[];var o=d.raw.a7e,Y=d.raw.a3X,c=K.t29[0],z=0,$=0;
for(var y=0;y<c.length;y++){var f=c.charCodeAt(y);z=z*10+(48<=f&&f<=57?f-48:f%10)}var aM=K.t167[0];for(var y=0;
y<4;y++)$^=aM>>>(y<<3)&255;var E=o[z&255],b=Y[$&255];return[E,b,96]};d.raw.arz=function(K,o){var Y=K["t"+o],aM=Y.length,c=d.raw.ami(o,Y),z=_.H9(Y,0,4),f,$=c[4];
if($==null)f=Y.slice(4);else{f=new Uint8Array(aM-$);var E=d.raw.apd(K),b=E[0],q=E[1],O=E[2];for(var y=0;
y<f.length;y++){q=q+b*O++&255;f[y]=Y[$++]^q}}return[z,aM,f]};d.raw.a6W=function(K,o){var Y=o.t271[0],c=o.t272[0],z=o.t256[0],f=o.t257[0],$=o.t258[0],E=o.t273[0],b=E,q=new Uint8Array(K),O,j=z-4,A=f,R=q.length-E,i=0,h=0;
function g(){var U=new Uint16Array(4096),h4=0;U[h4]=3084;for(var y=12;y--;)for(var Z=0;Z<2048>>y;Z++)U[++h4]=y+1<<8|y;
return U}function H(){return q[b++]}function x(U,Z){var T;if(U>25)return 0;if(U==0||h<0)return 0;if(U<0){i=0;
h=0;return 0}while(h<U){T=H();if(T==null)break;i=(i<<8)+(255&T);h+=8}T=h==0?0:i<<32-h>>>32-U;if(Z){h-=Z[T]>>8;
T=255&Z[T]}else h-=U;return T}function F(){var U=g();b+=7;x(-1);for(var Z=0;Z<A;Z++){var T=[new Int32Array(3),new Int32Array(3)];
for(var v=0;v<z;v++){var P=T[v&1],y=2*(P[2]<3),p;for(p=2+y;(65535&P[0])>>p+y;p++);var a=x(3),D=a&3;a=a<<29>>31;
var n=x(12,U);if(n==12)n=x(16-p)>>>1;var N=x(p);P[0]=n<<p|N;var W=(P[0]^a)+P[1];P[1]=W*3+P[1]>>5;P[2]=P[0]>16?0:P[2]+1;
if(v>=j)continue;var G=O[Z*z+v-2],h4=O[(Z-2)*z+v],l=O[(Z-2)*z+v-2];O[Z*z+v]=(Z<2&&v<2?0:Z<2?G:v<2?h4:G<l&&l<h4||h4<l&&l<G?Math.abs(G-l)>32||Math.abs(h4-l)>32?G+h4-l:G+h4>>1:Math.abs(G-l)>Math.abs(h4-l)?G:h4)+(W<<2|D)}}}function X(){var U=z*$/8,Z=f+1>>1,v=0,P=0;
U+=U&6>>7;var T=U*8-z*$;for(var p=0;p<f;p++){var a=p%Z*2+~~(p/Z);if(a==1){v=0;b=E-(-Z*U&-2048)}for(var D=0;
D<z;D++){for(v-=$;v<0;v+=8){P<<=8;for(var y=0;y<8;y+=8)P|=H()<<y}var n=P<<64-$-v>>>64-$;O[a*z+D]=n}v-=T}}function V(){var U=!Y.startsWith("OLYMPUS")||!Y.startsWith("OM Digi")||!Y.toLowerCase().startsWith("clauss")&&!c.toLowerCase().startsWith("pix 5oo");
return U&&R<z*f}if(V()){O=new Uint16Array(j*A);F()}else{O=new Uint16Array(z*f);X()}return O};d.raw.apS=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
d.raw.a7e=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
d.raw.a3X=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
d.yG={};d.yG.yG=function(K,o,Y,c,z){if(c==null)c=3;if(z==null)z=!0;var f=K.m,$=K.e,E=1/f,b=f*$,q=Date.now(),O=!1,j=d.yG.a3A(Y,f,$,255,128),A=d.yG.a3A(Y,f,$,0,128),r=0;
if(O)console.log("extract contours",Date.now()-q);q=Date.now();var R=function(ju,ci){var gh=ju<<2,aN=ci<<2;
return o[gh]+o[gh+1]+o[gh+2]-(o[aN]+o[aN+1]+o[aN+2])};j.sort(R);A.sort(R);var g=d.R(b),H=d.R(b),i=[],h=new Uint32Array(f*$);
h.fill(4294967295);for(var y=0;y<b;y++)if(Y[y]==0)H[y]=255;else if(Y[y]==255)g[y]=255;else{h[y]=i.length;
i.push(y)}var x=j.length,F=A.length,X=i.length;function V(ju,ci,gh,aN){var eS=ju.length,b2=new Array(eS*2);
for(var y=0;y<eS;y++){var G=ju[y],l=~~(G*aN),u=G-l*gh,eK=G<<2;b2[y*2]=u<<16|l;b2[y*2+1]=ci[eK]<<16|ci[eK+1]<<8|ci[eK+2]}return b2}var U=V(j,o,f,E),Z=V(A,o,f,E),T=V(i,o,f,E);
if(O)console.log("Itemize",Date.now()-q,"Unknown:",X,x,F);q=Date.now();var v=d.style.D9(g,f,$,!0),P=d.style.D9(H,f,$,!0),p=new Array(X),a=new Array(X),D=new Array(X),n=new Array(X),N=new Array(X);
if(O)console.log("Dist transform",Date.now()-q);q=Date.now();var W=d.yG.IQ;for(var y=0;y<X;y++){var G=i[y],l=~~(G*E),u=G-l*f,e=v[G<<1],M=v[(G<<1)+1],B=Math.sqrt(e*e+M*M),s=P[G<<1],t=P[(G<<1)+1],J=Math.sqrt(s*s+t*t);
p[y]=1/B;a[y]=1/J;var L=Math.floor(d.l.Kz(G*17)*x),k=Math.floor(d.l.Kz(G*19)*F);D[y]=L;n[y]=k;N[y]=W(T[y*2],T[y*2+1],U[L*2],U[L*2+1],Z[k*2],Z[k*2+1],p[y],a[y],1e9)}var C=[-f-1,-f,-f+1,-1,1,f-1,f,f+1];
while(Math.floor(Math.max(x,F)*Math.pow(.5,r))>1)r++;for(var Q=0;Q<c;Q++){var j9=0;for(var y=0;y<X;y++){var G=i[y],l=~~(G*E),u=G-l*f,a4=p[y],ar=a[y],ez=T[y*2],ja=T[y*2+1],c3=N[y],L=D[y],k=n[y],ee=1;
if(l!=0&&u!=0&&u!=f-1&&l!=$-1)for(var hW=0;hW<8;hW++){var fO=h[G+C[hW]];if(fO==4294967295)continue;var ei=D[fO],fV=n[fO];
if(ei==L&&fV==k)continue;var aW=W(ez,ja,U[ei*2],U[ei*2+1],Z[fV*2],Z[fV*2+1],a4,ar,c3);if(aW<c3){c3=aW;
L=ei;k=fV}}for(var hM=0;hM<r;hM++){var ds=~~(x*ee),cp=~~(F*ee);ee*=.5;var eA=d.l.Kz(G+Q*17+hM*31),js=d.l.Kz(G+Q*29+hM*63),bF=Math.max(0,L-ds),jI=Math.min(L+ds,x-1),gF=Math.max(0,k-cp),b6=Math.min(k+cp,F-1),ei=bF+~~(eA*(jI-bF)),fV=gF+~~(js*(b6-gF)),aW=W(ez,ja,U[ei*2],U[ei*2+1],Z[fV*2],Z[fV*2+1],a4,ar,c3);
if(aW<c3){c3=aW;L=ei;k=fV}}N[y]=c3;D[y]=L;n[y]=k;j9+=c3}}if(O)console.log(j9);if(O)console.log("iterations",Date.now()-q);
q=Date.now();var ji=Y.slice(0);for(var y=0;y<X;y++){var hd=d.yG.alpha(T[y*2+1],U[D[y]*2+1],Z[n[y]*2+1]);
ji[i[y]]=~~(.5+255*hd)}ji=d.RP.atE(ji,o,new hD(0,0,f,$),16,.01*.01);if(O)console.log("guided filter",Date.now()-q);
q=Date.now();if(z)for(var y=0;y<b;y++)if(Y[y]==255||Y[y]==0)ji[y]=Y[y];var eZ=o.slice(0);for(var y=0;
y<X;y++){var hj=i[y],L=j[D[y]],c3=N[y],eK=hj<<2,cX=ji[hj],bW=(cX>=250?hj:L)<<2;eZ[eK]=o[bW];eZ[eK+1]=o[bW+1];
eZ[eK+2]=o[bW+2]}d.cb(ji,eZ,3);if(O)console.log(Date.now()-q);q=Date.now();return eZ};d.yG.IQ=function(K,o,Y,c,z,f,$,E,b){var q=K>>>16,O=K&65535,j=q-(Y>>>16),A=O-(Y&65535),R=q-(z>>>16),g=O-(z&65535),H=Math.sqrt(j*j+A*A)*$,i=Math.sqrt(R*R+g*g)*E;
if(H+i>=b)return 1e9;var h=d.yG.ann(o,c,f);return h+H+i};d.yG.ann=function(K,o,Y){var c=K>>>16,z=K>>>8&255,f=K&255,$=o>>>16,E=o>>>8&255,b=o&255,q=Y>>>16,O=Y>>>8&255,j=Y&255,A=d.yG.alpha(K,o,Y),R=c-(A*$+(1-A)*q),g=z-(A*E+(1-A)*O),H=f-(A*b+(1-A)*j);
return Math.sqrt(R*R+g*g+H*H)};d.yG.alpha=function(K,o,Y){var c=K>>>16,z=K>>>8&255,f=K&255,$=o>>>16,E=o>>>8&255,b=o&255,q=Y>>>16,O=Y>>>8&255,j=Y&255,A=$-q,R=E-O,g=b-j,H=c-q,i=z-O,h=f-j,x=A*A+R*R+g*g,F=x==0?.5:(H*A+i*R+h*g)/x;
return Math.max(0,Math.min(1,F))};d.yG.aoQ=function(K){};d.yG.a3A=function(K,o,Y,c,z){var f=[],$=o-1,E=Y-1;
for(var b=1;b<E;b++)for(var q=1;q<$;q++){var y=b*o+q;if(K[y]==c&&(K[y-o-1]==z||K[y-o]==z||K[y-o+1]==z||(K[y-1]==z||K[y+1]==z)||(K[y+o-1]==z||K[y+o]==z||K[y+o+1]==z)))f.push(y)}return f};
d.RP={};d.RP.asv=function(K,o,Y,c,z){var f=Y.m,$=Y.e,E=f*$,b=d.RP.a8j,q=d.R(E*4),O;d.nz(q,4294967295);
var j=Y,A=K,R=o,g=c;d.cb(K,q,0);O=d.sQ(q,Y);O=d.sQ(O.y3,O.rect);j=O.rect;g=c>>>2;console.log(j,g);A=d.R(j.Z());
d.JI(O.y3,A,0);d.cb(o,q,0);O=d.sQ(q,Y);O=d.sQ(O.y3,O.rect);R=d.R(j.Z());d.JI(O.y3,R,0);var H=d.RP.alU(A,R,j,g,z),i=H[0],h=H[1],x=new hD(0,0,j.m*2,j.e*2);
i=b(i,j,x,!0);i=b(i,x,Y,!0);h=b(h,j,x,!0);h=b(h,x,Y,!0);var F=d.R(E);for(var y=0;y<E;y++)F[y]=Math.max(0,Math.min(255,Math.floor(.5+(i[y]*o[y]+255*h[y]))));
return F};d.RP.a8j=function(K,o,Y,c){var z=Y.m,f=Y.e,$=o.m,E=o.e,b=d.RP.u2,q=new Float32Array(z*f);for(var O=0;
O<E;O++){var j=(O+O)*z;for(var A=0;A<$;A++){if(!0||A==0||O==0||A==$-1||O==E-1)q[j]=q[j+1]=q[j+z]=q[j+z+1]=K[O*$+A];
else{q[j]=b(A+.25,O+.25,K,$,E);q[j+1]=b(A+.75,O+.25,K,$,E);q[j+z]=b(A+.25,O+.75,K,$,E);q[j+z+1]=b(A+.75,O+.75,K,$,E)}j+=2}}return q};
d.RP.u2=function(K,o,Y,c,z){K-=.499999;o-=.499999;var f=Math.floor(K),$=Math.floor(o),E=$*c+f,b=K-f,q=o-$,O=(1-q)*(1-b),j=(1-q)*b,A=q*(1-b),R=q*b;
if(Y[E]==null||Y[E+c+1]==null){console.log(K,o,c,z);throw"e"}return O*Y[E+0]+j*Y[E+1]+A*Y[E+c+0]+R*Y[E+c+1]};
d.RP.alU=function(K,o,Y,c,z){var f=Y.m,$=Y.e,E=f*$,b=d.RP.ayH,q=d.RP.R,O=d.Gq.Nr,j=d.RP.vX,o=b(o),K=b(K),A=q(E);
O(o,A,Y,c);var R=q(E);O(K,R,Y,c);var g=q(E);j(o,o,g);O(g,g,Y,c);var H=q(E);j(o,K,H);O(H,H,Y,c);var i=q(E),h=q(E);
for(var y=0;y<E;y++){var x=A[y],F=R[y],X=g[y]-x*x,V=H[y]-x*F,U=V/(X+z),Z=F-U*x;i[y]=U;h[y]=Z}var T=q(E);
O(i,T,Y,c);var v=q(E);O(h,v,Y,c);return[T,v]};d.RP.atE=function(K,o,Y,c,z){var f=Y.m,$=Y.e,E=f*$,b=d.RP.a8j,q=Date.now(),O=!1,j=Y,A=K,R=o,g=c;
j=new hD(0,0,f>>>2,$>>>2);g=c>>>2;A=d.RP.aCc(K,f,$);R=d.RP.anG(o,f,$);if(O)console.log(Date.now()-q);
q=Date.now();var H=d.RP.aqB(A,R,j,g,z),i=H[0],h=H[1],x=H[2],F=H[3];if(O)console.log(Date.now()-q);q=Date.now();
var X=d.R(E);for(var V=0;V<$;V++)for(var U=0;U<f;U++){var y=V*f+U,Z=(V>>>2)*(f>>>2)+(U>>>2),T=y<<2,v=i[Z]*o[T]+h[Z]*o[T+1]+x[Z]*o[T+2]+F[Z]*255;
X[y]=Math.max(0,Math.min(255,~~(.5+v)))}if(O)console.log(Date.now()-q);q=Date.now();return X};d.RP.aCc=function(K,o,Y){var c=o>>>2,z=Y>>>2,f=d.R(o*Y);
for(var $=0;$<z;$++)for(var E=0;E<c;E++)f[$*c+E]=K[$*o+E<<2];return f};d.RP.anG=function(K,o,Y){var c=o>>>2,z=Y>>>2,f=d.R(o*Y*4);
for(var $=0;$<z;$++)for(var E=0;E<c;E++){var b=$*c+E<<2,q=$*o+E<<4;f[b]=K[q];f[b+1]=K[q+1];f[b+2]=K[q+2];
f[b+3]=K[q+3]}return f};d.RP.aqB=function(K,o,Y,c,z){var f=Y.m,$=Y.e,E=f*$,b=d.RP.ayH,q=d.RP.R,O=d.Gq.Nr,j=d.RP.vX,K=b(K),A=new d.ok(f*$);
d.w9(o,A);var o=[b(A.o),b(A.A),b(A.J)],R=d.RP.a9t(K,o,Y,c,z),g=q(E);O(K,g,Y,c);var H=q(E);j(o[0],K,H);
O(H,H,Y,c);var i=q(E);j(o[1],K,i);O(i,i,Y,c);var h=q(E);j(o[2],K,h);O(h,h,Y,c);var x=q(E),F=q(E),X=q(E),V=q(E);
for(var y=0;y<E;y++){var U=g[y],Z=R.Zw[y],T=R.Iw[y],v=R.CR[y],P=H[y]-Z*U,p=i[y]-T*U,a=h[y]-v*U;x[y]=R.aBc[y]*P+R.iC[y]*p+R.du[y]*a;
F[y]=R.iC[y]*P+R.ai3[y]*p+R.fP[y]*a;X[y]=R.du[y]*P+R.fP[y]*p+R.aa7[y]*a;V[y]=U-x[y]*Z-F[y]*T-X[y]*v}O(x,x,Y,c);
O(F,F,Y,c);O(X,X,Y,c);O(V,V,Y,c);return[x,F,X,V]};d.RP.a9t=function(K,o,Y,c,z){var f=Y.m,$=Y.e,E=f*$,b=d.RP.R,q=d.Gq.Nr,O=d.RP.vX,j={};
j.Zw=b(E);q(o[0],j.Zw,Y,c);j.Iw=b(E);q(o[1],j.Iw,Y,c);j.CR=b(E);q(o[2],j.CR,Y,c);var A=b(E);O(o[0],o[0],A);
q(A,A,Y,c);var R=b(E);O(o[0],o[1],R);q(R,R,Y,c);var g=b(E);O(o[0],o[2],g);q(g,g,Y,c);var H=b(E);O(o[1],o[1],H);
q(H,H,Y,c);var i=b(E);O(o[1],o[2],i);q(i,i,Y,c);var h=b(E);O(o[2],o[2],h);q(h,h,Y,c);j.aBc=A;j.iC=R;
j.du=g;j.ai3=H;j.fP=i;j.aa7=h;for(var y=0;y<E;y++){var x=j.Zw[y],F=j.Iw[y],X=j.CR[y],V=A[y]-x*x+z,U=R[y]-x*F,Z=g[y]-x*X,T=H[y]-F*F+z,v=i[y]-F*X,P=h[y]-X*X+z,p=T*P-v*v,a=v*Z-U*P,D=U*v-T*Z,n=V*P-Z*Z,N=Z*U-V*v,W=V*T-U*U,G=p*V+a*U+D*Z,l=1/G;
j.aBc[y]=p*l;j.iC[y]=a*l;j.du[y]=D*l;j.ai3[y]=n*l;j.fP[y]=N*l;j.aa7[y]=W*l}return j};d.RP.R=function(K){return new Float32Array(K)};
d.RP.ayH=function(K){var o=K.length,Y=new Float32Array(o);for(var y=0;y<o;y++)Y[y]=K[y]*(1/255);return Y};
d.RP.vX=function(K,o,Y){for(var y=0;y<K.length;y++)Y[y]=K[y]*o[y]};d.jw={};d.jw.vM=function(K,o,Y,c){var z=K[o]-Y[c],f=K[o+1]-Y[c+1],$=K[o+2]-Y[c+2];
return Math.sqrt(z*z+f*f+$*$)*(1/441.7)};d.jw.getSelection=function(K,o,Y){var c=o*Y,z=d.R(c),f=!1,$=Math.round(Y*.7),E=1,b=new Uint32Array(12),q=d.R(12);
for(var O=0;O<$;O++)for(var j=0;j<o;j++){if(j<E||O<E||j>o-E-1||O>Y-E-1){var y=O*o+j,A=y<<2,R=0;if(O<E)R=4;
else if(j>o-E-1)R=8;b[R]+=K[A];b[R+1]+=K[A+1];b[R+2]+=K[A+2];b[R+3]++;z[y]=255}}for(var y=0;y<12;y+=4)for(var g=0;
g<3;g++)q[y+g]=b[y+g]/b[y+3];var H=new Float32Array(c);for(var y=0;y<c;y++){var A=y*4,i=d.jw.vM(K,A,q,0),h=d.jw.vM(K,A,q,4),x=d.jw.vM(K,A,q,8),F=Math.max(i,Math.max(h,x));
H[y]=i+h+x-F}d.jw.ej(H);var X=Date.now(),V=new Float32Array(c),U=[],Z=d.R(c);for(var y=0;y<3;y++){d.JI(K,Z,y);
var T=new Uint16Array(c);U.push(T);d.jw.as2(Z,z,o,Y,T)}if(f)console.log("MBD",Date.now()-X);X=Date.now();
for(var y=0;y<c;y++)V[y]=U[0][y]+U[1][y]+U[2][y];d.jw.ej(V);for(var y=0;y<c;y++)V[y]+=.4*H[y];var v=o>>>1,$=Y>>>1,P=1/Math.sqrt(v*v+$*$);
for(var O=0;O<Y;O++)for(var j=0;j<o;j++){var p=j-v,a=O-$,D=1-Math.sqrt(p*p+a*a)*P;V[O*o+j]*=D}if(f)console.log("Centeredness",Date.now()-X);
X=Date.now();for(var y=0;y<c;y++)z[y]=V[y]*255;var n=Math.round(o/120),N=Math.round(n*.8);if(f)console.log(n,N);
d.og.md(z,z,o,Y,n+n+1,!1);if(f)console.log("erosion",Date.now()-X);X=Date.now();for(var y=0;y<c;y++)V[y]=z[y];
d.jw.ej(V);var W=d.R(256);for(var y=0;y<256;y++)W[y]=256/(1+Math.exp(-20*(y/255-.5)));for(var y=0;y<c;
y++){var G=~~(V[y]*255+.5);z[y]=W[G]}if(f)console.log("Simoid",Date.now()-X);X=Date.now();return z};
d.jw.ej=function(K){var o=K.length,Y=0;for(var y=0;y<o;y++)Y=Math.max(Y,K[y]);var c=1/Y;for(var y=0;
y<o;y++)K[y]=K[y]*c};d.jw.as2=function(K,o,Y,c,z){var f=Y*c,$=K.slice(0),E=K.slice(0);for(var y=0;y<f;
y++)z[y]=o[y]==255?0:65535;d.jw.ayP(K,E,$,z,Y,c);d.jw.afq(K,E,$,z,Y,c);d.jw.ayP(K,E,$,z,Y,c);d.jw.afq(K,E,$,z,Y,c);
return z};d.jw.ayP=function(K,o,Y,c,z,f){for(var $=1;$<z;$++)d.jw.Mo($,-1,K,o,Y,c);for(var E=1;E<f;E++){d.jw.Mo(E*z,-z,K,o,Y,c);
for(var $=1;$<z;$++){var y=E*z+$;d.jw.Mo(y,-1,K,o,Y,c);d.jw.Mo(y,-z,K,o,Y,c)}}};d.jw.afq=function(K,o,Y,c,z,f){for(var $=z-2;
$>=0;$--)d.jw.Mo(z*f-z+$,1,K,o,Y,c);for(var E=f-2;E>=0;E--){d.jw.Mo(E*z+z-1,z,K,o,Y,c);for(var $=z-2;
$>=0;$--){var y=E*z+$;d.jw.Mo(y,1,K,o,Y,c);d.jw.Mo(y,z,K,o,Y,c)}}};d.jw.Mo=function(y,K,o,Y,c,z){var f=y+K,$=o[y],E=Y[f],b=c[f];
if(E<$)E=$;else if($<b)b=$;var q=E-b;if(z[f]!=65535&&q<z[y]){z[y]=q;Y[y]=E;c[y]=b}};d.Eb={};d.Eb.filter=function(K,o,Y,c){var z=o.m,f=o.e,$=z*f,E=c[0],b=c[1],q=c[2],O=c[3],j=c[4],A=c[5],R=c[6],g=Date.now(),H=new Float32Array(z*f*4);
d.Eb.ayK(K,z,f,H);var i=Math.ceil(E*Math.sqrt(-2*Math.log(.1))),h=new ArrayBuffer($*4),x=new Float32Array(h),F=new Float32Array($),X=new Float32Array($);
for(var y=0;y<$;y++){var V=y*4;x[y]=H[V];F[y]=H[V+1];X[y]=H[V+2]}d.Gq.An(x,x,o,i*1/2.4,2);d.Gq.An(F,F,o,i*1/2.4,2);
d.Gq.An(X,X,o,i*1/2.4,2);for(var y=0;y<$;y++){var V=y*4;H[V]=x[y];H[V+1]=F[y];H[V+2]=X[y]}var U=new Uint8Array(h);
for(var y=0;y<$;y++){var V=y*4,Z=y*4,x=H[V],F=H[V+1],X=H[V+2],T=Math.sqrt((x-X)*(x-X)+4*F*F),v=(x+X+T)*.5,P=(x+X-T)*.5,p=P-X,a=F,D=p*p+a*a;
if(D!=0){var n=Math.sqrt(D),N=1/n;p*=N;a*=N}U[Z]=128+127*p;U[Z+1]=128+127*a}var W=1.3*b+2,G=O*(2/10),l=K.slice();
if(jK.YT){var u=new Float32Array([1/z,1/f]),e=jK.r0(0,z,f);e.set(l);var M=jK.r0(1,z,f);M.set(U);jK.EW(e,o);
if(j){e.vt(o);jK.filter.rF({type:jK.filter.ajX,wl:u,arK:1/q,a6L:G},e.Ci)}e.vt(o);jK.filter.rF({type:jK.filter.ar,W7:M.eI,wl:u,aBz:W,a8O:2},e.Ci);
if(j){e.vt(o);jK.filter.rF({type:jK.filter.aeb,wl:u,aqO:new Float32Array(R),ax$:A},e.Ci)}e.get(Y)}else{if(j)d.Eb.A$(1/q,G,l,z,f);
d.Eb.ar(l,Y,U,z,f,W);if(j)d.Eb.aqx(z,f,Y,R,A)}var B=$*4;for(var y=3;y<B;y+=4)Y[y]=K[y]};d.Eb.ar=function(K,o,Y,c,z,f){var $=Math.ceil(2*f),E=-1/(2*f*f),b=[],q=1;
for(var y=0;y<$+20;y++)b[y]=Math.exp(y*y*E);var O=[0,0,0,0];for(var j=0;j<z;j++){for(var A=0;A<c;A++){var R=j*c+A,g=R*4,H=1,i=K[g],h=K[g+1],x=K[g+2],F=K[g+3],X=(Y[g]-128)*(1/127),V=(Y[g+1]-128)*(1/127),U=X,Z=V,T=A==0?.51:.49,v=j==0?.51:.49;
for(var y=0;y<2;y++){var P=A+T,p=j+v,a=0;while(a<$){if(P<.5||c-.5<P||p<.5||z-.5<p)break;var D=~~P,n=~~p,N=n*c+D,W=N*4,G=(Y[W]-128)*(1/127),l=(Y[W+1]-128)*(1/127);
if(G*U+l*Z<0){G=-G;l=-l}U=G;Z=l;P+=q*G;p+=q*l;if(P<.5||c-.5<P||p<.5||z-.5<p)break;var u=~~P,e=~~p,M=e*c+u<<2;
a+=q;var B=b[~~a];d.D.a4K(P,p,K,c,z,O);i+=O[0]*B;h+=O[1]*B;x+=O[2]*B;F+=O[3]*B;H+=B}U=-X;Z=-V}var s=1/H;
o[g]=~~(.5+i*s);o[g+1]=~~(.5+h*s);o[g+2]=~~(.5+x*s);o[g+3]=~~(.5+F*s)}}};d.Eb.aqx=function(K,o,Y,c,z){for(var f=0;
f<o;f++)for(var $=0;$<K;$++){var E=f*K+$<<2,b=1+d.Eb.awh($,f,Y,K,o,c)*z;Y[E]=Math.max(0,Math.min(255,Y[E]*b));
Y[E+1]=Math.max(0,Math.min(255,Y[E+1]*b));Y[E+2]=Math.max(0,Math.min(255,Y[E+2]*b))}};d.Eb.awh=function(K,o,Y,c,z,f){var $=Y[(o*c+Math.max(0,K-1))*4+3],E=Y[(o*c+Math.min(c-1,K+1))*4+3],b=Y[(Math.max(0,o-1)*c+K)*4+3],q=Y[(Math.min(z-1,o+1)*c+K)*4+3],O=.7,j=(E-$)*(1/255),A=.7,R=(q-b)*(1/255),g=-j*A,H=-O*R,i=O*A,h=Math.sqrt(g*g+H*H+i*i),x=1/h,F=g*x,X=H*x,V=i*x,U=f[0]*F+f[1]*X+f[2]*V;
return U};d.Eb.A$=function(K,o,Y,c,z){function f(E,q,O){return Math.max(q,Math.min(O,E))}for(var $=0;
$<z;$++)for(var E=0;E<c;E++){var b=d.Eb.ays(E+.5,$+.5,K,o);Y[($*c+E)*4+3]=Math.max(0,Math.min(255,b*255))}};
d.Eb.ays=function(K,o,Y,c){function z(Z,T,v){return(1-v)*Z+v*T}var f=(K+613)*Y,$=(o+117)*Y,E=~~f,b=~~$,q=f-E,O=$-b,j=Math.sin(11),A=Math.cos(E)*j,R=Math.cos(E+1)*j,g=Math.cos(b)*j,H=Math.cos(b+1)*j,h4=d.Eb.hash(A,g),i=d.Eb.hash(R,g),h=d.Eb.hash(A,H),x=d.Eb.hash(R,H),F=z(h4,i,q),X=z(h,x,q),V=z(F,X,O);
V=V<.5?0:1;var U=V+c*d.Eb.hash(Math.cos(f)*j,Math.cos($)*j);return U*(1/3)};d.Eb.hash=function(K,o){var Y=Math.sin(K*11.697096+o*73.32456)*12157.47691;
return Y-Math.floor(Y)};d.Eb.ayK=function(K,o,Y,c){var z=[-1,0,1,-2,0,2,-1,0,1],f=[-1,-2,-1,0,0,0,1,2,1],$=o-1,E=Y-1,b=o*4;
for(var q=1;q<E;q++)for(var O=1;O<$;O++){var y=q*o+O,j=y*4,A=d.Eb.ds(K,j,b,z),R=d.Eb.ds(K,j,b,f),g=d.Eb.ds(K,j+1,b,z),H=d.Eb.ds(K,j+1,b,f),i=d.Eb.ds(K,j+2,b,z),h=d.Eb.ds(K,j+2,b,f);
c[j]=A*A+g*g+i*i;c[j+1]=A*R+g*H+i*h;c[j+2]=R*R+H*H+h*h}d.Eb.apo(c,o,Y)};d.Eb.ds=function(K,o,Y,c){return K[o-Y-4]*c[0]+K[o-Y]*c[1]+K[o-Y+4]*c[2]+K[o-4]*c[3]+K[o]*c[4]+K[o+4]*c[5]+K[o+Y-4]*c[6]+K[o+Y]*c[7]+K[o+Y+4]*c[8]};
d.Eb.apo=function(K,o,Y){function c(b,y,q){var O=y*4,j=q*4;b[j]=b[O];b[j+1]=b[O+1];b[j+2]=b[O+2]}var z=o-1,f=Y-1;
c(K,o+1,0);c(K,2*o-2,o-1);for(var $=1;$<z;$++)c(K,o+$,$);for(var E=1;E<f;E++){c(K,E*o+1,E*o);c(K,E*o+o-2,E*o+o-1)}for(var $=1;
$<z;$++)c(K,(Y-2)*o+$,(Y-1)*o+$);c(K,(E-2)*o+1,(E-1)*o);c(K,(E-1)*o-2,E*o-1)};d.Py=function(){function K(q,O,j,A){var R=new Float32Array(q*q),g=q/2;
for(var H=0;H<q;H++)for(var i=0;i<q;i++){var h=i+j-g,x=H+A-g;R[H*q+i]=Math.max(0,Math.min(1,O+.5-Math.sqrt(h*h+x*x)))}return R}var o=[],c=null;
function Y(q,O,j,A){var R=Math.floor(O*10),g=o[R],H=q*8,i=H>>>1;if(g==null){g=o[R]=[];var h=new hD(0,0,H,H),x=q/2/(1+.2*O),F=Math.floor(q*R*.1);
for(var X=0;X<2;X++)for(var V=0;V<2;V++){var U=K(H,x,.25+V*.5,.25+X*.5),Z=0;d.Gq.An(U,U,h,F);while(U[H*i+Z]<.005)Z++;
if(Z!=0)Z--;var T=2*(i-Z),v=new hD(Z,Z,T,T),P=new Float32Array(T*T);for(var p=0;p<T;p++)for(var a=0;
a<T;a++)P[p*T+a]=U[(Z+p)*H+Z+a];g.push([P,v])}}var D=Math.floor(j),n=Math.floor(A),N=j-D,W=A-n,G=N<.5?1:0,l=W<.5?1:0;
g=g[l*2+G];var v=g[1].clone();v.x+=D-i;v.y+=n-i;return[g[0],v]}function z(q,O,j){if(c==null){c=new Uint8Array(4e4);
for(var y=0;y<4e4;y++)c[y]=Math.min(255,~~(.5+255*d.db(y*(1/255))))}var A=q.length;for(var y=0;y<A;y++){var R=q[y],g=~~(255*R);
O[y]=c[g]<<24|j}}function f(q,O,j,A,R){var g=O.wu(A),H=Math.max(0,g.x-O.x),i=Math.max(0,g.x-A.x),h=Math.max(0,g.y-O.y),x=Math.max(0,g.y-A.y),F=g.m,X=g.e;
for(var y=0;y<X;y++){var V=(h+y)*O.m+H,U=(x+y)*A.m+i;for(var Z=0;Z<F;Z++){j[U+Z]+=R*q[V+Z]}}}var $=-1;
function E(q,O,j,A,R){var g=Math.round(A[1]*O*j*.01),H=A[2],i=A[3],h=A[4],x=A[5],F=A[6],X=A[7],V=A[8],U=A[9],Z=A[10]?A[10]:1,B=!1;
if(H!=$){o=[];$=H}var T=Date.now(),v=new hD(0,0,O,j),P=new b(A[0]);if(R)q.fill(0);var p=new Float32Array(R?q.buffer:O*j);
for(var y=0;y<g;y++){var a=P.get()*O,D=P.get()*j,n=P.get()*i,N=P.get()*H*4,W=(P.get()+F)*Math.PI*2,G=P.get()*H*4,l=(P.get()+2*F)*Math.PI*2;
a+=U*(N*Math.cos(W)+G*Math.cos(l));D+=U*(N*Math.sin(W)+G*Math.sin(l));if(V)D=D+F*j*Z;var u=Y(H,n,a,D%j),e=h,M=P.get();
if(X)e=.5+.5*h*(.5+.5*Math.sin((2*F+M)*2*Math.PI));f(u[0],u[1],p,v,e)}if(B)console.log(Date.now()-T,"add floats");
T=Date.now();var s=new Uint8Array(p.buffer);z(p,new Uint32Array(s.buffer),x.J<<16|x.A<<8|x.o);if(B)console.log(Date.now()-T,"toInt");
T=Date.now();if(!R){d.l.To("scrn",s,v,q,v,v,1);if(B)console.log(Date.now()-T,"blendOver")}}function b(q){this.$K=123456789;
this.Ej=987654321;this.F=4294967295;this.JD(q)}b.prototype.JD=function(y){this.$K=123456789+y&this.F;
this.Ej=987654321-y&this.F};b.prototype.get=function(){this.Ej=36969*(this.Ej&65535)+(this.Ej>>16)&this.F;
this.$K=18e3*(this.$K&65535)+(this.$K>>16)&this.F;var q=(this.Ej<<16)+(this.$K&65535)>>>0;q/=4294967296;
return q};return{S1:E}}();d.J0={};d.J0.Ul=function(K,o,Y,c){var z=K[o*2],f=K[o*2+1],$=K[Y*2],E=K[Y*2+1],b=K[c*2],q=K[c*2+1];
return z*E+$*q+b*f-b*E-$*f-z*q};d.J0.apR=function(K,o){var Y=[],c=[],z=[],f={};for(var y=0;y<o.length;
y+=3){var $=~~(y*(1/3)),E=o[y+0],b=o[y+1],q=o[y+2],O=d.J0.Ul(K,E,b,q);if(O>0){var j=b;b=q;q=j}var A=f[q+"-"+b],R=f[b+"-"+E],g=f[E+"-"+q],H=[q,A,$,null],i=[b,R,$,H],h=[E,g,$,i];
H[3]=h;if(A)A[1]=H;if(R)R[1]=i;if(g)g[1]=h;f[q+"-"+E]=h;f[E+"-"+b]=i;f[b+"-"+q]=H;Y[E]=i;z[y]=i;Y[b]=H;
z[y+1]=H;Y[q]=h;z[y+2]=h;c[$]=i}return{$g:Y,GZ:c,d_:z}};d.J0.aqc=function(K){var o=[],Y=K.GZ;for(var y=0;
y<Y.length;y++){var c=Y[y];o.push(c[0]);c=c[3];o.push(c[0]);c=c[3];o.push(c[0])}return o};d.J0.a1H=function(K,o,Y,c){var z=K[o*2],f=K[o*2+1],$=K[Y*2],E=K[Y*2+1],b=K[c*2],q=K[c*2+1],O=$-z,j=E-f,A=b-z,R=q-f,g=O*(z+$)+j*(f+E),H=A*(z+b)+R*(f+q),i=2*(O*(q-E)-j*(b-$));
if(Math.abs(i)<1e-5){var h=Math.min(z,$,b),x=Math.min(f,E,q),F=(Math.max(z,$,b)-h)*.5,X=(Math.max(f,E,q)-x)*.5;
return[h+F,x+X,F*F+X*X,1]}var V=(R*g-j*H)/i,U=(O*H-A*g)/i,F=V-z,X=U-f;return[V,U,F*F+X*X,0]};d.J0.a6D=function(K,o,Y){var c=Y[1],z=Y[3],f=z[3],$=c[3],E=$[3],b=Y[2],q=c[2],O=Y[0],j=c[0],A=z[0],R=$[0],g=d.J0.a1H(K,j,R,A),H=K[O*2]-g[0],i=K[O*2+1]-g[1],h=H*H+i*i>g[2]&&g[3]==0&&d.J0.Ul(K,R,O,A)<0&&d.J0.Ul(K,A,j,R)<0;
if(h){Y[0]=A;c[0]=R;Y[3]=f;f[3]=$;$[3]=Y;c[3]=E;E[3]=z;z[3]=c;z[2]=q;$[2]=b;o.GZ[q]=E;o.GZ[b]=f;o.$g[j]=$;
o.$g[O]=z}return h};d.J0.alo=function(K,o,Y){var c=K[o*2]-K[Y*2],z=K[o*2+1]-K[Y*2+1];return Math.sqrt(c*c+z*z)};
d.J0.ahY=function(K,o,Y){var c=Y[1],z=Y[3],f=z[3],$,E,b=Y[2],q,O=Y[0],j=f[0],A=z[0],R;if(c){$=c[3];E=$[3];
q=c[2];R=$[0]}var g=K.length>>>1;K[2*g]=(K[2*j]+K[2*O])*.5;K[2*g+1]=(K[2*j+1]+K[2*O+1])*.5;if(!0){var H=b,i=Y,h=o.GZ.length,x=[g,null,H,i],F=[A,x,h,f];
x[1]=F;var X=[g,null,h,F];z[3]=x;f[3]=X;f[2]=h;o.GZ[H]=z;o.GZ[h]=X;o.$g[O]=z;o.$g[A]=f;o.d_.push(x,F,X)}if(c){var V=q,U=c,Z=h+1;
X[1]=U,U[1]=X;var T=[g,null,V,U],v=[R,T,Z,E];T[1]=v;var P=[g,i,Z,v];i[1]=P;$[3]=T;E[3]=P;E[2]=Z;o.GZ[V]=$;
o.GZ[Z]=E;o.$g[j]=$;o.$g[R]=E;o.d_.push(T,v,P)}o.$g[g]=i};d.J0.adR=function(K,o){var Y=0;while(!0){var c=Y;
for(var y=0;y<o.d_.length;y++){var z=o.d_[y];if(z[1]==null)continue;var f=d.J0.a6D(K,o,z);if(f){Y++;
break}}if(c==Y)break}return Y!=0};d.J0.auc=function(K,o,Y,c){var z=0;for(var y=0;y<c;y++){var f=null,$=0;
for(var E=0;E<o.d_.length;E++){var b=o.d_[E],q=d.J0.alo(K,b[0],b[3][3][0])*(b[1]?1:2);if(q>$){f=b;$=q}}if($>Y){d.J0.ahY(K,o,f);
z++}}return z!=0};d.J0.a2o=function(K,o){var Y=[],A=0;for(var y=0;y<K.length;y++)Y.push(0);for(var y=0;
y<o.d_.length;y++){var c=o.d_[y],z=c[0],f=c[3][3][0],$=K[z*2],E=K[z*2+1],b=K[f*2],q=K[f*2+1],O=$-b,j=E-q;
Y[z*2]+=-O;Y[z*2+1]+=-j;Y[f*2]+=O;Y[f*2+1]+=j}for(var y=0;y<K.length;y+=2){var R=y>>>1,g=o.$g[R],c=g,H=!0;
do{if(c[1]==null){H=!1;break}c=c[1][3]}while(c!=g);if(H){var i=.02;K[y]+=i*Y[y];K[y+1]+=i*Y[y+1];A+=i*(Y[y]*Y[y]+Y[y+1]*Y[y+1])}}return A};
d.J0.ayc=function(K,o,Y){var c=d.M.OA(K),z=d.J0.apR(K,o);d.J0.adR(K,z);for(var f=0;f<300;f++){var $=!1,E=!1;
$=d.J0.auc(K,z,Y,5);if($)E=d.J0.adR(K,z);var b=d.J0.a2o(K,z);if(!$&&!E&&b<1e-4){break}}return d.J0.aqc(z)};
d.dO={};d.dO.aAl=function(K){var o=K.I$,Y=K.Dl,c=K.HK,z=K._2,f=K.p6,$=K.ZU,E=K.wP,b=d.gr.XZ,x,F,X=0;
function q(h4){var j9=new Array(h4);for(var y=0;y<h4;y++)j9[y]=0;return j9}var O=Y.length>>>1,j=q(o.JX*2),A=q(o.JX),R=q(o.JX),g=Date.now();
for(var y=0;y<K.mf.length;y++){var H=o.auF+y,i=o.Fv*($[y*2]+E[y*2]),h=o.Fv*($[y*2+1]+E[y*2+1]);j[H*2]=i;
j[H*2+1]=h;A[H]=i;R[H]=h}o.alu.Sn(z,o.aaL.XZ(j),.01,x,F);for(var y=0;y<o.aiK.d_.length;y++){var V=o.aiK.d_[y],U=V[3][3][0],Z=V[0],T=V[3][0],v=V[1]?V[1][3][0]:T;
if(V[1]&&U>Z)continue;var P=Y[U*2],p=Y[U*2+1],a=Y[Z*2],D=Y[Z*2+1],n=z[U*2],N=z[U*2+1],W=z[Z*2],G=z[Z*2+1],l=z[T*2],u=z[T*2+1],e=z[v*2],M=z[v*2+1],B=[n,N,W,G,l,u];
if(V[1])B.push(e,M);var s=b(o.adj[X],B),t=s[0],J=s[1],L=1/Math.sqrt(t*t+J*J);t*=L;J*=L;var k=a-P,C=D-p;
A[X]=t*k+J*C;R[X]=-J*k+t*C;X++}var r=new Array(O),Q=new Array(O);for(var y=0;y<O;y++){r[y]=f[y*2];Q[y]=f[y*2+1]}o.a7A.Sn(r,o.amR.XZ(A),.5);
o.a7A.Sn(Q,o.amR.XZ(R),.5);for(var y=0;y<O;y++){f[y*2]=r[y];f[y*2+1]=Q[y]}};d.dO.afb=function(K){var o=K.Dl,Y=K.HK,c=K.mf,z=d.gr.multiply,f=Date.now(),$=d.J0.apR(o,Y),E=o.length>>>1,b=0,g=0,J=1e3;
for(var y=0;y<$.d_.length;y++)b+=$.d_[y][1]?.5:1;var q=b+c.length,O=[],j=new d.VN(q*2,E*2),A=new d.VN(q,E),R=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],H=[],i=[];
for(var y=0;y<$.d_.length;y++){var h=$.d_[y],x=h[3][3][0],F=h[0],X=h[3][0],V=h[1]?h[1][3][0]:X;if(h[1]&&x>F)continue;
var U=o[x*2],Z=o[x*2+1],T=o[F*2],v=o[F*2+1],P=o[X*2],p=o[X*2+1],a=o[V*2],D=o[V*2+1],n=[[U,Z,1,0],[Z,-U,0,1],[T,v,1,0],[v,-T,0,1],[P,p,1,0],[p,-P,0,1]];
if(h[1])n.push([a,D,1,0],[D,-a,0,1]);var N=d.gr.Cy(n),W=z(linear.invert(z(N,n)),N);W.pop();W.pop();O.push(W);
var G=T-U,l=v-Z,u=R[h[1]?1:0];u=d.gr.km(u,z([[G,l],[l,-G]],W));var e=[x*2,x*2+1,F*2,F*2+1,X*2,X*2+1,V*2,V*2+1],M=h[1]?8:6,B=[];
for(var s=0;s<M;s++)B.push([e[s],u[0][s],u[1][s]]);B.sort(function(j9,a4){return j9[0]-a4[0]});for(var t=0;
t<2;t++){for(var s=0;s<M;s++){H[s]=B[s][0];i[s]=B[s][1+t]}j.E3(i,H,M)}if(x<F)A.E3([-1,1],[x,F],2);else A.E3([1,-1],[F,x],2);
g++}for(var y=0;y<c.length;y++){var L=c[y];j.E3([J],[L*2],1);j.E3([J],[L*2+1],1);A.E3([J],[L],1)}var k=j.Cy(),C=k.p2(k),r=A.Cy(),Q=r.p2(r);
return{auF:b,JX:q,aaL:k,alu:C,amR:r,a7A:Q,aiK:$,adj:O,Fv:J}};d.dO.akZ=function(K,o,Y,c,z){var f=new hD(0,0,o,Y),$=d.R(f.Z());
d.JI(K,$,3);d.round($,70);var E=d.sd($,f),b=[.1,.065,.035][c]*Math.max(E.m,E.e),q=z+1,O=o+q*2,j=Y+q*2,A=new hD(-q,-q,O,j),R=d.R(A.Z());
d.u_($,f,R,A);var g=R.slice(0);for(var H=0;H<z;H++){for(var i=1;i<j-1;i++){for(var h=1;h<O-1;h++){var y=i*O+h;
g[y]=R[y-O]|R[y-1]|R[y]|R[y+1]|R[y+O]}}var x=g;g=R;R=x}var F=c_.Xf(R,O,j,Math.round(E.Z()*5e-4)),X=c_.dK(F),V=new dF(1,0,0,1,-q,-q);
for(var y=0;y<X.length;y++){var U=X[y];d.M.i(U.path.z,V,U.path.z);U.Dl=d.dO.afM(U.path);U.HK=d.M.aql(U.Dl);
U.HK=d.J0.ayc(U.Dl,U.HK,b)}return X};d.dO.afM=function(K){var o=[],Y=K.z,c=K.G.length-1,z=0,f=0;for(var $=0;
$<c;$++){var y=$*6,E=Y[y+6]-Y[y+0],b=Y[y+7]-Y[y+1],q=Math.ceil(Math.sqrt(E*E+b*b));for(var O=0;O<q;O++){var j=O/q,A=1-j,R=A*A*A*Y[y+0]+3*A*A*j*Y[y+2]+3*A*j*j*Y[y+4]+j*j*j*Y[y+6],g=A*A*A*Y[y+1]+3*A*A*j*Y[y+3]+3*A*j*j*Y[y+5]+j*j*j*Y[y+7];
o.push(R,g);z=R;f=g}}o=d.M.axz(o,1);var H=[],i=o.length;for(var y=0;y<i;y+=2){var g=o.pop(),R=o.pop();
H.push(R,g)}return H};d.dO.awH=function(K,o,Y,c){function z(T,v,P,p,a){var D=a[T*2]-a[v*2],n=a[T*2+1]-a[v*2+1],N=Math.sqrt(D*D+n*n);
if(P[T].indexOf(v)==-1){P[T].push(v);p[T].push(N)}if(P[v].indexOf(T)==-1){P[v].push(T);p[v].push(N)}}var f=K.length>>>1,$=new Array(f);
if(Y.length==0){$.fill(0);return $}var E=new Array(f),b=new Array(f);for(var y=0;y<f;y++){E[y]=[];b[y]=[]}for(var y=0;
y<o.length;y+=3){z(o[y],o[y+1],E,b,K);z(o[y],o[y+2],E,b,K);z(o[y+1],o[y+2],E,b,K)}var q=new Float64Array(f*2),O=new Uint32Array(f*2);
q.fill(1e9);var j=new Uint8Array(f);for(var A=0;A<Y.length;A++){j.fill(0);var R=["---",[0,Y[A]]];while(R.length!=1){var g=d.aBI.MM(R),H=g[0],i=g[1];
if(j[i]==1)continue;var h=i<<1;if(H<q[h]){q[h+1]=q[h];O[h+1]=O[h];q[h]=H;O[h]=A}else if(H<q[h+1]){q[h+1]=H;
O[h+1]=A}j[i]=1;var x=E[i],F=b[i];for(var y=0;y<x.length;y++){var X=x[y];if(j[X]!=1){d.aBI.V1(R,[H+F[y],X])}}}}for(var y=0;
y<f;y++){var h=y<<1,V=q[h],U=q[h+1],Z=1/(V+U);$[y]=(1-V*Z)*c[O[h]]+(1-U*Z)*c[O[h+1]]}return $};d.dO.apk=function(K){var o={G:[],z:[]},Y=[K];
while(Y.length!=0){var c=Y.pop(),z=c.BA;if(c.acI instanceof Array||c.asU instanceof Array){o.G.push("M","L","L","L","Z");
o.z.push(z[0],z[1],z[2],z[1],z[2],z[3],z[0],z[3])}else Y.push(c.acI,c.asU)}return o};d.dO.hk=function(K,o,Y,c,z,f,$,E,b,q,O){var j=Math.round(q.length/3),A=new Array(j);
for(var y=0;y<j;y++)A[y]=y;A.sort(function(g,H){return b[q[g*3]]-b[q[H*3]]});for(var y=0;y<j;y++){var R=A[y]*3;
d.dO.ad2(q[R]*2,q[R+1]*2,q[R+2]*2,$,E,K,o,Y,c,z,f,O)}};d.dO.ad2=function(K,o,Y,c,z,f,$,E,b,q,O,j){var A=[K,o,Y,1.2,1.2,1.2,0],R=[0,0,0,0],g=z[K],H=z[K+1],i=z[o],h=z[o+1],x=z[Y],F=z[Y+1],X=i-g,V=h-H,U=x-g,Z=F-H,T=X*Z-U*V+1e-9,v=1/T,P=Math.max(0,Math.min($-1,c[K])),p=Math.max(0,Math.min($-1,c[o])),a=Math.max(0,Math.min($-1,c[Y])),D=Math.max(0,Math.min(E-1,c[K+1])),n=Math.max(0,Math.min(E-1,c[o+1])),N=Math.max(0,Math.min(E-1,c[Y+1])),W=g<i?g<x?K:Y:i<x?o:Y,G=z[W+1]+.5,l=Math.max(0,Math.floor(Math.min(g,i,x))),u=Math.min(q,Math.ceil(Math.max(g,i,x))),e=Math.max(0,Math.floor(Math.min(H,h,F))),M=Math.min(O,Math.ceil(Math.max(H,h,F))),B=1e9;
for(var s=e;s<M;s++){var t=s>G&&B!=1e9?B:l;B=1e9;for(var J=t;J<u;J++){var L=J+.5-g,k=s+.5-H,C=(L*Z-U*k)*v,r=(X*k-L*V)*v;
if(C>=0&&r>=0&&C+r<=1){if(B==1e9)B=J;var Q=1-C-r,j9=P*Q+p*C+a*r,a4=D*Q+n*C+N*r;if(j){var ar=Math.floor(.5+a4)*$+Math.floor(.5+j9),ez=ar<<2,ja=s*q+J<<2;
b[ja]=f[ez];b[ja+1]=f[ez+1];b[ja+2]=f[ez+2];b[ja+3]=f[ez+3]}else{d.D.a4K(j9,a4,f,$,E,R);d.dO.ajq(R,b,s*q+J<<2)}}else if(B!=1e9)break}}};
d.dO.ajq=function(K,o,Y){if(K[3]>250){o[Y]=~~(.5+K[0]);o[Y+1]=~~(.5+K[1]);o[Y+2]=~~(.5+K[2]);o[Y+3]=~~(.5+K[3])}else{var c=o[Y],z=o[Y+1],f=o[Y+2],$=o[Y+3],E=1-K[3]*(1/255);
o[Y]=~~(.5+K[0]+c*E);o[Y+1]=~~(.5+K[1]+z*E);o[Y+2]=~~(.5+K[2]+f*E);o[Y+3]=~~(.5+K[3]+$*E)}};d.dO.axq=function(){var K=function(Y,c,z,f){var $=f[0],E=f[1],b=f[2],q=Y[$+0],O=Y[$+1],j=Y[E+0],A=Y[E+1],R=Y[b+0],g=Y[b+1],H=j-q,i=A-O,h=R-q,x=g-O,F=c-q,X=z-O,V=H*x-h*i,U=1/(V+1e-9),Z=(F*x-h*X)*U,T=(H*X-F*i)*U;
if(Z>=0&&T>=0&&Z+T<=1){f[3]=1-Z-T;f[4]=Z;f[5]=T;return 1}return 0},o=function(Y,c,z,f){var $=[0,0,0,0,0,0];
for(var y=0;y<c.length;y+=3){$[0]=c[y]*2;$[1]=c[y+1]*2;$[2]=c[y+2]*2;if(K(Y,z,f,$)==1)return!0}return!1};
return{afa:K,ax5:o}}();d.vQ={};d.vQ.a9A=function(K,o,Y,c){K=K.slice(0);if(c)d.cb(c,K,3);else for(var y=0;
y<K.length;y+=4)K[y+3]=0;var z=d.R(o*Y*4),f=!1;d.D.SS(K,o,Y,z,[Y,o,0,1,0,1,0,0]);return[d.vQ.VF(K,o,Y,f),d.vQ.VF(z,Y,o,f)]};
d.vQ.i=function(K,o){var Y=!1,c=K[0],z=K[1],f=c[1],$=c[2],E=c[3],b=o.m,q=o.e;if($==b&&E==q)f=f.slice(0);
else if(E!=q){var O=d.R($*q*4);d.vQ.Km(z,q,O,Y);f=d.R($*q*4);d.D.SS(O,q,$,f,[$,q,0,1,0,1,0,0]);if($!=b){c=d.vQ.VF(f,$,q,Y);
f=d.R(b*q*4);d.vQ.Km(c,b,f,Y)}}else if($!=b){f=d.R(b*E*4);d.vQ.Km(c,b,f,Y)}for(var y=0;y<f.length;y+=4)f[y+3]=255;
return f};d.vQ.VF=function(K,o,Y,c){var z=Date.now(),f=new Uint16Array(o*Y),q=1;d.vQ.aaP(K,o,Y,f);var $=d.R(o*Y);
d.JI(K,$,3);for(var E=0;E<Y;E++)for(var b=0;b<o;b++)f[E*o+b]+=Math.floor((65535-f[E*o+b])*$[E*o+b]*(1/255));
var O=Math.ceil(o/q),j=new Uint32Array(q),A=new Uint32Array(q),O=Math.floor(o/q);for(var R=0;R<q;R++)A[R]=R<q-1?O:o-(q-1)*O;
for(var E=0;E<Y;E++){var y=E*o;for(var R=0;R<q;R++){var O=A[R];for(var b=0;b<O;b++)j[R]+=f[y+b];y+=O}}if(c){console.log(Date.now()-z,"cost");
z=Date.now()}var g=new Uint32Array(o),H=new Uint32Array(o),i=new Uint32Array(o*Y);for(var b=0;b<o;b++){i[(Y-1)*o+b]=f[(Y-1)*o+b]}for(var E=Y-2;
E>=0;E--){var h=E*o;for(var R=0;R<q;R++){var O=A[R];i[h]=f[h]+Math.min(i[h+o],i[h+o+1]);for(var b=1;
b<O-1;b++){var y=h+b;i[y]=f[y]+Math.min(i[y+o-1],Math.min(i[y+o],i[y+o+1]))}h+=O-1;i[h]=f[h]+Math.min(i[h+o-1],i[h+o]);
h++}}if(c){console.log(Date.now()-z,"Building M");z=Date.now()}function x(a,D){return a<D?a:D}function F(y,a){var D=H[y],n=i[a],N=~~(D*n*1e-4);
return N}var X=new Uint8Array(o*Y),V=new Uint32Array(o);for(var y=0;y<o;y++){g[y]=y;H[y]=f[y]}for(var E=1;
E<Y;E++){var U=0,h=E*o;for(var R=0;R<q;R++){var O=A[R],y=h;V[U]=F(U,y);var Z=V[U]+F(U+1,y+1),T=F(U,y+1)+F(U+1,y);
V[U+1]=x(Z,T);for(var b=2;b<O;b++){var y=h+b,v=V[U+b-1]+F(U+b-1,y-1),P=V[U+b-2]+F(U+b-1,y-2)+F(U+b-2,y-1);
V[U+b]=x(v,P)}var b=O-1;while(b>=2){var y=h+b,v=V[U+b-1]+F(U+b-1,y-1),P=V[U+b-2]+F(U+b-1,y-2)+F(U+b-2,y-1);
if(V[U+b]==v){X[y-o]=1;b-=1}else{X[y-o]=0;X[y-o-1]=2;b-=2}}var y=h;if(b==0){X[y-o]=1}else{if(V[U+1]==Z){X[y+1-o]=1;
X[y-o]=1}else{X[y+1-o]=0;X[y-o]=2}}h+=O;U+=O}d.vQ.a8v(E,o,X,f,g,H,!0,z)}if(c){console.log(Date.now()-z,"Matching");
z=Date.now()}var p=f;return[UZIP.adler(K,0,K.length),K,o,Y,q,A,j,g,H,X,p]};d.vQ.Km=function(K,o,Y,c){var z=K.slice(0),f=z.shift(),$=z.shift(),E=z.shift(),b=z.shift(),q=z.shift(),O=z.shift(),j=z.shift(),A=z.shift(),R=z.shift().slice(0),g=z.shift(),H=z.shift(),i=Date.now(),h=Math.abs(E-o),x=Math.floor(h/q),F=new Uint32Array(q),V=0,U=1e9,T=0,v=0,P=0;
for(var X=0;X<q;X++)F[X]=X<q-1?x:h-(q-1)*x;H.fill(0);for(var Z=0;Z<E;Z++){V=Math.max(V,R[Z]);U=Math.min(U,R[Z])}for(var X=0;
X<q;X++){var p=O[X],x=F[X];for(var a=0;a<x;a++){var D=0,n=1e9;for(var Z=0;Z<p;Z++)if(R[v+Z]<n){n=R[v+Z];
D=v+Z}if(o<E)R[D]=1e9;else R[D]*=1.2;if(P<E/3)T+=n;var N=A[D],W=H[N],G=W<65280?65280:W+1;if(G<65280)throw"e";
for(var l=0;l<b;l++){var y=l*E+N;H[y]=G;N+=g[y]-1}P++}v+=p}if(c){console.log(Date.now()-i,"Removing best seams");
i=Date.now()}function u(y,M){var B=y<<2,s=M<<2;Y[B]=$[s];Y[B+1]=$[s+1];Y[B+2]=$[s+2];Y[B+3]=$[s+3]}for(var l=0;
l<b;l++){var e=0,y=l*E;for(var Z=0;Z<o;Z++,e++){if(o<E){while(H[y+e]==65280)e++;u(l*o+Z,l*E+e)}else{u(l*o+Z,l*E+e);
while(H[y+e]>=65280){H[y+e]--;Z++;u(l*o+Z,l*E+e)}}}}if(c){console.log(Date.now()-i,"Shifting image pixels");
i=Date.now()}};d.vQ.a8v=function(K,o,Y,c,z,f){var $=0,y=K*o;while($<o){if(Y[y-o]==1){f[$]=f[$]+c[y];
$++;y++}else{var E=z[$];z[$]=z[$+1];z[$+1]=E;var b=f[$];f[$]=f[$+1]+c[y];f[$+1]=b+c[y+1];$+=2;y+=2}}};
d.vQ.aaP=function(K,o,Y,c){function z(K,y,b){var j=y<<2,A=b<<2,R=K[j]-K[A],g=K[j+1]-K[A+1],H=K[j+2]-K[A+2];
return Math.abs(R)+Math.abs(g)+Math.abs(H)}for(var f=1;f<o;f++){var $=z(K,f,f-1);c[f-1]+=$;c[f]+=$}for(var E=1;
E<Y;E++){var b=E*o,$=z(K,b,b-o);c[b]+=$;c[b-o]+=$;for(var f=1;f<o;f++){var y=E*o+f,q=z(K,y,y-1),O=z(K,y,y-o);
c[y-o]+=O;c[y-1]+=q;c[y]+=O+q}}for(var E=0;E<Y;E++){c[E*o]*=2;c[E*o+o-1]*=2}for(var y=0;y<c.length;y++)if(c[y]==0)c[y]=1};
d.jr=function(){function K(){return 1953e6+Math.floor(Math.random()*999999)}function o(n,N){var W=N[0]-n[0],G=N[1]-n[1];
return W*W+G*G}function Y(n,N,W,G,l,u,e,M){var B=W-n,s=G-N,t=d.M.L5(n,N,B,s,l,u,e-l,M-u),J=[n+t*B,N+t*s],L=t>0?[[[n,N],J,!1,0,1],[[l,u],J,!1,0,5]]:[[[W,G],J,!1,0,1],[[e,M],J,!1,0,5]];
return L}function c(n,N){var W=Y(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),G=Y(n[0],n[1],n[6],n[7],n[2],n[3],n[4],n[5]),l=[W,G],u=[W[0][1],G[0][1]];
for(var y=0;y<2;y++){var e=u[1-y],M=l[y];if(o(M[0][0],e)<o(M[1][0],e)){var B=M[0];M[0]=M[1];M[1]=B}}var s=[K(),0,-1,0,[0,0],W[0],W[1],G[0],G[1]],t=V(s,N),J=t[1][0];
s[3]=J;s[4]=t[0][J];s[5][3]=s[6][3]=t[0].indexOf(s[5][1]);s[7][3]=s[8][3]=t[0].indexOf(s[7][1]);if((s[6][3]+1)%3!=s[7][3]){var B=s[5];
s[5]=s[7];s[7]=B;var B=s[6];s[6]=s[8];s[8]=B}for(var y=0;y<4;y++)s[5+y][4]=[1,5,7,3][y];return s}function z(n){var N=n[5],W=n[8],G=n[6],l=N[0],u=W[0],e=G[0],M=N[1],B=W[1],s=u[0],t=u[1],J=B[0]-s,L=B[1]-t,k=d.M.L5(s,t,J,L,e[0],e[1],M[0]-e[0],M[1]-e[1]);
return[l[0],l[1],s,t,s+k*J,t+k*L,e[0],e[1]]}function f(n,N){return n[0]==N[0]&&n[1]==N[1]}function $(n){return{1:0,5:1,7:2,3:3}[n]}function E(n,N,W){var G=N[5+$(n)],l=G[1],u=G[0][0]-l[0],e=G[0][1]-l[1],M=Math.sqrt(u*u+e*e);
u/=M;e/=M;for(var B=0;B<W.length;B++){var s=W[B];if(s[0]!=N[1]&&s[1]!=N[0])continue;for(var y=0;y<4;
y++){var t=s[5+y],J=t[0];if(!f(l,t[1]))continue;var L=J[0]-l[0],k=J[1]-l[1];M=Math.sqrt(L*L+k*k);L/=M;
k/=M;var C=L*u+k*e;if(Math.abs(C-1)<1e-7)return!0}}return!1}function b(n,N){d.D.i(n,N);return N}function q(n,N){var W=[];
for(var G=0;G<n.length;G++){var l=n[G],u=l[1];for(var e=0;e<u.length;e++){if(N&&N[G].indexOf(e)==-1)continue;
var M=u[e],B=[],s=d.D.P_(z(M),new hD(0,0,1,1));for(var y=1;y<=7;y+=2){B[y]=E(y,M,u)}if(!B[1]){if(!B[7])W.push([b(s,[0,0]),G,e,0]);
W.push([b(s,[.5,0]),G,e,1])}if(!B[3]){if(!B[1])W.push([b(s,[1,0]),G,e,2]);W.push([b(s,[1,.5]),G,e,3])}if(!B[5]){if(!B[3])W.push([b(s,[1,1]),G,e,4]);
W.push([b(s,[.5,1]),G,e,5])}if(!B[7]){if(!B[5])W.push([b(s,[0,1]),G,e,6]);W.push([b(s,[0,.5]),G,e,7])}}}return W}function O(n){var N=n.length-2,W=0;
for(var y=0;y<N;y+=2)W+=(n[y+2]-n[y])*(n[y+1]+n[y+3]);W+=(n[0]-n[N])*(n[N+1]+n[1]);return-W*.5}function j(n,N,W,G){}function A(n,y){var N=n[y+2&7]-n[y&7],W=n[y+3&7]-n[y+1&7],G=1/Math.sqrt(N*N+W*W);
return[N*G,W*G]}function R(n){var N=n[2];n[2]=n[6];n[6]=N;var N=n[3];n[3]=n[7];n[7]=N}function g(n,N,W,G){if(G==null)G=0;
var l=N[1],u=z(N),k=null,C,a4,ar,jI,gF,L,b6;if(l==0){if(O(u)<0)R(u);var e=6,M=u[7]+u[1];for(var y=0;
y<6;y+=2){var B=u[y+1]+u[y+3];if(B<M){M=B;e=y}}u=u.slice(e).concat(u.slice(0,e));var s=m.XX.Gd(u,W[0],W[1]),t=Math.sqrt(o(u,u.slice(2))),J=Math.sqrt(o(u.slice(4),u.slice(6))),L=(t+J)*.5;
return[u,new hD(0,0,L,L/s)]}for(var y=0;y<n.length&&k==null;y++){C=n[y][1];for(var r=0;r<C.length&&k==null;
r++)if(C[r][0]==l)k=C[r]}var Q=g(n,k,W,G+1),j9=Q[0];Q=Q[1];for(var y=0;y<8;y+=2){var ez=j9[y&7],ja=j9[y+1&7],c3=j9[y+2&7],hW=j9[y+3&7];
for(var r=0;r<8;r+=2){var fO=u[r],ei=u[r+1],fV=u[r+2&7],aW=u[r+3&7],ee=Math.abs(d.M.N1(ez,ja,c3,hW,fO,ei))+Math.abs(d.M.N1(ez,ja,c3,hW,fV,aW));
if(ee<=30){a4=r;ar=y}}}var hM=A(j9,ar),ds=A(u,a4),cp=hM[0]-ds[0],eA=hM[1]-ds[1],db=cp*cp+eA*eA;if(db<.001){R(u);
a4={0:6,2:4,4:2,6:0}[a4]}while(a4!=(ar+4&7)){u.unshift(u.pop());a4=a4+1&7}var s=m.XX.Gd(u,W[0],W[1]),js=d.D.P_(j9,Q);
js=d.D.oD(js);var bF=[u[a4],u[a4+1],u[a4+2&7],u[a4+3&7]];d.D.i(js,bF);var ji=d.M.OA(bF);if(ar==0||ar==4){L=ji.m;
b6=L/s;jI=ji.x;gF=ji.y+(ar==0?-b6:0)}else{b6=ji.e;L=b6*s;gF=ji.y;jI=ji.x+(ar==6?-L:0)}return[u,new hD(jI,gF,L,b6)]}function H(n,N){function W(J,L,k,C){var r=b(J,[L,k]);
r.push(C);return r}var G=[];for(var l=0;l<n.length;l++){var u=n[l],e=u[1];for(var M=0;M<e.length;M++){var B=e[M],s=g(n,B,N),t=s[0],J=d.D.P_(t,new hD(0,0,1,1));
G.push(W(J,.5,0,1));G.push(W(J,1,.5,3));G.push(W(J,.5,1,5));G.push(W(J,0,.5,7));G.push(W(J,.5,.5,[s?(s[1].m/s[1].e).toFixed(2):""].join(", ")))}}return G}function i(n,N,W,G){var l=[N],u=[N];
while(!0){var e=[];for(var y=0;y<n.length;y++){var M=n[y],B=!1;for(var s=0;s<l.length;s++){if(M[1]==n[l[s]][0]||M[0]==n[l[s]][1])e.push(y)}}var t=l.length;
for(var y=0;y<e.length;y++){var J=e[y],M=n[J];if(u.indexOf(J)!=-1)continue;u.push(J);var L=g([[10,n]],M,G);
if(L[1].wR(W))l.push(J)}if(t==l.length)break}return l}function h(n,N,W){var G=W[0],l=W[1],u=N.x-n[0],e=N.y-n[1],M=d.M.L5(n[0],n[1],u,e,l[0],l[1],G[0]-l[0],G[1]-l[1]);
return[n[0]+M*u,n[1]+M*e]}function x(n,N,W){n=JSON.parse(JSON.stringify(n));var G=n[N[1]][1][N[2]],l=N[3]>=8,u=N[3]&7;
if((u&1)==0)return n;var e=$(u);if(u==1||u==7){var M=G[5+e],B=G[5+2-e],s=G[5+(u==1?3:1)],t=G[5+(u==1?1:3)],J=M[1],L=h(J,W,B);
if(!l&&o(L,B[1])<o(t[0],B[1]))return n;M[0]=B[0]=L;s[0]=h(J,W,s)}else{var s=G[5+e],J=s[1],M=G[5+(u==3?0:2)],L=h(J,W,M);
if(!l&&o(L,M[1])>o(M[0],M[1]))return n;if(Math.sign(M[1][0]-M[0][0])!=Math.sign(M[1][0]-L[0]))return n;
s[0]=L}return n}function F(n,N,W){var G=N[0]-n[0],l=N[1]-n[1],u=d.M.L5(W[0],W[1],-l,G,n[0],n[1],G,l);
return[W[0]-l*u,W[1]+G*u]}function X(n,N,W){var G=W[0],l=W[1],b=F(n,N,W),u=b[0],e=b[1],M=F(n,W,N),B=d.M.L5(u,e,G-u,l-e,N[0],N[1],M[0]-N[0],M[1]-N[1]);
return[u+(G-u)*B,e+(l-e)*B]}function V(n,N){var W=n[5][1],G=n[7][1],l=X(W,G,N),u=[W,G,l];u.sort(function(B,s){return B[0]-s[0]});
if(O([u[0][0],u[0][1],u[1][0],u[1][1],u[2][0],u[2][1]])<0){var e=u[1];u[1]=u[2];u[2]=e}var M=[u.indexOf(W),u.indexOf(G),u.indexOf(l)];
return[u,M]}function U(n,N,W){n=JSON.parse(JSON.stringify(n));var G=N[1],l=n[G][1][N[2]],u=N[3];if((u&1)!=1)return n;
var e=V(l,W),M=e[1][2],B=e[0][M],s=JSON.parse(JSON.stringify(l));n[G][1].push(s);s[0]=K();s[1]=l[0];
s[2]=-10+u;s[3]=M;s[4]=B;if(u==1||u==5){s[7][3]=s[8][3]=M;s[7][1]=s[8][1]=B;if(u==5){s[5][0]=s[7][0]=l[6][0];
s[8][0]=z(l).slice(4,6)}}else{s[5][3]=s[6][3]=M;s[5][1]=s[6][1]=B;if(u==3){s[5][0]=s[7][0]=l[8][0];s[6][0]=z(l).slice(4,6)}}return n}function Z(n,N,W){n=JSON.parse(JSON.stringify(n));
var G=N[1],l=n[G][1][N[2]],u=l[2]+10,e=u+4&7,M=u==1||u==5,B=l[5+$(M?7:1)][1],s=l[5+$(e)][0],t=l[5+$(u)][0];
l[2]=(M?90:0)+(o(s,B)<o(t,B)?180:0);var J=c(z(l),W);for(var y=5;y<9;y++)l[y]=J[y];return n}function T(n,N,W){var h4=n.length>>1,G,l=n[2*h4-3]-W,u=n[2*h4-2]-N,e=n[2*h4-1]-W,M=!1,B=0;
for(var y=0;y<h4;y++){G=u;l=e;u=n[2*y]-N;e=n[2*y+1]-W;if(l==e)continue;M=e>l}for(var y=0;y<h4;y++){G=u;
l=e;u=n[2*y]-N;e=n[2*y+1]-W;if(l<0&&e<0)continue;if(l>0&&e>0)continue;if(G<0&&u<0)continue;if(l==e&&Math.min(G,u)<=0)return!0;
if(l==e)continue;var s=G+(u-G)*-l/(e-l);if(s==0)return!0;if(s>0)B++;if(l==0&&M&&e>l)B--;if(l==0&&!M&&e<l)B--;
M=e>l}return(B&1)==1}function v(n,N,W,G,l){var u=null;for(var e=0;e<n.length;e++){var M=n[e][1];for(var B=0;
B<M.length;B++){var s=z(M[B]);if(T(s,N,W)||l&&l[0]==e&&l[1]==B&&u==null){u=[e,B];if(G){var t=g(n,M[B],G),J=d.D.P_(t[0],t[1]),L=[N,W];
J=d.D.oD(J);d.D.i(J,L);u.push(L)}}}}return u}function P(n,N){for(var W=0;W<n.length;W++){var G=n[W][1],l=N[W];
if(l.length==0)continue;var u=p(G,l);for(var e=0;e<G.length;e++){if(u.indexOf(G[e][0])!=-1){G.splice(e,1);
e--}}}for(var W=0;W<n.length;W++)if(n[W][1].length==0){n.splice(W,1);W--}return n}function p(n,N){var W=[];
for(var y=0;y<10;y++)for(var G=0;G<n.length;G++){var l=n[G];if(N.indexOf(G)!=-1||W.indexOf(l[1])!=-1)if(W.indexOf(l[0])==-1)W.push(l[0])}return W}function a(n){var N=_.H9(n,0,n.length),W=N.split("\n").slice(1);
function G(){return parseFloat(W.shift())}function l(){var fO=[G(),G()];u(1);return fO}function u(h4){for(var y=0;
y<h4;y++)W.shift()}var e=[],M=G();for(var B=0;B<M;B++){var s=G(),t=G(),J=[];e.push([s,J]);for(var L=0;
L<t;L++){var k=G(),C=G(),r=G(),Q=G(),j9=l(),a4=[k,C,r,Q,j9];J.push(a4);for(var y=0;y<4;y++){var ar=l(),ez=l(),ja=G()==1,c3=G(),hW=G();
a4.push([ar,ez,ja,c3,hW])}}}return e}function D(n){function N(t){W.push(t[0],t[1],"")}var W=["tNaF203"];
W.push(n.length);for(var G=0;G<n.length;G++){W.push(n[G][0]);var l=n[G][1];W.push(l.length);for(var u=0;
u<l.length;u++){var e=l[u];W.push(e[0],e[1],e[2],e[3]);N(e[4]);for(var y=0;y<4;y++){var M=e[5+y];N(M[0]);
N(M[1]);W.push(M[2]?1:0,M[3],M[4])}}}var B=W.join("\n"),s=new Uint8Array(B.length);_.yH(s,0,B);return s}return{qz:a,ol:D,aoA:z,aqR:c,ni:q,awf:x,bq:H,aqg:function(n,N){return N&&(N[3]&1)==0&&n[N[1]][1].length==1},EH:function(n,N){return N&&(N[3]&1)==1},_S:g,awc:U,aw3:Z,aAZ:P,qM:p,$Y:v,lx:i}}();
d.atd=function(){var K=0,o=0,c=15,f=256;function Y(O,j,A,R,g,H){var i=(g-1)*j,h=H*j;return O[h+R]-O[h+A-1]-O[i+R]+O[i+A-1]}var z=Math.round(c/8),$=[];
function E(O,j){for(var A=0;A<j.length;A++){var R=j[A],g=0,H=0,i=O[R.u7],h=i.Zx,x=i.Fv,F=i.jd;for(var X=-c;
X<=c;X++)for(var V=-c;V<=c;V++){var U=V+R.a0r,Z=X+R.aA0;if(V*V+X*X>c*c||U<0||Z<0||U>=x||Z>=x)continue;
var T=h[Z*x+U];g+=V*T;H+=X*T}R.Wt=Math.atan2(H,g)}}function b(O,j,A,R,g){var H=~~(O+.5),i=~~(j+.5);return Y(A,R,H-z,H+z,i-z,i+z)}function q(O,j,A,R,g){K=R;
o=g;if($.length==0){var H=new d.l.Mt(16200817),F=8,X=0;function i(j9){var P=j9[0]-j9[2],p=j9[1]-j9[3];
return P*P+p*p}function h(){var j9=0,a4=0;while(j9===0)j9=H.get();while(a4===0)a4=H.get();return Math.sqrt(-2*Math.log(j9))*Math.cos(2*Math.PI*a4)}var x=h,V=[];
while(X!=f){var U=Math.max(-c,Math.min(c,x()*F)),Z=Math.max(-c,Math.min(c,x()*F)),T=Math.max(-c,Math.min(c,x()*F)),v=Math.max(-c,Math.min(c,x()*F)),P=U-T,p=Z-v,a=Math.sqrt(P*P+p*p);
if(a<3||a>12)continue;$.push(U,Z,T,v);X++}}var D=20;for(var n=0;n<j.length;n++){var N=j[n],W=O[N.u7],G=W.NS,A=W.Zx,R=W.Fv,g=W.jd,l=N.a0r,u=N.aA0,e=N.Wt,M=Math.cos(e),B=Math.sin(e),s=new Uint8Array(f>>>3);
N.jU=s;for(var y=0;y<f;y++){var t=y*4,U=$[t+0],Z=$[t+1],T=$[t+2],v=$[t+3],J=M*U-B*Z,L=B*U+M*Z,k=M*T-B*v,C=B*T+M*v,r=b(l+J,u+L,G,R,g),Q=b(l+k,u+C,G,R,g);
s[y>>>3]|=(r<Q?0:1)<<(y&7)}}}return{aa6:E,aAx:q}}();d.aiD=function(){function K(o,Y){var c=[[9]],z=Date.now(),f=[];
for(var $=0;$<o.length;$++){var E=o[$],b=E.NS,q=E.Fv,O=E.jd,R=9,F=1,N=24;if(b==null)continue;var j=new Float32Array(q*O),A=new Uint8Array(q*O),g=R>>>1,H=g>>>1,i=Math.round(R/3);
if(i!=R/3)throw"e";var h=1/(R*R),x=1.2*(R/9);for(var X=g+1;X<O-g;X+=F)for(var V=g+1;V<q-g;V+=F){var U=d.pP(b,q,V-H,V+H,X-g,X+g)-3*d.pP(b,q,V-H,V+H,X-g+i,X+g-i),Z=d.pP(b,q,V-g,V+g,X-H,X+H)-3*d.pP(b,q,V-g+i,V+g-i,X-H,X+H),T=V-g+1,v=V+g-1,P=X-g+1,p=X+g-1,a=d.pP(b,q,T,V-1,P,X-1)+d.pP(b,q,V+1,v,X+1,p)-d.pP(b,q,V+1,v,P,X-1)-d.pP(b,q,T,V-1,X+1,p),D=(Z*U-.9*a*(.9*a))*(h*h);
j[X*q+V]=Math.abs(D);A[X*q+V]=D<0?0:1}var n=q*F;for(var X=N;X<O-N;X+=F)for(var V=N;V<q-N;V+=F){var y=X*q+V,W=j[y];
if(W<16)continue;if(j[y-F]>=W||j[y+F]>=W)continue;if(j[y-n-F]>=W||j[y-n]>=W||j[y-n+F]>=W)continue;if(j[y+n-F]>=W||j[y+n]>=W||j[y+n+F]>=W)continue;
f.push({x:~~(V*E.MY+.5),y:~~(X*E.MY+.5),a0r:V,aA0:X,u7:$,b:W,adE:A[y],ZO:x})}}if(Y!=null){f.sort(function(t,J){return J.b-t.b});
f=f.slice(0,Y)}return f;var G=[];for(var y=0;y<f.length;y++){var l=!0,u=f[y];for(var e=0;e<f.length;
e++){var M=f[e];if(e!=y&&M.b>u.b&&(M.u7==u.u7+1||M.u7==u.u7-1)){var B=u.x-M.x,s=u.y-M.y;if(B*B+s*s<5){l=!1;
break}}}if(l)G.push(u)}console.log(f.length,G.length);return G}return{a90:K}}();d.e5={};d.e5.adb=function(K){var o=K.length,Y=d.e5.aA7(K,!1),z=0,f=1;
throw"e";var c=[];for(var y=0;y<o;y++)c[y]=d.e5.aAr(Y[y]);var $=K[0][1],E=d.e5.match(Y[z],Y[f],c[f]);
console.log(E.length);var b=Math.max(Math.min(E.length,40),E.length*.54);b=Math.min(b,200);var q=E.slice(0,b),O=d.vW.aCD(Y[z],Y[f],q,$.m,$.e),j=d.vW.aqd(O,[0,0,0],1),A=$.m/2,R=$.e/2,g=1/Math.max(A,R);
for(var y=0;y<1;y++){var H=q[y],i=Y[z][H[0]],h=Y[f][H[1]],x=d.vW.adL(j,g*(i.x-A),g*(i.y-R),g*(h.x-A),g*(h.y-R))}var F=d.vW.a6S(O,$),X=[];
for(var y=0;y<2;y++){var V=F[y],U=[V[0][0],V[0][1],V[0][2],V[1][0],V[1][1],V[1][2],V[2][0],V[2][1]],Z=m.OB.Gj(K[y],null,U);
X.push([Z.buffer,Z.rect])}return[d.e5.agp(X[0],X[1],Y[z],Y[f],q,O,F,$)]};d.e5.n2=function(K,o){var Y=K.length,c=!1,z=Date.now(),f=d.e5.aA7(K,!1,1e4);
if(c)console.log("Descriptors ready",Date.now()-z);z=Date.now();for(var y=0;y<Y;y++){var $=K[y][1];for(var E=0;
E<f[y].length;E++){f[y][E].x+=$.x;f[y][E].y+=$.y}}if(c)console.log("shifted",Date.now()-z);z=Date.now();
var b=[];for(var y=0;y<Y;y++)b[y]=d.e5.aAr(f[y]);if(c)console.log("trees built",Date.now()-z);z=Date.now();
var q=[];for(var y=0;y<Y-1;y++)for(var E=y+1;E<Y;E++){var O=d.e5.match(f[y],f[E],b[E]);if(c)console.log("Matches found",y,E,O.length);
O=O.slice(0,O.length>>>1);if(O.length<10)continue;var j=d.e5.atu(f[y],f[E],O,2);q.push([y,E,O,j])}q.sort(function(v,P){return P[2].length-v[2].length});
if(c)console.log("Matches found",Date.now()-z);z=Date.now();var A=[],R=new UnionFind(Y);for(var y=0;
y<q.length;y++){var g=q[y],H=R.find(g[0]),i=R.find(g[1]);if(H!=i){A.push(g);R.link(H,i)}}var h=[];for(var y=0;
y<Y;y++)h[y]=[1,0,0,0,1,0,0,0];var x=[0],F=new Uint8Array(Y);F[x[0]]=1;while(x.length!=0){var i=x.pop(),j=h[i],X=[];
for(var y=0;y<A.length;y++){var g=A[y],V=g[0],U=g[1];if(V==i&&F[U]==0){h[U]=d.D.mL(j,g[3]);x.push(U);
F[U]=1}if(U==i&&F[V]==0){h[V]=d.D.mL(j,d.D.oD(g[3]));x.push(V);F[V]=1}}}if(o==null){var Z=[];for(var y=0;
y<Y;y++)Z.push([h[y][2],y]);Z.sort(function(v,P){return v[0]-P[0]});o=Z[Z.length>>>1][1]}var T=d.D.oD(h[o]);
for(var y=0;y<Y;y++)h[y]=d.D.mL(h[y],T);if(c)console.log("Transforms reordered",Date.now()-z);z=Date.now();
return h};d.e5.aA7=function(K,o,Y){var c=[],z=!1;for(var y=0;y<K.length;y++){var f=K[y][0],$=K[y][1],E=$.m,b=$.e,q=d.R($.Z());
d.jf(f,q);var O=Date.now(),j=d.e5.ae4(q,$,!0);if(z)console.log("Pyramid built ---------------",Date.now()-O);
O=Date.now();var A=d.aiD.a90(j,Y);if(z)console.log("SURF Generation",Date.now()-O);O=Date.now();if(!o){d.atd.aa6(j,A);
if(z)console.log("ORB Orientations",Date.now()-O);O=Date.now();d.atd.aAx(j,A,q,E,b);if(z)console.log("ORB Descriptors",Date.now()-O);
O=Date.now()}c.push(A)}return c};d.e5.ae4=function(K,o,Y){var c=[],z=[K,o];d.ZN(z);if(Y){var f=d.M3(K,o),$=f.rect,E=[f.y3,$];
d.ZN(E)}for(var y=0;y<z.length;y++){var b=z[2*y],q=z[2*y+1],O=q.m,j=q.e,A=Math.min(O,j);if(A<30)break;
if(A<1600)c.push({Zx:b,Fv:O,jd:j,MY:1<<y,NS:d.Z1(b,O,j)});if(!Y)continue;var b=E[2*y],q=E[2*y+1],O=q.m,j=q.e,A=Math.min(O,j);
if(A<30)break;if(A<1600)c.push({Zx:b,Fv:O,jd:j,MY:(1<<y)*3/2,NS:d.Z1(b,O,j)})}return c};d.e5.atu=function(K,o,Y,c){var z=Date.now(),f,$=0,E=0,b=Y.length,q=new Float64Array(2);
for(var O=0;O<3e3;O++){var j=~~(Math.random()*b),A=~~(Math.random()*b),R=~~(Math.random()*b),g=~~(Math.random()*b),n=0,N=0;
if(j==A||j==R||j==g||A==R||A==g||R==g)continue;var H=Y[j],i=Y[A],h=Y[R],x=Y[g],F=K[H[0]],X=o[H[1]],V=K[i[0]],U=o[i[1]],Z=K[h[0]],T=o[h[1]],v=K[x[0]],P=o[x[1]],p=[F.x,F.y,V.x,V.y,Z.x,Z.y,v.x,v.y],a=[X.x,X.y,U.x,U.y,T.x,T.y,P.x,P.y],D=d.D.agB(p,a);
if(D[0]==0&&D[1]==0&&D[3]==0&&D[4]==0)continue;var W=b-$+2;for(var y=0;y<b&&y-n<W;y++){var G=K[Y[y][0]],l=o[Y[y][1]];
d.D.Tb(l.x,l.y,D,q);var u=q[0]-G.x,e=q[1]-G.y,M=u*u+e*e;if(M<c){n++;N+=M}}if(n>$||n==$&&N<E){f=D;$=n;
E=N}}return f};var ht=new Uint8Array(256);for(var y=0;y<256;y++){var aM=0,h4=y;while(h4!=0){h4=h4&h4-1;
aM++}ht[y]=aM}d.e5.akp=function(K,o,Y){var c=0,z=K.length;for(var y=0;y<z&&c<Y;y++)c+=ht[K[y]^o[y]];
return c};d.e5.amA=function(K,o,Y,top,c){if(c[Y]==1)return;var z=d.e5.akp(K.jU,o.jU,top[0]);if(z<top[0]){if(z<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=z;top[3]=Y}else{top[0]=z;top[1]=Y}}c[Y]=1};d.e5.aAr=function(K){var o=[],Y=[],c=[[],[]],z=4;
for(var y=0;y<K.length;y++)(K[y].adE==0?o:Y).push(y);for(var f=0;f<2;f++){var $=new Array(z),E=[],b=f==0?o:Y,q=b.length/256,O=[];
for(var j=0;j<32;j++){var A=new Array(256),H=0;for(var R=0;R<256;R++)A[R]=[];for(var R=0;R<b.length;
R++){var g=b[R];A[K[g].jU[j]].push(g)}for(var R=0;R<256;R++)H+=Math.abs(A[R].length-q);O.push([H,j,A])}O.sort(function(i,h){return i[0]-h[0]});
var E=[],$=[];c[f]=[E,$];for(var y=0;y<z;y++){E.push(O[y][1]);$.push(O[y][2])}}return c};d.e5.match=function(K,o,Y){var c=[],z=new Uint16Array(o.length);
z.fill(65535);var f=new Uint8Array(o.length),top=new Uint32Array(4),$=[];for(var E=0;E<K.length;E++){var b=K[E],q=b.jU;
top.fill(1e6);f.fill(0);var O=Y[b.adE];for(var j=0;j<O[1].length;j++){var A=O[1][j][q[O[0][j]]];for(var R=0;
R<A.length;R++){var g=A[R];d.e5.amA(b,o[g],g,top,f)}}if(top[2]<50&&top[2]<top[0]*.5){var H=z[top[3]];
if(H==65535){z[top[3]]=c.length;c.push([E,top[3],top[2]])}else if(top[2]<c[H][2]){c[H]=[E,top[3],top[2]]}}}c.sort(function(i,h){return i[2]-h[2]});
return c};d.e5.azt=function(K){var o=new hD;for(var y=0;y<K.length;y++)o=o.Bb(K[y][1]);var Y=d.R(o.Z()*4);
for(var y=0;y<K.length;y++)d.l.To("norm",K[y][0],K[y][1],Y,o,o,1);return[Y,o]};d.e5.agp=function(K,o,Y,c,z,f,$,E){var b=K[1].clone(),q=b.clone();
b.x=b.y=0;var O=o[1].clone(),j=O.clone();O.x=O.y=0;O.x=b.m;var A=b.Bb(O),R=j.y-q.y,g=d.R(A.Z()*4);d.iF(K[0],b,g,A);
d.iF(o[0],new hD(O.x,O.y+R,O.m,O.e),g,A);var H=document.createElement("canvas");H.width=A.m;H.height=A.e;
var i=H.getContext("2d");i.lineWidth=.5;i.putImageData(new ImageData(new Uint8ClampedArray(g.buffer),A.m,A.e),0,0);
if(f){var h=f[0],x=d.gr.Cy(h),F=b.m,X=E.m;for(var y=0;y<z.length;y++){var V=z[y],K=Y[V[0]],o=c[V[1]];
i.strokeStyle="#"+"ff0000";i.beginPath();var U=d.vW.ahQ(x,$[0],o,0,X),Z=d.vW.ahQ(h,$[1],K,0,X);i.moveTo(-q.x+U[0],-q.y+U[1]);
i.lineTo(-q.x+U[2],-q.y+U[3]);i.moveTo(F-j.x+Z[0],-j.y+R+Z[1]);i.lineTo(F-j.x+Z[2],-j.y+R+Z[3]);i.stroke()}}if(z){var T=z.length;
for(var y=0;y<T;y++){var V=z[y],K=Y[V[0]],o=c[V[1]];i.strokeStyle="#"+"ffff00"}}var v=new Uint8Array(i.getImageData(0,0,A.m,A.e).data.buffer);
if(!1){for(var P=0;P<2;P++){var p=P==0?Y:c,a=P*b.m;for(var y=0;y<p.length;y++){var D=p[y],n=~~D.x,N=~~D.y,W=(N*A.m+n+a)*4;
v[W+1]=v[W+2]=D.arZ*60;v[W+0]=0;v[W+3]=255}}}return[v,A]};d.stack={};d.stack.stack=function(K,o,Y){var c=K.length,z=o.length;
if(c==1){o.set(K[0]);return}if(Y=="avrg"||Y=="stdv"||Y=="summ"||Y=="vari"){var f=1/c;for(var y=0;y<z;
y++){var $=0;for(var E=0;E<c;E++)$+=K[E][y];var b=~~($*f+.5);if(Y=="avrg"||(y&3)==3)o[y]=b;else if(Y=="summ")o[y]=255*Math.pow(Math.min(255,$)*(1/255),1/2.4);
else{var q=0;for(var E=0;E<c;E++){var O=K[E][y]-b;q+=O*O}var j=Math.sqrt(q*f)*(1/255);if(Y=="stdv")o[y]=255*Math.pow(j,1/2.4);
else o[y]=255*Math.pow(j*j,1/2.4)}}}else if(Y=="maxx"){for(var y=0;y<z;y++){var A=0;for(var E=0;E<c;
E++)A=Math.max(A,K[E][y]);o[y]=A}}else if(Y=="minn"){for(var y=0;y<z;y++){var A=255;for(var E=0;E<c;
E++)A=Math.min(A,K[E][y]);o[y]=A}}else if(Y=="medn"||Y=="rang"){var R=function(h,x){return h-x},g=new Array(c),H=0,i=0;
if((c&1)==0){i=c>>>1;H=i-1}else{H=i=c>>>1}for(var y=0;y<z;y++){for(var E=0;E<c;E++)g[E]=K[E][y];g.sort(R);
if(Y=="medn")o[y]=g[H]+g[i]>>>1;else o[y]=(y&3)==3?g[c-1]:g[c-1]-g[0]}}else console.log(Y)};d.RK={};
d.RK.alP=function(K,o,Y,c){var z=Date.now(),f=new Uint32Array(o*Y),$=new Uint8Array(o*Y);while(!0){$.fill(0);
f.fill(0);var E=[],b=0;for(var q=0;q<Y;q++){for(var O=0;O<o;O++){var y=q*o+O;if($[y]==0){var j=E.length,A=d.RK.fz(K,o,Y,O,q,$,f,j);
E.push([j,O,q,A[0],A[1],K[y]]);if(A[0]<c)b++}}}if(b==0)break;var R=E.length,g=new UnionFind(R),H=[];
for(var y=0;y<R;y++)H.push([]);for(var y=0;y<R;y++){var A=E[y],i=A[4],h=0,x=0;if(A[3]>=c)continue;var j=A[0];
for(var F=0;F<i.length;F+=2){var X=f[i[F+1]*o+i[F]],V=E[X];if(V[3]>x){x=V[3];h=X}}if(g.find(j)!=g.find(h)){g.link(j,h);
H[j].push(h);H[h].push(j)}}var U=new Uint32Array(R);U.fill(4294967295);var Z=new Uint32Array(R);for(var y=0;
y<R;y++){if(U[y]!=4294967295||H[y].length==0)continue;var T=[y],v=[y],P=y,p=E[y][3];while(v.length!=0){var a=v.pop(),D=H[a];
for(var F=0;F<D.length;F++){var n=D[F];if(T.indexOf(n)==-1){T.push(n);v.push(n);var N=E[n];if(N[3]>p){p=N[3];
P=n}}}}for(var F=0;F<T.length;F++){U[T[F]]=P;var W=E[P];Z[T[F]]=K[W[2]*o+W[1]]}}for(var q=0;q<Y;q++)for(var O=0;
O<o;O++){var y=q*o+O,G=U[f[y]];if(G!=4294967295)K[y]=Z[G]}}};d.RK.fz=function(K,o,Y,c,z,f,$,E){var b=[c,z],q=K[z*o+c],O=0,j=[];
f[z*o+c]=1;while(b.length!=0){var A=b.pop(),R=b.pop(),y=A*o+R;$[y]=E;O++;if(A!=Y-1)if(K[y+o]==q){if(f[y+o]==0){b.push(R,A+1);
f[y+o]=1}}else j.push(R,A+1);if(A!=0)if(K[y-o]==q){if(f[y-o]==0){b.push(R,A-1);f[y-o]=1}}else j.push(R,A-1);
if(R!=o-1)if(K[y+1]==q){if(f[y+1]==0){b.push(R+1,A);f[y+1]=1}}else j.push(R+1,A);if(R!=0)if(K[y-1]==q){if(f[y-1]==0){b.push(R-1,A);
f[y-1]=1}}else j.push(R-1,A)}return[O,j]};d.RK.aCF=function(K,o,Y,c,z){var f=d.RK.apU(K.buffer,o,Y)._b,$=Date.now(),E=[];
for(var y=0;y<f.length;y++){var b=f[y],q=1;for(var O=0;O<q;O++)E.push(b.b0)}var j=new Uint32Array(E),A=UPNG.quantize.getKDtree(new Uint8Array(j.buffer),c),R=[o,1,-o,-1,o+1,-o+1,-o-1,o-1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2],g=new Uint8Array(o*Y),H=K;
for(var i=0;i<Y;i++)for(var h=0;h<o;h++){var y=i*o+h<<2,x=H[y]*(1/255),F=H[y+1]*(1/255),X=H[y+2]*(1/255),V=H[y+3]*(1/255),U=d.RK.Za(A,x,F,X,V,z);
if(U==null){var Z=[],T=0;while(T<20){var v=i*o+h+R[T]<<2,P=H[v]*(1/255),p=H[v+1]*(1/255),a=H[v+2]*(1/255),D=H[v+3]*(1/255),n=d.RK.Za(A,P,p,a,D,.005);
if(n!=null){if(Z.indexOf(n)==-1){Z.push(n);n.C5=1}else n.C5++}T++}Z.sort(function(V,X){return X.C5-V.C5});
while(Z.length!=0&&Z[Z.length-1].C5<3)Z.pop();if(Z.length==0)U=d.RK.Za(A,x,F,X,V,100);else if(Z.length==1)U=Z[0];
else if(Z.length==2){var N=Z[0],W=Z[1],G=N.est.q,l=W.est.q,u=l[0]-G[0],e=l[1]-G[1],M=l[2]-G[2],B=l[3]-G[3],s=x-G[0],t=F-G[1],J=X-G[2],L=V-G[3],k=u*u+e*e+M*M+B*B,C=s*s+t*t+J*J+L*L,r=(s*u+t*e+J*M+L*B)/k,Q=C-r*r*k;
if(Q<.5)U=r<.5?N:W;else{U=d.RK.Za(A,x,F,X,V,100)}}else{var N=Z[0],W=Z[1],j9=Z[2],G=N.est.q,l=W.est.q,a4=j9.est.q,ar=G[0]-a4[0],ez=G[1]-a4[1],ja=G[2]-a4[2],c3=G[3]-a4[3],hW=l[0]-a4[0],fO=l[1]-a4[1],ei=l[2]-a4[2],fV=l[3]-a4[3],aW=a4[0]-x,ee=a4[1]-F,hM=a4[2]-X,ds=a4[3]-V,cp=ar*ar+ez*ez+ja*ja+c3*c3,eA=ar*hW+ez*fO+ja*ei+c3*fV,db=aW*ar+ee*ez+hM*ja+ds*c3,js=ar*hW+ez*fO+ja*ei+c3*fV,bF=hW*hW+fO*fO+ei*ei+fV*fV,jI=aW*hW+ee*fO+hM*ei+ds*fV,gF=1/(eA*js-cp*bF),r=(bF*db-jI*eA)*gF,b6=(jI*cp-db*js)*gF,ji=1-r-b6,hd=Math.max(r,b6,ji);
if(hd==r)U=N;else if(hd==b6)U=W;else U=j9}}g[y>>2]=U.ind}return{HK:g,_b:A[1]}};d.RK.apU=function(K,o,Y){var c=[],z={},f=o-1,$=Y-1,E=0,b=new Uint32Array(K),q=[-o-1,-o,-o+1,-1,1,o-1,o,o+1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2];
for(var O=1;O<$;O++)for(var j=1;j<f;j++){var A=O*o+j,R=b[A],g=!0;for(var y=0;y<8;y++)g=g&&b[A+q[y]]==R;
if(g){E++;var H=z[R];if(H==null){z[R]=c.length;c.push({b0:R,f8:1})}else c[H].f8++}}return{_b:c,a2M:E}};
d.RK.Za=function(K,o,Y,c,z,f){var $=UPNG.quantize.getNearest(K[0],o,Y,c,z);return d.RK.asX($,o,Y,c,z)<f?$:null};
d.RK.asX=function(K,o,Y,c,z){var f=K.est.q,$=o-f[0],E=Y-f[1],b=c-f[2],q=z-f[3];return $*$+E*E+b*b+q*q};
(function(){d.RK.C_=function(E,b,q,O,j){var A=E.kl,R=b*q,g=E._5,H=E.HK,i=c(O,H,A,R),h=new UnionFind(A),Z=0;
for(var x=1;x<q;x++)for(var F=1;F<b;F++){var y=x*b+F,X=H[y],V=0;if((V=H[y-1])!=X&&i[V]==i[X]&&K(g,0,X*6,V*6)<j)h.link(X,V);
if((V=H[y-b])!=X&&i[V]==i[X]&&K(g,0,X*6,V*6)<j)h.link(X,V)}var U=new Uint16Array(A);U.fill(65535);var T=new Uint16Array(A);
for(var y=0;y<A;y++){var v=h.find(y);if(U[v]==65535)U[v]=Z++;T[y]=U[v]}var P=new Uint16Array(R);for(var y=0;
y<R;y++)P[y]=T[H[y]];return{HK:P,kl:Z}};d.RK.yN=function(E,b,q){var O=d.R(b),j=E.length;for(var y=0;
y<j;y++){var A=q[y];if(A==0||A==255){var R=E[y],g=2-(A>>>7),H=O[R]=O[R]|g;if(H==3)return R}}return-1};
function K(E,b,q,O){var j=1/E[q+5],A=1/E[O+5],R=E[q]*j-E[O]*A,g=E[q+1]*j-E[O+1]*A,H=E[q+2]*j-E[O+2]*A,i=E[q+3]*j-E[O+3]*A,h=E[q+4]*j-E[O+4]*A,x=Math.sqrt(R*R+g*g+H*H),F=Math.sqrt(i*i+h*h);
return~~(x+b*F+.5)}function o(E,b){var y=0,q=E.length;while(y!=q&&E[y]!=b)y+=2;return y==q?-1:y}function Y(E,y){if(y==E.length-2){E.pop();
E.pop()}else{E[y+1]=E.pop();E[y]=E.pop()}}d.RK.aj8=function(E,b,q,O,j){var A=new Uint32Array(j*4400),R=[];
for(var y=0;y<j;y++)R.push([]);for(var g=0;g<q;g++)for(var H=0;H<b;H++){var y=g*b+H,i=y<<2,h=O[y],x=0,F=E[i]>>>4,X=E[i+1]>>>4,V=E[i+2]>>>4;
A[h*4400+(F<<8|X<<4|V)]++;A[h*4400+4096]++;A[h*4400+4100+(F<<4|X)]++;A[h*4400+4360+F]++;if(H!=0&&(x=O[y-1])!=h&&o(R[h],x)==-1){R[h].push(x,0);
R[x].push(h,0)}if(g!=0&&(x=O[y-b])!=h&&o(R[h],x)==-1){R[h].push(x,0);R[x].push(h,0)}}for(var y=0;y<j;
y++){var V=R[y];for(var U=0;U<V.length;U+=2)V[U+1]=$(A,y,V[U])}return[A,R]};function c(E,b,q,O){var j=d.R(q);
for(var y=0;y<O;y++){var A=E[y];if(A==0||A==255)j[b[y]]=2-(A>>>7)}return j}d.RK.aA9=function(E,b,q,O,j,A,R){var g=b*q,H=R[0],i=R[1],h=new UnionFind(O),x=c(j,E,O,g),F=-1,X=!0,V=0;
for(var y=0;y<O;y++)if(x[y]==1){if(F==-1)F=y;else h.link(y,F)}if(F==-1){for(var y=0;y<g;y++)A[y]=j[y]==255?255:0;
return}while(X){while(X){X=!1;for(var y=0;y<O;y++){if(x[y]==0){var U=z(i[y]);if(x[U]==1){x[y]=x[U];X=!0;
h.link(y,U)}}}}X=!0;V=0;while(X){X=!1;for(var y=0;y<O;y++){if(x[y]==0){var U=z(i[y]);if(x[U]==0){var Z=y*4400,T=U*4400;
for(var v=0;v<4400;v+=2){H[Z+v]+=H[T+v];H[Z+v+1]+=H[T+v+1]}f(i,H,y,U);V++;x[U]=3;X=!0;h.link(y,U)}}}}X=V!=0}var P=h.find(F);
for(var y=0;y<O;y++)x[y]=h.find(y)==P?255:0;for(var y=0;y<g;y++){A[y]=x[E[y]]}for(var y=0;y<g;y++){var U=j[y];
if(U==0||U==255)A[y]=U}};function z(E){var b=0,q=0,O=E.length;for(var j=0;j<O;j+=2){var A=E[j+1];if(A>q){q=A;
b=j}}return E[b]}function f(E,b,q,O){var j=E[q],A=E[O];Y(j,o(j,O));Y(A,o(A,q));for(var y=0;y<A.length;
y+=2){var R=A[y],g=E[R];Y(g,o(g,O));if(o(g,q)==-1){g.push(q,0);j.push(R,0)}}for(var y=0;y<j.length;y+=2){var R=j[y],g=E[R],H=$(b,q,R);
j[y+1]=H;g[o(g,q)+1]=H}}function $(E,b,q){var O=0,j=4096,A=b*4400,R=q*4400;for(var g=0;g<16;g++){if(E[A+4360+g]==0||E[R+4360+g]==0)continue;
for(var H=0;H<16;H++){var i=g<<4|H;if(E[A+4100+i]==0||E[R+4100+i]==0)continue;var h=A+(i<<4),x=R+(i<<4);
for(var y=0;y<16;y++)O+=Math.sqrt(E[h+y]*E[x+y])}}var F=O/Math.sqrt(E[A+j]*E[R+j]);return~~(999.99999*F)}}());
d.RK.Xr=function(){var K,o,Y,$=0,E=0;function c(R,g,H){var i=[],h=H,x=H,F=H>>>2;for(var X=0;X<g;X++)for(var V=0;
V<R;V++){var U=~~((V+.5)*h),Z=~~((X+.5)*x),T=1e9,v=Math.max(0,U-F),P=Math.min(o,U+F+1),p=Math.max(0,Z-F),a=Math.min(Y,Z+F+1);
for(var D=p;D<a;D++)for(var n=v;n<P;n++){var N=z(n,D);if(N<T){U=n;Z=D;T=N}}i.push(U,Z)}return i}function z(R,g){var H=(g*o+R)*4,i=o*4,h=f(H-4,H)+f(H,H+4),x=f(H-i,H)+f(H,H+i);
return h+x}function f(R,g){var H=K[R]-K[g],i=K[R+1]-K[g+1],h=K[R+2]-K[g+2];return H*H+i*i+h*h}function b(R,g,H,i){E++;
if(i<$)$=i;R[i].push(g,H)}function q(R){E--;while(R[$].length==0)$++}function O(R,g,H,i,h){var x=(H*o+g)*4,F=i[h+5],X=1/F,V=K[x]*F-i[h],U=K[x+1]*F-i[h+1],Z=K[x+2]*F-i[h+2],T=g*F-i[h+3],v=H*F-i[h+4],P=Math.sqrt(V*V+U*U+Z*Z),p=Math.sqrt(T*T+v*v);
return~~((P+R*p)*X+.5)}function j(R,g,H,i,h){K=R;o=g;Y=H;$=0;E=0;var x=o*Y,F=Math.round(Math.min(o,Y)/(i?i:30));
if(F==0)F=1;var X=(h?h:30)/F,V=Math.floor(o/F),U=Math.floor(Y/F),Z=new Uint16Array(x);for(var y=0;y<x;
y++)Z[y]=65535;var T=c(V,U,F),v=T.length>>>1;if(v>65535)throw v;var P=new Uint32Array(v*6),p=[];for(var y=0;
y<1e3+Y;y++)p.push([]);var a=1e3*700/(o*Y),D=Math.floor(U*a);D=Math.min(U,Math.max(4,D));var P=new Uint32Array(v*6);
for(var n=0;n<U;n+=D){var N=Math.min(n+D,U);for(var W=n;W<N;W++)for(var G=0;G<V;G++){var y=W*V+G;b(p,T[y*2+1]<<16|T[y*2],y,0)}var l=Math.min(Y,N*F);
if(n+D>=U)l=Y;A(P,p,Z,X,l)}K=null;return{HK:Z,kl:v,_5:P,am_:X}}function A(R,g,H,i,h){while(E!=0){q(g);
var x=g[$].pop(),F=g[$].pop(),X=F>>>16,V=F&65535,y=X*o+V;if(H[y]==null)throw"e";if(H[y]==65535){var U=x*6,Z=y<<2;
H[y]=x;R[U]+=K[Z];R[U+1]+=K[Z+1];R[U+2]+=K[Z+2];R[U+3]+=V;R[U+4]+=X;R[U+5]++;if(X!=h-1&&H[y+o]==65535)b(g,X+1<<16|V,x,O(i,V,X+1,R,U));
if(X!=0&&H[y-o]==65535)b(g,X-1<<16|V,x,O(i,V,X-1,R,U));if(V!=0&&H[y-1]==65535)b(g,X<<16|V-1,x,O(i,V-1,X,R,U));
if(V!=o-1&&H[y+1]==65535)b(g,X<<16|V+1,x,O(i,V+1,X,R,U))}}}j.GF=function(R,g,H,i,h,x){K=R;o=g;Y=H;var F=i.kl=i.kl+1,X=i.HK,V=i._5,U=i._5=new Uint32Array(F*6);
U.set(V,0);var Z=X[h[1]*o+h[0]];for(var y=0;y<X.length;y++)if(X[y]==Z)X[y]=65535;for(var y=0;y<6;y++)U[Z*6+y]=0;
var T=[];for(var y=0;y<1e3+Y;y++)T.push([]);for(var y=0;y<h.length;y+=2)b(T,h[y+1]<<16|h[y],Z,0);for(var y=0;
y<x.length;y+=2)b(T,x[y+1]<<16|x[y],F-1,0);A(U,T,X,i.am_,Y);K=null};return j}();d.a5R={};d.a5R.a1v=function(){var K=11,o=7,Y=K>>>1,h4=o>>>1,c=2,z=2e3/c,f=[],E=null,b="";
function $(O,j,A){var R=(O[j+0]-O[A+0])*(1/255),g=(O[j+1]-O[A+1])*(1/255),H=(O[j+2]-O[A+2])*(1/255),i=(O[j+3]-O[A+3])*(1/255),h=R*R*.125+g*g*.25+H*H*.5+i*i;
return f[~~(h*z)]}function q(O,j,A,R,g,H){var i=Date.now(),h=d.R(j*A);d.jf(O,h);var x=UZIP.adler(h,0,j*A);
if(x!=b){var F=d.Z1(h,j,A);E=d.R(j*A*4);b=x;var X=[1,1/9,1/25,1/49,1/81];for(var V=0;V<A;V++)for(var U=0;
U<j;U++)for(var y=0;y<4;y++){var Z=Math.max(1,U-y),T=Math.min(j-1,U+y),v=Math.max(1,V-y),P=Math.min(A-1,V+y),p=d.pP(F,j,Z,T,v,P);
if(isNaN(p))throw U+","+V+","+y+","+p;E[(V*j+U)*4+y]=p*X[y]}}if(jK.YT){var a=jK.r0(0,j,A);a.set(O);var D=jK.r0(1,j,A);
D.set(E);var n=jK.r0(2,j,A);jK.EW(n);jK.filter.rF({type:jK.filter.a6v,wl:new Float32Array([1/j,1/A]),ai4:D.eI,axZ:g,ait:H},a.eI);
n.get(R)}else{for(var y=0;y<2e3;y++)f[y]=Math.exp(-(y/2e3)*c*(100+(1-g)*(1-g)*1e4));var N=h4+2;for(var V=N;
V<A-N;V++)for(var U=N;U<j-N;U++){var W=0,G=0,l=0,u=0;for(var e=0;e<K;e++)for(var M=0;M<K;M++){var B=U+M-Y,s=V+e-Y;
if(B==U&&s==V||B<N||s<N||B>=j-N||s>=A-N)continue;var t=$(E,(V*j+U)*4,(s*j+B)*4),J=s*j+B<<2;W+=t*O[J+0];
G+=t*O[J+1];l+=t*O[J+2];u+=t}if(u==0){continue}var L=1/u,k=(V*j+U)*4;R[k+0]=~~((1-H)*L*W+H*R[k+0]);R[k+1]=~~((1-H)*L*G+H*R[k+1]);
R[k+2]=~~((1-H)*L*l+H*R[k+2])}}}return q}();d.a4t=function(){var K=6,o=K>>>1,Y=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],c=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function z(H,i){var h=!1,x=H.length,F=i[0],Z=5,v=0,P=0;for(var y=1;y<x;y++)F=F.Bb(i[y]);if((F.m&1)!=0)F.m++;
if((F.e&1)!=0)F.e++;var X=F.m,V=F.e,U=Math.max(X,V);while(U>>>Z>8&&Z<10)Z++;var T=1<<Z;if(X%T!=0)v=T-X%T;
if(V%T!=0)P=T-V%T;F.VC(v>>>1,P>>>1);X=F.m;V=F.e;if(X%T!=0||V%T!=0)throw"e";var p=Date.now(),a=[],D=d.R(F.Z()),n=[],N=X*V,W=new Float32Array(X*V*2);
for(var y=0;y<x;y++){var G=i[y],l=d.R(G.Z());d.jf(H[y],l);D.fill(0);d.u_(l,G,D,F);a.push(D.slice(0));
var u=G.x-F.x,e=G.y-F.y,M=u+G.m-2,B=e+G.e;for(var s=0;s<G.e;s++){var t=(s+e)*X;for(var J=0;J<u;J++)D[t+J]=D[t+u];
for(var J=M;J<X;J++)D[t+J]=D[t+M-1]}for(var J=0;J<X;J++){for(var s=0;s<e;s++)D[s*X+J]=D[e*X+J];for(var s=B;
s<V;s++)D[s*X+J]=D[(B-1)*X+J]}var L=new Float32Array(X*V*2);n.push(L);for(var k=0;k<N;k++)L[k*2]=D[k]*(1/255);
b(L,W,X,V,Z);f(L,X,V,Z)}if(h)console.log("to gray, decompose",Date.now()-p);p=Date.now();var C=d.R(X*V);
for(var s=0;s<V;s++)for(var J=0;J<X;J++){var r=0,Q=0,j9=s*X+J<<1;for(var y=0;y<x;y++){var a4=n[y],ar=a4[j9],ez=a4[j9+1],ja=ar*ar+ez*ez;
if(ja>Q){Q=ja;r=y}}C[j9>>>1]=r}if(h)console.log("max abs value",Date.now()-p);p=Date.now();$(C,X,V,Z);
E(C,X,V);if(h)console.log("denoise",Date.now()-p);p=Date.now();var c3=W.slice(0);for(var s=0;s<V;s++)for(var J=0;
J<X;J++){var y=s*X+J,j9=y<<1,hW=n[C[y]];c3[j9]=hW[j9];c3[j9+1]=hW[j9+1]}q(c3,W,X,V,Z);if(h)console.log("compose",Date.now()-p);
p=Date.now();for(var k=0;k<N;k++){var ja=c3[k*2]*255,r=0,Q=1e9;for(var y=0;y<x;y++){var fO=Math.abs(a[y][k]-ja);
if(fO<Q){Q=fO;r=y}a[y][k]=0}a[r][k]=255}if(h)console.log("toRGB",Date.now()-p);p=Date.now();return[a,F]}function f(H,i,h,x){var F=i>>>x,X=h>>>x,V=1e-4;
for(var U=0;U<h;U++)for(var Z=0;Z<i;Z++){if(Z<F&&U<X)continue;var T=(U*i+Z)*2,v=H[T],P=H[T+1],p=v*v+P*P;
if(p<V)v=P=0;else{var a=(p-V)/p;v*=a;P*=a}H[T]=v;H[T+1]=P}}function $(H,i,h,x){for(var F=0;F<x;F++){var X=i>>>F,V=h>>>F,U=X>>>1,Z=V>>>1;
for(var T=0;T<Z;T++)for(var v=0;v<U;v++){var P=T*i+U+v,p=(T+Z)*i+U+v,a=(T+Z)*i+v,D=H[P],n=H[p],N=H[a];
if(D==n==N){}else if(D==n)H[a]=D;else if(n==N)H[P]=n;else if(D==N)H[p]=D}}}function E(H,i,h){for(var x=1;
x<h-1;x++)for(var F=1;F<i-1;F++){var y=x*i+F,X=H[y-i],V=H[y-1],U=H[y],Z=H[y+1],T=H[y+i],v=X==V&&X==Z||X==Z&&Z==T||Z==T&&V==T||X==V&&T==V;
if(v)H[y]=X==V?X:V==Z?V:X;else if(U>X&&U>V&&U>Z&&U>T)H[y]=X+V+Z+T>>>2;else if(U<X&&U<V&&U<Z&&U<T)H[y]=X+V+Z+T>>>2}}function b(H,i,h,x,F){for(var y=0;
y<F;y++){var X=h>>>y,V=x>>>y;O(H,i,h,x,X,V)}}function q(H,i,h,x,F){for(var y=F-1;y>=0;y--){var X=h>>y,V=x>>y;
j(H,i,h,x,X,V)}}function O(H,i,h,x,F,X){R(H,i,h,x,F,X,!0);R(i,H,h,x,F,X,!1)}function j(H,i,h,x,F,X){g(H,i,h,x,F,X,!0);
g(i,H,h,x,F,X,!1)}function A(H,i,h,x,F,X){var V=h*x+i<<1;H[V]=F;H[V+1]=X}function R(H,i,h,x,F,X,V){var aM=V?F:X,U=V?X:F,Z=U>>>1;
for(var T=0;T<aM;T++){for(var v=0;v<U;v+=2){var P=0,p=0,a=0,D=0,n=v>>>1;for(var N=0;N<6;N++){var W=v+N-3;
if(W<0)W=U+W;if(W>=U)W=W-U;var G=(V?W*h+T:T*h+W)<<1,l=H[G],u=H[G+1],e=Y[N],M=c[N];P+=l*e[0]-u*e[1];p+=u*e[0]+l*e[1];
a+=l*M[0]-u*M[1];D+=u*M[0]+l*M[1]}if(V){A(i,T,n,h,P,p);A(i,T,n+Z,h,a,D)}else{A(i,n,T,h,P,p);A(i,n+Z,T,h,a,D)}}}}function g(H,i,h,x,F,X,V){var aM=V?F:X,U=V?X:F,Z=U>>>1,T,v,P,p;
for(var a=0;a<aM;a++){for(var D=0;D<U;D++){var n=0,N=0;for(var W=D+3&1;W<6;W+=2){var G=D-W+3>>1;if(G<0)G=Z+G;
if(G>=Z)G=G-Z;if(V){T=a;v=G;P=a;p=G+Z}else{v=a;T=G;p=a;P=G+Z}var l=v*h+T<<1,u=p*h+P<<1,e=H[l],M=H[l+1],B=H[u],s=H[u+1],t=Y[W],J=c[W];
n+=e*t[0]+B*J[0];n+=M*t[1]+s*J[1];N+=M*t[0]+s*J[0];N-=e*t[1]+B*J[1]}if(V)A(i,a,D,h,n,N);else A(i,D,a,h,n,N)}}}return{md:z}}();
var c_=function(){function K(){this.Z=0;this.x7=0;this.tw={};this.lH=[];this.Lw=1e5;this.hU=1e5;this.jG=-1;
this.Yf=-1;this.color=0}function o(h4){this.ML=h4;this.pl=new Array(h4);this.b0=new Array(h4*6);this.a4H=0;
this.yj=new Array(h4*2);this.alpha=new Array(h4);this.zF=new Array(h4);this.wZ=new Array(h4)}function Y(z,f,$,E){function b(i,h,z,f){return z[f*h+i]}function q(y){var Z=z.length;
while(y<Z&&z[y]==0)y++;return y<Z?y:-1}function O(i,h,Z){for(var y=2;y<5;y++){var T=0;for(var v=-y+1;
v<=y-1;v++){T+=b(i+v,h+y-1,z,f)==Z?1:-1;T+=b(i+y-1,h+v-1,z,f)==Z?1:-1;T+=b(i+v-1,h-y,z,f)==Z?1:-1;T+=b(i-y,h+v,z,f)==Z?1:-1}if(T>0)return 1;
else if(T<0)return 0}return 0}function j(Z,g){var H=new K,i=Z,h=g,T=0,v=1,P;H.color=z[g*f+Z];H.sign=b(Z,g,z,f)==H.color?"+":"-";
while(1){H.lH.push(i,h);if(i>H.jG)H.jG=i;if(i<H.Lw)H.Lw=i;if(h>H.Yf)H.Yf=h;if(h<H.hU)H.hU=h;H.x7++;i+=T;
h+=v;H.Z-=i*v;if(i==Z&&h==g)break;var p=b(i+(T+v-1>>1),h+(v-T-1>>1),z,f)==H.color,a=b(i+(T-v-1>>1),h+(v+T-1>>1),z,f)==H.color;
if(a&&!p){if(E.ib=="right"||E.ib=="black"&&H.sign=="+"||E.ib=="white"&&H.sign=="-"||E.ib=="majority"&&O(i,h,H.color)||E.ib=="minority"&&!O(i,h,H.color)){P=T;
T=-v;v=P}else{P=T;T=v;v=-P}}else if(a){P=T;T=-v;v=P}else if(!p){P=T;T=v;v=-P}}return H}var A=0,R=[];
while(!0){var A=q(A);if(A==-1)break;var g=Math.floor(A/f),H=j(A-g*f,g);for(var y=0;y<H.lH.length-2;y+=2){var i=H.lH[y],h=H.lH[y+1],x=h*f+i;
if(i==H.lH[y+2]&&h+1==H.lH[y+3]&&z[x]!=0)c_.fill(x,z,f,0)}if(H.Z>E.au4)R.push(H)}for(var y=0;y<R.length;
y++)R[y].parent=-1;var F=Date.now();for(var y=1;y<R.length;y++){var X=R[y];for(var V=y-1;V>=0;V--){var U=R[V];
if(X.Lw<U.Lw||X.jG>U.jG||X.hU<U.hU||X.Yf>U.Yf)continue;if(!c_.tm(U.lH,X.lH[0]+.5,X.lH[1]+.5))continue;
X.parent=V;break}}return R}function c(z,f){function $(T,v,P,p,a){this.x=T;this.y=v;this.Oe=P;this.BL=p;
this.x4=a}function E(T,h4){return(h4+T)%h4}function b(T,v,P,p){return T*p-P*v}function q(T,v,P,p){return T*P+v*p}function O(T,v,P){if(T<=P)return T<=v&&v<P;
else return T<=v||v<P}function j(T,v,P){var p=0;p+=v*T[0]*v;p+=v*T[1]*P;p+=v*T[2];p+=P*T[3]*v;p+=P*T[4]*P;
p+=P*T[5];p+=T[6]*v;p+=T[7]*P;p+=T[8];return p}function A(T,v,P){return v+T*(P-v)}function R(T,v,P,p){var a=Math.sign(P-T),D=-Math.sign(p-v);
return a*(P-T)-D*(p-v)}function g(T,v){return Math.sqrt(T*T+v*v)}function H(T,v,P,p,a){var D=1-T;return D*D*D*v+3*(D*D*T)*P+3*(T*T*D)*p+T*T*T*a}function i(T,v,P,p,a,D,n,N){var W=b(T,v,n,N),G=b(P,p,n,N),l=b(a,D,n,N),u=W-2*G+l,e=-2*W+2*G,M=W,B=e*e-4*u*M;
if(u==0||B<0)return-1;var s=Math.sqrt(B),t=(-e+s)/(2*u),J=(-e-s)/(2*u);if(t>=0&&t<=1)return t;else if(J>=0&&J<=1)return J;
else return-1}function h(Z){var y,T,v;Z.b4=Z.lH[0];Z.an3=Z.lH[1];Z.bA=[];var P=Z.bA;P.push(new $(0,0,0,0,0));
for(y=0;y<Z.x7;y++){T=Z.lH[y<<1]-Z.b4;v=Z.lH[(y<<1)+1]-Z.an3;P.push(new $(P[y].x+T,P[y].y+v,P[y].Oe+T*v,P[y].BL+T*T,P[y].x4+v*v))}}function x(Z){var h4=Z.x7,T=Z.lH,v,P=new Array(h4),p=new Array(h4),a=new Array(4),D,n,N,W,G,l,u,e,M,B,s,y,t,J,L,k,C,r,Q=0;
Z.Dr=new Array(h4);for(y=h4-1;y>=0;y--){if(T[y<<1]!=T[Q<<1]&&T[(y<<1)+1]!=T[(Q<<1)+1])Q=y+1;p[y]=Q}for(y=h4-1;
y>=0;y--){var j9=E(y+1,h4)<<1;a[0]=a[1]=a[2]=a[3]=0;v=(3+3*(T[j9]-T[y<<1])+(T[j9+1]-T[(y<<1)+1]))/2;
a[v]++;D=0;n=0;N=0;W=0;Q=p[y];J=y;while(1){s=0;v=(3+3*Math.sign(T[Q*2]-T[J*2])+Math.sign(T[Q*2+1]-T[J*2+1]))/2;
a[v]++;if(a[0]&&a[1]&&a[2]&&a[3]){P[y]=J;s=1;break}M=T[Q*2]-T[y*2];B=T[Q*2+1]-T[y*2+1];if(b(D,n,M,B)<0||b(N,W,M,B)>0){break}if(Math.abs(M)<=1&&Math.abs(B)<=1){}else{G=M+(B>=0&&(B>0||M<0)?1:-1);
l=B+(M<=0&&(M<0||B<0)?1:-1);if(b(D,n,G,l)>=0){D=G;n=l}G=M+(B<=0&&(B<0||M<0)?1:-1);l=B+(M>=0&&(M>0||B<0)?1:-1);
if(b(N,W,G,l)<=0){N=G;W=l}}J=Q;Q=p[J];if(!O(Q,y,J)){break}}if(s==0){u=Math.sign(T[Q*2]-T[J*2]);e=Math.sign(T[Q*2+1]-T[J*2+1]);
M=T[J*2]-T[y*2];B=T[J*2+1]-T[y*2+1];L=b(D,n,M,B);k=b(D,n,u,e);C=b(N,W,M,B);r=b(N,W,u,e);t=1e7;if(k<0){t=Math.floor(L/-k)}if(r>0){t=Math.min(t,Math.floor(-C/r))}P[y]=E(J+t,h4)}}t=P[h4-1];
Z.Dr[h4-1]=t;for(y=h4-2;y>=0;y--){if(O(y+1,P[y],t)){t=P[y]}Z.Dr[y]=t}for(y=h4-1;O(E(y+1,h4),t,Z.Dr[y]);
y--){Z.Dr[y]=t}}function F(Z){function T(Z,y,v){var h4=Z.x7,M=Z.lH,B=Z.bA,s,t,J,L,k,p,C,r,e,Q,j9,a4,ar,ez,ja=0;
if(v>=h4){v-=h4;ja=1}if(ja==0){s=B[v+1].x-B[y].x;t=B[v+1].y-B[y].y;L=B[v+1].BL-B[y].BL;J=B[v+1].Oe-B[y].Oe;
k=B[v+1].x4-B[y].x4;p=v+1-y}else{s=B[v+1].x-B[y].x+B[h4].x;t=B[v+1].y-B[y].y+B[h4].y;L=B[v+1].BL-B[y].BL+B[h4].BL;
J=B[v+1].Oe-B[y].Oe+B[h4].Oe;k=B[v+1].x4-B[y].x4+B[h4].x4;p=v+1-y+h4}j9=(M[y<<1]+M[v<<1])/2-M[0];a4=(M[(y<<1)+1]+M[(v<<1)+1])/2-M[1];
ez=M[v<<1]-M[y<<1];ar=-(M[(v<<1)+1]-M[(y<<1)+1]);C=(L-2*s*j9)/p+j9*j9;r=(J-s*a4-t*j9)/p+j9*a4;e=(k-2*t*a4)/p+a4*a4;
Q=ar*ar*C+2*ar*ez*r+ez*ez*e;return Math.sqrt(Q)}var y,v,P,p,h4=Z.x7,a=new Array(h4+1),D=new Array(h4+1),n=new Array(h4),N=new Array(h4+1),W=new Array(h4+1),G=new Array(h4+1),l,u,e;
for(y=0;y<h4;y++){e=E(Z.Dr[E(y-1,h4)]-1,h4);if(e==y){e=E(y+1,h4)}if(e<y){n[y]=h4}else{n[y]=e}}v=1;for(y=0;
y<h4;y++){while(v<=n[y]){N[v]=y;v++}}y=0;for(v=0;y<h4;v++){W[v]=y;y=n[y]}W[v]=h4;P=v;y=h4;for(v=P;v>0;
v--){G[v]=y;y=N[y]}G[0]=0;a[0]=0;for(v=1;v<=P;v++){for(y=G[v];y<=W[v];y++){u=-1;for(p=W[v-1];p>=N[y];
p--){l=T(Z,p,y)+a[p];if(u<0||l<u){D[y]=p;u=l}}a[y]=u}}Z.acS=P;Z.azS=new Array(P);for(y=h4,v=P-1;y>0;
v--){y=D[y];Z.azS[v]=y}}function X(Z){function T(Z,y,l,n,N,c3){var h4=Z.x7,hW=Z.bA,fO=0,e;while(l>=h4){l-=h4;
fO+=1}while(y>=h4){y-=h4;fO-=1}while(l<0){l+=h4;fO-=1}while(y<0){y+=h4;fO+=1}var ei=hW[l+1].x-hW[y].x+fO*hW[h4].x,fV=hW[l+1].y-hW[y].y+fO*hW[h4].y,aW=hW[l+1].BL-hW[y].BL+fO*hW[h4].BL,ee=hW[l+1].Oe-hW[y].Oe+fO*hW[h4].Oe,hM=hW[l+1].x4-hW[y].x4+fO*hW[h4].x4,u=l+1-y+fO*h4;
n[c3]=ei/u;n[c3+1]=fV/u;var ds=(aW-ei*ei/u)/u,cp=(ee-ei*fV/u)/u,eA=(hM-fV*fV/u)/u,db=(ds+eA+Math.sqrt((ds-eA)*(ds-eA)+4*cp*cp))/2;
ds-=db;eA-=db;if(Math.abs(ds)>=Math.abs(eA)){e=Math.sqrt(ds*ds+cp*cp);if(e!=0){N[c3]=-cp/e;N[c3+1]=ds/e}}else{e=Math.sqrt(eA*eA+cp*cp);
if(e!=0){N[c3]=-eA/e;N[c3+1]=cp/e}}if(e==0){N[c3]=N[c3+1]=0}}var v=Z.acS,P=Z.azS,h4=Z.x7,p=Z.lH,a=Z.b4,D=Z.an3,n=new Array(v*2),N=new Array(v*2),W=new Array(v),G=new Array(3),y,l,u,e,t,J,L,k,C,r,Q;
Z.tw=new o(v);for(y=0;y<v;y++){l=P[E(y+1,v)];l=E(l-P[y],h4)+P[y];n[y<<1]=0;n[(y<<1)+1]=0;N[y<<1]=0;N[(y<<1)+1]=0;
T(Z,P[y],l,n,N,y<<1)}for(y=0;y<v;y++){W[y]=[0,0,0,0,0,0,0,0,0];var M=N[y<<1]*N[y<<1]+N[(y<<1)+1]*N[(y<<1)+1],B=1/M;
if(M!=0){G[0]=N[(y<<1)+1];G[1]=-N[y<<1];G[2]=-G[1]*n[(y<<1)+1]-G[0]*n[y<<1];for(e=0;e<3;e++){W[y][e*3+0]=G[e]*G[0]*B;
W[y][e*3+1]=G[e]*G[1]*B;W[y][e*3+2]=G[e]*G[2]*B}}}var s=[0,0,0,0,0,0,0,0,0];for(y=0;y<v;y++){s[0]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=0;
var j9=p[P[y]<<1]-a,a4=p[(P[y]<<1)+1]-D,ar=0,ez=0;l=E(y-1,v);for(e=0;e<9;e+=3){s[e+0]=W[l][e+0]+W[y][e+0];
s[e+1]=W[l][e+1]+W[y][e+1];s[e+2]=W[l][e+2]+W[y][e+2]}while(1){var ja=s[0]*s[4]-s[1]*s[3];if(ja!=0){ar=(-s[2]*s[4]+s[5]*s[0])/ja;
ez=(s[2]*s[3]-s[5]*s[0])/ja;break}if(s[0]>s[4]){G[0]=-s[1];G[1]=s[0]}else if(s[4]){G[0]=-s[4];G[1]=s[3]}else{G[0]=1;
G[1]=0}var M=G[0]*G[0]+G[1]*G[1],B=1/M;G[2]=-G[1]*a4-G[0]*j9;for(e=0;e<3;e++){s[e*3+0]+=G[e]*G[0]*B;
s[e*3+1]+=G[e]*G[1]*B;s[e*3+2]+=G[e]*G[2]*B}}t=Math.abs(ar-j9);J=Math.abs(ez-a4);if(t<=.5&&J<=.5){Z.tw.yj[y<<1]=ar+a;
Z.tw.yj[(y<<1)+1]=ez+D;continue}L=j(s,j9,a4);C=j9;r=a4;if(s[0]!=0){for(Q=0;Q<2;Q++){ez=a4-.5+Q;ar=-(s[1]*ez+s[2])/s[0];
t=Math.abs(ar-j9);k=j(s,ar,ez);if(t<=.5&&k<L){L=k;C=ar;r=ez}}}if(s[4]!=0){for(Q=0;Q<2;Q++){ar=j9-.5+Q;
ez=-(s[3]*ar+s[5])/s[4];J=Math.abs(ez-a4);k=j(s,ar,ez);if(J<=.5&&k<L){L=k;C=ar;r=ez}}}for(e=0;e<2;e++){for(u=0;
u<2;u++){ar=j9-.5+e;ez=a4-.5+u;k=j(s,ar,ez);if(k<L){L=k;C=ar;r=ez}}}Z.tw.yj[y<<1]=C+a;Z.tw.yj[(y<<1)+1]=r+D}}function V(Z){var T=Z.tw.ML,v=Z.tw,y,P,p,a,D,n,N,W,G;
for(y=0;y<T;y++){P=E(y+1,T);p=E(y+2,T);var l=v.yj[y<<1],u=v.yj[(y<<1)+1],e=v.yj[p<<1],M=v.yj[(p<<1)+1],B=v.yj[P<<1],s=v.yj[(P<<1)+1],t=A(.5,e,B),J=A(.5,M,s);
D=R(l,u,e,M);if(D!=0){a=b(B-l,s-u,e-l,M-u)/D;a=Math.abs(a);n=a>1?1-1/a:0;n=n*(1/.75)}else{n=4/3}v.zF[P]=n;
var L=3*P<<1;if(n>=f.alc){v.pl[P]=0;v.b0[L+0]=v.b0[L+1]=0;v.b0[L+2]=B;v.b0[L+3]=s;v.b0[L+4]=t;v.b0[L+5]=J}else{if(n<.55){n=.55}else if(n>1){n=1}var k=.5+.5*n;
v.pl[P]=1;v.b0[L]=A(k,l,B);v.b0[L+1]=A(k,u,s);v.b0[L+2]=A(k,e,B);v.b0[L+3]=A(k,M,s);v.b0[L+4]=t;v.b0[L+5]=J}v.alpha[P]=n;
v.wZ[P]=.5}v.a8n=1}function U(Z){function T(){this.Fu=0;this.se=0;this.ov=0;this.OZ=0;this.wC=0;this.xu=0;
this.ZO=0;this.alpha=0}function v(Z,y,l,bF,jI,C,r){var p=Z.tw.ML,gF=Z.tw.b0,b6=Z.tw.yj;if(y==l)return 1;
var ji=y,B=E(y+1,p),hd=E(ji+1,p),ee=b6[y<<1],hM=b6[(y<<1)+1],eZ=b6[B<<1],hj=b6[(B<<1)+1],eK=C[hd];if(eK==0)return 1;
var cX=g(ee-eZ,hM-hj);for(ji=hd;ji!=l;ji=hd){var hd=E(ji+1,p),bW=E(ji+2,p),ju=b6[hd<<1],ci=b6[(hd<<1)+1],hH=b6[bW<<1],b8=b6[(bW<<1)+1];
if(C[hd]!=eK)return 1;if(Math.sign(b(eZ-ee,hj-hM,hH-ju,b8-ci))!=eK)return 1;if(q(eZ-ee,hj-hM,hH-ju,b8-ci)<cX*g(ju-hH,ci-b8)*-.999847695156)return 1}var gh=E(y,p)*3+2<<1,aN=E(y+1,p)<<1,eS=E(l,p)<<1,b2=E(l,p)*3+2<<1,c3=gF[gh],hW=gF[gh+1],fZ=b6[aN],dw=b6[aN+1],ib=b6[eS],eJ=b6[eS+1],df=gF[b2],k5=gF[b2+1],Q=b6[0],j9=b6[1];
gh=l*3+2<<1;var eC=gF[gh],j7=gF[gh+1],s=r[l]-r[y];s-=b(eC-Q,j7-j9,eC-Q,j7-j9)/2;if(y>=l){s+=r[p]}var cK=fZ-c3,bw=dw-hW,f6=ib-c3,iF=eJ-hW,ag=df-c3,bS=k5-hW,b$=b(cK,bw,f6,iF),aj=b(cK,bw,ag,bS),iV=b(f6,iF,ag,bS),g0=b$+iV-aj;
if(aj==b$)return 1;var k=iV/(iV-g0),L=aj/(aj-b$),eB=aj*k/2;if(eB==0)return 1;var c7=s/eB,t=2-Math.sqrt(4-c7/.3);
bF.se=A(k*t,c3,fZ);bF.ov=A(k*t,hW,dw);bF.OZ=A(L*t,df,ib);bF.wC=A(L*t,k5,eJ);bF.alpha=t;bF.xu=k;bF.ZO=L;
fZ=bF.se;dw=bF.ov;ib=bF.OZ;eJ=bF.wC;bF.Fu=0;for(ji=E(y+1,p);ji!=l;ji=hd){hd=E(ji+1,p);var dU=b6[ji<<1],cz=b6[(ji<<1)+1],ju=b6[hd<<1],ci=b6[(hd<<1)+1];
k=i(fZ-c3,dw-hW,ib-fZ,eJ-dw,df-ib,k5-eJ,ju-dU,ci-cz);if(k<-.5)return 1;var fr=H(k,c3,fZ,ib,df),kk=H(k,hW,dw,eJ,k5),cX=g(ju-dU,ci-cz);
if(cX==0)return 1;var a6=b(ju-dU,ci-cz,fr-dU,kk-cz)/cX;if(Math.abs(a6)>jI)return 1;if(q(ju-dU,ci-cz,fr-dU,kk-cz)<0||q(dU-ju,cz-ci,fr-ju,kk-ci)<0){return 1}bF.Fu+=a6*a6}for(ji=y;
ji!=l;ji=hd){hd=E(ji+1,p);var gh=ji*3+2<<1,aN=hd*3+2<<1,jv=gF[gh],by=gF[gh+1],gc=gF[aN],i8=gF[aN+1];
k=i(fZ-c3,dw-hW,ib-fZ,eJ-dw,df-ib,k5-eJ,gc-jv,i8-by);if(k<-.5)return 1;var fr=H(k,c3,fZ,ib,df),kk=H(k,hW,dw,eJ,k5),cX=g(gc-jv,i8-by);
if(cX==0)return 1;var a6=b(gc-jv,i8-by,fr-jv,kk-by)/cX,az=b(gc-jv,i8-by,b6[hd<<1]-jv,b6[(hd<<1)+1]-by)/cX;
az*=.75*Z.tw.alpha[hd];if(az<0){a6=-a6;az=-az}if(a6<az-jI)return 1;if(a6<az){bF.Fu+=(a6-az)*(a6-az)}}return 0}var P=Z.tw,p=P.ML,a=P.yj,D=new Array(p+1),n=new Array(p+1),N=new Array(p+1),W=new Array(p+1),G,y,l,u,e=new T,M,B,s,t,J,L,k,C=new Array(p),r=new Array(p+1);
for(y=0;y<p;y++){if(P.pl[y]=="CURVE"){var Q=a[E(y-1,p)<<1],j9=a[(E(y-1,p)<<1)+1],a4=a[y<<1],ar=a[(y<<1)+1],ez=a[E(y+1,p)<<1],ja=a[(E(y+1,p)<<1)+1];
C[y]=Math.sign(b(a4-Q,ar-j9,ez-a4,ja-ar))}else{C[y]=0}}s=0;r[0]=0;var c3=P.yj[0],hW=P.yj[1];for(y=0;
y<p;y++){B=E(y+1,p);if(P.pl[B]=="CURVE"){t=P.alpha[B];var fO=y*3+2<<1,ei=B*3+2<<1,fV=P.b0[fO],aW=P.b0[fO+1],ee=a[B<<1],hM=a[(B<<1)+1],ds=P.b0[ei],cp=P.b0[ei+1];
s+=.3*t*(4-t)*b(ee-fV,hM-aW,ds-fV,cp-aW)/2;s+=b(fV-c3,aW-hW,ds-c3,cp-hW)/2}r[y+1]=s}D[0]=-1;n[0]=0;N[0]=0;
for(l=1;l<=p;l++){D[l]=l-1;n[l]=n[l-1];N[l]=N[l-1]+1;for(y=l-2;y>=0;y--){u=v(Z,y,E(l,p),e,f.at2,C,r);
if(u){break}if(N[l]>N[y]+1||N[l]==N[y]+1&&n[l]>n[y]+e.Fu){D[l]=y;n[l]=n[y]+e.Fu;N[l]=N[y]+1;W[l]=e;e=new T}}}G=N[p];
J=new o(G);L=new Array(G);k=new Array(G);l=p;for(y=G-1;y>=0;y--){var eA=E(l,p),db=y*3+0<<1,js=eA*3+0<<1;
if(D[l]==l-1){J.pl[y]=P.pl[eA];J.b0[db]=P.b0[js];J.b0[db+1]=P.b0[js+1];J.b0[db+2]=P.b0[js+2];J.b0[db+3]=P.b0[js+3];
J.b0[db+4]=P.b0[js+4];J.b0[db+5]=P.b0[js+5];J.yj[y<<1]=P.yj[eA<<1];J.yj[(y<<1)+1]=P.yj[(eA<<1)+1];J.alpha[y]=P.alpha[eA];
J.zF[y]=P.zF[eA];J.wZ[y]=P.wZ[eA];L[y]=k[y]=1}else{J.pl[y]="CURVE";J.b0[db]=W[l].se;J.b0[db+1]=W[l].ov;
J.b0[db+2]=W[l].OZ;J.b0[db+3]=W[l].wC;J.b0[db+4]=P.b0[js+4];J.b0[db+5]=P.b0[js+5];J.yj[y<<1]=A(W[l].ZO,P.b0[js+4],a[eA<<1]);
J.yj[(y<<1)+1]=A(W[l].ZO,P.b0[js+5],a[(eA<<1)+1]);J.alpha[y]=W[l].alpha;J.zF[y]=W[l].alpha;L[y]=W[l].ZO;
k[y]=W[l].xu}l=D[l]}for(y=0;y<G;y++){B=E(y+1,G);J.wZ[y]=L[y]/(L[y]+k[B])}J.a8n=1;Z.tw=J}for(var y=0;
y<z.length;y++){var Z=z[y];h(Z);x(Z);F(Z);X(Z);V(Z);if(f.aq7)U(Z)}}return{a3y:Y,a69:c}}();c_.Xf=function(K,o,Y,c){var z={ib:"minority",au4:c,aq7:!0,alc:1,at2:.2},f=c_.a3y(K,o,Y,z);
c_.a69(f,z);return f};c_.dK=function(K){var o=[];for(var y=0;y<K.length;y++){var Y=K[y],c=Y.tw,z=["M"],f=[c.b0[(c.ML-1)*6+4],c.b0[(c.ML-1)*6+5]];
for(var $=0;$<c.ML;$++){var E=$*6;if(c.pl[$]==1){z.push("C");for(var b=0;b<6;b++)f.push(c.b0[E+b])}else if(c.pl[$]==0){z.push("L");
for(var b=2;b<4;b++)f.push(c.b0[E+b])}}z.push("Z");o.push({parent:Y.parent,color:Y.color,path:{z:f,G:z}})}return o};
c_.tm=function(K,o,Y){var h4=K.length>>1,c,z=K[2*h4-3]-Y,f=K[2*h4-2]-o,$=K[2*h4-1]-Y,E=$>z,b=0;for(var y=0;
y<h4;y++){c=f;z=$;f=K[2*y]-o;$=K[2*y+1]-Y;if(z==$)continue;E=$>z}for(var y=0;y<h4;y++){c=f;z=$;f=K[2*y]-o;
$=K[2*y+1]-Y;if(z<0&&$<0)continue;if(z>0&&$>0)continue;if(c<0&&f<0)continue;if(z==$&&Math.min(c,f)<=0)return!0;
if(z==$)continue;var q=c+(f-c)*-z/($-z);if(q==0)return!0;if(q>0)b++;if(z==0&&E&&$>z)b--;if(z==0&&!E&&$<z)b--;
E=$>z}return(b&1)==1};c_.fill=function(K,o,Y,c){var z=o[K],f=[K],$=0;while($<f.length){var E=f[$];$++;
o[E]=c;if(o[E-Y]==z){f.push(E-Y);o[E-Y]=254}if(o[E-1]==z){f.push(E-1);o[E-1]=254}if(o[E+1]==z){f.push(E+1);
o[E+1]=254}if(o[E+Y]==z){f.push(E+Y);o[E+Y]=254}}};var bA=function(){function K(E){return Math.max(0,Math.min(1,E))}function o(E,b){var q=b<0?-b:b;
if(E>1)E=.99;E=E*.99;var O=Math.pow(q/5,.16),j=Math.pow(2,q<1?q:1+(q-1)*.8);if(b<0)j=1/j;E=O*(1-Math.pow(1-E,j))+(1-O)*E;
return E}function Y(E,b){var q=b/100;E=E*.99;E=q*(.5-.5*Math.cos(E*Math.PI))+(1-q)*E;return E}var c=d.tb.a6V(1,1,1,-.3),z=d.tb.oD(c);
function f(E,b,q,O,j,A,R){var g=E[q],H=E[q+1],i=E[q+2],h=d.tb.Le(c,[g,H,i,1]);g=h[0];H=h[1];i=h[2];g=o(g,O);
H=o(H,O);i=o(i,O);var h=d.tb.Le(z,[g,H,i,1]);g=h[0];H=h[1];i=h[2];g=K(g);H=K(H);i=K(i);g=Y(g,j);H=Y(H,j);
i=Y(i,j);var x=kg.acs(g,H,i,A);g=x[0];H=x[1];i=x[2];g=K(g);H=K(H);i=K(i);if(R){var F=new Uint8Array(4);
F[0]=~~(.5+g*255);F[1]=~~(.5+H*255);F[2]=~~(.5+i*255);jh.kf(R,F,F,new hD(0,0,1,1));g=F[0]/255;H=F[1]/255;
i=F[2]/255}b[q]=g;b[q+1]=H;b[q+2]=i}function $(E,b,q,O,j,A){var R=j.Temp?j.Temp.v:0,g=j.Tint?j.Tint.v:0,H=j.Ex12?j.Ex12.v:0,i=j.Cr12?j.Cr12.v:0,h=j.Vibr?j.Vibr.v:0,x=j.Strt?j.Strt.v:0,F=kg.P_(R,g),X=null;
H+=F.ax0;if(h!=0||x!=0)X=jh.GA("vibA",{Strt:j.Strt,vibrance:j.Vibr});var V=Date.now();if(A){var U=Math.pow(2,H),Z=E.length;
H=0;var T=new Float32Array(4e3);for(var y=0;y<4e3;y++){var v=y*(1/1e3);v=d.db(v);v*=U;v=d.RU(v);v=K(v);
T[y]=v}for(var y=0;y<Z;y+=3){O[y]=T[~~(E[y]*1e3)];O[y+1]=T[~~(E[y+1]*1e3)];O[y+2]=T[~~(E[y+2]*1e3)]}console.log(Date.now()-V,"Exposure normalizing");
V=Date.now()}else O.set(E);if(H!=0||i!=0||R!=0||g!=0||X){var P=17,p=1/(P-1),a=P*P*P,D=new Array(a*3);
for(var n=0;n<P;n++)for(var N=0;N<P;N++)for(var W=0;W<P;W++){var y=n*P*P+N*P+W,G=y*3;D[G]=n*p;D[G+1]=N*p;
D[G+2]=W*p}for(var y=0;y<a;y++)f(D,D,y*3,H,i,F,X);console.log(Date.now()-V,"making LUT");V=Date.now();
ICC.U.applyLUTFloat(D,P,O,O);console.log(Date.now()-V,"applying LUT");V=Date.now()}}return $}();function hn(){}hn.qz=function(K,o){var Y=new Uint8Array(K),c=0,z=o.split("/").pop().split(".")[0];
function f(i){for(var y=0;y<i.length;y++)i[y].v.Nm.v=z+"/"+i[y].v.Nm.v.split("/").pop()}var $={IC:[],$H:[],list:[]},E=_.vP(Y,c);
c+=2;if(E<=2){$=hn.azf(Y);f($.list);return $}var b=_.vP(Y,c);c+=2;var q=_.H9(Y,c,8);c+=8;var O=_.s(Y,c);
c+=4;if(O>0)$.IC=hn.a50(Y,c,O,b,E);c+=O;var j=_.H9(Y,c,8);c+=8;var A=_.s(Y,c);c+=4;if(A>0)$.$H=ed.UE(Y,c,A);
c+=A;var R=_.H9(Y,c,8);c+=8;var g=_.s(Y,c);c+=4;if(g>0){var H={};dI.kY(Y,H,c+4);$.list=H.Brsh.v}c+=g;
var i=$.list;for(var y=0;y<i.length;y++){iO.fQ.check(i[y].v)}f(i);return $};hn.eB=function(K,o){K.v.Nm.v=o};
hn.azf=function(K){var o={IC:[],$H:[],list:[]},Y=0,c=_.vP(K,Y);Y+=2;var z=_.vP(K,Y);Y+=2;for(var y=0;
y<z;y++){var f=_.vP(K,Y);Y+=2;var $=_.s(K,Y);Y+=4;var E=Y;if(f==2){var b={};o.IC.push(b);var q=_.s(K,E);
E+=4;var O=_.vP(K,E);E+=2;if(c==2){var j=_.mN(K,E);E+=4+j.length*2+2}b.id=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";
E++;E+=8;b.oJ=_.p1(K,E);E+=16;var A=_.vP(K,E);E+=2;var R=K[E];E++;var g=e7.i0(!1,A,K,b.oJ.m,b.oJ.e,E,R);
hn.awr(b,g);var H=iO.EL(b.id),i=H.Brsh.v;i.Dmtr.v.val=b.oJ.m;i.Spcn.v.val=O;o.list.push({t:"Objc",v:H})}Y+=$}return o};
hn.lW=function(K){var o=new jQ,Y=0,c=0;_.z1(o,Y,6);Y+=2;_.z1(o,Y,2);Y+=2;var z={},f=[],$={},E=[];for(var y=0;
y<K.list.length;y++){var b=K.list[y].v,q=b.Brsh.v;if(q.classID=="sampledBrush")z[q.sampledData.v]=!0;
if(b.Txtr)$[b.Txtr.v.Idnt.v]=!0}for(var y=0;y<K.IC.length;y++)if(z[K.IC[y].id])f.push(K.IC[y]);for(var y=0;
y<K.$H.length;y++)if(z[K.$H[y].id])E.push(K.$H[y]);_.cK(o,Y,"8BIMsamp");Y+=8;Y+=4;c=Y;Y=hn.a1D(o,Y,f);
_.kp(o,c-4,Y-c);_.cK(o,Y,"8BIMpatt");Y+=8;Y+=4;c=Y;Y=ed.yz(o,Y,E);_.kp(o,c-4,Y-c);var O=JSON.parse(JSON.stringify(K.list));
for(var y=0;y<O.length;y++)O[y].v.Nm.v=O[y].v.Nm.v.split("/").pop();var j={classID:"null",Brsh:{t:"VlLs",v:O}};
_.cK(o,Y,"8BIMdesc");Y+=8;Y+=4;c=Y;_.kp(o,Y,16);Y+=4;Y+=dI.Yw(o,j,Y);_.kp(o,c-4,Y-c);return o.data.slice(0,Y).buffer};
hn.a50=function(K,o,Y,c,z){var f=_.s,$=_.p1,E=o+Y,b=[];while(o<E){var q={};b.push(q);var O=f(K,o);o+=4;
var j=o,A=_.Cg(K,o);o+=A.length;q.id=A.kS;if(c==1){o+=9;q.oJ=$(K,o);o+=16}else{o+=7;var R=f(K,o);o+=4;
q.oJ=$(K,o);o+=16;var g=f(K,o);o+=4;o+=g*4;var H=f(K,o);o+=4;var i=f(K,o);o+=4;var h=$(K,o);o+=16}var x=_.vP(K,o);
o+=2;var F=K[o];o+=1;var X=e7.i0(!1,x,K,q.oJ.m,q.oJ.e,o,F);hn.awr(q,X);if(O%4!=0)O+=4-O%4;o=j+O}return b};
hn.awr=function(K,o){var Y=K.oJ.clone();Y.x=Y.y=0;K.JN=[o,Y]};hn.a1D=function(K,o,Y){var c=_.kp,z=_.Uk;
for(var y=0;y<Y.length;y++){var f=Y[y],$=o+4,b=56,O=1;o+=4;_.UF(K,o,f.id);o+=f.id.length+2;K.d7(o,1);
K.data[o]=1;o+=3;c(K,o,3);o+=4;var E=o;o+=4;z(K,o,f.oJ);o+=16;c(K,o,b);o+=4;o+=b*4;c(K,o-4,1);var q=o;
o+=4;c(K,o,8);o+=4;z(K,o,f.oJ);o+=16;_.z1(K,o,8);o+=2;K.d7(o,1);K.data[o]=O;o++;var j=f.JN[0];K.d7(o,f.oJ.Z()*2);
o=e7.bU(!1,j,K.data,f.oJ.m,f.oJ.e,o,O);K.d7(o,8);o+=8;var A=o-$;c(K,$-4,A);c(K,E,A-49);c(K,q,A-305);
if(A%4!=0)o+=4-A%4}return o};function fK(){}fK.qz=function(K,o){var Y=new Uint8Array(K),c=[],z=0,f=_.vP(Y,z);
z+=2;if(f!=4){throw"Unknown version of curves: "+f}var $=_.vP(Y,z);z+=2;for(var y=0;y<$;y++){var E=fK.a7h(Y,z);
z+=2+2*E.length;c.push(E)}if(z!=Y.length){var b=_.H9(Y,z,4);z+=4;var q=_.vP(Y,z);z+=2;var O=_.vP(Y,z);
z+=2;if(O!=0)throw"extra curves for channels"}var j=fK.ap4(c,0);j.presetKind={t:"long",v:3};j.presetFileName={t:"TEXT",v:o.split("/").pop().split(".")[0]};
return[j]};fK.GS=function(K,o,Y){var c=o,z=[],f=K[o];o+=3;var $=_.s(K,o);o+=4;for(var y=0;y<4;y++){var E=$>>>y&1;
if(E){if(f==0){var b=fK.a7h(K,o);o+=2+2*b.length}else{var b=fK.a3N(K,o);o+=256}z.push(b)}else z.push(f==0?[0,0,255,255]:fK.aqE())}var q=fK.ap4(z,f);
return q};fK.ap4=function(K,o){var Y=fn.Ta("curv");for(var y=0;y<4;y++){if(o==0){var c=K[y],z=[];for(var f=0;
f<c.length;f+=2)z.push(d.nA.JK(c[f],c[f+1],!0));fK.ef(Y,y,z)}else fK.ef(Y,y,K[y])}return Y};fK.nJ=function(K,o,Y){var c=[];
for(var y=0;y<4;y++){var z=fK.Yb(Y,y);if(z.length==256)c.push(z);else{var f=[];for(var $=0;$<z.length;
$++)f.push(z[$].v.Hrzn.v,z[$].v.Vrtc.v);c.push(f)}}var E=o,b=c[0].length==256?1:0;K.d7(o,3);K.data[o]=b;
K.data[o+1]=0;K.data[o+2]=1;o+=3;_.kp(K,o,15);o+=4;for(var y=0;y<4;y++){var q=c[y];if(b==0){fK.a9Q(K,o,q);
o+=2+2*q.length}else{fK.aCS(K,o,q);o+=256}}return o-E};fK.aqE=function(){var K=[];for(var y=0;y<256;
y++)K.push(y);return K};fK.ef=function(K,o,Y){var c=jz.xT("CrvA",o);if(Y.length<256)c.Crv={t:"VlLs",v:Y};
else{c.Mpng={t:"VlLs",v:[]};for(var y=0;y<256;y++)c.Mpng.v[y]={t:"long",v:Y[y]}}c={t:"Objc",v:c};var z=K.Adjs.v,f=jz.BO(z,o);
if(f==-1)z.push(c);else z[f]=c};fK.Yb=function(K,o){var Y=K.Adjs.v,c=jz.BO(Y,o);if(c==-1){if(Y.length==0||Y[0].v.Crv)return[d.nA.JK(0,0,!0),d.nA.JK(255,255,!0)];
if(Y[0].v.autoMachineLearning||Y[0].v.AuCo)return[d.nA.JK(0,0,!0),d.nA.JK(128,160,!0),d.nA.JK(255,255,!0)];
var z=[];for(var y=0;y<256;y++)z.push(y);return z}var f=Y[c].v;if(f.Crv)return f.Crv.v;if(f.Mpng){var z=[];
for(var y=0;y<256;y++)z.push(f.Mpng.v[y].v);return z}return[d.nA.JK(0,0,!0),d.nA.JK(255,255,!0)]};fK.a7h=function(K,o){var Y=[],c=_.vP(K,o);
o+=2;for(var z=0;z<c;z++){var f=_.vP(K,o);o+=2;var $=_.vP(K,o);o+=2;Y.push($,f)}return Y};fK.a9Q=function(K,o,Y){var c=Y.length/2;
_.z1(K,o,c);o+=2;for(var z=0;z<c;z++){_.z1(K,o,Y[z*2+1]);o+=2;_.z1(K,o,Y[z*2+0]);o+=2}};fK.a3N=function(K,o){var Y=[];
for(var y=0;y<256;y++)Y.push(K[o+y]);return Y};fK.aCS=function(K,o,Y){K.d7(o,256);for(var y=0;y<256;
y++)K.data[o+y]=Y[y]};function bh(){}bh.GS=function(K,o,Y){var c={},z=_.vP(K,o);o+=2;c.uS=K[o]==1;o++;
o++;c.QV=[_.AK(K,o),_.AK(K,o+2),_.AK(K,o+4)];o+=6;c.ek=[_.AK(K,o),_.AK(K,o+2),_.AK(K,o+4)];o+=6;c.tn=[];
for(var y=0;y<6;y++){var f={};f.Wg=[_.AK(K,o),_.AK(K,o+2),_.AK(K,o+4),_.AK(K,o+6)];o+=8;f.kH=[_.AK(K,o),_.AK(K,o+2),_.AK(K,o+4)];
o+=6;c.tn.push(f)}var $=fn.Ta("hue2"),E=c;if($.Clrz==null)$.Clrz={t:"bool",v:!1};$.Clrz.v=E.uS;for(var y=0;
y<7;y++){var b=y==0?E.uS?E.QV:E.ek:E.tn[y-1];bh.ef($,y,b)}return $};bh.auv=function(K){return{classID:"Hst2",H:{t:"long",v:K[0]},Strt:{t:"long",v:K[1]},Lght:{t:"long",v:K[2]}}};
bh.BO=function(K,o){for(var y=0;y<K.length;y++){var Y=K[y].v.LclR;if(o==0&&Y==null||Y!=null&&Y.v==o)return y}return-1};
bh.ef=function(K,o,Y){var c=o==0?Y:Y.kH,z=bh.auv(c);if(o!=0){var f=Y.Wg;z.LclR={t:"long",v:o},z.BgnR={t:"long",v:f[0]};
z.BgnS={t:"long",v:f[1]};z.EndS={t:"long",v:f[2]};z.EndR={t:"long",v:f[3]}}z={t:"Objc",v:z};var $=K.Adjs.v,E=bh.BO($,o);
if(E==-1)$.push(z);else $[E]=z};bh.Yb=function(K,o){var Y=K.Adjs.v,c=bh.BO(Y,o);if(c==-1){if(o==0)return[0,0,0];
else return[{Wg:[315,345,15,45],kH:[0,0,0]},{Wg:[15,45,75,105],kH:[0,0,0]},{Wg:[75,105,135,165],kH:[0,0,0]},{Wg:[135,165,195,225],kH:[0,0,0]},{Wg:[195,225,255,285],kH:[0,0,0]},{Wg:[255,285,315,345],kH:[0,0,0]}][o-1]}var z=Y[c].v,f=[z.H.v,z.Strt.v,z.Lght.v];
if(o==0)return f;return{kH:f,Wg:[z.BgnR.v,z.BgnS.v,z.EndS.v,z.EndR.v]}};bh.nJ=function(K,o,Y){var c={uS:Y.Clrz?Y.Clrz.v:!1,tn:[]};
c.QV=c.ek=bh.Yb(Y,0);for(var y=1;y<7;y++)c.tn.push(bh.Yb(Y,y));var z=2+2+12+6*14,f=K.data;K.d7(o,z);
_.Lx(f,o,2);o+=2;f[o]=c.uS?1:0;o++;o++;_.Lo(f,o+0,c.QV[0]);_.Lo(f,o+2,c.QV[1]);_.Lo(f,o+4,c.QV[2]);o+=6;
_.Lo(f,o+0,c.ek[0]);_.Lo(f,o+2,c.ek[1]);_.Lo(f,o+4,c.ek[2]);o+=6;for(var y=0;y<6;y++){var $=c.tn[y].Wg,E=c.tn[y].kH;
_.Lo(f,o+0,$[0]);_.Lo(f,o+2,$[1]);_.Lo(f,o+4,$[2]);_.Lo(f,o+6,$[3]);o+=8;_.Lo(f,o+0,E[0]);_.Lo(f,o+2,E[1]);
_.Lo(f,o+4,E[2]);o+=6}return z};function jz(){}jz.qz=function(K){var o=new Uint8Array(K),Y=2,c=[];for(var y=0;
y<29;y++){var z=[];c.push(z);for(var f=0;f<5;f++)z.push(_.vP(o,Y+y*10+f*2))}Y+=29*10;if(Y<o.length){var $=_.H9(o,Y,4);
Y+=4;var E=_.vP(o,Y);Y+=2;var b=_.vP(o,Y);Y+=2;var q=b-29;for(var y=0;y<q;y++){var z=[];c.push(z);for(var f=0;
f<5;f++)z.push(_.vP(o,Y+y*10+f*2))}}var O=fn.Ta("levl");for(var y=0;y<4;y++)jz.ef(O,y,c[y]);return O};
jz.xT=function(K,y){var o=["Cmps","Rd","Grn","Bl"],Y={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[y]}}]};
return{classID:K,Chnl:Y}};jz.BO=function(K,o){var Y={Cmps:0,Rd:1,Grn:2,Bl:3};for(var y=0;y<K.length;
y++){var c=K[y].v,z=Y[c.Chnl.v[0].v.enum];if(z==o)return y}return-1};jz.ef=function(K,o,Y){var c=jz.xT("LvlA",o);
c.Inpt={t:"VlLs",v:[{t:"long",v:Y[0]},{t:"long",v:Y[1]}]};c.Otpt={t:"VlLs",v:[{t:"long",v:Y[2]},{t:"long",v:Y[3]}]};
c.Gmm={t:"doub",v:Y[4]/100};c={t:"Objc",v:c};var z=K.Adjs.v,f=jz.BO(z,o);if(f==-1)z.push(c);else z[f]=c};
jz.Yb=function(K,o){var Y=[0,255,0,255,100],c=K.Adjs.v,z=jz.BO(c,o);if(z==-1)return Y;var f=c[z].v;if(f.Inpt){Y[0]=f.Inpt.v[0].v;
Y[1]=f.Inpt.v[1].v}if(f.Otpt){Y[2]=f.Otpt.v[0].v;Y[3]=f.Otpt.v[1].v}if(f.Gmm){Y[4]=Math.round(f.Gmm.v*100)}return Y};
jz.lW=function(K,o){var Y=[],c=0;for(var y=0;y<4;y++)Y.push(jz.Yb(o,y));while(Y.length<29)Y.push([0,255,0,255,100]);
K.d7(0,2+10*29);_.Lx(K.data,c,2);c+=2;for(var y=0;y<29;y++){var z=Y[y];for(var f=0;f<5;f++)_.Lx(K.data,c+y*10+f*2,z[f])}c+=29*10;
if(Y.length==29)return c;K.d7(c,8+10*(Y.length-29));_.yH(K.data,c,"Lvls");c+=4;_.Lx(K.data,c,3);c+=2;
_.Lx(K.data,c,Y.length);c+=2;var $=Y.length-29;for(var y=0;y<$;y++){var z=Y[29+y];for(var f=0;f<5;f++)_.Lx(K.data,c+y*10+f*2,z[f])}c+=10*$;
return c};function bC(){}bC.qz=function(K,o){var Y=new Uint8Array(K),c=2,z=o.split("/").pop().split(".")[0],f={DL:[],sa:[]},$=_.H9(Y,c,4);
c+=4;var E=_.vP(Y,c);c+=2;var b=_.s(Y,c);c+=4;f.DL=ed.UE(Y,c,b);c+=b;var q=_.s(Y,c);c+=4;for(var y=0;
y<q;y++){var O=_.s(Y,c);c+=4;var j=c,A={A8:{},Ww:{}};f.sa.push(A);c+=4;c+=dI.kY(Y,A.A8,c);A.A8.Nm.v=z+"/"+A.A8.Nm.v.split("=").pop();
c+=4;c+=dI.kY(Y,A.Ww,c);c=j+O;var R=A.Ww.blendOptions,g=A.Ww.Lefx;if(R&&Object.keys(R.v).length>1){}if(g){if(g.v.masterFXSwitch==null)g.v.masterFXSwitch={t:"bool",v:!0};
kE.oG(g.v)}}return f};bC.eB=function(K,o){K.A8.Nm.v=o};bC.lW=function(K){var o=new jQ,Y=0;_.z1(o,Y,2);
Y+=2;_.cK(o,Y,"8BSL");Y+=4;_.z1(o,Y,3);Y+=2;var c=Y;Y+=4;Y=ed.yz(o,Y,K.DL);_.kp(o,c,Y-c-4);var z=K.sa.length;
_.kp(o,Y,z);Y+=4;for(var y=0;y<z;y++){Y+=4;var f=Y,$=K.sa[y];_.kp(o,Y,16);Y+=4;var E=$.A8.Nm.v;$.A8.Nm.v=$.A8.Nm.v.split("/").pop();
Y+=dI.Yw(o,$.A8,Y);$.A8.Nm.v=E;var b=$.Ww.Lefx;if(b){$.Ww.Lefx=JSON.parse(JSON.stringify(b));kE.aJ($.Ww.Lefx.v)}_.kp(o,Y,16);
Y+=4;Y+=dI.Yw(o,$.Ww,Y);if(b)$.Ww.Lefx=b;_.kp(o,f-4,Y-f)}return o.data.slice(0,Y).buffer};function hX(){}hX.GS=function(K,o,Y){var c=_.vP(K,o);
o+=2;var z={};z.H2=_.vP(K,o)==1;o+=2;z.j5=[];for(var y=0;y<10;y++){var f=[];z.j5.push(f);for(var $=0;
$<4;$++)f.push(_.AK(K,o+$*2));o+=8}var E=fn.Ta("selc");E.Mthd.v.CrcM=z.H2?"Absl":"Rltv";for(var y=1;
y<10;y++)hX.ef(E,y-1,z.j5[y]);return E};hX.B9="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
hX.xT=function(K,y){var o=["Cmps","Rd","Grn","Bl"],Y={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[y]}}]};
return{classID:K,Chnl:Y}};hX.BO=function(K,o){var Y=hX.B9;for(var y=0;y<K.length;y++){var c=K[y].v,z=Y.indexOf(c.Clrs.v.Clrs);
if(z==o)return y}return-1};hX.ef=function(K,o,Y){var c=["Cyn","Mgnt","Ylw","Blck"],z={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:hX.B9[o]}}};
for(var f=0;f<4;f++)z[c[f]]={t:"UntF",v:{type:"#Prc",val:Y[f]}};z={t:"Objc",v:z};var $=K.ClrC.v,E=hX.BO($,o);
if(E==-1)$.push(z);else $[E]=z};hX.Yb=function(K,o){var Y=[0,0,0,0],c=K.ClrC.v,z=hX.BO(c,o);if(z==-1)return Y;
var f=["Cyn","Mgnt","Ylw","Blck"];for(var y=0;y<4;y++)if(c[z].v[f[y]])Y[y]=c[z].v[f[y]].v.val;return Y};
hX.nJ=function(K,o,Y){var c={H2:Y.Mthd.v.CrcM=="Absl",j5:[[0,0,0,0]]};for(var y=0;y<9;y++)c.j5.push(hX.Yb(Y,y));
K.d7(o,84);_.Lx(K.data,o,1);o+=2;_.Lx(K.data,o,c.H2?1:0);o+=2;for(var y=0;y<10;y++){var z=c.j5[y];for(var f=0;
f<4;f++)_.Lo(K.data,o+f*2,z[f]);o+=8}return 84};function a_(){}a_.Ta=function(){return{BA:new hD(0,0,50,50),A8:"",gK:"play",$:d.j.OJ.NX([.1,.1,.9,.5,.1,.9],0)}};
a_.qz=function(K,o){K=new Uint8Array(K);var Y=0,c=[],z=o.split("/").pop().split(".")[0],f=Date.now(),$=_.H9(K,0,4);
Y+=4;var E=_.s(K,Y);Y+=4;var b=_.s(K,Y);Y+=4;for(var y=0;y<b;y++){var q=_.mN(K,Y);Y+=q.length*2+4+2;
if((q.length&1)==0)Y+=2;Y=a_.a1r(K,Y,q,c);c[y].gK=z+"/"+c[y].gK}return c};a_.a1r=function(K,o,Y,c){var z=_.s(K,o);
o+=4;var f=_.s(K,o);o+=4;var $=o,E=_.Cg(K,$).kS;$+=E.length+1;var b=_.p1(K,$);$+=16;var q=a_.tr(K,$,f-($-o)),O=d.j.ri(q),j=d.M.OA(O),A=1/j.m,R=1/j.e;
d.j.k3(q,new dF(A,0,0,R,-j.x*A,-j.y*R));c.push({gK:Y,A8:E,$:q,BA:b});o+=f;return o};a_.eB=function(K,o){K.gK=o};
a_.lW=function(K){var o=new jQ,Y=0;_.cK(o,Y,"cush");Y+=4;_.kp(o,Y,2);Y+=4;_.kp(o,Y,K.length);Y+=4;for(var y=0;
y<K.length;y++){var c=K[y],z=c.gK.split("/").pop()+"\0";_.tB(o,Y,z);Y+=4+z.length*2;if((z.length&1)==1)Y+=2;
_.kp(o,Y,1);Y+=4;Y+=4;var f=Y;_.UF(o,Y,c.A8);Y+=c.A8.length+1;_.Uk(o,Y,c.BA);Y+=16;o.d7(Y,c.$.length*26);
a_.eC(o.data,Y,c.$,1,1);Y+=c.$.length*26;var $=Y-f;if(($&3)!=0)$+=4-($&3);_.kp(o,f-4,$);Y=f+$}return o.data.slice(0,Y).buffer};
a_.aBx=function(K){var o=[];for(var y=0;y<K.length;y++){var Y=K[y],c=Y.type,z={type:c};o.push(z);if(c==6){}else if(c==8)z.all=Y.all;
else if(c==0||c==3){z.length=Y.length;z.frule=Y.fa;z.third=Y.VB;z.prmA=Y.JV;z.prmB=Y.XT}else{z.c=[Y.KK.x,Y.KK.y,Y.P.x,Y.P.y,Y.eb.x,Y.eb.y]}}return o};
a_.asJ=function(K){var o=[];for(var y=0;y<K.length;y++){var Y=K[y],c=Y.type,z={type:c};o.push(z);if(c==6){}else if(c==8)z.all=Y.all;
else if(c==0||c==3){z.length=Y.length;z.fa=Y.frule;z.VB=Y.third;z.JV=Y.prmA;z.XT=Y.prmB}else{var f=Y.c;
z.KK=new jc(f[0],f[1]);z.P=new jc(f[2],f[3]);z.eb=new jc(f[4],f[5])}}return o};a_.tr=function(K,o,Y,c,z){if(c==null)c=1;
if(z==null)z=1;function f(H,i,h){var x=_.avc(H,i)*h,F=Math.round(x);return Math.abs(x-F)<1e-6?F:x}var $=_.AK,E=[],b=Math.floor(Y/26);
for(var y=0;y<b;y++){var q=o+y*26,O={},j=0;E.push(O);O.type=$(K,q);q+=2;if(O.type==6){j=24}if(O.type==8){O.all=$(K,q);
q+=2;j=22}if(O.type==0||O.type==3){O.length=$(K,q);q+=2;O.fa=$(K,q);q+=2;O.VB=$(K,q);q+=2;O.JV=_.s(K,q);
q+=4;O.XT=_.s(K,q);q+=4;j=10}if(O.type==1||O.type==2||O.type==4||O.type==5){var A,R;R=f(K,q,z);q+=4;
A=f(K,q,c);q+=4;O.KK=new jc(A,R);R=f(K,q,z);q+=4;A=f(K,q,c);q+=4;O.P=new jc(A,R);R=f(K,q,z);q+=4;A=f(K,q,c);
q+=4;O.eb=new jc(A,R);j=0}for(var g=0;g<j;g++)if(K[q+g]!=0){console.log("Unexpected non-zero byte!",O,g,K[q+g])}}return E};
a_.eC=function(K,o,Y,c,z){var f=_.Lo,$=_.a8m,E=Y.length;for(var y=0;y<E;y++){var b=o+y*26,q=Y[y];f(K,b,q.type);
b+=2;if(q.type==6){}if(q.type==8)f(K,b,q.all);if(q.type==0||q.type==3){f(K,b,q.length);b+=2;f(K,b,q.fa);
b+=2;f(K,b,q.VB);b+=2}if(q.type==1||q.type==2||q.type==4||q.type==5){$(K,b,q.KK.y/z);b+=4;$(K,b,q.KK.x/c);
b+=4;$(K,b,q.P.y/z);b+=4;$(K,b,q.P.x/c);b+=4;$(K,b,q.eb.y/z);b+=4;$(K,b,q.eb.x/c);b+=4}}};function fl(){}fl.qz=function(K){var o=new Uint8Array(K),Y=[],c=0;
if(_.H9(o,0,4)=="ASEF")Y=fl.ahs(o);else{c=fl.aae(o,c,Y);if(c+3<o.length){Y=[];c=fl.aae(o,c,Y)}}return Y};
fl.ahs=function(K){var o=[],Y=8,c=_.s(K,Y),z,f=null,$,E,b,q;Y+=4;for(var O=0;O<c;O++){var j=_.vP(K,Y);
Y+=2;var A=_.s(K,Y);Y+=4;var R=Y+A;if(j==49153||j==1){var g=_.vP(K,Y);Y+=2;var H=_.k$(K,Y,g-1);Y+=g*2;
if(j==1)z=H;else f=H}if(j==1){var i=_.H9(K,Y,4);Y+=4;$=_.$T(K,Y);Y+=4;E=_.$T(K,Y);Y+=4;b=_.$T(K,Y);Y+=4;
if(i=="RGB "){}else if(i=="CMYK"){q=_.$T(K,Y);Y+=4;var h=UDOC.C.cmykToRgb([$,E,b,q]);$=h[0];E=h[1];b=h[2]}else alert("Unknown color space: "+i);
o.push({o:$*255,A:E*255,J:b*255,AO:(f?f+" : ":"")+z})}Y=R}return o};fl.aae=function(K,o,Y){var c=_.vP,z=_.AK,f=c(K,o);
o+=2;var $=c(K,o);o+=2;for(var y=0;y<$;y++){var E=fl.gP(K,o);o+=10;if(f==2){E.AO=_.mN(K,o);o+=4+E.AO.length*2+2}Y.push(E)}return o};
fl.gP=function(K,o){var Y=_.vP,c=_.AK,z=Y(K,o),R=null;o+=2;var f=Y(K,o);o+=2;var $=Y(K,o);o+=2;var E=Y(K,o);
o+=2;var b=Y(K,o);o+=2;var q=1/65535,O=255/65535,j=100/65535,A=255/1e4;if(z==0)R={o:f*O,A:$*O,J:E*O};
else if(z==1){R=d.xg(f*q,$*q,E*q);R.o*=255;R.A*=255;R.J*=255}else if(z==2)R=d.H.CK({classID:"CMYC",Cyn:{t:"doub",v:100-f*j},Mgnt:{t:"doub",v:100-$*j},Ylw:{t:"doub",v:100-E*j},Blck:{t:"doub",v:100-b*j}});
else if(z==7){var g=d.ui(f/100,c(K,o-6)/100,c(K,o-4)/100);R=g}else if(z==8){R={o:255-f*A,A:255-$*A,J:255-E*A}}else if(z==18){var H=255*f/16384;
R={o:H,A:H,J:H}}else{throw z}return R};fl.lW=function(K){var o=new jQ,Y=0,c=_.z1;c(o,Y,2);Y+=2;c(o,Y,K.length);
Y+=2;for(var y=0;y<K.length;y++){var z=K[y];o.d7(Y,10);fl.W8(o.data,Y,z);Y+=10;var f=(z.AO?z.AO:"")+"\0";
_.tB(o,Y,f);Y+=4+f.length*2}return o.data.slice(0,Y).buffer};fl.eB=function(K,o){K.AO=o};fl.W8=function(K,o,Y){var c=65535/255,z=_.Lx;
z(K,o,0);z(K,o+2,Math.round(Y.o*c));z(K,o+4,Math.round(Y.A*c));z(K,o+6,Math.round(Y.J*c));z(K,o+8,0)};
function i_(){}i_.qz=function(K){var o=new Uint8Array(K),Y=4,c={};c.Mx=_.mN(o,Y);Y+=4+c.Mx.length*2+2;
c.exp=o[Y++]==1;c.k6=[];var z=_.s(o,Y);Y+=4;for(var y=0;y<z;y++){var f={};c.k6.push(f);f.UQ=_.vP(o,Y);
Y+=2;f.shift=o[Y++]==1;f.a2T=o[Y++]==1;f.color=_.vP(o,Y);Y+=2;f.Mx=_.mN(o,Y);Y+=4+f.Mx.length*2+2;f.exp=o[Y++]==1;
f.k6=[];var $=_.s(o,Y);Y+=4;for(var E=0;E<$;E++){var b={};f.k6.push(b);b.exp=o[Y++]==1;b.u=o[Y++]==1;
b.aCu=o[Y++]==1;b.ao8=o[Y++];var q=_.H9(o,Y,4);Y+=4;if(q=="TEXT"){b.Rk=i_.ad5(o,Y);Y+=4+b.Rk.length}else if(q=="long"){b.Rk=_.H9(o,Y,4);
Y+=4}else throw"e";b.ip=i_.ad5(o,Y);Y+=4+b.ip.length;var O=_.LM(o,Y);Y+=4;if(O==-1){b.jU={};var j=dI.kY(o,b.jU,Y);
Y+=j}}}console.log(c);var A=new Uint8Array(i_.lW(c));for(var y=0;y<A.length;y++)if(A[y]!=o[y]&&_.H9(o,y+1,4)!="None"){console.log(o.length,A.length);
var R=4*(y>>>2)-16;console.log(_.GD(o,R,64));console.log(_.GD(A,R,64));console.log(o.slice(R,R+64));
console.log(A.slice(R,R+64));throw"i"}return[c]};i_.ad5=function(K,o){var Y=_.s(K,o);return _.H9(K,o+4,Y)};
i_.aaQ=function(K,o,Y){_.kp(K,o,Y.length);_.cK(K,o+4,Y)};i_.lW=function(K){var o=new jQ,Y=0;_.kp(o,Y,16);
Y+=4;_.tB(o,Y,K.Mx+"\0");Y+=4+K.Mx.length*2+2;o.d7(Y,1);o.data[Y++]=K.exp?1:0;var c=K.k6.length;_.kp(o,Y,c);
Y+=4;for(var y=0;y<c;y++){var z=K.k6[y];_.z1(o,Y,z.UQ);Y+=2;o.d7(Y,2);o.data[Y++]=z.shift?1:0;o.data[Y++]=z.a2T?1:0;
_.z1(o,Y,z.color);Y+=2;_.tB(o,Y,z.Mx+"\0");Y+=4+z.Mx.length*2+2;o.d7(Y,1);o.data[Y++]=z.exp?1:0;var f=z.k6.length;
_.kp(o,Y,f);Y+=4;for(var $=0;$<f;$++){var E=z.k6[$];o.d7(Y,4);o.data[Y++]=E.exp?1:0;o.data[Y++]=E.u?1:0;
o.data[Y++]=E.aCu?1:0;o.data[Y++]=E.ao8;var b="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(E.Rk)!=-1;
_.cK(o,Y,b?"long":"TEXT");Y+=4;if(!b){i_.aaQ(o,Y,E.Rk);Y+=4+E.Rk.length}else{_.cK(o,Y,E.Rk);Y+=4}i_.aaQ(o,Y,E.ip);
Y+=4+E.ip.length;_.sr(o,Y,E.jU?-1:0);Y+=4;if(E.jU){var q=dI.Yw(o,E.jU,Y);Y+=q}}}return o.data.slice(0,Y).buffer};
function hR(){}hR.qz=function(K){var o=new Uint8Array(K),Y=0,c=_.s(o,Y),b;Y+=4;var z=_.H9(o,Y,8);Y+=8;
var f=_.rT(o,Y);Y+=4;var $=_.rT(o,Y);Y+=4;var E=_.rT(o,Y);Y+=4;if(c==2){b=new Float32Array(K,32,K.byteLength-32>>>2)}else if(c==3||c==4){b=new Float32Array($*E*2);
var q=0,O=0,j=!0;Y=c==3?32:16+8+40;while(Y<o.length){var A=_.rT(o,Y);Y+=4;if(j)O+=A;else{for(var y=0;
y<A;y++){b[q+O+y<<1]=_.dS(o,Y);b[(q+O+y<<1)+1]=_.dS(o,Y+4);Y+=8}O+=A}j=!j;if(A!=0&&O==$){q+=$;O=0;j=!0;
if(q==$*E)break}}}else throw"unknown Mesh version: "+c;return{Fv:$,jd:E,map:b}};hR.ol=function(K){var o=K.Fv,Y=K.jd,c=K.map,z=new Uint8Array(32+Y*o*8+Y*8),f=0,$=0;
_.oM(z,f,3);f+=4;_.yH(z,f,"yfqLhseM");f+=8;_.Ji(z,f,2);f+=4;_.Ji(z,f,o);f+=4;_.Ji(z,f,Y);f+=4;_.Ji(z,f,0);
f+=4;_.Ji(z,f,1);f+=4;for(var E=0;E<Y;E++){_.Ji(z,f,0);f+=4;_.Ji(z,f,o);f+=4;for(var b=0;b<o;b++){_.jV(z,f,c[$]);
_.jV(z,f+4,c[$+1]);$+=2;f+=8}}return z.buffer};function bP(){}bP.qz=function(K){var o=new Uint8Array(K),Y=0,c=_.H9(o,Y,4);
Y+=4;var z=_.vP(o,Y);Y+=2;var f=_.s(o,Y);Y+=4;var $=[];for(var y=0;y<f;y++){var E=_.s(o,Y);Y+=4;var b={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
$.push(b);var q=_.mN(o,Y);b.Nm.v=q;Y+=4+q.length*2+2;var O=_.vP(o,Y);Y+=2;var j=_.vP(o,Y);Y+=2;for(var A=0;
A<j;A++){var R=d.nA.JK(0,0,!0);R.v.Vrtc.v=_.vP(o,Y);Y+=2;R.v.Hrzn.v=_.vP(o,Y);Y+=2;b.Crv.v.push(R)}if(E==1){}else if(E==2){for(var A=0;
A<j;A++){b.Crv.v[A].v.Cnty.v=o[Y]==1;Y+=1}}else throw"error";var g=_.s(o,Y);Y+=4;var H=_.s(o,Y);Y+=4}return $};
bP.eB=function(K,o){K.Nm.v=o};bP.lW=function(K){var o=new jQ,Y=0;_.cK(o,Y,"8BFS");Y+=4;_.z1(o,Y,1);Y+=2;
_.kp(o,Y,K.length);Y+=4;for(var y=0;y<K.length;y++){_.kp(o,Y,2);Y+=4;var c=K[y];_.tB(o,Y,c.Nm.v+"\0");
Y+=4+c.Nm.v.length*2+2;_.z1(o,Y,2);Y+=2;var z=c.Crv.v.length;_.z1(o,Y,z);Y+=2;for(var f=0;f<z;f++){var $=c.Crv.v[f];
_.z1(o,Y,$.v.Vrtc.v);Y+=2;_.z1(o,Y,$.v.Hrzn.v);Y+=2}o.d7(Y,z);for(var f=0;f<z;f++){o.data[Y]=c.Crv.v[f].v.Cnty.v;
Y++}_.kp(o,Y,0);Y+=4;_.kp(o,Y,0);Y+=4}return o.data.slice(0,Y).buffer};function ed(){}ed.qz=function(K,o){var Y=new Uint8Array(K),c=4,z=o.split("/").pop().split(".")[0],f=_.vP(Y,c);
c+=2;var $=_.s(Y,c);c+=4;var E=[];for(var y=0;y<$;y++){var b={};E.push(b);c=ed.atc(Y,c,b);b.name=z+"/"+b.name.split("=").pop()}return E};
ed.eB=function(K,o){K.name=o};ed.lW=function(K){var o=new jQ,Y=0;_.cK(o,Y,"8BPT");Y+=4;_.z1(o,Y,1);Y+=2;
_.kp(o,Y,K.length);Y+=4;for(var y=0;y<K.length;y++){var c=K[y],z=c.name;c.name=c.name.split("/").pop();
Y=ed.a1y(o,Y,c);c.name=z}return o.data.slice(0,Y).buffer};ed.UE=function(K,o,Y){var c=o+Y,z=[];while(o<c){var f={},$=_.s(K,o);
o+=4;var E=o;o=ed.atc(K,o,f);if(!f.JN[1].xf())z.push(f);if($%4!=0)$+=4-$%4;o=E+$}return z};ed.yz=function(K,o,Y){for(var y=0;
y<Y.length;y++){var c=Y[y];o+=4;var z=o;o=ed.a1y(K,o,c);var f=o-z;_.kp(K,z-4,f);if(f%4!=0)z+=4-f%4;o=z+f}return o};
ed.atc=function(K,o,Y){var c=_.s(K,o);o+=4;if(c!=1)alert("Unknown version of pattern");var z=_.s(K,o);
o+=4;if(z!=1&&z!=2&&z!=3)console.log("Unsupported mode of pattern: "+z);var f=_.vP(K,o);o+=2;var $=_.vP(K,o);
o+=2;var E=new hD(0,0,$,f);Y.name=_.mN(K,o);o+=4+2*Y.name.length+2;var b=K[o];o++;Y.id=_.H9(K,o,b);o+=Y.id.length;
var q=-1;if(z==2){q=o;o+=3*256+4}var O=new d.ok($*f);o=ed.asO(K,o,O);if(z==2){for(var y=0;y<O.o.length;
y++){var j=3*O.o[y];O.o[y]=K[q+j+0];O.A[y]=K[q+j+1];O.J[y]=K[q+j+2]}}var A=d.R(E.Z()*4);d.vF(O,A);Y.JN=[A,E];
return o};ed.a1y=function(K,o,Y){var c=Y.JN[0],z=Y.JN[1];_.kp(K,o,1);o+=4;_.kp(K,o,3);o+=4;_.z1(K,o,z.e);
o+=2;_.z1(K,o,z.m);o+=2;_.tB(K,o,Y.name+"\0");o+=4+2*Y.name.length+2;_.bz(K,o,Y.id.length);o++;_.cK(K,o,Y.id);
o+=Y.id.length;var f=new d.ok(z.Z());d.w9(c,f);o=ed.alw(K,o,f,z);return o};ed.asO=function(K,o,Y){var c=o,z={oJ:null,v:[],azT:null,t3:null},f=_.s(K,o);
o+=4;var $=_.s(K,o);o+=4;z.oJ=_.p1(K,o);o+=16;var E=_.s(K,o);o+=4;for(var y=0;y<E+2;y++){var b=_.s(K,o);
o+=4;if(b==0)continue;var q=_.s(K,o);o+=4;if(q==0)continue;var O=_.s(K,o);o+=4;var j=_.p1(K,o);o+=16;
var A=_.vP(K,o);o+=2;var R=K[o];o++;var g=e7.i0(!1,O,K,j.m,j.e,o,R);if(y<E)z.v.push(g);if(y==E)z.azT=g;
if(y==E+1)z.t3=g;o+=q-23}if(!z.oJ.xf()){if(z.v[0])Y.o=z.v[0];if(z.v[1])Y.A=z.v[1];else Y.A=z.v[0].slice(0);
if(z.v[2])Y.J=z.v[2];else Y.J=z.v[0].slice(0);if(z.t3)Y.g=z.t3;else Y.g.fill(255)}return o};ed.alw=function(K,o,Y,c){var z=o,f={oJ:c,v:[Y.o,Y.A,Y.J],azT:null,t3:Y.g};
_.kp(K,o,3);o+=4;_.kp(K,o,0);o+=4;_.Uk(K,o,c);o+=16;_.kp(K,o,24);o+=4;for(var y=0;y<24+2;y++){var $=o,E=y<3||y==25?1:0;
_.kp(K,o,E);o+=4;if(E==0)continue;_.kp(K,o,0);o+=4;_.kp(K,o,8);o+=4;_.Uk(K,o,c);o+=16;_.z1(K,o,8);o+=2;
_.bz(K,o,1,1);o++;var b=y<3?f.v[y]:f.t3;K.d7(o,c.Z()+2);o=e7.bU(!1,b,K.data,c.m,c.e,o,1);_.kp(K,$+4,o-$-8)}_.kp(K,z+4,o-z-8);
return o};function ig(){}ig.qz=function(K,o){var Y=new Uint8Array(K),z=0;if(Y[0]==71)return ig.aq0(Y);
var c=o.split("/").pop().split(".")[0],f=_.H9(Y,z,4);z+=4;var $=_.vP(Y,z);z+=2;var E=[];if($<=3){var b=_.vP(Y,z);
z+=2;for(var y=0;y<b;y++){var q=Y[z++],O=_.H9(Y,z,q);z+=q;var j=ig.akr(Y,z,O),A=j[0];z=j[1];E.push(A)}}else{var j={},R=dI.kY(Y,j,z+4),g=j.GrdL.v;
for(var y=0;y<g.length;y++)E[y]=g[y].v.Grad.v}for(var y=0;y<E.length;y++){var H=E[y].Nm.v.split("/").pop().split("=").pop();
E[y].Nm.v=c+"/"+H}return E};ig.eB=function(K,o){K.Nm.v=o};ig.lW=function(K){var o=new jQ,Y=0;_.cK(o,Y,"8BGR");
Y+=4;_.z1(o,Y,5);Y+=2;_.kp(o,Y,16);Y+=4;var c={classID:"null",GrdL:{t:"VlLs",v:[]}},z=c.GrdL.v;for(var y=0;
y<K.length;y++){var f=JSON.parse(JSON.stringify(K[y]));f.Nm.v=f.Nm.v.split("/").pop();z[y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:f}}}}Y+=dI.Yw(o,c,Y);
return o.data.slice(0,Y).buffer};ig.akr=function(K,o,Y){var c={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:Y},Trns:{t:"VlLs",v:[]}},z=_.vP(K,o);
o+=2;if(z==0)throw"e";for(var y=0;y<z;y++){var f=_.s(K,o),$=_.s(K,o+4),E=fl.gP(K,o+8),b={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:E.o},Grn:{t:"doub",v:E.A},Bl:{t:"doub",v:E.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:f},Mdpn:{t:"long",v:$}}};
c.Clrs.v.push(b);o+=20}var q=_.vP(K,o);o+=2;for(var y=0;y<q;y++){var f=_.s(K,o),$=_.s(K,o+4),O=_.vP(K,o+8),b={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*O/255)}},Lctn:{t:"long",v:f},Mdpn:{t:"long",v:$}}};
c.Trns.v.push(b);o+=10}var j=_.vP(K,o);o+=2;c.Intr.v=j==2?_.vP(K,o):4096;o+=2;var A=_.vP(K,o);o+=2;return[c,o]};
ig.agw=function(K,o,Y){var c=Y.Clrs.v.length;_.z1(K,o,c);o+=2;for(var y=0;y<c;y++){var z=Y.Clrs.v[y];
_.kp(K,o,z.v.Lctn.v);_.kp(K,o+4,z.v.Mdpn.v);_.z1(K,o+8,0);var f=d.H.eD(d.H.CK(z.v.Clr.v)),$=[f.Rd.v,f.Grn.v,f.Bl.v,0];
for(var E=0;E<4;E++)_.z1(K,o+10+E*2,Math.round(65535*($[E]/255)));o+=20}var b=Y.Trns.v.length;_.z1(K,o,b);
o+=2;for(var y=0;y<b;y++){var z=Y.Trns.v[y];_.kp(K,o,z.v.Lctn.v);_.kp(K,o+4,z.v.Mdpn.v);_.z1(K,o+8,Math.round(255*z.v.Opct.v.val/100));
o+=10}_.z1(K,o,2);o+=2;_.z1(K,o,Y.Intr.v);o+=2;_.z1(K,o,32);o+=2;return o};ig.aq0=function(K){var o=_.DI(K,0,K.length).split("\n"),Y=parseFloat(o[2]),c=[],z=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]).Grad.v;
z.Intr.v=0;z.Nm.v=o[1];for(var y=0;y<Y;y++){var f=o[3+y].split(" ").map(parseFloat),$=f[11],E=f[12];
c.push([f[0],f.slice(3,6),f[6]]);if(E!=0){var b=d.Sc(f[3],f[4],f[5]),q=d.Sc(f[7],f[8],f[9]),O=b.jd,j=q.jd;
if(E==1&&O>j)j++;if(E==2&&O<j)O++;var A=Math.round(Math.abs(j-O)*7);if(A>1)for(var R=0;R<A;R++){var g=1-(R+1)/(A+1),H=1-g,i=d.xg(g*O+H*j,g*b.ZO+H*q.ZO,g*b.ii+H*q.ii);
c.push([g*f[0]+H*f[2],[i.o,i.A,i.J],g*f[6]+H*f[10]])}}c.push([f[2],f.slice(7,10),f[10]])}c.sort(function(h,x){return h[0]-x[0]});
d.H.zZ(c,z);return[z]};function hI(){}hI.qz=function(K){var o=new Uint8Array(K),Y=[],c=[],z=[],f=[],$=[],E=0,b=_.H9(o,E,4);
E+=4;var q=_.s(o,E);E+=4;var O=_.s(o,E);E+=4;while(E<o.length){var j=_.H9(o,E,4);E+=4;var A=_.H9(o,E,4);
E+=4;var R=_.s(o,E);E+=4;if(A=="tppa"){c=ed.UE(o,E,R);E+=R}else if(A=="tpbd"){z=hn.a50(o,E,R,1,1);E+=R}else if(A=="tptp"){var g=_.s(o,E);
E+=4;for(var y=0;y<g;y++){var H=_.mN(o,E);E+=6+H.length*2;E+=4;var i={};E+=dI.kY(o,i,E);Y.push([H,i])}while((E&3)!=0)E++}else if(A=="tpsh"){var h=E,x=o.slice(E,E+R);
while(E<h+R){var F=_.s(o,E);E+=4;E=a_.a1r(o,E,"Shape",f)}E=h+R}else if(A=="tpst"){var h=E;E+=4;while(E<h+R){var X=_.s(o,E);
E+=4;var V=E,U=_.s(o,E);E+=4;var i={A8:{},Ww:{}};$.push(i);E+=4;E+=dI.kY(o,i.A8,E);E+=4;E+=dI.kY(o,i.Ww,E);
E=V+X;var Z=i.Ww.Lefx;if(Z){if(Z.v.masterFXSwitch==null)Z.v.masterFXSwitch={t:"bool",v:!0};kE.oG(Z.v)}}E=h+R}else{console.log(o.slice(E-8,E+64));
console.log(_.H9(o,E-8,64));throw A}}return{IC:z,$H:c,list:Y,abu:f,sa:$}};hI.eB=function(K,o){K[0]=o};
hI.lW=function(K){var o=new jQ,Y=0;_.cK(o,Y,"8BTP");Y+=4;_.kp(o,Y,3);Y+=4;_.kp(o,Y,1);Y+=4;var c=[K.$H,K.IC,K.list];
for(var y=0;y<3;y++){if(c[y].length==0)continue;_.cK(o,Y,"8BIM");Y+=4;var z=["tppa","tpbd","tptp"][y];
_.cK(o,Y,z);Y+=4;var f=Y;Y+=4;if(z=="tppa"){Y=ed.yz(o,Y,K.$H)}else if(z=="tpbd"){Y=hn.a1D(o,Y,K.IC)}else if(z=="tptp"){_.kp(o,Y,K.list.length);
Y+=4;for(var $=0;$<K.list.length;$++){var E=K.list[$];_.tB(o,Y,E[0]+"\0");Y+=6+E[0].length*2;_.kp(o,Y,16);
Y+=4;Y+=dI.Yw(o,E[1],Y)}}_.kp(o,f,Y-f-4);while((Y&3)!=0)Y++;o.d7(Y,0)}return o.data.slice(0,Y).buffer};
function f1(){}f1.qz=function(K,o){var Y=new Uint8Array(K),c;if(_.s(Y,0)==Y.length)c="icc";else if(Y[0]=="<".charCodeAt(0))c="look";
else if(_.oR(Y,"LUT_3D_SIZE")!=-1)c="cube";else c="3DL";if(c!="icc"){var z=f1.a4S(Y,c),f=f1.ajR(z[0],z[1]);
Y=f}var $=[];for(var y=0;y<Y.length;y++)$.push(Y[y]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:o?o:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:$}}]};
f1.lW=function(K){var o=K[0],Y=new Uint8Array(o.profile.v);return Y.buffer};f1.eB=function(K,o){K.Nm.v=o};
f1.ajR=function(K,o){var Y=new jQ,c=128;Y.d7(0,128);var z=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var y=0;y<z.length;y++)Y.data[y]=z[y];var f=["desc","A2B0"],$=f.length,E=128+4+$*12;_.kp(Y,c,$);
c+=4;for(var b=0;b<$;b++){var q=f[b];_.cK(Y,c,q);c+=4;_.kp(Y,c,E);c+=4;var O=E;if(q=="desc"){_.cK(Y,O,"mluc");
O+=4;O+=4;_.kp(Y,O,1);O+=4;_.kp(Y,O,12);O+=4;_.cK(Y,O,"enUS");O+=4;var j="ICC by Photopea\0",A=j.length*2+2;
_.kp(Y,O,A);O+=4;_.kp(Y,O,28);O+=4;Y.d7(O,A);for(var y=0;y<j.length;y++)Y.data[O+y*2+1]=j.charCodeAt(y);
O+=A}if(q=="A2B0"){_.cK(Y,O,"mAB ");O+=4;O+=4;Y.d7(O,4);Y.data[O]=3;Y.data[O+1]=3;O+=4;Y.d7(O,4*5);O+=4*3;
_.kp(Y,O,O+8-E);O+=4;O+=4;Y.d7(O,20);Y.data[O]=K;Y.data[O+1]=K;Y.data[O+2]=K;O+=16;Y.data[O]=2;O+=4;
var R=K*K*K*3;Y.d7(O,R*2);for(var y=0;y<R;y++)_.Lx(Y.data,O+y*2,Math.max(0,Math.min(65535,Math.round(o[y]*65535))));
O+=R*2}var g=O-E;while((g&3)!=0)g++;_.kp(Y,c,g);c+=4;E+=g}_.kp(Y,0,E);return Y.data.slice(0,E)};f1.a4S=function(K,o){o="LUTFormat"+o.toUpperCase();
var Y=[],c=0,z=_.DI(K,0,K.length),f="";for(var y=0;y<K.length&&f=="";y++){if(K[y]==10)f="\n";else if(K[y]==13){f="\r";
if(K[y+1]==10)f+="\n"}}if(o=="LUTFormatCUBE"){var $=z.split(f);for(var y=0;y<$.length;y++){if($[y]==""||$[y][0]=="#")continue;
var E=$[y].split(" "),b=E[0];if(b=="LUT_3D_SIZE"){c=parseInt(E[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(b)!=-1)continue;
Y.push(parseFloat(E[0]),parseFloat(E[1]),parseFloat(E[2]))}Y=f1.aaz(c,Y)}else if(o=="LUTFormat3DL"){var $=z.split(f),q=1/4095;
for(var y=0;y<$.length;y++){var O=$[y];if(O==""||O=="3DMESH"||O.startsWith("Mesh")||O[0]=="#")continue;
var E=O.split(" "),b=E[0];if(c==0){c=E.length;continue}Y.push(parseFloat(E[0])*q,parseFloat(E[1])*q,parseFloat(E[2])*q)}}else if(o=="LUTFormatLOOK"){var j=new DOMParser,A=j.parseFromString(z,"text/xml"),R=A.getElementsByTagName("LUT")[0],g=R.children[0].textContent;
c=parseInt(JSON.parse(g));var H=R.children[1].textContent;H=H.replace(/"/g,"").replace(/\s/g,"");var i=3*c*c*c,h=i*4,x=new Uint8Array(h);for(var y=0;y<h;y++){var F=H.charCodeAt(y*2),X=H.charCodeAt(y*2+1),V=F<58?F-48:F-55,U=X<58?X-48:X-55;x[y]=(V<<4)+U}for(var y=0;y<i;y++)Y.push(_.dS(x,y<<2));Y=f1.aaz(c,Y)}else throw o;return[c,Y]};f1.aaa=function(K,o,Y){var c=["#Created by www.Photopea.com","TITLE \""+Y+"\"","","#LUT size","LUT_3D_SIZE "+o,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],z=6;
for(var y=0;y<K.length;y+=3){c.push(K[y].toFixed(z)+" "+K[y+1].toFixed(z)+" "+K[y+2].toFixed(z))}c.push("");
return _.tA(c.join("\n")).buffer};f1.aaz=function(K,o){var Y=[],c=K*K*K;for(var y=0;y<c;y++)Y.push(0,0,0);
for(var z=0;z<K;z++)for(var f=0;f<K;f++)for(var $=0;$<K;$++){var y=3*($+f*K+z*K*K),E=3*(z+f*K+$*K*K);
Y[E]=o[y];Y[E+1]=o[y+1];Y[E+2]=o[y+2]}return Y};function dI(){}dI.kY=function(K,o,Y,c,z){var f=Y,$;if(z==null)z=0;
var E=_.s(K,Y);if(E==0){$="";Y+=4}else{$=_.mN(K,Y);Y+=4+2*$.length+2}if($!="")o.__name=$;o.classID=dI.wT(K,Y);
if(c)console.log("\t".repeat(z),"- reading descriptor",o.classID,Y);Y+=dI.MK(K,Y);var b=_.LM(K,Y);Y+=4;
for(var y=0;y<b;y++){var q=dI.wT(K,Y);Y+=dI.MK(K,Y);var O=dI.avr(K,Y,c,z);o[q]=O;Y+=O.size;delete O.size}return Y-f};
dI.Yw=function(K,o,Y,c){var z=Y,f=o.__name;if(f==null)f="";f+="\0";_.tB(K,Y,f);Y+=4+2*f.length;dI.y4(K,Y,o.classID);
Y+=dI.MK(K.data,Y);_.sr(K,Y,Object.keys(o).length-1-(o.__name==null?0:1));Y+=4;for(var $ in o){if($=="classID")continue;
if($=="__name")continue;dI.y4(K,Y,$);Y+=dI.MK(K.data,Y);Y+=dI.a7Z(K,Y,o[$])}return Y-z};dI.avr=function(K,o,Y,c){var z=o,f=_.H9(K,o,4);
o+=4;var $={size:0,t:f,v:null};if(Y)console.log("\t".repeat(c),"reading key",f,z);switch(f){case"obj ":case"VlLs":$.v=[];
var E=_.s(K,o);o+=4;for(var y=0;y<E;y++){var b=dI.avr(K,o,Y,c+1);o+=b.size;delete b.size;$.v.push(b)}break;
case"UntF":$.v={type:_.H9(K,o,4),val:_.yy(K,o+4)};o+=12;break;case"doub":$.v=_.yy(K,o);o+=8;break;case"bool":$.v=K[o]==1;
o+=1;break;case"long":$.v=_.LM(K,o);o+=4;break;case"comp":$.v=_.LM(K,o+4);o+=8;break;case"Objc":$.v={};
var q=dI.kY(K,$.v,o,Y,c+1);o+=q;break;case"TEXT":var O=_.s(K,o);if(O==0){$.v="";o+=4}else{$.v=_.mN(K,o);
o+=4+$.v.length*2+2}break;case"enum":var j=dI.wT(K,o);o+=dI.MK(K,o);var A=dI.wT(K,o);o+=dI.MK(K,o);$.v={};
$.v[j]=A;break;case"tdta":var R=_.LM(K,o);o+=4;$.v=[];for(var y=0;y<R;y++)$.v.push(K[o+y]);o+=R;break;
case"ObAr":var g=_.s(K,o);o+=4;var H=_.mN(K,o);o+=4+2*H.length+2;if(H!="")throw H;var i=dI.wT(K,o);o+=4+Math.max(4,i.length);
$.v={classID:i,arr:[]};var h=_.s(K,o);o+=4;for(var y=0;y<h;y++){var i=dI.wT(K,o);o+=4+Math.max(4,i.length);
var j=_.H9(K,o,4);o+=4;var x=_.H9(K,o,4);o+=4;var F={id:i,type:j,uID:x,arr:[]};$.v.arr.push(F);var X=_.s(K,o,4);
o+=4;for(var V=0;V<X;V++){var U=_.yy(K,o);o+=8;F.arr.push(U)}}break;case"Pth ":var Z=o,R=_.s(K,o);o+=4;
var T=_.H9(K,o,4);o+=4;var v=_.rT(K,o);o+=4;var P=_.a2l(K,o);o+=4+P.length*2;$.v={sig:T,pth:P};break;
case"Clss":case"type":case"rele":var P=_.mN(K,o);o+=4+P.length*2+2;var p=dI.wT(K,o);o+=4+Math.max(4,p.length);
$.v={classID:p};if(P!="")$.v.__name=P;if(f=="rele"){$.v.val=_.LM(K,o);o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var a=dI.Kv[f],P=_.mN(K,o);
o+=4+P.length*2+2;if(P.length!=0){console.log(f,P);throw"e"}$.v={};for(var y=0;y<a.length;y++){var p=dI.wT(K,o);
o+=4+Math.max(4,p.length);$.v[a[y]]=p}if(f=="name"){var P=_.mN(K,o);o+=4+P.length*2+2;$.v.val=P}if(f=="indx"||f=="Idnt"){$.v.val=_.s(K,o);
o+=4}break;case"alis":var R=_.s(K,o);o+=4;$.v=_.H9(K,o,R);o+=R;break;default:{console.log("unknown oskey: "+f+", "+z);
throw"e";return $}}if(Y){console.log("\t".repeat(c),$.v);console.log("\t".repeat(c),"======",o)}$.size=o-z;
return $};dI.Kv={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
dI.a7Z=function(K,o,Y){var c=o,z=Y.t;Y=Y.v;_.cK(K,o,z);o+=4;switch(z){case"obj ":case"VlLs":_.sr(K,o,Y.length);
o+=4;for(var f=0;f<Y.length;f++){var $=dI.a7Z(K,o,Y[f]);o+=$}break;case"UntF":_.cK(K,o,Y.type);_.Vy(K,o+4,Y.val);
o+=12;break;case"doub":_.Vy(K,o,Y);o+=8;break;case"bool":_.bz(K,o,Y?1:0,1);o+=1;break;case"long":_.sr(K,o,Y);
o+=4;break;case"comp":_.sr(K,o+4,Y);o+=8;break;case"Objc":var $=dI.Yw(K,Y,o);o+=$;break;case"TEXT":_.tB(K,o,Y+"\0");
o+=4+Y.length*2+2;break;case"enum":var E=Object.keys(Y)[0],b=Y[E];dI.y4(K,o,E);o+=dI.MK(K.data,o);dI.y4(K,o,b);
o+=dI.MK(K.data,o);break;case"tdta":_.kp(K,o,Y.length);o+=4;_.Wf(K,o,Y);o+=Y.length;break;case"ObAr":_.kp(K,o,Y.arr[0].arr.length);
o+=4;_.tB(K,o,"\0");o+=6;dI.y4(K,o,Y.classID);o+=4+Math.max(4,Y.classID.length);_.kp(K,o,Y.arr.length);
o+=4;for(var y=0;y<Y.arr.length;y++){var q=Y.arr[y];dI.y4(K,o,q.id);o+=4+Math.max(4,q.id.length);_.cK(K,o,q.type);
o+=4;_.cK(K,o,q.uID);o+=4;_.kp(K,o,q.arr.length);o+=4;for(var f=0;f<q.arr.length;f++){_.Vy(K,o,q.arr[f]);
o+=8}}break;case"Pth ":var O=Y.pth.length*2+4+8;_.kp(K,o,O);o+=4;_.cK(K,o,Y.sig);o+=4;_.hG(K,o,O);o+=4;
_.a2u(K,o,Y.pth);o+=Y.pth.length*2+4;break;case"Clss":case"type":case"rele":var j=Y.__name;if(j==null)j="";
_.tB(K,o,j+"\0");o+=4+j.length*2+2;var A=Y.classID;dI.y4(K,o,A);o+=4+Math.max(4,A.length);if(z=="rele"){_.sr(K,o,Y.val);
o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=dI.Kv[z];_.kp(K,o,1);o+=6;for(var y=0;
y<R.length;y++){var A=Y[R[y]];dI.y4(K,o,A);o+=4+Math.max(4,A.length)}if(z=="name"){_.tB(K,o,Y.val+"\0");
o+=4+Y.val.length*2+2}if(z=="indx"||z=="Idnt"){_.kp(K,o,Y.val);o+=4}break;case"alis":var O=Y.length;
_.kp(K,o,O);o+=4;_.cK(K,o,Y);o+=O;break;default:console.log("unknown oskey: "+z);o=c;break}return o-c};
dI.wT=function(K,o){var Y=_.LM(K,o);if(Y>1e3)throw"e";if(Y==0)Y=4;return _.H9(K,o+4,Y).trim()};dI.MK=function(K,o){var Y=_.LM(K,o);
return Y==0?8:4+Y};dI.y4=function(K,o,Y){var c="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),z=4<Y.length||c.indexOf(Y)!=-1;
_.sr(K,o,z?Y.length:0);_.cK(K,o+4,Y);if(Y.length<4&&!z){var f="";for(var y=Y.length;y<4;y++)f+=" ";_.cK(K,o+4+Y.length,f)}};
dI.a0C=function(K){var o={};for(var Y in K){if(Y=="classID")o[Y]=K[Y];else if(Y=="__name")o[Y]=K[Y];
else o[Y]=dI.aal(K[Y])}return o};dI.aal=function(K){if(K.xu=="Objc")return dI.a0C(K.v);else if(K.xu=="VlLs"){var o=[];
for(var y=0;y<K.v.length;y++)o.push(dI.aal(K.v[y]));return o}else if(K.xu=="UntF")return K.v.val;else return K.v};
function kE(){}kE.aho=function(K,o,Y,c,z,f){while(o<Y){var $=_.H9(K,o,4);o+=4;if($!="8BIM"&&$!="8B64"){console.log("layer information signature error! "+$,"PSB = "+z);
alert("Error in PSD file: wrong signature.");return Y}var E=_.H9(K,o,4);o+=4;var b=_.s(K,o);o+=4;var q=z&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(E)!=-1;
if(q){b=b<<32|_.LM(K,o);o+=4}var O=["lrFX","PlLd"];if(O.indexOf(E)!=-1){if(b%4!=0)b+=4-b%4;o+=b;continue}switch(E){case"iOpa":c[E]=K[o];
break;case"brst":c[E]=[1,1,1];for(var y=0;y<b;y+=4)c[E][_.s(K,o+y)]=0;break;case"knko":c[E]=K[o];break;
case"infx":c[E]=K[o];break;case"clbl":c[E]=K[o];break;case"lmgm":c[E]=K[o];break;case"vmgm":c[E]=K[o];
break;case"fcmy":c[E]=K[o];break;case"lyid":c[E]=_.s(K,o);break;case"lsct":c[E]={type:_.s(K,o)};if(b>=12)c[E].YF=_.H9(K,o+8,4);
break;case"lsdk":c.lsct={type:_.s(K,o)};break;case"lyvr":c[E]=_.s(K,o);break;case"lnsr":var j={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
c[E]=_.H9(K,o,4);break;case"lspf":c[E]=_.s(K,o);break;case"lclr":c[E]=_.vP(K,o);break;case"luni":c[E]=_.uV(K,o);
break;case"fxrp":c[E]=new jc(_.yy(K,o),_.yy(K,o+8));break;case"artb":case"artd":c[E]={};dI.kY(K,c[E],o+4);
break;case"SoCo":c[E]={};dI.kY(K,c[E],o+4);break;case"GdFl":c[E]={};dI.kY(K,c[E],o+4);kE.Mb(c[E],E);
break;case"PtFl":c[E]={};dI.kY(K,c[E],o+4);kE.Mb(c[E],E);break;case"CgEd":c[E]={};dI.kY(K,c[E],o+4);
break;case"brit":var A=c.brit=fn.Ta("brit"),R={};A.Brgh.v=_.AK(K,o);A.Cntr.v=_.AK(K,o+2);A.useLegacy.v=!0;
break;case"levl":var g=K.buffer.slice(o,o+b);c[E]=jz.qz(g);break;case"curv":c[E]=fK.GS(K,o,b);break;
case"expA":var H=_.vP(K,o),i=c[E]=fn.Ta("expA");i.Exps.v=_.$T(K,o+2);i.Ofst.v=_.$T(K,o+6);i.gammaCorrection.v=_.$T(K,o+10);
break;case"vibA":c[E]={};dI.kY(K,c[E],o+4);break;case"hue2":c[E]=bh.GS(K,o,b);break;case"blnc":var i=c[E]=fn.Ta(E);
i.PrsL.v=K[o+18]==1;var h=["ShdL","MdtL","HghL"];for(var y=0;y<3;y++)for(var x=0;x<3;x++)i[h[y]].v[x].v=_.AK(K,o+y*6+x*2);
break;case"blwh":var F={};dI.kY(K,F,o+4);var i=fn.Ta(E),X="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var y=0;y<X.length;y++){i[X[y]]=F[X[y]];delete F[X[y]]}c[E]=i;break;case"phfl":var i=c[E]=fn.Ta(E),V=i.Clr.v,H=_.vP(K,o);
if(H==3){var U=[_.s(K,o+2),_.s(K,o+6),_.s(K,o+10)],Z=32768,T=d.ti(U[0]/Z,U[1]/Z,U[2]/Z);V.Lmnc.v=T.Gi;
V.A.v=T.g;V.B.v=T.J}if(H==2){var v=_.vP(K,o+2);if(v!=7)throw"e";V.Lmnc.v=_.AK(K,o+4)/100;V.A.v=_.AK(K,o+6)/100;
V.B.v=_.AK(K,o+8)/100}var P=o+2+(H==3?12:10);i.Dnst.v=_.s(K,P);P+=4;i.PrsL.v=K[P]==1;break;case"mixr":var p={w5:_.vP(K,o+2)==1,b:[]};
for(var y=0;y<20;y++)p.b.push(_.AK(K,o+4+y*2));c[E]=jh.a73(p);break;case"clrL":case"rplc":c[E]={};dI.kY(K,c[E],o+6);
break;case"nvrt":c[E]={};break;case"post":c[E]=fn.Ta("post");c[E].Lvls.v=_.vP(K,o);break;case"thrs":c[E]=fn.Ta("thrs");
c[E].Lvl.v=_.vP(K,o);break;case"grdm":var a=o,D=_.vP(K,a);a+=2;var n=K[a]==1,N=K[a+1]==1;a+=2;var W=_.H9(K,a,4);
if(W=="Perc"||W=="Gcls"||W=="Lnr "||W=="\0\0\x0B\x1D")a+=4;var G=_.uV(K,a);a+=4+G.length*2;var l=ig.akr(K,a,G),u=l[0];
a=l[1];var e=_.vP(K,a);a+=2;var M=_.s(K,a);a+=4;var B=_.vP(K,a)==1;a+=2;var s=_.vP(K,a)==1;a+=2;var t=_.s(K,a);
a+=4;var J=_.vP(K,a);a+=2;var L=[],k=[];for(var y=0;y<4;y++){L.push({t:"long",v:~~(_.vP(K,a+y*2)*100/32768)});
k.push({t:"long",v:~~(_.vP(K,a+y*2+8)*100/32768)})}a+=16;var C=_.vP(K,a);a+=2;if(e==1)u={classID:"Grdn",Nm:{t:"TEXT",v:G},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:B},VctC:{t:"bool",v:s},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:M},Smth:{t:"long",v:t},Mnm:{t:"VlLs",v:L},Mxm:{t:"VlLs",v:k}};
var r=fn.Ta("grdm");r.Rvrs.v=n;r.Grad.v=u;c[E]=r;break;case"selc":c[E]=hX.GS(K,o,b);break;case"vmsk":case"vsms":var Q=c.vmsk=new S.kZ,j9=_.LM(K,o+4),a4=(j9>>0&1)==1;
Q.wn=(j9>>1&1)==0;Q.isEnabled=(j9>>2&1)==0;Q.$=a_.tr(K,o+8,b-8,f.m,f.e);break;case"shmd":c[E]={};var ar=_.s(K,o),P=o+4;
for(var y=0;y<ar;y++){var $=_.H9(K,P,4);P+=4;var ez=_.H9(K,P,4);P+=4;var ja=K[P];P++;if(Math.max(K[P],K[P+1])!=0)throw"e";
P+=3;var c3=_.s(K,P);P+=4;if(ez=="cust"||ez=="cmls"||ez=="extn"||ez=="mlst"){var hW=_.s(K,P);if(hW!=16)P+=4;
if(_.s(K,P)==16){var F={};dI.kY(K,F,P+4,!1);c[E][ez]=F;if(ez=="cmls")m.gL.a0q(c[E][ez])}}else{console.log("unknown shmd key: "+ez+", size: "+c3)}P+=c3}break;
case"shpa":var H=_.s(K,o),fO=_.s(K,o+4);if(fO!=0)console.log("some patterns present!");break;case"TySh":var ei=c[E]={},H=_.vP(K,o);
ei.i=_.T5(K,o+2);var fV=_.vP(K,o+2+48);ei.XE={};try{var aW=dI.kY(K,ei.XE,o+56)}catch(es){c[E]=null;break}var ee=b_.ayh();
for(var hM in ee)if(ei.XE[hM]==null)ei.XE[hM]=ee[hM];ei.PK={};var ds=dI.kY(K,ei.PK,o+56+aW+6);ei.jT=_.a6$(K,o+56+aW+6+ds);
ei.e9=bq.qz(ei.XE.EngineData.v);b_.aoY(ei.e9.EngineDict.StyleRun.RunArray);if(ei.e9.ResourceDict==null)ei.e9.ResourceDict=JSON.parse(JSON.stringify(ei.e9.DocumentResources));
delete ei.XE.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var cp=_.s(K,o),eA=_.s(K,o+4);c.lmfx={};
var aW=dI.kY(K,c.lmfx,o+8);kE.oG(c.lmfx);break;case"FMsk":c[E]=_.LF(K,o,b);break;case"Txt2":c[E]={};
c[E].raw=_.LF(K,o,b);c[E].wc=iQ.qz(c[E].raw);break;case"Patt":c[E]=ed.UE(K,o,b);break;case"SoLd":var db=_.H9(K,o,4),js=_.s(K,o+4),bF=_.s(K,o+8),jI=c[E]={},gF=dI.kY(K,jI,o+12),b6=jI.warp,ji=jI.quiltWarp;
if(ji==null)ji=jI.quiltWarp=d.qN.a1f(b6);delete jI.warp;if(jI.nonAffineTransform==null)jI.nonAffineTransform=JSON.parse(JSON.stringify(jI.Trnf));
if(jI.Impr==null)jI.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var js=_.s(K,o);
c[E]={};var gF=dI.kY(K,c[E],o+4);break;case"vscg":var ez=_.H9(K,o,4),js=_.s(K,o+4);c[ez]={};var gF=dI.kY(K,c[ez],o+8);
kE.Mb(c[ez],ez);break;case"vogk":var hd=_.s(K,o),js=_.s(K,o+4);c[E]={};var gF=dI.kY(K,c[E],o+8);c[E]=c[E].keyDescriptorList.v;
for(var y=0;y<c[E].length;y++){var eZ=c[E][y].v;if(!d.SU.Ij(eZ))continue;if(eZ.keyOriginBoxCorners==null){var hj=d.SU.H_(eZ);
eZ.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var eK=[hj[0],hj[1],hj[2],hj[1],hj[2],hj[3],hj[0],hj[3]];
if(eZ.keyOriginType.v==4)eK=d.SU.agm(d.SU.LG(eZ),eZ.keyOriginLineWeight.v);d.SU.LK(eZ,"keyOriginBoxCorners",eK)}}break;
case"lnk2":case"lnkD__":case"lnk3__":c[E]=[];var a=o;while(a<o+b){var cX=new S.oX;c[E].push(cX);var bW=_.Io(K,a);
a+=8;var ju=a;cX.type=_.H9(K,a,4);a+=4;if(cX.type!="liFD"){alert("Unknown Linked Layer type: "+cX.type);
break;throw cX.type}cX.zK=_.s(K,a);a+=4;var ci=_.Cg(K,a);a+=1+ci.kS.length;cX.YH=ci.kS;cX.oF=_.mN(K,a);
a+=4+cX.oF.length*2+2;cX.ut=_.H9(K,a,4);a+=4;cX.Gm=_.H9(K,a,4);a+=4;var hH=_.Io(K,a);a+=8;cX.open=K[a];
a+=1;if(cX.open!=0){var b8={},aW=dI.kY(K,b8,a+4);if(aW%4!=0)aW+=4-aW%4;console.log(b8);a+=aW+4}cX.open=0;
cX.raw=_.LF(K,a,hH);a=ju+bW;if(bW%4!=0)a+=4-bW%4}break;case"FEid":var a=o;c[E]=[];var gh=a+b,H=_.s(K,a);
a+=4;while(a<gh){a+=4;var bW=_.s(K,a);a+=4;var l={};c[E].push(l);l.id=_.Cg(K,a).kS;a+=l.id.length+1;
var H=_.s(K,a);a+=4;a+=4;var aN=_.s(K,a);a+=4;l.rect=_.p1(K,a);a+=16;var eS=_.s(K,a);a+=4;var b2=_.s(K,a);
a+=4;var fZ=new d.ok(0);for(var y=0;y<b2+2;y++){var dw=_.s(K,a);a+=4;if(dw!=0){a+=4;var ib=_.s(K,a),eJ=null;
a+=4;if(y<3||y==25)eJ=e7.TV(!0,eS,K,l.rect.m,l.rect.e,a,ib);if(y==0)fZ.o=eJ;if(y==1)fZ.A=eJ;if(y==2)fZ.J=eJ;
if(y==25)fZ.g=eJ;a+=ib}}l.buffer=d.R(l.rect.Z()*4);d.vF(fZ,l.buffer);d.zy(l);var df=K[a];a++;if(df!=0){l.F=new S.tp;
l.F.rect=_.p1(K,a);a+=16;a+=4;var k5=_.s(K,a);a+=4;l.F.channel=e7.TV(!0,eS,K,l.F.rect.m,l.F.rect.e,a,k5);
l.F.color=255;l.F.sc();a+=k5}if(bW%4!=0)a+=4-bW%4}break;case"Lr16":gA.E8(f,K,o);break;case"Anno":c[E]=[];
var eC=o,j7=o+4,fO=_.s(K,j7);j7+=4;for(var y=0;y<fO;y++){var bW=_.s(K,j7);j7+=4;var cK=_.H9(K,j7,4);
j7+=4;if(cK!="txtA")throw cK;var bw=K[j7++],f6=K[j7++],iF=_.vP(K,j7);j7+=2;var ag=_.p1(K,j7);j7+=16;
var bS=_.p1(K,j7);j7+=16;var V=fl.gP(K,j7);j7+=10;var b$=_.Cg(K,j7);j7+=b$.length;var aj=_.Cg(K,j7);
j7+=aj.length;var iV=_.Cg(K,j7);j7+=iV.length;var g0=_.s(K,j7);j7+=4;var eB=_.H9(K,j7,4);j7+=4;var c7=_.s(K,j7);
j7+=4;var dU=_.k$(K,j7+2,c7-2>>1);j7+=c7;c[E].push([ag.x,ag.y,V,b$.kS,dU])}break;default:break}var cz="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(cz.indexOf(E)==-1)if(b%4!=0)console.log("size not multiple of 4!!!",E);if(E!="luni"&&E!="TySh"&&E!="tySh"&&E!="lfx2"&&E!="iOpa")if(b%4!=0)b+=4-b%4;
o+=b}var R=c.CgEd;if(R){var A=c.brit;if(A){A.Brgh.v=R.Brgh?R.Brgh.v:0;A.Cntr.v=R.Cntr?R.Cntr.v:0;A.useLegacy.v=R.useLegacy?R.useLegacy.v:0}delete c.CgEd}var fr=[];
for(var y=0;y<fr.length;y++)delete c[fr[y]];return o};kE.amt=function(K,o,Y,c,z){if(Y.SoLd){var f={};
for(var $ in Y){if($=="SoLd")f.PlLd={};f[$]=Y[$]}Y=f}for(var E in Y)if(Y[E]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+E+"\" tag was present with a null value.");delete Y[E]}for(var E in Y){var b=c&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(E)!=-1,O=0;
_.cK(K,o,b?"8B64":"8BIM");o+=4;var q=o;_.cK(K,o,E);o+=4;_.sr(K,o,0);o+=b?8:4;switch(E){case"iOpa":_.bz(K,o,Y[E],1);
O=4;break;case"brst":O=0;for(var y=0;y<3;y++)if(Y[E][y]==0){_.kp(K,o+O,y);O+=4}break;case"knko":_.bz(K,o,Y[E],1);
O=4;break;case"infx":_.bz(K,o,Y[E],1);O=4;break;case"clbl":_.bz(K,o,Y[E],1);O=4;break;case"lmgm":_.bz(K,o,Y[E],1);
O=4;break;case"vmgm":_.bz(K,o,Y[E],1);O=4;break;case"fcmy":_.bz(K,o,Y[E],1);O=4;break;case"lyid":_.kp(K,o,Y[E]);
O=4;break;case"lsct":_.kp(K,o,Y[E].type);O=4;if(Y[E].YF){_.cK(K,o+4,"8BIM");_.cK(K,o+8,Y[E].YF);O=12}break;
case"lyvr":_.kp(K,o,Y[E]);O=4;break;case"lnsr":_.cK(K,o,Y[E]);O=4;break;case"lspf":_.kp(K,o,Y[E]);O=4;
break;case"lclr":_.z1(K,o,Y[E]);O=8;break;case"luni":_.tB(K,o,Y[E]);O=4+2*Y[E].length;break;case"fxrp":_.Vy(K,o,Y[E].x);
_.Vy(K,o+8,Y[E].y);O=16;break;case"artb":case"artd":_.kp(K,o,16);O=dI.Yw(K,Y[E],o+4)+4;break;case"SoCo":_.kp(K,o,16);
O=dI.Yw(K,Y[E],o+4)+4;break;case"GdFl":_.kp(K,o,16);O=dI.Yw(K,Y[E],o+4)+4;break;case"PtFl":_.kp(K,o,16);
O=dI.Yw(K,Y[E],o+4)+4;break;case"CgEd":var j={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},A=j,R=Y[E];
A.Brgh.v=R.Brgh.v;A.Cntr.v=R.Cntr.v;A.useLegacy.v=R.useLegacy.v;_.kp(K,o,16);O=dI.Yw(K,j,o+4)+4;break;
case"brit":K.d7(o,8);O=8;break;case"levl":var g=new jQ;O=jz.lW(g,Y[E]);_.Wf(K,o,g.data);break;case"curv":O=fK.nJ(K,o,Y[E]);
break;case"expA":O=14;K.d7(o,14);_.Lx(K.data,o,1);_.U7(K.data,o+2,Y[E].Exps?Y[E].Exps.v:0);_.U7(K.data,o+6,Y[E].Ofst?Y[E].Ofst.v:0);
_.U7(K.data,o+10,Y[E].gammaCorrection?Y[E].gammaCorrection.v:1);break;case"vibA":_.kp(K,o,16);O=dI.Yw(K,Y[E],o+4)+4;
break;case"hue2":O=bh.nJ(K,o,Y[E]);break;case"blnc":O=19;K.d7(o,O);var H=["ShdL","MdtL","HghL"];for(var y=0;
y<3;y++){var i=Y[E][H[y]].v;for(var h=0;h<3;h++)i.push(_.Lo(K.data,o+y*6+h*2,i[h].v))}K.data[o+18]=Y[E].PrsL.v?1:0;
break;case"blwh":var j={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},x="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var y=0;y<x.length;y++){j[x[y]]=Y[E][x[y]]}_.kp(K,o,16);O=dI.Yw(K,j,o+4)+4;break;case"phfl":_.z1(K,o,2);
var F=Y[E].Clr.v;_.z1(K,o+2,7);_.z1(K,o+4,Math.round(F.Lmnc.v*100));_.z1(K,o+6,Math.round(F.A.v*100));
_.z1(K,o+8,Math.round(F.B.v*100));_.z1(K,o+10,0);var X=o+2+10;K.d7(X,5);_.oM(K.data,X,Y[E].Dnst.v);X+=4;
K.data[X]=Y[E].PrsL.v?1:0;X++;O=X-o;break;case"mixr":O=44;K.d7(o,O);var V=jh.jt(Y[E]);_.Lx(K.data,o,1);
_.Lx(K.data,o+2,V.w5?1:0);for(var y=0;y<20;y++)_.Lo(K.data,o+4+y*2,V.b[y]);break;case"clrL":case"rplc":_.z1(K,o,1);
_.kp(K,o+2,16);O=dI.Yw(K,Y[E],o+6)+6;break;case"nvrt":O=0;break;case"post":_.z1(K,o,Y[E].Lvls.v);O=2;
break;case"thrs":_.z1(K,o,Y[E].Lvl.v);O=2;break;case"grdm":var U=Y[E].Rvrs?Y[E].Rvrs.v:!1,Z=!1,T=867527939,v=!1,P=!1,p=2048,a=[0,0,0,0],D=[32768,32768,32768,32768],n=Y[E].Grad.v,N,W,G=n.Clrs==null?1:0;
if(G==0){N=n;W=JSON.parse(eF.tG.awM).v}else{N=fn.Ta("grdm").Grad.v;W=n}K.d7(o,4);_.Lx(K.data,o,1);K.data[o+2]=U?1:0;
K.data[o+3]=Z?1:0;var l=o+4;_.tB(K,l,n.Nm.v);l+=4+n.Nm.v.length*2;l=ig.agw(K,l,N);_.z1(K,l,G);l+=2;_.kp(K,l,W.RndS.v);
l+=4;_.z1(K,l,W.ShTr.v?1:0);l+=2;_.z1(K,l,W.VctC.v?1:0);l+=2;_.kp(K,l,W.Smth.v);l+=4;_.z1(K,l,3);l+=2;
for(var y=0;y<4;y++)_.z1(K,l+y*2,a[y]);l+=8;for(var y=0;y<4;y++)_.z1(K,l+y*2,D[y]);l+=8;l+=2;O=l-o;break;
case"selc":O=hX.nJ(K,o,Y[E]);break;case"FMsk":_.Wf(K,o,Y[E]);O=Y[E].length;break;case"Txt2":var u=new jQ,e=iQ.ol(Y[E].wc,u),M=d.R(e,!0);
for(var y=0;y<e;y++)M[y]=u.data[y];_.Wf(K,o,M);O=M.length;break;case"vmsk":var B=Y[E],s=0;_.kp(K,o,3);
if(!B.wn)s+=1<<1;if(!B.isEnabled)s+=1<<2;_.kp(K,o+4,s);O=8;var t=B.$.length;K.d7(o+8,t*26);a_.eC(K.data,o+8,B.$,z.m,z.e);
O+=t*26;break;case"shmd":_.kp(K,o,Object.keys(Y[E]).length);var X=o+4;for(var J in Y[E]){_.cK(K,X,"8BIM");
X+=4;_.cK(K,X,J);X+=4;_.kp(K,X,0);X+=4;_.kp(K,X,0);X+=4;_.kp(K,X,16);X+=4;var L=dI.Yw(K,Y[E][J],X);if(L%4!=0)L+=4-L%4;
_.kp(K,X-8,L+4);X+=L}O=X-o;break;case"TySh":var X=o;_.no(K,X,1);X+=2;var k=Y[E],u=new jQ;k.e9.DocumentResources=JSON.parse(JSON.stringify(k.e9.ResourceDict));
var e=bq.ol(k.e9,u),M=d.R(e,!0);for(var y=0;y<e;y++)M[y]=u.data[y];k.XE.EngineData={t:"tdta",v:M};var C=k.e9.EngineDict.Editor.Text;
k.XE.Txt.v=C.substring(0,C.length-1);_.a8q(K,X,k.i);X+=48;_.no(K,X,50);X+=2;_.kp(K,X,16);X+=4;X+=dI.Yw(K,k.XE,X);
_.no(K,X,1);X+=2;_.kp(K,X,16);X+=4;X+=dI.Yw(K,k.PK,X);_.axB(K,X,k.jT);X+=16;O=X-o;break;case"lmfx":_.kp(K,o,0);
_.kp(K,o+4,16);var j=JSON.parse(JSON.stringify(Y[E])),r=!1;kE.aJ(j);for(var y=0;y<eF.nk.length;y++)if(j[eF.nk[y]]!=null)r=!0;
_.cK(K,q,r?"lmfx":"lfx2");O=dI.Yw(K,j,o+8)+8;break;case"Patt":var X=ed.yz(K,o,Y[E]);O=X-o;break;case"PlLd":var Q=o;
K.d7(o,60);var i=Y.SoLd;_.cK(K,o,"plcL");_.kp(K,o+4,3);var j9=K.data[o+8]=i.Idnt.v.length;_.cK(K,o+9,i.Idnt.v);
var X=o+9+j9,a4=[1,1,16,2];for(var y=0;y<4;y++)_.kp(K,X+y*4,a4[y]);X+=16;a4=m.OB.lA(i.nonAffineTransform);
for(var y=0;y<8;y++)_.Vy(K,X+y*8,a4[y]);X+=64;_.kp(K,X,0);_.kp(K,X+4,16);var ar=d.qN.afF(i.quiltWarp).v;
X+=8+dI.Yw(K,ar,X+8);O=X-o;break;case"SoLd":var i=Y[E],ez=i.quiltWarp;i.warp=d.qN.afF(ez);if(d.qN.jk(ez.v)==16)delete i.quiltWarp;
_.cK(K,o,"soLD");_.kp(K,o+4,4);_.kp(K,o+8,16);O=dI.Yw(K,i,o+12)+12;i.quiltWarp=ez;delete i.warp;break;
case"vstk":case"pths":_.kp(K,o,16);O=dI.Yw(K,Y[E],o+4)+4;break;case"vscg__":_.cK(K,o,Y[E].key);_.kp(K,o+4,16);
O=dI.Yw(K,Y[E].b,o+8)+8;break;case"vogk":_.kp(K,o,1);_.kp(K,o+4,16);d.SU.aD1(Y[E]);for(var y=0;y<Y[E].length;
y++){var ja=Y[E][y].v.keyOriginResolution;if(ja)ja.v=z.aE}var c3={classID:"null",keyDescriptorList:{t:"VlLs",v:Y[E]}};
O=dI.Yw(K,c3,o+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var l=o;for(var y=0;y<Y[E].length;y++){var hW=Y[E][y],fO=l;
_.G1(K,l,0);l+=8;_.cK(K,l,hW.type);l+=4;_.kp(K,l,hW.zK);l+=4;K.d7(l,1);K.data[l]=hW.YH.length;l++;_.cK(K,l,hW.YH);
l+=hW.YH.length;_.tB(K,l,hW.oF+"\0");l+=4+hW.oF.length*2+2;_.cK(K,l,hW.ut);l+=4;_.cK(K,l,hW.Gm);l+=4;
_.G1(K,l,hW.raw.length);l+=8;K.d7(l,1);K.data[l]=hW.open;l++;_.Wf(K,l,hW.raw);l+=hW.raw.length;_.kp(K,l,1);
l+=4;l+=11;var ei=l-fO-8;_.G1(K,fO,ei);if(ei%4!=0){K.d7(l,4-ei%4);l+=4-ei%4}}O=l-o;break;case"FEid":var l=o;
_.kp(K,l,3);l+=4;for(var fV=0;fV<Y[E].length;fV++){var aW=Y[E][fV];l+=4;var ee=l;l+=4;_.UF(K,l,aW.id);
l+=aW.id.length+1;_.kp(K,l,1);l+=4;var hM=d.R(aW.rect.Z()),ds=aW.rect,cp=d.R(ds.Z());l+=4;var eA=l;l+=4;
_.Uk(K,l,ds);l+=16;_.kp(K,l,8);l+=4;_.kp(K,l,24);l+=4;for(var y=0;y<24+2;y++){var db=-1;if(y==0)db=0;
if(y==1)db=1;if(y==2)db=2;if(y==25)db=3;_.kp(K,l,db!=-1?1:0);l+=4;if(db!=-1){d.JI(aW.buffer,hM,db);d.u_(hM,aW.rect,cp,ds);
l+=4;var js=l;l+=4;K.d7(l,ds.Z()+2);l=e7.pC(!0,cp,K.data,ds.m,ds.e,l,3);_.kp(K,js,l-(js+4))}}_.kp(K,eA,l-(eA+4));
K.d7(l,1);K.data[l]=aW.F?1:0;l++;if(aW.F!=null){var bF=ds,jI=d.R(bF.Z());jI.fill(aW.F.color);d.u_(aW.F.channel,aW.F.rect,jI,bF);
_.Uk(K,l,bF);l+=16;l+=4;var gF=l;l+=4;K.d7(l,bF.Z()+2);l=e7.pC(!0,jI,K.data,bF.m,bF.e,l,3);_.kp(K,gF,l-(gF+4))}var ei=l-(ee+4);
_.kp(K,ee,ei);if(ei%4!=0)l+=4-ei%4}O=l-o;break;case"Anno":var b6=o,ji=Y[E].length;_.z1(K,b6,2);_.z1(K,b6+2,1);
b6+=4;_.kp(K,b6,ji);b6+=4;for(var y=0;y<ji;y++){var hd=Y[E][y],eZ=hd[0],hj=hd[1],eK=b6;b6+=4;_.cK(K,b6,"txtA");
b6+=4;K.d7(b6,2);K.data[b6]=1;K.data[b6+1]=28;b6+=2;_.z1(K,b6,1);b6+=2;_.Uk(K,b6,new hD(eZ,hj,17,21));
b6+=16;_.Uk(K,b6,new hD(eZ+8,hj+10,241,141));b6+=16;K.d7(b6,10);fl.W8(K.data,b6,hd[2]);b6+=10;b6+=_.UF(K,b6,hd[3]);
b6+=_.UF(K,b6,"");b6+=_.UF(K,b6,"D:20211012120233+01'00'");var cX=hd[4].length*2;_.kp(K,b6,12+2+cX);
b6+=4;_.cK(K,b6,"txtC");b6+=4;_.kp(K,b6,2+cX);b6+=4;K.d7(b6,2);K.data[b6]=254;K.data[b6+1]=255;b6+=2;
_.anH(K,b6,hd[4]);b6+=cX;_.kp(K,eK,b6-eK)}O=b6-o;break;default:console.log("unknown layer tag: "+E+", size: "+O);
o-=12;continue}var bW=["Txt2","artd","extd","pths"];if(bW.indexOf(E)==-1)if(O%4!=0)O+=4-O%4;if(b)_.G1(K,o-8,O);
else _.kp(K,o-4,O);if(E!="luni"&&E!="TySh")if(O%4!=0)O+=4-O%4;o+=O}return o};kE.oG=function(K){for(var y=0;
y<eF.order.length;y++){var o=eF.order[y],Y=eF.nk[y];if(K[Y]==null)K[Y]={t:"VlLs",v:[]};if(K[o]!=null){K[Y].v.push(K[o]);
delete K[o]}var c=[];for(var z=0;z<K[Y].v.length;z++){var f=K[Y].v[z];if(f.v.present==null||f.v.present.v==!0)c.push(f)}K[Y].v=c}};
kE.aJ=function(K){for(var y=0;y<eF.order.length;y++){var o=eF.order[y],Y=eF.nk[y],c=K[Y].v.length;if(c==0){delete K[Y];
continue}if(c==1){K[o]=K[Y].v[0];delete K[Y];continue}}};kE.Mb=function(K,o){if(o=="GdFl"){if(K.Angl==null)K.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(K.Algn==null)K.Algn={v:!0,t:"bool"};if(K.Scl==null)K.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(K.Ofst==null)K.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(K.Rvrs==null)K.Rvrs={v:!1,t:"bool"};if(K.Dthr==null)K.Dthr={v:!1,t:"bool"}}if(o=="PtFl"){if(K.Algn==null)K.Algn={v:!0,t:"bool"};
if(K.Angl==null)K.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(K.Scl==null)K.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(K.phase==null)K.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};kE.clone=function(K,o){var Y={};
if(K=="TySh"){Y.i=o.i.clone();Y.XE=JSON.parse(JSON.stringify(o.XE));Y.PK=JSON.parse(JSON.stringify(o.PK));
Y.jT=o.jT.clone();Y.e9=JSON.parse(JSON.stringify(o.e9));if(o.add)Y.add={vmsk:o.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(o.add.vogk))};
return Y}else if(K=="fxrp")return o.clone();else if(K=="vmsk")return o.clone();else return JSON.parse(JSON.stringify(o))};
function du(K,o){}du.qz=function(K,o,Y,c){c=du.aCw(K,o,Y,c);return c};du.ol=function(K,o,Y,c,z){c=du.auG(K,o,Y,c,z);
return c};du.aCw=function(K,o,Y,c){var z=c;K.rect=_.p1(Y,c);c+=16;var f=_.vP(Y,c);c+=2;K.Yz=[];var $=o.L1;
for(var y=0;y<f;y++){K.Yz[y]={id:_.AK(Y,c),length:($?_.Io:_.s)(Y,c+2)};c+=$?10:6}var E=_.H9(Y,c,4);c+=4;
if(E!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(E));alert("Error in Photoshop file: wrong signature.");
throw"e"}K.YF=_.H9(Y,c,4);c+=4;K.opacity=Y[c];c+=1;K.z_=Y[c]==1;c+=1;K.Gh=Y[c];c+=1;if(Y[c]!=0)console.log("error in filler!");
c+=1;var b=_.s(Y,c);c+=4;var q=c;c=du.a5c(K,Y,c);c=du.adC(K,Y,c);var O=_.Cg(Y,c);K.name=O.kS;c+=O.length;
if(O.length%4!=0)c+=4-O.length%4;c=kE.aho(Y,c,q+b,K.add,$,o);if(K.add.lsct){if(K.add.lsct.YF)K.YF=K.add.lsct.YF;
K.add.lsct=K.add.lsct.type}return c};du.auG=function(K,o,Y,c,z){var f=c;_.Uk(Y,c,K.rect);c+=16;var $=o.add.fcmy==1,E=K.a0l($);
_.z1(Y,c,E.length);c+=2;var b=o.L1;z.push(c);for(var y=0;y<E.length;y++){_.no(Y,c,E[y]);if(b)_.G1(Y,c+2,0);
else _.kp(Y,c+2,0);c+=b?10:6}_.cK(Y,c,"8BIM");c+=4;_.cK(Y,c,K.YF);c+=4;_.bz(Y,c,K.opacity,1);c+=1;_.bz(Y,c,K.z_?1:0,1);
c+=1;_.bz(Y,c,K.Gh,1);c+=1;_.bz(Y,c,0,1);c+=1;var q=c;_.kp(Y,c,0);c+=4;var O=c;c=du.agn(K,Y,c);c=du.ako(K,Y,c);
var j=_.UF(Y,c,K.name.slice(0,255));c+=j;if(j%4!=0)c+=4-j%4;if(K.add.lsct){K.add.lsct={type:K.add.lsct};
if(K.YF=="pass"){K.add.lsct.YF="pass";K.YF="norm"}}if(K.YF=="pass")K.add.lsct={type:K.add.lsct,YF:"pass"};
if(K.add.brit)K.add.CgEd=K.add.brit;c=kE.amt(Y,c,K.add,b,o);delete K.add.CgEd;if(K.add.lsct){if(K.add.lsct.YF)K.YF=K.add.lsct.YF;
K.add.lsct=K.add.lsct.type}var A=c-O;_.kp(Y,q,A);return c};du.a5c=function(K,o,Y){var c=_.s(o,Y);Y+=4;
if(c==0)return Y;var z=Y;K.F=new S.tp;K.F.rect=_.p1(o,Y);Y+=16;K.F.color=o[Y];Y+=1;var f=du.a0n(K.F,o,Y);
Y+=1;if(f){var $=!1,E=255,b=0,q=255,O=0;for(var y=0;y<K.Yz.length;y++)if(K.Yz[y].id==-3)$=!0;if($){K.DJ=du.ayB(o,Y);
Y+=18}var j=Y,A=o[Y];Y++;if(A>>0&1){E=o[Y];Y++}if(A>>1&1){b=_.yy(o,Y);Y+=8}if(A>>2&1){q=o[Y];Y++}if(A>>3&1){O=_.yy(o,Y);
Y+=8}if((Y-j&1)==1)Y++;K.BD=[E,b,q,O]}else{if(c==20)Y+=2;else{K.DJ=du.ayB(o,Y);Y+=18}}return z+c};du.agn=function(K,o,Y){_.kp(o,Y,0);
Y+=4;if(K.F==null)return Y;var c=K.ue(),z=K.add.vmsk,f=Y,$=!0;_.kp(o,Y,0);_.Uk(o,Y,K.F.rect);Y+=16;_.bz(o,Y,K.F.color);
Y+=1;du.ado(K.F,o,Y,$);Y+=1;if($){if(K.DJ){du.ale(o,Y,K.DJ);Y+=18}var E=Y;_.bz(o,Y,z?15:3);Y+=1;_.bz(o,Y,c?c.SJ:255);
Y+=1;_.Vy(o,Y,c?c.cG:0);Y+=8;if(z){_.bz(o,Y,z?z.SJ:255);Y+=1;_.Vy(o,Y,z?z.cG:0);Y+=8}if((Y-E&1)==1)Y++}_.kp(o,f-4,Y-f);
return Y};du.ayB=function(K,o){var Y=new S.tp;du.a0n(Y,K,o);o+=1;Y.color=K[o];o+=1;Y.rect=_.p1(K,o);
o+=16;return Y};du.ale=function(K,o,Y){du.ado(Y,K,o,!1);o+=1;_.bz(K,o,Y.color);o+=1;_.Uk(K,o,Y.rect);
o+=16};du.a0n=function(K,o,Y){var c=o[Y];K.wn=(c>>0&1)==0;K.isEnabled=(c>>1&1)==0;K.j9=(c>>3&1)==1;return c>>4&1};
du.ado=function(K,o,Y,c){var z=0;if(!K.wn)z+=1<<0;if(!K.isEnabled)z+=1<<1;if(K.j9)z+=1<<3;if(c)z+=1<<4;
_.bz(o,Y,z)};du.adC=function(K,o,Y){var c=_.s(o,Y);Y+=4;for(var y=0;y<c;y++)K.c1[y]=o[Y+y];return Y+c};
du.ako=function(K,o,Y){_.kp(o,Y,K.c1.length);Y+=4;o.d7(Y,40);for(var y=0;y<40;y++){o.data[Y+y]=K.c1[y]}return Y+40};
function e7(){}e7.qz=function(K,o,Y,c){c=e7.a7x(o,o.L1,o.Vf,o.V$,K,Y,c);return c};e7.lW=function(K,o,Y,c,z,f,$){c=e7.acZ(K,o,Y,c,z,f,$);
return c};e7.a7x=function(K,o,Y,c,z,f,$){var E=z.Yz,b={},q=$;for(var y=0;y<E.length;y++){var O=E[y],j=O.id,A=O.length,R;
if(j==-2&&z.F==null)j=-1;if(j==-3)R=z.DJ.rect;else if(j==-2)R=z.F.rect;else R=z.rect;var g=e7.TV(o,Y,f,R.m,R.e,$,A);
$+=A;if(j==-3)z.DJ.channel=g;else if(j==-2)z.F.channel=g;else b["c"+j]=g}var H=new d.ok(0);H.g=null;
if(c==3){H.o=b.c0;H.A=b.c1;H.J=b.c2;H.g=b["c-1"]}else if(c==1){H.o=b.c0;H.A=b.c0;H.J=b.c0;H.g=b["c-1"]}else if(c==4){var i=K.pU.r1039,h=null,x=b.c0,F=b.c1,X=b.c2,V=b.c3;
if(i){var h=i.agc,U=17;if(h==null){var Z=ICC.R(i.buffer);if(Z.header.spaceIn=="RGB "){}else h=i.agc=ICC.U.sampleLUT(Z,U)}}if(h){var T={o:x,A:F,J:X,g:V},v=d.R(x.length*4);
d.vF(T,v);d.oD(v);ICC.U.applyLUT4(h,U,v,v);d.w9(v,T)}else{for(var y=0;y<x.length;y++){var P=1-x[y]*(1/255),p=1-F[y]*(1/255),a=1-X[y]*(1/255),D=1-V[y]*(1/255),n=d.O6([P,p,a,D]);
x[y]=Math.floor(.5+n[0]*255);F[y]=Math.floor(.5+n[1]*255);X[y]=Math.floor(.5+n[2]*255)}}H.o=x;H.A=F;
H.J=X;H.g=b["c-1"]}if(H.o==null)H.o=d.R(0);if(H.g==null&&H.o!=null){H.g=H.o.slice(0);H.g.fill(255)}if(H.A==null)H.A=H.o.slice(0);
if(H.J==null)H.J=H.o.slice(0);z.buffer=d.R(Math.max(0,z.rect.Z()*4));d.vF(H,z.buffer);return $};e7.acZ=function(K,o,Y,c,z,f,$){var E=o.a0l($),b=o.buffer,q=new d.ok(o.rect.Z());
if($){var O=q.g.slice(0);d.JI(b,O,3);b=b.slice(0);d.afC(b);d.w9(b,q);q.aij=q.g;q.g=O}else d.w9(b,q);
for(var y=0;y<E.length;y++){var j=E[y],A,R;if(j==-3)A=o.DJ.rect;else if(j==-2)A=o.F.rect;else A=o.rect;
if(j==-3)R=o.DJ.channel;if(j==-2)R=o.F.channel;if(j==-1)R=q.g;if(j==0)R=q.o;if(j==1)R=q.A;if(j==2)R=q.J;
if(j==3)R=q.aij;Y.d7(c,A.Z()*3+4);var g=c;c=e7.pC(K,R,Y.data,A.m,A.e,c,f[1]?3:1);var H=c-g;if(K)_.ayN(Y.data,z+y*10+2,H);
else _.oM(Y.data,z+y*6+2,H)}return c};e7.TV=function(K,o,Y,c,z,f,$){var E=_.vP(Y,f);f+=2;return e7.i0(K,o,Y,c,z,f,E,$-2)};
e7.pC=function(K,o,Y,c,z,f,$){_.Lo(Y,f,$);f+=2;f=e7.bU(K,o,Y,c,z,f,$);return f};e7.i0=function(K,o,Y,c,z,f,$,E){var b,q=c*z*(o>>>3),O=q&3,j=q+(O==0?0:4-O);
if(E<=0){return d.R(j)}if($>3){console.log("unknown compression: "+$,c,z,c*z,E);$=0}if($==0){if(f+j<=Y.length)b=Y.slice(f,f+j);
else{b=d.R(q);for(var y=0;y<q;y++)b[y]=Y[f+y]}f+=q}else if($==1){b=d.R(q);var A=K?4:2,R=e7.a2h(Y,b,c,z,f,f+A*z,A);
f+=A*z+R}else if($==2||$==3){var H=new Uint8Array(Y.buffer,f+2,E-6),i=d.R(j);UZIP.inflateRaw(H,i);if($==3){if(o==8)for(var h=0;
h<z;h++){var x=h*c+1,F=x+c-1,X=i[x-1];for(var V=x;V<F;V++){X+=i[V];i[V]=X&255}}else for(var h=0;h<z;
h++){var x=h*c+1,F=x+c-1,X=i[2*x-2]<<8|i[2*x-1];for(var V=x;V<F;V++){var U=V<<1;X+=i[U]<<8|i[U+1];i[U]=X>>>8;
i[U+1]=X&255}}}if(i.length==j)b=i;else{b=d.R(j);for(var y=0;y<i.length;y++)b[y]=i[y]}}if(o==16){var Z=d.R(c*z);
for(var y=0;y<q;y+=2)Z[y>>>1]=b[y];b=Z}return b};e7.bU=function(K,o,Y,c,z,f,$){var E=c*z;if($==0)for(var y=0;
y<E;y++)Y[f++]=o[y];else if($==1){var b=K?4:2,q=e7.axv(o,Y,c,z,f,f+b*z,b);f+=b*z+q}else if($==2||$==3){if($==3){var O=new Uint8Array(o.length);
for(var j=0;j<z;j++){var A=j*c+1,R=A+c-1,g=o[A-1];O[A-1]=g;for(var H=A;H<R;H++){O[H]=o[H]+(256-g)&255;
g=o[H]}}o=O}Y[f]=120;Y[f+1]=156;f+=2;var i=pako.deflateRaw(o,{a5m:4});_.ae5(Y,f,i);f+=i.length+4}else console.log("Unknown compression: "+$);
return f};e7.a2h=function(K,o,Y,c,z,f,$){if(!(K instanceof Uint8Array)||!(o instanceof Uint8Array))throw"e";
var E=f,b=c|0;if($==2)for(var y=0;y<b;y++){var q=_.vP(K,z+(y<<1));e7.bX(K,f,q,o,y*Y,Y);f+=q}else for(var y=0;
y<b;y++){var q=_.s(K,z+(y<<2));e7.bX(K,f,q,o,y*Y,Y);f+=q}return f-E};e7.axv=function(K,o,Y,c,z,f,$){var E=f;
if($==2)for(var y=0;y<c;y++){var b=e7.aiW(K,y*Y,Y,o,f);_.Lx(o,z+y*2,b);f+=b}else for(var y=0;y<c;y++){var b=e7.aiW(K,y*Y,Y,o,f);
_.oM(o,z+y*4,b);f+=b}return f-E};e7.aiW=function(K,o,h4,Y,c){var z,f,$,E,b,aM,q;E=o+h4;for($=o,f=c;h4>0;
$=z,h4-=aM){q=h4<128?h4:128;if($<=E-3&&K[$+1]==K[$+0]&&K[$+2]==K[$+0]){for(z=$+3;z<$+q&&K[z]==K[$+0];
)++z;aM=z-$;Y[f++]=1+256-aM;Y[f++]=K[$+0]}else{for(z=$;z<$+q;)if(z<=E-3&&K[z+1]==K[z+0]&&K[z+2]==K[z+0])break;
else++z;aM=z-$;Y[f++]=aM-1;for(var y=0;y<aM;y++)Y[f+y]=K[$+y];f+=aM}}return f-c};e7.bX=function(K,o,Y,c,z,f){for(var $=0;
$<Y;){var h4=K[o++];if(h4>=128){var E=K[o++],b=z+(257-h4);c.fill(E,z,b);z=b;$+=2}else{for(var y=0;y<=h4;
y++)c[z+y]=K[o+y];o+=h4+1;z+=h4+1;$+=1+1+h4}}};function gA(){}gA.PX=function(K,o,Y){return;var c="",z=o;
while(z!=0){var f=z%1e3+"";while(f.length<3)f="0"+f;c=(c==""?f:f+" ")+c;z=Math.floor(z/1e3)}while(c.startsWith("0")&&c!="0")c=c.slice(1);
while(c.length<11)c=" "+c;console.log("===",c,"\t".repeat(K),": "+Y)};gA.aC0=function(K){var o={pU:{}},c=0,z=0,E;
o.L1=!1;o.Vf=8;var Y=new Uint8Array(K);z=gA.Cx(o,Y,c);c=z;z=gA.anX(o,Y,c);c=z;var f=_.s(Y,c);c+=4+f;
var $=o.L1?8:4;if(o.L1)E=_.Io(Y,c);else E=_.s(Y,c);c+=$+E;z=gA.a87(o,Y,c);return[{eQ:new hD(0,0,o.m,o.e),data:o.buffer.buffer}]};
gA.qz=function(K,o){o.L1=!1;o.Vf=8;var Y=new Uint8Array(K),c=0,z=0,s,fO=!1,ei=!0,fV=!1,aW=0,cz=0;z=gA.Cx(o,Y,c);
gA.PX(0,z-c,"PSD Header");c=z;z=gA.anX(o,Y,c);gA.PX(0,z-c,"Color Mode Data");c=z;z=gA.avE(o,Y,c);gA.PX(0,z-c,"Image Resources");
c=z;z=gA.a3H(o,Y,c);gA.PX(0,z-c,"Layer And Mask Info");c=z;z=gA.a87(o,Y,c);gA.PX(0,z-c,"Merged Image");
c=z;if(o.B.length==0){var f=o.Uu();f.vd("Background");o.B.push(f);f.buffer=o.buffer.slice(0);f.rect=new hD(0,0,o.m,o.e)}if(o.pU.r1005){o.aE=_.sx(o.pU.r1005,0)}if(o.pU.r1026){var Y=o.pU.r1026;
for(var y=0;y<Y.length;y+=2){var z=o.B[y>>>1];if(z)z.RY=_.vP(Y,y)}}if(o.pU.r1072){var Y=o.pU.r1072;for(var y=0;
y<Y.length;y++){var z=o.B[y];if(z)z.kw=Y[y]==1}}if(o.pU.r1032){o.xS=gA.a0O(o.pU.r1032,0)}delete o.pU.r1036;
o.$i(o.pU.r1039);if(o.pU.r1050){var $=_.s,E=o.pU.r1050,b=_.s(E,0);if(b==6){var q=4,O=_.p1(E,q);q+=16;
var j=_.uV(E,q);q+=4+j.length*2;var A=$(E,q);q+=4;var R=o.FT;for(var y=0;y<A;y++){var g=m.F$.mb(),i;
R.push(g);g=g.v;g.sliceID.v=$(E,q);q+=4;g.groupID.v=$(E,q);q+=4;var H=$(E,q);q+=4;if(H==1){i=$(E,q);
q+=4}var j=_.uV(E,q);q+=4+j.length*2;var h=$(E,q);q+=4;var x=[$(E,q),$(E,q+4),$(E,q+8),$(E,q+12)];q+=16;
m.F$.KR(R,R.length-1,x);var F=g.url.v=_.uV(E,q);q+=4+F.length*2;var X=g.null.v=_.uV(E,q);q+=4+X.length*2;
var V=g.Msge.v=_.uV(E,q);q+=4+V.length*2;var U=g.altTag.v=_.uV(E,q);q+=4+U.length*2;g.cellTextIsHTML.v=E[q]==1;
q++;var Z=g.cellText.v=_.uV(E,q);q+=4+Z.length*2;var T=$(E,q);q+=4;var v=$(E,q);q+=4;var P=E.slice(q,q+4);
q+=4;if(H!=2)R.pop()}}else if(b==8){var p={};dI.kY(E,p,8,!1);var E=o.FT=p.slices.v;for(var y=0;y<E.length;
y++){if(E[y].v.origin.v.ESliceOrigin!="userGenerated"){E.splice(y,1);y--}}}}if(o.pU.r1058){var a=o.pU.r1058,D=UTIF.decode(a.buffer,{parseMN:!1,debug:!1});
fT.Wp(D[0],o.Ou);delete o.pU.r1058}if(o.pU.r1060){var n=_.DI(o.pU.r1060);fT.Nt(n,o.Ou);delete o.pU.r1060}if(o.pU.r1065){var Y=o.pU.r1065;
o.Fe={};dI.kY(Y,o.Fe,4,!1)}if(o.pU.r1069){var Y=o.pU.r1069,N=[];for(var y=2;y<Y.length;y+=4){var i=_.s(Y,y);
for(var W=0;W<o.B.length;W++){var z=o.B[W];if(z.add.lyid==i&&z.add.lsct!=3&&N.indexOf(W)==-1)N.push(W)}}o.Y=N}if(o.pU.r1073){var Y=o.pU.r1073,q=0,G=_.LM(Y,q);
q+=4;var l=_.LM(Y,q);q+=4;for(var y=0;y<l;y++){o.dW.push({y:G>=2?_.$T(Y,q+2):_.sx(Y,q+2),x:G>=2?_.$T(Y,q+6):_.sx(Y,q+6)});
q+=14}delete o.pU.r1073}if(o.pU.r1025){var u=o.pU.r1025;delete o.pU.r1025;var e=a_.tr(u,0,u.length,o.m,o.e),M=new S.kZ;
M.$=e;o.V9[0]=h7.G6("Working Path",{vmsk:M})}var B=o.add.pths;delete o.add.pths;var t=o.pU.r3000;if(t){s={};
dI.kY(t,s,4,!1);delete o.pU.r3000}if(B){var J=B.pathSymmetrySelectedPath;if(J){var L=B.pathList.v[J.v].v,k=L.pathUnicodeName.v;
o.Lt=k.startsWith("Tile Symmetry")}}for(var C=0;C<=997;C++){var r="r"+(2e3+C),u=o.pU[r];if(u==null)break;
var e=a_.tr(u,0,u.length,o.m,o.e),k="Path "+C;if(B){var Q=B.pathList.v[C].v;k=Q.pathUnicodeName.v;if(k=="Tile Symmetry 1")continue}var j9=s?s.keyRootDescriptorList.v[C].v.keyDescriptorList.v:S.D8(e),M=new S.kZ;
M.$=e;o.V9.push(h7.G6(k,{vmsk:M,vogk:j9}));delete o.pU[r]}delete o.L1;if(o.pU.r4000){o.jr=d.jr.qz(o.pU.r4000)}var a4=o.pU.r7000,ar=o.pU.r7001;
if(a4){var ez=_.DI(a4);o.YK=gA.aAc(ez)}if(ar){var ez=_.DI(ar);o.Mv=gA.aqp(ez)}delete o.pU.r7000;delete o.pU.r7001;
var ja=new hD(0,0,o.m,o.e),c3=o.add.Txt2,hW=c3;if(hW){hW=hW.wc;if(hW._DocumentResources==null)hW=jM.axc(hW)}var ee=-1;
for(var y=0;y<o.B.length;y++){var z=o.B[y],hM=z.add.lsct,ds=z.add.vmsk,cp=z.ue();if(hM==eo.iE){aW++;
z.add.lspf=0}else if(hM==eo.bl||hM==eo.g5)aW--;if(z.name==""){z.name="Layer "+(y+1);fV=!0}if(fV&&z.f$()&&z.YF=="norm")z.YF="pass";
if(z.Mn()&&z.wm(o)==null)delete z.add.SoLd;if(z.Mn()&&z.wm(o).F){var eA=z.wm(o);eA.F.isEnabled=z.add.SoLd.filterFX.v.filterMaskEnable.v}if(ds&&z.sB()){var db=eF.oc.Ta(!0);
if(z.add.vstk==null)z.add.vstk=JSON.parse(JSON.stringify(db));else{var js="strokeStyleLineDashSet";if(z.add.vstk[js]==null)z.add.vstk[js]=JSON.parse(JSON.stringify(db[js]))}z.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
z.add.vstk.strokeStyleResolution.v=o.aE}if(ds&&(z.add.vogk==null||d.j.rD(ds.$)!=z.add.vogk.length))z.D8();
if(!1){var bF=z.add.vogk,jI=!0;for(var gF=0;gF<bF.length;gF++){var b6=bF[gF].v.keyShapeInvalidated;if(b6==null||b6.v==!1)jI=!1}if(jI)z.D8()}if(z.add.SoLd&&z.rect.xf()){console.log("redrawing smart instance");
z.Mc(o)}if(cp==null&&z.F!=null){if(z.F.j9==!1){z.F.j9=!0;z.DJ=z.F.clone()}}cp=z.ue();if(z.BD){var db=z.BD,M=ds;
if(cp){cp.SJ=db[0];cp.cG=db[1]}if(M){M.SJ=db[2];M.cG=db[3]}z.BD=null}if(cp!=null&&ds!=null&&(cp.cG+ds.cG!=0||cp.SJ+ds.SJ!=2*255))z.WG(o);
else if(ds!=null&&!z.sB())z.WG();else if(cp&&cp.SJ!=255&&z.sB())z.WG(o);var ji=z.add.artb;if(ji&&ji.artboardBackgroundType==null)ji.artboardBackgroundType={t:"long",v:1};
if(ji&&aW!=0)delete z.add.artb;var hd=z.add.vstk;if(z.sB()&&(z.rect.xf()||ds&&ds.cG!=0||hd&&!hd.fillEnabled.v&&(!hd.strokeEnabled.v||hd.strokeStyleLineWidth.v.val==0)))z.Da(o);
if(z.add.TySh){fO=!0;if(!z.rect.xf())ei=!1}if(z.add.TySh&&hW){ee++;var eZ=z.add.TySh.e9,hj=b_.Ec(eZ),eK=hW._DocumentObjects._TextObjects;
if(eK.length<=ee){console.log("Txt2 incomplete");continue}var cX=eK[ee]._Model,bW=cX._StyleRun?cX._StyleRun._RunArray:[],ju=eZ.EngineDict.StyleRun.RunArray;
for(var ci=0;ci<ju.length;ci++){var hH=ju[ci].StyleSheet.StyleSheetData;if(bW[ci]==null)continue;var b8=bW[ci]._RunData._StyleSheet._Features;
if(b8&&b8._BaselineDirection)hH.BaselineDirection=parseInt(b8._BaselineDirection.slice(1));if(b8&&b8._FillBackgroundFlag)hH._FillBackgroundFlag=b8._FillBackgroundFlag;
if(b8&&b8._FillBackgroundColor){var gh=b8._FillBackgroundColor,aN=gh._Color._Values.slice(0);for(var W=0;
W<4;W++)aN[W]=parseFloat(aN[W].slice(1));hH._FillBackgroundColor={Type:1,Values:aN}}if(b8&&b8._LineWidth)hH._LineWidth=parseFloat(b8._LineWidth.slice(1))}var eS=eZ.EngineDict.ParagraphRun.RunArray,b2=cX._ParagraphRun._RunArray;
if(b2==null)b2=[];var fZ=Math.min(b2.length,eS.length);for(var W=0;W<fZ;W++){var dw=eS[W].ParagraphSheet.Properties,ib=hW._DocumentResources._ParagraphSheetSet._Resources,eJ=b2[W]._RunData._ParagraphSheet;
if(typeof eJ=="string")eJ=ib[parseInt(eJ.slice(1))]._Resource;var df=eJ._Parent==null?eJ:ib[parseInt(eJ._Parent.slice(1))]._Resource;
eJ=eJ._Features;df=df._Features;var k5=eJ._ParagraphDirection;if(k5==null)k5=df._ParagraphDirection;
if(k5)dw._Direction=parseInt(k5.slice(1));if(eJ._ComposerEngine)dw._ComposerEngine=parseInt(eJ._ComposerEngine.slice(1))}if(cX._AlternateGlyphRun){var b2=cX._AlternateGlyphRun._RunArray,fZ=b2.length,eC=eZ.EngineDict.AlternateGlyphRun=b_.a7K();
for(var W=0;W<fZ;W++){var eJ=b2[W],j7={},cK=eJ._RunData._AlternateGlyphSheet;if(cK)j7.Glyph=parseInt(cK._Glyph.slice(1));
eC.RunArray.push(j7);eC.RunLengthArray.push(parseInt(eJ._Length.slice(1)))}}var bw=hW._DocumentResources,f6=bw._TextFrameSet._Resources,iF=f6[ee]._Resource,ag=iF._Data,bS=new dF(1,0,0,1,0,0);
if(iF._0){var b$=parseFloat(iF._0[0].slice(1)),aj=parseFloat(iF._0[1].slice(1));bS.translate(b$,aj)}if(hj){bS.translate(hj[0],hj[1]);
b_.X$(eZ,[0,0,hj[2]-hj[0],hj[3]-hj[1]])}else{if(iF._Bezier&&iF._Bezier._Points){var e=iF._Bezier._Points,b$=parseFloat(e[0].slice(1)),aj=parseFloat(e[1].slice(1));
if(b$!=0||aj!=0){bS.translate(b$,aj)}}}if(iF._Data&&iF._Data._FrameMatrix){var iV=iF._Data._FrameMatrix;
iV=iV.map(function(a6){return parseFloat(a6.slice(1))});bS.concat(new dF(iV[0],iV[1],iV[2],iV[3],iV[4],iV[5]))}bS.concat(z.add.TySh.i);
z.add.TySh.i=bS;var h=ag._Type?parseInt(ag._Type.slice(1)):0;if(h==2||h==1&&ag._PathData&&ag._PathData._Spacing=="i-3")if(iF._Bezier){var g0=function(a6){return parseFloat(a6.slice(1))},e=iF._Bezier._Points.map(g0);
if(hj)d.M.i(e,new dF(1,0,0,1,-hj[0],-hj[1]),e);var eB=ag._PathData?ag._PathData._Reversed:!1,c7=ag._TextOnPathTRange;
if(c7==null)c7=["f-3","f-3"];eZ.Curve={Points:e,TextOnPathTRange:c7.map(g0),Reversed:eB==null?!1:eB};
z.add.TySh.add={vmsk:new S.kZ,vogk:null};b_.Ac(z.add.TySh)}if(ag._LineOrientation=="i2")eZ._LineOrientation=2}}m.gL.dB(o,!0);
var dU={},fr=[];for(var y=0;y<o.B.length;y++){var kk=o.B[y].add.lyid;if(kk==null)continue;var cz=Math.max(cz,kk);
if(dU[kk]!=null)fr.push(y);else dU[kk]=!0}for(var y=0;y<fr.length;y++)o.B[fr[y]].add.lyid=cz+1+y};gA.a0O=function(K,o){var Y=_.s(K,o+12),c=[];
for(var y=0;y<Y;y++){var z=K[o+16+y*5+4],f=_.LM(K,o+16+y*5)/32;c.push([z,f])}return c};gA.aAc=function(K){var o=new DOMParser,Y=o.parseFromString(K,"text/xml").firstChild.children[0],c=Y.getElementsByTagName("variables");
if(c.length==0)return[];c=c[0].children;var z=[],f="varName trait docRef placementMethod align valign clip".split(" ");
for(var $=0;$<c.length;$++){var E=c[$],b={};z.push(b);for(var q=0;q<f.length;q++){var O=f[q],j=E.getAttribute(O);
if(j==null)continue;b[O]=j}}return z};gA.aqp=function(K){var o=new DOMParser,Y=o.parseFromString(K,"text/xml").firstChild.children,c=[[]];
if(Y==null)return c;for(var y=0;y<Y.length;y++){var z=Y[y],f=[];c.push(f);for(var $=0;$<z.children.length;
$++){var E=z.children[$];if(y==0)c[0].push(E.tagName);f.push(E.textContent)}}return c};gA.ol=function(K,o,Y){m.gL.m0(K);
m.gL.dB(K,!1);K.L1=Y[3]==!0;var c=[],z=[],i=0,x=1,g=16,ei=0;for(var y=0;y<K.B.length;y++){var f=K.B[y];
if(f.Mn()&&f.wm(K).F){f.add.SoLd.filterFX.v.filterMaskEnable.v=f.wm(K).F.isEnabled}if(f.add.TySh){var $=f.add.TySh.e9,E=b_.C8($);
f.add.TySh.XE.TextIndex={t:"long",v:c.length};c.push($);if(E==2)b_.eV(f.add.TySh)}var b=f.add.vstk;if(b)b.strokeStyleResolution.v=K.aE;
if(f.sB()||Y[2]&&f.add.SoLd){z[y]=[f.rect,f.buffer];f.rect=new hD;f.buffer=d.R(0);if(f.add.SoLd){var q=f.wm(K);
if(q!=null){z[y].push(q.buffer);q.buffer=d.R(q.buffer.length)}}}}if(c.length>0){var O=K.add.Txt2?K.add.Txt2.wc:null;
if(K.add.Txt2==null)K.add.Txt2={};K.add.Txt2.wc=fm.ayX(c,null,O)}var j=[K.add.lnk2,K.add.FEid,K.add.Patt],A=K.ain(K.B);
K.au5(A);K.pU.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);_.aft(K.pU.r1005,0,K.aE);_.aft(K.pU.r1005,8,K.aE);
if(K.dW.length>0){var R=K.dW;K.pU.r1073=new Uint8Array(8+R.length*14);_._F(K.pU.r1073,0,3);_._F(K.pU.r1073,4,R.length);
for(var y=0;y<R.length;y++){var g=8+14*y;_.Lo(K.pU.r1073,g,14);_.U7(K.pU.r1073,g+2,R[y].y);_.U7(K.pU.r1073,g+6,R[y].x);
_.Lo(K.pU.r1073,g+10,-1);_.Lo(K.pU.r1073,g+12,8)}}if(K.oy()){K.pU.r1022=new Uint8Array([0,3+K.Kl.length-1,0])}else delete K.pU.r1022;
var H=new Uint8Array(K.B.length*2),h=new Uint8Array(K.B.length);for(var y=0;y<K.B.length;y++){var f=K.B[y],F=f.RY,X=f.kw?1:0;
_.Lx(H,y*2,F);h[y]=X;if(F>i)i=F;if(X==0)x=0}if(i>0)K.pU.r1026=H;if(x<1)K.pU.r1072=h;var V=K.xS,U=V.length,Z=K.pU.r1032=d.R(16+5*U,!0);
_.oM(Z,0,1);_.oM(Z,4,576);_.oM(Z,8,576);_.oM(Z,12,U);for(var y=0;y<U;y++){_._F(Z,g,Math.round(V[y][1]*32));
Z[g+4]=V[y][0];g+=5}if(Y[4]!=!0){var T=[K.buffer,new hD(0,0,K.m,K.e)],v=0;d.pa(T);while(T[v+1].Z()>200*200)v+=2;
var P=fv.WD("jpg"),p=T[v+1],a=new Uint8Array(P.vc([[T[v].buffer]],p.m,p.e)),Z=K.pU.r1036=new Uint8Array(28+a.length);
_.oM(Z,0,1);_.oM(Z,4,p.m);_.oM(Z,8,p.e);_.oM(Z,12,p.m*3);_.oM(Z,16,p.Z()*3);_.oM(Z,20,a.length);_.Lx(Z,24,24);
_.Lx(Z,26,1);Z.set(a,28)}var D=d.X1(K.buffer);if(K.add.fcmy)D=!1;var n=[];if(D)n.push({name:"Transparency",ws:{o:255,A:0,J:0},O2:100,tM:1});
n=n.concat(K.Kl);delete K.pU.r1045;delete K.pU.r1006;delete K.pU.r1077;var N=new jQ;g=0;var W=new Uint8Array(4+n.length*13);
W[3]=1;for(var y=0;y<n.length;y++){var G=n[y],l=G.name+"\0";_.tB(N,g,l);g+=4+l.length*2;var u=4+y*13;
fl.W8(W,u,G.ws);W[u+11]=G.O2;W[u+12]=G.tM}if(g!=0)K.pU.r1045=N.data.slice(0,g);K.pU.r1077=W;for(var y=0;
y<K.FT.length;y++)K.FT[K.FT.length-y-1].v.sliceID.v=2+y*3;var e={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:K.FT}},N=new jQ;
_.kp(N,0,8);_.kp(N,4,16);var M=dI.Yw(N,e,8);K.pU.r1050=N.data.slice(0,M+8);var N=new jQ;_.kp(N,0,16);
var M=dI.Yw(N,K.Fe,4);K.pU.r1065=N.data.slice(0,M+4);var B=K.Y;Z=K.pU.r1069=d.R(2+B.length*4,!0);_.Lx(Z,0,B.length);
for(var y=0;y<B.length;y++)_.oM(Z,2+4*y,K.B[B[y]].add.lyid);delete K.pU.r1058;delete K.pU.r1060;if(Object.keys(K.Ou).length!=0){var s=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
fT.Xm(K.Ou,s[0],Y[0]&&Y[1]);K.pU.r1058=new Uint8Array(UTIF.encode(s));var t=fT.yE(K.Ou);K.pU.r1060=_.tA(t)}var J=[],L=[],k=K.V9.slice(0);
if(K.Lt){var C=a_.asJ([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),r=new S.kZ;
r.$=C;k.push(h7.G6("Tile Symmetry 1",{vmsk:r,vogk:S.D8(C)}))}for(var y=0;y<k.length;y++){var Q=k[y],C=Q.add.vmsk.$;
if(y==0&&C.length==2)continue;var j9=d.R(C.length*26);a_.eC(j9,0,C,K.m,K.e);var a4=y==0?1025:2e3+y-1;
K.pU["r"+a4]=j9;if(y!=0){var ar={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:Q.name}};if(Q.name=="Tile Symmetry 1")ar.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
J.push({t:"Objc",v:ar});L.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:Q.add.vogk}}})}}if(J.length!=0){K.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:J}};
if(K.Lt)K.add.pths.pathSymmetrySelectedPath={t:"long",v:J.length-1};L={classID:"null",keyRootDescriptorList:{t:"VlLs",v:L}};
var N=new jQ;_.kp(N,0,16);var M=dI.Yw(N,L,4);K.pU.r3000=N.data.slice(0,M+4)}else{delete K.add.pths;delete K.pU.r3000}if(K.jr&&K.jr.length!=0){K.pU.r4000=d.jr.ol(K.jr)}if(K.YK.length!=0){var ez="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var y=0;y<K.YK.length;y++){var ja=K.YK[y],c3=[];for(var a4 in ja)c3.push(a4+"=\""+ja[a4]+"\"");ez+="<variable "+c3.join(" ")+">\n</variable>\n"}ez+="</variables>\n</variableSet>\n</variableSets>";
K.pU.r7000=_.tA(ez)}if(K.Mv.length!=0){var ez="<sampleDataSets psdPath=\""+K.name+"\">\n";for(var y=1;
y<K.Mv.length;y++){var hW=K.Mv[y];ez+="<sampleDataSet dataSetName=\"Data Set "+y+"\">\n";for(var fO=0;
fO<hW.length;fO++)ez+="<"+K.Mv[0][fO]+">"+hW[fO].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+K.Mv[0][fO]+">\n";
ez+="</sampleDataSet>\n"}ez+="</sampleDataSets>";K.pU.r7001=_.tA(ez)}ei=gA.aAF(K,o,ei,3+n.length);ei=gA.asx(K,o,ei);
ei=gA.azZ(K,o,ei);ei=gA.ae1(K,o,ei,Y,D);ei=gA.ahR(K,o,ei,Y[0],D);var fV=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var y=0;y<fV.length;y++)delete K.pU["r"+fV[y]];for(var y=0;y<K.B.length;y++){var f=K.B[y];if(f.sB()||Y[2]&&f.add.SoLd){f.rect=z[y][0];
f.buffer=z[y][1];if(z[y][2]){var q=f.wm(K);z[y].push(q.buffer);q.buffer=z[y][2]}}}K.au5(j);m.gL.dB(K,!0);
delete K.L1;return ei};gA.Cx=function(K,o,Y){var c=_.H9(o,Y,4);Y+=4;if(c!="8BPS")alert("invalid header signature: "+c);
var z=_.vP(o,Y);Y+=2;K.L1=z==2;if(z!=1&&z!=2)alert("invalid version: "+z);Y+=6;K.e4=_.vP(o,Y);Y+=2;K.e=_.LM(o,Y);
Y+=4;K.m=_.LM(o,Y);Y+=4;K.Vf=_.vP(o,Y);Y+=2;K.V$=_.vP(o,Y);Y+=2;return Y};gA.aAF=function(K,o,Y,c){var z=K.add.fcmy==1;
o.d7(0,64);_.yH(o.data,Y,"8BPS");Y+=4;_.Lx(o.data,Y,K.L1?2:1);Y+=2;_.oM(o.data,Y,0);Y+=4;_.Lx(o.data,Y,0);
Y+=2;_.Lx(o.data,Y,c+(z?1:0));Y+=2;_._F(o.data,Y,K.e);Y+=4;_._F(o.data,Y,K.m);Y+=4;_.Lx(o.data,Y,8);
Y+=2;_.Lx(o.data,Y,z?4:3);Y+=2;return Y};gA.anX=function(K,o,Y){var c=_.LM(o,Y);Y+=4;if(c!=0)K.Zl=o.slice(Y,Y+c);
Y+=c;return Y};gA.asx=function(K,o,Y){_.sr(o,Y,0);Y+=4;return Y};gA.avE=function(K,o,Y){var c=_.s(o,Y),z=0;
Y+=4;var f=[];while(z<c){var $=_.H9(o,Y+z,4);z+=4;var E=_.vP(o,Y+z);z+=2;var b=_.Cg(o,Y+z);z+=b.length;
if($=="MeSa"&&(E==7e3||E==7001)){}else if($!="8BIM"){f.push(E);console.log("Unknown Image Resources signature: "+$+", ID: "+E)}var q=_.s(o,Y+z);
z+=4;if(K.pU["r"+E]!=null)console.log("--- two resources with same ID");K.pU["r"+E]=_.LF(o,Y+z,q);z+=q+(q&1)}for(var y=0;
y<f.length;y++)delete K.pU["r"+f[y]];return Y+c};gA.azZ=function(K,o,Y){var c=Y,$=0;Y+=4;var z=[];for(var f in K.pU){z.push(parseInt(f.slice(1)))}z.sort(function(j,A){return j-A});
for(var y=0;y<z.length;y++){var E=z[y];_.cK(o,Y+$,E==7e3||E==7001?"MeSa":"8BIM");$+=4;_.z1(o,Y+$,E);
$+=2;var b=_.UF(o,Y+$,"");$+=b;var q=K.pU["r"+E],O=q.length;_.kp(o,Y+$,O);$+=4;_.Wf(o,Y+$,q);$+=O;if(O%2==1)$++}_.kp(o,c,$);
return Y+$};gA.a3H=function(K,o,Y){var c=Y,z,f,$=K.L1?8:4;if(K.L1)z=_.Io(o,Y);else z=_.s(o,Y);Y+=$;if(z==0)return c+$;
f=gA.az_(K,o,Y);gA.PX(1,f-Y,"Layer Info");Y=f;f=gA.a9S(K,o,Y);gA.PX(1,f-Y,"Global Layer Mask Info");
Y=f;f=kE.aho(o,Y,c+$+z,K.add,K.L1,K);gA.PX(1,f-Y,"Project Add Info");Y=f;return c+$+z};gA.ae1=function(K,o,Y,c,z){var f=Y;
_.kp(o,Y,0);Y+=4;if(K.L1){_.kp(o,Y,0);Y+=4}Y=gA.ajD(K,o,Y,c,z);Y=gA.ata(K,o,Y);Y=kE.amt(o,Y,K.add,K.L1,K);
if(K.L1)_.G1(o,f,Y-f-8);else _.kp(o,f,Y-f-4);return Y};gA.az_=function(K,o,Y){var c,z=K.L1?8:4;if(K.L1)c=_.Io(o,Y);
else c=_.s(o,Y);Y+=z;if(c!=0)gA.E8(K,o,Y);return Y+c};gA.E8=function(K,o,Y){var c=_.AK(o,Y);Y+=2;var z=Math.abs(c);
for(var y=0;y<z;y++){var f=new S;Y=du.qz(f,K,o,Y);K.B[y]=f}var $=new hD(0,0,K.m,K.e);for(var y=0;y<z;
y++){var E=K.B[y],b=E.ue(),q=e7.qz(E,K,o,Y);if(q-Y>8)gA.PX(2,q-Y,"Lay: "+E.getName());Y=q;gA.aaT(E,$);
if(b)gA.aaT(b,$)}};gA.aaT=function(K,o){};gA.ajD=function(K,o,Y,c,z){var f=Y,$=K.L1;Y+=$?8:4;Y=gA.afR(K,o,Y,c,z);
var E=Y-f-($?8:4);if(E%2!=0)E++;if($)_.G1(o,f,E);else _.kp(o,f,E);return f+E+($?8:4)};gA.afR=function(K,o,Y,c,z){var f=K.B.length;
_.no(o,Y,z?-f:f);Y+=2;var $=[];for(var y=0;y<f;y++)Y=du.ol(K.B[y],K,o,Y,$);for(var y=0;y<f;y++)Y=e7.lW(K.L1,K.B[y],o,Y,$[y],c,K.add.fcmy==1);
return Y};gA.a9S=function(K,o,Y){var c=_.s(o,Y);Y+=4;Y+=c;return Y};gA.ata=function(K,o,Y){var c=_.kp(o,Y,0);
Y+=4;return Y};gA.a87=function(K,o,Y){var c=K.V$,z="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),f=[1,1,1,3,4,1,1,3],$,H;
if(c!=3){if(c==1||c==2||c==4)console.log("Project will be converted from "+z[c]+" to "+z[3]+" mode.");
else{alert("Color mode "+z[c]+" is not supported yet :(")}if(c==4)K.add.fcmy=1}if(K.pU.r1045){$=[];var E=K.pU.r1045,b=0;
while(b<E.length){var q=_.mN(E,b);$.push(q);b+=4+2+q.length*2}}var O=f[c]+($==null||$[0]=="Transparency"?1:0),j=K.m,A=K.e,R=j*A,g=_.vP(o,Y);
Y+=2;K.buffer=d.R(R*4);d.nz(K.buffer,4278190080);var i=Y;for(var h=0;h<K.e4;h++){if(g==0){H=e7.i0(K.L1,K.Vf,o,j,A,Y,g);
Y+=R*(K.Vf>>>3)}else if(g==1){H=d.R(R);var x=K.L1?4:2;if(h==0)Y+=K.e4*A*x;Y+=e7.a2h(o,H,j,A,i+h*A*x,Y,x)}else{console.log("unknown compression of image data: ",g);
return}if(h<O){d.cb(H,K.buffer,h);if(K.e4==1&&h==0){d.cb(H,K.buffer,1);d.cb(H,K.buffer,2)}}else{var F=new S.tp,X=h-O,V=h-f[K.V$];
F.name=$?$[V]:"Alpha";if(F.name=="Quick Mask"){F.Gt=!0;K.Md.push(X)}F.rect=new hD(0,0,j,A);F.channel=H;
F.color=0;F.sc();K.Kl[X]=F;if(K.pU.r1077){var E=K.pU.r1077.slice(4+V*13);F.ws=fl.gP(E,0);F.O2=E[11];
F.tM=E[12];if(F.tM==2)F.Gt=!0}}}K.e4=4;if(K.V$==2)for(var y=0;y<R;y++){var U=y*4,Z=K.buffer[U];K.buffer[U]=K.Zl[0+Z];
K.buffer[U+1]=K.Zl[256+Z];K.buffer[U+2]=K.Zl[512+Z]}return Y};gA.ahR=function(K,o,Y,c,z){var f=1,$=16,E=K.m,b=K.e,O,j;
_.z1(o,Y,f);Y+=2;var q=E*b;if(!c){j=new d.ok(E*b);d.w9(K.buffer,j);var A=j.o,R=j.A,g=j.J,H=j.g;for(var y=0;
y<q;y++){var i=H[y]*(1/255);A[y]=~~(A[y]*i+255*(1-i));R[y]=~~(R[y]*i+255*(1-i));g[y]=~~(g[y]*i+255*(1-i))}}else O=d.R(q);
var h=[O,O,O];if(!c)h=[j.o,j.A,j.J];if(K.add.fcmy==1){var x=O;if(!c){x=d.R(q);x.fill(255)}h.push(x)}if(z)h.push(c?O:j.g);
for(var y=0;y<K.Kl.length;y++){h.push(K.Kl[y].dQ(new hD(0,0,K.m,K.e)))}var F=Y;for(var X=0;X<h.length;
X++){o.d7(Y,E*b+4);O=h[X];if(f==0||f==2||f==3)Y=e7.bU(K.L1,O,o.data,E,b,Y,f);else{var V=K.L1?4:2;if(X==0)Y+=h.length*b*V;
var U=Y;Y+=e7.axv(O,o.data,E,b,F+X*b*V,Y,V)}}return Y};function bq(){}bq.qz=function(K){var o={};bq.X9(K,o,0,0);
return o};bq.ol=function(K,o){var Y=0;Y=bq.Pm(K,o,Y,0);return Y};bq.X9=function(K,o,Y,c){while(K[Y]!="<".charCodeAt(0))Y++;
Y+=2;while(!0){if(K[Y]=="/".charCodeAt(0)){Y++;var z=_.indexOf(K," ".charCodeAt(0),Y,Y+50),f=_.indexOf(K,"\n".charCodeAt(0),Y,Y+50);
if(f==-1)f=Infinity;if(z==-1)z=Infinity;var $=Math.min(f,z),E=_.H9(K,Y,$-Y),b=bq.lv(K,$+1,c+1,E);o[E]=b.b;
Y=$+1;Y+=b.size}else if(K[Y]==">".charCodeAt(0)){Y+=2;break}else{var q=K[Y];if(q==10||q==9||q==32)Y++;
else{console.log("unknown byte: "+q+", char: "+String.fromCharCode(q),Y);Y++}}}return Y};bq.Pm=function(K,o,Y,c){_.cK(o,Y,"<<\n");
Y+=3;var z=bq.aqJ;for(var f in K){_.bz(o,Y,"\t".charCodeAt(0),c+1);Y+=c+1;_.cK(o,Y,"/"+f);Y+=1+f.length;
if(z(K[f])||K[f]instanceof Array){_.cK(o,Y," ");Y++}else{_.cK(o,Y,"\n");Y++;_.bz(o,Y,"\t".charCodeAt(0),c+1);
Y+=c+1}Y=bq.G5(K[f],o,Y,c+1);_.cK(o,Y,"\n");Y++}_.bz(o,Y,"\t".charCodeAt(0),c);Y+=c;_.cK(o,Y,">>");Y+=2;
return Y};bq.lv=function(K,o,Y,c){var z=o,f={size:0,b:0};while(!0){while(K[o]==" ".charCodeAt(0)||K[o]=="\t".charCodeAt(0)||K[o]=="\n".charCodeAt(0))o++;
if(K[o]=="<".charCodeAt(0)){f.b={};o=bq.X9(K,f.b,o,Y+1);break}else if(K[o]=="(".charCodeAt(0)){o+=3;
var $=o;while(!0){if(K[$-1]!="\\".charCodeAt(0)&&K[$]==")".charCodeAt(0)&&(K[$+1]=="\n".charCodeAt(0)||K[$+1]==" ".charCodeAt(0)))break;
else $++}f.b=_.a1$(K,o,$);o=$+2;break}else if(K[o]=="[".charCodeAt(0)){o++;f.b=[];while(K[o]==" ".charCodeAt(0)||K[o]=="\t".charCodeAt(0)||K[o]=="\n".charCodeAt(0))o++;
while(K[o]!="]".charCodeAt(0)){var E=bq.lv(K,o,Y+1,c);f.b.push(E.b);o+=E.size;while(K[o]==" ".charCodeAt(0)||K[o]=="\t".charCodeAt(0)||K[o]=="\n".charCodeAt(0))o++}o++;
break}else{var b=_.indexOf(K," ".charCodeAt(0),o,o+50),q=_.indexOf(K,"\n".charCodeAt(0),o,o+50);if(q==-1)q=Infinity;
if(b==-1)b=Infinity;var O=_.H9(K,o,Math.min(b,q)-o).trim(),j=parseFloat(O);if(!isNaN(j)){f.b=parseFloat(O);
o=Math.min(b,q)+1;break}else if(O=="true"||O=="false"){f.b=O=="true";o=Math.min(b,q)+1;break}else if(O=="null"||O=="NaN"||O=="undefined"){f.b=0;
o=Math.min(b,q)+1;break}else{console.log("unknown identifier: "+O);throw"e"}o=Math.min(b,q)+1}}f.size=o-z;
return f};bq.G5=function(K,o,Y,c){if(K instanceof Array){var z=K.length==0||typeof K[0]=="number";if(z){_.cK(o,Y,"[ ");
Y+=2;for(var y=0;y<K.length;y++){var f=K[y]+" ";_.cK(o,Y,f);Y+=f.length}_.cK(o,Y,"]");Y+=1}else{_.cK(o,Y,"[\n");
Y+=2;for(var y=0;y<K.length;y++){_.bz(o,Y,"\t".charCodeAt(0),c);Y+=c;Y=bq.G5(K[y],o,Y,c);_.cK(o,Y,"\n");
Y++}_.bz(o,Y,"\t".charCodeAt(0),c);Y+=c;_.cK(o,Y,"]");Y+=1}}else if(K instanceof Object){Y=bq.Pm(K,o,Y,c)}else if(typeof K=="string"){_.cK(o,Y,"(");
Y++;_.bz(o,Y,254);Y++;_.bz(o,Y,255);Y++;Y=_.a4d(o,Y,K);_.cK(o,Y,")");Y+=1}else{var f=K+"";_.cK(o,Y,f);
Y+=f.length}return Y};bq.aqJ=function(K){var o=typeof K;return o=="string"||o=="number"||o=="boolean"};
function iQ(){}iQ.qz=function(K){var o={};iQ.azN(K,o,0,0);return o};iQ.ol=function(K,o){var Y=0;_.cK(o,Y," ");
Y++;Y=iQ.a3z(K,o,Y,0);Y--;o.d7(Y,2);o.data[Y]=o.data[Y+1]=0;Y+=2;return Y};iQ.X9=function(K,o,Y,c){while(K[Y]!="<".charCodeAt(0)){Y++;
console.log("šipka")}Y+=2;Y=iQ.azN(K,o,Y,c);return Y};iQ.Pm=function(K,o,Y,c){_.cK(o,Y,"<< ");Y+=3;Y=iQ.a3z(K,o,Y,c);
_.cK(o,Y,">>");Y+=2;return Y};iQ.iv=function(K){return K==9||K==10||K==32};iQ.azN=function(K,o,Y,c){while(!0){while(iQ.iv(K[Y])||K[Y]==0)Y++;
if(Y>=K.length)break;if(K[Y]=="/".charCodeAt(0)){Y++;var z=Y;while(!iQ.iv(K[z]))z++;var f=_.H9(K,Y,z-Y);
Y=z+1;var $=iQ.lv(K,Y,c,f);o["_"+f]=$.b;Y+=$.size}else if(K[Y]==">".charCodeAt(0)){Y+=2;break}else{var E=K[Y];
console.log(_.H9(K,Y,Y+100));console.log("unknown byte: "+E+", char: "+String.fromCharCode(E)+", offset: "+Y);
Y++;throw"e";return-1}}return Y};iQ.a3z=function(K,o,Y,c){for(var z in K){var f=z.substring(1,z.length);
_.cK(o,Y,"/"+f);Y+=1+f.length;_.cK(o,Y," ");Y++;Y=iQ.G5(K[z],o,Y,c+1,f);_.cK(o,Y," ");Y++}return Y};
iQ.lv=function(K,o,Y,c){var z=o,f={type:"",size:0,b:0};while(iQ.iv(K[o]))o++;if(K[o]=="<".charCodeAt(0)){f.type="Object";
f.b={};o=iQ.X9(K,f.b,o,Y+1)}else if(K[o]=="(".charCodeAt(0)){f.type="String";o++;if(K[o]==")".charCodeAt(0)){f.b="e";
o++}else if(K[o]==254&&K[o+1]==255){o+=2;var $=o,E=0;while(!0){if(K[$]==")".charCodeAt(0)&&K[$-1]!="\\".charCodeAt(0))break;
else $+=1}f.b="s"+_.a1$(K,o,$);o=$+2}else{var $=o;while(K[$]!=")".charCodeAt(0))$++;f.b="s"+_.H9(K,o,$-o);
o=$+1}}else if(K[o]=="[".charCodeAt(0)){o++;f.b=[];f.type="Array";while(iQ.iv(K[o]))o++;while(K[o]!="]".charCodeAt(0)){var b=iQ.lv(K,o,Y+1,c);
if(b==-1)return-1;f.b.push(b.b);o+=b.size;delete b.size;while(iQ.iv(K[o]))o++}o++}else{var q=o;while(!iQ.iv(K[q]))q++;
var O=_.H9(K,o,q-o),j=parseFloat(O);if(!isNaN(j)&&O.indexOf(".")!=-1){f.type="Float";var A=parseFloat(O);
f.b="f"+A}else if(!isNaN(j)&&O.indexOf(".")==-1){f.type="Integer";f.b="i"+parseInt(O)}else if(O=="true"||O=="false"){f.type="Boolean";
f.b=O=="true"}else if(O.charAt(0)=="/"){f.type="BString";f.b=O}else if(O=="NaN"||O=="undefined"){f.type="Float";
f.b="f0"}else{console.log("unknown value",JSON.stringify(O));throw"e"}o=q+1}f.size=o-z;return f};iQ.a6s=function(K){if(K==Math.round(K))return K+".0";
var o=K.toFixed(5);while(o.endsWith("0")&&o[o.length-2]!=".")o=o.slice(0,o.length-1);if(0<K&&K<1)o=o.slice(1);
if(-1<K&&K<0)o="-"+o.slice(2);return o};iQ.G5=function(K,o,Y,c,z){var f=typeof K=="string"?K.charAt(0):"";
if(K instanceof Array){_.cK(o,Y,"[ ");Y+=2;for(var y=0;y<K.length;y++){Y=iQ.G5(K[y],o,Y,c,"");_.cK(o,Y," ");
Y++}_.cK(o,Y,"]");Y+=1}else if(K instanceof Object){Y=iQ.Pm(K,o,Y,c)}else if(f=="e"){_.cK(o,Y,"()");
Y+=2}else if(f=="s"){_.cK(o,Y,"(");Y++;if(z=="97"){_.cK(o,Y,K.slice(1));Y+=K.length-1}else{_.bz(o,Y,254);
Y++;_.bz(o,Y,255);Y++;Y=_.a4d(o,Y,K.slice(1))}_.cK(o,Y,")");Y++}else if(f=="/"){_.cK(o,Y,K);Y+=K.length}else if(f=="f"){var $=parseFloat(K.substring(1)),E=iQ.a6s($);
_.cK(o,Y,E);Y+=E.length}else if(f=="i"){_.cK(o,Y,K.substring(1));Y+=K.length-1}else{var E=K+"";_.cK(o,Y,E);
Y+=E.length}return Y};function _(){}_.aj9=function(h4){var K="";for(var y=3;y>=0;y--)K+=String.fromCharCode(h4>>y*8&255);
return K};_.a3G=function(K){var h4=0;for(var y=K.length-1;y>=0;y--)h4|=K.charCodeAt(y)<<(3-y)*8;return h4};
_.indexOf=function(K,o,Y,c){if(Y==null)Y=0;if(c==null)c=K.length;c=Math.min(c,K.length);for(var y=Y;
y<c;y++)if(K[y]==o)return y;return-1};_.oR=function(K,o,Y){if(Y==null)Y=0;var c=o.length,z=K.length-c;
if(typeof o=="string"){var f=[];for(var y=0;y<c;y++)f.push(o.charCodeAt(y));o=f}if(o.length>0){var $=o[0];
for(var y=Y;y<z;y++)if(K[y]==$){var E=!0;for(var b=1;b<c;b++)if(o[b]!=K[y+b]){E=!1;break}if(E)return y}}return-1};
_.a1$=function(K,o,Y){var c=[],f="";while(o<Y){var z=K[o++];if(z=="\\".charCodeAt(0))c.push(K[o++]);
else c.push(z)}for(var y=0;y<c.length;y+=2)f+=String.fromCharCode(c[y]<<8|c[y+1]);return f};_.a6q=function(K,o,Y){var c=new Uint8Array(2);
for(var y=0;y<Y.length;y++){_.Lx(c,0,Y.charCodeAt(y));if(c[0]==")".charCodeAt(0)||c[0]=="(".charCodeAt(0)||c[0]=="\\".charCodeAt(0)){K[o]="\\".charCodeAt(0);
o++}K[o]=c[0];o++;if(c[1]==")".charCodeAt(0)||c[1]=="(".charCodeAt(0)||c[1]=="\\".charCodeAt(0)){K[o]="\\".charCodeAt(0);
o++}K[o]=c[1];o++}return o};_.a4d=function(K,o,Y){K.d7(o,4*Y.length);return _.a6q(K.data,o,Y)};_.IF=function(K,o,Y){var c="";
for(var y=0;y<Y;y++){var z=K[o++]|K[o++]<<8;c+=String.fromCharCode(z)}return c};_.k$=function(K,o,Y){var c="";
for(var y=0;y<Y;y++){var z=K[o++]<<8|K[o++];c+=String.fromCharCode(z)}return c};_.axk=function(K,o,Y){for(var y=0;
y<Y.length;y++){var c=Y.charCodeAt(y);_.ep(K,o+2*y,c)}};_.ab7=function(K,o,Y){for(var y=0;y<Y.length;
y++){var c=Y.charCodeAt(y);_.Lx(K,o+2*y,c)}};_.anH=function(K,o,Y){K.d7(o,2*Y.length);_.ab7(K.data,o,Y)};
_.af$=function(K,y,o){var Y=[],c=0,z=0;o+=y;while(y<o){c=K[y++];if((c&128)==0)z=c;else if((c&224)==192){z=(c&31)<<6;
c=K[y++];z|=c&63}else if((c&240)==224){z=(c&15)<<12;c=K[y++];z|=(c&63)<<6;c=K[y++];z|=c&63}else if((c&248)==240){z=(c&7)<<18;
c=K[y++];z|=(c&63)<<12;c=K[y++];z|=(c&63)<<6;c=K[y++];z|=c&63}else throw"e";Y.push(z)}return Y};_.aC7=window.TextDecoder?new window.TextDecoder("utf8"):null;
_.DI=function(K,o,Y){if(o==null)o=0;if(Y==null)Y=K.length;if(_.aC7&&o==0&&Y==K.length)return _.aC7.decode(K);
var c=_.af$(K,o,Y),z=c.length;for(var y=0;y<z;y++)c[y]=String.fromCharCode(c[y]);return c.join("")};
_.a0P=window.TextEncoder?new window.TextEncoder("utf8"):null;_.tA=function(K){if(_.a0P)return _.a0P.encode(K);
var o=new Uint8Array(K.length*4),Y=_.dI(K,o,0);return o.slice(0,Y)};_.dI=function(K,o,Y){var c=K.length,y=0;
for(var z=0;z<c;z++){var f=K.charCodeAt(z);if((f&4294967295-(1<<7)+1)==0){o[Y+y]=f;y++}else if((f&4294967295-(1<<11)+1)==0){o[Y+y]=192|f>>6;
o[Y+y+1]=128|f>>0&63;y+=2}else if((f&4294967295-(1<<16)+1)==0){o[Y+y]=224|f>>12;o[Y+y+1]=128|f>>6&63;
o[Y+y+2]=128|f>>0&63;y+=3}else if((f&4294967295-(1<<21)+1)==0){o[Y+y]=240|f>>18;o[Y+y+1]=128|f>>12&63;
o[Y+y+2]=128|f>>6&63;o[Y+y+3]=128|f>>0&63;y+=4}else throw"e"}return y};_.uu=function(K,o){var Y=_.s(K,o),c=_.DI(K,o+4,Y-1);
return{ZO:c,HY:4+Y}};_.a2l=function(K,o){var Y=_.rT(K,o),c=_.IF(K,o+4,Y);return c};_.uV=function(K,o){var Y=_.s(K,o),c=_.k$(K,o+4,Y);
return c};_.mN=function(K,o){var Y=_.s(K,o),c=_.k$(K,o+4,Y-1);return c};_.aqT=function(K,o,Y){_.Ji(K,o,Y.length);
o+=4;_.axk(K,o,Y)};_.a5G=function(K,o,Y){_.oM(K,o,Y.length);o+=4;_.ab7(K,o,Y)};_.tB=function(K,o,Y){K.d7(o,4+2*Y.length);
_.a5G(K.data,o,Y)};_.a2u=function(K,o,Y){K.d7(o,4+2*Y.length);_.aqT(K.data,o,Y)};_.GD=function(K,o,Y){var c=[];
for(var y=0;y<Y;y++)c.push(String.fromCharCode(K[o+y]));return c};_.acX=function(K,o,Y){var c=!1,z=K.length-Y.length;
for(var y=o;y<z;y++){for(var f=0;f<Y.length;f++){if(K[y+f]!=Y.charCodeAt(f))break;if(f==Y.length-1)return y}}};
_.H9=function(K,o,Y){var c="";for(var y=0;y<Y;y++)c+=String.fromCharCode(K[o+y]);return c};_.yH=function(K,o,Y){for(var y=0;
y<Y.length;y++)K[o+y]=Y.charCodeAt(y)};_.cK=function(K,o,Y){K.d7(o,Y.length);_.yH(K.data,o,Y)};_.a60=function(K,o,Y){var c="";
for(var y=0;y<Y;y++){var z=K[o+y];if(z<10)c+="  ";else if(z<100)c+=" ";c+=z+", "}return c};_.vP=function(K,o){return K[o]<<8|K[o+1]};
_.Lx=function(K,o,h4){K[o]=h4>>8&255;K[o+1]=h4&255};_.z1=function(K,o,h4){K.d7(o,4);_.Lx(K.data,o,h4)};
_.sx=function(K,o){var Y=_.vP(K,o),c=_.vP(K,o+2);return Y+c*(1/65536)};_.aft=function(K,o,h4){var Y=Math.floor(h4),c=Math.floor((h4-Y)*65536);
_.Lx(K,o,Y);_.Lx(K,o+2,c)};_.Bt=function(K,o){return K[o+1]<<8|K[o]};_.ep=function(K,o,h4){K[o+1]=h4>>8&255;
K[o]=h4&255};_.O8=function(K,o,h4){K.d7(o,4);_.ep(K.data,o,h4)};_.AK=function(K,o){_.PE[0]=K[o+1];_.PE[1]=K[o];
return _.Zf[0]};_.ac=function(K,o){_.PE[0]=K[o];_.PE[1]=K[o+1];return _.Zf[0]};_.Lo=_.Lx;_.no=_.z1;_.LM=function(K,o){_.Oq[0]=K[o+3];
_.Oq[1]=K[o+2];_.Oq[2]=K[o+1];_.Oq[3]=K[o];return _.E7[0]};_._F=function(K,o,h4){_.E7[0]=h4;K[o+3]=_.Oq[0];
K[o+2]=_.Oq[1];K[o+1]=_.Oq[2];K[o+0]=_.Oq[3]};_.sr=function(K,o,h4){K.d7(o,4);_._F(K.data,o,h4)};_.uK=function(K,o,Y,c){Y[c+0]=K[o+0];
Y[c+1]=K[o+1];Y[c+2]=K[o+2];Y[c+3]=K[o+3]};_.rT=function(K,o){_.uK(K,o,_.Oq,0);return _.aeE[0]};_.Ji=function(K,o,h4){_.aeE[0]=h4;
_.uK(_.Oq,0,K,o)};_.hG=function(K,o,h4){K.d7(o,4);_.Ji(K.data,o,h4)};_.$C=function(K,o){_.uK(K,o,_.Oq,0);
return _.E7[0]};_.akW=function(K,o,h4){_.E7[0]=h4;_.uK(_.Oq,0,K,o)};_.atP=function(K,o,h4){K.d7(o,4);
_.akW(K.data,o,h4)};_.s=function(K,o){var Y=K[o]*(256*256*256)+(K[o+1]<<16|K[o+2]<<8|K[o+3]);return Y};
_.oM=function(K,o,h4){K[o]=h4>>24&255;K[o+1]=h4>>16&255;K[o+2]=h4>>8&255;K[o+3]=h4>>0&255};_.kp=function(K,o,h4){K.d7(o,4);
_.oM(K.data,o,h4)};_.Io=function(K,o){return _.s(K,o)<<32|_.s(K,o+4)};_.ayN=function(K,o,h4){_.oM(K,o,h4>>16>>16);
_.oM(K,o+4,h4&4294967295)};_.G1=function(K,o,h4){K.d7(o,8);_.ayN(K.data,o,h4)};_.yy=function(K,o){var Y=new Uint8Array(8);
for(var y=0;y<8;y++)Y[y]=K[o+7-y];var c=new Float64Array(Y.buffer);return c[0]};_.sA=function(K,o){var Y=new Uint8Array(8);
for(var y=0;y<8;y++)Y[y]=K[o+y];var c=new Float64Array(Y.buffer);return c[0]};_.o0=function(K,o,h4){var Y=new Float64Array(1);
Y[0]=h4;var c=new Uint8Array(Y.buffer);for(var y=0;y<4;y++){var z=c[y];c[y]=c[7-y];c[7-y]=z}for(var y=0;
y<8;y++)K[o+y]=c[y]};_.Vy=function(K,o,h4){K.d7(o,8);_.o0(K.data,o,h4)};_.$T=function(K,o){_.Oq[0]=K[o+3];
_.Oq[1]=K[o+2];_.Oq[2]=K[o+1];_.Oq[3]=K[o+0];return _.bJ[0]};_.dS=function(K,o){_.Oq[0]=K[o+0];_.Oq[1]=K[o+1];
_.Oq[2]=K[o+2];_.Oq[3]=K[o+3];return _.bJ[0]};_.U7=function(K,o,h4){_.bJ[0]=h4;K[o+0]=_.Oq[3];K[o+1]=_.Oq[2];
K[o+2]=_.Oq[1];K[o+3]=_.Oq[0]};_.a4T=function(K,o,h4){K.d7(o,4);_.U7(K.data,o,h4)};_.jV=function(K,o,h4){_.bJ[0]=h4;
K[o+0]=_.Oq[0];K[o+1]=_.Oq[1];K[o+2]=_.Oq[2];K[o+3]=_.Oq[3]};_.ajj=function(K,o,h4){K.d7(o,4);_.jV(K.data,o,h4)};
_.avc=function(K,o){var Y=_.LM(K,o),c=Y*(1/(1<<24));return c};_.a8m=function(K,o,Y){var c=Math.floor(Y*(1<<24));
_._F(K,o,c)};_.apM=function(K,o,Y){K.d7(o,4);_.a8m(K.data,o,Y)};_.Cg=function(K,o){var Y=K[o],c=_.H9(K,o+1,Y);
Y+=1-Y%2;return{kS:c,length:Y+1}};_.an8=function(K,o,Y){var c=Y.length;K[o]=c;_.yH(K,o+1,Y);if(c%2==0){K[o+1+c]=0;
++c}return c+1};_.UF=function(K,o,Y){K.d7(o,Y.length+2);return _.an8(K.data,o,Y)};_.T5=function(K,o){var Y=new dF;
Y.g=_.yy(K,o+0*8);Y.J=_.yy(K,o+1*8);Y.b0=_.yy(K,o+2*8);Y.gG=_.yy(K,o+3*8);Y.B3=_.yy(K,o+4*8);Y.Z7=_.yy(K,o+5*8);
return Y};_.CS=function(K,o,Y){_.o0(K,o+0*8,Y.g);_.o0(K,o+1*8,Y.J);_.o0(K,o+2*8,Y.b0);_.o0(K,o+3*8,Y.gG);
_.o0(K,o+4*8,Y.B3);_.o0(K,o+5*8,Y.Z7)};_.a8q=function(K,o,Y){K.d7(o,48);_.CS(K.data,o,Y)};_.a6$=function(K,o){var Y=_.$T(K,o),c=_.$T(K,o+4),z=_.$T(K,o+8),f=_.$T(K,o+12);
return new hD(Y,c,z-Y,f-c)};_.ade=function(K,o,Y){_.U7(K,o,Y.x);_.U7(K,o+4,Y.y);_.U7(K,o+8,Y.x+Y.m);
_.U7(K,o+12,Y.y+Y.e)};_.axB=function(K,o,Y){K.d7(o,16);_.ade(K.data,o,Y)};_.p1=function(K,o){var Y=_.LM(K,o),c=_.LM(K,o+4),z=_.LM(K,o+8),f=_.LM(K,o+12);
return new hD(c,Y,f-c,z-Y)};_.aAf=function(K,o,Y){_._F(K,o,Y.y);_._F(K,o+4,Y.x);_._F(K,o+8,Y.y+Y.e);
_._F(K,o+12,Y.x+Y.m)};_.Uk=function(K,o,Y){K.d7(o,16);_.aAf(K.data,o,Y)};_.LF=function(K,o,Y){var c=new Uint8Array(Y);
for(var y=0;y<Y;y++)c[y]=K[o+y];return c};_.ae5=function(K,o,Y){K.set(Y,o)};_.Wf=function(K,o,Y){K.d7(o,Y.length);
_.ae5(K.data,o,Y)};_.al_=function(K,o,Y,h4){if(!h4)h4=1;for(var y=0;y<h4;y++)K[o+y]=Y};_.bz=function(K,o,Y,h4){if(!h4)h4=1;
K.d7(o,h4);_.al_(K.data,o,Y,h4)};_.Zf=new Int16Array(1);_.PE=new Uint8Array(_.Zf.buffer);_.E7=new Int32Array(1);
_.aeE=new Uint32Array(_.E7.buffer);_.Oq=new Uint8Array(_.E7.buffer);_.bJ=new Float32Array(_.E7.buffer);
function iq(){}iq.qz=function(K,o){var Y=new Uint8Array(K),c=0,z=_.H9(Y,c,9),E=4,b=100;c+=9;var f=_.H9(Y,c,4);
c+=4;c++;o.m=_.s(Y,c);c+=4;o.e=_.s(Y,c);c+=4;var $=_.s(Y,c);c+=4;if($!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(f)==-1){b=_.s(Y,c);c+=4;if(parseInt(f.slice(1))>=7){b=b}else alert("Unknown XCF version: "+f);
E=8}var q={};c=iq.X7(Y,c,q);var O=[];c=iq.CE(Y,c,O,E);var j=[];c=iq.CE(Y,c,j,E);o.Ps=0;for(var y=0;y<O.length;
y++)iq.amg(Y,O[y],o,q,E,b);while(o.Ps>0){o.B.push(o.uR());o.Ps--}o.B.reverse();delete o.Ps;o.buffer=d.R(o.m*o.e*4);
if(o.B.length==0)console.log("No layers!!!");for(var y=0;y<j.length;y++){var A=iq.ary(Y,j[y],q,E,b);
if(A.oV[hE.atW])o.r={channel:A.Zx,rect:new hD(0,0,o.m,o.e)}}};iq.amg=function(K,o,Y,c,z,f){var $=Y.Uu(),E=_.s(K,o),j=0;
o+=4;var b=_.s(K,o);o+=4;$.rect=new hD(0,0,E,b);var q=_.s(K,o);o+=4;var O=_.uu(K,o);o+=O.HY;$.vd(O.ZO);
var A={};o=iq.X7(K,o,A);if(A[hE.azR]){var R=A[hE.azR];j=R.length/4-1}if(A[hE.rc]){$.rect.x=_.LM(A[hE.rc],0);
$.rect.y=_.LM(A[hE.rc],4)}if(A[hE.aoP]){$.opacity=_.s(A[hE.aoP],0)}if(A[hE.a7u]){$.add.lsct=eo.bl;$.Gh=24}if(A[hE.afc]){var g=_.s(A[hE.afc],0);
$.YF=hE.a4b[g];if($.f$()&&$.YF=="norm")$.YF="pass"}if(A[hE.abP]){if(_.s(A[hE.abP],0)==0)$.Gh+=2}if(A[hE.av8]){var H=_.s(A[hE.av8],0);
$.add.lsct=H&1==1?eo.bl:eo.g5}if(A[hE.th]){var i=A[hE.th];for(var h in i){var x=i[h];if(h=="gimp-text-layer"){var F=iq.aA5(x),X=F.text,V=F.font,U=F.color,Z=F["font-size"];
if(X==null&&F.markup){var T=new DOMParser,v=T.parseFromString(F.markup,"image/svg+xml");while(v.firstChild!=null&&v.firstChild.tagName!=null){v=v.firstChild;
var P=v.getAttribute("font"),p=v.getAttribute("foreground"),a=v.getAttribute("size");if(P!=null)V=P;
if(p!=null){p=CSS.gP(p);U=[1,p.o/255,p.A/255,p.J/255]}if(a!=null){Z=""+parseFloat(a)/245}}X=v.textContent}$.add.lnsr="rend";
$.add.TySh=b_.HO(0,0);$.add.TySh.jT=new hD(0,0,100,100);$.add.TySh.i=new dF(1,0,0,1,$.rect.x,$.rect.y);
var D=$.add.TySh.e9;b_.Df(D,0,X);var n=b_.Sw(D,0,0),N=F.justify,W=F["line-spacing"];if(U)n.Pf.FillColor={Type:1,Values:[1,parseFloat(U[1]),parseFloat(U[2]),parseFloat(U[3])]};
if(Z){Z=Math.round(parseFloat(Z));n.Pf.FontSize=Z;$.add.TySh.i.Z7+=Math.min(17,Z*.17)}if(W){W=Math.round(parseFloat(W)+n.Pf.FontSize*1.2);
n.Pf.Leading=W;n.Pf.AutoLeading=!1}if(N)n.Nd.Justification=["left","right","center","fill"].indexOf(N);
if(V&&V!="Sans-serif"){var G=V.toLowerCase(),l="bold italic semi extra regular condensed light".split(" "),u=G.length;
for(var y=0;y<l.length;y++){var e=G.indexOf(l[y]);if(e!=-1&&e<u&&G[e-1]==" ")u=e}if(u!=G.length)V=V.slice(0,u-1).split(" ").join("")+"-"+V.slice(u).split(" ").join("");
b_.iN(n,V)}b_.K2(D,0,X.length,n);var M=F["box-width"],B=F["box-height"],s=M?parseFloat(M):$.rect.m,t=B?parseFloat(B):$.rect.e;
b_.go(D,1);b_.X$(D,[0,0,Math.ceil(s),Math.ceil(t)])}else console.log("Unknown property "+h)}}while(Y.Ps>j){Y.B.push(Y.uR());
Y.Ps--}Y.Ps=j;if($.add.lsct==eo.bl||$.add.lsct==eo.g5)Y.Ps++;var J=z==4?_.s:_.Io,L=J(K,o);o+=z;var k=J(K,o);
o+=z;if($.Go()){$.buffer=d.R($.rect.Z()*4);var C=new d.ok($.rect.Z());iq.aw9(K,L,C,c,z,f);d.vF(C,$.buffer)}if(k!=0){$.F=new S.tp;
var r=iq.ary(K,k,c,z,f);$.F.channel=r.Zx;$.F.rect=$.rect.clone();if(A[hE.a6R])$.F.isEnabled=_.s(A[hE.a6R],0)==1;
$.F.color=$.F.channel[0];$.F.sc()}if($.f$())$.rect=new hD;Y.B.push($)};iq.aA5=function(K){var o="("+_.DI(K,0,K.length-1)+")",Y=[],c={};
iq.aAb(o,1,Y);iq.aeF(Y,c);return c};iq.aeF=function(K,o){for(var y=0;y<K.length;y++){var Y=K[y],c=Y[0];
if(Y.length==2)o[c]=Y[1];else o[c]=Y.slice(1)}};iq.aAb=function(K,o,Y){while(!0){if(o>=K.length)throw"e";
var c=K.charAt(o);o++;if(c=="("){var z=[];o=iq.aAb(K,o,z);Y.push(z)}else if(c==" "||c=="\n"||c=="\r"){}else if(c==")")return o;
else if(c=="\""){var f=o;while(!0){var $=K[o];o++;if($=="\"")break;if($=="\\")o++}Y.push(JSON.parse(K.slice(f-1,o)))}else{var f=o-1;
while(K[o]!=" "&&K[o]!=")")o++;Y.push(K.slice(f,o))}}};iq.ary=function(K,o,Y,c,z){var f=_.s(K,o);o+=4;
var $=_.s(K,o);o+=4;var E=_.uu(K,o);o+=E.HY;var b={};o=iq.X7(K,o,b);var q=new d.ok(f*$),O=c==4?_.s:_.Io,j=O(K,o);
o+=c;iq.aw9(K,j,q,Y,c,z);return{Zx:q.o,oV:b}};iq.aw9=function(K,o,Y,c,z,f){var $=_.s(K,o);o+=4;var E=_.s(K,o);
o+=4;var b=_.s(K,o);o+=4;var q=z==4?_.s:_.Io,O=q(K,o);o+=z;iq.au7(K,O,Y,c,b,z,f)};iq.au7=function(K,o,Y,c,z,f,$){var E=_.s(K,o),O=0,y=0;
o+=4;var b=_.s(K,o);o+=4;var q=new hD(0,0,E,b);if($==100||$==150)O=1;else if($==200||$==250)O=2;else if($==300||$==350)O=4;
else if($==500||$==550)O=2;else if($==600||$==650)O=4;else if($==700||$==750)O=8;else{alert("unsupported bit depth "+$);
throw"e"}var j=z/O,O=Math.round(z/j),A=[];o=iq.CE(K,o,A,f);var R=new d.ok(64*64*O),g=new hD,H=c[hE.a21][0],i=[R.o,R.A,R.J,R.g];
if(j==3)R.g.fill(255);var h=Date.now();if(A.length!=0)for(var x=0;x<b;x+=64)for(var F=0;F<E;F+=64){var X=Math.min(E-F,64),V=Math.min(b-x,64),U=X*V;
g.Ex(F,x,X,V);iq.awj(K,A[y++],U*O,H,j,i);if($==100||$==150){}else if($==250){for(var Z=0;Z<j;Z++){var T=i[Z];
for(var v=0;v<U;v++){var P=T[v]<<8|T[U+v];T[v]=Math.min(P>>>8,255)}}}else if($==600){var p=iq.ar1(),a=new Uint32Array(1),D=new Float32Array(a.buffer);
for(var Z=0;Z<j;Z++){var T=i[Z];for(var v=0;v<U;v++){a[0]=T[v]<<24|T[U+v]<<16|T[(U<<1)+v]<<8|T[(U<<1)+U+v]<<0;
var n=D[0];if(n<0)n=0;else if(n>1)n=1;T[v]=p[~~(.5+n*1e3)]}}}else console.log("unknown data format",$);
d.Li(R,g,Y,q)}};iq.ar1=function(){var K=iq.ajt;if(K!=null)return K;K=iq.ajt=new Uint8Array(1001);for(var y=0;
y<1001;y++)K[y]=~~(.49+255*d.RU(y*.001));return K};iq.awj=function(K,o,Y,c,z,f){if(c==1){for(var $=0;
$<z;$++){var E=f[$],b=0;while(b<Y){var h4=K[o];o++;if(h4<127){var q=K[o];o++;h4++;for(var y=0;y<h4;y++)E[b+y]=q}else if(h4==127){var O=K[o];
o++;var j=K[o];o++;var q=K[o];o++;h4=O<<8|j;for(var y=0;y<h4;y++)E[b+y]=q}else if(h4==128){var O=K[o];
o++;var j=K[o];o++;h4=O<<8|j;for(var y=0;y<h4;y++)E[b+y]=K[o+y];o+=h4}else{h4=256-h4;for(var y=0;y<h4;
y++)E[b+y]=K[o+y];o+=h4}b+=h4}}}else if(c==2){var A=pako.inflate(K.slice(o)),R=Math.round(A.length/Y);
for(var y=0;y<Y;y++){var g=y*R;f[0][y]=A[g];f[1][y]=A[g+1];f[2][y]=A[g+2];f[3][y]=R==3?255:A[g+3]}}else alert("Unknown compression "+c)};
iq.CE=function(K,o,Y,c){var z=c==4?_.s:_.Io;while(!0){var f=z(K,o);o+=c;if(f==0)break;else Y.push(f)}return o};
iq.X7=function(K,o,Y){while(!0){var c=_.s(K,o);o+=4;var z=_.s(K,o);o+=4;if(c==hE.akK)break;else if(c==hE.th)Y[c]=iq.asH(K,o,o+z);
else Y[c]=_.LF(K,o,z);o+=z}return o};iq.asH=function(K,o,Y){var c={};while(o<Y){var z=_.uu(K,o);o+=z.HY;
var f=_.s(K,o);o+=4;if(f!=1)console.log("unknown flags",f);var $=_.s(K,o);o+=4;c[z.ZO]=_.LF(K,o,$);o+=$}return c};
var hE={akK:0,a5W:1,a7t:2,axl:3,atW:4,a8b:5,aoP:6,afc:7,abP:8,apw:9,ahd:10,a6R:11,a1q:12,a80:13,ast:14,rc:15,a1Q:16,a21:17,a1s:18,at3:19,a4y:20,th:21,alY:22,a6i:23,asT:24,avj:25,apm:26,arV:27,akd:28,a7u:29,azR:30,av8:31,afN:32,ass:33,ajC:34,a7y:35,at_:36,arQ:37,aC1:38,akt:0,ase:1,apD:2,aa2:3,al0:1,a2q:2,aAU:0,ad1:1,ara:1};
hE.a4b="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var cJ=function(){var K=!1,o,Y,h=0,X;function c(){var Z=_.H9(o,Y,4);Y+=4;return Z[3]+Z[2]+Z[1]+Z[0]}function z(){var Z=_.H9(o,Y,4);
Y+=4;return Z}function f(){var Z=o[Y];Y+=1;return Z}function $(){var Z=_.Bt(o,Y);Y+=2;return Z}function E(){var Z=_.rT(o,Y);
Y+=4;return Z}function b(){var Z=_.$C(o,Y);Y+=4;return Z}function q(){var Z=_.rT(o,Y);Y+=8;return Z}function O(){var Z=_.dS(o,Y);
Y+=4;return Z}function j(){var Z=_.sA(o,Y);Y+=8;return Z}function A(){var Z=_.Bt(o,Y),T=_.DI(o,Y+2,Z);
Y+=2+Z;return T}function R(){var Z=_.rT(o,Y),T=_.DI(o,Y+4,Z);Y+=4+Z;return T}function g(Z){Y=Z;var T=[];
while(Y!=0){var v=z();if(v!="#FT4"&&v!="#FT3"&&v!="#FT2")throw v;var P=q(),p=q(),a=q(),D=q(),n=q(),N=E(),W=E(),G=E(),l=$(),u=f(),e={};
T.push(e);for(var y=0;y<N;y++){var M=E(),B=f();if(B!=0&&B!=1&&B!=2)throw B;var s=[];if(B==0||B==1){var t=q(),J=q(),L=q(),k=E(),C=f(),r=E(),Q=v!="#FT4"?0:E(),j9=null;
if(v=="#FAT"||v=="#FT2"){switch(C){case 1:C=1;break;case 2:C=65;break;case 3:C=129;break;case 4:C=193;
break;default:C=0;break}}if(B==0)j9=A();s=[t,J,L,C,j9]}e["i"+M]=[B,s]}for(var y=0;y<l;y++){var a4=$(),ar=$(),ez=q(),ja=_.H9(o,Y,a4);
Y+=a4}Y=P}T.reverse();for(var c3=1;c3<T.length;c3++){var e=T[c3],hW=T[c3]=JSON.parse(JSON.stringify(T[c3-1]));
for(var fO in e){var ei=e[fO];if(ei[0]==0)hW[fO]=ei;else if(ei[0]==1){ei[1][4]=hW[fO][1][4];hW[fO]=ei}else if(ei[0]==2)delete hW[fO]}}var fV=T.pop(),aW=[];
for(var fO in fV)aW.push(fV[fO][1]);aW.sort(function(ee,hM){return ee[0]-hM[0]});return aW}function H(Z,T,v,P){while(Y<o.length){var p=f(),N=null;
if(p==0){if(P){var a=f();if(a!=2){var D=c()}if(a==0)Y+=4;P=!1;continue}else{break}}var n=c();if(K)console.log("  ".repeat(T),p,p&127,n,Z._type);
if(p>127)N=i(p,T,v);else N=x(p,T,v);if(K)console.log("  ".repeat(T),N);Z[n]=N}}function i(Z,T,v){var P=[];
Z=Z&127;if(Z==43)Y+=4;var p=E();if(Z==50){var a=c(),D=$();if(D!=1)throw"e";for(var y=0;y<p;y++){var n={_status:"NotShared",_type:a};
P.push(n);var N=f();if(N!=1)throw N;H(n,T+1,v)}}else if(Z==41){if(p>8)throw p;for(var y=0;y<p;y++)P.push((o[Y]>>>y&1)==1);
Y++}else for(var y=0;y<p;y++){P.push(x(Z,T,v,y!=0));if(Z==42)Z=2}return P}function x(Z,T,v,P){var p=null;
if(Z==49){p={};var a=f();if(a!=0){var D=E();if(v==null){p._id=D;p._status=["Shared","Link"][a-1]}if(v&&a==2)p=v[D];
if(a==1){if(v)v[D]=p;var n=f(),N=!1;if(n>1)throw n;p._type=c();if(K)console.log("  ".repeat(T),"new",p._type,n,Y);
if(n==0){while(!0){var W=$();if(W!=0&&W!=1&&W!=2&&W!=3&&W!=4)throw W;if(o[Y]!=0){N=!0;break}var G=$();
if(G==512)break;var l=c();if(G==256)break}}H(p,T+1,v,N)}}}else if(Z==50){p={_status:"NotShared"};if(f()==1){p._type=c();
Y+=2;H(p,T+1,v)}}else if(Z==1)p={type:"byte",value:f()};else if(Z==2)p={type:"uint16",value:$()};else if(Z==3)p={type:"uint32",value:E()};
else if(Z==4)p={type:"uint64",value:q()};else if(Z==7)p={type:"int32",value:b()};else if(Z==8)p={type:"int64",value:q()};
else if(Z==9)p={type:"float32",value:O()};else if(Z==10)p={type:"float64",value:j()};else if(Z==21)p={type:"Vec2i",value:[E(),E()]};
else if(Z==23)p={type:"Vec4i",value:[E(),E(),E(),E()]};else if(Z==33)p={type:"Vec4f",value:[O(),O(),O(),O()]};
else if(Z==36)p={type:"Vec2",value:[j(),j()]};else if(Z==38)p={type:"Vec4",value:[j(),j(),j(),j()]};
else if(Z==40)p={type:"Vec6",value:[j(),j(),j(),j(),j(),j()]};else if(Z==41)p={type:"bool",value:f()!=0};
else if(Z==42)p={type:"Enum",value:E()};else if(Z==43)p={type:"string",value:R()};else if(Z==44){if(P!=!0)h=$();
p={type:"curv16",value:[j(),h==12?[f(),f(),f(),f()]:[E(),E()]]}}else if(Z==45){var u=E();p={type:"buff",value:o.slice(Y,Y+u)};
Y+=u}else if(Z==47){p={type:"uint32",value:E()}}else if(Z==48){var e=[],M=$();if(M!=1)throw M;while(!0){if(o[Y]==135){var B=i(f(),T+1,v),s=i(f(),T+1,v),t=i(f(),T+1,v);
e.push([B,s,t])}else{var J=1;if(o[Y]==3){f();J=E()}for(var y=0;y<J;y++){if(f()!=41)throw"e";var D=f();
if(D!=0&&D!=1)throw D;if(f()!=172)throw"e";var L=E(),k=$(),C=[];e.push(C);if(k!=18)throw k;if(L>4e3)throw L;
for(var r=0;r<L;r++)C.push([j(),j(),f(),f()])}}if(o[Y]==0){Y++;break}}p={type:"curve",value:e}}else if(Z==51){p={type:"EmbeddedData"};
p[c()]=R()}else if(Z==52)p={type:"uint32",value:E()};else if(Z==56)p={type:"Color32",value:[f(),f(),f(),f()]};
else if(Z==60)p={type:"ColorGRAY",value:[O(),O()]};else if(Z==68)p={type:"ColorRGBA",value:[O(),O(),O(),O()]};
else if(Z==72)p={type:"ColorCMYK",value:[O(),O(),O(),O(),O()]};else{throw Z}return Z==49||Z==50||Z==51?p:p.value}function F(Z){var T=0,v=Z.length;
for(var y=0;y<v;y++)Z[y]=T=T+Z[y]&255}function V(Z){o=Z;Y=4;var T=E(),v=z();if(v!="nsrP")throw v;var v=z();
if(v!="#Inf")throw v;var P=q();X=q();var p=q(),a=q(),D=q(),n=E(),N=E(),v=z();if(v!="Prot")throw v;var n=E(),W=g(P),G={},l=Date.now();
for(var u=0;u<W.length;u++){var e=W[u],M=e[3],L=null;Y=e[0];var v=z();if(v!="#Fil")throw v;var B=M>>>5&1,s=M&3,t=M&192;
switch(t){case 64:t=1;B=0;break;case 128:t=2;break;case 192:t=3;break;default:t=0;B=0}var J=new Uint8Array(o.buffer,Y,e[2]);
if(s==0)L=J;else if(s==1)L=pako.inflate(J);else if(s==2)L=fv.iD.DC(J,e[1]);else throw s;if(B==0){if(t==1)F(L);
if(t==2)throw"e"}else throw B;G[e[4]]=L}return G}function U(Z){var T=V(new Uint8Array(Z));o=T["doc.dat"];
Y=16;var v={};H(v,0,[]);return[T,v,X]}return{afA:U}}();function cw(){}cw.qz=function(){function K(R,g){var H=Date.now(),i=cJ.afA(R),h=i[0],x=i[1],F=i[2],X=x.DocR,V=X.DfSz,U=X.Chld;
if(U.length!=1)console.log(U);var Z=U[0],T=Z.SprB;U=Z.Chld;g.m=~~T[2];g.e=~~T[3];g.buffer=d.R(g.m*g.e*4);
var v=[0,{}];for(var y=0;y<U.length;y++)z(U[y],g,h,new dF,v,0);g.Y4(v[0]);console.log(Date.now()-H,"Document created");
H=Date.now()}function o(R){return new dF(R[0],R[3],R[1],R[4],R[2],R[5])}function Y(R,g){var H=g.Xfrm;
H=H?o(H):new dF;H.concat(R);return H}function c(R){var g={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[R];
return g?g:"norm"}function z(R,g,H,i,h,x){var F=R._type,X=R.Chld,V=g.Uu();V.vd(R.Desc==null||R.Desc==""?F=="Grup"?"Folder":"Layer":R.Desc);
V.dt(R.Visi);V.opacity=Math.round(255*R.Opac);if(R.FOpc!=1)V.add.iOpa=Math.round(255*R.FOpc);var U=R.Blnd;
if(U!=null)V.YF=c(U);var Z=Y(i,R),T=F=="ShpN"||F=="PCrv";if(X){g.B.push(g.uR());V.add.lsct=eo.bl;V.YF="pass";
V.Gh=24;if(F=="ShpN"){var v=R.ShpB;V.HL(new hD(v[0]+Z.B3,v[1]+Z.Z7,v[2]-v[0],v[3]-v[1]));h[0]++;V.add.artb.Clr={t:"Objc",v:d.H.eD({o:255,A:255,J:255})}}for(var y=0;
y<X.length;y++)z(X[y],g,H,Z,h,x+1)}else if(F=="Rstr"||F=="ImgN"||F=="MRst"){var P=R.Bitm,p=P.Bckg,a=Date.now(),D;
if(p==null){D=q(P,H,h[1]);V.rect=D[2].clone();V.buffer=D[1].slice(0);V.rect.x+=Z.B3;V.rect.y+=Z.Z7}if(p||Z._8()!=1){var n,N=0,W=0;
if(p){var G=H[p.Data],l=_.oR(G,"ataD")+4,u=_.rT(G,l);l+=4;n=G.slice(l,l+u)}else{N=V.rect.x-Z.B3;W=V.rect.y-Z.Z7;
if(D[3]==null)D[3]=new Uint8Array(fv.WD("PNG").vc([[V.buffer.buffer]],V.rect.m,V.rect.e));n=D[3].slice(0)}var e=g.o3(n,V.getName(),0,0);
e.Gh=V.Gh;e.opacity=V.opacity;V=e;var M=new dF;M.translate(N,W);M.concat(Z);var B=V.rect.clone();B.x=B.y=0;
var s=d.M.Yq(B).z;d.M.i(s,M,s);V.add.SoLd.Trnf=m.OB.c5(s);V.add.SoLd.nonAffineTransform=m.OB.c5(s);V.Mc(g,!1)}}else if(F=="TxtA"||F=="TxtF"){V.add.lnsr="rend";
V.add.TySh=b_.HO(0,0);V.add.TySh.jT=new hD(0,0,100,100);var t=R.TxtH.FrmB,J=1,L=1,k=V.add.TySh.i=new dF,a4=0;
k.translate(t[0],t[1]);k.concat(Z);if(F=="TxtF"){var C=Math.atan2(-k.J,k.g);k.rotate(-C);J=k.g;L=k.gG;
k.gG=k.g=1;k.rotate(C)}var r=V.add.TySh.e9,Q=R.StSt,j9=Q.Blok;if(j9.length!=1)throw"e";for(var ar=0;
ar<j9.length;ar++){var ez=j9[ar],ja=a4,c3=0,hW=ez.Glyp.Utf8;if(hW==null)continue;hW=hW.replace(/\u2028/g,"\n");
hW=hW.replace(/\u2029/g,"\n");hW=hW.slice(0,hW.length-1);if(hW=="")continue;V.vd(hW.slice(0,255));b_.Df(r,a4,hW);
a4+=hW.length;var fO=ez.GAtt.Runs,ei=ez.PAtt.Runs[0],fV=ei.Item.Ints[0];for(var aW=0;aW<fO.length;aW++){var ee=fO[aW],hM=ee.Indx,ds=ee.Item,cp=ds.Objs,eA=b_.Sw(r,ja,1);
eA.Nd.Justification=fV==0?0:fV==1?2:1;b_.iN(eA,ds.DFnt.Post);eA.Pf.FontSize=ds.Doub[0];for(var y=0;y<cp.length;
y++){var db=cp[y];if(db._type=="FDsc"){var js=db.FDeF;if(js._type=="FilS"){var bF=b(js.Colr);eA.Pf.FillColor={Type:1,Values:[1,bF[0],bF[1],bF[2]]}}}}b_.K2(r,ja+c3,ja+Math.min(hM,hW.length),eA);
c3=hM}}b_.go(r,1);b_.X$(r,[0,0,Math.round((t[2]-t[0])*J),Math.round((t[3]-t[1])*L*1.2)]);g.$P=!0}else if(T){V.Gh|=16;
var jI=V.add.vstk=eF.oc.Ta(!0),gF=V.add.vmsk=f(R);d.j.k3(gF.$,Z);if(R.BFFl){var b6=R.BFFl[0].FDeF,ji=b6._type;
if(ji=="FilS")V.add.SoCo={classID:"null",Clr:E(b6.Colr)};else if(ji=="FilG"){var hd=V.add.GdFl=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]);
$(b6,hd)}else if(ji=="FilN"){V.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}};jI.fillEnabled.v=!1}else console.log(ji)}if(R.LILn){var eZ=R.LILn[0].LDeL,hj=eZ.Wght;
if(hj!=0){jI.strokeEnabled.v=!0;jI.strokeStyleLineWidth.v.val=hj;var b6=R.LIFl[0].FDeF,ji=b6._type;if(ji=="FilS")jI.strokeStyleContent.v.Clr=E(b6.Colr);
else if(ji=="FilN")jI.strokeEnabled.v=!1}}V.D8();V.WG(g)}else console.log(F);var eK=R.AdCh,bW=[];if(eK)for(var y=0;
y<eK.length;y++){var ju=eK[y],ci=ju._type;if(ci=="ShpN"||ci=="PCrv"){var gF=V.add.vmsk=f(ju),hH=Y(Z,ju);
d.j.k3(gF.$,hH);V.D8();V.WG(g)}else if(ju.AdjP){var b8=ju.AdjP,gh=b8._type,aN={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[gh];
if(aN==null){console.log(b8);continue}var eS=fn.PU(aN,{});bW.push(eS);var b2=eS.v.Fltr.v;if(gh=="LevP"){var fZ=jz.Yb(b2,0);
fZ[0]=b8.OutB*255;fZ[1]=b8.OutW*255;jz.ef(b2,0,fZ)}else if(gh=="WhBP"){var fZ=jz.Yb(b2,2);fZ[4]=100+b8.WBTi*20;
jz.ef(b2,2,fZ);var fZ=jz.Yb(b2,3);fZ[4]=100+b8.WBTi*200;jz.ef(b2,3,fZ)}else if(gh=="HSSP"){var fZ=bh.Yb(b2,0);
fZ[0]=Math.round(b8.HueA*256);fZ[1]=Math.round(b8.SatA*256);fZ[2]=Math.round(b8.LumA*256);bh.ef(b2,0,fZ)}else if(gh=="RecP"){b2.Clrz.v=!0;
var fZ=bh.Yb(b2,0);fZ[0]=Math.round(b8.RecH*100);fZ[1]=Math.round(b8.RecS*100);fZ[2]=Math.round(b8.RecL*100);
bh.ef(b2,0,fZ)}else if(gh=="B&CP"){b2.Brgh.v=Math.round(b8.Brig*100);b2.Cntr.v=Math.round(b8.Ctrs*100-100)}else if(gh=="PosP"){b2.Lvls.v=b8.Post}else if(gh=="VibP"){b2.vibrance.v=b8.Vibr-100;
b2.Strt.v=Math.round(b8.Satu*100)}else if(gh=="ExpP"){b2.Exps.v=b8.Expo;b2.gammaCorrection.v=b8.Gamm/2.2}else if(gh=="ThrP"){b2.Lvl.v=Math.round(b8.Thre*255)}else if(gh=="CrvP"){var dw=b8.Mast["Cnt "],ib=b8.Mast.Vals,fZ=fK.Yb(b2,0),eJ=fZ[0];
for(var df=0;df<dw;df++){var k5=fZ[df]=JSON.parse(JSON.stringify(eJ));k5.v.Hrzn.v=Math.round(ib[df]*255);
k5.v.Vrtc.v=Math.round(ib[4+df]*255)}fK.ef(b2,0,fZ)}}else console.log(ju)}if(bW.length!=0&&V.add.SoLd){V.add.SoLd.filterFX=fn.iJ();
g.qj({id:V.add.SoLd.placed.v,rect:new hD,buffer:d.R(1),F:new S.tp});V.add.SoLd.filterFX.v.filterFXList.v=bW;
V.Mc(g,!1)}var eC=R.FiEf;if(eC&&eC.length!=0){var j7=V.add.lmfx=JSON.parse(eF.default);for(var y=0;y<eF.order.length;
y++)j7[eF.nk[y]]={t:"VlLs",v:[]};for(var cK=0;cK<eC.length;cK++){var bw=eC[cK],f6=bw._type,iF={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[f6],hd=iF?JSON.parse(eF.NF[eF.order.indexOf(iF)]):null;
if(f6=="ColO"){hd.Clr=E(bw.Colr)}else if(f6=="GrdO"){$(bw.GrFl.FDeF,hd)}else if(f6=="Shad"||f6=="InnS"||f6=="OutG"||f6=="InnG"){hd.Clr=E(bw.Colr);
hd.blur.v.val=Math.round(bw.Radi/2.4);if(bw.Offs!=null){hd.Dstn.v.val=bw.Offs;hd.lagl.v.val=Math.round(180-bw.Angl*180/Math.PI);
hd.uglg.v=!1}}else if(f6=="Strk"){hd.Clr=E(bw.Colr);hd.Sz.v.val=Math.round(bw.Radi)}else if(f6=="PhgB"||f6=="BevE"){hd.blur.v.val=Math.round(bw.Radi);
if(f6=="BevE")hd.bvlS.v.BESl="PlEb"}else if(f6=="Gaus"){if(T&&bw.Enab){V.add.vmsk.cG=bw.Radi/2.4;V.add.vmsk.dw=!0;
V.D8();V.WG(g)}}if(iF){hd.enab.v=bw.Enab;if(hd.Md&&bw.BlnM!=null)hd.Md.v.BlnM=jw.OM(c(bw.BlnM));if(hd.Opct&&bw.Opac!=null)hd.Opct.v.val=Math.round(bw.Opac*100);
var ag=eF.nk[eF.order.indexOf(iF)];j7[ag].v.unshift({t:"Objc",v:hd})}}}g.B.push(V)}function f(R){var g=new S.kZ,H=R._type;
if(H=="PCrv"){var i=R.Crvs.Data,h=[],x=[];for(var y=0;y<i.length;y++){var F=i[y],X=F.length%3;if(X!=1){F=X==2?F[0][2]!=0?F.slice(0,F.length-1):F.slice(1):F.slice(1,F.length-1)}for(var V=0;
V<F.length;V++){var U=F[V],Z=U[2];if(Z!=0)h.push(V==0?"M":"C");x.push(U[0],U[1])}}g.$=d.M.eX({z:x,G:h},!0)}else{var T=R.ShpB,v=R.Shpe,P=v._type,p=T[2]-T[0];
if(P=="ShpE"){g.$=d.j.OJ.MR(T[0],T[1],T[2]-T[0],T[3]-T[1])}else if(P=="ShNR"){var a=[0,0,0,0];if(v.CTyp){a=v.ShCR.slice(0);
for(var y=0;y<4;y++)a[y]*=T[2]-T[0]}g.$=d.j.OJ.Rect(T[0],T[1],T[2]-T[0],T[3]-T[1],a)}else if(P=="ShpT"){g.$=d.M.eX({G:["M","L","L","Z"],z:[T[0],T[3],T[2],T[3],T[0]+p*.5,T[1]]},!0)}else if(P=="ShTz"){g.$=d.M.eX({G:["M","L","L","L","Z"],z:[T[0]+p*v.PosL,T[1],T[0]+p*v.PosR,T[1],T[2],T[3],T[0],T[3]]},!0)}else{console.log("--",P);
g.$=d.j.OJ.Rect(T[0],T[1],T[2]-T[0],T[3]-T[1],[0,0,0,0])}}return g}function $(R,g){var H=R.Grad,i=H.Cols;
g.Type.v.GrdT=R.Type==0?"Lnr":"Rdl";var h=[];for(var y=0;y<i.length;y++){var x=b(i[y]);h.push([H.Posn[y][0],x])}g.Grad.v.Intr.v=0;
d.H.zZ(h,g.Grad.v);var F=H.Posn,X=new jc(F[0][0],F[0][1]),V=new jc(F[1][0],F[1][1]);if(R.Type==0)X=new jc((X.x+V.x)/2,(X.y+V.y)/2);
d.H.M9(X,V,new hD(0,0,1,1),g)}function E(R){var g=b(R);return{t:"Objc",v:d.H.eD({o:g[0]*255,A:g[1]*255,J:g[2]*255})}}function b(R){var g=R._col,H=R._type;
if(H=="HSLA"){var i=d.i7(g[0],g[1],g[2]);return[i.o,i.A,i.J,g[3]]}else if(H=="RGBA")return g;else if(H=="CMYK")return d.O6(g);
else if(H=="GRAY")return[g[0],g[1],g[2]];else{console.log(g);throw H}}function q(R,g,H){var i=R.Frmt,p="";
if(i!=0&&i!=4&&i!=6)throw i;var h=R.BmpW,x=R.BmpH,F=i==4?5:i==0?4:1,X=Math.ceil(h/256),V=Math.ceil(x/256),U=new hD(0,0,X,V),Z=new hD;
for(var y=0;y<F;y++){var T=new Uint8Array(R["Sta"+(y+1)]),v=d.sd(T,U);Z=Z.Bb(v)}var P=[];for(var y=0;
y<F;y++){var T=new Uint8Array(R["Sta"+(y+1)]),a=d.R(Z.Z());d.u_(T,U,a,Z);P[y]=[];for(var D=0;D<a.length;
D++)P[y][D]=a[D];p+=JSON.stringify(P[y])+","+JSON.stringify(R["Idx"+(y+1)])+","}if(H[p]==null){var n=Z.m*256,N=Z.e*256,W=new Array(F);
for(var y=0;y<F;y++){var T=W[y]=new Uint8Array(n*N);O(T,R["Idx"+(y+1)],P[y],g,n,N)}var G=d.R(n*N*4);
if(i==0)d.vF({o:W[0],A:W[1],J:W[2],g:W[3]},G);else if(i==4){for(var y=0;y<W[0].length;y++){var l=y*4,u=W[0][y]*(1/255),e=W[1][y]*(1/255),M=W[2][y]*(1/255),B=W[3][y]*(1/255),s=UDOC.C.cmykToRgb([u,e,M,B]);
G[l]=s[0]*255;G[l+1]=s[1]*255;G[l+2]=s[2]*255;G[l+3]=W[4][y]}}else{G.fill(255);d.xI(W[0],G)}var t=new hD(0,0,n,N),J={buffer:G,rect:t};
d.zy(J);H[p]=[J.rect,J.buffer]}var v=H[p][2]=H[p][0].clone();v.x+=Z.x*256;v.y+=Z.y*256;return H[p]}function O(R,g,H,i,h,x){var F=0,X=h>>>8,V=x>>>8;
for(var U=0;U<V;U++)for(var Z=0;Z<X;Z++){var T=Z*256,v=U*256,P=U*X+Z,p=v*h+T,a=H[P];if(a<=1)j(R,p,0,h,256,256);
else if(a==2)j(R,p,4294967295,h,256,256);else if(a==4){var D=g[F];F++;var n=i[D.Data.DatI],N=D.Rect;
if(N==null)N=[0,0,256,256];j(R,p,0,h,256,256);A(R,(v+N[1])*h+T+N[0],n,N[1]*256+N[0],h,256,N[2]-N[0],N[3]-N[1])}else console.log(a)}}function j(R,g,H,i,h,x){var F=g+i*x;
for(;g<F;g+=i){var X=g+h;for(var V=g;V<X;V++){R[V]=H}}}function A(R,g,H,i,h,x,F,X){var V=g+h*X,U=i+x*X;
for(;g<V&&i<U;g+=h,i+=x){for(var y=0;y<F;y++)R[g+y]=H[i+y]}}return K}();function iS(){}iS.qz=function(K,o){var Y=iS,c=bH.parse(K),f=0;
if(c.pages.length>1)console.log(c.pages.length,"pages");var z=[],$=new hD;for(var E=0;E<c.pages.length;
E++){var b=c.pages[E],q=b.layers,O=Y.OA(q,E),A=!1;if(O.Z()>8e3*8e3||O.m>3e4||O.e>3e4){Y.a3m(q,!0);var j=Y.OA(q,E);
if(j.Z()>=O.Z())Y.a3m(q,!1)}O=Y.OA(q,E);for(var R=0;R<q.length;R++){var g=q[R];if(Y.w0(g)=="artboard")A=!0}if(!A){console.log("no artboard");
var H={};for(var i in b)H[i]=b[i];H._class="group";b.layers=[H]}z.push(O.clone());if(O.xf())continue;
O.x=0;O.y=f;f+=O.e+200;$=$.Bb(O)}var h={};if(c.foreignSymbols)for(var y=0;y<c.foreignSymbols.length;
y++){var x=c.foreignSymbols[y].symbolMaster;h[x.symbolID]={y1:x}}Y.a4j(c.pages,h,o);for(var F in h){var g=h[F].y1,X=Y.azx(g.layers)}var V=iS.a2($,8192*8192);
o.$P=!0;o.m=Math.round($.m/V);o.e=Math.round($.e/V);o.buffer=d.R(o.m*o.e*4);o.Y4(c.pages[0].layers.length);
o.jM={};o.oq=[];f=0;for(var E=0;E<c.pages.length;E++){var U=c.pages[E],O=z[E],Z=new dF(V,0,0,V,O.x,O.y-f);
Y.gh(U.layers,o,Z,c,h,{},[]);f+=O.e+200}delete o.jM;delete o.oq;if(V!=1)alert("File scaled down "+V+"x");
o.aww()};iS.afE=0;iS.w0=function(K){return K._class?K._class:K.$class};iS.a2=function(K,o){var Y=1;while(Math.round(K.m/Y)*Math.round(K.e/Y)>o||Math.max(Math.round(K.m/Y),Math.round(K.e/Y))>3e4)Y++;
if(Y!=1&&!window.confirm("Your image is quite large ("+K.m+" x "+K.e+" px).\n"+"Press OK to scale it down "+Y+"x, or Cancel to keep the size."))Y=1;
return Y};iS.OA=function(K,o){var Y=[],c=iS;for(var z=0;z<K.length;z++){var f=K[z],$=c.p1(f.frame);if(o==0||c.w0(f)=="artboard")Y.push($)}return d.rect.Lq(Y)};
iS.a3m=function(K,o){var Y=[],c=iS;for(var z=0;z<K.length;z++){var f=K[z],$=c.p1(f.frame);$.m+=150;$.e+=150;
Y.push($)}var E=d.rect.Lq(Y);d.rect.a9m(Y,o);var b=d.rect.Lq(Y);if(b.Z()*1.5<E.Z()||E.m>3e4&&b.m<=3e4||E.e>3e4&&b.e<=3e4){alert("Re-arranging artboards");
for(var z=0;z<K.length;z++){var q=Y[z],f=K[z],O=f.frame;O.x=q.x;O.y=q.y}}};iS.a4j=function(K,o,Y){var c=iS;
for(var z=0;z<K.length;z++){var f=K[z],$=c.w0(f);if(["page","artboard","group"].indexOf($)!=-1)c.a4j(f.layers,o,Y);
else if($=="symbolMaster")o[f.symbolID]={y1:f}}};iS.azx=function(K){var o=iS;for(var Y=0;Y<K.length;
Y++){var c=K[Y],z=o.w0(c),f=null;if(["page","artboard","group"].indexOf(z)!=-1)f=o.azx(c.layers);if(z=="symbolMaster"||z=="symbolInstance")f=c;
if(f!=null)return f}return null};iS.gh=function(K,o,Y,c,z,f,$){var E=iS,b=[];for(var q=0;q<K.length;
q++){var O=K[q],j=O.frame?E.p1(O.frame):null,A=O.style,h="",Z=null,T=!1;if(A==null){console.log("no styles")}var R=E.apJ(O,Y),g=E.w0(O),H=g=="shapeGroup"||g=="shapePath"||g=="rectangle"||g=="oval"||g=="triangle"||g=="polygon",i=["page","artboard","group"].indexOf(g)!=-1;
if(g=="shapeGroup"){for(var y=0;y<O.layers.length;y++)if(E.w0(O.layers[y])=="shapeGroup")i=!0}var x=O.exportOptions;
if(x){var F=x.exportFormats;if(F==null)F=x.sizes;if(g!="artboard"&&(F&&F.length!=0)){var X=F[0].scale}}var V=o.Uu();
V.dt(O.isVisible);var U=O.name;if(!(typeof U=="string"))U=g;V.vd(h+U.slice(0,250));if(A!=null)Z=E.atx(c,o,A,j,R,V.getName(),H||g=="artboard"||i);
if(g=="rectangle"&&A&&A.fills&&A.fills[0]){var v=A.fills[0];if(v.fillType==4&&v.patternFillType>1&&v.image!=null)T=!0}if(O.shouldBreakMaskChain){while(b.length!=0)E.ag7(b.pop(),o)}if(i){V.add.lsct=O.layerListExpandedType==2?eo.bl:eo.g5;
V.YF="pass";V.Gh=24;V.dt(O.isVisible);o.B.push(o.uR());if(g=="artboard"){var P=j.clone(),p=R._8();P.x=-Math.floor(R.B3/p);
P.y=-Math.floor(R.Z7/p);P.m=Math.floor(P.m/p);P.e=Math.floor(P.e/p);V.HL(P);var a=O.backgroundColor,D=a?{o:255*a.red,A:255*a.green,J:255*a.blue}:{o:255,A:255,J:255};
V.add.artb.Clr={t:"Objc",v:d.H.eD(D)};V.add.artb.artboardBackgroundType={t:"long",v:4}}E.gh(O.layers,o,R,c,z,f,$)}else if(H&&!T){var n=Z!=null&&Z.frameFXMulti.v.length==1;
V.add.vmsk=new S.kZ;V.add.vstk=eF.oc.Ta(!0,n);var N=A?A.fills:null,W=A?E.avl(c,N,j,R,V.getName(),o,E.KB($,O.do_objectID+"_image")):[];
if(W.length==0){if(n)V.add.vstk.fillEnabled.v=!1;else V.add.iOpa=0;V.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}}}else{var G=W[0],l=null,u=null;
if(G.type=="SoFi"){l="SoCo";u=eF.u4}if(G.type=="GrFl"){l="GdFl";u=eF.Eo}if(G.type=="patternFill"){l="PtFl";
u=eF.Jo}if(l!=null){V.add[l]={classID:"null"};for(var y=0;y<u.length;y++){var e=u[y];V.add[l][e]=G.b.v[e]}var M=G.b.v.Opct.v.val;
if(n&&M==0)V.add.vstk.fillEnabled.v=!1;else V.add.iOpa=Math.round(255*M/100)}}V.Gh|=16;V.add.vmsk.$=E.jn(O.layers?O.layers:[O],O.layers?R:Y);
var B=A?A.blur:null;if(B&&B.isEnabled&&B.type<=1)V.add.vmsk.cG=B.radius;if(V.add.vmsk.$.length==2){console.log("shape with no content:",V.getName())}if(n){var s=Z.frameFXMulti.v[0].v,t=V.add.vstk,J=A.borders[0];
Z.frameFXMulti.v=[];eq.azm(s,t);var L=A.borderOptions,k=A.miterLimit;if(L)eF.oc.write(t,{lcap:L.lineCapStyle,ljoin:L.lineJoinStyle,dash:L.dashPattern,mlimit:k},1)}V.D8();
V.WG(o)}else if(g=="bitmap"||T){if(!T&&O.image==null)continue;var C=T?A.fills[0]:null,r=T?C.image.bdata:O.image.bdata,Q=o.o3(r,V.getName(),0,0);
Q.Gh=V.Gh;V=Q;var B=A?A.blur:null,j9=A?A.colorControls:null;if(B||j9){V.add.SoLd.filterFX=fn.iJ();o.qj({id:V.add.SoLd.placed.v,rect:new hD,buffer:d.R(1),F:new S.tp});
var N=V.add.SoLd.filterFX.v.filterFXList.v;if(B){var a4=fn.PU("GsnB",{});a4.v.enab.v=B.isEnabled;a4.v.Fltr.v.Rds.v.val=B.radius;
N.push(a4)}if(j9){var ar=j9.brightness,ez=j9.contrast,ja=j9.hue,c3=j9.saturation;if(ja!=0||c3!=1){var a4=fn.PU("hue2",{});
a4.v.enab.v=j9.isEnabled;bh.ef(a4.v.Fltr.v,0,[Math.round(ja*180/Math.PI),Math.round((c3-1)*100),0]);
N.push(a4)}if(ar!=0||ez!=1){var a4=fn.PU("brit",{});a4.v.enab.v=j9.isEnabled;ez=ez-1;if(ez>0)ez/=2;var hW=a4.v.Fltr.v;
hW.Brgh.v=Math.round(ar*255);hW.Cntr.v=Math.round(ez*255);hW.useLegacy.v=!0;N.push(a4)}}}if(T){var fO=C.patternFillType;
if(fO==3){var ei=V.rect.m/V.rect.e,fV=j.m/j.e;if(ei<fV){R.translate(-(j.m*(1-ei/fV))/2,0);R.scale(fV/ei,1)}else{R.translate(0,-(j.e*(1-fV/ei))/2);
R.scale(1,ei/fV)}}}j.x=j.y=0;var aW=d.M.Yq(j).z;R.oD();d.M.i(aW,R,aW);V.add.SoLd.Trnf=m.OB.c5(aW);V.add.SoLd.nonAffineTransform=m.OB.c5(aW);
V.Mc(o,!1)}else if(g=="text"){if(O.attributedString==null)continue;var ee=R.clone(),hM,ds,bF=0;ee.oD();
ee.g=ee.gG=Math.min(ee.g,ee.gG);V.add.lnsr="rend";V.add.TySh=b_.HO(0,0);V.add.TySh.jT=new hD(0,0,j.m,j.e);
V.add.TySh.i=ee;var cp=O.attributedString;if(cp.archivedAttributedString)cp=cp.archivedAttributedString;
var eA=cp.NSString;if(eA==null)eA=cp.string;if(eA==null)eA="";if(eA["NS.string"])eA=eA["NS.string"];
if(f[O.do_objectID]!=null)eA=f[O.do_objectID];var db=E.KB($,O.do_objectID+"_stringValue");if(db)eA=db.value;
if(cp.attributes!=null){hM=[];ds=[];var js=cp.attributes;for(var y=0;y<js.length;y++){hM.push(js[y].length,y);
ds.push(js[y].attributes)}}else if(cp.NSAttributeInfo==null){hM=[eA.length,0];ds=[cp.NSAttributes]}else{hM=cp.NSAttributeInfo["NS.data"];
ds=cp.NSAttributes;hM=iS.a3Z(hM,ds)}for(var y=0;y<hM.length;y+=2)bF+=hM[y];if(bF!=eA.length){while(bF>eA.length){hM[hM.length-2]--;
bF--;if(hM[hM.length-2]==0){hM.pop();hM.pop()}}hM[hM.length-2]+=eA.length-bF}eA=eA.replace(/\u2028/g,"\n");
eA=eA.replace(/\u2029/g,"\n");eA=eA.replace(/\r/g,"\n");var jI=V.add.TySh.e9;b_.Df(jI,0,eA);if(eA!=""){var gF=O.textBehaviour,b6=A.textStyle,ji=b6?b6.verticalAlignment:0,hd=E.a7X(jI,hM,ds,eA),p=ee._8(),eZ=b_.Sw(jI,0,1),bW=0;
if(eZ.Pf.Font){var eK=eZ.qu[eZ.Pf.Font].Name;if(eK=="FontAwesome"||eK=="Ionicons")hd*=.87}var cX=eZ.Pf.AutoLeading?0:eZ.Pf.Leading*.6,ci=Math.max(hd,cX)*p,b8=j.m,gh=j.e;
if(gF==0){b_.go(jI,0);var aN=b_.yu(eZ.Nd);if(aN==1)bW=b8*p;if(aN==2)bW=b8*p*.5;if(ji==0)ci*=1;else ci*=.9}else{b_.go(jI,1);
b_.X$(jI,[0,0,Math.round(b8),Math.round(gh)]);if(gF==2&&ji==0)ci=ci*.2;else if(gF==2&&ji==1){ci=p*.5*(gh-eZ.Pf.FontSize)}else if(gF==1&&ji==0)ci=ci*.2;
else ci=ci*.35}V.add.TySh.i.translate(bW,ci)}}else if(g=="symbolInstance"||g=="symbolMaster"){var eS=O.symbolID;
if(f[O.do_objectID])eS=f[O.do_objectID].symbolID;var b2=E.KB($,O.do_objectID+"_symbolID");if(b2)eS=b2.value;
if(eS=="")continue;var fZ={};for(var e in f)fZ[e]=f[e];if(O.overrides)for(var e in O.overrides)fZ[e]=O.overrides[e];
var dw=$.slice(0);if(O.overrideValues)dw=dw.concat(O.overrideValues);var ib=z[eS];if(ib==null){console.log("Unknown master master",O.symbolID);
continue}var eJ=iS.p1(ib.y1.frame),df=eJ.m/j.m,k5=eJ.e/j.e,eC=R.clone();eC.scale(df,k5);V.add.lsct=eo.g5;
V.YF="pass";V.Gh=24;V.dt(O.isVisible);o.B.push(o.uR());var j7=ib.y1;if(o.oq.indexOf(j7)==-1){o.oq.push(j7);
E.gh(j7.layers,o,eC,c,z,fZ,dw);o.oq.pop()}}else if(g=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+g,O);continue}if(A&&A.contextSettings){var cK=A.contextSettings,bw=cK.blendMode;
if(bw<E.pm.length){V.YF=jw.iu[jw.$R.indexOf(E.pm[bw])];if(i&&V.YF=="norm")V.YF="pass"}V.opacity=Math.round(V.opacity*cK.opacity)}if(Z!=null){V.add.lmfx=Z}o.B.push(V);
if(O.hasClippingMask&&K.length>1){b.push(V);o.B.push(o.uR())}}while(b.length!=0)E.ag7(b.pop(),o)};iS.KB=function(K,o){for(var y=0;
y<K.length;y++)if(K[y].overrideName.startsWith(o))return K[y]};iS.a3Z=function(K,o){var Y=0,c=[];while(Y+1<K.length){var z=K[Y];
Y++;if(z>127){z+=128*(K[Y]-1);Y++;if(K[Y-1]>127){z+=128*(K[Y]-1);Y++}}var f=K[Y];Y++;c.push(z,f)}return c};
iS.a7X=function(K,o,Y,c){var z=iS,f=0,O=0,j=0;for(var y=0;y<c.length;y++){var $=c.charCodeAt(y),E=1473<=$&&$<=1479||1488<=$&&$<=1514||1520<=$&&$<=1524,b=1569<=$&&$<=1594||1600<=$&&$<=1749;
if(E||b)f++}var q=f>c.length/2;for(var y=0;y<o.length;y+=2){var A=o[y],V=14,U="DejaVuSans";if(A==0)continue;
var R=o[y+1],g=Y[R],H=b_.Sw(K,O,O+A-1),i=g.NSColor;if(i==null){var i=g.MSAttributedStringColorDictionaryAttribute;
if(i==null)i=g.MSAttributedStringColorAttribute;if(i==null)i="0 0 0";else i=[i.red,i.green,i.blue].join(" ")}else if(z.w0(i)=="MSArchivedColor")i=i.dr+" "+i.dg+" "+i.db;
else if(i.NSRGB){i=i.NSRGB;i=_.H9(i,0,i.length-1)}else if(i.NSCMYK){i=i.NSCMYK;i=_.H9(i,0,i.length-1);
i=i.split(" ").map(parseFloat);var h=1-i[0],x=1-i[1],F=1-i[2],X=1-i[3];i=h*X+" "+x*X+" "+F*X}else if(i.NSWhite){i="1 1 1"}i=i.split(" ");
H.Pf.FillColor={Type:1,Values:[1,parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2])]};var Z=g.MSAttributedStringFontAttribute;
if(g.NSFont){V=g.NSFont.NSSize;U=g.NSFont.NSName}else if(Z){if(Z.attributes){Z=Z.attributes;V=Z.size;
U=Z.name}else{var T=Z.NSFontDescriptorAttributes;if(T==null)T=Z.UIFontDescriptorAttributes;Z=T;V=Z.NSFontSizeAttribute;
U=Z.NSFontNameAttribute}if(U==null)U="DejaVuSans"}var j=Math.max(j,V);H.Pf.FontSize=Math.round(V);b_.iN(H,U);
var v=g.NSKern;if(v==null)v=g.kerning;if(v!=null)H.Pf.Tracking=Math.round(1e3*v/V);if(g.NSUnderline!=null)H.Pf.Underline=g.NSUnderline>0;
var P=g.NSStrikethrough;if(P==null)P=g.strikethroughStyle;if(P!=null)H.Pf.Strikethrough=P>0;if(g.MSAttributedStringTextTransformAttribute==1)H.Pf.FontCaps=2;
var p=g.NSParagraphStyle;if(p==null)p=g.paragraphStyle;if(p){var a=p.paragraphSpacing;if(a!=null){H.Nd.SpaceAfter=a}var D=p.NSAlignment;
if(D==null)D=p.alignment;if(D!=null){var n=0;if(!1){}else if(D==1)n=1;else if(D==2)n=2;else if(D==4)n=0;
else{n=D;console.log("unknown align",D)}if(q&&n<2)n=1-n;H.Nd.Justification=n}var N=p.NSMinLineHeight;
if(N==null)N=p.minimumLineHeight;if(N!=null){H.Pf.AutoLeading=!1;H.Pf.Leading=N}}H.Nd._Direction=q?1:0;
b_.K2(K,O,O+A,H);O+=A}return j};iS.atx=function(K,o,Y,c,z,f,$){var E=iS,b=JSON.parse(eF.default),q=!1;
for(var y=0;y<eF.order.length;y++)b[eF.nk[y]]={t:"VlLs",v:[]};var O=Y.fills,j=E.avl(K,O,c,z,f,o);for(var A=0;
A<2;A++){var R=Y[["shadows","innerShadows"][A]];if(R==null)continue;var g=["DrSh","IrSh"][A],H=eF.nk[eF.order.indexOf(g)];
for(var y=0;y<R.length;y++){var i=R[y];if(!i.isEnabled)continue;var h=i.contextSettings;if(h&&h.opacity==0||i.color.alpha==0)continue;
var x=JSON.parse(eF.NF[eF.order.indexOf(g)]);b[H].v.unshift({t:"Objc",v:x});q=!0;x.Clr.v=E.gP(i.color);
x.blur.v.val=Math.round(i.blurRadius/z._8());var F=z.clone();F.B3=F.Z7=0;F.oD();var X=F.qc(new jc(i.offsetX,i.offsetY)),V=Math.sqrt(X.x*X.x+X.y*X.y);
x.Dstn.v.val=Math.round(V);x.lagl.v.val=Math.round(Math.atan2(X.y,-X.x)*(180/Math.PI));if(x.layerConceals)x.layerConceals.v=j.length!=0;
E.M7(i,x)}}var U=Y.borders;if(U!=null&&(j.length==0||Y.blur==null||!Y.blur.isEnabled))for(var y=0;y<U.length;
y++){var Z=U[y];if(!Z.isEnabled)continue;var x=JSON.parse(eF.NF[eF.order.indexOf("FrFX")]),H=eF.nk[eF.order.indexOf("FrFX")];
b[H].v.unshift({t:"Objc",v:x});q=!0;x.Clr.v=E.gP(Z.color);if(Z.fillType!=0&&Z.gradient){var T=E.Cr(Z.gradient,c,z,f),v=["Type","Angl","Ofst","Scl"];
for(var y=0;y<v.length;y++)x[v[y]]=T[v[y]];x.Grad.v=T.Grad.v;x.PntT.v.FrFl="GrFl"}x.Sz.v.val=Math.round(Z.thickness/z._8());
x.Styl.v.FStl=["CtrF","InsF","OutF"][Z.position];E.M7(Z,x)}for(var y=$?1:0;y<j.length;y++){var P=j[y],H=eF.nk[eF.order.indexOf(P.type)];
b[H].v.unshift(P.b);q=!0}return q?b:null};iS.avl=function(K,o,Y,c,z,f,$){if(o==null)return[];var E=iS,b=[];
for(var y=0;y<o.length;y++)if(o[y].isEnabled)b.push(o[y]);o=b;var q=[];for(var y=0;y<o.length;y++){var O=o[y],j=null,A=null;
if(O.fillType==0){j="SoFi";var R=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);A={t:"Objc",v:R};A.v.Clr.v=E.gP(O.color)}else if(O.fillType==1){j="GrFl";
A={t:"Objc",v:E.Cr(O.gradient,Y,c,z)}}else if(O.fillType==4&&O.image!=null){var g=O.image;if($)g=$.value;
var H=fv.sR(g.bdata.buffer);if(H=="fpng")H="png";if(H!=null&&H!="pdf"&&H!="eps"){var i,U=0,Z=0,T=0;if(f.jM[g.key])i=f.jM[g.key];
else{var h=fv.WD(H).MW(g.bdata)[0],x=h.eQ.clone();i={};i.id=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";i.name="someImage";
i.JN=[new Uint8Array(h.data),x];f.AG(i);f.jM[g.key]=i}var F=i.JN[1],R=JSON.parse(eF.NF[eF.order.indexOf("patternFill")]);
j="patternFill";A={t:"Objc",v:R};var X=O.patternFillType,V=O.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=i.id;
if(X==0){U=V*F.m/Math.min(F.m,F.e);Z=-c.B3;T=-c.Z7}else{U=Math.max(Y.m/F.m,Y.e/F.e);Z=-c.B3-(F.m*U-Y.m)/2;
T=-c.Z7-(F.e*U-Y.e)/2}R.Scl.v.val=100*U*(1/c._8());R.phase.v.Hrzn.v=Math.round(Z/c._8());R.phase.v.Vrtc.v=Math.round(T/c._8())}}else if(O.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",O.fillType);
if(j!=null){E.M7(O,A.v);q.push({type:j,b:A})}}return q};iS.aeh=function(K){var o=iS,Y=new hD(0,0,1,1);
K=K.slice(0);while(!0){var c=!1;for(var y=0;y<K.length-1;y++){var z=K[y],f=K[y+1],$=null,E=z.contextSettings;
if(z.fillType==0&&(E==null||E.opacity==1&&E.blendMode==0)&&z.color.alpha==1){var b="norm",q=1,E=f.contextSettings;
if(E){q=E.opacity;b=jw.Ef(o.pm[E.blendMode])}if(f.fillType==0){$=JSON.parse(JSON.stringify(f));o.a7U($.color,z.color,$.color,Y,b,q)}if(f.fillType==1){$=JSON.parse(JSON.stringify(f));
var O=$.gradient.stops;for(var j=0;j<O.length;j++)o.a7U(O[j].color,z.color,O[j].color,Y,b,q)}if($!=null&&$.contextSettings){var E=$.contextSettings;
E.opacity=1;E.blendMode=0}}if($!=null){K.splice(y,0,$);c=!0;break}}if(!c||K.length<2)break}return K};
iS.a7U=function(K,o,Y,c,z,f){var $=iS,E=d.R(4);$.a7b(K,E);var b=d.R(4);$.a7b(o,b);d.l.To(z,E,c,b,c,c,f);
$.arG(b,Y)};iS.a7b=function(K,o){o[0]=255*K.red;o[1]=255*K.green;o[2]=255*K.blue;o[3]=255*K.alpha};iS.arG=function(K,o){o.red=K[0]/255;
o.green=K[1]/255;o.blue=K[2]/255;o.alpha=K[3]/255};iS.ag7=function(K,o){K=K.clone();K.Gh=24;K.vd("Mask by "+K.getName());
o.B.push(K);K.add.lsct=eo.bl;K.add.lyid=o.Zj();delete K.add.lmfx;delete K.add.SoCo;delete K.add.GdFl;
delete K.add.PtFl;delete K.add.iOpa;if(K.add.vmsk)K.add.vmsk.dw=!0;K.D8();K.WG(o);if((K.Gh&16)==16)K.Gh-=16;
if((K.Gh&2)==2)K.Gh-=2;K.YF="pass";K.opacity=255};iS.pm="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
iS.Cr=function(K,o,Y,c){Y=Y.clone();Y.oD();Y.B3=Y.Z7=0;var z=Y._8(),A=0,R=0;Y.scale(1/z,1/z);var f=iS,$=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),E=$.Grad.v;
E.Intr.v=0;if(K==null)return $;var b=K.gradientType,q=f.Bd(K.from),O=f.Bd(K.to);q.offset(-.5,-.5);O.offset(-.5,-.5);
q=Y.qc(q);O=Y.qc(O);var j=Math.atan2(-(O.y-q.y),O.x-q.x);$.Type.v.GrdT=["Lnr","Rdl","Angl"][b];$.Scl.v.val=100*jc.si(q,O);
if(b==0){$.Angl.v.val=180/Math.PI*j;$.Scl.v.val=100*jc.si(q,O);A=(q.x+O.x)/2;R=(q.y+O.y)/2}if(b==1){$.Scl.v.val=200*jc.si(q,O);
A=q.x;R=q.y}if(b==2){$.Angl.v.val=180/Math.PI*(j-Math.PI/2)}var g=$.Ofst.v;g.Hrzn.v.val=A*100;g.Vrtc.v.val=R*100;
var H=[];for(var y=0;y<K.stops.length;y++){var i=K.stops[y],h=i.color;H.push([i.position,h?[h.red,h.green,h.blue]:[0,0,0],h.alpha])}d.H.zZ(H,E);
return $};iS.M7=function(K,o){var Y=iS,c=1,z=K.contextSettings;if(z!=null){o.Md.v.BlnM=Y.pm[z.blendMode];
c*=z.opacity}else o.Md.v.BlnM=Y.pm[0];o.enab.v=K.isEnabled;if(o.uglg!=null)o.uglg.v=!1;if(K.color!=null)c*=K.color.alpha;
o.Opct.v.val=Math.round(c*100)};iS.gP=function(K){return d.H.eD(K?{o:K.red*255,A:K.green*255,J:K.blue*255}:{o:0,A:0,J:0})};
iS.jn=function(K,o){var Y=iS,c=[{type:6},{type:8,all:0}];for(var z=0;z<K.length;z++){var f=K[z],$=f.booleanOperation,E=0,b=f._class,g=!1;
if(b=="group"||b=="text"||b=="symbolInstance"||b=="slice"){console.log(b+" inside ShapeGroup");continue}if($==-1)E=0;
else if($==0)E=1;else if($==1)E=2;else if($==2)E=3;else if($==3)E=0;if(z==0)E=1;var q=iS.p1(f.frame),O=Y.apJ(f,o),j=f.path?f.path:f,A=[{type:0,length:0,fa:E,VB:2,JV:0,XT:0}],R=j.points;
for(var y=0;y<R.length;y++){var H=R[y],i=Y.Bd(H.curveTo),h=Y.Bd(H.point),x=Y.Bd(H.curveFrom);g=g||H.hasCurveFrom&&!x.BV(h)||H.hasCurveTo&&!i.BV(h)}var F=[];
if(!g){var X=[],h4=R.length;if(h4==0)continue;for(var y=0;y<h4;y++){F[y]=R[y].cornerRadius;var H=Y.Bd(R[y].point);
X.push(H.x,H.y)}O.scale(1/q.m,1/q.e);O.oD();d.M.i(X,O,X);A=d.j.OJ.NX(X,F).slice(2);A[0].fa=E}else{var V=R.length;
A[0].length=V;for(var y=0;y<V;y++){var H=R[y],U=H.curveMode,Z=Y.Bd(H.point);A[1+y]={type:U==2||U==4?1:2,KK:H.hasCurveTo?Y.Bd(H.curveTo):Z.clone(),P:Z,eb:H.hasCurveFrom?Y.Bd(H.curveFrom):Z.clone()}}O.scale(1/q.m,1/q.e);
O.oD();d.j.k3(A,O);var F=[];for(var y=0;y<V;y++){var H=R[y],U=H.curveMode,T=H.cornerRadius;if(U==1&&T!=0)F.push(T);
else F.push(0)}}if(!j.isClosed)for(var y=0;y<A.length;y++)A[y].type+=3;c=c.concat(A);var v=Y.w0(f);if(O.J==0&&O.b0==0){var P=O.B3,p=O.Z7,a=P+O.g,D=p+O.gG,n=[P,p,a,D]}}return c};
iS.apJ=function(K,o){var Y=o.clone(),c=K.frame?iS.p1(K.frame):null;if(c)Y.translate(-c.x-c.m/2,-c.y-c.e/2);
if(K.isFlippedHorizontal)Y.scale(-1,1);if(K.isFlippedVertical)Y.scale(1,-1);Y.rotate(-K.rotation*(Math.PI/180));
if(c)Y.translate(c.m/2,c.e/2);return Y};iS.Bd=function(K){K=K.slice(1,K.length-1).split(",");return new jc(parseFloat(K[0]),parseFloat(K[1]))};
iS.p1=function(K){return new hD(K.x,K.y,K.width,K.height)};iS.aAf=function(K){return{_class:"rect",constrainProportions:!1,x:K.x,y:K.y,width:K.m,height:K.e}};
function aA(){}aA.qz=function(K,o){var Y=Date.now(),c=aA,z=UZIP.parse(K),f=JSON.parse(_.DI(z.manifest)),$=JSON.parse(_.DI(z["resources/graphics/graphicContent.agc"])).resources,E=[],b=[],q=f.children;
for(var y=0;y<q.length;y++){var O=q[y];if(O.name=="artwork"){var j=O.children;for(var A=0;A<j.length;
A++){var R=j[A],g=JSON.parse(_.DI(z["artwork/"+R.path+"/graphics/graphicContent.agc"])),H=g.children;
if(H.length==0){}else if(H.length==1){if(R["uxdesign#bounds"]){R._node=H[0];E.push(R)}}else{var i=H[0],h=i.transform,x=i.shape;
if(x==null)x={x:0,y:0,width:1e3,height:1e3};if(x.type=="path"){var F=d.M.MN(Typr.U.SVGToPath(x.path).crds);
x={x:F.x,y:F.y,width:F.m,height:F.e}}x=JSON.parse(JSON.stringify(x));if(h){x.x+=h.tx;x.y+=h.ty}R["uxdesign#bounds"]=x;
R._node={type:"artboard",artboard:{children:H}};b.push(R)}}}}if(E.length==0)E=b;var X=[],V=new hD;for(var y=0;
y<E.length;y++){var R=E[y],U=iS.p1(R["uxdesign#bounds"]);X.push(U);V=V.Bb(U)}var Z=iS.a2(V,8192*8192);
o.$P=!0;o.m=Math.round(V.m/Z);o.e=Math.round(V.e/Z);o.buffer=d.R(o.m*o.e*4);o.Y4(E.length);var T=new dF(Z,0,0,Z,V.x,V.y);
o.jM={};for(var y=0;y<E.length;y++){var R=E[y],U=iS.p1(R["uxdesign#bounds"]),v=R._node,P=T.clone(),p=U.clone(),a=P._8();
P.translate(-U.x,-U.y);p.x=-Math.floor(P.B3/a);p.y=-Math.floor(P.Z7/a);p.m=Math.floor(p.m/a);p.e=Math.floor(p.e/a);
P.translate(U.x,U.y);aA.ce(v,o,P,$,z,p);var D=o.B[o.B.length-1];D.vd(R.name);D.HL(p);if(y!=E.length-1)D.add.lsct=eo.g5}delete o.jM};
aA.T5=function(K){if(K==null)return new dF;return new dF(K.a,K.b,K.c,K.d,K.tx,K.ty)};aA.ce=function(K,o,Y,c,z,f){var $=aA,E=K.type,b=K[E],q=K.style,O=$.T5(K.transform),g,H="none",i,h="none",x,F;
O.oD();var j=Y.clone();j.concat(O);var A=o.Uu(),R=K.name;A.vd(R?R.slice(0,250):"Layer");if(K.visible!=null)A.dt(K.visible);
if(q){g=q.stroke;H=g?g.type:"none";i=q.fill;h=i?i.type:"none";x=q.filters;F=q.clipPath;if(F&&c.clipPaths[F.ref])F=c.clipPaths[F.ref].children;
else F=null;if(q.opacity!=null)A.opacity=Math.round(255*q.opacity);if(h=="solid"&&i.color.alpha)A.opacity=Math.round(A.opacity*i.color.alpha);
if(x){A.add.lmfx=$.alO(x);for(var y=0;y<x.length;y++)if(x[y].type=="uxdesign#blur"){var X=x[y],V=X.params,U=V.brightnessAmount;
if(U==null)U=0;U=Math.abs(U/100);if((X.visible==null||X.visible==!0)&&V.backgroundEffect)A.opacity=Math.round(A.opacity*(U+(1-U)*V.fillOpacity))}}if(h=="pattern"&&i.pattern.meta.ux.uid=="")h="none"}if(F==null&&K.meta&&K.meta.ux&&K.meta.ux.clipPathResources)F=K.meta.ux.clipPathResources.children;
if(E=="artboard"||E=="group"){if(F){var Z=F[0],T=Z.shape,v=T!=null&&T.type=="rect"&&T.width*T.height>4e6;
if(Z.type!="text"&&!v){if(T){var O=$.T5(Z.transform);O.oD();var P=j.clone();P.concat(O);A.add.vmsk=new S.kZ;
A.add.vmsk.$=$.jn(T);P=P.clone();P.oD();d.j.k3(A.add.vmsk.$,P);A.D8();A.WG(o)}}else if(!v)alert("Clipping by text has been ignored")}A.add.lsct=eo.bl;
A.YF="pass";A.Gh=24;if(K.visible!=null)A.dt(K.visible);o.B.push(o.uR());var p=b.children,a=i;if(a)a=a.color;
if(a)a=a.value;if(i){if(E=="artboard"&&h=="solid"){A.HL(new hD(0,0,10,10));A.add.artb.Clr={t:"Objc",v:d.H.eD({o:a.r,A:a.g,J:a.b})};
A.add.artb.artboardBackgroundType={t:"long",v:4}}else{var D=o.Uu();D.vd("BACKGROUND");D.Gh|=16;D.add.vstk=eF.oc.Ta();
D.add.vmsk=new S.kZ;D.add.vmsk.$=$.jn({type:"rect",x:f.x,y:f.y,width:f.m,height:f.e});$.WP(i,h,j,f,f,D,o,c,z);
D.D8();D.WG(o);o.B.push(D)}}for(var y=0;y<p.length;y++){aA.ce(p[y],o,j,c,z,f)}}else if(E=="shape"&&(b.type=="rect"&&(b.r==null||b.r==0)||b.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(b.path)))&&h=="pattern"&&(Math.abs(b.width/b.height-i.pattern.width/i.pattern.height)<.01||q.fill.pattern.meta.ux.scaleBehavior=="fill")){var n=i.pattern,N=n.meta.ux,W=N.uid,G=z["resources/"+W];
if(G==null){console.log(n);return}var l=o.o3(G,A.getName(),0,0);l.Gh=A.Gh;l.opacity=A.opacity;A=l;var u=d.j.QJ($.jn(b),null),e=d.M.Yq(new hD(0,0,n.width,n.height)).z,M=new dF;
M.scale(n.width/u.m,n.height/u.e);if(N.offsetX)M.translate(-N.offsetX*n.width,0);if(N.offsetY)M.translate(0,-N.offsetY*n.height);
j.concat(M);j.oD();d.M.i(e,j,e);A.add.SoLd.Trnf=m.OB.c5(e);A.add.SoLd.nonAffineTransform=m.OB.c5(e);
A.Mc(o,!1)}else if(E=="shape"){A.Gh|=16;A.add.vstk=eF.oc.Ta();A.add.vmsk=new S.kZ;A.add.vmsk.$=$.jn(b);
var u=d.j.QJ(A.add.vmsk.$,null),P=j.clone();P.oD();d.j.k3(A.add.vmsk.$,P);var B=d.j.QJ(A.add.vmsk.$,null);
if(H=="none"){}else{var s=g.color.value,t,J;t="SoFi";var L=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);
J={t:"Objc",v:L};J.v.Clr.v=d.H.eD({o:s.r,A:s.g,J:s.b});var k=g.align,C=g.cap;if(k==null)k="center";var r=A.add.vstk;
r.strokeEnabled.v=!0;r.strokeStyleLineWidth.v.val=g.width;if(k)r.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eF.oc.Nv[["inside","center","outside"].indexOf(k)];
if(C)r.strokeStyleLineCapType.v.strokeStyleLineCapType=eF.oc.Gu[["butt","round","square"].indexOf(C)];
var Q=["SoFi","GrFl","patternFill"].indexOf(t),j9=[eF.u4,eF.Eo,eF.Jo][Q];r.strokeStyleContent.v={classID:eF.oc.OV[0]};
var a4=r.strokeStyleContent.v={classID:eF.oc.OV[Q]};for(var y=0;y<j9.length;y++)a4[j9[y]]=J.v[j9[y]]}if(x)for(var y=0;
y<x.length;y++)if(x[y].type=="uxdesign#blur"&&x[y].visible){var ar=x[y];A.add.vmsk.cG=ar.params.blurAmount}$.WP(i,h,j,u,B,A,o,c,z);
A.D8();A.WG(o)}else if(E=="text"&&K.text){var ez=K.text,ja=ez.frame,c3=q.font,hW=q.textAttributes,O=j.clone(),hM=0;
O.oD();A.add.lnsr="rend";A.add.TySh=b_.HO(0,0);A.add.TySh.jT=new hD(0,0,100,100);A.add.TySh.i=O;var fO=A.add.TySh.e9,ei=ez.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
b_.Df(fO,0,ei);if(ei!=""){var fV=b_.Sw(fO,0,1),aW=c3.postscriptName;if(aW==null)aW=c3.family;b_.iN(fV,aW);
fV.Pf.FontSize=Math.round(c3.size);if(i){var s=i.color.value;fV.Pf.FillColor={Type:1,Values:[1,s.r/255,s.g/255,s.b/255]}}if(hW){if(hW.paragraphAlign)fV.Nd.Justification=["left","right","center"].indexOf(hW.paragraphAlign);
if(hW.letterSpacing)fV.Pf.Tracking=Math.round(hW.letterSpacing);if(hW.lineHeight){fV.Pf.AutoLeading=!1;
fV.Pf.Leading=Math.round(hW.lineHeight)}}b_.K2(fO,0,ei.length,fV)}var ee=K.meta.ux.rangedStyles;if(ee)for(var y=0;
y<ee.length;y++){var b=ee[y],ds=Math.min(b.length,ei.length-hM);if(y==ee.length-1)ds=ei.length-hM;var fV=b_.Sw(fO,hM,hM+ds),aW=b.postscriptName;
if(aW==null)aW=b.family;if(aW!=null)b_.iN(fV,aW);var cp=b.textScript,eA=b.underline,js=b.fontSize,X=b.fill,bF=b.textTransform;
if(cp&&cp!="none")fV.Pf.FontBaseline=cp=="superscript"?1:2;if(eA!=null)fV.Pf.Underline=eA;if(js!=null)fV.Pf.FontSize=Math.round(js);
if(bF!=null)fV.Pf.FontCaps=bF=="uppercase"?2:0;if(bF=="lowercase"){b_.eO(fO,hM,hM+ds);b_.Df(fO,hM,ei.slice(hM,hM+ds).toLowerCase())}if(X!=null){var gF=X.value;
fV.Pf.FillColor={Type:1,Values:[1,(gF>>>16&255)/255,(gF>>>8&255)/255,(gF>>>0&255)/255]}}b_.K2(fO,hM,hM+ds,fV);
hM+=ds}if(ja.type=="area"||ja.type=="autoHeight"){var ji=ja.width,hd=ja.height;b_.go(fO,1);b_.X$(fO,[0,0,ji,hd!=null?hd:ji*2])}}else if(E=="syncRef"){var eZ=K.syncSourceGuid,cX=c.meta.ux.symbols,bW=$.E4(cX,eZ);
if(bW){var ju=j.clone();ju.concat($.T5(bW.transform));aA.ce(bW,o,ju,c,z,f)}return}else console.log(E,K);
o.B.push(A)};aA.E4=function(K,o){for(var y=0;y<K.length;y++){var Y=K[y],c=Y.group;if(Y.id==o)return Y;
if(c){var z=aA.E4(c.children,o);if(z)return z}}return null};aA.jn=function(K){var o=K.type,Y=[{type:6},{type:8,all:0}];
if(o=="rect"){var c=K.r,z=K.x,f=K.y,$=K.width,E=K.height;Y=d.j.OJ.Rect(z,f,$,E,c?c:0)}else if(o=="circle"){var c=K.r;
Y=d.j.OJ.MR(K.cx-c,K.cy-c,2*c,2*c)}else if(o=="ellipse"){var b=K.rx,q=K.ry;Y=d.j.OJ.MR(K.cx-b,K.cy-q,2*b,2*q)}else if(o=="path"||o=="compound"){var O=Typr.U.SVGToPath(K.path);
Y=d.M.eX({G:O.cmds,z:O.crds},!1)}else if(o=="line"){var j=K.x1,A=K.x2,R=K.y1,g=K.y2;Y=d.j.OJ.NX([j,R,A,g],0,!0)}else if(o=="polygon"){var H=K.points,i=[];
for(var y=0;y<H.length;y++)i.push(H[y].x,H[y].y);Y=Y.concat(d.j.OJ.NX(i,0,!1).slice(2))}else console.log(o,K);
return Y};aA.alO=function(K){var o=JSON.parse(eF.default);for(var y=0;y<eF.order.length;y++)o[eF.nk[y]]={t:"VlLs",v:[]};
for(var y=0;y<K.length;y++){var Y=K[y],c=Y.type,z=Y.params,f=Y.visible;if(c=="dropShadow"){var $=eF.nk[eF.order.indexOf("DrSh")],E=JSON.parse(eF.NF[eF.order.indexOf("DrSh")]);
o[$].v.unshift({t:"Objc",v:E});var b=z.dropShadows;if(b.length!=1)throw"e";var q=b[y],O=q.color,j=O.value,A=q.dx,R=q.dy;
E.Clr.v=d.H.eD({o:j.r,A:j.g,J:j.b});E.Opct.v.val=Math.round((O.alpha!=null?O.alpha:1)*100);E.uglg.v=!1;
E.enab.v=f!=null?f:!0;E.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,-A));E.Dstn.v.val=Math.round(Math.sqrt(A*A+R*R));
E.blur.v.val=Math.round(q.r*2.3)}}return o};aA.WP=function(K,o,Y,c,z,f,$,E,b){var q=aA;f.add.vstk.fillEnabled.v=o!="none";
if(o=="none"){f.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}}}else{var O,j,A;if(o=="solid"){var R=K.color.value;
O="SoCo";j=eF.u4;var g=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);A={t:"Objc",v:g};A.v.Clr.v=d.H.eD({o:R.r,A:R.g,J:R.b})}else if(o=="gradient"){O="GdFl";
j=eF.Eo;var g=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),H=g.Grad.v,X,V,U;H.Intr.v=0;var i=K[o],h=i.ref?E.gradients[i.ref]:i.meta.ux.gradientResources,x=["linear","radial","angular"].indexOf(h.type),F=h.stops;
g.Type.v.GrdT=["Lnr","Rdl","Angl"][x];if(x==0){var X=new jc(i.x1,i.y1),V=new jc(i.x2,i.y2);X.x=V.x+.5*(X.x-V.x);
X.y=V.y+.5*(X.y-V.y)}else{var X=new jc(i.cx,i.cy),V=new jc(i.cx+i.r,i.cy)}U=z;if(i.units=="objectBoundingBox"){var Z=new dF(c.m,0,0,c.e,c.x,c.y);
X=Z.qc(X);V=Z.qc(V)}var Z=q.T5(i.transform);X=Z.qc(X);V=Z.qc(V);Z=Y.clone();Z.oD();X=Z.qc(X);V=Z.qc(V);
d.H.M9(X,V,U,g);var T=[];for(var y=0;y<F.length;y++){var v=F[y],P=v.color,R=P.value,p=P.alpha;if(p==null)p=1;
T.push([v.offset,[R.r/255,R.g/255,R.b/255],p])}d.H.zZ(T,H);A={t:"Objc",v:g}}else if(o=="pattern"){O="PtFl";
j=eF.Jo;var g=JSON.parse(eF.NF[eF.order.indexOf("patternFill")]),e;A={t:"Objc",v:g};var a=K[o],D=a.meta.ux,n=D.uid,N=b["resources/"+n].buffer,W=D.flipX,G=D.flipY,l=n+W+G,u=fv.sR(N);
if($.jM[l])e=$.jM[l];else{var M=new hD(0,0,a.width,a.height),B;if(M.xf()||u==null){M=new hD(0,0,1,1);
B=new ArrayBuffer(4)}else{var s=fv.WD(u);if(s.MS){var t=new h7;s.MW(N,t);B=t.Gl().buffer}else{try{var J=s.MW(N)[0];
B=J.data;M=J.eQ}catch(es){B=new ArrayBuffer(M.Z()*4)}}}e={};e.id=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";
e.name="someImage";e.JN=[new Uint8Array(B),M];if(W)d.D.D_(e.JN[0].slice(0),e.JN[0],M.m,M.e);if(G)d.D.aup(e.JN[0].slice(0),e.JN[0],M.m,M.e);
$.AG(e);$.jM[l]=e}var L=Y.clone();L.oD();L.translate(c.x,c.y);var k=c.m,C=c.e,r=e.JN[1].m,Q=e.JN[1].e,j9=Math.max(k/r,C/Q);
if(D.scale)j9*=D.scale;var a4=new dF;a4.translate(-r/2,-Q/2);a4.scale(1/r,1/Q);if(D.offsetX!=null)a4.translate(D.offsetX,D.offsetY);
a4.scale(r,Q);a4.scale(j9,j9);a4.translate(k/2,C/2);a4.concat(L);eq.aqo(e,g,0,0,1e3,a4)}else console.log(o);
if(O!=null){f.add[O]={classID:"null"};for(var y=0;y<j.length;y++){var ar=j[y];f.add[O][ar]=A.v[ar]}}}};
function iT(){}iT.qz=function(K,o,Y){if(Y&&Y[0]==null)Y=null;K=new Uint8Array(K);var c,F=1;if(K[0]==255&&K[1]==254)c=_.IF(K,2,(K.length>>>1)-1);
else c=_.DI(K,0,K.length);var z=new DOMParser,f=z.parseFromString(c,"image/svg+xml"),$=f.getElementsByTagName("style")[0];
if($)$=Typr.U.SVG.cssMap($.textContent);else $={};var E=f.firstChild;while(E.tagName!="svg")E=E.nextSibling;
var b=new hD(0,0,100,100),q=E.getAttribute("viewBox"),O=E.getAttribute("width"),j=E.getAttribute("height"),A=O!=null?parseFloat(O):parseFloat(j),R=j!=null?parseFloat(j):parseFloat(O);
if(q){var g=iT.akN(q);b.x=g[0];b.y=g[1];b.m=g[2];b.e=g[3];if(O!=null){var H=g[2]/g[3],i=A/R;if(i>H){var h=g[3]*i-b.m;
b.x-=h/2;b.m+=h}if(i<H){var x=g[2]/i-b.e;b.y-=x/2;b.e+=x}}}else if(O!=null||j!=null){b.m=A;b.e=R}b=d.M.tS(b);
while(Y&&Math.max(b.m*F,b.e*F)<Math.max(Y[0],Y[1]))F++;while(Y==null&&Math.max(b.m,b.e)*F>8192)F*=.5;
o.$P=!0;o.m=~~(b.m*F);o.e=~~(b.e*F);var X=new dF(F,0,0,F,-b.x*F,-b.y*F),V={Ww:iT.vC(E),a7z:$,Um:0};iT.E8(f,E.children,o,X,V,new dF,0);
if(o.B.length==0){var U=o.Uu();U.vd("Layer");o.B.push(U)}};iT.akN=function(K){var o=" ";if(K.indexOf(",")!=-1)o=",";
return K.split(o).map(parseFloat)};iT.E8=function(K,o,Y,c,z,f,$,E){var b=iT,q=["display","opacity","fill-opacity","filter","clip-path"],O=0;
for(var j=0;j<o.length;j++){var A=o[j],R=A.tagName,g=A.getAttribute("id"),h=13,U=1,v="clip-path",P=null,u=0;
if(g==null)g=A.getAttribute("data-name");var H=b.vC(A,z.a7z);for(var i in z.Ww)if(q.indexOf(i)==-1&&H[i]==null)H[i]=z.Ww[i];
if(H["font-size"])h=b.Gw(H["font-size"],h);if(A.getAttribute("dx"))c.B3+=b.Gw(A.getAttribute("dx"),h);
if(A.getAttribute("dy"))c.Z7+=b.Gw(A.getAttribute("dy"),h);var x=b.E9(A);x.concat(c);var F=A.getAttribute("visibility"),X=H.display,V=Y.Uu();
if(F=="hidden"||X=="none")V.dt(!1);V.vd(g!=null?g.split(":::")[0]:"Layer");if(H.opacity)U*=parseFloat(H.opacity);
if(H["fill-opacity"]){var Z=parseFloat(H["fill-opacity"]);if(Z!=0)U*=Z}V.opacity=Math.round(255*U);if(H["mix-blend-mode"]){var T=jw.j1.indexOf(H["mix-blend-mode"]);
if(T!=-1)V.YF=jw.iu[T]}if(A.getAttribute(v)==null)v="mask";if(A.getAttribute(v)!=null||H["clip-path"]){var p=A.getAttribute(v);
if(p==null)p=H["clip-path"];p=p.slice(4,p.length-1);var a=K.getElementById(p.slice(1));if(a){var D=a.children;
P=Y.Uu();P.vd("Clip-Path"+(g?": "+g:""));P.add.lsct=$<2?eo.bl:eo.g5;P.YF="pass";P.Gh=24;var n=P.add.vmsk=new S.kZ;
Y.B.push(Y.uR());var N=[];if(a.getAttribute(v)){var p=a.getAttribute(v);p=p.slice(4,p.length-1);N=K.getElementById(p.slice(1)).children}for(var y=0;
y<D.length;y++){var W=b.E9(D[y]);W.concat(x);var G=b.jn(Y,K,D[y],!1).slice(2);d.j.k3(G,W);n.$=n.$.concat(G)}for(var y=0;
y<N.length;y++){var W=b.E9(D[y]);W.concat(x);var G=b.jn(Y,K,N[y],!1).slice(2);for(var l=0;l<G.length;
l++)if(G[y].fa!=null)G[y].fa=3;d.j.k3(G,W);n.$=n.$.concat(G)}P.D8();P.WG();$++}}if(H.filter&&H.filter!="none"){var e=H.filter,B,s,t,L=!1,k=!1,C=!1;
e=e.slice(5,e.length-1);var M=K.getElementById(e),J=[0,0,0,.5],r=x._8();if(M)for(var y=0;y<M.children.length;
y++){var Q=M.children[y];if(Q.tagName=="feGaussianBlur"){L=!0;B=parseFloat(Q.getAttribute("stdDeviation"))*r}if(Q.tagName=="feColorMatrix"){var j9=Q.getAttribute("values");
if(j9){j9=j9.split(" ").map(parseFloat);J=[j9[4],j9[9],j9[14],j9[18]]}}if(Q.tagName=="feComposite"){C=!0}if(Q.tagName=="feOffset"){k=!0;
var a4=Q.getAttribute("dx"),ar=Q.getAttribute("dy");s=parseFloat(a4?a4:0)*r;t=parseFloat(ar?ar:0)*r}}if(L&&(C||k)){var ez=C?"IrSh":"DrSh";
if(ez=="IrSh"){V.add.iOpa=0}var ja=JSON.parse(eF.NF[eF.order.indexOf(ez)]);ja.blur.v.val=Math.round(B*2.4);
var c3=Math.sqrt(s*s+t*t);ja.uglg.v=!1;ja.Dstn.v.val=Math.round(c3);ja.lagl.v.val=Math.round(Math.atan2(t,-s)*(180/Math.PI));
ja.Clr.v=d.H.eD({o:J[0]*255,A:J[1]*255,J:J[2]*255});ja.Opct.v.val=Math.round(J[3]*100);b.a8c(V,eF.nk[eF.order.indexOf(ez)],ja)}else if(L)u=B}if(R=="g"||R=="a"||R=="svg"||R=="switch"||(R=="text"||R=="textPath")&&A.children.length>0||R=="symbol"&&E){if(R=="text")f=b.lB(A,f);
var hW=A.getAttribute("viewBox"),fO=A.getAttribute("width"),ei=A.getAttribute("height");if(hW&&fO&&ei){var fV=iT.akN(hW),aW=b.lB(A),ee=new dF;
ee.translate(-fV[0],-fV[1]);ee.scale(parseFloat(fO)/fV[2],parseFloat(ei)/fV[3]);ee.translate(aW.B3,aW.Z7);
ee.concat(x);x=ee}var hM=A.children.length,ds=z.Ww;z.Ww=H;var cp=z.Um;z.Um=Math.max(z.Um,u);var eA=R!="text"&&R!="textPath"||hM>1;
if(eA){var db=V.KL();V.add.lsct=$<2&&db&&(g==null||!g.endsWith(":::"))?eo.bl:eo.g5;V.YF="pass";V.Gh=24;
V.dt(db);Y.B.push(Y.uR())}b.E8(K,A.children,Y,x,z,f,$+1);if(eA)Y.B.push(V);else{var js=Y.B[Y.B.length-1];
js.opacity=V.opacity;js.YF=V.YF}z.Um=cp;z.Ww=ds}else if(R=="use"){var ee=b.lB(A);ee.concat(x);var bF=b.K9(A),jI=K.getElementById(bF.slice(1));
if(jI){var ds=z.Ww;z.Ww=H;if(H.filter)jI.setAttribute("filter",H.filter);b.E8(K,[jI],Y,ee,z,f,$+1,!0);
z.Ww=ds}}else if(R=="path"||R=="rect"||R=="circle"||R=="ellipse"||R=="polygon"||R=="polyline"||R=="line"){V.Gh|=16;
var n=V.add.vmsk=new S.kZ,gF=H.fill,b6=gF=="none"||H["fill-opacity"]&&parseFloat(H["fill-opacity"])==0;
n.$=b.jn(Y,K,A,H["fill-rule"]=="evenodd",b6);d.j.k3(n.$,x);var ji=d.j.QJ(n.$),hd=H.stroke,eZ=H["stroke-width"],hj=H["stroke-dasharray"],eK=H["stroke-linejoin"];
if(eK==null)eK="miter";var cX=H["stroke-linecap"];if(cX==null)cX="butt";var bW=H["paint-order"],ju=!(hd==null||hd=="none"||hd=="null"),ci=V.add.vstk=eF.oc.Ta(null,ju);
if(ju){var hH=b.abR(K,hd,x,ji,Y),b8=["SoFi","GrFl","patternFill"].indexOf(hH.type),gh=hH.b.v.Opct.v,b2=1;
if(gh.val!=100){V.opacity=Math.round(V.opacity*gh.val/100);gh.val=100}var aN=[eF.u4,eF.Eo,eF.Jo][b8],eS=ci.strokeStyleContent.v={classID:eF.oc.OV[b8]};
for(var y=0;y<aN.length;y++)eS[aN[y]]=hH.b.v[aN[y]];eZ=eZ?parseFloat(eZ):1;if(bW&&bW.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){b2=2;
eZ/=2}var fZ={ljoin:["miter","round","bevel"].indexOf(eK),lcap:["butt","round","square"].indexOf(cX),lwidth:eZ};
if(hj!=null&&hj!="none")fZ.dash=hj.split(",").map(parseFloat);eF.oc.write(ci,fZ,x._8());ci.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eF.oc.Nv[b2];
ci.strokeStyleOpacity.v.val=100*(H["stroke-opacity"]?parseFloat(H["stroke-opacity"]):1)}V.add.vstk.fillEnabled.v=!b6;
if(b6){V.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}}}else{var hH=b.abR(K,gF,x,ji,Y),dw=null,ib=null;
if(hH.type=="SoFi"){dw="SoCo";ib=eF.u4}if(hH.type=="GrFl"){dw="GdFl";ib=eF.Eo}if(hH.type=="patternFill"){dw="PtFl";
ib=eF.Jo}if(dw!=null){var gh=hH.b.v.Opct.v;if(gh.val!=100){V.opacity=Math.round(V.opacity*gh.val/100);
gh.val=100}V.add[dw]={classID:"null"};for(var y=0;y<ib.length;y++){var i=ib[y];V.add[dw][i]=hH.b.v[i]}}}var eJ=Math.max(u,z.Um);
if(eJ!=0)V.add.vmsk.cG=eJ;V.D8();V.WG(Y);Y.B.push(V)}else if((R=="text"||R=="tspan")&&A.textContent!=""){f=b.lB(A,f);
var ee=f.clone(),t=0;ee.concat(x);ee.translate(O,0);if(A.children.length>0){var df=b.vC(A.children[0],z.a7z);
for(var i in df)if(q.indexOf(i)==-1)H[i]=df[i]}var k5=H["xml:space"],eC=A.textContent;if(k5=="preserve")eC=eC.replace(/\t/g," ").replace(/\n/g," ");
if(g==null)V.vd(eC);V.add.lnsr="rend";V.add.TySh=b_.HO(0,0);V.add.TySh.jT=new hD(0,0,100,100);V.add.TySh.i=ee.clone();
var j7=V.add.TySh.e9;b_.Df(j7,0,eC);if(R=="tspan")O+=h*eC.length*.5*ee._8();var gF=H.fill,cK=H["font-weight"],bw=H["font-family"],f6=H["text-decoration"],hd=H.stroke,eZ=H["stroke-width"],iF=H["dominant-baseline"];
if(iF=="text-before-edge")t=h;else if(iF=="middle")t=h/2;else if(iF=="hanging")t=h;if(t!=0)V.add.TySh.i.translate(0,t);
var ag=b_.Sw(j7,0,1);if(gF&&gF!="none"){var J=CSS.gP(gF);ag.Pf.FillColor={Type:1,Values:[1,J.o/255,J.A/255,J.J/255]}}if(f6=="underline")ag.Pf.Underline=!0;
ag.Pf.FontSize=Math.round(h);b_.iN(ag,"LiberationSans");if(cK=="bold")b_.iN(ag,"LiberationSans-Bold");
if(bw){bw=bw.split(",")[0].trim();if(bw[0]=="\"")bw=bw.slice(1);if(bw[bw.length-1]=="\"")bw=bw.slice(0,bw.length-1);
var bS=bw+":"+(cK?cK:"normal"),b$={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(b$[bS])b_.iN(ag,b$[bS]);else b_.iN(ag,bw)}if(H["text-anchor"])ag.Nd.Justification=["start","end","middle"].indexOf(H["text-anchor"]);
b_.K2(j7,0,eC.length,ag);if(hd==null||hd=="none"){}else{var ja=JSON.parse(eF.NF[eF.order.indexOf("FrFX")]);
ja.Clr.v=d.H.eD(CSS.gP(hd));ja.Sz.v.val=Math.round(parseFloat(eZ)*ee._8());b.a8c(V,"frameFXMulti",ja)}Y.B.push(V)}else if(R=="image"){var bF=b.K9(A);
if(bF&&bF.slice(0,4)=="data"){var aj=fv.rh(bF),iV=aj,g0=Y.o3(iV,V.getName(),0,0);g0.Gh=V.Gh;V=g0;var eB=V.rect.clone();
eB.x=eB.y=0;var c7=A.getAttribute("width"),dU=A.getAttribute("height");if(c7)eB.m=parseFloat(c7);if(dU)eB.e=parseFloat(dU);
var cz=b.lB(A);cz.concat(x);var fr=d.M.Yq(eB).z;d.M.i(fr,cz,fr);V.add.SoLd.Trnf=m.OB.c5(fr);V.add.SoLd.nonAffineTransform=m.OB.c5(fr);
V.Mc(Y,!1);Y.B.push(V)}}else console.log("unknown tag: "+R,A.children.length,A.textContent.length);if(P!=null){Y.B.push(P);
$--}}};iT.a8c=function(K,o,Y){var c=K.add.lmfx;if(c==null){var c=K.add.lmfx=JSON.parse(eF.default);for(var y=0;
y<eF.order.length;y++)c[eF.nk[y]]={t:"VlLs",v:[]}}c[o].v.push({t:"Objc",v:Y})};iT.jn=function(K,o,Y,c,z){var f=iT,$=[{type:6},{type:8,all:0}],E=Y.tagName;
if(E=="use"){var b=f.K9(Y),q=o.getElementById(b.slice(1)),O=new dF;if(q.tagName!="rect")O=f.lB(q);O.concat(f.E9(q));
$=f.jn(K,o,q,c,z);d.j.k3($,O)}else if(E=="path"){var j=Y.getAttribute("d");if(j==null)return $;var A=Typr.U.SVGToPath(j);
$=d.M.eX({z:A.crds,G:A.cmds},c,z)}else if(E=="rect"){var R=Y.getAttribute("rx"),g=new jc(0,0);f.ug("x",Y,K,g,!0);
f.ug("y",Y,K,g,!1);var H=new jc(0,0);f.ug("width",Y,K,H,!0);f.ug("height",Y,K,H,!1);$=d.j.OJ.Rect(g.x,g.y,H.x,H.y,R?parseFloat(R):0)}else if(E=="circle"||E=="ellipse"){var i=[0,0,0,0],h=["cx","cy","rx","ry","r"];
for(var y=0;y<5;y++){var x=Y.getAttribute(h[y]);if(x){x=parseFloat(x);if(y<4)i[y]=x;else i[2]=i[3]=x}}$=d.j.OJ.MR(i[0]-i[2],i[1]-i[3],2*i[2],2*i[3])}else if(E=="polygon"||E=="polyline"||E=="line"){var F;
if(E=="line")F=[Y.getAttribute("x1"),Y.getAttribute("y1"),Y.getAttribute("x2"),Y.getAttribute("y2")].map(parseFloat);
else F=Y.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
$=d.j.OJ.NX(F,0,E!="polygon")}return $};iT.Gw=function(K,o){if(K.charAt(K.length-1)=="m")return o*parseFloat(K.slice(0,K.length-2));
else return parseFloat(K)};iT.abR=function(K,o,Y,c,z){var f,$,E=iT,b=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]),q=o!=null?o.indexOf("("):-1;
if(q!=-1){var O=o.indexOf(")"),j=o.slice(0,q).trim(),A=o.slice(q+1,O).trim();if(A.charAt(0)=="'")A=A.slice(1,A.length-1);
if(j=="url"){if(A.charAt(0)=="#"){var R=K.getElementById(A.slice(1));if(R&&R.tagName.toLowerCase().endsWith("gradient")){var g=E.Cr(K,R,Y,c);
f="GrFl";$={t:"Objc",v:g}}else if(R&&R.tagName.toLowerCase()=="pattern"&&R.children[0]&&R.children[0].tagName=="use"){f="SoFi";
$={t:"Objc",v:b};var H=R.children[0],i=E.E9(H),h=E.K9(H),x=K.getElementById(h.slice(1)),F=fv.rh(E.K9(x)).buffer,X=fv.WD(fv.sR(F)),V=X.MW(F)[0],U={};
U.id=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";U.name="someImage";U.JN=[new Uint8Array(V.data),V.eQ];z.AG(U);
var b=JSON.parse(eF.NF[eF.order.indexOf("patternFill")]);b.Scl.v.val=Math.round(100*c.m*i.g);var Z=b.phase.v;
Z.Hrzn.v=Math.round(c.x+i.B3*c.m);Z.Vrtc.v=Math.round(c.y+i.Z7*c.e);b.Ptrn.v.Idnt.v=U.id;f="patternFill";
$={t:"Objc",v:b}}else{f="SoFi";$={t:"Objc",v:b}}}else console.log("unknown url",A)}else if(j=="rgb"||j=="rgba"){f="SoFi";
$={t:"Objc",v:b};$.v.Clr.v=d.H.eD(CSS.gP(o));if(j=="rgba")$.v.Opct.v.val=Math.round(100*parseFloat(o.split(",").pop()))}else console.log("unknown fill",o)}else{f="SoFi";
$={t:"Objc",v:b};var T=CSS.gP(o);$.v.Clr.v=d.H.eD(T);if(T.g!=null)$.v.Opct.v.val=Math.round(100*T.g/255)}return{type:f,b:$}};
iT.E9=function(K){var o=new dF,Y=K.getAttribute("transform");if(Y)o=iT.QM(Y);var c=K.getAttribute("style");
if(c!=null){var z={};iT.z5(z,c,["transform"]);c=z.transform;if(c)o.concat(iT.QM(c))}return o};iT.lB=function(K,o){var Y=new dF,c=K.getAttribute("x"),z=K.getAttribute("y");
if(c)Y.B3=parseFloat(c);else if(o)Y.B3=o.B3;if(z)Y.Z7=parseFloat(z);else if(o)Y.Z7=o.Z7;return Y};iT.QM=function(K){var o=Typr.U.SVG.readTrnf(K);
return new dF(o[0],o[1],o[2],o[3],o[4],o[5])};iT.vC=function(K,o){var Y={},c="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var y=0;y<c.length;y++){var z=K.getAttribute(c[y]);if(z!=null&&z!="inherit")Y[c[y]]=z}var f=K.getAttribute("class");
if(o!=null&&f!=null&&o["."+f]!=null)iT.z5(Y,o["."+f],c);var $=K.getAttribute("id");if(o!=null&&$!=null&&o["#"+$]!=null)iT.z5(Y,o["#"+$],c);
var E=K.getAttribute("style");if(E!=null)iT.z5(Y,E,c);return Y};iT.z5=function(K,o,Y){o=o.trim().split(";");
for(var y=0;y<o.length;y++){var c=o[y].split(":"),z=c[0]?c[0].trim():"",f=c[1]?c[1].trim():"";for(var $=0;
$<Y.length;$++)if(z==Y[$]&&f!="inherit")K[Y[$]]=f}};iT.K9=function(K){var o=K.getAttribute("xlink:href");
if(o==null)o=K.getAttribute("href");if(o==null)o=K.getAttribute("xl:href");return o};iT.ug=function(K,o,Y,c,z){var f=o.getAttribute(K);
if(f==null)return;var $=parseFloat(f);if(f.endsWith("%"))$*=(z?Y.m:Y.e)/100;if(z)c.x=$;else c.y=$};iT.Cr=function(K,o,Y,c){var z=iT,f=z.ug,$=new dF,E=o.getAttribute("gradientTransform"),R=!1;
if(E)$=z.QM(E);$.concat(Y);var b=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),q=b.Grad.v;q.Intr.v=0;var O=o.tagName,j=new jc(0,0),A=new jc(c.m,0);
if(O=="linearGradient"){b.Type.v.GrdT="Lnr";f("x1",o,c,j,!0);f("y1",o,c,j,!1);f("x2",o,c,A,!0);f("y2",o,c,A,!1);
j.x=A.x+.5*(j.x-A.x);j.y=A.y+.5*(j.y-A.y)}if(O=="radialGradient"){b.Type.v.GrdT="Rdl";if(o.getAttribute("cx"))j.x=parseFloat(o.getAttribute("cx"));
if(o.getAttribute("cy"))j.y=parseFloat(o.getAttribute("cy"));A.Ex(j.x,j.y);if(o.getAttribute("r"))A.x+=parseFloat(o.getAttribute("r"))}var g=o;
while(!0){if(g.getAttribute("gradientUnits")=="userSpaceOnUse")R=!0;var H=z.K9(g);if(H==null)break;g=K.getElementById(H.slice(1))}if(R){j=$.qc(j);
A=$.qc(A)}else{j.x=c.x+j.x*c.m;j.y=c.y+j.y*c.e;A.x=c.x+A.x*c.m;A.y=c.y+A.y*c.e}d.H.M9(j,A,c,b);var i=o.children;
if(i.length==0){var h=z.K9(o);if(h==null)throw"gradient has no stops";var x=K.getElementById(h.slice(1));
if(x==null){console.log(h.slice(1))}else{var F=z.Cr(K,x,$,c);b.Grad=F.Grad}}else{var X=[];for(var y=0;
y<i.length;y++){var V=i[y],U=z.vC(V),Z=U["stop-color"],T=U["stop-opacity"],v=V.getAttribute("offset");
if(Z==null)Z="#000000";T=T==null?1:parseFloat(T);var P=v?parseFloat(v):0;if(v&&v.endsWith("%"))P/=100;
Z=CSS.gP(Z);if(Z.g!=null)T*=Z.g/255;X.push([P,[Z.o/255,Z.A/255,Z.J/255],parseFloat(T)])}d.H.zZ(X,q)}return b};
iT.lW=function(){var K=null,o=null,Y="",c="",z;function f(T,v,P,p){var a=[],W=" { ",G=" } ",l=!1;o=v;
c=v.LW?"":"\t";Y=v.LW?"":" ";var D=v.a76,n=v.a5r;z=new hD(0,0,T.m,T.e);if(p!=null){z=T.root.children[p].a.Yv();
D=z.m;n=z.e}a.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[z.x,z.y,z.m,z.e].join(" ")+"\" width=\""+D+"\" height=\""+n+"\">");
if(!v.LW)a.push($(1)+"<title>"+F(T.name.split(".")[0])+"</title>");var N={N3:[],k6:[],xq:0,WH:0,dp:0,IM:{},El:{},AM:0,sa:{},aAi:{},z6:0,zl:[]};
H(T,N,T.root.children,1,v,P,p);if(N.N3.length!=0){a.push($(1)+"<defs>");a=a.concat(N.N3);a.push($(1)+"</defs>")}a.push($(1)+"<style>");
if(v.LW){W="{";G="}"}for(var y=0;y<T.B.length;y++)if(T.B[y].add.TySh)l=!0;if(l&&!v.akD&&!v.ah4)a.push($(2)+"tspan"+W+"white-space:pre"+G);
for(var u in N.sa)a.push($(2)+"."+u+W+N.sa[u]+G);a.push($(1)+"</style>");a=a.concat(N.k6);a.push("</svg>");
a=a.join(v.LW?"":"\n");return _.tA(a)}function $(h4){var T="";for(var y=0;y<h4;y++)T+=c;return T}function E(h4,T){if(T==null)T=1;
var v=""+parseFloat(h4.toFixed(T));if(v.startsWith("0."))v=v.slice(1);return v}function b(T,v){var P=T.add.lmfx;
if(P)P=P[v].v[0];if(P)P=P.v;if(P&&!P.enab.v)P=null;return P}function q(T,v){var P=b(T,"frameFXMulti");
if(P){var p=P.Sz.v.val;if(P.Styl.v.FStl=="OutF"){v.push("paint-order:stroke fill markers");p*=2}g(v,CSS.QP(P.Clr.v),1);
if(p!=1)v.push("stroke-width: "+p);v.push("stroke-linejoin: round;")}}var O="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function j(T){var v=O.length,P="";for(var p=1;p<10;p++){var a=(v-10)*~~Math.pow(v,p-1);if(T<a){for(var y=0;
y<p;y++){var D=y==p-1?10:0,n=v-D,N=T%n;P=O[N+D]+P;T=Math.floor((T-N)/n)}break}T-=a}return P}function A(T,v,P,p){if(T.length!=0){if(p==null)p="s";
var a=T.join(";"),D=v.aAi[a];if(D==null){D=o.LW?j(v.z6):p+v.z6;v.z6++;v.aAi[a]=D;v.sa[D]=a}if(P)P.push(D);
return D}}function R(T){if(o.LW&&T.length==7&&T[0]=="#"){if(T[1]==T[2]&&T[3]==T[4]&&T[5]==T[6])T="#"+T[1]+T[3]+T[5]}return T}function g(T,v,P){v=R(v);
if(v!="#000"||P==1)T.push((P==0?"fill:":"stroke:")+Y+v)}function H(T,v,P,p,a,D,n){var N=!1;for(var W=0;
W<P.length;W++){var G=P[W].a,l=G.add.lsct;if(G.add.artb&&n!=null&&W!=n)continue;if(!G.z_&&P[W+1]&&P[W+1].a.z_&&G.sB()&&G.add.vmsk){var u=[];
V(G,G.add.vmsk,v,u);v.k6.push($(p)+"<g "+u[0]+">");p++;N=!0}else if(!G.z_&&P[W-1]&&P[W-1].a.z_&&N){p--;
v.k6.push($(p)+"</g>");N=!1}var e=G.add.vmsk,M=G.add.vogk,B=G.add.vstk,s=G.add.TySh;if(e&&!e.isEnabled)e=B=null;
var t=[];if(!a.hidden&&!G.KL())continue;var J=G.opacity/255,L=G.add.iOpa?G.add.iOpa/255:1;if(G.f$()){J*=L;
L=1}if(J!=1)t.push("opacity:"+Y+E(J));if(L!=1)t.push("fill-opacity:"+Y+E(L));if(G.YF!="norm"){var k=jw.j1[jw.iu.indexOf(G.YF)];
if(k!=null)t.push("mix-blend-mode:"+Y+k)}if(!G.KL())t.push("display:"+Y+"none");var u=[],C=[],r=G.getName(),Q=r.indexOf(" .");
if(!a.LW)u.push("id=\""+F(r)+"\"");var j9=eq.KI(G.add.lmfx,G.add),a4=j9[0],ar=j9[1],ez=G.add.SoLd;if(ez&&ez.filterFX){var ja=ez.filterFX.v;
if(ja.enab.v&&ja.filterFXList.v.length!=0)ez=null}if(G.f$()){var c3=P[W].children;if(!(c3.length==1&&c3[0].a.add.SoLd&&!a.Os)){if(K&&G.getName().split("-").length==3){K.push({S4:G.getName(),x7:0,vh:[]})}V(G,e,v,u);
if(t.length!=0)u.push("style=\""+t.join(";")+"\"");if(a4){var hW=CSS.QP(a4.Clr.v),fO="f"+v.WH;v.WH++;
v.k6.push($(p)+"<filter id=\""+fO+"\">");v.k6.push($(p+1)+"<feFlood flood-color=\""+hW+"\" flood-opacity=\""+E(a4.Opct.v.val/100,2)+"\" />");
v.k6.push($(p+1)+"<feBlend mode=\""+jw.j1[jw.iu.indexOf(jw.Ef(a4.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
v.k6.push($(p+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");v.k6.push($(p)+"</filter>");
u.push("filter=\"url(#"+fO+")\"")}var ei=x(u,C),fV=a.LW&&ei=="";if(!fV)v.k6.push($(p)+"<g"+(ei==""?"":" "+ei)+">");
H(T,v,c3,p+1,a,D);if(!fV)v.k6.push($(p)+"</g>")}}else if(G.sB()&&e==null){U(T,t,G.add,v,z,a);if(t.length!=0)u.push("style=\""+t.join(";")+"\"");
v.k6.push($(p)+"<rect width=\""+z.m+"\" height=\""+z.e+"\" "+x(u,C)+"/>")}else if(e&&ez==null){var aW=d.j.QJ(e.$,null,!0),ee,hM=null,ds=0,cp;
U(T,t,G.add,v,aW,a);A(t,v,C);if(M.length!=0){ee=M[0].v;hM=ee.keyOriginType;if(hM)hM=hM.v;if(hM==2){var eA=d.SU.RH(ee);
ds=eA[0];for(var y=0;y<3;y++)if(ds!=eA[y+1])hM=null}}if(M.length==1&&hM==5&&Math.abs(d.SU.a9_(ee))<1e-4){var aW=d.SU.H_(ee),db=(aW[0]+aW[2])/2,js=(aW[1]+aW[3])/2,bF=db-aW[0],gF=js-aW[1],b6=Math.abs(bF-gF)<.01,ji=b6?"r=\""+E(bF)+"\"":"rx=\""+E(bF)+"\" ry=\""+E(gF)+"\"";
cp="<"+(b6?"circle":"ellipse")+" "+x(u,C)+" cx=\""+E(db)+"\" cy=\""+E(js)+"\" "+ji+"/>"}else if(M.length==1&&hM==2&&ds!=0&&Math.abs(d.SU.a9_(ee))<1e-4){var aW=d.SU.H_(ee),hd=aW[0],eZ=aW[1],hj=aW[2]-aW[0],eK=aW[3]-aW[1],cX="";
if(hd!=0)cX+=" x=\""+E(hd)+"\"";if(eZ!=0)cX+=" y=\""+E(eZ)+"\"";cX+=" width=\""+E(hj)+"\"";cX+=" height=\""+E(eK)+"\"";
cX+=" rx=\""+E(ds)+"\"";cp="<rect "+x(u,C)+cX+"></rect>"}else{var bW=d.j.Gn(e.$,1);if(bW.dU!=0){u.push("fill-rule=\"evenodd\"")}cp="<path "+x(u,C)+" d=\""+bW.CV+"\"/>"}v.k6.push($(p)+cp);
if(K&&K[K.length-1]){var ju=d.M.Y0(e.$);ju.z=ju.z.map(Math.round);var ci=K[K.length-1];ci.x7+=JSON.stringify(ju).length;
ci.vh.push([t[0].split("#").pop(),ju])}}else if(s&&a.akD){Y=a.LW?"":" ";var hH=s.e9,b8=new f3(hH,D),gh=null;
if(a4)gh=CSS.QP(a4.Clr.v);if(ar){var aW=G.rect.clone();Z(ar,v,aW,a);gh="url(#g"+v.xq+")"}if(gh)t.push("fill:"+Y+gh);
q(G,t);var aN=au.pk(b8,s,!0),eS=d.M.fx(aN);for(var b2 in eS){var fZ=t.slice(0),dw=C.slice(0),ib=u.slice(0);
if(gh==null){g(fZ,b2.slice(0,7),0);if(b2.length>7){var eJ=b2.slice(7).split("-");console.log(eJ);g(fZ,eJ[1],1);
if(eJ[2]!="1")fZ.push("stroke-width:"+Y+eJ[2])}}A(fZ,v,dw);var df=eS[b2],eJ=Typr.U.pathToSVG({crds:df.z,cmds:df.G},1);
v.k6.push($(p)+"<path "+x(ib,dw)+(a.LW?"":" "+h(s))+" d=\""+eJ+"\"/>")}}else if(s&&!a.ah4){var hH=s.e9,k5=s.i.clone(),gh=null;
t.push("transform:"+Y+X(k5));var eC=b_.BM(hH),b8=new f3(hH,D);q(G,t);if(t.length!=0)u.push("style=\""+t.join(";")+"\"");
v.k6.push($(p)+"<text "+x(u,C)+" >");if(a4)gh=CSS.QP(a4.Clr.v);if(ar){var aW=G.rect.clone();aW.x-=k5.B3;
aW.y-=k5.Z7;Z(ar,v,aW,a);gh=" url(#g"+v.xq+")"}for(var y=0;y<b8.Nd.length;y++){var j7=b8.Nd[y];if(j7.IW.length==1&&j7.IW[0].UX)continue;
for(var cK=0;cK<j7.h4.length;cK++){var bw=j7.h4[cK],js=j7.Ja.y+bw.Ja.y,f6=j7.IW[bw.start].start,iF=j7.IW[bw.end-1].end,ag=b_.atL(hH,f6,iF),bS="";
for(var b$=0;b$<ag.length;b$++){var aj=b8.wd(f6),iV=ag[b$],g0=b_.Sw(hH,f6,f6),eB=g0.qu[g0.Pf.Font].Name,b2=b_.CK(g0.Pf.FillColor),c7=Math.round(g0.Pf.FontSize),dU=eC.slice(f6,f6+iV);
if(g0.Pf.FontCaps==2)dU=dU.toUpperCase();var cz=new dF;cz.translate(aj.oJ.x,-js);var fr=[];CSS.afP(fr,g0,null,!0,!0,gh);
var kk=A(fr,v,null,"t");kk=kk?" class=\""+kk+"\"":"";var db=aj.oJ.x,a6=i(g0,dU);bS+="<tspan "+(b$==0?"x=\""+E(aj.oJ.x)+"\"":"")+" y=\""+E(js)+"\""+kk+a6+">"+F(dU)+"</tspan>";
f6+=iV}v.k6.push($(p+1)+bS)}}v.k6.push($(p)+"</text>")}else if(ez&&a.Os&&a4==null){var fO=ez.Idnt.v,jv=0,by=ez.Crop?ez.Crop.v:null;
if(v.El[fO]!=null)jv=v.El[fO];else{v.AM++;jv=v.AM;v.El[fO]=v.AM;var gc=T.ai(fO,by),g9="";if(gc==null)return;
var i8=gc.W3,az=fv.sR(gc.raw.buffer);if(az=="pdf"){var a3=new h7("h");fv.WD("PDF").MW(gc.raw.buffer,a3);
a3.Sm();a3.t4();a3.W();a3.Uj();if(ez.Crop&&ez.Crop.v==1){m.XX.Am(a3,a3.root._U(a3,!0))}var jb=fv.WD("SVG").vc(a3,a3.m,a3.e,null,{zl:D});
g9="data:image/svg+xml;base64,"+fv.zj(jb)}else if(az=="jpg"||az=="png"||az=="gif"||az=="svg"){var aY={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
g9="data:"+aY[az]+";base64,"+fv.zj(gc.raw.buffer)}else{g9=fv.lZ(i8[0].buffer,i8[1].m,i8[1].e)}v.N3.push($(2)+"<image width=\""+i8[1].m+"\" height=\""+i8[1].e+"\" id=\"img"+jv+"\" href=\""+g9+"\"/>")}var g4=d.D.yT(ez),dl=[];
V(G,e,v,dl);if(dl.length!=0)v.k6.push($(p)+"<g "+x(dl,C)+">");if(t.length!=0)u.push("style=\""+t.join(";")+"\"");
var ej=x(u,C);v.k6.push($(p)+"<use "+ej+" href=\"#img"+jv+"\" transform=\""+X(g4)+"\"/>");if(dl.length!=0)v.k6.push($(p)+"</g>")}else if(!G.rect.xf()&&(a.Os||s)){if(t.length!=0)u.push("style=\""+t.join(";")+"\"");
var ej=x(u,C),cn=G.buffer;if(a4)cn=eq.a47(cn,a4,G.rect);var d_=G.rect;v.AM++;var g9=fv.lZ(cn.buffer,d_.m,d_.e,"png",null,!0);
v.N3.push($(2)+"<image "+h(s)+" width=\""+G.rect.m+"\" height=\""+G.rect.e+"\" id=\"img"+v.AM+"\" href=\""+g9+"\"/>");
v.k6.push($(p)+"<use "+ej+" href=\"#img"+v.AM+"\" x=\""+d_.x+"\" y=\""+d_.y+"\"/>")}}if(N){p--;v.k6.push($(p)+"</g>");
N=!1}}function i(T,v){var P=T.Pf.Tracking,p="";if(P!=null&&P!=0){P=Math.round(P*T.Pf.FontSize/1e3);p=" dx=\"0";
for(var a=1;a<v.length;a++)p+=" "+P;p+="\" "}return p}function h(T){if(T==null)return"";var v=T.e9,P=b_.BM(v);
P=F(P.slice(0,P.length-1));return"aria-label=\""+P+"\" "}function x(T,v){if(v.length!=0)T.push("class=\""+v.join(" ")+"\"");
return T.join(" ")}function F(T){return String(T).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function X(T){var v=[T.g,T.J,T.b0,T.gG,T.B3,T.Z7];
for(var y=0;y<6;y++)v[y]=E(v[y],3);return"matrix("+v.join(",")+")"}function V(T,v,P,p){if(v||T.add.artb){var a;
if(v)a=d.j.Gn(v.$).CV;else{var D=T.Yv(),n=d.M.Yq(D);a=Typr.U.pathToSVG({crds:n.z,cmds:n.G},1)}P.dp++;
p.push("clip-path=\"url(#cp"+P.dp+")\"");P.N3.push($(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+P.dp+"\">");
P.N3.push($(3)+"<path d=\""+a+"\"/>");P.N3.push($(2)+"</clipPath>")}}function U(T,v,P,p,a,D){var n=P.vstk,N=P.vmsk,W=P.lmfx,G=[];
if(N&&N.cG!=0){var l=E(N.cG);if(p.IM[l]==null){p.WH++;p.IM[l]=p.WH;p.N3.push($(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+p.WH+"\"> <feGaussianBlur stdDeviation=\""+l+"\"/> </filter>")}G.push("url(#f"+p.IM[l]+")")}if(W)for(var y=0;
y<eF.order.length;y++){var u=eF.order[y],e=eF.nk[y],M=W[e].v;for(var B=0;B<M.length;B++){var s=M[B].v,t=s.classID;
if(!s.enab.v)continue;if(t=="OrGl"||t=="DrSh"){p.WH++;G.push("url(#f"+p.WH+")");var J=0,L=0,k=s.blur.v.val/2.4,C=s.Opct.v.val/100;
if(t=="DrSh"){var r=s.uglg&&s.uglg.v?T.S3():s.lagl.v.val;r=r*(Math.PI/180);var Q=s.Dstn.v.val;J=-Math.cos(r)*Q;
L=Math.sin(r)*Q}if(t=="OrGl")C/=s.Inpr.v.val/100;var j9="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+p.WH+"\" >";
j9+="<feDropShadow dx=\""+J+"\" dy=\""+L+"\" stdDeviation=\""+k+"\" flood-color=\""+CSS.QP(s.Clr.v)+"\" flood-opacity=\""+E(C)+"\"/>";
j9+="</filter>";p.N3.push($(2)+j9)}}}if(G.length!=0)v.push("filter:"+Y+G.join(" "));var a4=eq.KI(W,P),ar=a4[0],ez=a4[1];
if(n&&!n.fillEnabled.v)v.push("fill:"+Y+"none");else if(ar){var ja=CSS.QP(ar.Clr.v);g(v,ja,0)}else if(ez){Z(ez,p,a,D);
g(v,"url(#g"+p.xq+")",0)}if(n==null||!n.strokeEnabled.v)n=eq.Re(W);if(n&&n.strokeEnabled.v){var c3=n.strokeStyleContent.v,hW=c3.classID;
if(hW=="solidColorLayer")g(v,CSS.QP(c3.Clr.v),1);else{Z(c3,p,a,D);g(v,"url(#g"+p.xq+")",1)}var fO=n.strokeStyleOpacity.v.val/100,ei=eF.oc.bk(n),fV=ei.lcap,aW=ei.ljoin,ee=ei.lwidth,hM=ei.sal,ds=ei.dash;
if(hM==2){ee*=2;v.push("paint-order:stroke fill markers")}if(fV!=0)v.push("stroke-linecap:"+Y+["butt","round","square"][fV]);
if(aW!=0)v.push("stroke-linejoin:"+Y+["miter","round","bevel"][aW]);if(fO!=1)v.push("stroke-opacity:"+Y+E(fO));
if(ee!=1)v.push("stroke-width:"+Y+E(ee));if(ds.length!=0)v.push("stroke-dasharray:"+Y+ds.join(","))}}function Z(T,v,P,p){v.xq++;
var a=T.Grad.v,D=JSON.parse(JSON.stringify(a.Clrs.v)),n=JSON.parse(JSON.stringify(a.Trns.v)),N=T.Ofst.v,W=T.Type.v.GrdT,G=W=="Rdl"||W=="Dmnd"?1:0,l=(G==1?"radial":"linear")+"Gradient",u=d.H.Qv(T,P),M="";
if(G==0){u[0].x=u[1].x+2*(u[0].x-u[1].x);u[0].y=u[1].y+2*(u[0].y-u[1].y)}var e=$(2)+"<"+l+" id=\"g"+v.xq+"\"";
if(p.LW){if(v.xq==1)v.N3.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");M=" href=\"#P\""}else M=" gradientUnits=\"userSpaceOnUse\"";
if(G==0)v.N3.push(e+" x1=\""+E(u[0].x)+"\" y1=\""+E(u[0].y)+"\" x2=\""+E(u[1].x)+"\" y2=\""+E(u[1].y)+"\""+M+">");
if(G==1)v.N3.push(e+" cx=\""+E(u[0].x)+"\" cy=\""+E(u[0].y)+"\" r=\""+E(jc.si(u[0],u[1]))+"\""+M+">");
var B=T.Rvrs.v,s=d.H.h8(a,B);for(var y=0;y<s.length;y++){var t=s[y],J=t[0],L=t[1],k=t[2];k=k==1?"":" stop-opacity=\""+E(k)+"\"";
var C=J==0&&p.LW?"":" offset=\""+E(J)+"\"",r=CSS.W8({o:L[0]*255,A:L[1]*255,J:L[2]*255});r=p.LW&&r=="#000000"?"":" stop-color=\""+R(r)+"\"";
v.N3.push($(3)+"<stop"+C+r+k+"/>")}v.N3.push($(2)+"</"+l+">")}iT.CS=X;return f}();iT.OJ=function(K,o,Y,c,z){var f=[],$=iT.OJ,E=!1,b={Fv:K,jd:o,NB:[!0,!0,!0],J7:!1,JD:Y,aew:0};
b.$L=Math.round(Math.max(K,o)*(.02+$.zo(b)*.03));b.hw=$.a7f(b);b.VD=$.awC(b.hw,($.zo(b)<.5?-1:1)*(.2+$.zo(b)*.3));
if($.zo(b)<.5){var q=b.hw;b.hw=b.VD;b.VD=q}b.acf=$.zo(b)<.4&&$.apG(b.VD,{o:1,A:1,J:1})>.3;b.axE=$.zo(b)<.5?0:1;
f.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+K+" "+o+"\" width=\""+K+"\" height=\""+o+"\">");
b.Tn=c[Math.floor($.Ub(b)*c.length)];b.tU=c[Math.floor($.Ub(b)*c.length)];f.push("<style>");f.push("@font-face {  font-family: "+b.Tn[2]+";  src: url(rsrc/fonts/"+b.Tn[5]+");  }");
f.push("@font-face {  font-family: "+b.tU[2]+";  src: url(rsrc/fonts/"+b.tU[5]+");  }");f.push("</style>");
var O=[0,0,K,o],j=O;if(z==null)f.push("<path style=\"fill: "+$.Aw(b.hw)+"\" d=\""+$.Rect(O[0],O[1],O[2]-O[0],O[3]-O[1])+"\" id=\"Background\" />");
else{b.J7=!0;$.aom(b,O,f,z)}if($.zo(b)<.25&&!b.J7){b.NB[0]=b.NB[2]=!1;$.adB(O,b,f);j=O}else if($.zo(b)<.25||b.J7)j=O;
else{var A=.52+$.zo(b)*.2;if($.zo(b)<.5)A=1-A;var R=O.slice(0),g=O.slice(0);if($.zo(b)<.5)R[2]=g[0]=Math.round(A*K);
else R[3]=g[1]=Math.round(A*o);if($.zo(b)<.5){var q=R;R=g;g=q}j=R;$.aju(b,g,f,z)}$.a7k(b,j,f);f.push("</svg>");
f=f.join("\n");var H=d.R(Math.round(f.length*1.5)),i=_.dI(f,H,0);return[H.buffer.slice(0,i),b.Ol]};iT.OJ.adB=function(K,o,Y){var c=iT.OJ,z=K[2]-K[0],f=K[3]-K[1];
if(c.zo(o)<.5){Y.push("<path id=\"Border\" style=\"fill: "+c.Aw(o.VD)+"\" d=\""+c.a3P(K[0],K[1],K[2]-K[0],K[3]-K[1],o.$L)+"\" />")}else if(c.zo(o)<-.4){c.ayo(o,K,Y)}else{var $=c.zo(o)<.5?0:1,E=($==0?f:z)/4,b=c.Vw(o,$,K,Y,E,!0),b=c.Vw(o,$+2,K,Y,E,!0,b)}};
iT.OJ.a7k=function(K,o,Y){var c=iT.OJ,z="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),f=2*Math.floor(c.zo(K)*z.length/2),$=o[2]-o[0],E=o[3]-o[1],q=0,j=0;
K.Sd=(K.Fv+$)*.5*(.04+c.zo(K)*.05);K.Sd=Math.min(K.Sd,E*.4,$*.12);K.Sd=Math.round(K.Sd);var b=Math.min(K.Sd*z[f].length*(.35+.3*c.zo(K)),$*.9),O=(o[1]+o[3])/2,A=d.le(K.hw)<.85?{o:1,A:1,J:1}:{o:.1,A:.1,J:.1};
if(c.zo(K)<.25&&K.NB[0]){j=0;q=o[0]+K.$L}else if(c.zo(K)<.33&&K.NB[2]){j=2;q=o[2]-K.$L}else{j=1;q=(o[0]+o[2])/2}var R=A.o==1?"0,0,0":"255,255,255",g=K.J7&&c.zo(K)<1;
if(g){var H=o[0],i=$,h=O-K.Sd*1.1,x=K.Sd*2.2,F=.7;if(j==1&&c.zo(K)<.5){H=h=.2*Math.min($,E);i=$-2*h;
x=E-h-h}else if(c.zo(K)<.7){H=h=0;i=$;x=E;F=.25}Y.push("<path id=\"Strip\" style=\"fill: rgb("+R+"); opacity: "+F+"\" d=\""+c.Rect(H,h,i,x)+"\" />")}if(c.zo(K)<.4){var X=K.Sd*.07;
X*=1.5+c.zo(K)*1;if(j==-1&&$/E<3&&!g){Y.push("<path id=\"Bar-bottom\" style=\"fill: "+c.Aw(A)+"\" d=\""+c.Rect(q-b/2,O+K.Sd*1.1-X/2,b,X)+"\" />");
Y.push("<path id=\"Bar-top\"    style=\"fill: "+c.Aw(A)+"\" d=\""+c.Rect(q-b/2,O-K.Sd*1.1-X/2,b,X)+"\" />")}if(j!=1){Y.push("<path id=\"Bar\" style=\"fill: "+c.Aw(A)+"\" d=\""+c.Rect(q-X/2,O-K.Sd*.8,X,K.Sd*.8*2)+"\" />");
q+=(j==0?1:-1)*K.Sd/3}}var V=K.Sd*.4;Y.push(c.a28(z[f+1],q,O+V*1.6,V,A,j,K.tU));Y.push(c.a28(z[f],q,O+K.Sd*.04,K.Sd,A,j,K.Tn))};
iT.OJ.aju=function(K,o,Y,c){var z=o[2]-o[0],f=o[3]-o[1],$=Math.max(z,f),E=Math.min(z,f),b=iT.OJ;if($/E<5&&!K.J7&&!1){b.aom(K,o,Y,c)}else if(b.zo(K)<0)Y.push("<path style=\"fill: "+b.Aw(K.VD)+"\" d=\""+b.Rect(o[0],o[1],z,f)+"\" />");
else{var q=0;if(o[3]!=K.jd)q=0;if(o[2]!=K.Fv)q=3;if(o[0]!=0)q=1;if(o[1]!=0)q=2;var O=q+2&3;if($/E<3){var j=b.a7F(O),A=j[Math.round(b.zo(K)*(j.length-1))],R=A.S4.slice(0,4),g=R.indexOf(1);
A=JSON.parse(JSON.stringify(A));var H=-1;if(R!="0000"){var i=new dF;if(A.S4[5]=="0"){if(g==3&&q==1){H=1;
i.scale(-1,1)}else H=g}else{var h=O;while(h==O)h=Math.floor(b.zo(K)*4)&3;i.rotate((-g+h)*Math.PI/2)}b.i(A,i)}var x=b.OA(A),F=z-2*K.$L,X=f-2*K.$L;
if(H!=-1){if((H&1)==0)X-=K.$L;else F-=K.$L}var V=Math.min(F/x.m,X/x.e),U=new dF;U.translate(-x.x,-x.y);
U.scale(V,V);var Z=(z-x.m*V)/2,T=(f-x.e*V)/2;if(H!=-1){if(H==3)Z=0;if(H==0)T=0;if(H==1)Z=z-x.m*V;if(H==2)T=f-x.e*V}U.translate(o[0]+Z,o[1]+T);
b.GU(K,A,U,K.VD,Y)}else{b.Vw(K,q,o,Y,1e9)}}};iT.OJ.aom=function(K,o,Y,c){var z=o[2]-o[0],f=o[3]-o[1],$=Math.max(z,f),E=Math.min(z,f),b=iT.OJ,q=b.Ub(K),O,j,A,R=c[0]instanceof ArrayBuffer;
if(R){O="data:image/jpg;base64,"+jm.YG(c[0]);j=c[1];A=c[2]}else{var g=Math.floor(q*c.length),H=c[g];
K.Ol=H;O=H.webformatURL;j=H.webformatWidth;A=H.webformatHeight}var i=o[0],h=o[1],x=z,F=f;if(z/f>j/A){F=x*A/j;
h=h-(F-f)/2}else{x=F*j/A;i=i-(x-z)/2}if(R){Y.push("<defs>");Y.push("<image width=\""+j+"\" height=\""+A+"\" id=\"Background\" href=\""+O+"\" />");
Y.push("</defs>");var X=x/j;Y.push("<use href=\"#Background\" transform=\""+iT.CS(new dF(X,0,0,X,i,h))+"\" />")}else{var V="cp"+Math.random();
Y.push("<clipPath id=\""+V+"\">");Y.push("<path style=\"fill: "+b.Aw(K.VD)+"\" d=\""+b.Rect(o[0],o[1],z,f)+"\" />");
Y.push("</clipPath>");Y.push("<image  clip-path=\"url(#"+V+")\" xlink:href=\""+O+"\" x=\""+i+"\" y=\""+h+"\" width=\""+x+"\" height=\""+F+"\" />")}};
iT.OJ.a28=function(K,o,Y,c,z,f,$){var E=iT.OJ;return"<text x=\""+o+"\" y=\""+Y+"\" style=\"fill:"+E.Aw(z)+"; font-size:"+c+"px; text-anchor:"+["start","middle","end"][f]+"; font-family:"+$[2]+";\"><tspan>"+K+"</tspan></text>"};
iT.OJ.GU=function(K,o,Y,c,z){var f=iT.OJ,$=[];for(var y=0;y<o.vh.length;y++){$.push(c);if(K.acf){c=(y&1)==K.axE?{o:1,A:1,J:1}:$[0]}}z.push("<g id=\""+o.S4.split("-")[2]+":::\" style=\"transform: "+iT.CS(Y)+";\" >");
for(var y=0;y<o.vh.length;y++){var E=o.vh[y];c=$.pop();z.push("<path style=\"fill: "+(c?f.Aw(c):"#"+E[0])+"\" d=\""+Typr.U.pathToSVG({crds:E[1].z,cmds:E[1].G})+"\" />")}z.push("</g>")};
iT.OJ.ayo=function(K,o,Y){var c=iT.OJ,z=iT.OJ.b1,f=[];for(var y=0;y<z.length;y++){var $=z[y],E=$.S4.slice(0,4);
if(E!="1001")continue;f.push($)}var $=f[Math.floor(c.zo(K)*f.length)];if(c.zo(K)<.5)c.i($,new dF(0,1,1,0,0,0));
var b=o[3]-o[1],q=o[2]-o[0],O=c.OA($),j=.7*Math.min(q,b,.5*Math.max(q,b))/Math.max(O.m,O.e),A=new dF;
A.scale(j,j);if(c.zo(K)<.5){A.scale(1,-1);A.translate(0,b)}c.GU(K,$,A,K.VD,Y);A.rotate(Math.PI);A.translate(q,b);
c.GU(K,$,A,K.VD,Y)};iT.OJ.a7F=function(K){var o=iT.OJ.b1,Y=[];for(var y=0;y<o.length;y++){var c=o[y],z=c.S4.slice(0,4);
if(z=="0000"){Y.push(c);continue}if(["1000","0100","0010","0001"].indexOf(z)==-1)continue;var f=z.indexOf("1");
if(c.S4[5]=="0"&&K==f&&f!=3)continue;Y.push(c)}return Y};iT.OJ.Vw=function(K,o,Y,c,z,f,$){var E=iT.OJ.b1,b=iT.OJ,q=[],x,F;
for(var y=0;y<E.length;y++){var O=E[y],j=O.S4.slice(0,4);if(["1110","1101","1011","0111"].indexOf(j)==-1)continue;
var A=j.indexOf("0")+2&3;if(O.S4[5]=="0")if(f==!0||o!=A&&!(o==1&&A==3))continue;q.push(O)}var R=$!=null?$:Math.floor(b.zo(K)*q.length),O=q[R],O=JSON.parse(JSON.stringify(O)),j=O.S4.slice(0,4),A=j.indexOf("0")+2&3;
if(A==3&&o==1)d.i(O,new dF(1,0,0,-1,0,1e3));var g=new dF;g.translate(-500,-500);g.rotate(-A*Math.PI/2);
g.translate(500,500);b.i(O,g);var H=Y[3]-Y[1],i=Y[2]-Y[0],h=b.OA(O);if(h.y<0){h.e+=h.y;h.y=0}if(h.y>0){h.e+=h.y;
h.y=0}if((o&1)==0){F=H;x=i}else{x=H;F=i}var X=Math.min(Math.min(.5+.5*b.zo(K))*Math.min(i,H),z)/h.e,V=Math.ceil(x/(1e3*X)),U=new dF,Z=new dF;
Z.scale(X,X);if(o==0||o==2){Z.translate(-(i/2),-(H/2));Z.rotate(-o*Math.PI/2);Z.translate(i/2+Y[0],H/2+Y[1])}else{Z.rotate(Math.PI/2);
Z.scale(1,-1);Z.translate(Y[0],Y[1]);if(o==1){Z.scale(-1,1);Z.translate(i,0)}}c.push("<g id=\"Border-"+["top","right","bottom","left"][o]+":::\">");
for(var y=0;y<V;y++){var T=U.clone();T.concat(Z);b.GU(K,O,T,K.VD,c);U.translate(1e3-2,0)}c.push("</g>");
return R};iT.OJ.Rect=function(K,o,Y,c){return Typr.U.pathToSVG({crds:[K,o,K+Y,o,K+Y,o+c,K,o+c],cmds:["M","L","L","L","Z"]})};
iT.OJ.a3P=function(K,o,Y,c,z){var f=[K,o,K+Y,o,K+Y,o+c,K,o+c];K+=z;o+=z;Y-=2*z;c-=2*z;f.push(K,o,K,o+c,K+Y,o+c,K+Y,o);
return Typr.U.pathToSVG({crds:f,cmds:"M L L L Z M L L L Z".split(" ")})};iT.OJ.awC=function(K,o){var Y=d.BX(K.o,K.A,K.J);
Y.HY=Math.max(.1,Math.min(.9,Y.HY+o));return d.i7(Y.jd,Y.ZO,Y.HY)};iT.OJ.a66=function(K,o){var Y=d.BX(K.o,K.A,K.J);
Y.jd+=o;return d.i7(Y.jd,Y.ZO,Y.HY)};iT.OJ.a9P=function(K){var o=d.BX(K.o,K.A,K.J);o.HY=1-o.HY;return d.i7(o.jd,o.ZO,o.HY)};
iT.OJ.apG=function(K,o){var Y=K.o-o.o,c=K.A-o.A,z=K.J-o.J;return Math.sqrt(Y*Y+c*c+z*z)};iT.OJ.a7f=function(K){var o=iT.OJ;
return{o:o.zo(K),A:o.zo(K),J:o.zo(K)}};iT.OJ.Aw=function(K){return CSS.W8({o:K.o*255,A:K.A*255,J:K.J*255})};
iT.OJ.OA=function(K){var o=K.vh,Y=new hD;for(var y=0;y<o.length;y++)Y=Y.Bb(d.M.OA(o[y][1].z));return Y};
iT.OJ.i=function(K,o){var Y=K.vh;for(var y=0;y<Y.length;y++)d.M.i(Y[y][1].z,o,Y[y][1].z)};iT.OJ.zo=function(K){K.aew++;
var o=K.aew&3;if(o==0)K.JD=iT.OJ.dH(K.JD);var Y=K.JD>>>8*o&255;return Y*(.99999999/255)};iT.OJ.Ub=function(K){var o=iT.OJ.dH(K.JD);
K.JD=iT.OJ.dH(o);return o*(1/4294967295)};iT.OJ.dH=function(K){K=(K^61^K>>>16)>>>0;K=K+(K<<3)>>>0;K=(K^K>>>4)>>>0;
K=K*668265261>>>0;K=(K^K>>>15)>>>0;return K};iT.OJ.b1=[{S4:"0001-0-bird",vh:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),z:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),z:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),z:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{S4:"0001-0-bird2",vh:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),z:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),z:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),z:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),z:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),z:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),z:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{S4:"0000-1-flower",vh:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),z:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{S4:"0000-1-flower",vh:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),z:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{S4:"0000-1-flower",vh:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),z:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{S4:"0000-1-flower",vh:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),z:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{S4:"0000-1-flower",vh:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),z:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),z:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{S4:"0000-0-hearts",vh:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),z:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),z:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),z:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{S4:"0000-0-anchor",vh:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),z:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{S4:"0000-1-leaf",vh:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),z:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{S4:"0000-1-acorn",vh:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),z:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),z:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{S4:"0000-0-skull",vh:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),z:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{S4:"0000-0-ghost",vh:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),z:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),z:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{S4:"1001-1-rose",vh:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),z:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),z:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{S4:"1001-1-curls",vh:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),z:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),z:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{S4:"0111-0-pines",vh:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),z:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),z:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{S4:"0111-0-flowers",vh:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),z:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),z:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{S4:"1101-1-confetti",vh:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{S4:"1101-1-branch",vh:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),z:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),z:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{S4:"1101-1-sticks",vh:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{S4:"1101-1-dots",vh:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),z:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),z:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],z:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{S4:"1101-1-strips",vh:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],z:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{S4:"1101-1-circs",vh:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),z:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),z:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],z:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{S4:"1101-1-squares",vh:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),z:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),z:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],z:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{S4:"1101-0-christmas",vh:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),z:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),z:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var bH={};bH.parse=function(K){var o=new Uint8Array(K),Y=null;if(o[0]==80&&o[1]==75){var c=Date.now(),z=UZIP.parse(o.buffer),Y=z["document.json"];
Y=JSON.parse(_.DI(Y,0,Y.length));bH.IV(Y,z)}else{var f=iZ.parse(K);Y=bH.atj(f[2][0][1])}return Y};bH.IV=function(K,o){var Y=typeof K;
if(Y=="string"||Y=="number"||Y=="boolean")return K;if(K instanceof Array){for(var y=0;y<K.length;y++)K[y]=bH.IV(K[y],o);
return K}var c=K._class;if(c==null)return K;if(c=="MSJSONFileReference"){var z=K._ref;if(!1){}else if(o[z+".json"]!=null){var f=o[z+".json"],$=f.length;
for(var y=0;y<$;y++)if(f[y]==11||f[y]==3)f[y]=32;var E=_.DI(f,0,$);K=JSON.parse(E)}else if(o[z+".png"]!=null)return{key:z.split("/").pop(),bdata:o[z+".png"]};
else if(o[z+".jpg"]!=null)return{key:z.split("/").pop(),bdata:o[z+".jpg"]};else if(o[z+".pdf"]!=null)return{key:z.split("/").pop(),bdata:o[z+".pdf"]};
else if(o[z]!=null)return{key:z.split("/").pop(),bdata:o[z]};else{console.log(K,o);return}}else if(c=="MSAttributedString"){var E=atob(K.archivedAttributedString._archive),b=E.length,q=new Uint8Array(b);
for(var y=0;y<b;y++)q[y]=E.charCodeAt(y);K.archivedAttributedString=bH.atj(q)}for(var O in K)K[O]=bH.IV(K[O],o);
return K};bH.aaC=function(K,o,Y,c){if(K instanceof Uint8Array)return null;if(c.indexOf(K)!=-1)return null;
c.push(K);if(K==o)return Y;for(var z in K){Y.push(z);var f=bH.aaC(K[z],o,Y,c);if(f){console.log(K,f);
throw"e"}Y.pop()}};bH.atj=function(K){var o=iE.parse(K,0),Y=o.$objects,c=new Uint8Array(Y.length),z=bH.iQ(Y,c,o.$top.root);
for(var y=0;y<Y.length;y++)if(c[y]==0&&y!=0){console.log(y,Y[y]);bH.aaC(z,y,[],[])}for(var y=0;y<Y.length;
y++){var f=Y[y];if(f._class&&(f._class=="bitmap"||f._class=="fill"&&f.fillType==4&&(f.image||f.imageSHA))){var $=f.image,E=f.imageSHA,b=null,q=null;
if($=="$null")$=null;if(E=="$null")E=null;if($&&$.data){q=$.sha1["NS.bytes"];q=btoa(_.H9(q,0,q.length));
b=$.data instanceof Uint8Array?$.data:$.data["NS.bytes"]}else if($==null&&E==null){var O=fv.WD("PNG").vc([[d.R(4).buffer]],1,1);
b=new Uint8Array(O)}else{var j=(z.assets?z.assets.imageCollection:z.images).images;if(E)q=E instanceof Uint8Array?E:E["NS.bytes"];
else q=$.sha1["NS.bytes"];q=btoa(_.H9(q,0,q.length));var b=j[q].data;if(b["NS.bytes"])b=b["NS.bytes"]}b=new Uint8Array(b.buffer.slice(b.byteOffset,b.byteOffset+b.length));
delete f.imageSHA;f.image={key:q,bdata:b}}}return z};bH.a1U=function(K){return K.slice(0,11)=="MSImmutable"?"MS"+K.slice(11):K};
bH.iQ=function(K,o,Y){var c=K[Y];if(o[Y]==1){return c}o[Y]=1;if(typeof c=="string")return c;if(typeof c=="number")return c;
if(typeof c=="boolean")return c;if(c instanceof Array)return c;if(c instanceof Uint8Array){return c}if(K[c.$class]==null){if(c.$class==null&&c["NS.data"]!=null)return c;
console.log(Y,c);throw"e"}var z=K[c.$class],f=bH.a1U(z.$classname);o[c.$class]=1;c.$class=f;if(bH.a1g[f]){delete c.$class;
c._class=bH.a1g[f]}var $=bH.iQ;if(f=="NSMutableArray"||f=="NSArray"){var E=[];if(c["NS.objects"]!=null)for(var y=0;
y<c["NS.objects"].length;y++)E.push($(K,o,c["NS.objects"][y]));else for(var y=0;c["NS.object."+y]!=null;
y++)E.push($(K,o,c["NS.object."+y]));K[Y]=E;return E}if(f=="NSDictionary"||f=="NSMutableDictionary"){var b={$class:f};
if(c["NS.keys"]!=null)for(var y=0;y<c["NS.keys"].length;y++){var q=$(K,o,c["NS.keys"][y]);if(q instanceof Uint8Array)q=btoa(bH.GV.H9(q,0,q.length));
else if(typeof q!="string"&&typeof q!="number")q=btoa(bH.GV.H9(q["NS.bytes"],0,q["NS.bytes"].length));
b[q]=$(K,o,c["NS.objects"][y])}else for(var y=0;c["NS.key."+y]!=null;y++){var q=$(K,o,c["NS.key."+y]);
if(q instanceof Uint8Array)q=btoa(bH.GV.H9(q,0,q.length));else if(typeof q!="string"&&typeof q!="number")q=btoa(bH.GV.H9(q["NS.bytes"],0,q["NS.bytes"].length));
b[q]=$(K,o,c["NS.object."+y])}for(var O in c)delete c[O];for(var O in b)c[O]=b[O];return c}if(f=="NSURL")return{$class:f,base:$(K,o,c["NS.base"]),relative:$(K,o,c["NS.relative"])};
if(bH.atZ.indexOf(f)!=-1){K[Y]=$(K,o,c.array_do);return K[Y]}if(c.do_objectID!=null)c.do_objectID=$(K,o,c.do_objectID);
if(bH.a49.indexOf(f)!=-1)return c;var j=bH.a8U[f];if(j==null){console.log(K,c);throw"unknown class "+f}for(var y=0;
y<j.length;y++)if(c[j[y]]!=null)c[j[y]]=$(K,o,c[j[y]]);if(f=="MSTextLayer"){var A=c,R,g,H,i;if(A.attributedString)R=A.attributedString.archivedAttributedString;
else R=A.storage;i=R.NSString;if(typeof i!="string")i=_.DI(i["NS.bytes"],0,i["NS.bytes"].length);if(R.NSAttributeInfo)g=R.NSAttributeInfo["NS.bytes"];
else{var h=i.length,x=[];while(h>0){var F=Math.min(100,h);x.push(F,0);h-=F}g=new Uint8Array(x)}H=R.NSAttributes instanceof Array?R.NSAttributes:[R.NSAttributes];
var X={$class:"NSAttributedString",NSString:i,NSAttributes:H};A.attributedString={_class:"MSAttributedString",archivedAttributedString:X};
X.NSAttributeInfo={$class:"NSMutableData","NS.data":g};delete A.storage}return c};bH.GV={vP:function(K,o){return K[o+1]<<8|K[o]},s:function(K,o){return K[o+3]<<24|K[o+2]<<16|K[o+1]<<8|K[o]},H9:function(K,o,Y){var c="";
for(var y=0;y<Y;y++)c+=String.fromCharCode(K[o+y]);return c}};bH.a1g={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
bH.atZ=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
bH.a49="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
bH.a8U={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var iE={};iE.parse=function(K,o){var Y=_.H9(K,o,8);o+=8;var c=K.length-32,z=iE.parse.ajO(K,c),f=[];if(z.mM==1){var o=c-z.mM*z.Cn;
for(var y=0;y<z.Cn;y++)f.push(K[o+y])}else if(z.mM==2){var o=c-z.mM*z.Cn;for(var y=0;y<z.Cn;y++)f.push(_.vP(K,o+y*2))}else if(z.mM==4){var o=c-z.mM*z.Cn;
for(var y=0;y<z.Cn;y++)f.push(_.s(K,o+y*4))}else{throw"e"}var $=iE.parse.iQ(K,f,z.root,z);return $};
iE.parse.iQ=function(K,o,Y,c){var z=iE.GV,f=c.a8F,$=f==4?z.s:f==2?z.vP:z.as9,E=iE.parse,b=o[Y],q=K[b],O=q>>4,j=q&15,R=null;
b+=1;if([4,5,6,10,12,13].indexOf(O)!=-1&&j==15){var A=E.LM(K,b);b+=A.x7;j=A.b}if(!1){}else if(O==0)R=j==8?!1:j==9?!0:null;
else if(O==1)R=E.LM(K,b-1).b;else if(O==2)R=1<<j==4?_.$T(K,b):_.yy(K,b);else if(O==3)R=_.yy(K,b);else if(O==4)R=new Uint8Array(K.buffer,b,j);
else if(O==5)R=_.H9(K,b,j);else if(O==6)R=_.k$(K,b,j);else if(O==8){R=0;for(var y=0;y<j+1;y++)R=R<<8|K[b+y]}else if(O==10){R=[];
for(var y=0;y<j;y++)R.push(E.iQ(K,o,$(K,b+f*y),c))}else if(O==12){R=[];for(var y=0;y<j;y++)R.push(E.iQ(K,o,$(K,b+f*y),c))}else if(O==13){R={};
for(var y=0;y<j;y++){var g=E.iQ(K,o,$(K,b+f*y),c),H=E.iQ(K,o,$(K,b+f*(j+y)),c);R[g]=H}}else throw"unknown mask "+O;
return R};iE.parse.LM=function(K,o){var Y=1<<(K[o]&15),c=0;for(var y=0;y<Y;y++)c=c<<8|K[o+1+y];return{b:c,x7:Y+1}};
iE.parse.ajO=function(K,o){var Y={};o+=6;Y.mM=K[o];o++;Y.a8F=K[o];o++;o+=4;Y.Cn=_.s(K,o);o+=4;o+=4;Y.root=_.s(K,o);
o+=4;o+=4;Y.art=_.s(K,o);o+=4;return Y};iE.GV={as9:function(K,o){return K[o]},vP:function(K,o){return K[o]<<8|K[o+1]},s:function(K,o){return K[o]<<24|K[o+1]<<16|K[o+2]<<8|K[o+3]},H9:function(K,o,Y){var c="";
for(var y=0;y<Y;y++)c+=String.fromCharCode(K[o+y]);return c}};var iZ={parse:function(K){var o=new Uint8Array(K),Y=iZ.Cx(o),c=[],z=new Uint8Array(o.length),f=[];
c.push(f);iZ.b8(o,Y,1,z,f);for(var y=0;y<f.length;y++){var $=[];c.push($);iZ.b8(o,Y,f[y][3],z,$,y==11);
f[y][3]=y+1}return c},b8:function(K,o,Y,c,z,f){Y--;var $=Y*o.DY+(Y==0?100:0),E=K[$],b=iZ.vP(K,$+1),q=iZ.vP(K,$+3),O=iZ.vP(K,$+5),A=0;
if(O==0)O=65536;var j=K[$+7];$+=8;if(E==2||E==5){A=iZ.s(K,$);$+=4}for(var R=0;R<q;R++){var g=Y*o.DY+iZ.vP(K,$+2*R),H=-1,i=0,h=0,x=0;
if(E==2||E==5){H=iZ.s(K,g);g+=4}if(E==2||E==10||E==13){i=iZ.eE(K,g);g+=i.x7}if(E==5||E==13){h=iZ.eE(K,g);
g+=h.x7}if(E==2||E==5){iZ.b8(K,o,H,c,z,f);continue}var F=o.DY-(Y==0?100:0),X=i.ii,V=E==13?F-35:Math.floor((F-12)*64/255)-23,U=Math.floor((F-12)*32/255)-23,Z=U+(X-U)%(F-4);
if(X<=V){iZ.kO(K,g,c,0,X)}else{var T=Z<=V?Z:U,v=0;iZ.kO(K,g,c,0,T);v+=T;x=iZ.s(K,g+T);while(x!=0){var P=(x-1)*o.DY;
x=iZ.s(K,P);var p=Math.min(o.DY-4,X-v);iZ.kO(K,P+4,c,v,p);v+=p}}z.push(iZ.a1O(c,X))}if(A!=0)iZ.b8(K,o,A,c,z,f)},a1O:function(K,o){var Y=0,c=iZ.eE(K,Y);
Y+=c.x7;var z=[],f=[];while(Y<c.ii){var $=iZ.eE(K,Y);Y+=$.x7;z.push($.ii)}if(Y!=c.ii)throw"e";for(var y=0;
y<z.length;y++){var $=z[y];if(!1){}else if($==0)f.push(null);else if($==1){f.push(iZ.ar2(K,Y));Y+=1}else if($==2){f.push(iZ.AK(K,Y));
Y+=2}else if($==3){f.push(iZ.aqq(K,Y));Y+=3}else if($==4){f.push(iZ.LM(K,Y));Y+=4}else if($==5){f.push(iZ.s(K,Y+2));
Y+=6}else if($==6){f.push(iZ.s(K,Y)+":"+iZ.s(K,Y+4));Y+=8}else if($==7){f.push(iZ.a1Y(K,Y));Y+=8}else if($==8)f.push(0);
else if($==9)f.push(1);else if($>=12&&($&1)==0){var E=$-12>>1,b=new Uint8Array(E);iZ.kO(K,Y,b,0,E);f.push(b);
Y+=E}else if($>=13&&($&1)==1){var E=$-13>>1;f.push(iZ.DI(K,Y,E));Y+=E}else throw"unknonw type "+$}return f},Cx:function(K){if(!(K[18]==1&&K[19]==1&&K[20]==0&&K[21]==64&&K[22]==32&&K[23]==32))throw"unexpected SQL3 header";
var o={bc:iZ.H9(K,0,15),DY:iZ.vP(K,16),adF:iZ.s(K,24),size:iZ.s(K,28),amc:iZ.s(K,32),ati:iZ.s(K,36),ap7:iZ.s(K,40),ap3:iZ.s(K,44),axs:iZ.s(K,48),apv:iZ.s(K,52),aBU:iZ.s(K,56),aB9:iZ.s(K,60),alI:iZ.s(K,64)!=0,aCz:iZ.s(K,68),ajc:iZ.s(K,92),aib:iZ.s(K,96)};
if(o.DY==1)o.DY=65536;if(o.aBU!=1)throw"unsupported text encoding "+o.aBU;return o},af5:function(K,o){return K[o]<<16|K[o+1]<<8|K[o+2]},aqq:function(K,o){var Y=iZ.af5(K,o),c=Y&8388608;
return c?-(16777215-Y+1):Y},ar2:function(K,o){iZ.uq[0]=K[o];return iZ.a8t[0]},LM:function(K,o){var Y=iZ.uq;
for(var y=0;y<4;y++)Y[y]=K[o+3-y];return iZ.amG[0]},AK:function(K,o){var Y=iZ.uq;Y[0]=K[o+1];Y[1]=K[o];
return iZ.a5F[0]},vP:function(K,o){return K[o]<<8|K[o+1]},s:function(K,o){var Y=iZ.uq;for(var y=0;y<4;
y++)Y[y]=K[o+3-y];return iZ.a8M[0]},a1Y:function(K,o){var Y=iZ.uq;for(var y=0;y<8;y++)Y[y]=K[o+7-y];
return iZ.ab8[0]},eE:function(K,o){var Y=o,h4=0;while(!0){var c=K[o];o++;h4=h4*128+(c&127);if(c<128)break}return{ii:h4,x7:o-Y}},H9:function(K,o,Y){var c="";
for(var y=0;y<Y;y++)c+=String.fromCharCode(K[o+y]);return c},DI:function(K,o,Y){var c="";for(var y=0;
y<Y;y++)c+="%"+iZ.ay_(K[o+y].toString(16));try{c=decodeURIComponent(c);return c}catch(es){return c}},kO:function(K,o,Y,c,z){if(K[o+z-1]==null||Y[c+z-1]==null){console.log(o,c,z);
throw"e"}for(var y=0;y<z;y++)Y[c+y]=K[o+y]},ay_:function(h4){return h4.length<2?"0"+h4:h4}};iZ.uq=new Uint8Array(8);
iZ.a8t=new Int8Array(iZ.uq.buffer);iZ.a5F=new Int16Array(iZ.uq.buffer);iZ.amG=new Int32Array(iZ.uq.buffer);
iZ.a8M=new Uint32Array(iZ.uq.buffer);iZ.ab8=new Float64Array(iZ.uq.buffer);iZ.ac$=function(K,o){var Y=K[0],c={};
for(var y=0;y<Y.length;y++){var z=Y[y],f=z[1];if(z[0]!="table")continue;var $=z[4];$=$.slice($.indexOf("(")+1,$.indexOf(")"));
$=$.split(",");for(var E=0;E<$.length;E++){var b=$[E].trim().split(" ")[0];if(o&&b.startsWith(f))b=b.slice(f.length);
$[E]=b}var q=c[f]=[],O=K[z[3]];for(var E=0;E<O.length;E++){var j=O[E],A={};q.push(A);for(var R=0;R<$.length;
R++){if(A[$[R]]!=null)throw"e";A[$[R]]=j[R]}}}return c};function ik(K,o,Y){this.Xe=K;this.J1=o;this.a5n=Y;
this.c_=new jc(0,0);this.s9=-1;this.qG=0;this.Zr=0;this.tt=new hD;this.YZ=[];this.Vz=null;this.avC=null;
this.Vt=null;this.dR=null;this.iq=null;this.a35=null}ik.prototype.StartPage=function(K,o,Y,c,z){var f=this.J1,$=f._8(),E=1,b=(Y-K)*(c-o);
if(z!=null)b=z;while(b*$*$/(E*E)>2*8192*8192)E++;f.scale(1/E,1/E);this.avC=[K,o,Y,c];var E=f._8();K=Math.round(K*E);
o=Math.round(o*E);Y=Math.round(Y*E);c=Math.round(c*E);var q=this.Xe,O=this.Vt;if(O==null){f.B3=-K}else{var j=O[2]-O[0]+30,A=Math.round(Y-K)+30;
if(this.c_.x+j+A>8192){f.B3=-K;this.c_.x=0;this.c_.y+=this.Zr+120;this.Zr=0}else{f.B3+=j;this.c_.x+=j}}f.Z7=this.c_.y+(this.a5n?c:-o);
this.Zr=Math.max(this.Zr,Math.round(c-o));this.Vt=[K,o,Y,c];this.aex=[];q.B.push(q.uR())};ik.prototype.StartTGroup=function(K){this.AR();
var o=this.Xe;o.B.push(o.uR());var Y=ik.$D[K.bmode];if(Y==null)Y="norm";var c=o.Uu();c.vd("<Group>");
c.add.lsct=eo.bl;c.YF=Y=="norm"?"pass":Y;c.Gh=24;c.opacity=Math.round(255*K.ca);this.aex.push(c)};ik.prototype.EndTGroup=function(){this.Xe.B.push(this.aex.pop())};
ik.prototype.ah2=function(){var K=this.Xe,o=K.B[K.B.length-1];return o};ik.prototype.aes=function(){var K=this.Xe,o=K.Uu();
o.vd("Path "+K.B.length);this.Xe.B.push(o);o.Gh|=16;o.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}};
o.add.vmsk=new S.kZ;o.add.vstk=eF.oc.Ta();return o};ik.prototype.wE=function(K){var o={z:K.crds,G:K.cmds},Y=d.M.eX(o,!1);
d.j.k3(Y,this.J1);return Y};ik.awv=function(K,o){for(var y=0;y<K.length;y++)if(K[y].fa!=null)K[y].fa=o};
ik.Kr=function(K){return d.H.eD({o:K[0]*255,A:K[1]*255,J:K[2]*255})};ik.rs=function(K){return new dF(K[0],K[1],K[2],K[3],K[4],K[5])};
ik.prototype.Stroke=function(K){if(this.s9!=-1&&this.s9!=this.qG)return;if(K.pth.cmds.length<=1)return;
var o=this.wE(K.pth),f=null;if(o.length<=2)return;this.ei(K);ik.awv(o,-1);o[2].fa=1;var Y=this.ah2(),c=eF.oc.Ta(null,!0),z=K.ctm;
eF.oc.write(c,K,Math.sqrt(Math.abs(z[0]*z[3]-z[1]*z[2]))*this.J1._8());if(!(K.COLR instanceof Array)){f=d.M.OA(K.pth.crds);
var $=d.M.Yq(f);d.M.i($.z,this.J1,$.z);f=d.M.OA($.z)}var E=ik.aX(K.COLR,this.J1,f),b=["SoFi","GrFl","patternFill"].indexOf(E.type),q=[eF.u4,eF.Eo,eF.Jo][b],O=c.strokeStyleContent.v={classID:eF.oc.OV[b]};
for(var y=0;y<q.length;y++)O[q[y]]=E.b.v[q[y]];var j=Y!=null&&Y.add.vmsk!=null&&!Y.f$(),A=j&&!Y.add.vstk.fillEnabled.v&&JSON.stringify(c)==Y.add.vsjs;
if(A){var R=Y.add.vmsk.$;for(var y=2;y<o.length;y++)R.push(o[y])}else{var g=j&&!Y.add.vstk.strokeEnabled.v&&S.kZ.auK(Y.add.vmsk.$,o,!0);
if(g){Y.add.vstk=c;c.fillEnabled.v=!0}else{Y=this.aes();Y.add.vmsk.$=o;Y.add.vstk=c;Y.add.vsjs=JSON.stringify(c)}}};
ik.prototype.Fill=function(K,o){if(this.s9!=-1&&this.s9!=this.qG)return;if(K.ca==0)return;var Y=K.pth.cmds;
if(Y.length==0)return;if(Y.length==2&&JSON.stringify(Y)=="[\"M\",\"L\"]")return;var c=d.M.OA(K.pth.crds),z=d.M.OA(K.cpth.crds);
if(c.wu(z).xf())return;var f=K.pth,$=UDOC.G.isBox(f,[c.x,c.y,c.x+c.m,c.y+c.e]),E=K.cpth,b=UDOC.G.isBox(E,[z.x,z.y,z.x+z.m,z.y+z.e]);
if($&&b&&c.Z()>z.Z()*2){var q=c.wu(z),O=q.x,j=q.y,A=O+q.m,R=j+q.e;f={cmds:["M","L","L","L","Z"],crds:[O,j,A,j,A,R,O,R]};
c=q}else if(this.dR==null&&UDOC.G.isBox(f,[c.x,c.y,c.x+c.m,c.y+c.e])&&c.wH(z)){f=E;c=z}else this.ei(K);
var g=this.wE(f),H=d.M.Yq(c);d.M.i(H.z,this.J1,H.z);c=d.M.OA(H.z);var i=ik.aX(K.colr,this.J1,c),h=this.ah2(),x=h!=null&&h.opacity==Math.round(255*K.ca)&&h.add.vstk!=null&&!h.add.vstk.strokeEnabled.v&&h.add.SoCo&&i.type=="SoFi"&&JSON.stringify(h.add.SoCo.Clr.v)==JSON.stringify(i.b.v.Clr.v);
if(x){var F=!1;for(var y=0;y<g.length;y++){if(g[y].fa==0||g[y].fa==2)F=!0}if(F){var X=d.M.OA(d.j.ri(h.add.vmsk.$)),V=d.M.OA(d.j.ri(g));
x=X.wu(V).xf()}}if(x){var U=h.add.vmsk.$;for(var y=2;y<g.length;y++)U.push(g[y])}else{h=this.aes();delete h.add.SoCo;
h.add.vmsk.$=S.kZ.ge(g);ik.WP(K.colr,h,this.J1,c);ik.aso(K,h)}};ik.WP=function(K,o,Y,c){var z=ik.aX(K,Y,c),f=null,$=null;
o.add.vstk.fillEnabled.v=!0;if(z.type=="SoFi"){f="SoCo";$=eF.u4}if(z.type=="GrFl"){f="GdFl";$=eF.Eo}if(z.type=="patternFill"){f="PtFl";
$=eF.Jo}if(f!=null){o.add[f]={classID:"null"};for(var y=0;y<$.length;y++){var E=$[y];o.add[f][E]=z.b.v[E]}}};
ik.prototype.ei=function(K){var o=this.Xe,Y=K.cpth,c=Y.cmds.join(""),z=Y.crds,f=c+" "+z.join(","),$=UDOC.G.isBox(Y,this.avC);
if($&&this.dR==null)return;if(f==this.dR)return;this.AR();if(!$){this.dR=f;o.B.push(o.uR());var E=o.Uu();
E.vd("Mask");E.add.lsct=eo.g5;E.YF="pass";E.Gh=24;var b=E.add.vmsk=new S.kZ;b.$=this.wE(K.cpth);if(UDOC.G.isBox(Y)){this.iq=d.j.QJ(b.$);
this.iq.VC(3,3)}else this.iq=null;this.a35=E}};ik.prototype.AR=function(){var K=this.Xe;if(this.dR!=null){var o=K.B.length-1,y=o,Y=!1;
while(y>=0&&K.B[y].add.lsct!=eo.iE)y--;var c=this.iq;if(c){var z=new hD,f=o;while(f>y){z=K.B[f].GN(this.Xe,!1,!0);
f--}Y=c.wH(z)}if(Y){this.YZ.splice(y,1);K.B.splice(y,1)}else{K.B.push(this.a35)}this.dR=null}};ik.aX=function(K,o,Y){var c,z;
if(K.length!=null){c="SoFi";var f=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);z={t:"Objc",v:f};z.v.Clr.v=ik.Kr(K)}else{var $=ik.a2W(K,o,Y);
c="GrFl";z={t:"Objc",v:$}}return{type:c,b:z}};ik.a2W=function(K,o,Y){var c=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),z=c.Grad.v;
z.Intr.v=0;var f=ik.rs(K.mat);f.concat(o);var $=new jc(0,0),E=new jc(Y.m,0),b=K.crds;if(K.typ=="rad"){c.Type.v.GrdT="Rdl";
var q=.7;$.x=(1-q)*b[0]+q*b[3];$.y=(1-q)*b[1]+q*b[4];E.x=$.x;E.y=$.y;E.x+=Math.max(b[2],b[5])}else{c.Type.v.GrdT="Lnr";
$.x=b[0];$.y=b[1];E.x=b[2];E.y=b[3];$.x=E.x+.5*($.x-E.x);$.y=E.y+.5*($.y-E.y)}$=f.qc($);E=f.qc(E);d.H.M9($,E,Y,c);
var O=K.grad;d.H.zZ(O,z);return c};ik.prototype.PutText=function(K,o,Y,c){var z=o.charCodeAt(0),R=null;
if(this.s9!=-1&&this.s9!=this.qG)return;if(o.length==0||o.length==1&&(z==0||z==8203))return;this.ei(K);
var f=this.Xe,$=K.font,E=Math.round(255*K.ca);if(K.font.Tmode==3)E=0;var b=ik.rs(K.ctm);b.concat(this.J1);
var q=ik.rs($.Tm);q.concat(b);var O=q._8(),j=new dF(1/O,0,0,-1/O,0,0);j.concat(q);var A=$.Tfs*O,g=f.B.length-1;
while(g>=0&&f.B[g].add.TySh==null)g--;if(j.J*j.J+j.b0*j.b0<.001&&c==null&&g>=0&&f.B[g].add.TySh&&f.B[g].opacity==E){var H=f.B[g],i=this.YZ[g],h=H.add.TySh.i,x=(j.B3-i.akB)/A,F=Math.abs(x),X=h.g==j.g&&h.J==j.J&&h.b0==j.b0&&h.gG==j.gG,V=j.Z7-i.gM,U=X&&Math.abs(V)<1e-5&&F<1;
if(U){R=H;if(x>.2&&[".",",","?",":","!"].indexOf(o)==-1){o=" "+o;Y+=.5}}else if(X&&0<V&&V<A*1.7&&i.at4==A){R=H;
this.ao4(i);i.gM=j.Z7;i.a6b=j.B3;o="\n"+o}}if(R==null){g=f.B.length;this.YZ[g]={xK:[],QX:0,akB:j.B3,gM:j.Z7,a6b:j.B3,Hp:"",at4:A};
R=f.Uu();f.B.push(R);R.add.lnsr="rend";R.add.TySh=b_.HO(0,0);R.add.TySh.i=j}var i=this.YZ[g];i.QX+=Y*A;
i.Hp+=o;i.akB=j.B3+Y*A;var Z=R.add.TySh.e9,T=b_.BM(Z);if(c){b_.go(Z,1);var v=[0,0,Math.ceil(c[0]*O),Math.ceil(c[1]*O)];
b_.X$(Z,v)}var P=T.length-1,p=P+o.length;b_.Df(Z,P,o);if(this.Vz==null)this.Vz=b_.Sw(Z,P,P);var a=this.Vz;
a.Pf.FontSize=Math.round(A);a.Pf.Tracking=Math.round($.Tc*100);a.Pf.Underline=$.Tun==1;a.Pf.FillColor={Type:1,Values:[1,K.colr[0],K.colr[1],K.colr[2]]};
if($.Tal!=null)a.Nd.Justification=$.Tal;if(i.xK.length!=0){a.Pf.AutoLeading=!1;a.Pf.Leading=i.gM-i.xK[i.xK.length-1].y}var D=$.Tf;
D=D.replace(/#2B/g,"+");D=D.replace(/#2C/g,"-");D=D.split("+").pop();var n={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(n[D])D=n[D];b_.iN(a,D);b_.K2(Z,P,p-1,a);R.Pe();R.opacity=E};ik.prototype.ao4=function(K){K.xK.push({Fv:K.QX,xu:K.Hp.slice(K.xK.length==0?0:1)+"\n",x:K.a6b,y:K.gM,ZO:K.at4});
K.QX=0;K.Hp=""};ik.prototype.Xl=function(K,o,Y){return new Uint8Array(fv.WD("PNG").vc([[K.buffer,0]],o,Y))};
ik.prototype.PutImage=function(K,o,Y,c,z,f,$){if(this.s9!=-1&&this.s9!=this.qG)return;var E=this.Xe,b=K.font.Tmode;
if(b==7&&E.B[E.B.length-1].add.TySh){return}this.ei(K);var q=ik.rs(K.ctm);q.concat(this.J1);var O=new dF(1/Y,0,0,-1/c,0,1);
O.concat(q);q=O;o=ik.ao1(o,Y,c,f,!1);if(z)z=ik.ao1(z,Y,c,$,!0);if(z==null){if(o.length==Y*c*4)o=this.Xl(o,Y,c)}else{o=this.a65(o,Y,c,f,!1);
z=this.a65(z,Y,c,$,!0);var j=d.R(Y*c);d.JI(z,j,0);d.cb(j,o,3);o=this.Xl(o,Y,c)}var A=E.o3(o,"Bitmap",0,0),R=A.rect.clone();
R.x=R.y=0;var g=d.M.Yq(R).z;d.M.i(g,q,g);A.add.SoLd.Trnf=m.OB.c5(g);A.add.SoLd.nonAffineTransform=m.OB.c5(g);
A.Mc(E,!1);ik.aso(K,A);E.B.push(A)};ik.aso=function(K,o){o.opacity=Math.round(255*K.ca);var Y=ik.$D[K.bmode];
if(Y==null)console.log("Unknown blend mode",Y);else o.YF=Y};ik.$D={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ik.aqs=function(K){if(K=="pass")K="norm";for(var o in ik.$D)if(ik.$D[o]==K)return o;return"/Normal"};
ik.ao1=function(K,o,Y,c,z){var f=fv.sR(K.buffer);if(f=="jpg"){try{K=new Uint8Array(fv.WD("JPG").aBY(K.buffer))}catch(es){K=new Uint8Array(o*Y*4)}}else if(f=="jb2"){K=new Uint8Array(fv.WD("JPG").MW(K.buffer,c,z)[0].data)}else if(K.length!=o*Y*4){var $=new Uint8Array(o*Y*4),E=Math.ceil(o/8),b=new Uint8Array(Y*E);
UTIF.decode._decodeG4(K,0,K.length,b,0,o,1);var q=b[0]==(z?255:0);for(var O=0;O<Y;O++){var j=E*O;for(var A=0;
A<o;A++){var y=O*o+A,R=y*4,g=(b[j+(A>>3)]>>7-(A&7)&1)*255;if(q)g=255-g;$[R]=g;$[R+1]=g;$[R+2]=g;$[R+3]=255}}K=$}return K};
ik.prototype.a65=function(K,o,Y,c,z){if(K.length!=o*Y*4){var f=fv.sR(K.buffer);if(f=="jb2")throw"e";
var $=fv.WD(f);if($==null||f=="tga")$=fv.WD("jpg");K=new Uint8Array($.MW(K,c,z)[0].data)}return K};ik.prototype.ShowPage=function(){var K=this.Xe;
this.qG++;var o=this.Vt;this.AR();var Y=K.Uu();K.B.push(Y);var c=new hD(Math.round(this.c_.x),Math.round(this.c_.y),Math.round(o[2]-o[0]),Math.round(o[3]-o[1]));
if(c.xf())c.m=c.e=2e3;this.tt=this.tt.Bb(c);Y.HL(c);Y.add.artb.artboardBackgroundType.v=1;Y.vd("Page "+this.qG);
Y.add.lsct=eo.g5;Y.YF="pass";Y.Gh=24};ik.prototype.Print=function(K){console.log("Print:",K)};ik.prototype.Done=function(){var K=this.Xe;
if(this.qG==1)K.B[K.B.length-1].add.lsct=eo.bl;K.Y4(this.qG);for(var y=0;y<K.B.length;y++){var o=K.B[y],Y=o.add.vmsk,c=o.add.TySh,z=this.YZ[y];
o.D8();delete o.add.vsjs;if(Y){var f=!1;for(var $=0;$<Y.$.length;$++){var E=Y.$[$];if((E.type==0||E.type==3)&&E.length>32767)f=!0}if(f){K.B.splice(y,1);
y--;continue}}o.WG(K);if(c&&z&&z.xK.length!=0){this.ao4(z);var b=c.e9,q=z.xK.length,O=z.xK[0],j=1e9,A=-1e9,U="";
for(var $=0;$<q;$++){var R=z.xK[$];j=Math.min(j,R.x);A=Math.max(A,R.x+R.Fv)}var g=[];for(var $=0;$<q;
$++){var R=z.xK[$],H=-1,i=O.ZO*.1,h=Math.abs(R.x-j),x=Math.abs(R.x+R.Fv-A),F=Math.abs(h-x);if(F<i)H=2;
if(x<i){H=1;if(R.x!=j)if($!=0&&z.xK[$-1].x==R.x||$!=q-1&&z.xK[$+1].x==R.x)H=-1}if(h<i)H=0;if(R.Fv==A-j)H=3;
g.push(H)}var X=[!1,!1,!1];for(var $=0;$<q;$++){var H=g[$];if(H==3)H=$==0?g[$+1]:g[$-1];if(H==3)H=0;
g[$]=H;X[H]=!0}var V=(A-j)*.05;if(X[0]&&!X[1])A+=V;if(!X[0]&&X[1])j-=V;if(!X[0]&&!X[1]){j-=V;A+=2*V}b_.go(b,1);
c.i.Z7-=O.ZO*.7;c.i.B3=Math.round(j);b_.X$(b,[0,0,Math.ceil(A-j),Math.ceil(z.xK[q-1].y-O.y+O.ZO*2)]);
for(var $=0;$<q;$++){var R=z.xK[$],H=g[$],Z=0;if(H==-1){H=0;Z=Math.round(R.x-j)}var T=U.length,v=T+R.xu.length;
U+=R.xu;var P={qu:[],Pf:{},Nd:{Justification:H,StartIndent:Z}};b_.K2(c.e9,T,v-1,P)}}if(c){var b=c.e9;
b_.aCb(b);var p=b_.BM(b).split("\n");for(var $=0;$<p.length-1;$++){var R=p[$],a=0;for(var D=0;D<R.length;
D++){var n=R.charCodeAt(D);if(1473<=n&&n<=1524)a++}if(a>R.length/2){p[$]=R.split("").reverse().join("");
var N=b.EngineDict.ParagraphRun.RunArray[$].ParagraphSheet.Properties;N._Direction=1;N.Justification=b_.yu(N)}}b_.v4(b,p.join("\n"))}}K.$P=!0;
K.m=this.tt.m;K.e=this.tt.e;K.buffer=d.R(this.tt.Z()*4)};var hu={};hu.$S=null;hu.lW=function(K,o,Y,c,z,f){if(z==null)z=K.m;
if(f==null)f=K.e;hu.$S=K;var $=!1,E=[K.root],b=K.root.children;if(K.add.artd){$=!0;for(var y=0;y<b.length;
y++)if(b[y].a.add.artb==null)$=!1;if($)E=b}var q=new hD(0,0,K.m,K.e),O=o[0];O=O.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
O=O.split(" ");var j=[];for(var y=0;y<O.length;y++){var A=O[y];if(A=="-"){var R=j.pop(),g=parseInt(O[y+1]);
while(R<g){j.push(R);R++}}else j.push(parseInt(A))}O=j;for(var y=0;y<O.length;y++)if(isNaN(O[y])||O[y]<1||O[y]>E.length){O.splice(y,1);
y--}var H=z/K.m,i=f/K.e,h=H*72/K.aE,x=i*72/K.aE,F=o[5];if(F==null)F=0;var X=72*F,V=72*F;for(var U=0;
U<E.length;U++){var y=U;if(o[2])y=E.length-1-U;if(O.length!=0&&O.indexOf(y+1)==-1)continue;var Z=E[y],T=$?Z.a.Yv():q;
if(!Z.a.KL())continue;var v=Math.round(T.m*h+2*X),P=Math.round(T.e*x+2*V);Y.StartPage(0,0,v,P);var p=UDOC.getState(),a=new dF;
a.translate(-T.x,-T.y-T.e);a.scale(h,-x);a.translate(X,V);if($){var D=Z.a.add.artb,n=D.artboardBackgroundType.v;
if(n!=1&&n!=3){var N=Z.a.bm(),W=X*h,G=V*x,l=W+T.m*h,u=G+T.e*x;p.colr=[(N>>>0&255)/255,(N>>>8&255)/255,(N>>>16&255)/255];
p.pth={cmds:["M","L","L","L","Z"],crds:[W,G,l,G,l,u,W,u]};Y.Fill(p)}}if(o[3]){var e=K.Gl();if(!q.BV(T)){e=d.R(T.Z()*4);
d.iF(K.Gl(),q,e,T)}var M=K.QI();if(M)ICC.U.applyLUT(M[K.add.fcmy==1?5:3],M[2],e,e);var B=fv.WD("JPG").vc([[e.buffer]],T.m,T.e,[o[1]]);
e=new Uint8Array(B);var s=new dF;s.translate(T.x,T.y);hu.Be(p,Y,e,T,s,a)}else{hu.ajZ(K,Z,p,Y,a,o,c);
if(X!=0){var W=X,G=V,l=W+T.m,u=G+T.e,t=l+X,J=u+X;p.ca=1;p.colr=[1,1,1];p.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,J,t,J,t,0,W,G,l,G,l,u,W,u]};
Y.Fill(p)}}if(o[6]){var L=[[0,0],[1,0],[1,1],[0,1]],k=50,C=5,r=k*.5,Q=C*.5;p.colr=[.1,.1,.1];for(var U in L){var j9=L[U],a4=[U==0||U==3?-1:1,U==0||U==1?-1:1],ar=[X-r+Q*a4[0]+j9[0]*K.m,V-(a4[1]!=1?C:0)+j9[1]*K.e],ez=[X-(a4[0]!=1?C:0)+j9[0]*K.m,V-r+Q*a4[1]+j9[1]*K.e];
p.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[ar[0],ar[1],ar[0]+k,ar[1],ar[0]+k,ar[1]+C,ar[0],ar[1]+C,ez[0],ez[1],ez[0]+C,ez[1],ez[0]+C,ez[1]+k,ez[0],ez[1]+k]};
Y.Fill(p)}}var ja=K.FT;for(var c3=0;c3<ja.length;c3++){var hW=ja[c3].v,T=d.qN._U(hW),fO=d.M.Yq(T).z;
d.M.i(fO,a,fO);var ei=d.M.OA(fO);if(!new hD(0,0,v,P).wH(ei))continue;if(Y.AddAnnot)Y.AddAnnot([ei.x,ei.y,ei.x+ei.m,ei.y+ei.e],hW.url.v)}Y.ShowPage()}Y.Done();
hu.$S=null};hu.ht=function(K){K=d.H.CK(K);return[K.o/255,K.A/255,K.J/255]};hu.ajZ=function(K,o,Y,c,z,f,$){var E=o.a,b=E.add.lsct,q=E.add.lmfx,O=E.add.vmsk,j=E.add.vstk,A=E.add.TySh,h,x,p;
if(!E.KL())return;var R=E.opacity/255,g=E.add.iOpa!=null?E.add.iOpa/255:1;Y.bmode=ik.aqs(E.YF);var H=Y.ca;
Y.ca=Y.CA=R*g;var i=q;if(i)i=i.solidFillMulti.v[0];if(i)i=i.v;if(i&&!i.enab.v)i=null;var F=E.rect;if(E.L8()&&(!E.f$()||E.DM&&E.DM.dx)){if(E.f$()){h=E.DM.dx;
F=E.DM.asD}else{h=d.R(E.rect.Z());d.JI(E.buffer,h,3)}x=eq.c8(q,E.add.fxrp,h,F,K,F).type;var X=["DrSh","OrGl"];
if(g!=1||j&&!j.fillEnabled.v){var V=h.slice(0);d.oD(V);for(var y=0;y<X.length;y++){var U=x[X[y]];for(var Z=0;
Z<U.length;Z++){var T=U[Z],v=T.z2.clone();v.x+=F.x;v.y+=F.y;d.D$(V,F,T.y3,v)}}}}if(x)hu.a6m(E,h,F,x,Y,c,z,f,!0);
var P=eq.aw7(E,!1);if(P){c.StartTGroup(Y);p=Y;Y=UDOC.getState()}var a=O&&!E.sB();if(a){var D=d.M.sT(O.$,!1),n=D.CV;
d.M.i(n.z,z,n.z);Y.cpth={cmds:n.G,crds:n.z}}if(E.f$()){for(var y=0;y<o.children.length;y++)hu.ajZ(K,o.children[y],Y,c,z,f,$)}else if(O&&E.sB()&&E.add.PtFl==null){var N=O.$,W=d.j.QJ(N),G=!1;
if(j.fillEnabled.v){var l=eq.KI(q,E.add),u=l[0],e=l[1];Y.colr=hu.aiQ(u?u:e,z,W);G=!0}var M=eq.Re(q);
if(!j.strokeEnabled.v&&M)j=M;var D=d.M.sT(N,j.strokeEnabled.v),n=D.CV;d.M.i(n.z,z,n.z);Y.pth={cmds:n.G,crds:n.z};
hu.acq(c,Y,G,j,z,W,D.dU!=0)}else if(A&&f[4]){var B=A.e9,s=new f3(B,$),n=au.pk(s,A,!0),t=d.M.fx(n),J=eq.Re(q);
for(var L in t){var k=parseInt(L.slice(1,7),16),C=0;Y.colr=i?hu.ht(i.Clr.v):hu.a8S(k);var r=t[L];d.M.i(r.z,z,r.z);
r=d.M.a0$(r);Y.pth={cmds:r.G,crds:r.z};var j=J;if(L.length>7){j=eF.oc.Ta();var Q=L.slice(7).split("-"),k=parseInt(Q[1].slice(1),16),j9=hu.a8S(k);
j.fillEnabled.v=!0;j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=parseFloat(Q[2]);j.strokeStyleContent.v.Clr.v=i?i.Clr.v:d.H.eD({o:j9[0]*255,A:j9[1]*255,J:j9[2]*255});
j.strokeStyleMiterLimit.v=parseFloat(Q[2])}hu.acq(c,Y,!0,j,z,null,!1)}}else if(A){var B=JSON.parse(JSON.stringify(A.e9));
b_.aCb(B);var a4=A.i.clone(),ar=new dF(1,0,0,-1,0,0);ar.concat(a4);ar.concat(z);var ez=b_.BM(B),s=new f3(B,$);
for(var y=0;y<s.Nd.length;y++){var ja=s.Nd[y];if(ja.IW.length==1&&ja.IW[0].UX)continue;for(var Z=0;Z<ja.h4.length;
Z++){var c3=ja.h4[Z],hW=ja.Ja.y+c3.Ja.y,fO=ja.IW[c3.start].start,ei=ja.IW[c3.end-1].end,fV=b_.atL(B,fO,ei);
for(var aW=0;aW<fV.length;aW++){var ee=s.wd(fO),hM=fV[aW],ds=b_.Sw(B,fO,fO),cp=ds.qu[ds.Pf.Font].Name;
Y.font.Tf=cp;var L=b_.CK(ds.Pf.FillColor);Y.colr=i?hu.ht(i.Clr.v):[L.o/255,L.A/255,L.J/255];var eA=Y.font.Tfs=Math.round(ds.Pf.FontSize),db=ez.slice(fO,fO+hM);
if(ds.Pf.FontCaps==2)db=db.toUpperCase();var js=new dF;js.translate(ee.oJ.x,-hW);js.concat(ar);Y.ctm=[js.g,js.J,js.b0,js.gG,js.B3,js.Z7];
c.PutText(Y,db,0);for(var bF=0;bF<2;bF++){var gF=ds.Pf[bF==0?"Strikethrough":"Underline"];if(!gF)continue;
var ji=s.wd(fO+hM-1),hd=bF==0?.27:-.2,eZ=eA*hd,hj=eA*(hd+.07),C=ji.oJ.x+ji.oJ.m-ee.oJ.x,eK=[0,eZ,C,eZ,C,hj,0,hj];
d.M.i(eK,js,eK);Y.pth={cmds:["M","L","L","L","Z"],crds:eK};c.Fill(Y)}Y.ctm=[1,0,0,1,0,0];fO+=hM}}}}else if(!E.rect.xf()){var cX,bW,ju=!1,ci=new dF,b8=E.add.SoLd,gh=!0;
if(b8)gh=d.D.r7(d.D.P_(m.OB.lA(b8.Trnf)));var aN=K.QI();if(b8&&gh&&aN==null){var eS=b8.Idnt.v,b2=K.ai(eS,b8.Crop?b8.Crop.v:null),ib="";
if(b2==null)return;var fZ=b2.W3,dw=fv.sR(b2.raw.buffer);if(f[7].indexOf(dw)!=-1){cX=b2.raw;ju=!0}else cX=fZ[0];
bW=fZ[1];ci=d.D.yT(b8)}else{cX=E.buffer;bW=E.rect;ci.translate(bW.x,bW.y);if(aN){cX=cX.slice(0);ICC.U.applyLUT(aN[K.add.fcmy==1?5:3],aN[2],cX,cX)}if(d.Bc(cX,bW.m,bW.e)&&f[7]&&f[7].indexOf("jpg")!=-1){var eJ=fv.WD("JPG").vc([[cX.buffer]],bW.m,bW.e,[f[1]]);
cX=new Uint8Array(eJ);ju=!0}}if(i&&!ju)cX=eq.a47(cX,i,bW);hu.Be(Y,c,cX,bW,ci,z);if(i&&ju){var eK=[0,0,bW.m,0,bW.m,bW.e,0,bW.e];
d.M.i(eK,ci,eK);d.M.i(eK,z,eK);var df=JSON.parse(JSON.stringify(Y));df.ca=i.Opct.v.val/100;df.pth={cmds:["M","L","L","L","Z"],crds:eK};
df.colr=hu.ht(i.Clr.v);c.Fill(df)}}if(a)Y.cpth=null;if(P){c.EndTGroup();Y=p}Y.ca=Y.CA=H;if(x)hu.a6m(E,h,F,x,Y,c,z,f,!1)};
hu.acq=function(K,o,Y,c,z,f,$){var E=!1,b=0,q=0;if(c&&c.strokeEnabled.v){var O=c.strokeStyleContent.v;
o.COLR=hu.aiQ(O,z,f);eF.oc.bk(c,o,z._8());b=o.sal;delete o.sal;q=o.lwidth;E=!0}var j=b==2;if(Y&&!j)K.Fill(o,$);
if(E){o.lwidth=q*(b==2?2:1);K.Stroke(o)}if(Y&&j)K.Fill(o,$)};hu.apQ=function(K){var o=hu.$S;if(o==null)return K;
var Y=o.QI();if(Y&&o.add.fcmy){var c=new Uint8Array(4);c[0]=.5+K[0]*255;c[1]=.5+K[1]*255;c[2]=.5+K[2]*255;
ICC.U.applyLUT(Y[o.add.fcmy==1?5:3],Y[2],c,c);K=[c[0]/255,c[1]/255,c[2]/255]}return K};hu.ht=function(K){K=d.H.CK(K);
return hu.apQ([K.o/255,K.A/255,K.J/255])};hu.a8S=function(K){return hu.apQ([(K>>>16&255)/255,(K>>>8&255)/255,(K&255)/255])};
hu.aiQ=function(K,o,Y){if(K.Clr)return hu.ht(K.Clr.v);var c=K,z=c.Rvrs?c.Rvrs.v:!1,f=c.Type.v.GrdT,$,E=f=="Rdl"||f=="Dmnd"?"rad":"lin",b=d.H.Qv(c,Y),q=o.qc(b[0]),O=o.qc(b[1]);
if(E=="rad")$=[q.x,q.y,0,q.x,q.y,jc.si(q,O)];else{q.Ex(O.x+(q.x-O.x)*2,O.y+(q.y-O.y)*2);$=[q.x,q.y,O.x,O.y]}var j=d.H.h8(c.Grad.v,z);
return{typ:E,mat:[1,0,0,1,0,0],grad:j,crds:$}};hu.a6m=function(K,o,Y,c,z,f,$,E,b){var q=Y.clone(),O=o;
if(K.add.TySh&&!E[3]&&!E[4])return;var j=z.ca,A=z.bmode;for(var y=eF.order.length-1;y>=0;y--){var R=eF.order[y];
if(R=="GrFl"||R=="SoFi")continue;if((K.add.vmsk||K.add.TySh)&&R=="FrFX")continue;var g=c[R],H=y>7||R=="FrFX";
if(H!=b)continue;for(var i=0;i<g.length;i++){var h=g[i];if(h.z2==null)h=h.p8?h.p8:h.uW;if(h==null)continue;
var x=h.z2.clone();x.offset(q.x,q.y);if(!H){if(!q.wH(x)){var F=q.Bb(x),X=d.R(F.Z());d.u_(O,q,X,F);O=X;
q=F}d.D$(O,q,h.y3,x)}if(H&&R=="FrFX"&&h.mv)d.D$(h.mv,x,h.y3,x);var V=new dF;V.translate(x.x,x.y);z.ca=h.PD;
z.bmode=ik.aqs(h.C1);hu.Be(z,f,h.y3,x,V,$)}}z.ca=j;z.bmode=A};hu.Be=function(K,o,Y,c,z,f){var $=new dF;
$.scale(c.m,-c.e);$.translate(0,c.e);$.concat(z);$.concat(f);K.ctm=[$.g,$.J,$.b0,$.gG,$.B3,$.Z7];o.PutImage(K,Y,c.m,c.e);
K.ctm=[1,0,0,1,0,0]};var hh={};hh.qz=function(K){var o=new Uint8Array(K);return hh.nb(o,0)};hh.nb=function(K,o){var Y=_.s,c=_.H9,z={YH:c(K,o,4),w:o+8,size:Y(K,o+4)},f=z.YH=="FORM"||z.YH=="FOR4"||z.YH=="LIST"||z.YH=="CAT ";
if(f)z.OV=c(K,o+8,4);if(z.size<0||z.w+z.size>K.length)throw"e";if(f){z.sub=[];o+=12;var $=z.w+z.size;
while(o<$){var E=hh.nb(K,o);z.sub.push(E);var b=E.size&1,q=E.size&3;if(z.YH=="FOR4")b=q==0?0:4-q;o+=8+E.size+b}}return z};
var bN={};bN.qz=function(K,o){var Y=new Uint8Array(K);return bN.nb(Y,0,o)};bN.nb=function(K,o,Y){var c=_.rT,z=_.H9,f={YH:z(K,o,4),w:o+8,size:c(K,o+4)};
if(Y&&Y[f.size]!=null)f.size=Y[f.size];if(f.YH=="RIFF"||f.YH=="LIST"){f.OV=z(K,o+8,4)}if(f.size<0||f.w+f.size>K.length)throw"e";
if(f.YH=="RIFF"||f.YH=="LIST"&&(f.OV!="cmpr"&&f.OV!="stlt")){f.sub=[];o+=12;var $=f.w+f.size;while(o<$){var E=bN.nb(K,o,Y);
f.sub.push(E);o+=8+E.size+(E.size&1)}}return f};var aR=function(){function K(k,C){var r=null;if(k.sub==null)return r;
for(var y=0;y<k.sub.length;y++){var Q=k.sub[y];if(Q.YH==C||Q.OV==C)r=Q}return r}function o(k){if(k==32)return 300;
else if(k<49)return 0;else if(k<58)return 100*(k-48);else if(k<65)return 0;return 100*(k-55)}var Y;function c(k,C){var r=new Uint8Array(k);
C.$P=!0;Y={};var Q=_.H9(r,0,2);if(Q=="WL"){alert("Unsupported CDR version")}else{var j9,a4,ar,c3,cp=300,js=0;
if(Q=="PK"){a4=UZIP.parse(r);r=a4["content/root.dat"];ar=_.DI(a4["content/dataFileList.dat"]).split("\n")}j9=bN.qz(r.buffer);
console.log(j9);var ez=o(r[11]),ja={data:r,w:0,yf:ez};ja.zz=ja.yf<600?16:32;T(r,ja,ar,a4,j9.sub,0);var hW=[];
if(a4){c3=K(j9,"doc ");z(c3);var fO=j9.sub;for(var y=0;y<fO.length;y++)if(fO[y].OV=="page")hW.push(fO[y]);
hW=hW.slice(1)}else if(K(j9,"cmpr")==null){c3=K(j9,"page");hW.push(c3);if(K(c3,"mcfg")==null){c3=K(j9,"doc ");
z(c3);hW=[];var fO=j9.sub;for(var y=0;y<fO.length;y++)if(fO[y].OV=="page")hW.push(fO[y]);hW=hW.slice(1)}}else{var ei=K(j9,"cmpr").sub;
c3=ei[0];hW=[ei.slice(1)[1]];z(c3)}var fV=K(c3,"mcfg").b,aW=fV.a8l,ee=aW.x*.1,hM=aW.x*hW.length+ee*(hW.length-1),ds=aW.y;
cp/=iS.a2(new hD(0,0,Math.round(hM*cp),Math.round(ds*cp)),8192*8192);var eA=Math.round(hM*cp),db=Math.round(ds*cp);
C.m=eA;C.e=db;C.buffer=d.R(C.m*C.e*4);for(var y=0;y<hW.length;y++){var bF=new dF(cp,0,0,-cp,aW.x*cp/2+js,aW.y*cp/2);
f(hW[y],c3,C,bF);var jI=C.B[C.B.length-1];jI.HL(new hD(Math.round(js),0,Math.round(aW.x*cp),Math.round(aW.y*cp)));
jI.vd("Page "+(y+1));js+=aW.x*cp+ee*cp}C.Y4(hW.length)}}function z(k){var C=K(k,"filt").sub,r=K(k,"otlt").sub,Q=K(k,"fntt");
if(Q)Q=Q.sub;k.jW={};for(var y=0;y<C.length;y++)k.jW[C[y].sub[0].b.id]=C[y].sub[0].b;k.tC={};for(var y=0;
y<r.length;y++)k.tC[r[y].b.id]=r[y].b;if(Q){k.fonts={};for(var y=0;y<Q.length;y++)k.fonts[Q[y].b.id]=Q[y].b}}function f(k,C,r,Q){var j9=k.OV?k.OV:k.YH,a4=K(k,"lgob"),ar=K(k,"txsm"),ez=null,ja=null;
if(a4){ez=K(a4,"trfl");ja=K(a4,"loda")}else if(K(k,"lobj"))ja=K(k,"lobj");var c3=ez&&ez.sub[0].gr?ez.sub[0].gr.clone():new dF;
c3.concat(Q);var hW=r.Uu();if(j9=="page"||j9=="layr"||j9=="grp "){hW.vd((j9=="page"?"Page":"Group")+" "+r.B.length);
hW.add.lsct=eo.bl;hW.YF="pass";hW.Gh=24;var fO=[];if(j9=="page")fO=K(k,"gobj").sub;if(j9=="layr")fO=k.sub.slice(2);
if(j9=="grp ")fO=k.sub.slice(4);if(fO.length==0)return;r.B.push(r.uR());for(var y=fO.length-1;y>=0;y--)f(fO[y],C,r,Q)}else if(j9=="obj "&&ja.b&&ja.b.path){var ei,fV;
if(C.jW){ei=C.jW[ja.b.axJ];fV=C.tC[ja.b.apr]}if(ei==null)ei=ja.b.a7p;if(fV==null)fV=ja.b.ay6;hW=$(r,ja.b.path,Q,c3,ei,fV)}else if(j9=="obj "&&ar){var aW=ja.b.abk,ee=ja.b.a83,cp="";
hW.add.TySh=b_.HO(0,0);var hM=c3._8();hW.add.TySh.i.translate(c3.B3,c3.Z7);var ds=hW.add.TySh.e9,eA=ar.b.Py;
if(eA==null)return;for(var y=0;y<eA.length;y++){var db=eA[y],js=cp.length;cp+=db.text+"\n";b_.Df(ds,js,db.text+"\n");
if(db.text=="")continue;var bF=E(db.a4Q,C),jI=bF.a3f,gF=C.fonts[jI.aro],b6=b_.Sw(ds,js,cp.length);if(bF.align==3)b6.Nd.Justification=1;
else if(bF.align==2)b6.Nd.Justification=2;else b6.Nd.Justification=0;var ji=bF.fill.b;if(ji==null)ji=[0,0,0];
if(gF.Dx)b_.iN(b6,gF.Dx);b6.Pf.FillColor={Type:1,Values:[1,ji[0],ji[1],ji[2]]};b6.Pf.FontSize=Math.round(jI.fontSize*Q._8());
b_.K2(ds,js,cp.length-1,b6)}if(ee){b_.go(ds,0)}else{b_.go(ds,1);b_.X$(ds,[0,0,Math.round(aW.x*c3.g),Math.round(-aW.y*c3.gG)])}hW.vd(cp.slice(0,10))}else{hW=null}if(hW)r.B.push(hW)}function $(k,C,r,Q,j9,a4){var ar=k.Uu();
ar.vd("Object "+k.B.length);ar.Gh|=16;var ez=ar.add.vstk=eF.oc.Ta();ar.add.vmsk=new S.kZ;ar.add.vmsk.$=d.M.eX(C,!1);
d.j.k3(ar.add.vmsk.$,Q);var ja=j9&&j9.type!=0,c3=ja&&j9.b!=null?j9.b:[0,0,0];ik.WP(c3,ar,Q,d.j.QJ(ar.add.vmsk.$));
ez.fillEnabled.v=ja;if(a4&&a4.a5y!=1){ez.strokeEnabled.v=!0;ez.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var hW=ez.strokeStyleLineWidth.v.val=a4.lineWidth*r._8(),fO=a4.color;ez.strokeStyleContent.v.Clr.v=d.H.eD({o:fO[0]*255,A:fO[1]*255,J:fO[2]*255});
if(a4.Q4.length!=0)ez.strokeStyleLineDashSet.v=eq.XP(a4.Q4,4/hW);var ei=a4.aqP,fV=a4.a85;if(fV!=0){var aW=C.z,y=aW.length-4,ee=aW[y],hM=aW[y+1],ds=aW[y+2],cp=aW[y+3],eA=new dF;
eA.scale(.15,.15);eA.rotate(-Math.PI/2+Math.atan2(cp-hM,-(ds-ee)));eA.translate(ds,cp);eA.concat(Q);
if(Y[fV]){var db=$(k,Y[fV],r,eA,fO,null);k.B.push(db)}}}ar.D8();ar.WG(k);return ar}function E(k,C){var r=K(C,"stlt").b,Q=JSON.parse(JSON.stringify(r.ck[k]));
if(Q.TW!=0){var j9=r.ck[Q.TW];for(var a4 in j9)if(Q[a4]==null||Q[a4]==0)Q[a4]=j9[a4];delete Q.TW}Q.align=r.ag4[Q.aar];
Q.fill=C.jW[r.aqe[Q.ae8]];Q.a1L=C.tC[r.awb[Q.ae9]];Q.a3f=r.aqU[Q.aB5];return Q}function b(y){var h4=y.data[y.w];
y.w+=1;return h4}function q(y){var h4=_.Bt(y.data,y.w);y.w+=2;return h4}function O(y){var h4=_.rT(y.data,y.w);
y.w+=4;return h4}function j(y){var h4=_.rT(y.data,y.w);y.w+=8;return h4}function A(y){var h4=_.ac(y.data,y.w);
y.w+=2;return h4}function R(y){var h4=_.$C(y.data,y.w);y.w+=4;return h4}function g(y){var h4=_.sA(y.data,y.w);
y.w+=8;return h4}function H(y){if(y.w>=y.data.length)throw"e";var k=0;while(y.data[y.w+k]!=0)k++;var C=_.H9(y.data,y.w,k);
y.w+=k+1;return C}function i(y){var k="";while(!0){var C=q(y);if(C==0)break;k+=String.fromCharCode(C)}return k}function h(k){var C=O(k),r=(C&4294901760)>>>16,Q=(C&65535)/65535;
return r+Q}function x(k){if(k.yf<600)return Math.PI*A(k)/1800;return Math.PI*R(k)/18e7}function F(k){if(k.yf<1500)return X(k);
else return g(k)/254e3}function X(k){if(k.yf<600)return A(k)/1e3;else return R(k)/254e3}function V(k){if(k.yf<600)return q(k);
else return O(k)}function U(k){if(k.yf<600)return A(k);else return R(k)}function Z(k,C,r){var Q="";for(var y=0;
y<r;y++){for(var j9=0;j9<C;j9+=4){var h4=_.rT(k.data,k.w+y*C+j9);Q+=(h4<500?h4:h4)+","}Q+="\n"}return Q}function T(k,C,r,Q,j9,a4){var ar,ez,ja;
for(var c3=0;c3<j9.length;c3++){var hW=C.yf,fO=j9[c3];C.data=k;C.w=fO.w+(fO.YH=="LIST"?4:0);if(Q&&fO.sub==null){ar=O(C);
ez=O(C);ja=O(C);var ei=q(C);if(ei!=0)throw"e";var fV=q(C);if(fV>32)throw"e";C.w-=16;if(ar!=4294967295){C.data=Q["content/data/"+r[ar]];
C.w=ja}}if(fO.YH=="vrsn"){if(fO.size==16)C.w+=8;var aW=q(C);C.yf=aW;console.log("Version",aW);C.zz=aW<600?16:32}else if(fO.YH=="DISP"){}else if(fO.YH=="LIST"&&fO.OV=="cmpr"){var ee=O(C),hM=O(C),ds=O(C),cp=O(C),eA=new Uint8Array(C.data.buffer,C.w+8+2,ee-6-8),db=pako.inflateRaw(eA),gF=0;
C.w+=ee;eA=new Uint8Array(C.data.buffer,C.w+8+2);var js=pako.inflateRaw(eA),bF=[];for(var jI=0;jI<js.length;
jI+=4)bF.push(_.rT(js,jI));fO.sub=[];while(gF<db.length){var b6=bN.nb(db,gF,bF);gF=b6.w+b6.size;fO.sub.push(b6)}var ji={data:db,w:0,yf:hW,zz:C.zz};
T(db,ji,r,Q,fO.sub,a4+1)}else if(fO.YH=="LIST"&&fO.OV=="stlt"||fO.YH=="stlt"){if(ar==4294967295)return;
var hd=C.w,ci="",j7=32;fO.b={};var eZ=O(C);if(eZ==0)return;fO.b.aqe=G(C,hW>=1300);fO.b.awb=G(C);fO.b.aqU={};
var hj=O(C);for(var y=0;y<hj;y++){var eK=O(C);C.w+=hW<1e3?12:20;var cX=q(C),bW=q(C);C.w+=8;var ju=X(C);
C.w+=hW<1e3?12:20;fO.b.aqU[eK]={aro:cX,aac:bW,fontSize:ju}}fO.b.ag4=G(C);var hH=O(C);ci+="Intervals\n"+Z(C,52,hH)+"\n";
C.w+=52*hH;var b8=O(C);ci+="Set5s\n"+Z(C,152,b8)+"\n";C.w+=152*b8;var gh=O(C);ci+="Tabs\n"+Z(C,784,gh)+"\n";
C.w+=784*gh;var aN=O(C);ci+="Bullets\n";for(var y=0;y<aN;y++){var eS=C.w,b2=O(C);C.w+=4*3;if(hW>1300)C.w+=4;
var fZ=O(C);C.w+=4*5;if(hW>=1300){var dw=O(C);if(dw){if(O(C))C.w+=64;else C.w+=60}else C.w+=12}else{C.w+=20;
if(hW>=1e3)C.w+=8;if(O(C))C.w+=8;C.w+=8}var ib=C.w;C.w=eS;ci+=Z(C,ib-eS,1);C.w=ib}ci+="\n";var eJ=O(C);
ci+="Indents\n";fO.b.ajI={};for(var y=0;y<eJ;y++){var eS=C.w,df=O(C),k5={};C.w+=12;k5.right=X(C);k5.aox=X(C);
k5.left=X(C);fO.b.ajI[df]=k5;var ib=C.w;C.w=eS;ci+=Z(C,ib-eS,1);C.w=ib}ci+="\n";var eC=O(C);if(hW>=1300)j7+=4;
ci+="Hypens\n"+Z(C,j7,eC)+"\n";C.w+=j7*eC;var cK=O(C);ci+="Dropcaps\n"+Z(C,28,cK)+"\n";C.w+=28*cK;if(hW>800){var bw=O(C);
ci+="Set11s\n"+Z(C,28,bw)+"\n";C.w+=12*bw}fO.b.ck={};for(var y=0;y<eZ;y++){var f6=O(C);if(f6>3)throw f6;
var iF=O(C),ag={};ag.TW=O(C);C.w+=8;var bS=O(C);if(hW>=1200)bS*=2;C.w+=bS;ag.ae8=O(C);ag.ae9=O(C);if(f6>1){ag.aB5=O(C);
ag.aar=O(C);ag.a2p=O(C);ag.aea=O(C);if(hW>800)ag.ahF=O(C)}if(f6>2){ag.aCV=O(C);ag.awk=O(C);ag.aa_=O(C);
ag.anz=O(C);ag.a91=O(C)}fO.b.ck[iF]=ag}}else if(fO.YH=="LIST")T(k,C,r,Q,fO.sub,a4+1);else if(fO.YH=="txsm"){fO.b={};
if(hW<600)throw"e";if(hW<700)throw"e";if(hW>=1600){fO.b=W(C);return}if(hW>=1500)C.w+=37;else C.w+=36;
if(O(C)){if(hW<800)C.w+=32}if(hW<800)C.w+=4;fO.b.avU=O(C);fO.b.Py=[];C.w+=48;if(hW>=800){if(O(C)){C.w+=32;
if(hW>=1300)C.w+=8}}if(hW>=1500)C.w+=12;var f6=O(C),b$=1,aj=!1;if(!f6){if(hW>=800)C.w+=4;if(hW>800)C.w+=2;
if(hW>=1400)C.w+=2;C.w+=24;if(hW<800)C.w+=8;b$=O(C)}for(var jI=0;jI<b$;jI++){var iV=O(C),y=0;if(hW>=1300&&f6)C.w++;
C.w++;var eZ=O(C),g0=[];for(y=0;y<eZ;y++){var eB=b(C),dU=0;b(C);var c7=b(C);if(hW>=800)dU=b(C);var ag={};
if(c7&1){ag.aro=q(C);var cz=q(C);if(cz)ag.alp=cz}if(c7&2)C.w+=4;if(c7&4)ag.a9z=X(C);if(c7&8)C.w+=4;if(c7&16)C.w+=4;
if(c7&32)C.w+=4;if(c7&64){ag.ae8=O(C);if(hW>=1500)C.w+=48}if(c7&128){ag.ae9=O(C)}if(dU&8){if(hW>=1300){var fr=O(C);
if(C.w+fr*2>=C.data.length){aj=!0;break}C.w+=fr*2}else C.w+=4}if(dU&32){var kk=b(C);if(kk)C.w+=52}if(eB==2)if(hW>=1300)C.w+=48;
g0.push(ag)}if(aj){break}var a6=O(C);if(C.w+a6*4>C.data.length)break;var jv=[];for(y=0;y<a6;y++){var by=0;
if(hW>=1200)by=j(C)&4294967295;else by=O(C);jv[y]=by>>16|by&1}var gc=a6;if(hW>=1200)gc=O(C);var i8=H(C);
fO.b.Py.push({a4Q:iV,text:i8,ck:g0})}}else if(fO.YH=="arrw")fO.b=v(C);else if(fO.YH=="font"){var eS=C.w,az=q(C),g9=q(C),a3="";
C.w+=14;if(C.yf>=1200)a3=i(C);else a3=H(C);fO.b={id:az,a98:g9,name:a3};if(Q){var jb=eS+ez;while(C.data[C.w]==0)C.w++;
C.w+=2;var aY=i(C);while(C.data[C.w]==0)C.w++;while(C.data[C.w]<=2)C.w+=4;fO.b.Dx=i(C)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(fO.YH)!=-1){}else if(fO.YH=="flgs")fO.b=O(C);
else if(fO.YH=="bbox"){var g4=X(C),dl=X(C),ej=X(C),cn=X(C);fO.b=new hD(g4,dl,ej-g4,cn-dl)}else if(fO.YH=="fild"){var d_=O(C),gv;
if(hW>=1300)C.w+=8;var hZ=q(C);if(hZ==0){}else if(hZ==1){C.w+=hW>=1300?13:2;gv=J(C)}else if(hZ==2){C.w+=hW>=1300?8:2;
var jH=b(C),a0=0;if(hW>=1300){C.w+=17;a0=A(C)}else if(hW>=600){C.w+=19;a0=R(C)}else{C.w+=11;a0=A(C)}var e1=x(C),gn=.5+U(C),e5=.5+U(C)-.5;
if(hW>=600)C.w+=2;var ka=V(C)&255,fF=b(C)/100;C.w++;var ke=V(C)&65535;if(hW>=1300)C.w+=3;var iA=[];for(var y=0;
y<ke;y++){var eP=J(C);if(hW>=1400)C.w+=26;else if(hW>=1300)C.w+=5;var hl=(V(C)&65535)/100;if(hW>=1300)C.w+=3;
iA.push([hl,eP])}gv={typ:jH==1?"lin":"rad",crds:[gn-Math.cos(e1)/2,e5-Math.sin(e1)/2,gn,e5],grad:iA,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",hZ);
fO.b={id:d_,type:hZ,b:gv}}else if(fO.YH=="outl"){var jY=O(C);if(hW>=1300){var iG=0,el=0;while(iG!=1){C.w+=el;
iG=O(C);el=O(C)}}var iz=q(C),bd=q(C),iM=q(C);if(hW<1300&&hW>=600)C.w+=2;var cb=X(C),bk=q(C)/100;if(hW>=600)C.w+=2;
var jG=x(C);if(hW>=1300)C.w+=46;else if(hW>=600)C.w+=52;var gv=J(C);if(hW<600)C.w+=10;else C.w+=16;var et=q(C),dy=C.w,ce=[];
for(var y=0;y<et;++y)ce.push(q(C));if(hW<600)C.w=dy+20;else C.w=dy+22;var g2=O(C),gx=O(C);fO.b={id:jY,a5y:iz,ab2:bd,aah:iM,lineWidth:cb,color:gv,Q4:ce,aqP:g2,a85:gx}}else if(fO.YH=="mcfg"){if(1300<=hW)C.w+=12;
else if(900<=hW)C.w+=4;else if(600<=hW&&hW<700)C.w+=28;var hO=0,ko=0;if(hW<400){C.w+=2;var g4=X(C),dl=X(C),ej=X(C),cn=X(C);
hO=Math.abs(ej-g4);ko=Math.abs(cn-dl)}else{hO=X(C);ko=X(C)}fO.b={a8l:new jc(hO,ko)}}else if(fO.YH=="loda"||fO.YH=="lobj"){var hd=C.w,dm=V(C),gw=V(C),fJ=V(C),gS=V(C),fj=V(C),f$=[],kx=[],y=0,cF=null;
C.w=hd+fJ;while(y<gw)f$[y++]=V(C);C.w=hd+gS;while(y>0)kx[--y]=V(C);fO.b={};for(y=0;y<gw;y++){C.w=hd+f$[y];
var iK=kx[y];if(iK==30){if(hW>=400&&fj==1||hW<400&&fj==0){fO.b.path=n(C)}else if(hW>=400&&fj==2||hW<400&&fj==1){fO.b.path=D(C)}else if(hW>=400&&fj==3||hW<400&&fj==2){fO.b.path=M(C)}else if(fj==37){fO.b.path=e(C)}else if(hW>=400&&fj==4||hW<400&&fj==3){fO.b.a83=l(C)}else if(hW>=400&&fj==6||hW<400&&fj==5){fO.b.abk=u(C)}else console.log(fj)}else if(iK==20){if(hW<400)fO.b.a7p=p(C);
else fO.b.axJ=O(C)}else if(iK==10){if(hW<400)fO.b.ay6=a(C);else fO.b.apr=O(C)}else if(iK==200)fO.b.aBF=V(C);
else if(iK==100){if(hW<400)cF=P(C)}}if(cF&&fO.b.path)d.M.i(fO.b.path.z,cF,fO.b.path.z)}else if(fO.YH=="trfd"){var hd=C.w,dm=V(C),gw=V(C),fJ=V(C);
C.w=hd+fJ;var f$=[];for(var y=0;y<gw;y++)f$[y]=V(C);for(var y=0;y<gw;y++){C.w=hd+f$[y];if(hW>=1300)C.w+=8;
var aP=q(C);if(aP==8){var hf,ii,g4,eE,dR,dl;if(hW>=600)C.w+=6;if(hW>=500){hf=g(C);ii=g(C);g4=g(C)/(hW<600?1e3:254e3);
eE=g(C);dR=g(C);dl=g(C)/(hW<600?1e3:254e3)}else throw"e";fO.gr=new dF(hf,eE,ii,dR,g4,dl)}else console.log(aP)}}else if(!1){console.log(fO);
var j8=Math.min(fO.size,32);console.log(_.GD(k,fO.w,j8));console.log(_.a60(k,fO.w,j8))}}}function v(k){var C=O(k);
k.w+=4;var r=q(k);k.w+=4;var Q=[];for(var j9=0;j9<r;j9++)Q.push(b(k));k.w+=1;var a4=[];for(var ar=0;
ar<r;ar++){var ez=[];ez[1]=X(k);ez[0]=X(k);a4.push(ez)}var ja=s(a4,Q);Y[C]=ja}function P(k){var C=0,r=0,Q=0,j9=0,a4=0,ar=0;
if(k.yf>=300){var ez=k.w;k.w+=10;var ja=V(k);k.w=ez+ja;C=h(k);r=h(k);Q=R(k)/1e3;j9=h(k);a4=h(k);ar=R(k)/1e3}else{Q=X(k);
ar=X(k);C=h(k);r=h(k);Q+=h(k)/1e3;j9=h(k);a4=h(k);ar+=h(k)/1e3}return new dF(C,r,j9,a4,Q,ar)}function p(k){var C=b(k);
if(C==0)return null;else if(C==1)return J(k);else console.log(C)}function a(k){var C=b(k);C<<=1;var r=X(k),Q=q(k)/100,j9=x(k),a4=J(k);
return{a5y:C,lineWidth:r,color:a4,Q4:[],aqP:0,a85:0}}function D(k){var C=X(k),r=X(k),Q=x(k),j9=x(k),a4=d.M.Y0(d.j.OJ.MR(0,0,C,r));
return a4}function n(k){var C=k.yf,r=F(k),Q=F(k),j9=0,a4=0,ar=0,ez=0,ja=0,c3=1,hW=1;if(C<1500){ez=F(k);
ar=C<900?ez:F(k);a4=C<900?ez:F(k);j9=C<900?ez:F(k)}else{var fO=g(k);if(fO!=0)c3=fO;fO=g(k);if(fO!=0)hW=fO;
var ei=b(k);k.w+=7;if(ei==0){ez=g(k);ja=b(k);k.w+=15;ar=g(k);k.w+=16;a4=g(k);k.w+=16;j9=g(k);var fV=Math.abs(r*c3/2),aW=Math.abs(Q*hW/2);
ez*=fV<aW?fV:aW;ar*=fV<aW?fV:aW;a4*=fV<aW?fV:aW;j9*=fV<aW?fV:aW}else{ez=F(k);ja=b(k);k.w+=15;ar=F(k);
k.w+=16;a4=F(k);k.w+=16;j9=F(k)}}return d.M.Y0(d.j.OJ.Rect(0,0,r,Q,[j9,a4,ar,ez]))}function N(k){var C=O(k);
if(k.yf<1700)C*=2;k.w+=C;return""}function W(k){var C=O(k),Q=0;k.w+=37;var r=O(k);for(var y=0;y<r;y++){var j9=O(k);
Q=j9;k.w+=48;var a4=O(k);if(a4==1)k.w+=12*4;else k.w+=8;if(!C){k.w+=16;N(k)}}var ar={avU:Q,Py:[]},ez=O(k);
for(var ja=0;ja<ez;ja++){var c3=O(k),db="";k.w+=1;if(C)k.w+=1;var hW=N(k),fO=O(k);for(var y=0;y<fO;y++){k.w+=2;
var ei=q(k),fV=q(k);if(fV&4){var aW=O(k);aW*=2;k.w+=aW}if(ei||fV&4){var ee=N(k)}}var hM=O(k),ds=[];for(var y=0;
y<hM;y++){var cp=j(k)&4294967295;ds[y]=cp>>16|cp&1}var eA=O(k);for(var y=0;y<hM;y++){var js=ds[y]&7,bF=0;
if(js==0||js==2||js==4||js==6)bF=k.data[k.w++];else if(js==1||js==3)bF=k.data[k.w++]+k.data[k.w++]*256;
else throw js;db+=String.fromCharCode(bF)}var jI=db.split("\r");for(var y=0;y<jI.length;y++)ar.Py.push({text:jI[y],a4Q:c3,ck:[]})}return ar}function G(k,C){var r={},Q=O(k);
for(var y=0;y<Q;y++){var j9=O(k);k.w+=4;var a4=O(k);r[j9]=a4;if(C)k.w+=48}return r}function l(k){var C=X(k),r=X(k);
return new jc(C,r)}function u(k){k.w+=4;var C=X(k),r=X(k);return new jc(C,r)}function e(k){k.w+=4;var C=q(k)+q(k);
k.w+=16;var r=B(k,C);return r}function M(k){var C=q(k);k.w+=2;return B(k,C)}function B(k,C){var r=[],Q=[];
for(var y=0;y<C;y++)r.push([X(k),X(k)]);for(var y=0;y<C;y++)Q.push(b(k));return s(r,Q)}function s(k,C){var r={z:[],G:[]},Q=0,j9=0,a4=0;
for(var y=0;y<k.length;y++){var Q=k[y][0],j9=k[y][1],ar=C[y];if(!(ar&64)&&!(ar&128)){r.z.push(Q,j9);
r.G.push("M");a4+=2}else if(ar&64&&!(ar&128)){r.z.push(Q,j9);r.G.push("L");a4+=2}else if(!(ar&64)&&ar&128){r.z.push(Q,j9);
r.G.push("C");a4+=6}else if(ar&64&&ar&128){r.z.push(Q,j9)}}if(a4!=r.z.length)throw"e";return r}function t(k,C){var r=_.rT;
C+=8;var Q=r(k,C);C+=4;var j9=r(k,C);C+=4;C+=4*7;var a4=C,ar=d.R(Q*j9*4);C+=1024;for(var ez=0;ez<j9;
ez++)for(var ja=0;ja<Q;ja++){var y=ez*Q+ja,c3=(j9-ez-1)*Q+ja,hW=k[C+y]<<2,fO=c3<<2;ar[fO+0]=k[a4+hW+2];
ar[fO+1]=k[a4+hW+1];ar[fO+2]=k[a4+hW+0];ar[fO+3]=255}return{y3:ar,rect:new hD(0,0,Q,j9)}}function J(k){var C=k.yf,r=0,Q=0,j9=0;
if(C>=500){r=q(k);if(r==1&&C>=1300)r=25;if(r==30){r=25;Q=30}else{Q=q(k);k.w+=4}j9=O(k)}else if(C>=400)throw"e";
else{r=b(k);j9=O(k)}return L(r,Q,j9)}function L(k,C,r){var Q=[0,0,0];if(k==2||k==3||k==9||k==17){var j9=[r>>>0&255,r>>>8&255,r>>>16&255,r>>>24&255];
if(k==2)for(var y=0;y<4;y++)j9[y]=Math.round(255*j9[y]/100);for(var y=0;y<4;y++)j9[y]/=255;Q=UDOC.C.cmykToRgb(j9)}else if(k==1||k==5){Q=[r>>>0&255,r>>>8&255,r>>>16&255];
for(var y=0;y<3;y++)Q[y]=Q[y]/255;if(k==5)Q.reverse()}else console.log("Unknown color model "+k,r,r.toString(16));
return Q}return{qz:c}}(),ew=function(){var K,o,Y=new ArrayBuffer(4),c=new Uint8Array(Y),z=new Uint32Array(Y),f=new Float32Array(Y);
function $(A,R){for(var g=0;g<A.length;g++)if(A[g][0]==R)return A[g]}function E(){var A=0,R=0,g=0;do{g=K[o++];
A|=(g&127)<<R;R+=7}while(g&128&&R<35);return A>>>0}function b(A,R,g,H,i){K=A;o=R;var h=H[0]=="mesg",x=H[2],F={},X=1,V=h?1e9:x.length;
while(X<=V){var U=X;if(h){U=E();if(U==0)break}var Z=$(x,U),T=Z[2],v=Z[1]==1,P=v?E():1,p=new Array(P);
if(T==3){if(!v)throw"e";p=K.slice(o,o+P);o+=P}else for(var y=0;y<P;y++){var a;if((T&1)==1){if(T==1)a=K[o++]==1;
else if(T==3)a=K[o++];else if(T==5){var D=E();a=D&1?~(D>>>1):D>>>1}else if(T==7)a=E();else if(T==9){if(K[o]==0){a=0;
o++}else{c[0]=K[o];c[1]=K[o+1];c[2]=K[o+2];c[3]=K[o+3];var n=z[0];z[0]=n<<23|n>>>9;a=f[0];o+=4}}else if(T==11){var N=q(K,o);
a=N[0];o+=N[1]+1}else throw T}else{var W=g[T>>>1];if(W[0]=="enum"){var G=E();a=W[2][G]}else{var l=b(K,o,g,W,i+1);
a=l[0];o=l[1]}}p[y]=a}F[Z[3]]=v?p:p[0];X++}return[F,o]}function q(A,R){var g=R;while(A[g]!=0)g++;return[_.DI(new Uint8Array(A.buffer,R,g-R)),g-R]}function O(A,R){var g=R;
while(A[g]!=0)g++;for(var y=R;y<g;y++)if(A[y]>127)throw"e";return _.H9(A,R,g-R)}function j(A){K=A;o=1;
var R=[];while(o<A.length){var g=o,H=R.length,i=O(A,o);o+=i.length+1;var h=E();if(h>2)throw"e";var x=E(),F=[];
for(var y=0;y<x;y++){var X=O(A,o);o+=X.length+1;var V=E(),U=E(),Z=E();F.push(h==0?X:[Z,U,V,X])}R.push([["enum","strc","mesg"][h],i,F])}return R}return{aD6:j,a3g:b}}();
function jJ(){}jJ.qz=function(K,o){var Y=Date.now(),c=new Uint8Array(K),z=8,f,j=0,l=0;if(c[0]==80&&c[1]==75){f=UZIP.parse(K);
c=f["canvas.fig"]}var $=_.rT(c,z);z+=4;var E=[];while(z<c.length){var b=_.rT(c,z);z+=4;var q=c.slice(z,z+b);
if(c[z]==137&&c[z+1]==80){}else q=UZIP.inflateRaw(q);E.push(q);z+=b}var O=ew.aD6(E[0]);for(var y=0;y<O.length;
y++)if(O[y][1]=="Message")j=y;var A=ew.a3g(E[1],0,O,O[j],0)[0],R={UM:{},iU:{},agt:{},ed:f},g=A.nodeChanges;
for(var H=0;H<g.length;H++){var i=g[H],h=i.guid;R.iU[h.sessionID+","+h.localID]=i}for(var H=0;H<g.length;
H++){var i=g[H],h=i.parentIndex;if(h){var x=jJ.E4(R.iU,h.guid);if(x.children==null)x.children=[];x.children.push(i)}}var F=g[0],X=F.children,V=new hD,U=[],Z=[];
for(var h=0;h<X.length;h++){var T=X[h],v=T.children;if(T.name=="Internal Only Canvas"||v==null)continue;
var P=new hD;for(var y=0;y<v.length;y++){var p=v[y],a=p.transform,D=p.size;if(a.m00==1&&a.m10==0&&a.m01==0&&a.m11==1){var n=new hD(a.m02,a.m12,D.x,D.y);
P=P.Bb(n)}}var N=V.e==0?0:V.e+100,W=P.clone();W.x=0;W.y=N;V=V.Bb(W);U[h]=P;Z[h]=N}var G=iS.a2(new hD(0,0,V.m,V.e),8192*8192);
o.m=Math.round(V.m/G);o.e=Math.round(V.e/G);o.buffer=d.R(o.m*o.e*4);for(var h=0;h<X.length;h++){var T=X[h],v=T.children;
if(T.name=="Internal Only Canvas"||v==null)continue;v.sort(jJ.aAP);var u=new dF(1,0,0,1,-U[h].x,Z[h]-U[h].y);
u.scale(1/G,1/G);for(var y=0;y<v.length;y++){var p=v[y];jJ.ce(p,[],u,A.blobs,o,0,R);l++}}o.Y4(l);o.$P=!0;
if(G!=1)alert("File scaled down "+G+"x")};jJ.ce=function(K,o,Y,c,z,f,$){var E=jJ,P=!1,p,n=!1,N,W;o=JSON.parse(JSON.stringify(o));
var b=K.overrideKey?K.overrideKey:K.guid;for(var y=0;y<o.length;y++){var q=o[y],O=q.guidPath.guids;if(E.amV(O[0],b)){if(O.length==1){var j={};
for(var A in K)j[A]=q[A]!=null?q[A]:K[A];K=j}else q.guidPath.guids=O.slice(1)}}var R=K.type,g=K.children,H=K.size,i=K.effects,h=z.Uu();
h.vd(K.name);h.dt(K.visible);h.opacity=Math.round(K.opacity*255);var x=E.T5(K.transform),F=x.clone();
F.concat(Y);if(H==null)H={x:0,y:0};var X=new hD(Math.round(F.B3),Math.round(F.Z7),Math.round(H.x*F._8()),Math.round(H.y*F._8()));
if(X.m==0||isNaN(X.m))X.m=100;if(X.e==0||isNaN(X.e))X.e=100;var V=K.fillPaints,U=K.inheritFillStyleID;
if(U){var j=E.E4($.iU,U);if(j)V=j.fillPaints}if(V==null)V=[];var V=E.ar6(V),Z=V[0],T=K.strokePaints,U=K.inheritFillStyleIDForStroke;
if(U){var j=E.E4($.iU,U);if(j)T=j.fillPaints}if(T==null)T=[];var T=E.ar6(T),v="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(R)!=-1;
if(v||R=="FRAME"){p=new S.kZ;E.al3(K,c,p);P=d.j.Nq(p.$);d.j.k3(p.$,F);var a=d.M.tS(d.j.QJ(p.$));if(!a.xf())X=a;
if($.UM.Ah&&Z){var D=S.kZ.ge($.UM.Ah.$);for(var y=2;y<D.length;y++)if(D[y].fa!=null)D[y].fa=3;p.$=p.$.concat(D.slice(2))}}if(Z&&Z.type=="IMAGE"){W=Z.imageScaleMode;
n=!0;var G=Z.originalImageWidth,l=Z.originalImageHeight;if(G*l==0){var u=E.Gl(c,jJ.S_(Z),$);G=u.eQ.m;
l=u.eQ.e}var e=G/l,M=H.x/H.y;N=Math.abs(e-M)}if(R=="FRAME"){}else if(v&&P&&n&&(W=="FIT"||W=="FILL"&&N<=.05||W=="STRETCH"&&N<=.05)){var B=E.Gl(c,jJ.S_(Z),$,!0),s=z.o3(B,h.getName(),0,0);
s.Gh=h.Gh;s.opacity=h.opacity;h=s;var t=new hD(0,0,H.x,H.y);if(W=="FIT"){var J=Z.originalImageWidth,L=Z.originalImageHeight,k=Math.min(H.x/J,H.y/L),C=J*k,r=L*k;
t=new hD(t.x+(t.m-C)/2,t.y+(t.e-r)/2,C,r)}var Q=d.M.Yq(t).z;d.M.i(Q,F,Q);h.add.SoLd.Trnf=m.OB.c5(Q);
h.add.SoLd.nonAffineTransform=m.OB.c5(Q);var j9=[],i=K.effects,a4=Z.paintFilter;if(i)for(var y=0;y<i.length;
y++)if(i[y].type=="FOREGROUND_BLUR"){var ar=i[y],ez=fn.PU("GsnB",{});j9.push(ez);ez.v.enab.v=ar.visible;
ez.v.Fltr.v.Rds.v.val=ar.radius/2.4}if(a4&&a4.exposure!=0){var ez=fn.PU("brit",{});j9.push(ez);ez.v.Fltr.v.Brgh.v=Math.round(a4.exposure*160);
ez.v.Fltr.v.useLegacy.v=!0}if(a4&&a4.vibrance!=0){var ez=fn.PU("vibA",{});j9.push(ez);ez.v.Fltr.v.Strt.v=Math.round(Math.round(a4.vibrance*100))}if(j9.length!=0){h.add.SoLd.filterFX=fn.iJ();
z.qj({id:h.add.SoLd.placed.v,rect:new hD,buffer:d.R(1),F:new S.tp});h.add.SoLd.filterFX.v.filterFXList.v=j9}h.Mc(z,!1);
E.auo($,h,z)}else if(v){E.a12(h,p,K,Z,T,F,X,c,z,$);if(i)for(var y=0;y<i.length;y++){var ar=i[y];if(ar.type!="FOREGROUND_BLUR")continue;
p.cG=ar.radius/2.4}h.D8();h.WG(z)}else if(R=="TEXT"){var ja=K.textData,c3=ja.layoutSize,hW=["LEFT","RIGHT","CENTER"].indexOf(K.textAlignHorizontal);
h.add.lnsr="rend";h.add.TySh=b_.HO(0,0);h.add.TySh.jT=new hD(0,0,100,100);var fO=F.clone();h.add.TySh.i=fO;
var ei=h.add.TySh.e9,fV=ja.characters;if(K.textCase=="TITLE"){for(var y=0;y<fV.length;y++)if(y==0||fV[y-1]==" "){var aW=fV.slice(0,y),ee=fV.slice(y+1);
fV=aW+fV[y].toUpperCase()+ee}}fV=fV.replace(/\u2028/g,"\n");fV=fV.replace(/\u2029/g,"\n");fV=fV.replace(/\r\n/g," \n");
b_.Df(ei,0,fV);var hM=K.textAutoResize,ds=ja.baselines;if(hM=="WIDTH_AND_HEIGHT"){var cp=hW==0?0:hW==1?c3.x:c3.x/2,eA=ds?ds[0].position.y:0;
fO.translate(cp*F._8(),eA*F._8());b_.go(ei,0)}else if(hM=="HEIGHT"||hM=="NONE"||hM==null){var eA=ds?ds[0].position.y-K.fontSize*.7:0;
fO.translate(0,eA*F._8());b_.go(ei,1);b_.X$(ei,[0,0,Math.round(c3.x),Math.round((hM=="NONE"?1.8:1)*c3.y)])}else throw hM;
if(fV!=""){var db=b_.Sw(ei,0,1);E.aB_(K,F,H,db,h,c,z,$);b_.K2(ei,0,fV.length,db);var js=ja.characterStyleIDs,bF=ja.styleOverrideTable;
if(js){js=js.slice(0);for(var y=0;y<js.length;y++)if(fV[y]=="\n")js[y]=-y-1;var jI=[0],gF=0,b6=0;for(var y=0;
y<js.length;y++){b6++;var ji=js[y];if(y==0||ji==js[y-1]){}else{jI.push(b6-1,y);b6=1}}jI.push(b6);for(var y=0;
y<jI.length;y+=2){var hd=jI[y],eZ=jI[y+1];if(fV[hd]=="\n")continue;var ji=js[hd];if(ji!=0){var hj;for(var eK=0;
eK<bF.length;eK++)if(bF[eK].styleID==ji)hj=bF[eK];var db=b_.Sw(ei,hd,hd+1);E.aB_(hj,F,H,db,h,c,z,$);
b_.K2(ei,hd,hd+eZ-1,db)}}}}}else if(R=="SYMBOL"){}else if(R=="INSTANCE"){var cX=K.symbolData,bW=cX.symbolOverrides,j=E.E4($.iU,cX.symbolID);
if(j)g=j.children;else console.log(K.name,"symbol not found",cX.symbolID);o=o.slice(0);for(var y=0;y<bW.length;
y++)o.push(bW[y])}else console.log(R);if(!1){}else if(g&&!v){z.B.push(z.uR());var ju=!1,ci=f==0&&R!="SYMBOL"&&R!="INSTANCE";
if(ci){if(X.xf())console.log(X);h.HL(X)}Z=V[V.length-1];if(ci&&Z&&Z.type=="SOLID"){var hH=Z.color;h.add.artb.artboardBackgroundType.v=4;
h.add.artb.Clr=E.gP(hH)}else if((Z||T[0])&&p){var b8=z.Uu();b8.vd("Background");E.a12(b8,p,K,Z,T,F,X,c,z,$);
b8.D8();b8.WG(z);z.B.push(b8);ju=!0}g.sort(E.aAP);var gh=$.UM;$.UM={};for(var aN=0;aN<g.length;aN++)E.ce(g[aN],o,F,c,z,f+1,$);
$.UM=gh;h.add.lsct=!1?eo.bl:eo.g5;h.YF="pass";var eS=h.KL();h.Gh=24;h.dt(eS);var b2=f!=0&&V.length!=0&&!K.frameMaskDisabled&&K.containerSupportsFillStrokeAndCorners;
if(!ju&&b2&&p){h.add.vmsk=p;h.D8();h.WG(z)}else E.auo($,h,z);z.B.push(h)}else if(K.mask){if(p){$.UM.Ah=p}}else{var fZ=[],j7=1;
if(i)for(var dw=0;dw<i.length;dw++){var ar=i[dw],ib=ar.color,eJ=ar.type,df=["DROP_SHADOW","INNER_SHADOW"].indexOf(eJ);
if(df!=-1){var k5=["DrSh","IrSh"][df],eC=JSON.parse(eF.NF[eF.order.indexOf(k5)]);fZ.push([k5,eC]);eC.enab.v=ar.visible;
eC.Md.v.BlnM=jw.OM(E.aek(ar.blendMode));eC.Opct.v.val=Math.round(100*ib.a);eC.blur.v.val=Math.round(ar.radius*F._8());
eC.Clr=E.gP(ib);var cp=ar.offset.x,eA=ar.offset.y;eC.uglg.v=!1;eC.lagl.v.val=Math.round(180/Math.PI*Math.atan2(eA,-cp));
eC.Dstn.v.val=Math.round(Math.sqrt(cp*cp+eA*eA)*F._8())}}if(R=="TEXT"&&V[0]&&V[0].type!="SOLID")j7=0;
for(var y=j7;y<V.length;y++){var cK=V[y],bw=E.eN(K,cK,F,X,c,z,$);if(bw[0]=="GdFl")fZ.push(["GrFl",bw[1]]);
else if(bw[0]=="SoCo")fZ.push(["SoFi",bw[1]]);else if(bw[0]=="PtFl")fZ.push(["patternFill",bw[1]]);else if(bw[0]=="None"){}else throw bw}if(!v)for(var y=0;
y<T.length;y++){var cK=T[y],bw=E.eN(K,cK,F,X,c,z,$);if(bw[0]=="SoCo"){var eC=JSON.parse(eF.NF[eF.order.indexOf("FrFX")]);
fZ.push(["FrFX",eC]);eC.enab=bw[1].enab;eC.Opct=bw[1].Opct;eC.Md=bw[1].Md;eC.Clr=bw[1].Clr;eC.Sz.v.val=K.strokeWeight}}if(fZ.length!=0){var f6=JSON.parse(eF.default);
for(var y=0;y<eF.order.length;y++)f6[eF.nk[y]]={t:"VlLs",v:[]};for(var y=0;y<fZ.length;y++){var iF=fZ[y],k5=eF.nk[eF.order.indexOf(iF[0])];
f6[k5].v.unshift({t:"Objc",v:iF[1]})}if(g==null)h.add.lmfx=f6}z.B.push(h)}};jJ.a12=function(K,o,Y,c,z,f,$,E,b,q){var O=jJ;
K.Gh|=16;K.add.vmsk=o;var j=K.add.vstk=eF.oc.Ta(),A=O.eN(Y,c,f,$,E,b,q);j.fillEnabled.v=A[0]!="None";
if(A[0]=="None"){K.add.SoCo=A[1]}else{O.Wm(A,K);K.add[A[0]]=A[1]}var A=O.eN(Y,z[0],f,$,E,b,q);if(A[0]!="None"){var j=K.add.vstk;
j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=Y.strokeWeight*f._8();j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eF.oc.Nv[["INSIDE","CENTER","OUTSIDE"].indexOf(Y.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[A[0]],g=["SoFi","GrFl","patternFill"].indexOf(R),H=[eF.u4,eF.Eo,eF.Jo][g];
j.strokeStyleContent.v={classID:eF.oc.OV[0]};var i=Y.dashPattern;if(i)j.strokeStyleLineDashSet.v=eq.XP(i,1/Y.strokeWeight);
var h=j.strokeStyleContent.v={classID:eF.oc.OV[g]};for(var y=0;y<H.length;y++)h[H[y]]=A[1][H[y]];if(!j.fillEnabled.v)O.Wm(A,K)}};
jJ.Wm=function(K,o){var Y=K[1].Opct.v.val;if(Y!=100)o.opacity=Math.round(o.opacity/255*(Y/100)*255)};
jJ.aAP=function(K,o){var Y=K.parentIndex.position,c=o.parentIndex.position;return Y>c?1:-1};jJ.ar6=function(K){for(var y=1;
y<K.length;y++){var o=K[y];if(o.type=="IMAGE"&&o.opacity==1){K=K.slice(y);break}}for(var y=0;y<K.length;
y++){var o=K[y],Y=o.imageThumbnail;if(o.type=="IMAGE"&&(o.image==null||o.image.dataBlob==null)&&Y&&Y.dataBlob)o.image=Y;
if(!o.visible){K.splice(y,1);y--}}return K};jJ.auo=function(K,o,Y){if(K.UM.Ah){o.add.vmsk=K.UM.Ah.clone();
o.D8();o.WG(Y)}};jJ.aB_=function(K,o,Y,c,z,f,$,E){var b=K.fontSize,q=K.lineHeight,O=K.fontName,j=K.textAlignHorizontal,A=K.textTracking,R=K.textCase,g=K.textDecoration;
if(b==null)b=c.Pf.FontSize;if(O){var H=O.postscript;if(H==""){var i=O.family,h=O.style;H=i.split(" ").join("")+"-"+h}b_.iN(c,H)}if(b!=null)c.Pf.FontSize=Math.round(b);
if(g=="UNDERLINE")c.Pf.Underline=!0;if(A)c.Pf.Tracking=Math.round(A*1e3);if(R)c.Pf.FontCaps=R=="UPPER"?2:0;
if(q&&(q.units!="PERCENT"||q.value!=100)){if(b==null)b=15;var x=q.value;if(q.units=="PERCENT")x=1*b*x/100;
if(q.units=="RAW")x=1*b*x;c.Pf.AutoLeading=!1;c.Pf.Leading=Math.round(x)}if(j)c.Nd.Justification=["LEFT","RIGHT","CENTER"].indexOf(j);
var F=K.fillPaints,X=K.inheritFillStyleID;if(X){var V=jJ.E4(E.iU,X);if(V)F=V.fillPaints}if(F&&F[0]){var U=jJ.eN(K,F[0],o,Y,f,$,E);
if(U[0]=="SoCo"){var Z=d.H.CK(U[1].Clr.v);c.Pf.FillColor={Type:1,Values:[1,Z.o/255,Z.A/255,Z.J/255]};
jJ.Wm(U,z)}}};jJ.eN=function(K,o,Y,c,z,f,$){var E=jJ,b,q,O=K.size;if(O==null)O={x:0,y:0};if(o){var j=o.type,A=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(j);
if(j=="SOLID"){b="SoCo";var R=o.color;q=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);q.Clr=E.gP(R)}else if(A!=-1){var g=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),H=g.Grad.v;
H.Intr.v=0;g.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][A];var i=[],h=o.stops;for(var y=0;y<h.length;y++){var x=h[y],F=x.color;
i.push([x.position,[F.r,F.g,F.b],F.a])}d.H.zZ(i,H);var X=E.T5(o.transform);X.oD();var V=X.clone();if(O)V.scale(O.x,O.y);
V.concat(Y);var U=new jc(0,.5),Z=new jc(1,.5);U=V.qc(U);Z=V.qc(Z);if(!0){U.x=Z.x+.5*(U.x-Z.x);U.y=Z.y+.5*(U.y-Z.y)}d.H.M9(U,Z,c,g);
if(A==3){if(V.g*V.gG-V.J*V.b0<0)g.Rvrs.v=!g.Rvrs.v}b="GdFl";q=g}else if(j=="IMAGE"){var g=JSON.parse(eF.NF[eF.order.indexOf("patternFill")]),X=E.T5(o.transform);
X.oD();var T=jJ.S_(o),v=$.agt[T];if(v==null){var P=E.Gl(z,T,$);v=$.agt[T]={};v.id=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";
v.JN=[new Uint8Array(P.data),P.eQ];if(X.g<0){var p=v.JN[0].slice(0);d.D.D_(p,v.JN[0],P.eQ.m,P.eQ.e)}v.name="someImage";
f.AG(v)}if(X.g<0)X.g=-X.g;var a=["FILL","FIT","STRETCH","TILE"].indexOf(o.imageScaleMode),D=a==3?o.scale:1;
eq.aqo(v,g,O.x,O.y,a,Y,X,D);b="PtFl";q=g}else throw j;if(q)q.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(o.opacity*100)}}}if(b==null||o.opacity<.001){b="None";
q={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:0,A:0,J:0})}}}return[b,q]};jJ.S_=function(K){var o=K.image,Y=o.dataBlob;
if(Y==null){Y="";for(var y=0;y<20;y++)Y+=o.hash[y].toString(16).padStart(2,"0")}return Y};jJ.Gl=function(K,o,Y,c){if(K[o]){var z=K[o];
if(c)return z.bytes;if(z.rslt)return z.rslt;var f=z.bytes.buffer;z.rslt=jJ.arb(f);return z.rslt}else{if(c)return Y.ed["images/"+o];
var f=Y.ed["images/"+o].buffer;if(Y.ed["images/-"+o])return Y.ed["images/-"+o];Y.ed["images/-"+o]=jJ.arb(f);
return Y.ed["images/-"+o]}};jJ.arb=function(K){var o=fv.sR(K);if(o=="fpng")o="png";var Y=fv.WD(o);try{return Y.MW(K)[0]}catch(es){return{data:d.R(4),eQ:new hD(0,0,1,1)}}};
jJ.al3=function(K,o,Y){var c=K.type,z=K.size,f=K.cornerRadius,q;if(f==null)f=0;var $=z.x,E=z.y,b=[f,f,f,f],O=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var y=0;y<4;y++)if(K[O[y]]!=null)b[y]=K[O[y]];if(c=="RECTANGLE"||c=="ROUNDED_RECTANGLE"||c=="FRAME"){q=d.j.OJ.Rect(0,0,$,E,b)}else if(c=="ELLIPSE"){var j=K.arcData,A=j?j.startingAngle:0,R=j?j.endingAngle:2*Math.PI,g=j?j.innerRadius:0;
if(A==0&&R>1.999*Math.PI)q=d.j.OJ.MR(0,0,$,E,0);else q=d.j.OJ.acP($/2,E/2,E/2,A,R);if(g!=0&&g!=1){var H=S.kZ.ge(q).slice(3);
H.reverse();for(var y=0;y<H.length;y++){var i=H[y],h=i.KK;i.KK=i.eb;i.eb=h}var x=new dF;x.translate(-$/2,-E/2);
x.scale(g,g);x.translate($/2,E/2);d.j.k3(H,x);q=q.concat(H);q[2].length*=2}}else if(c=="LINE"){q=d.j.OJ.Rect(0,0,$,E,0);
q.pop();q.pop();q[2].length=2}else if(c=="STAR"){q=d.j.OJ.a5A($/2,E/2,$/2,2*Math.PI*(1/4),5,0,K.starInnerScale)}else if(c=="REGULAR_POLYGON"){q=d.j.OJ.E0(.5,.5,.5,Math.PI/2,K.count,0);
var F=new dF;F.scale($,E);d.j.k3(q,F)}else if(c=="BOOLEAN_OPERATION"){q=[{type:6},{type:8,all:0}];var X=K.children,V=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(K.booleanOperation);
if(V==-1)throw K;if(X==null)X=[];for(var y=0;y<X.length;y++){var U=X[y],Z=new S.kZ,T=jJ.al3(U,o,Z);if(Z.$==null)continue;
d.j.k3(Z.$,jJ.T5(U.transform));q=q.concat(Z.$.slice(2))}for(var y=3;y<q.length;y++)if(q[y].fa!=null)q[y].fa=V}else if(c=="VECTOR"){var v,P,M=3;
if(!0){var p=K.vectorData;if(p==null)return;v=p.normalizedSize;P=p.vectorNetworkBlob}var a=o[P].bytes,D=new Uint32Array(a.buffer),n=new Float32Array(a.buffer),N=D[0],W=D[1],G=D[2],l=[],u=[],e=[],B=M+N*3,s=B+W*7;
for(var y=0;y<N;y++){var t=M+y*3,J=new jc(n[t+1],n[t+2]);l.push(J)}for(var y=0;y<W;y++){var L=B+y*7;
u.push([D[L+0],D[L+1],n[L+2],n[L+3],D[L+4],n[L+5],n[L+6]])}for(var y=0;y<G;y++){var k=D[s+1],C=e[y]=[];
s+=2;for(var r=0;r<k;r++){var Q=D[s++],j9=C[r]=[];for(var a4=0;a4<Q;a4++)j9[a4]=D[s+a4];s+=Q}}if(s!=D.length)throw"e";
if(G==0){var ar=-1;for(var y=0;y<W;y++){if(ar==-1){}else{var ez=-1;for(var r=y;r<W;r++)if(u[r][4]==ar)ez=r;
for(var r=y;r<W;r++)if(u[r][1]==ar)ez=r;if(ez!=-1){var ja=0,h=u[ez];u[ez]=u[y];u[y]=h;if(h[1]!=ar){ja=h[1];
h[1]=h[4];h[4]=ja;ja=h[2];h[2]=h[5];h[5]=ja;ja=h[3];h[3]=h[6];h[6]=ja}}}ar=u[y][4]}e.push([[]]);for(var y=0;
y<W;y++)e[0][0].push(y)}var c3=[],hW=[];for(var fO=0;fO<e.length;fO++){for(var fV=0;fV<e[fO].length;
fV++){var aW=e[fO][fV],ee=0;if(aW.length>1){var hM=u[aW[0]],ds=u[aW[1]];ee=hM[4]==ds[1]?1:0}for(var y=0;
y<aW.length;y++){var cp=u[aW[y]],eA=1,db=4;if(ee==0){eA=4;db=1}var js=l[cp[eA]],bF=l[cp[db]];if(y==0){hW.push("M");
c3.push(js.x,js.y)}hW.push("C");c3.push(js.x+cp[eA+1],js.y+cp[eA+2],bF.x+cp[db+1],bF.y+cp[db+2],bF.x,bF.y)}}}q=d.M.eX({z:c3,G:hW},!1);
if(f!=0){var b=[],jI=q[2].length;for(var y=0;y<jI;y++)b.push(f);if(d.j.xo(q))d.j.xF(q,2,b)}var gF=new dF;
gF.scale(v.x==0?1:z.x/v.x,v.y==0?1:z.y/v.y);d.j.k3(q,gF)}Y.$=q};jJ.E4=function(K,o){return K[o.sessionID+","+o.localID]};
jJ.amV=function(K,o){return K.sessionID==o.sessionID&&K.localID==o.localID};jJ.aek=function(K){var o={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[K];
if(o==null)throw K;return o};jJ.gP=function(K){return{t:"Objc",v:d.H.eD({o:K.r*255,A:K.g*255,J:K.b*255})}};
jJ.T5=function(K){if(K==null)return new dF;var o=[K.m00,K.m10,K.m01,K.m11,K.m02,K.m12];for(var y=0;y<6;
y++)if(Math.abs(o[y])<1e-20)o[y]=0;return new dF(o[0],o[1],o[2],o[3],o[4],o[5])};function km(){}km.qz=function(){var K=_.H9;
function o(R,g,H,i){var h=i?[]:{};while(g<R.length-1&&R[g]!=125){var x=K(R,g,3),F=K(R,g+3,1),X;g+=4;
g++;if(F=="v"){var V=o(R,g,H+1,x=="ELM"||x=="TIL");X=V.b;g=V.w}else if(F=="i"||F=="f"){var U=g;while(R[U]!=125)U++;
var Z=K(R,g,U-g);X=F=="i"?parseInt(Z,16):parseFloat(Z);g=U+1}else if(F=="s"){var T=_.vP(R,g),Z="";g+=2;
for(var y=0;y<T;y++)Z+=String.fromCharCode(R[g+2*y+1]);X=Z;g=g+2*T+1}else if(F=="b"){X=R[g]==49;g=g+2}else throw"e";
if(i)h.push([x,X]);else if(h[x]==null)h[x]=X;else{if(!(h[x]instanceof Array))h[x]=[h[x]];h[x].push(X)}}g++;
return{b:h,w:g}}function Y(R,g){var H=c(R).slice(1),R=g.Clr.v;R.Rd.v=H[0]*255;R.Grn.v=H[1]*255;R.Bl.v=H[2]*255}function c(R){return[(R>>>24&255)/255,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}function z(R,g){var H=g&4278190080|(g&255)<<16|(g>>>8&255)<<8|g>>>16&255;
new Uint32Array(R.buffer).fill(H)}function f(R,g){var H=R.TSZ,i=R.WPX,h=R.HPX,x=R.TIL,F=new hD(0,0,i,h),X=d.R(i*h*4),V=0;
for(var U=0;U<h;U+=H)for(var Z=0;Z<i;Z+=H){var T=new hD(Z,U,H,H),v,P=x[V];if(P[0]=="TMC"){v=d.R(T.Z()*4);
z(v,P[1])}else if(P[0]=="TID"){v=g[P[1]]}d.iF(v,T,X,F);V++}return[X,F]}function $(R,g){R=new Uint8Array(R);
var H=8,i,h={},W=0;while(H<R.length){var x=_.s(R,H);H+=4;var F=K(R,H,4);H+=4;if(F=="mkTS"){var X=pako.inflate(R.slice(H,H+x)),V=o(X,0,0);
i=V.b}else if(F=="mkBT"){var U=_.s(R,H+4),Z=_.s(R,H+8),X=pako.inflate(R.slice(H+76,H+x));if(Z==0)for(var y=0;
y<X.length;y+=4){var T=X[y],v=X[y+1],P=X[y+2],p=X[y+3];X[y+3]=T;X[y+2]=p;X[y+1]=P;X[y]=v}else{var a=d.R(X.length*4);
a.fill(255);d.xI(X,a);X=a}h[U]=X}H+=x+4}var D=i.PDC,n=D?D instanceof Array?D:[D]:[i.MKB],N=new hD;for(var y=0;
y<n.length;y++){var G=n[y];N=N.Bb(new hD(0,W,G.WID,G.HIT));W+=G.HIT+100}g.m=N.m;g.e=N.e;g.buffer=d.R(N.Z()*4);
g.Y4(n.length);W=0;for(var l=0;l<n.length;l++){g.B.push(g.uR());var G=n[l],u=G.WID,e=G.HIT,M=G.BGC,B=(G.LYL?G:i).LYL.LAY,J=3;
for(var y=0;y<B.length;y++)b(B[y],g,null,h,new dF(1,0,0,1,-G.XLC,-G.YLC+W));var s=g.Uu();g.B.push(s);
var t=new hD(0,W,u,e);W+=e+100;s.HL(t);if(M>>>24!=0){var L=d.H.eD({o:M>>>16&255,A:M>>>8&255,J:M>>>0&255});
s.add.artb.Clr={t:"Objc",v:L};J=4}s.add.artb.artboardBackgroundType.v=J;s.vd(G.PGN?G.PGN:"Page "+(l+1));
s.add.lsct=eo.g5;s.YF="pass";s.Gh=24}}function E(R,g,H){var i=R[g];return i instanceof Array?i[H]:i}function b(R,g,H,i,h){var x=g.Uu();
if(R.VIS!=null)x.dt(R.VIS);if(R.VIF!=null)x.dt(R.VIF.VIS);if(R.OPA!=null)x.opacity=Math.round(255*R.OPA/1e3);
x.YF=R.CLL||H=="GRP"?"pass":"norm";if(R.BLD!=null){var F=R.BLD,X={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[F+""];
if(X==null)console.log(R.OBN,F);else x.YF=X;if(F==30)x.opacity>>>=1}if(R.CLL){x.vd(R.LNM);g.B.push(g.uR());
var V=R.CLL.CEL;if(V.length==null)V=[V];for(var U=V.length-1;U>=0;U--){var Z=V[U].ELM;for(var y=Z.length-1;
y>=0;y--)b(Z[y][1],g,Z[y][0],i,h)}x.add.lsct=R.DIS?eo.bl:eo.g5;x.Gh|=24}else if(H=="GRP"){var T=x.add.lmfx=O(R.EFL),v;
g.B.push(g.uR());var Z=R.ELM;if(R.MNA){v=Z[0][1];Z=Z.slice(1)}x.vd("Group: "+Z.length+" objects");for(var y=Z.length-1;
y>=0;y--)b(Z[y][1],g,Z[y][0],i,h);if(v){if(R.MRX){var P=f(v,i),p=x.F=new S.tp;p.rect=P[1].clone();p.rect.x=v.XLC;
p.rect.y=v.YLC+h.Z7;p.channel=d.R(p.rect.Z());d.JI(P[0],p.channel,0);d.oD(p.channel)}else{q(x,v,h);x.D8();
x.WG(g)}}x.add.lsct=eo.g5;x.Gh|=24}else if(H=="IMG"){x.vd(R.OBN?R.OBN:"Bitmap");var P=f(R,i);x.rect=P[1].clone();
x.rect.x=R.XLC;x.rect.y=R.YLC+h.Z7;x.buffer=P[0]}else if(H=="TXT"){var a=R.TFS,D=a.TRN instanceof Array?a.TRN.length:1,G="",l="Arial",u=20,e=0;
x.add.lnsr="rend";x.add.TySh=b_.HO(0,0);x.add.TySh.jT=new hD(0,0,100,100);var n=new dF(1,0,0,1,R.LFT,R.TOP);
if(R.MTX){var N=R.MTX,p=new dF(N.M00,N.M01,N.M10,N.M11,N.M20,N.M21);n.concat(p)}n.concat(h);x.add.TySh.i=n;
var W=x.add.TySh.e9;for(var y=0;y<D;y++){var M=E(a,"TRN",y);if(M==null)continue;M=M.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
M=M.replaceAll("\x03","\n").replaceAll("\r","\n");b_.Df(W,G.length,M);var B=b_.Sw(W,0,1),s=E(a,"FON",y);
if(s)l=s;b_.iN(B,l);var t=E(a,"PTS",y);if(t!=null)u=t;B.Pf.FontSize=Math.round(u);var J=E(a,"LED",y);
if(J!=null){B.Pf.Leading=J*u;B.Pf.AutoLeading=!1}var L=E(a,"UND",y);if(L!=null){B.Pf.Underline=L}var k=E(a,"ITL",y);
if(k!=null){B.Pf.FauxItalic=k}var C=E(a,"FCL",y);if(C!=null)e=C;B.Pf.FillColor={Type:1,Values:c(e)};
var r=E(a,"JST",y);if(r!=null)B.Nd.Justification=[0,2,1,3,5,4,6,7,8][r];b_.K2(W,G.length,G.length+M.length,B);
G+=M}x.vd(G.slice(0,255));var Q=R.RIT-R.LFT,j9=R.BOT-R.TOP;if(R.IMG){b(R.IMG,g,"IMG",i,h);var a4=g.B.pop();
x.buffer=a4.buffer;x.rect=a4.rect.clone()}b_.go(W,1);b_.X$(W,[0,0,Q,j9])}else if(H=="PTH"){x.vd(R.OBN?R.OBN:"Path");
x.Gh|=16;var ar=!1;q(x,R,h);var ez=x.add.vmsk,ja=x.add.vstk,c3=d.j.QJ(ez.$),hW=R.PAT,fO=hW.BPL,ei=hW.FPL,fV=hW.TXF;
if(ei&&ei.FEF)ez.cG+=ei.FEF/2.4;if(fO){var aW=fO.CAT;ja.strokeEnabled.v=!0;ja.strokeStyleLineWidth.v.val=fO.BDI;
ja.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eF.oc.Nv[R.BRP];Y(hW.BCL,ja.strokeStyleContent.v);
if(aW!="bc_Basic"&&aW!="bc_Pencil")ar=!0}ja.fillEnabled.v=ei!=null;if(ei==null){x.add.SoCo=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);
Y(0,x.add.SoCo)}else if(ei.CAT=="fc_Solid"){x.add.SoCo=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);Y(R.PAT.FCL,x.add.SoCo)}else if(ei.CAT=="fc_Linear"||ei.CAT=="fc_Circular"||ei.CAT=="fc_Elliptical"){var ee=ei.CAT=="fc_Linear",hM=x.add.GdFl=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),ds=hM.Grad.v,cp=[],eA=ei.FGL,db,js=[];
if(eA.FGY){var bF=eA.FGY,db=bF.FG0.FGI,js=bF.FG1.FGI}else db=eA.FGV.FGI;for(var y=0;y<db.length;y++){var jI=db[y],gF=c(jI.FGC),b6=1;
if(js.length==db.length)b6=c(js[y].FGC)[0];cp.push([jI.FGP,gF.slice(1),b6])}hM.Type.v.GrdT=ee?"Lnr":"Rdl";
d.H.zZ(cp,ds);ds.Intr.v=0;var ji=R.PRI?R.PRI:R,hd=new jc(ji.PSX,ji.PSY),eZ=new jc(ji.PEX,ji.PEY);if(ei.CAT=="fc_Elliptical"&&ji.PFX!=null){var hj=new jc(ji.PFX,ji.PFY),eK=jc.si(hd,eZ),cX=jc.si(hd,hj);
if(cX<eK){var bW=eK;eK=cX;cX=bW}eZ=new jc(hd.x+(eK+cX)/2,hd.y);if(eK/cX<.5)ar=!0}if(ee){hd.x=(hd.x+eZ.x)/2;
hd.y=(hd.y+eZ.y)/2}d.H.M9(hd,eZ,c3,hM)}else console.log(ei.CAT);var T=x.add.lmfx=O(R.EFL,ez);if(ei&&ei.FTB!=0&&fV){var P=f(fV.MSK,i),ju={};
ju.id=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";ju.name="someImage";ju.JN=P;g.AG(ju);var ci=P[0];for(var y=0;
y<ci.length;y+=4){ci[y+3]=255-ci[y];ci[y]=ci[y+1]=ci[y+2]=255}var hM=JSON.parse(eF.NF[eF.order.indexOf("patternFill")]);
hM.Opct.v.val=Math.round(ei.FTB/10);hM.Algn.v=!0;hM.Ptrn.v.Idnt.v=ju.id;T.patternFillMulti.v.unshift({t:"Objc",v:hM})}if(ar&&R.IMG){b(R.IMG,g,"IMG",i,h);
var b8=g.B[g.B.length-1];b8.opacity=x.opacity;return}x.D8();x.WG(g)}else if(H=="URL")return;else{console.log("unknown layer type",H,R);
x.vd("Layer")}g.B.push(x)}function q(R,g,H){if(g.PBL==null)return;var i=R.add.vmsk=new S.kZ,h=R.add.vstk=eF.oc.Ta(!0),x=g.PBL.PBP;
if(!(x instanceof Array))x=[x];for(var F=0;F<x.length;F++){var X=x[F].PBT;if(X==null)continue;if(!(X instanceof Array))X=[X];
var V=x[F].ISC?0:3;i.$.push({type:V,length:X.length,fa:0,VB:2,JV:0,XT:0});for(var y=0;y<X.length;y++){var U=X[y],Z=U.XLC,T=U.YLC,v=[Z,T,Z,T,Z,T],P="XPC YPC XLC YLC XSC YSC".split(" ");
for(var p=0;p<6;p++){var a=P[p],D=U[a];if(D!=null)v[p]=D}i.$.push({type:V+2,P:new jc(Z,T),KK:new jc(v[0],v[1]),eb:new jc(v[4],v[5])})}}d.j.k3(i.$,H)}function O(R,g){var H=JSON.parse(eF.default);
for(var y=0;y<eF.order.length;y++)H[eF.nk[y]]={t:"VlLs",v:[]};if(R==null||R.EPS==null)return H;var i=R.EPS;
if(!(i instanceof Array))i=[i];for(var y=0;y<i.length;y++){var h=i[y].DCE,x={};for(var F=0;F<h.length;
F++)x[h[F].DCK]=h[F].DCV;if(x.EffectIsVisible=="false")continue;var X=x.mkbFile_WriteOnly_TemporaryEffectUiName;
if(X=="Gaussian Blur..."&&g){g.cG+=parseFloat(x.gaussian_blur_radius);continue}var V=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(X);
if(V==-1){continue}var U=["DrSh","ebbl","IrGl","OrGl"][V],Z=eF.nk[eF.order.indexOf(U)],T=JSON.parse(eF.NF[eF.order.indexOf(U)]);
H[Z].v.unshift({t:"Objc",v:T});if(U=="DrSh"){T.uglg.v=!1;j(x,"ShadowDistance",T,"Dstn");j(x,"ShadowBlur",T,"blur");
j(x,"ShadowAngle",T,"lagl",180);T.Opct.v.val=100;A(x,"ShadowColor",T,"Clr")}if(U=="IrGl"){T.Md.v.BlnM="Nrml";
var v=x.MaskSoftness,P=x.GlowWidth;if(v&&P){v=parseInt(v);P=parseInt(P);T.blur.v.val=P+v;T.Ckmt.v.val=Math.round(100*P/(P+v))}j(x,"BevelContrast",T,"Opct");
A(x,"OuterBevelColor",T,"Clr")}if(U=="OrGl"){T.Md.v.BlnM="Nrml";var v=x.MaskSoftness,P=x.GlowWidth;if(v&&P){v=parseInt(v);
P=parseInt(P);T.blur.v.val=P+v}j(x,"BevelContrast",T,"Opct");A(x,"OuterBevelColor",T,"Clr")}if(U=="ebbl"){T.uglg.v=!1;
j(x,"BevelWidth",T,"blur");j(x,"AngleSoftness",T,"Sftn");j(x,"BevelContrast",T,"srgR");j(x,"LightAngle",T,"lagl")}}return H}function j(R,g,H,i,h){var x=R[g];
if(h==null)h=0;if(x)H[i].v.val=parseInt(x)+h}function A(R,g,H,i){var h=R[g];if(h){h=h.slice(1);if(h.length==6)h=h+"ff";
if(h.length!=8)throw"e";var x=c(parseInt(h,16)),F=H[i].v;F.Rd.v=x[0]*255;F.Grn.v=x[1]*255;F.Bl.v=x[2]*255;
H.Opct.v.val=Math.round(H.Opct.v.val/100*x[3]*100)}}return $}();var kd=function(){function K(z){var f=new Uint8Array(z.length);
_.yH(f,0,z);return f}function o(z){var f=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",K("")],$=f.length,b=0;
f.push("<< /AIMetaData  "+($+2)+" 0 R /AIPrivateData1 "+($+3)+" 0 R  /AIPrivateData2 "+($+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
f.push(K(""));f.push(K(""));f.push(z);var E=new jQ,q=[];function O(g){_.cK(E,b,g);b+=g.length}O("%PDF-1.5\n");
for(var y=0;y<f.length;y++){q.push(b);O(y+1+" 0 obj\n");var j=f[y];if(typeof j=="string")O(f[y]+"\n");
else{var A=pako.aci(j);O("<< /Length "+A.length+" /Filter [ /FlateDecode ] >>\nstream\n");E.d7(b,A.length);
E.data.set(A,b);b+=A.length;O("\nendstream\n")}O("endobj\n")}var R=b;O("xref\n0 "+(q.length+1)+"\n0000000000 65535 f\r\n");
for(var y=0;y<q.length;y++)O((q[y]+"").padStart(10,"0")+" 00000 n\r\n");O("trailer\n<< /Root 1 0 R /Size "+(q.length+1)+" >>\nstartxref\n"+R+"\n%%EOF\n");
return E.data.slice(0,b)}function Y(z,f){var $=Date.now(),E=new Uint8Array(z),b,q=E[2]==68;if(f)console.log(!q?"EPS":"PDF");
if(q){var O=_.oR(E,"/AIMetaData "),v=!1,P=!1;while(E[O]!=60)O--;O--;var j=_.oR(E,">>",O),A=_.H9(E,O+2,j-O-2).split("/"),R=[];
for(var y=0;y<A.length;y++){var g=A[y],H=g.startsWith("AIPrivateData"),i=g.startsWith("AIPDFPrivateData");
if(!H&&!i)continue;var h=g.trim().split(/\s+/),x=parseInt(h[1]),F=parseInt(h[0].slice(H?13:16));R.push([F,x])}if(f)console.log("--- map made",Date.now()-$);
$=Date.now();var X=FromPDF.indexOfXref(E),V=[],U=FromPDF.readXrefTrail(E,X,V),Z={buff:E,off:0},T=new Array(R.length),p=O;
for(var y=0;y<R.length;y++){var F=R[y][0],x=R[y][1],a=FromPDF.getIndirect(x,0,Z,V),D=a.buff,n=a["/Filter"],N=0;
if(n!=null&&typeof n=="string")n=[n];var W=_.H9(D,N,N+20);if(W=="%AI12_CompressedData"){N+=20;v=!0}else if(W=="%AI24_ZStandard_Data"){N+=20;
P=!0}D=new Uint8Array(D.buffer,D.byteOffset+N,D.length-N);if(n)for(var G=0;G<n.length;G++){var l=n[G];
if(l=="/FlateDecode")D=pako.inflate(D);else if(l=="/ASCIIHexDecode")D=FromPS.F.HexDecode({buff:D,off:0});
else if(l=="/ASCII85Decode")D=FromPS.F.ASCII85Decode({buff:D,off:0});else throw l}T[F-1]=D}if(f)console.log("--- arrays found",Date.now()-$);
$=Date.now();var u=_.H9(T[0],0,13);if(u=="%%BoundingBox"||u=="%AI7_Thumbnai")T=T.slice(1);if(u=="%AI24_ZStanda"){T[0]=T[0].slice(20);
P=!0}if(_.H9(T[0],0,13)=="%AI12_Compres"){T[0]=T[0].slice(20);v=!0}b=c(T);if(f)console.log("--- concatenated",Date.now()-$);
$=Date.now();if(v)b=UZIP.inflate(b);if(P)b=fv.iD.DC(b);if(f)console.log("--- inflated",Date.now()-$);
$=Date.now()}else{var e=_.DI(E);if(e.indexOf("%AI5_BeginLayer")!=-1){b=E}else{var M=e.split(/[\n\r]+/),B=[],s=!1;
for(var t=0;t<M.length;t++){var J=M[t].trim();if(J=="%AI9_PrivateDataEnd"){s=!1;break}else if(J=="%AI9_DataStream"||J=="%AI24_DataStream"){s=!0}else if(s)B.push(J.slice(1))}var L=_.tA(B.join("")),k=FromPS.F.ASCII85Decode({buff:L,off:0});
if(k[0]==120&&k[1]==156)b=UZIP.inflate(k);else b=fv.iD.DC(k)}}return b}function c(z){var f=0,E=0;for(var y=0;
y<z.length;y++)f+=z[y].length;var $=new Uint8Array(f);for(var y=0;y<z.length;y++){var b=z[y];$.set(b,E);
E+=b.length}return $}return{aA8:Y,avd:o}}();function gH(){}gH.qz=function(){function K(N,W,G){var l=!1,u=Date.now(),e=kd.aA8(N,l);
if(l)console.log("part found",Date.now()-u);u=Date.now();var M=T(e),B=M.Layer,s=M.Header;if(l)console.log(M);
var t=M.Setup.TextDocument,J=B[0];J=M.Layer[0];if(l)console.log("document parsed",Date.now()-u);u=Date.now();
M.Setup.Gradient=Z(M.Setup.Gradient,e);if(l)console.log("grads loaded",Date.now()-u);u=Date.now();M.Setup.Pattern=U(M.Setup.Pattern,e);
if(l)console.log("patts loaded",Date.now()-u);u=Date.now();var L=X(M.Setup.DocumentData,e),k=V(L);M.Setup.DocumentData=L.pop();
if(l)console.log("docdata loaded",Date.now()-u);u=Date.now();M.Setup.SVGFilter=X(M.Setup.SVGFilter,e);
if(l)console.log("svgfilter loaded",Date.now()-u);u=Date.now();var C=s.Cropmarks,r=s.BoundingBox.split(" ").map(parseFloat),Q=s.ArtSize?s.ArtSize.split(" ").map(parseFloat):[r[2]-r[0],r[3]-r[1]];
W.m=Math.round(Q[0]);W.e=Math.round(Q[1]);var j9=[1,0,0,1,-r[0]+(W.m-(r[2]-r[0]))/2,-r[1]+(W.e-(r[3]-r[1]))/2];
j9[3]=-1;j9[5]=W.e-j9[5];if(C){C=C.split(" ").map(parseFloat);W.m=Math.round(C[2]-C[0]);W.e=Math.round(C[3]-C[1]);
j9=[1,0,0,-1,-C[0],W.e+C[1]]}var L=M.Setup.DocumentData,a4=[],ar=[];if(L&&L[0]&&L[0].ArtboardArray){var a4=L[0].ArtboardArray;
if(a4.length!=1)console.log(a4.length,"artboards");var ez=new hD;for(var y=0;y<a4.length;y++){var ja=a4[y],c3=ja.PositionPoint1,hW=ja.PositionPoint2,fO=c3[0],ei=Math.min(c3[1],hW[1]),fV=hW[0],aW=Math.max(c3[1],hW[1]),ee=new hD(fO,ei,fV-fO,aW-ei);
ar.push(ee);ez=ez.Bb(ee)}W.m=Math.round(ez.m);W.e=Math.round(ez.e);j9[4]=-ez.x;j9[5]=ez.y+W.e}if(L&&L[0]&&L[0]["#document"]){var hM=L[0]["#document"],ds=hM["xmlnode-children"][0];
if(ds&&ds["xmlnode-children"])ds=ds["xmlnode-children"][0];if(ds["xmlnode-nodename"]=="variableSets"){var cp=ds["xmlnode-children"][0]["xmlnode-children"],eA=cp[0],db=cp[1],js=n(eA);
W.YK=gA.aAc("<variableSets><variableSet>"+js+"</variableSet></variableSets>");if(db){var bF=n(db),jI=W.Mv=gA.aqp(bF);
for(var y=0;y<jI.length;y++)for(var gF=0;gF<jI[y].length;gF++)jI[y][gF]=jI[y][gF].trim()}}}var b6=1/iS.a2(new hD(0,0,W.m,W.e),8192*8192);
while(Math.max(W.m*b6,W.e*b6)<800)b6*=2;while(G&&Math.max(W.m*b6,W.e*b6)<Math.max(G[0],G[1]))b6++;W.m=Math.round(W.m*b6);
W.e=Math.round(W.e*b6);W.aE=Math.round(72*b6);for(var y=0;y<6;y++)j9[y]*=b6;if(a4.length!=[1,0][g1]){var ji=g1==0?W.B:[];
ji.push(W.uR());W.add.arts=[];for(var y=0;y<ar.length;y++){var ja=a4[y],ee=ar[y],hd=W.Uu();hd.vd(ja.Name);
ji.push(hd);hd.add.SoCo=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);var eZ=hd.add.SoCo.Clr.v;A(eZ,[1,1,1]);
var fO=ee.x,ei=ee.y,fV=fO+ee.m,aW=ei+ee.e,hj=[fO,ei,fV,ei,fV,aW,fO,aW];d.M.i(hj,g(j9),hj);i(hd,{cmds:["M","L","L","L","Z"],crds:hj},W,0);
hd.add.vstk=eF.oc.Ta(!0);var G=d.M.OA(hj);W.add.arts.push({S4:ja.Name,BA:[G.x,G.y,G.x+G.m,G.y+G.e],Y:ja.IsArtboardSelected})}var hd=W.Uu();
hd.vd("_Artboards_");hd.add.lsct=eo.g5;hd.YF="pass";hd.Gh=24;ji.push(hd)}else W.add.arts=[{S4:"Artboard",BA:new hD(0,0,W.m,W.e)}];
Y=[0,0,0];c=[0,0,0];z="SoCo";f="SoCo";for(var eK=0;eK<B.length;eK++){var cX=B[eK];cX.Raster=o(cX,"Raster");
cX.Place=o(cX,"Place");var bW=x(e,cX);$(W,bW,j9,M,cX,e)}if(g1==0)for(var y=0;y<W.B.length;y++){var hd=W.B[y];
if(hd.UR){W.B.splice(y,1);var ju=W.B[y];ju.add.vmsk=hd.add.vmsk;ju.add.vogk=hd.add.vogk;ju.WG(W)}}else{}if(l)console.log("layers created",Date.now()-u);
u=Date.now()}function o(N,W){var G=N.Layer,l=N[W];if(l==null)l=[];if(G){for(var y=0;y<G.length;y++){var u=G[y],e=u[W]=o(u,W);
l=l.concat(e)}l.sort(function(M,B){return M._begin-B._begin})}return l}var Y,c,z,f;function $(N,W,G,l,u,e){var M="",B=0,s="",t=!1,J={},L=UDOC.G,k=UDOC.getState(),C="norm",r=1,Q=0,j9=!1,a4=0,ar=!1,ez=!0,ja=null,c3=!1,hW=0,fO=null,ei,fV,aW=0,ee=0,hM=0,eA=0,db=!1;
k.ctm=G;var ds=[],cp=[];for(var js=0;js<W.length;js++){var bF=W[js],eZ=1e9;if(bF[0]=="%"){if(bF=="%_/ArtDictionary :"&&hW==0)ja=[bF.slice(2)];
else if(ja!=null){if(bF=="%_"&&hW==0){var jI=p(ja)[0],gF=N.B[N.B.length-1],b6=jI.AI10_ArtUID,ji=jI.BBAccumRotation;
if(b6&&!b6.startsWith("XMLID"))gF.vd(D(b6));if(ji&&gF.add.vmsk)gF.add.vmsk.T_=parseFloat(ji);ja=null}else{ja.push(bF.slice(c3?1:2));
if(bF=="%_X=")hW++;if(bF=="%_X+")hW--;if(bF=="%_/Binary : /ASCII85Decode ,")c3=!0;if(c3&&bF.endsWith("~>"))c3=!1}}else if(fO){ei+=(ei==""?"":" ")+bF.slice(2);
if(ei.endsWith("X#")){fO.push(ei.slice(0,ei.length-3));ei=""}}continue}else if(bF=="/Mesh X!"){fO=[];
ei="";continue}else if(bF=="/End X!"){q(fO,k,N);fO=null;continue}var hd="Xa XR m l c f U u *U w J j M d".split(" "),hj=-1,eK=bF.indexOf("(")!=-1;
for(var y=0;y<hd.length;y++){var cX=bF.indexOf(" "+hd[y]+" ");if(cX!=-1&&cX<eZ&&!eK){eZ=cX;hj=y}}if(hj!=-1){t=!0;
var bW=eZ+1+hd[hj].length;W[js]=bF.slice(0,bW);var ju=W[js+1];if(ju==null||ju[0]=="%"||hj>9)W.splice(js+1,0,bF.slice(bW));
else W[js+1]=(bF.slice(bW)+" "+ju).replace(/\s\s+/g," ");js--;continue}bF=bF.trim();var ci=bF.split(" "),hH=ci[ci.length-1],b8=hH.toLowerCase(),gh=ci.map(parseFloat);
if(hH=="m")L.moveTo(k,gh[0],gh[1]);else if(hH=="L"||hH=="l")L.lineTo(k,gh[0],gh[1]);else if(hH=="V"||hH=="v"){var aN=k.pth.crds,eS=k.cpos[0],b2=k.cpos[1];
L.curveTo(k,eS,b2,gh[0],gh[1],gh[2],gh[3]);var fZ=aN.length;aN[fZ-6]=eS;aN[fZ-5]=b2}else if(hH=="Y"||hH=="y")L.curveTo(k,gh[0],gh[1],gh[2],gh[3],gh[2],gh[3]);
else if(hH=="C"||hH=="c")L.curveTo(k,gh[0],gh[1],gh[2],gh[3],gh[4],gh[5]);else if(hH=="H"||hH=="h"){if(hH==b8)L.closePath(k);
if(!j9){var dw=N.Uu();N.B.push(dw);dw.vd("<Clipping Path>");dw.UR=!0;dw.add.vstk=eF.oc.Ta();dw.add.SoCo=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);
i(dw,k.pth,N,Q)}else ar=!0}else if(hH=="XR"){Q=gh[0]}else if(hH=="Xy"){C=gH.amY[gh[0]];r=gh[1];if(C==null){C="norm";
console.log("unknown blend mode",gh[0])}}else if(hH=="Xd"){var gF=N.B[N.B.length-1];gF.opacity=Math.round(255*r);
gF.YF=gF.f$()&&C=="norm"?"pass":C}else if(hH=="AE")aW=gh[0];else if(hH=="Ae")ee=gh[0];else if(hH=="Xw")hM=gh[0];
else if(hH=="*"){var ib=k.pth.crds,eJ=k.ctm,cX=ib[0]==ib[2]?0:1;N.xS.push([cX,ib[cX]]);L.newPath(k)}else if(hH=="XN")fV=bF.split(" ")[0];
else if(hH=="XI"){var df=u.Raster,k5,eC;if(df==null||df.length==0){console.log("no Raster");continue}if(bF!="XI"){continue}else{var j7=df[B++];
if(j7.Data)j7=j7.Data;var cK=j7._begin,bw=j7._end;while(e[cK]!=88)cK++;cK+=3;k5=e.slice(cK,bw);eC=W[js-2].split(" ").map(parseFloat)}var f6=eC.slice(8),iF=f6[2],ag=f6[3],bS=iF*ag,b$=d.R(bS*4);
b$.fill(255);var aj=f6[7],iV=f6[8],g0=f6[6],eB=Math.ceil(iF*aj*g0/8);if(aj==1){if(g0==8)for(var y=0;
y<bS;y++)for(var c7=0;c7<3;c7++)b$[4*y+c7]=k5[y];else if(g0==1)for(var dU=0;dU<ag;dU++)for(var cz=0;
cz<iF;cz++)for(var c7=0;c7<3;c7++)b$[4*(dU*iF+cz)+c7]=255*(k5[dU*eB+(cz>>>3)]>>>7-(cz&7)&1);else throw g0}else if(aj==3)for(var y=0;
y<bS;y++)for(var c7=0;c7<3;c7++)b$[4*y+c7]=k5[3*y+c7];else if(aj==4||aj==5)for(var y=0;y<bS;y++){var fr=H([k5[aj*y+0]/255,k5[aj*y+1]/255,k5[aj*y+2]/255,k5[aj*y+3]/255]);
b$[4*y+0]=fr[0]*255;b$[4*y+1]=fr[1]*255;b$[4*y+2]=fr[2]*255}else if(aj==7)for(var y=0;y<bS;y++){b$[4*y+0]=k5[aj*y+0];
b$[4*y+1]=k5[aj*y+1];b$[4*y+2]=k5[aj*y+2]}else console.log("unknown number of channels",aj);if(iV==1){var kk=ag*eB;
for(var y=0;y<bS;y++)b$[4*y+3]=k5[kk+y]}var a6=d.Bc(b$,iF,ag)?"JPG":"PNG";if(iF*ag<700*700)a6="PNG";
var jv=fv.WD(a6).vc([[b$.buffer]],iF,ag),by=N.o3(new Uint8Array(jv),"<Image>",0,0);N.B.push(by);by.YF=C;
by.opacity=Math.round(255*r);by.dt(hM==0);var gc=new dF;gc.scale(1,-1);gc.concat(g(eC.slice(1)));gc.concat(g(k.ctm));
var i8=by.add.SoLd,az=i8.Sz.v,g9=new hD(0,0,az.Wdth.v,az.Hght.v),ci=d.M.Yq(g9).z;d.M.i(ci,gc,ci);by.add.SoLd.Trnf=m.OB.c5(ci);
by.add.SoLd.nonAffineTransform=m.OB.c5(ci);by.Mc(N,!1)}else if(hH=="Ln"){M=j(bF)}else if(hH=="u"||hH=="q"||hH=="Lb"){ds.push(ee==1);
cp.push((hH=="Lb"?1-gh[0]:hM)==0);if(j9)continue;N.B.push(N.uR())}else if(hH=="U"||hH=="Q"||hH=="LB"){if(ds.length==0||cp.length==0)throw js;
var a3=ds.pop(),jb=cp.pop();if(hH=="LB")a3=aW==1;if(j9)continue;var by=N.Uu();by.vd((hH=="U"?"<Group>":"<Clip Group>")+s);
if(hH=="LB")by.vd(M);by.add.lsct=a3?eo.bl:eo.g5;by.YF="pass";by.Gh=24;by.dt(jb);N.B.push(by);if(db){if(N.B[N.B.length-3].getName()=="</Layer group>"){N.B.pop();
N.B.splice(N.B.length-2,1)}db=!1}}else if(hH=="Bb")ez=gh[0]!=1;else if(hH=="Bh"||hH=="BB"){}else if(hH=="Bm"||hH=="Bc"||hH=="Xm"){}else if(hH=="Bg"){var aY=l.Setup.Gradient,g4=aY[j(bF)],ci=bF.slice(bF.indexOf(")")+2).split(" ").map(parseFloat);
if(g4==null){console.log("gradient not found");for(var dl in aY){g4=aY[dl];break}}var ej=[g4.tM,g4.a8T,ci.slice(0,4),ci.slice(4,10)];
b(ej,"GdFl",ez)}else if(hH=="p"){var cn=j(bF),d_=l.Setup.Pattern[cn];if(d_.raw==null){var hZ=d_.BA,iF=Math.round(hZ[2]-hZ[0]),ag=Math.round(hZ[3]-hZ[1]),jI=new h7;
jI.m=iF;jI.e=ag;jI.buffer=d.R(iF*ag*4);$(jI,d_.xK,[1,0,0,-1,-d_.BA[0],ag+d_.BA[1]],l,u,e);jI.Sm();d_.raw=new Uint8Array(fv.WD("PSD").vc(jI))}var gv=bF.slice(bF.indexOf(")")+2),jH=gv.slice(0,gv.indexOf("[")-1).split(" ").map(parseFloat),a0=gv.slice(gv.indexOf("[")+1,gv.indexOf("]")).split(" ").map(parseFloat);
z="patt";Y=[cn,jH,a0]}else if(hH=="J"||hH=="j"||hH=="w"||hH=="M"||hH=="d"){for(var y=1;y<ci.length;y++){var e1=ci[y],gn=gh[y-1];
if(e1=="w")k.lwidth=gn;if(e1=="j")k.ljoin=gn;if(e1=="J")k.lcap=gn;if(e1=="M")k.mlimit=gn;if(e1=="d"){var e5=bF.slice(bF.indexOf("[")+1,bF.indexOf("]")).trim();
if(e5.length!=0){var ka=e5.split(" ").map(parseFloat);k.dash=ka}else if(e5=="")k.dash=[]}}}else if(b8=="xa"||b8=="xx"){var fF=gh[4]==null?gh.slice(0,3):[gh[4],gh[5],gh[6]];
if(b8=="xx"&&gh[gh.length-2]==2)fF=H(gh);b(fF,"SoCo",hH=="Xa"||hH=="Xx")}else if(b8=="xk"){var fF,ke=gh[gh.length-2],iA=gh[gh.length-3];
if(ke==0)fF=H(gh);else if(ke==1){fF=[gh[4],gh[5],gh[6]];for(var y=0;y<3;y++)fF[y]=iA*1+(1-iA)*fF[y]}else throw bF;
b(fF,"SoCo",hH=="Xk")}else if(b8=="k"||b8=="x"){if(b8=="x"){gh.pop();var eP=1-gh.pop();for(var y=0;y<4;
y++)gh[y]*=eP}var fF=H(gh);b(fF,"SoCo",hH==b8)}else if(b8=="g"){var fF=[gh[0],gh[0],gh[0]];b(fF,"SoCo",hH==b8)}else if(b8=="n"){if(!j9)L.newPath(k)}else if(hH=="*u"){j9=!0;
a4=0;cp.push(hM==0)}else if(hH=="*U"||b8=="s"||b8=="f"||b8=="b"){if(hH!="*U"&&j9){if(b8=="f"||b8=="b")a4|=1;
if(b8=="s"||b8=="b")a4|=2;continue}if(hH==b8)L.closePath(k);if(hH=="*U"){j9=!1}var by;if(z=="patt"){var d_=l.Setup.Pattern[Y[0]];
by=N.o3(d_.raw,"<Pattern>",0,0);var g9=by.rect.clone();g9.x=g9.y=0;var ci=d.M.Yq(g9).z,a0=g(Y[2]);a0.B3=a0.Z7=0;
d.M.i(ci,a0,ci);by.add.SoLd.Trnf=m.OB.c5(ci);by.add.SoLd.nonAffineTransform=m.OB.c5(ci);by.Mc(N,!1)}else{by=N.Uu();
by.Gh|=16;var hl=b8=="f"||b8=="b"||hH=="*U"&&a4&1,jY=b8=="s"||b8=="b"||hH=="*U"&&a4&2,el=by.add.vstk=eF.oc.Ta(hl,jY),iz=by.add.vstl={avF:null,arm:null},gc=k.ctm,bd=Math.sqrt(Math.abs(gc[0]*gc[3]-gc[1]*gc[2]));
eF.a9i.write(iz,k,bd);eF.oc.write(el,k,bd);if(z=="SoCo"){by.add.SoCo=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);
var iM=by.add.SoCo.Clr.v;A(iM,Y)}if(z=="GdFl"){by.add.GdFl=E(Y,k)}if(hl){iz.arm=Y}if(jY){iz.avF=c;var cb=f=="GdFl"?E(c,k):{Clr:{t:"Objc",v:ik.Kr(c)}},bk=["SoCo","GdFl","patternFill"].indexOf(f),jG=[eF.u4,eF.Eo,eF.Jo][bk],et=el.strokeStyleContent.v={classID:eF.oc.OV[bk]};
for(var y=0;y<jG.length;y++)et[jG[y]]=cb[jG[y]]}}if(hH=="*U"&&ar){by.UR=!0;ar=!1}by.vd("<"+(hH=="*U"?"Compound ":"")+"Path>"+s);
by.YF=C;by.opacity=Math.round(255*r);by.dt(hH=="*U"?cp.pop():hM==0);i(by,k.pth,N,Q);N.B.push(by);L.newPath(k)}else if(hH==","&&ci[0]=="/XMLUID"){var gF=N.B[N.B.length-1];
for(var y=0;y<N.YK.length;y++)if("("+N.YK[y].docRef+")"==ci[2])N.YK[y].docRef="id('"+gF.add.lyid+"')"}else if(hH==","&&ci[1]=="/FreeUndo"){eA=gh[0]}else if(hH==","&&ci[1]=="/StoryIndex"){var dy=l.Setup.TextDocument,fJ=null;
if(!(dy instanceof Array))window.ahX=dy=l.Setup.TextDocument=F(dy,e);var ce=dy[0],g2=dy[2];if(ce._DocumentResources)ce=dy[0]=jM.ana(ce);
else jM.axc(ce);var by=N.Uu();by.add.lnsr="rend";by.add.TySh=b_.HO(0,0);var gx=gh[0];if(eA==1){for(var y=1;
y<60;y++){var ju=W[js+y];if(ju&&ju.endsWith("/StoryIndex ,")){gx=parseFloat(ju.slice(2,ju.indexOf(" ")));
db=!0;break}}eA=0}var hO=fm.auE(ce),ko=by.add.TySh.e9=hO[gx];if(ko==null){console.log("text not found");
db=!1;continue}by.vd(b_.BM(ko).slice(0,50));by.YF=C;by.opacity=Math.round(255*r);by.dt(hM==0);var eP=ce._1._1[gx]._1._0[0]._0;
eP=parseInt(eP.slice(1));var dm=ce._0._8._0,gw=dm[eP]._0;if(gw._0)fJ=R(gw._0);else if(gw._1)fJ=R(gw._1._0);
else fJ=R(gw._2._2).slice(3);if(fJ.length!=2){var hZ=d.M.OA(fJ);fJ=[hZ.x,hZ.y];if(hZ.Z()!=0){b_.go(ko,1);
b_.X$(ko,[0,0,Math.round(hZ.m),Math.round(hZ.e)])}}var gS=new dF,fj=new dF(1,0,0,1,fJ[0],fJ[1]),f$=new dF(1,0,0,1,-g2[0],-g2[1]),kx=g(k.ctm),cF=new dF;
if(gw._2&&gw._2._2){var G=R(gw._2._2);cF=new dF(G[0],G[1],G[2],G[3],G[4],G[5])}gS.concat(fj);gS.concat(cF);
gS.concat(f$);gS.scale(1,-1);gS.concat(kx);by.add.TySh.i=gS;N.B.push(by);N.$P=!0}else if(hH=="Tp"){J.gr=g(gh)}else if(hH=="Tf"){J.font=ci[0].slice(2)}else if(hH=="Tk"){var by=N.Uu();
by.add.lnsr="rend";var iK=by.add.TySh=b_.HO(0,0),ko=iK.e9,gc=J.gr.clone(),az=gc._8();gc.concat(g(k.ctm));
var aP=new dF(1/az,0,0,-1/az,0,0);aP.concat(gc);iK.i=aP;var hf=j(bF);by.vd(hf);b_.Df(ko,0,hf);var ii=b_.Sw(ko,0,hf.length);
ii.Pf.FontSize=az;ii.Pf.FillColor={Type:1,Values:[1,Y[0],Y[1],Y[2]]};b_.iN(ii,J.font);b_.K2(ko,0,hf.length,ii);
N.B.push(by);N.$P=!0}else if(t&&gh.length>3){var eE=!1;for(var y=0;y<gh.length;y++)if(isNaN(gh[y]))eE=!0;
if(!eE)W[js+1]=(bF+" "+W[js+1]).replace(/\s\s+/g," ")}}}function E(N,W){var G=d.M.OA(W.pth.crds),l=gH.az$(N,G),u=[0,0,1,0];
if(N[0]==0)u[0]=.5;d.M.i(u,l,u);var e=O(N[0],N[1]);d.H.M9(new jc(u[0],u[1]),new jc(u[2],u[3]),G,e);return e}gH.az$=function(N,W){var G=N[0],l=N[2],u=W.m,e=W.e,M=l[0],B=l[1],s=l[2]*Math.PI/180,t=l[3],J=new dF;
if(G==0){J.scale(t,t);J.translate(M-.5,B-.5);J.scale(u,e);J.rotate(s);var L=gH.a5S(u,e,s);J.scale(L,L);
J.translate(u/2,e/2)}else{var k=(M-.5)*u/2,C=(B-.5)*e/2,L=t*Math.sqrt(2*(k*k+C*C));J.scale(L,L);J.translate((M+.5)*u,(B+.5)*e)}J.translate(W.x,W.y);
return J};function b(N,W,G){if(G){z=W;Y=N}else{f=W;c=N}}function q(N,W,G){var l=UDOC.G,u=[],e=[],M="/DeviceGray",B=1,s=[],t=1;
for(var J=0;J<N.length;J++){var L=N[J];if(L.endsWith(" /CS")){var k=L.indexOf("/NChannel"),C=L.indexOf("/Process");
if(L.startsWith("/DeviceRGB")){M="/DeviceRGB";B=3}else if(L.startsWith("/DeviceGray")){M="/DeviceGray";
B=1}else if(L.startsWith("/DeviceCMYK")){M="/DeviceCMYK";B=4;s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(k!=-1){M="/DeviceCMYK";
B=parseInt(L.slice(k-2,k-1));var r=1;for(var y=0;y<B;y++){r=L.indexOf("[",r);s[B-1-y]=L.slice(r+1,r+8).split(" ").map(parseFloat);
r++}}else if(C){M="/DeviceGray";B=1}else throw L}else if(L[0]=="["){var Q=L.indexOf("]"),j9=L.slice(1,Q).split(" ").map(parseFloat),a4=L.slice(Q+2),ar,ez,ja,c3,hW,fO;
if(a4=="/Size"||a4=="/P"||a4=="/R")continue;if(a4=="/S"||a4=="/A"){ar=j9[0];ez=j9[1];ja=j9[2];c3=j9[3];
hW=j9[4];fO=j9[5]}else if(a4=="/N"){var ei=B+(t==1?0:1),fV;ar=j9[ei+0];ez=j9[ei+1];ja=j9[ei+2];c3=j9[ei+3];
hW=j9[ei+5];fO=j9[ei+6];if(M=="/DeviceRGB")fV=j9.slice(0,3);else if(M=="/DeviceGray")fV=[j9[0],j9[0],j9[0]];
else if(M=="/DeviceCMYK"){var aW=[0,0,0,0];for(var y=0;y<B;y++){var ee=j9[y],hM=s[y];aW[0]+=ee*hM[0];
aW[1]+=ee*hM[1];aW[2]+=ee*hM[2];aW[3]+=ee*hM[3]}fV=H(aW)}else throw fV;fV.push(j9[B]);e.push([fV,ar,ez])}else throw a4;
u.push([a4,hW,fO,ar,ez,ja,c3])}else if(L=="/E"){var ds=u.slice(0),cp=0;for(var y=0;y<u.length;y++){var eA=u[y][0];
if(eA=="/N"){cp++;continue}var db=y,js=y+1;while(u[js][0]!="/N"&&js<u.length)js++;if(cp==0||cp==3){for(var bF=0;
bF<js-db;bF++)ds[db+bF]=u[js-1-bF]}else for(var bF=db;bF<js;bF++){var jI=ds[bF],gF=jI[1];jI[1]=jI[5];
jI[5]=gF;gF=jI[2];jI[2]=jI[6];jI[6]=gF}y=js-1}u=[];for(var y=0;y<ds.length;y++){var jI=ds[y];u.push(jI[1],jI[2],jI[3],jI[4],jI[5],jI[6])}var b6=u.length;
l.moveTo(W,u[2],u[3]);for(var y=0;y<b6;y+=6){var ja=u[(y+4)%b6],c3=u[(y+5)%b6],hW=u[(y+6)%b6],fO=u[(y+7)%b6],ar=u[(y+8)%b6],ez=u[(y+9)%b6];
l.curveTo(W,ja,c3,hW,fO,ar,ez)}l.closePath(W);u=[]}else if(L.endsWith("/Version"))t=parseFloat(L[0])}var ji=G.Uu();
ji.Gh|=16;ji.vd("<Mesh>");var hd=ji.add.vstk=eF.oc.Ta(!0);if(e.length>=2){var eZ=0,hj=0,eK=0;for(var y=0;
y<e.length;y++)for(var bF=y+1;bF<e.length;bF++){var cX=e[y][0],bW=e[bF][0],ju=cX[0]-bW[0],ci=cX[1]-bW[1],hH=cX[2]-bW[2],b8=Math.sqrt(ju*ju+ci*ci+hH*hH);
if(b8>eK){eK=b8;eZ=y;hj=bF}}var gh=e[eZ],aN=e[hj],eS=ji.add.GdFl=O(0,[[0,gh[0]],[1,aN[0]]]),b2=g(W.ctm),fZ=b2.qc(new jc(gh[1],gh[2])),dw=b2.qc(new jc(aN[1],aN[2])),ib=d.M.OA(W.pth.crds);
fZ.x=(fZ.x+dw.x)/2;fZ.y=(fZ.y+dw.y)/2;d.H.M9(fZ,dw,ib,eS)}i(ji,W.pth,G,0);G.B.push(ji);l.newPath(W)}function O(N,W){var Y=JSON.parse(eF.NF[eF.order.indexOf("GrFl")]),G=Y.Grad.v;
G.Intr.v=0;Y.Type.v.GrdT=["Lnr","Rdl"][N];d.H.zZ(W,G);return Y}function j(N){var W=N.indexOf(")");while(N[W-1]=="\\")W=N.indexOf(")",W+1);
return N.slice(N.indexOf("(")+1,W).replaceAll("\\","")}function A(N,Y){N.Rd.v=Y[0]*255;N.Grn.v=Y[1]*255;
N.Bl.v=Y[2]*255}function R(N){var W=[];for(var y=0;y<N.length;y++)W[y]=parseFloat(N[y].slice(1));return W}function g(N){return new dF(N[0],N[1],N[2],N[3],N[4],N[5])}function H(N){return d.O6(N.slice(0,4)).slice(0,3)}function i(N,W,G,l){N.add.vmsk=new S.kZ;
if(W.crds.length!=0)N.add.vmsk.$=h(W);N.add.vmsk.fa=l;N.D8();N.WG(G)}function h(N){var W={z:N.crds,G:N.cmds},G=d.M.eX(W,!1);
return G}function x(N,W){var G=[],t=0,C=0;for(var l=0;l<2;l++){var u=W[["Raster","Place"][l]];if(u){for(var y=0;
y<u.length;y++){var e=u[y][["Data","Document","PlacedObjectPreview"][l]];if(e==null)continue;var M=e._begin,B=e._end;
if(M>B)M=B;G.push([M,B])}}}G.sort(function(Q,j9){return Q[0]-j9[0]});var s=[W._begin];for(var y=0;y<G.length;
y++){var J=G[y],M=J[0]+32;s.push(M,J[1]);t+=J[1]-M}s.push(W._end);var L=W._end-W._begin,k=new Uint8Array(L-t);
for(var y=0;y<s.length;y+=2){var M=s[y],r=s[y+1]-M;k.set(new Uint8Array(N.buffer,M,r),C);C+=r}return _.DI(k).split(/\r\n|\r|\n/)}function F(N,W){if(N==null)return[];
var G=x(W,N),l="",u="",e=0,M;for(var y=2;y<G.length;y++){var B=G[y];if(B[0]=="%"){if(e==0)l+=B.slice(1);
else u+=B.slice(1)}else if(B==";")e++;else if(B.endsWith("/RulerOrigin ,"))M=B.split(" ").slice(0,2).map(parseFloat)}var s=[l,u],t=[];
for(var y=0;y<2;y++){var J=s[y],L=new Uint8Array(J.length);_.yH(L,0,J);var k=FromPS.F.ASCII85Decode({buff:L,off:0}),C=iQ.qz(k);
t.push(C)}t.push(M);return t}function X(N,W){if(N==null)return[];var G=x(W,N);G=G.slice(1);for(var y=0;
y<G.length;y++){var l=G[y];if(l[0]=="%")G[y]=l.slice(l[1]=="_"?2:1)}var u=p(G);return u}function V(N){var W=[];
v(N,W);for(var y=0;y<W.length;y++)W[y]="%_"+W[y];return W}function U(N,W){var G={};if(N==null)return G;
for(var y=0;y<N.length;y++){var l=x(W,N[y]),u=l[1],e=j(u),M=u.slice(u.lastIndexOf(")")+2).split(" ").map(parseFloat),B=[];
for(var s=2;s<l.length;s++)B.push(l[s].slice(2));G[e]={BA:M,xK:B}}return G}function Z(N,W){var G={},l,u;
if(N==null)return G;var e=[];for(var y=0;y<N.length;y++){var M=x(W,N[y]);for(var B=0;B<M.length;B++){var s=M[B];
if(s.endsWith("%_Bs")){var t=s.slice(0,s.length-4);if(!t.endsWith(" "))t+=" ";s=t+"%_BS"}if(s[0]=="("){l=j(s);
var J=s.split(")"),L=J[1].split(" ");u=parseInt(L[1])}else if(s.endsWith("%_BS")){var J=s.split(" "),Q,j9=1;
J.pop();J=J.map(parseFloat);var k=J.pop(),C=J.pop(),r=J.pop();if(r==0)Q=[J[0],J[0],J[0]];else if(r==2||r==4)Q=[J[4],J[5],J[6]];
else if(r==1||r==3)Q=H(J);else if(r==6){if(J.length==3)Q=[J[0],J[0],J[0]];else if(J.length>=8)Q=J.slice(4,7);
else Q=H(J);j9=J.pop()}else{throw r}e.push([k/100,Q,j9,C/100])}else if(s=="BD"){for(var a4=0;a4<e.length-1;
a4++)e[a4][3]=e[a4+1][3];e.sort(function(ar,ez){return ar[0]-ez[0]});G[l]={tM:u,a8T:e};e=[]}}}return G}function T(N){var W="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),G=Date.now(),l=0,u=[],e={Header:{}},M=[e],B=N.length;
while(l<B){var s=l;while(s!=B&&N[s]!=13&&N[s]!=10){s++}if(N[l]==37&&N[l+1]==95&&N[l+2]==37)l+=2;if(N[l]==37&&(N[l+1]==37||N[l+1]==65)){var t=_.H9(N,l,s-l);
if(t=="%%EOF")break;if(t=="%%EndComments"||t=="%EndComments"||t=="%AI5_Begin_NonPrinting"||t=="%AI5_End_NonPrinting--"||t.startsWith("%AI17_Begin_Content_if_version_gt")||t=="%AI17_End_Versioned_Content"){}else{var J=t.indexOf("Begin"),L=Math.max(t.indexOf("_End"),t.indexOf("%End"));
if(J!=-1&&t[J-1]!="%"&&t[J-1]!="_")J=-1;if(J!=-1){var k=t.slice(J+5).split(":")[0],C={_begin:l,_end:l},r=M[M.length-1];
if(W.indexOf(k)!=-1){if(r[k]==null)r[k]=[];r[k].push(C)}else{if(r[k]!=null){console.log(M);throw t}r[k]=C}M.push(C);
if(t.startsWith("%%BeginData")){s=_.oR(N,"%%EndData",l)}else if(t.slice(0,15)=="%%BeginDocument")s=_.oR(N,"%%EndDocument",s);
else if(t=="%AI9_BeginDocumentData")s=_.oR(N,"%AI9_EndDocumentData",s);else if(t=="%AI11_BeginTextDocument")s=_.oR(N,"%AI11_EndTextDocument",s)}else if(L!=-1){if(M.length>1)M.pop()._end=l}else if(M.length==1&&(t.startsWith("%AI")||t.startsWith("%%")&&t.indexOf(" ")!=-1)){var Q=1;
if(t.startsWith("%AI"))while(t[Q]!="_"&&Q<t.length)Q++;var j9=t.indexOf(":");if(j9==-1)j9=t.indexOf(" ");
var a4=t.slice(Q+1,j9),ar=t.slice(j9+1).trim();e.Header[a4]=ar}}}l=s;if(N[l]==13)l++;if(N[l]==10)l++}return e}function v(N,W){if(N instanceof Array)for(var y=0;
y<N.length;y++)v(N[y],W);else if(typeof N=="object"){for(var G in N){var l=N[G];if(typeof l=="number")W.push(l+" /Int ("+G+") ,");
else if(typeof l=="string")W.push("("+l+") /String ("+G+") ,");else if(l instanceof Array){W.push("/Array :");
v(l,W);W.push("; ("+G+") ,")}else if(typeof l=="object"){W.push("/Dictionary :");v(l,W);W.push("; ("+G+") ,")}}}}function P(N,W){for(var y=0;
y<W.length;y++)if(N.startsWith(W[y]))return!0;return!1}function p(N){var W=[],G=[],top=-1,l,u=null,e=null,M=null,B=0;
for(var s=0;s<N.length;s++){var t=N[s];if(l){t=l+t;l=null}var J="\t".repeat(W.length);if(u!=null){u.push(t);
if(t.endsWith("~>")){var L=_.tA(u.join("")),k=FromPS.F.ASCII85Decode({off:0,buff:L});W.push(k);G.push(!1);
top++;u=null}}else if(M!=null){if(t=="X+"){if(B==1){W.push(M);G.push(!1);top++;M=null}else B--}else if(t=="X=")B++;
else M.push(t)}else if(e!=null){if(t=="/Def ; "){W.push(e);G.push(!1);top++;e=null}else e.push(t)}else if(t=="/Binary : /ASCII85Decode ,"){u=[]}else if(t=="X="){M=[];
B++}else if(t=="/FillStyle : 0 O"){e=["0 O"]}else if(t=="/SVGFilter :"||t=="; /Def ;")continue;else if(t.startsWith("/XMLUIDREF :")){var C=a(t);
W[top][C[4]]=C[2]}else if(t.startsWith("/")&&t[1].toUpperCase()!=t[1].toLowerCase()){if(t.startsWith("/XMLUID")){var C=a(t);
if(G[top])throw"e";W[top][C[4]]=C[2]}if(t.startsWith("/GObjRef")){var C=a(t);if(C.length==7){if(G[top])throw"e";
W[top][C[5]]=C[2]}else{if(!G[top])throw"e";W[top].push(C[2])}}else{var r=t.startsWith("/Array")||t.startsWith("/Document");
W.push(r?[]:{});G.push(r);top++}}else if(t.endsWith(",")){var Q,j9,C=a(t);C.pop();if(C[0]==";"||C.length==1||t==" ,"){j9=W.pop();
G.pop();top--;Q=G[top]?null:C.pop()}else{Q=G[top]?null:C.pop();var a4=C.pop(),ar=C[0];if(a4=="/Int")j9=parseInt(ar);
else if(a4=="/Real")j9=parseFloat(ar);else if(a4=="/Bool")j9=ar=="1";else if(a4=="/String"||a4=="/UnicodeString")j9=C.join("");
else if(a4=="/RealMatrix"||a4=="/RealPoint"||a4=="/RealPointRelToROrigin")j9=C.map(parseFloat);else throw a4}if(G[top])W[top].push(j9);
else W[top][Q]=j9}else if(t==";"){}else if(t==""){}else{if(t.indexOf("/RealPoint")!=-1){}else if(t.startsWith("(")&&t.endsWith(")")){}else if(t.endsWith("/RealMatrix")){}else throw t;
l=l?l+t:t}}return W}function a(N){var W=0,G=[];while(W<N.length){var l=N[W],u=l.charCodeAt(0);if(l==" ")W++;
else if(l==","||l==";"||l==":"){G.push(l);W++}else if(l=="("){var e=W+1;while(!(N[e]==")"&&(N[e-1]!="\\"||N[e-2]=="\\")))e++;
var M=N.slice(W+1,e);G.push(M);W=e+1}else if(l=="/"||l=="-"||48<=u&&u<=57){var e=W;while(N[e]!=" ")e++;
G.push(N.slice(W,e));W=e}else throw l}return G}function D(N){var W="";for(var y=0;y<N.length;y++){if(N[y]=="_"&&N[y+1]=="x"){var h4=parseInt(N.slice(y+2,y+4),16);
W+=String.fromCharCode(h4);y+=4}else if(N[y]=="_")W+=" ";else W+=N[y]}return W}function n(N){var W="xmlnode-nodename",G="xmlnode-nodevalue",l="xmlnode-attributes",u="xmlnode-children",e=N[W].split(":").pop().replace("#",""),M=N[l],B=N[u],s="<"+e;
for(var t in M)if(t!="xmlns"&&t!="xmlns:v")s+=" "+t.split(":").pop()+"=\""+M[t][G]+"\"";s+=">"+(B.length==0?"":"\n");
for(var y=0;y<B.length;y++)s+=n(B[y]);if(N[G])s+=N[G];return s+"</"+e+">\n"}return K}();gH.a5S=function(K,o,Y){var c=d.M.Yq(new hD(0,0,K,o)).z,z=new dF;
z.rotate(Y);d.M.i(c,z,c);var f=d.M.OA(c);return f.m/K};gH.amY=["norm","mul ","scrn","over","sLit",null,"div "];
gH.lW=function(){function K(j){var A=72/j.aE,R=new dF(A,0,0,-A,0,0),g=j.root.children,H=[],i={Js:[],aAB:0},h=16383,B=0,t=0;
for(var y=0;y<g.length;y++)f(g[y],j,R,i,H,0);var x=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+h+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
x.push("%%BeginSetup\r");x=x.concat(i.Js);x=x.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var F=j.add.arts;for(var y=0;y<F.length;y++){var X=F[y];console.log(X);var V=X.BA[0]*A,U=-X.BA[1]*A,Z=X.BA[2]*A,T=-X.BA[3]*A;
x.push("/Dictionary :","("+X.S4+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",h/2+" "+h/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",Y(V)+" "+Y(U)+" /RealPointRelToROrigin"," (PositionPoint1) ,",Y(Z)+" "+Y(T)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}x=x.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var v=[],P=[];for(var y=0;y<j.B.length;y++){var p=j.B[y],a=p.add.TySh;if(a){v.push(a.e9);P.push(a)}}if(v.length!=0){var D=fm.ayX(v,null,null);
function n(X){return X.map(function(J){return"f"+J})}for(var N=0;N<v.length;N++){var a=P[N],W=D._1._1[N],G=W._1._0[0]._0;
G=parseInt(G.slice(1));var l=D._0._8._0[G]._0,u=a.i.clone();u.concat(R);u.scale(1,-1);l._2._2=n([u.g,u.J,u.b0,u.gG,u.B3,u.Z7])}var e=o(D),M=o(D);
x.push("%AI11_BeginTextDocument");x.push("/AI11TextDocument : /ASCII85Decode ,");x=x.concat(e);x.push("0.0001 0.0001 /RulerOrigin ,");
x.push(";");x.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");x=x.concat(M);x.push(";");x.push("%AI11_EndTextDocument")}x.push("%%EndSetup\r");
x=x.concat(H);console.log(H.join("\n"));x.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var y=0;y<x.length;y++){var X=x[y];if(typeof X=="string")X=x[y]=_.tA(X);B+=X.length+1}var s=new Uint8Array(B);
for(var y=0;y<x.length;y++){var X=x[y];s.set(X,t);t+=X.length;s[t]=13;t++}return kd.avd(s).buffer}function o(j){var A=new jQ,R=iQ.ol(j,A)-2,g=O(A.data.slice(0,R)),H=[];
for(var i=0;i<g.length;i+=100){if(g.length-i<103){H.push("%"+g.slice(i));break}H.push("%"+g.slice(i,i+100))}return H}function Y(h4){return h4.toFixed(3)}function c(j,A){var R=j.getName(),g=null;
A.push("%_/ArtDictionary :");if(j.add.vmsk)g=j.add.vmsk.T_;if(j.add.SoLd){var H=d.D.yT(j.add.SoLd);g=Math.atan2(-H.J,H.g)}if(j.add.TySh){var H=j.add.TySh.i;
g=Math.atan2(-H.J,H.g)}if(g!=null&&g!=0)A.push("%_("+g+") /String (BBAccumRotation) ,");if(j.add.TySh)A.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!R.startsWith("<")&&!R.endsWith(">")){var i="";for(var y=0;y<R.length;y++){var h=R[y],x=R.charCodeAt(y);
if(h==" ")i+="_";else if(h=="."||h==":"||h=="-"||48<=x&&x<=57||65<=x&&x<=90||97<=x&&x<=122||127<x)i+=h;
else i+="_x"+x.toString(16).toUpperCase()+"_"}A.push("%_/XMLUID : ("+i+") ; (AI10_ArtUID) ,")}A.push("%_;","%_")}function z(j,A,R){R.push(Y(j[0])+" "+Y(j[1])+" "+Y(j[2])+" "+A)}function f(j,A,R,g,H,i){var h=j.a;
if(i!=0)H.push((h.KL()?0:1)+" Xw");if(h.f$()){var x=!1;for(var y=0;y<j.children.length;y++)if(j.children[y].a.UR)x=!0;
var F=h.add.lsct==eo.bl?1:0;if(i==0){H.push("%AI5_BeginLayer");H.push((h.KL()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
H.push("("+h.getName()+") Ln");H.push(F+" AE");c(h,H)}else{H.push(F+" Ae");H.push(x?"q":"u")}for(var y=0;
y<j.children.length;y++)f(j.children[y],A,R,g,H,i+1);if(i==0)H.push("LB","%AI5_EndLayer--");else{H.push(x?"Q":"U");
c(h,H);$(h,H);H.push("0 0 Xd","6 () XW")}}else{$(h,H);var X=h.add.TySh,V=h.add.vmsk;if(X){H.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",g.aAB+" /StoryIndex ,");
if(b_.C8(X.e9)==1){var U=b_.Ec(X.e9),Z=d.M.Yq(new hD(U[0],U[1],U[2],U[3])).z;d.M.i(Z,X.i,Z);d.M.i(Z,R,Z);
H.push("/Art :","X=","1 Ap",Z[0]+" "+Z[1]+" m",Z[2]+" "+Z[3]+" L",Z[4]+" "+Z[5]+" L",Z[6]+" "+Z[7]+" L",Z[0]+" "+Z[1]+" L","n","X+","; /ConfiningPath ,")}H.push("2 /TextAntialiasing ,",";");
g.aAB++}else if(h.add.SoLd){var T,v,P,p=h.add.SoLd,a=p.Idnt.v,D=A.ai(a,p.Crop?p.Crop.v:null),n=D.W3,T=n[0],v=n[1];
P=d.D.yT(p);var N=new dF(1,0,0,-1,0,0);N.concat(P);N.concat(R);var W=v.Z(),G=v.m,l=v.e,u=d.R(W*4+8);
for(var y=0;y<W;y++){var e=y*4,M=y*3;u[M]=T[e];u[M+1]=T[e+1];u[M+2]=T[e+2];u[3*W+y]=T[e+3]}_.yH(u,W*4,"%EndData");
H.push("%AI5_File:","%AI5_BeginRaster","[ "+[N.g,N.J,N.b0,N.gG,N.B3,N.Z7].map(Y).join(" ")+" ] 0 0 "+[G,l,G,l].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(W*4+4),"XI",u,"XH","%AI5_EndRaster","N")}else if(V){var B=h.add.vstk,s=h.add.vstl,t=s.arm,J=s.avF,L=d.j.rD(V.$)>1;
if(L)H.push("*u","0 Xw");if(t){if(t.length==3)z(t,"Xa",H);else{var k=b(t,g);H.push("Bb",k,"2 BB")}}if(J){var C=eF.a9i.bk(s,C,R._8());
H.push(C.lcap+" J "+C.ljoin+" j "+C.lwidth+" w "+Y(C.mlimit)+" M ["+C.dash.join(" ")+"]0 d");if(J.length==3)z(J,"XA",H);
else{var r=B.strokeStyleContent.v,k=b(J,g);H.push("1 Bb",k,"2 BB")}}var Q=d.M.Y0(V.$,1);d.M.i(Q.z,R,Q.z);
var j9=h.UR?"h\nW\nn":t&&J?"b":t?"f":"s";E(Q,j9,V.fa,H);if(L)H.push("*U")}c(h,H)}}function $(j,A){var R=gH.amY.indexOf(j.YF);
if(R==-1)R=0;A.push(R+" "+Y(j.opacity/255)+" 0 0 0 Xy")}function E(j,A,R,g){g.push(R+" XR");var H=0;
for(var i=0;i<j.G.length;i++){var h=j.G[i],x,F=0,X="";if(h=="M"){F=2;x="m"}if(h=="L"){F=2;x="l"}if(h=="C"){F=6;
x="c"}for(var y=0;y<F;y++)X+=Y(j.z[H+y])+" ";H+=F;if(F!=0)g.push(X+x);if(i==j.G.length-1||j.G[i+1]=="M"){g.push(h=="Z"?A:A.toUpperCase())}}}function b(j,A){var R=q(j,A);
return"1 ("+R+") "+j[2].map(Y).join(" ")+" "+j[3].map(Y).join(" ")+" Bg"}function q(j,A){var R=j[0],H=j[1].slice(0),i="grd"+A.Js.length;
A.Js.push("%AI5_BeginGradient: ("+i+")","("+i+") "+R+" "+H.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(R==0)H=H.reverse();for(var y=0;y<H.length;y++){var h=H[y],x=d.fO(h[1]),F=x.concat(h[1]).map(Y).join(" ")+" 2 "+Y(h[2])+" 6 50 "+Y(h[0]*100);
A.Js.push(F+" %_BS");A.Js.push("%_"+F+" Bs")}A.Js.push("BD","%AI5_EndGradient");return i}function O(j){var A=[85*85*85*85,85*85*85,85*85,85,1],R="",g=j.length,H=new Uint8Array(4),i=new Uint32Array(H.buffer);
for(var y=0;y<g;y+=4){var h=g-y;H[3]=j[y];H[2]=h>1?j[y+1]:0;H[1]=h>2?j[y+2]:0;H[0]=h>3?j[y+3]:0;var x=i[0],F=1+Math.min(4,h);
for(var X=0;X<F;X++){var V=Math.floor(x/A[X]);R+=String.fromCharCode(33+V);x-=V*A[X]}}return R+"~>"}return K}();
function hG(){}hG.qz=function(){var K,o,Y,c,z,h,x,F;function f(W){return _.sA(K,W)}function $(W){return _.Bt(K,W)}function E(W){return _.rT(K,W)}function b(W){return _.$C(K,W)}function q(W,G){var l=[];
for(var y=0;y<G;y++)l.push(E(W+y*4));return l}function O(W,G){var l=[];for(var y=0;y<G;y++)l.push(f(W+y*8));
return l}function j(W){return E((W+1)*4096-12)}function A(W){return E((W+1)*4096-8)}function R(W,o,G,l){if(c[W]==null)c[W]=[];
c[W].push([l,new Uint8Array(K.buffer,o,G)])}function g(W,G,l,u){var e=Y[W],o=e*4096;o=o+E(o+4096-24-12-G*4);
var M=$(o),B=K[o+2],s=K[o+3];if(G!=B)throw B;if(s==0)R(u,o+4,l,9);else{var t=$(o+6),J=E(o+8);R(u,o+12,M-12,9);
g(J,t,l-(M-12),u)}}function H(){var W=E(352),G=E(W*4096+128),l=E(936);Y=[];c={};z={};for(var y=0;y<1e9;
y++){var u=E(l*4096+128+y*4);if(u==0)break;var e=q(u*4096+128,4096-128-12>>>2);Y=Y.concat(e)}for(var M=0;
M<Y.length;M++){var B=Y[M],s=j(B);if(s!=6)continue;var o=B*4096,t=E(o);o+=4;for(var y=0;y<t;y++){var J=E(o);
o+=4;var L=E(o);o+=4;var k=E(o);o+=4;var C=E(o);o+=4;if(J==0)z[L]=k;else{var r=k&65535,Q=k>>>16;if(Q==0)R(L,C*4096,r,8);
else g(C,Q,r,L)}}}var h={};for(var j9 in c){var a4=c[j9],ar=a4.length;if(ar==1)h[j9]=a4[0][1];else{var ez=0,o=0;
for(var y=0;y<ar;y++)ez+=a4[y][1].length;var ja=h[j9]=new Uint8Array(ez);for(var y=0;y<ar;y++){ja.set(a4[y][1],o);
o+=a4[y][1].length}}}return h}function i(o,W){var G=W?E(o):$(o),l="";o+=W?4:2;while(l.length<G){var u=K[o++],e=K[o++],M=0,B="";
u+=(e&15)*256;e=e&240;for(var y=0;y<u;y++){if(e==64)M=K[o++];else if(e==128)M=K[o++]|K[o++]<<8;else throw e;
B+=String.fromCharCode(M)}l+=B}return[l,o]}function X(o,W,G){var l=q(o,W);for(var y=0;y<W;y++){G.push(y);
if(l[y]>x)throw"e";l[y]=U(l[y],G);G.pop()}return l}var V={};function U(W,G){if(F.indexOf(W)!=-1)return h[W];
if(W==0)return null;if(h[W]==null)return null;if(!(h[W]instanceof Uint8Array))return h[W];var l=K,o=0;
K=h[W];F.push(W);var u=z[W].toString(16),e=h[W]={_type:N[u]?N[u]+":"+u:"typ-"+u,_eid:W};while(o+8<K.length){var M=E(o);
o+=4;var B=M.toString(16),s=E(o);o+=4;var t=o+s;if(o+s>K.length){e._bin=K;break}Z(B,p,e,o,s,G);o=t}K=l;
F.pop();return e}function Z(W,G,l,o,u,e){var M=G[W+":"+l._type];if(M==null)M=G[W];e.push(M?M[0]==""?W:M[0]:W);
if(M){var B=M[0],s=null,t=M[1];if(B=="")B=t+"-"+W;if(D[t]&&u!=D[t]){console.log(t);console.log(W,M);
console.log(K.slice(o,o+u));throw"e"}if(t=="mat")s=O(o,6);else if(t=="mmat")s=[U(E(o),e),O(o+6,6)];else if(t=="rect")s=O(o,4);
else if(t=="mrct"){s=O(o,4);s.push($(o+32))}else if(t=="doub")s=f(o);else if(t=="pointArr"){var J=$(o);
s=q(o+2,J*2)}else if(t=="usrt")s=$(o);else if(t=="uint")s=E(o);else if(t=="pntr"||t=="ptr6"){s=U(E(o),e)}else if(t=="bool2"){if($(o)!=0&&$(o)!=1)throw $(o);
s=$(o)==1}else if(t=="bool4"){if(E(o)!=0&&E(o)!=1)throw W+","+E(o);s=E(o)==1}else if(t=="color"){if(u!=38&&u!=30)throw u;
var L=E(o),k=$(o+4);s=[L];for(var y=0;y<k;y++)s.push(f(o+6+y*8))}else if(t=="path"){var C=o+u;s=[];var r=E(o);
o+=4;for(var y=0;y<r;y++){var Q=[[]];s.push(Q);var j9=E(o);o+=4;for(var a4=0;a4<j9;a4++){var L=E(o);
o+=4;if(L<2){Q[0].push([L,f(o),f(o+8),f(o+16),f(o+24),f(o+32),f(o+40)]);o+=48}else if(L==2){Q[0].push([L,f(o),f(o+8)]);
o+=16}else throw L}Q.push($(o));o+=2}}else if(t=="ptrAndList"){var ar=E(o),ez=E(o+4);s=X(o+8,ez,e);s.unshift(U(ar,e))}else if(t=="ptrArray"||t=="ptrArrayX"){var ja=u>>2;
if(t=="ptrArray"){ja=E(o);o+=4;if(u!=4+ja*4)throw u}s=X(o,ja,e)}else if(t=="ptrArray2"){var ja=E(o);
o+=4;s=X(o,ja,e);o+=ja*4;ja=E(o);o+=4;s.push(X(o,ja,e))}else if(t=="cldrn"){var c3=E(o),hW=E(o+4),ja=E(o+8);
s={I:U(c3,e),Wi:U(hW,e),h6:X(o+12,ja,e)};if(u!=12+ja*4){console.log(W,sa);throw"e"}if(c3==0)throw c3}else if(t=="aprnc"){var ja=E(o);
o+=4;s={};for(var y=0;y<ja;y++){var fO=E(o),ei=$(o+4),fV=$(o+6);o+=8;var aW=n[fO.toString(16)];if(aW==null)aW="prm-"+fO.toString(16);
else aW=P(aW);s[aW]=[];for(var a4=0;a4<fV;a4++){var ee=E(o),hM=$(o+4),ds=null;o+=6;if(ee==28264)ds=f(o);
else if(ee==28263)ds=E(o);else if(ee==279||ee==6917)ds=U(E(o),e);else if(ee==28261)ds=$(o)==1;else if(ee==28265)ds=[f(o),f(o+4)];
else if(ee==6914||ee==83231)ds=i(o+3)[0];else if(ee==28259||ee==28260||ee==23094||ee==67679){ds=K.slice(o,o+hM)}else throw ee.toString(16);
s[aW].push(ds);o+=hM}}}else if(t=="lopts"){s={abY:$(o+0)==1,show:$(o+2)==1,apL:$(o+4)==1,$k:E(o+10),name:i(o+21)[0]}}else if(t=="origin"){var C=o+u;
if(K[o++]!=1)throw"e";var J=E(o);o+=4;var cp=_.H9(K,o,J);o+=J;if(K[o++]!=1)throw"e";var eA=K[o++];if(eA!=1&&eA!=53)throw eA;
var db=$(o);o+=2;if(db!=0&&db!=1)throw db;var js=E(o);o+=4;if(js!=0&&js!=1)throw js;var bF=E(o);o+=4;
if(bF!=0&&bF!=2&&bF!=3)throw bF;var jI=E(o);o+=4;var gF=i(o,!0);o=gF[1];gF=gF[0];var b6=E(o),ji=E(o+4);
o+=8;var hd=E(o);o+=4;if(hd!=0)throw hd;var eZ=E(o);o+=4;o+=3;var hj=i(o)[0];o+=2+2+hj.length;s={file:cp,id:gF,ks:hj}}else if(t=="string")s=i(o+3)[0];
else if(t=="relEnt"){var eK=$(o);o+=2;s=[];for(var y=0;y<eK;y++)s.push([E(o+y*8),U(E(o+y*8+4),e)])}else if(t=="textData"){var C=o+u,cX=E(o);
o+=4;var fO=E(o);o+=4;var k=$(o);o+=2;var bW=[];for(var y=0;y<k;y++){var ju=E(o);o+=4;if(cX==514)bW.push(i(o,!0)[0]);
else if(cX==515){var ci=E(o),W=E(o+4),hH=T(o+8,e);bW.push([ci,U(W,e),hH])}else if(cX==516){var ci=E(o),W=E(o+4),b8=$(o+8),hH=T(o+8,e);
bW.push([ci,U(W,e),hH])}else bW.push(K.slice(o,o+ju));o+=ju}if(C-o!=12)throw C-o;s=bW}else if(t=="storyProps"){var gh=E(o);
if($(o+4)>1)throw"e";var aN=U(E(o+6),e),k=E(o+10),eS=U(E(o+14+k*4),e);s={axM:gh,axa:aN,h6:X(o+14,k,e),azX:eS,a6f:q(o+14+k*4+4,4)}}else if(t=="styleProps")s=T(o,e);
else if(t=="bounds"){var b2=o,eK=E(o);o+=4;s=[];for(var y=0;y<eK;y++){var fZ=[];s.push(fZ);for(var a4=0;
a4<4;a4++)fZ.push(f(o+a4*8));o+=32;fZ.push(K[o]);o++}if(o!=b2+u)throw"e"}else if(t=="columnPos"){var eK=E(o);
o+=4;s=[O(o,eK),f(o+eK*8)];o+=eK*8+8}else if(t=="StyleName"){s=[E(o+4)]}else if(t=="fontName"){var C=o+u;
s=[$(o)];o+=2;for(var y=0;y<2;y++){var cp=i(o+3);o=cp[1];s.push(cp[0])}s.push(E(o));o+=4;var dw=$(o);
o+=2;s.push(dw);var ib=$(o);o+=2;var eJ=[];s.push(eJ);for(var df=0;df<ib;df++){var k5=[];eJ.push(k5);
var cp=i(o+3);o=cp[1];k5.push(cp[0]);var eC=$(o);o+=2;var cp=_.H9(K,o,eC);o+=eC;k5.push(cp);for(var y=0;
y<3;y++){var cp=i(o+3);o=cp[1];k5.push(cp[0])}k5.push(E(o));o+=4;var cp=i(o,!0);o=cp[1];k5.push(cp[0])}if(o+4!=C)throw"e";
s.push(E(o))}else throw t;if(l[B]!=null){console.log(B,l[B],s);console.log(e.slice(0));console.log(eid,W,o,l[B],M,s);
throw"e"}l[B]=s}else{var j7=K.slice(o,o+u);l["prop-"+W]=j7}e.pop()}function T(o,W){var G=$(o);o+=2;var l={};
for(var y=0;y<G;y++){var u=E(o);o+=4;var e=u.toString(16),M=$(o);o+=2;var B=$(o);o+=2;for(var s=0;s<B;
s++){var t=E(o);o+=4;var J=$(o);o+=2;Z(e,a,l,o,J,W);o+=J}}return l}function v(W){K=new Uint8Array(W);
h=H();var G=h[2147483649];G=_.DI(G,4,G.length-4);delete h[2147483649];x=0;for(var l in h)x=Math.max(x,parseInt(l));
F=[];var u={};for(var l in h)u[l]=h[l];for(var l in h)U(parseInt(l),[]);return h}function P(W){W=W.split(" ").join("");
return W[0].toLowerCase()+W.slice(1)}var p={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},a={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},D={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},n={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},N={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return v}();function iJ(){}iJ.qz=function(){var K=0;function o(j,A){var R=hG.qz(j),a=1;K=0;var g=R[1],H=g.spreads,i=[],h=new hD;
for(var x=0;x<H.length;x++){var F=H[x],X=F.children.h6,V=c(F),U=X[0].children.h6,Z=new hD;for(var T=0;
T<U.length;T++){var v=U[T],P=c(v);P.concat(V);var p=Y(v);p.offset(P.B3,P.Z7);p=d.M.tS(p);Z=Z.Bb(p)}i.push(Z);
h=h.Bb(Z)}while(Math.sqrt(h.Z())*a<1e3)a++;A.m=h.m*a;A.e=h.e*a;A.buffer=new Uint8Array(4*A.m*A.e);A.$P=!0;
A.aE=Math.round(72*a);A.Y4(H.length);for(var x=0;x<H.length;x++){var F=H[x],X=F.children.h6,D=A.Uu();
D.Gh=24;D.add.lsct=eo.bl;D.vd("Artboard "+(x+1));var n=i[x].clone();n.offset(-h.x,-h.y);n.x*=a;n.y*=a;
n.m*=a;n.e*=a;n=d.M.tS(n);D.HL(n);D.YF="pass";A.B.push(A.uR());var V=c(F);V.translate(-h.x,-h.y);V.scale(a,a);
var N={};for(var W=0;W<X.length-1;W++){var G=X[W],l=G.children.h6,u=A.Uu(),e=G.layer.lopts;if(e.name=="Internal_pages_layer_name"||N[e.name])continue;
N[e.name]=!0;u.Gh=24;u.add.lsct=eo.bl;u.vd(e.name);u.dt(e.show);if(e.abY)u.add.lspf=1<<31;u.YF="pass";
A.B.push(A.uR());for(var y=0;y<l.length;y++)b(l[y],A,V,R);A.B.push(u)}A.B.push(D)}}function Y(j){var A=j.rect;
return new hD(A[0],A[1],A[2]-A[0],A[3]-A[1])}function c(j){var A=j.transform;return new dF(A[0],A[1],A[2],A[3],A[4],A[5])}function z(j){var A=j.color,R=j.parentFill,H;
if(A==null&&R)A=R.color;if(A==null){console.log("strange color",j);return[0,0,0]}var g=A[0];if(g==5)H=A.slice(1);
else if(g==6)H=UDOC.C.cmykToRgb(A.slice(1));else if(g==7){var i=d.ui(A[1],A[2],A[3]);H=[i.o/255,i.A/255,i.J/255]}else if(g==14){H=A.slice(1);
console.log("unsure about the color")}else{console.log(A);throw g}return H}function f(j){var A=z(j);
return d.H.eD({o:A[0]*255,A:A[1]*255,J:A[2]*255})}function $(j){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[j]}function E(j,A){var y=0,R=0;
while(R+j[y][0]<=A){R+=j[y][0];y++}j=j[y][1].textData;y=0;while(R+j[y][0]<=A){R+=j[y][0];y++}return j[y]}function b(j,A,R,g){var H=j.transform?c(j):new dF;
H.concat(R);var i=j.path,h=j.appearance,x=j.visible,F=j.children?j.children.h6:null,X=A.Uu();if(x!=null)X.dt(x);
var V=F&&F.length==1&&F[0].bitmapFill,U=j["bool2-1623"]&&F&&F.length==1&&F[0].rect&&F[0]._type.startsWith("TextFrame");
if(V){X.vd("bitmap");var Z=F[0],T=Y(Z),v=c(Z),n=null;v.concat(H);var P=Z.bitmapFill.bitmap;P=g[P]._bin;
if(P.length!=P.buffer.byteLength)P=P.slice(0);if(P[0]==123){console.log("unknown bitmap format");return}var p=A.o3(P,"img.jpg",0,0);
p.Gh=X.Gh;X=p;var a=[0,0,T.m,0,T.m,T.e,0,T.e];d.M.i(a,v,a);X.add.SoLd.Trnf=m.OB.c5(a);X.add.SoLd.nonAffineTransform=m.OB.c5(a);
X.Mc(A,!1);var D=Z.path;if(D&&D.length!=0)n=O(D,v,h);else if(i&&i.length!=0)n=O(i,H,h);if(n){var N=d.j.QJ(n.$),W=d.M.OA(a);
if(N.Z()/W.wu(N).Z()>1.1){if(N.contains(W))n=null;var G=j.children;j.children=null;b(j,A,R,g);j.children=G}}if(n)X.add.vmsk=n;
X.D8();X.WG(A)}else if(U){if(h&&h.strokeSwatch){var l=A.Uu();q(l,A,h,i,H);A.B.push(l)}var u=F[0],T=Y(u),v=c(u),c3=0;
v.concat(H);var e=u.children.h6[0],M=e.obj228,B=M[0].story[1],s=B.stoProps.axa.relEnt,t=B.stoProps.h6[0].relEnt,J=B.stoProps.h6[1]["ptrArrayX-210"][0].textData,L=g[s[0][1].textData[0][1].name[0]],k=L?L.styProps:{};
J=J.join("").replace(/\r/g,"\n");var C=-1;while((C=J.indexOf("\uFFFC"))!=-1){J=J.slice(0,C)+(J[C-1]=="\n"?" ":" ")+J.slice(C+1)}X.vd(J.slice(0,255));
X.add.lnsr="rend";X.add.TySh=b_.HO(0,0);X.add.TySh.jT=T;X.add.TySh.i=v;var r=X.add.TySh.e9;b_.Df(r,0,J);
var Q=b_.Sw(r,0,J.length);Q.Pf.FontSize=10;b_.K2(r,0,J.length,Q);var j9=[];if(J.length!=0){var a4=E(s,0),ar=E(t,0),ez=1;
for(var y=1;y<J.length;y++){var i=E(s,y),ja=E(t,y);if(i!=a4||ja!=ar){j9.push(ez);ez=0}a4=i;ar=ja;ez++}if(ez!=0)j9.push(ez)}for(var y=0;
y<j9.length;y++){var hW=E(t,c3),fO=j9[y],ei=Math.min(c3+fO,J.length-1),fV=hW[2],aW=hW[1].styProps;if(aW==null)aW={};
var ee=E(s,c3),hM=ee[1].styProps,ds=ee[2],cp={};for(var eA in k)cp[eA]=k[eA];for(var eA in hM)cp[eA]=hM[eA];
for(var eA in ds)cp[eA]=ds[eA];for(var eA in aW)cp[eA]=aW[eA];for(var eA in fV)cp[eA]=fV[eA];var Q=b_.Sw(r,c3,ei),db=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],js=db.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var bF=0;bF<js.length;bF++){var eA=js[bF],jI=bF<db.length?Q.Pf:Q.Nd;if(cp[eA]!=null)jI[eA]=cp[eA]}if(cp.fillColor){var gF=z(cp.fillColor);
Q.Pf.FillColor={Type:1,Values:[1].concat(gF)}}if(cp.font){var b6=cp.font.name[5],ji=cp.fontStyle;if(ji==null)ji="Regular";
for(var hd=0;hd<b6.length;hd++)if(b6[hd][0]==ji)b_.iN(Q,b6[hd][1])}if(cp.leading!=null&&cp.leading>1){Q.Pf.Leading=cp.leading;
Q.Pf.AutoLeading=!1}if(cp.align!=null)Q.Nd.Justification=[0,2,1,6,3,5,4,0,0,0][cp.align];b_.K2(r,c3,ei,Q);
c3+=fO}b_.go(r,1);b_.X$(r,[0,0,Math.round(T.m),Math.round(T.e)])}else if(j._type.startsWith("Path")&&(F==null||F.length==0)&&i){q(X,A,h,i,H)}else{var eZ=j["prop-14526"];
if(F==null&&eZ){var hj=g[_.rT(eZ,20)];F=[hj]}if(F){if(i&&i.length!=0){X.add.vmsk=O(i,H,h);X.D8();X.WG(A)}X.vd("group");
X.Gh=24;X.add.lsct=eo.bl;A.B.push(A.uR());for(var y=0;y<F.length;y++)b(F[y],A,H,g)}}if(h){var cX=h.objectBlendingMode,bW=h.objectOpacity,ju=h.fillTint,b8=!1;
if(cX)X.YF=$(cX[0]);if(bW)X.opacity=Math.round(X.opacity*bW[0]/100);if(!V&&ju)X.opacity=Math.round(X.opacity*ju[0]/100);
var ci=JSON.parse(eF.default);for(var y=0;y<eF.order.length;y++)ci[eF.nk[y]]={t:"VlLs",v:[]};var gh="dropShadow innerShadow satin bevel iglow oglow".split(" "),aN="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var y=0;y<gh.length;y++){var eS=gh[y];if(h[eS]&&h[eS][0]){var b2=h[eS],dw=135,ib=10;b8=!0;var fZ=JSON.parse(eF.NF[eF.order.indexOf(aN[y])]);
ci[eF.nk[eF.order.indexOf(aN[y])]].v.push({t:"Objc",v:fZ});if(h[eS+"Color"])fZ.Clr.v=f(h[eS+"Color"][0]);
else if(gh[y]=="iglow"||gh[y]=="oglow")fZ.Clr.v=d.H.eD({o:255,A:255,J:255});if(h[eS+"ColorH"])fZ.hglC.v=f(h[eS+"ColorH"][0]);
if(h[eS+"ColorS"])fZ.sdwC.v=f(h[eS+"ColorS"][0]);if(h[eS+"BMode"])fZ.Md.v.BlnM=jw.OM($(h[eS+"BMode"][0]));
if(h[eS+"BModeH"])fZ.hglM.v.BlnM=jw.OM($(h[eS+"BModeH"][0]));if(h[eS+"BModeS"])fZ.sdwM.v.BlnM=jw.OM($(h[eS+"BModeS"][0]));
if(h[eS+"Opacity"])fZ.Opct.v.val=h[eS+"Opacity"][0];if(h[eS+"OpacityH"])fZ.hglO.v.val=h[eS+"OpacityH"][0];
if(h[eS+"OpacityS"])fZ.sdwO.v.val=h[eS+"OpacityS"][0];if(h[eS+"Size"])fZ.blur.v.val=h[eS+"Size"][0];
if(h[eS+"Angle"])dw=h[eS+"Angle"][0];if(h[eS+"Dist"])ib=h[eS+"Dist"][0];if(h[eS+"DX"]){var eJ=h[eS+"DX"][0],df=h[eS+"DY"][0];
ib=Math.round(Math.sqrt(eJ*eJ+df*df));dw=Math.round(Math.atan2(df,-eJ)*180/Math.PI)}if(fZ.lagl)fZ.lagl.v.val=dw;
if(fZ.Dstn)fZ.Dstn.v.val=ib;if(fZ.uglg)fZ.uglg.v=!1;if(h[eS+"Invert"])fZ.Invr.v=h[eS+"Invert"][0];else if(gh[y]=="satin")fZ.Invr.v=!1;
if(h[eS+"Alt"])fZ.Lald.v.val=h[eS+"Alt"][0];if(h[eS+"Depth"])fZ.srgR.v.val=h[eS+"Depth"][0];if(h[eS+"Choke"])fZ.Ckmt.v.val=h[eS+"Choke"][0]}}if(b8)X.add.lmfx=ci}if(j.name)X.vd(j.name);
else if(h&&h.name)X.vd(h.name[0]);A.B.push(X)}function q(j,A,R,g,H){j.vd("path");j.Gh|=16;j.add.vmsk=O(g,H,R);
var i=j.add.vstk=eF.oc.Ta(!0),h=null;if(R){var x=R.strokeSwatch,F=R.fillSwatch,X=R.basicFeather,V=R.basicFeatherWidth,U=R.strokeWeight;
i.strokeEnabled.v=x!=null;i.fillEnabled.v=F!=null;if(X)j.add.vmsk.cG=V?V[0]:9;if(x){i.strokeStyleLineWidth.v.val=U?U[0]:1;
h=f(x[0]);i.strokeStyleContent.v.Clr.v=h}if(F){h=f(F[0])}}if(h)j.add.SoCo={classID:"null",Clr:{t:"Objc",v:h}};
j.D8();j.WG(A)}function O(j,A,R){var g=new S.kZ,H=g.$;for(var i=0;i<j.length;i++){var h=j[i],x=h[0].length,F=h[1]==0,X=F?0:3;
H.push({type:X,length:x,fa:0,VB:2,JV:0,XT:0});for(var y=0;y<x;y++){var V=h[0][y],U=V[0],Z=new jc(V[1],V[2]),T=new jc(V[3],V[4]),v=new jc(V[5],V[6]);
if(U==0||U==1)H.push({type:X+2,KK:Z,P:T,eb:v});else if(U==2)H.push({type:X+2,KK:Z,P:Z,eb:Z});else throw U}}d.j.k3(H,A);
return g}return o}();var bR=function(K){function o($,E){var b=[];for(var y=0;y<9;y++){var q=_.s($,E+y*4);
if(y%3==2)b.push((q>>>30)+(q&1073741823)/1073741823);else b.push((q>>>16)+(q&65535)/65535)}return b}function Y($,E,b,q){var O={},j=_.s,A=_.vP;
while(E<b){var R=E,g=_.s($,E);E+=4;if(g==0){g=_.s($,E);E+=4}var H=_.H9($,E,4);E+=4;if(g==0)throw"e";
if(g==1){g=_.Io($,E);E+=8}var i=R+g,h="".padStart(q,"\t"),x={};if(H=="mvhd"){var F=$[E];if(F!=0)throw"e";
E+=4;x.amP=j($,E);E+=4;x.a9p=j($,E);E+=4;x.RC=j($,E);E+=4;x.duration=j($,E);E+=4;x.aAm=j($,E);E+=4;x.volume=A($,E);
E+=2;E+=10;x.aqD=o($,E);E+=4*9;x.a2R=[];for(var y=0;y<6;y++)x.a2R.push(j($,E+y*4));E+=4*6;x.aky=j($,E);
E+=4}else if(H=="tkhd"){var F=$[E];if(F!=0)throw"e";E+=4;x.amP=j($,E);E+=4;x.a9p=j($,E);E+=4;x.atV=j($,E);
E+=4;E+=4;x.duration=j($,E);E+=4;E+=8;x.a=A($,E);E+=2;x.alC=A($,E);E+=2;x.volume=A($,E);E+=2;E+=2;x.aqD=o($,E);
E+=4*9;x.Fv=j($,E)>>>16;E+=4;x.jd=j($,E)>>>16;E+=4}else if(H=="mdhd"){x.Gh=j($,E);E+=4;x.amP=j($,E);
E+=4;x.a9p=j($,E);E+=4;x.RC=j($,E);E+=4;x.duration=j($,E);E+=4;x.lang=A($,E);E+=2;x.hS=A($,E);E+=2}else if(H=="hdlr"){var X=j($,E);
E+=4;if(X!=0)throw X;x.tM=_.H9($,E,4);E+=4;x.aCp=_.H9($,E,4);E+=4;x.acn=j($,E);E+=4;x.Gh=j($,E);E+=4;
x.ayZ=j($,E);E+=4;var V=E;while($[V]!=0)V++;x.name=_.H9($,E,V-E);E+=V-E+1}else if(H=="stsd"){var X=j($,E);
E+=4;if(X!=0)throw X;var U=j($,E);E+=4;if(U!=1)throw U;var Z=j($,E);E+=4;x.FG=_.H9($,E,4);E+=4;if(x.FG=="mett"){x.avG=_.H9($,E,i-E)}else{for(var y=0;
y<6;y++)if($[E+y]!=0)throw"e";E+=6;x.aou=A($,E);E+=2;x.aCL=A($,E);E+=2;x.ag5=A($,E);E+=2;x.aaX=j($,E);
E+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,raw ".split(",").indexOf(x.FG)!=-1){x.a6c=j($,E);E+=4;x.ad6=j($,E);
E+=4;x.ayr=[A($,E),A($,E+2)];E+=4;x.avB=[j($,E)/(1<<16),j($,E+4)/(1<<16)];E+=8;var T=j($,E);E+=4;if(T!=0)throw"e";
var v=A($,E);E+=2;if(v!=1)throw"e";var P=$[E];E++;x.ajL=_.H9($,E,P);E+=31;x.a3l=A($,E);E+=2;var p=A($,E);
E+=2;if(p!=65535)throw"e";if(E!=i)x.abc=Y($,E,i,q+1)}else if("mp4a enca samr sawb ec-3 ac-3".split(" ").indexOf(x.FG)!=-1){x.Kl=A($,E);
E+=2;x.a4N=A($,E);E+=2;var a=A($,E);E+=2;if(a!=0&&a!=65534)throw a;var D=A($,E);E+=2;if(D!=0)throw D;
x.agg=j($,E)/(1<<16);E+=4}else if(x.FG=="tx3g"||x.FG=="text"||x.FG=="mebx"){}else if(x.FG=="tmcd"){}else throw x.FG}}else if(H=="stts"||H=="stsz"||H=="stco"||H=="stsc"||H=="ctts"){var X=j($,E),n=0,W=0;
E+=4;if(X!=0)throw X;if(H=="stsz"){n=j($,E);E+=4}var N=j($,E)*(H=="stsc"?3:H=="stts"||H=="ctts"?2:1);
E+=4;x=[];for(var y=0;y<N;y++){if(n!=0)x.push(n);else{x.push(j($,E));E+=4}}for(var y=0;y<N;y++)W+=x[y]}else if(H=="co64"){var X=j($,E);
E+=4;if(X!=0)throw X;var N=j($,E);E+=4;x=[];for(var y=0;y<N;y++){x.push(_.Io($,E));E+=8}}else if(H=="moov"||H=="trak"||H=="mdia"||H=="minf"||H=="dinf"||H=="stbl"){x=Y($,E,i,q+1)}else{x.w=E;
x.lp=g}E=i;if(H=="trak"){if(O[H]==null)O[H]=[];O[H].push(x)}else{if(O[H]!=null)throw H;O[H]=x}}return O}function c($){var E=new Uint8Array($);
return Y(E,0,E.length,0)}function z($,E,b){var q=f($,E),O=q.mdia.minf.stbl,j=O.stsc,A=0,R=0;for(var y=0;
y<j.length;y+=3){var g=(y+3<j.length?j[y+3]:1e4)-j[y],H=R+g*j[y+1];if(R<=b&&b<H){while(R+j[y+1]<=b){A++;
R+=j[y+1]}break}A+=g;R=H}var i=O.stco;if(i==null)i=O.co64;var h=i[A];while(R<b){h+=O.stsz[R];R++}return[h,O.stsz[b]]}function f($,E){var b=$.moov.trak;
for(var y=0;y<b.length;y++)if(b[y].mdia.hdlr.aCp==E)return b[y]}return{qz:c,anO:z,ajS:f}}(),m={};m.GR=function(K){return window.devicePixelRatio||1};
m.bE=function(K,o){return(o.aee=="touch"?12:8)*m.GR()/K.Q.O};m.Fh=function(K,o,Y){this.name=K;this.id=o;
this.qT=null;if(Y!=null)this.hF=Y};m.Fh.prototype.yx=function(K,o,Y,c,z){};m.Fh.prototype.enable=function(K,o,Y,c,z,f){var $=new h1(w.E.L,!0);
$.data={d:w.I.eZ,gg:"default"};o.c($)};m.Fh.prototype.disable=function(K,o,Y,c,z){};m.Fh.prototype.aaE=function(K,o,Y,c,z){return!1};
m.Fh.prototype.tx=function(K,o,Y,c,z){};m.Fh.prototype.N8=function(K,o,Y,c,z){};m.Fh.prototype.D3=function(K,o,Y,c,z){};
m.Fh.prototype.pt=function(K,o,Y,c,z,f){};m.Fh.prototype.aj=function(K,o,Y,c,z){};m.Fh.prototype.Ed=function(K,o,Y,c){};
m.Fh.prototype.Ok=function(K,o,Y,c){};m.Fh.prototype.PZ=function(K,o){};m.Fh.prototype.mt=function(K,o){};
m.Fh.prototype.gI=function(K){return 0};m.Fh.prototype.SX=function(K,o,Y,c,z){};m.Fh.prototype.fL=function(K,o){};
m.Fh.prototype.rC=function(K,o){return!1};m.Fh.prototype.bZ=function(K,o){return!1};m.Fh.prototype.$l=function(){return!1};
m.Fh.prototype.IA=function(K,o){return!0};m.Fh.prototype.Hn=function(){return null};m.Fh.prototype.jH=function(K,o,Y){};
m.Fh.prototype.aCK=function(){return!1};m.Fh.prototype.It=function(K,o,Y,c){};m.Fh.prototype.track=function(K){var o=new h1(w.E.hP,!0);
o.data=K;K.Un=!0;this.qT.c(o)};m.Fh.ew=function(K,o,Y,c){var z=10*m.GR()*(K.aee=="touch"?2:1),f=K.x+z,$=K.y-z,E=d.Rf.wk(o.m,Y.aE,c,Y.m,!0),b=d.Rf.wk(o.e,Y.aE,c,Y.e,!0);
while(E.length<b.length)E=" "+E;while(E.length>b.length)b=" "+b;m.Fh.OH(f,$,[ca.get([12,41]).charAt(0)+": "+E,ca.get([12,42]).charAt(0)+": "+b],Y)};
m.Fh.OH=function(K,o,Y,c){function z(q,H,i,h,x,F){q.beginPath();q.moveTo(H,i+F);q.arcTo(H,i+x,H+F,i+x,F);
q.arcTo(H+h,i+x,H+h,i+x-F,F);q.arcTo(H+h,i,H+h-F,i,F);q.arcTo(H,i,H,i+F,F)}var f=m.GR(),$=Math.round,E=$(11*f),b=m.Fh.akJ,O=0;
if(b==null)b=m.Fh.akJ=document.createElement("canvas");var q=b.getContext("2d");q.font=E+"px monospace";
for(var y=0;y<Y.length;y++)O=Math.max(O,q.measureText(Y[y]).width);var j=$(O+12*f),A=$((Y.length*14+5)*f),R=new hD(K,o-A,j,A);
if(b.width!=j||b.height!=A){b.width=j;b.height=A;q.font=E+"px monospace"}q.clearRect(0,0,j,A);q.fillStyle="rgba(0,0,3,0.8)";
z(q,0,0,j,A,$(4*f));q.fill();q.fillStyle="rgba(255,255,255,1)";for(var y=0;y<Y.length;y++)q.fillText(Y[y],$(6*f),$((y+1)*13*f));
var g=[q.getImageData(0,0,j,A).data,R.clone()];if(c)c.N.Rw=[g];return g};m.Fh.akJ=null;m.Wh="0";m.at="1";
m.acr="2";m.auW="3";m.RQ="5";m.aoT="6";m.alL="7";m.$x="8";m.qR="9";m.yk="10";m.Gs="11";m.YM="12";m.GC="13";
m.Bx="14";m.aps="15";m.Yn="16";m.em="18";m.nG="19";m.jZ="20";m.Dn="21";m.He="22";m.ra="23";m.gR="24";
m.rM="25";m.Me="27";m.by="31";m.i$="32";m.a7R="33";m.iw="34";m.ar9="35";m.Qe="36";m.GH="37";m.C0="38";
m.au="39";m.vn="40";m.oZ="41";m.pf="42";m.ey="43";m.anE="44";m.oB="47";m.Fd="48";m.h_="51";m._D="52";
m.uO="54";m.ty="55";m.hs="56";m.TU="57";m.Dt="58";m.AC="59";m.UO="60";m.bx="61";m.qd="70";m.aj7="71";
m._6="100";m.Lz="101";m.UN="102";m.OL="103";m.AF="120";m.Ay="230";m.atG="231";m.s5="232";m._V="233";
m.la="234";m.lj="235";m.oa="236";m.nS={};m.nS[m.ra]="tools/brush";m.nS[m.gR]="tools/pencil";m.nS[m.by]="tools/eraser";
m.Ru={PcTl:m.gR,PbTl:m.ra,moveTool:m.Wh,cloneStampTool:m.Me,typeCreateOrEditTool:m.oB,artboardTool:m.qd,marqueeRectTool:m.at,typeVerticalCreateOrEditTool:m.Fd,perspectiveCropTool:m.Gs,marqueeEllipTool:m.acr,eyedropperTool:m.Bx,eraserTool:m.by,pathComponentSelectTool:m.h_,lassoTool:m.RQ,backgroundEraserTool:m.i$,directSelectTool:m._D,polySelTool:m.aoT,rectangleTool:m.uO,magneticLassoTool:m.alL,gradientTool:m.iw,quickSelectTool:m.$x,bucketTool:m.ar9,ellipseTool:m.ty,magicWandTool:m.qR,blurTool:m.Qe,polygonTool:m.hs,cropTool:m.yk,sharpenTool:m.GH,lineTool:m.TU,sliceTool:m.YM,smudgeTool:m.C0,customShapeTool:m.Dt,sliceSelectTool:m.GC,dodgeTool:m.au,spotHealingBrushTool:m.em,burnInTool:m.vn,saturationTool:m.oZ,penTool:m.pf,redEyeTool:m.He,freeformPenTool:m.ey,rulerTool:m.Yn,paintbrushTool:m.ra,handTool:m.AC,pencilTool:m.gR,zoomTool:m.bx,objectSelectTool:m.auW,healingBrushTool:m.nG,patchTool:m.jZ,contentAwareMoveTool:m.Dn,colorReplacementBrushTool:m.rM,curvaturePenTool:m.anE,rotareViewTool:m.UO};
m.oC=function(K,o,Y){m.Fh.call(this,K,o,Y);this.Bp={brush:K?iO.EL():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Bk=null;this.Ty=null;this.QW=null;this.aY=null;this.Tt=null;this.sI=null;this.qq=null;this.iT=null;
this.va=null;this.Q7=null;this.Fy=null;this.gs=null;this.WB=null;this.nx=1;this.nQ=!1;this.rf=null;this.caller=null};
m.oC.prototype=new m.Fh;m.oC.prototype.bZ=function(K,o){return K.WR&&o.S(a1.jR)};m.oC.prototype.N8=function(K,o,Y,c,z){if(c.S(a1.cV)){this.sI=new jc(z.x,z.y);
var f=this.Bp.brush.Brsh.v,$=f.Dmtr.v.val,E=f.Hrdn!=null?f.Hrdn.v.val:-1;this.qq=[$,E,!0,JSON.parse(JSON.stringify(this.Bp.brush)),z];
this.WJ(Y)}};m.oC.prototype.$M=function(K,o,Y){var c=this.qq,z=K.Q.O,f=Y.x-c[4].x,$=Y.y-c[4].y,E=c[0],b=c[1],q=Math.abs(f)>Math.abs($);
if(q&&c[2]){var O=Math.round(2*f/z);E+=O;Y.x-=f-.5*O*z}if(!q&&!c[2]&&b!=-1){var O=Math.round(.25*$);
b+=O;Y.y-=$-4*O}E=Math.max(1,E);b=c[1]==-1?-1:Math.max(0,Math.min(100,b));var j=c[3];j.Brsh.v.Dmtr.v.val=E;
if(b!=-1)j.Brsh.v.Hrdn.v.val=b;this.qq=[E,b,q,j,Y];var A=g3.kc(j,o.OD.IC,z),R=A[1];R.x=Math.round(this.sI.x-R.m/2);
R.y=Math.round(this.sI.y-R.e/2);K.N.hl=[A];var g=K.Q.oh(this.sI.x,this.sI.y);K.N.s8={Qp:[],yl:[g.x-E/2,g.y,g.x+E/2,g.y]};
if(b!=-1)K.N.s8.yl.push(g.x+50/z,g.y-b/2,g.x+50/z,g.y+b/2);K.px=!0};m.oC.prototype.aj=function(K,o,Y,c,z){if(this.id==m.jZ||this.id==m.Dn)return;
if(this.sI){this.sI=null;this.it(JSON.parse(JSON.stringify(this.qq[3])));K.N.hl=[];K.N.s8=null;K.px=!0;
return}var f=new h1(w.E.L,!0);f.data={d:w.I.DA,f:this.id,a4I:"showBrushOpts",Yj:new jc(z.w$+4,z.dn)};
o.c(f)};m.oC.prototype.it=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.Ak,VS:bB.NJ,vg:K};this.caller.c(o)};
m.oC.Sz=function(K,o,Y,c,z,f){if(K==null)K="FrgC";if(o==null)o="norm";if(Y==null)Y=1;if(z==null)z=!1;
var $={classID:"Fl",Usng:{t:"enum",v:{FlCn:K}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(Y*100)}},PrsT:{t:"bool",v:z},Md:{t:"enum",v:{BlnM:jw.OM(o)}}};
if(K=="Clr")$.Clr={t:"Objc",v:c};if(K=="contentAware")$.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(K=="Ptrn")$.Ptrn={t:"Objc",v:f};return{Rk:"fill",jU:$}};m.oC.prototype.yx=function(K,o,Y,c,z){this.qT=o;
var f=Y.Md.length;if(f==0&&!Y.WM())return;var $=f!=0?-1-Y.Md[0]:Y.Y[0],E=Y.B[$];if(K.d=="fromAction"){var b=K.Sv,q=b.jU;
if(q&&q.null&&q.null.v[0]&&q.null.v[0].v.classID=="Path"){var O=Y.dK(),j=O[0],A=O[1],R=j[A.length==0?0:A[0]].add.vmsk;
if(b.Rk=="fill"){var g=R.ue(),H=z.qm,i=this.Bp,h=H>>16&255,x=H>>8&255,F=H>>0&255;this.tZ(Y,E,g,h,x,F,Math.round(i.opacity*255),i.bmode,"Fill Path")}else{var X=q&&q.Prs&&q.Prs.v,V=JSON.stringify(this.Bp.brush);
if(X)iO.akF(this.Bp.brush,[!1,!0]);for(var U=0;U<1e3;U++){var Z=d.j.js(R.$,U,!0);if(Z==-1){this.pt(Y,o,z,c,null);
break}var T=R.$[Z],v=R.$.slice(Z,Z+1+T.length),P=d.M.Y0(v,2).z,p=P.slice(0,8);for(var a=8;a<P.length;
a+=6)p.push(P[a-2],P[a-1],P[a],P[a+1],P[a+2],P[a+3],P[a+4],P[a+5]);var D={};D.Points=p;D.TextOnPathTRange=R.vh.slice(0);
var D=f3.Y$(D,2,T.type==3),n=D[0],N=Y.Q.Hc(n[0],n[1]);if(X)N.nU=0;if(U==0)this.tx(Y,o,z,c,N);else this.Ty.moveTo(n[0],n[1]);
var W=n.length,G=T.type==0?W+2:W;for(var y=2;y<G;y+=2){N=Y.Q.Hc(n[y%W],n[(y+1)%W]);N.WR=!0;if(X){var l=y/G;
N.nU=2*Math.min(l,1-l)}this.D3(Y,o,z,c,N,this.Bp.flow)}this.Ty.finish();this.Rx(Y)}if(X)this.Bp.brush=JSON.parse(V)}}else if(b.Rk=="fill"){var u=q.PrsT?q.PrsT.v:!1,e=E?E.add.lspf:0;
if(u&&E){E.add.lspf=e==null?1:e|1}var M=(q.Opct?q.Opct.v.val:100)/100,B=q.Md?jw.Ef(q.Md.v.BlnM):"norm",s=q.Usng.v.FlCn;
if(s=="contentAware"){if(Y.r==null){alert("Select an area to heal first.");return}if(!Y.WM())return;
this.KC(Y);this.nt(Y,0);var t=Y.r,J=d.R(t.rect.Z()*4);d.cb(t.channel,J,3);this.Jk(Y,"sheal",J,t.rect,t.rect);
this.W(Y,t.rect);this.finish(Y,t.rect)}else if(s=="Ptrn"){var L=z.K_,k=Y.r?Y.r.rect.clone():new hD(0,0,Y.m,Y.e),C=d.R(k.Z()*4);
eq.SW(q,C,k,L,new jc(0,0));this.Dy(Y,E,Y.r,C,"norm",[6,48,0,2])}else{var H;if(s=="FrgC")H=z.qm;else if(s=="BckC")H=z.YQ;
else if(s=="Blck")H=0;else if(s=="Wht")H=16777215;else if(s=="Gry")H=8421504;else if(s=="Clr"){var r=d.H.CK(q.Clr.v);
H=r.o<<16|r.A<<8|r.J}var h=H>>16&255,x=H>>8&255,F=H>>0&255;this.tZ(Y,E,Y.r,h,x,F,Math.round(255*M),B,[2,3])}if(u&&E){E.add.lspf=e==null?0:e}}else if(b.Rk=="delete"){var Q=$<0?1:E.xO,t=Y.r,ez;
if(t==null)return;var j9=$<0?Y.Kl[-$-1]:Q<=0?null:Q==1?E.ue():E.wm(Y).F,k=Q<=0?E.rect:j9.rect,a4=Q<=0?t.rect.wu(k):t.rect.clone();
if(a4.xf())return;var ar=a4.Z();if(Q<=0){ez=d.R(ar*4);d.iF(E.buffer,E.rect,ez,a4)}else{ez=d.R(ar);j9.extend(a4);
d.u_(j9.channel,j9.rect,ez,a4)}if(0<=$&&E.wN(Y,t)){if(Q<=0){d.nz(ez,0);d.iF(E.VY.BA,E.VY.R5,ez,a4)}else{ez.fill(255);
d.u_(E.VY.BA,E.VY.R5,ez,a4)}}else{if(Q<=0){var ja=d.R(ez.length>>2);d.JI(ez,ja,3);d.l.Ir(d._L(t.rect.Z()),t.rect,ja,a4,t.channel,a4,1);
d.cb(ja,ez,3)}else{var c3=d.R(t.rect.Z()),h=z.YQ>>>16&255,x=z.YQ>>8&255,F=z.YQ>>0&255;c3.fill(Math.round(d.ld(h,x,F)));
d.l.Ir(c3,t.rect,ez,a4,t.channel,a4,1)}}this.kK(Y,!0,[2,2],$,Q,a4,ez)}}if(K.d=="stroke"){var hW=K.alX,t=Y.r;
if(t==null){t={rect:E.rect.clone(),channel:d.R(E.rect.Z())};d.JI(E.buffer,t.channel,3)}var fO=eq.D6(hW),ei=m.PP.arA(t,Math.ceil(fO[0]),Math.ceil(fO[1])),H=d.H.CK(hW.Clr.v),h=Math.round(H.o),x=Math.round(H.A),F=Math.round(H.J);
this.tZ(Y,E,ei,h,x,F,Math.round(255*hW.Opct.v.val/100),jw.Ef(hW.Md.v.BlnM),[14,9])}if(K.d=="fillBMP"){this.Dy(Y,E,Y.r,K.MA,K.C1,K.Mx)}if(K.d=="draw"){var fV=K.EZ,aW=fV.rect;
this.KC(Y);var ee=Y.B[Y.Y[0]];if(K.akM&&ee&&ee.xO<=0&&Y.Md.length==0){aW=m.$m.azc(fV,Y);ee.buffer=fV.buffer.slice(0);
ee.rect=aW.clone()}else{var hM=this.Bp.bmode,ds=this.Bp.opacity;this.Bp.bmode="norm";this.Bp.opacity=1;
this.Jk(Y,"draw",fV.buffer,aW,aW.wu(new hD(0,0,Y.m,Y.e)));this.Bp.bmode=hM;this.Bp.opacity=ds}this.W(Y,aW);
Y.jS=!0;this.finish(Y,aW,K.Mx,K.akM)}};m.oC.prototype.tZ=function(K,o,Y,c,z,f,$,E,b){var q=Y==null?new hD(0,0,K.m,K.e):Y.rect,O=$<<24|f<<16|z<<8|c<<0,j=d.R(q.Z()*4);
d.nz(j,O);this.Dy(K,o,Y,j,E,b)};m.oC.prototype.Dy=function(K,o,Y,c,z,f){var $=K.Md.length!=0?-1-K.Md[0]:K.Y[0],E=$<0?1:o.xO,b=$<0?K.Kl[-1-$]:E<=0?null:E==1?o.ue():o.wm(K).F,q=E<=0?o.rect:b.rect,O=Y==null?new hD(0,0,K.m,K.e):Y.rect,j=Y==null?d.l7(K.m*K.e):Y.channel;
if(Y!=null)d.Ym(j,c);var A=O.Z(),R=d.R(A*4);if(E<=0)d.iF(o.buffer,o.rect,R,O);else{b.extend(O);R.fill(255);
d.xI(b.ig(O),R)}if(0<=$&&Y&&o.wN(K,Y)&&E<=0){var g=o.VY.Hm,H=o.VY.Hm.slice(0);if(E<=0)d.kO(c,H);else d.kO(fullc,H);
var i=new dE([2,3],this);i.data={d:"drawtemp",a:K.Y[0],XJ:E,azP:g,ahm:H};K.iy(i);this.PZ(i.data,K)}else{if(E<=0){var h;
if(o.dq(0)){h=d.R(O.Z());d.JI(R,h,3)}d.l.To(z,c,O,R,O,O,1);if(o.dq(0))d.cb(h,R,3)}else{d.l.To(z,c,O,R,O,O,1);
var x=d.R(A);d.jf(R,x);R=x}this.kK(K,!0,f,$,E,O,R)}};m.oC.prototype.rC=function(K){if(a1.Q6.indexOf(K)!=-1)return!0;
return!1};m.oC.prototype.Ed=function(K,o,Y,c){var z=this.Bp.brush,f=c.S(a1.cV),$=f!=this.nQ,E=m.oC.kr(z,c);
if(E!=null)this.it(E);if(!c.S(a1.rK)&&c.Q1()!=-1){var b=a1._0(Math.round(this.Bp.opacity*100),c.Q1())/100;
this.Jh({opacity:b},o)}if(this.id==m.$x&&$&&K!=null){var q=this.Bp.qsmode;if(q==2)q=K.r==null?0:1;else q=2;
this.Jh({qsmode:q},o)}this.nQ=f;if($){if(K)this.nx=K.Q.O;this.WJ(Y,c)}};m.oC.kr=function(K,o){var Y=K.Brsh.v.Dmtr.v.val,c=K.Brsh.v.Hrdn!=null?K.Brsh.v.Hrdn.v.val:-1,z=Y,f=c,$=o.S(a1.jR);
if(o.S(a1.r3)){if($)c=25*Math.floor((c-1)/25);else{if(Y<=10)Y--;else if(Y<=50)Y=5*Math.floor((Y-1)/5);
else if(Y<=100)Y=10*Math.floor((Y-1)/10);else if(Y<=200)Y=25*Math.floor((Y-1)/25);else if(Y<=400)Y=50*Math.floor((Y-1)/50);
else Y=100*Math.floor((Y-1)/100)}}if(o.S(a1.rn)){if($)c=25*Math.ceil((c+1)/25);else{if(Y<10)Y++;else if(Y<50)Y=5*Math.ceil((Y+1)/5);
else if(Y<100)Y=10*Math.ceil((Y+1)/10);else if(Y<200)Y=25*Math.ceil((Y+1)/25);else if(Y<400)Y=50*Math.ceil((Y+1)/50);
else Y=100*Math.ceil((Y+1)/100)}}Y=Math.max(1,Y);c=Math.max(0,Math.min(100,c));if(f==-1)c=-1;if(Y!=z||c!=f){var E=JSON.parse(JSON.stringify(K));
E.Brsh.v.Dmtr.v.val=Y;if(f!=-1)E.Brsh.v.Hrdn.v.val=c;return E}return null};m.oC.prototype.WJ=function(K,o,Y,c){if(K.OD.list.length==0)return;
var z=this.id,f;if((z==m.Me||z==m.nG||z==m.ra||z==m.gR)&&(o!=null&&o.S(a1.cV)||this.Bp.alt[0]))f="crosshair";
else{var $=this.nx,E=this.Bp.brush;if((z==m.Me||z==m.nG)&&Y&&this.gs&&this.gs.length==this.Fy.Z()*4){var b=Y.Q.oh(c.x,c.y),q=this.aqH(b),O=this.gs,j=this.Fy,A=new hD(j.x+q.x,j.y+q.y,j.m,j.e),R=g3.kc(E,K.OD.IC,$),g=R[0],H=R[1],i=Math.ceil(H.m/$),h=new hD(Math.round(b.x-i/2),Math.round(b.y-i/2),i,i),x=d.R(h.Z()*4),F,X;
d.iF(O,A,x,h);if($==1){F=x;X=h}else{var V=new dF($,0,0,$,0,0),U=m.OB.Z6([x,h],V,!0);X=H.clone();X.x=U.rect.x;
X.y=U.rect.y;if(X.BV(U.rect))F=U.buffer;else{F=d.R(X.Z()*4);d.iF(U.buffer,U.rect,F,X)}}var Z=this.Bp.opacity/255;
for(var y=0;y<F.length;y+=4)F[y+3]=Z*(g[y+3]*F[y+3]);g3.a5f(new Uint32Array(F.buffer),X,4278190080,4294967295);
f={Ol:F,oJ:X,Gf:new jc(X.m/2,X.e/2)}}else f=g3.V8(E,K.OD.IC,$,z==m.rM||z==m.i$)}var T=new h1(w.E.L,!0);
T.data={d:w.I.eZ,gg:f};if(this.caller)this.caller.c(T)};m.oC.prototype.enable=function(K,o,Y,c){this.Bk=Y;
this.caller=o;this.it(JSON.parse(JSON.stringify(this.Bp.brush)));if(K&&K.Q.O!=0)this.nx=K.Q.O;this.WJ(Y,c)};
m.oC.prototype.fL=function(K,o){if(o==bB.NJ){this.Bp.brush=K.OD.U0;this.WJ(K)}};m.oC.prototype.SX=function(K,o,Y,c,z){for(var f in K)this.Bp[f]=K[f];
if(this.Bp.alt[0])this.WJ(z,c,Y)};m.oC.prototype.al8=function(K){var o=K.Md.length!=0?-1-K.Md[0]:K.Y[0],Y=K.B[o],c=o<0?1:Y.xO,z=o<0?K.Kl[-o-1]:c<=0?null:c==1?Y.ue():Y.wm(K).F,f=z?z.channel:Y.buffer,$=(z?z.rect:Y.rect).clone();
return[Y,c,z,f,$]};m.oC.prototype.KC=function(K,o){this.WB=K.r==null?null:{rect:K.r.rect.clone(),channel:K.r.channel.slice(0)};
var Y=this.Q7,c=this.al8(K),z=c[0],f=c[1],$=c[2];this.Q7=c[3];this.va=c[4];var E=new hD(0,0,K.m,K.e),b=E.Bb(this.va);
if((this.Ly()&&f<=0||b.BV(this.va))&&o!=!0){if(Y&&Y.length==this.Q7.length){Y.set(this.Q7);this.Q7=Y}else this.Q7=this.Q7.slice(0)}else{if($)$.extend(b);
else z.extend(b)}};m.oC.prototype.nt=function(K,o){var Y=this.al8(K),c=Y[1],z=Y[3],f=Y[4],$=[z,f],E=o!=null?o:this.Bp.sfrom;
if(c<=0&&E!=0){$[1]=new hD(0,0,K.m,K.e);$[0]=K.Gl(E==1&&K.Y[0]!=K.B.length-1?K.Y[0]:null).slice(0)}this.Fy=$[1].clone();
this.gs=$[0].slice(0)};m.oC.prototype.ZP=function(K,o,Y){if(K.S(a1.cV)){var c=new h1(w.E.U,!0);c.f=m.Bx;
c.data={d:"pickhere",a4E:Y};o.c(c);return!0}return!1};m.oC.prototype.Lm=function(K,o,Y,c,z,f){if(this.id!=m.$x&&!K.WM(this.caller)){this.Ty=null;
return}if(this.id!=m.$x&&this.Ty)return;this.KC(K);var $=new hD(0,0,K.m,K.e),E=null;if(f!=null){var b=K.Md.length!=0?-1-K.Md[0]:K.Y[0],q=K.B[b],O=b<0?K.Kl[-b-1]:q.xO<=0?null:q.xO==1?q.ue():q.wm(K).F;
E=d.R($.Z()*4);if(O)m.oC.tI(this.Q7,this.va,O.color,E,$);else d.iF(this.Q7,this.va,E,$)}var j=this.Bp;
if(this.Ty&&this.id==m.$x&&j.qsmode!=0&&K.r!=null){}else{var A=o.qm,R=o.YQ;if(this.rf=="erase"){var g=A;
A=R;R=g}var H=this.id==m.$x?this.va:$;this.Ty=new g3(j.brush,o.OD.IC,o.OD.$H,{al:z,GW:f,az9:j.smth*50/K.Q.O,cp:this.id==m.gR||j.emode==1,Lt:K.Lt},A,R,H,E)}if(this.id==m.$x){this.Ty.adl(j.brush,j.qsmode==2?0:16777215)}var i=K.Q.oh(c.x,c.y);
if(Y.S(a1.jR)&&this.QW){var h=this.QW;this.Ty.moveTo(h.x,h.y,c.nU);this.Ty.lineTo(.001*h.x+.999*i.x,.001*h.y+.999*i.y,c.nU);
this.Ty.lineTo(i.x,i.y,c.nU)}else this.Ty.moveTo(i.x,i.y,c.nU);this.QW=i;this.aY=i.clone();this.Tt=new b1(i,K.Q.Rs)};
m.oC.prototype.oP=function(K,o,Y){if(K&&K.Q.O!=0&&K.Q.O!=this.nx){this.nx=K.Q.O;this.WJ(Y)}};m.oC.prototype.xa=function(K,o,Y,c){if(this.Ty==null)return;
var z=K.B[K.Y[0]],f=K.Q.oh(c.x,c.y),$=this.Tt._Y(f,Y);if($.BV(this.QW))return 1;this.Ty.lineTo($.x,$.y,c.nU);
this.QW=$;if(this.id==m.Me||this.id==m.nG){var E=this.Kt(),b=11;E=K.Q.Hc(f.x-E.x,f.y-E.y);var q=b>>>1,O=new hD(Math.round(E.x)-q,Math.round(E.y)-q,b,b),j=d.R(O.Z()*4);
d.nz(16777215);for(var y=0;y<b;y++)j[(y*b+q)*4+3]=j[(b*q+y)*4+3]=255;K.N.Rw=[[j,O]];K.px=!0}};m.oC.prototype.Ok=function(K,o,Y,c){if(Y.i5!=this.id)return;
if(this.id!=m.$x||K==null)return;if(K.r==null||K.Y[0]!=this.avQ){this.avQ=K.Y[0];this.Jh({qsmode:0},o)}};
m.oC.prototype.W=function(K,o){if(K.Md.length!=0){K.px=!0;return}var Y=K.B[K.Y[0]];if(o==null){o=this.Ty.n0();
if(this.Ly()&&Y.xO<=0)o=o.wu(this.va)}var c=Y.xO;if(c==1||c==3){var z=Math.round((c==1?Y.ue():Y.wm(K).F).cG*2.4);
o=o.clone();o.VC(z,z)}if(o.xf())return;if(c<=0){Y.W(o)}if(c==1){Y.ue().dw=!0;Y.WG(K,o)}if(c==3){Y.W(o)}K.W(K.root.Of(o,K,K.Y[0],!0))};
m.oC.prototype.pt=function(K,o,Y,c,z){if(this.Ty==null)return;this.Ty.finish();if(this.id!=m.em&&this.id!=m.nG&&this.id!=m.$x)this.Rx(K);
if(this.id==m.Me||this.id==m.nG){K.N.Rw=[];K.px=!0}if(this.id==m.$x){var f=K.r;K.r=this.WB;var $=new h1(w.E.U,!0);
$.data={d:"setsel",Mx:this.name,r:f};$.f=m.at;o.c($);if(this.Bp.qsmode==0)this.Jh({qsmode:1},o)}else{this.finish(K,this.Ty.kg());
this.Ty=null;this.iT=null}this.dir=0};m.oC.prototype.Jh=function(K,o){for(var Y in K)this.Bp[Y]=K[Y];
var c=new h1(w.E.L,!0);c.data={d:w.I.DA,f:this.id,Pn:K};o.c(c)};m.oC.prototype.Ly=function(){var K=this.id;
return K==m.$x||K==m.by||K==m.au||K==m.vn||K==m.oZ||K==m.He};m.oC.prototype.finish=function(K,o,Y,c,z){var f=K.Md.length!=0?-1-K.Md[0]:K.Y[0],$=K.B[f],E=f<0?1:$.xO,b=f<0?K.Kl[-f-1]:E<=0?null:E==1?$.ue():$.wm(K).F,q=b?b.rect:$.rect,A;
if(this.Ly()||!q.BV(this.va)){if(b==null){if(this.Ly())$.sc();else{var O=o.Bb(this.va),j=d.R(O.Z()*4);
d.iF($.buffer,$.rect,j,O);$.buffer=j;$.rect=O}}else b.sc();this.W(K,q)}if(E<=0){A=d.R(o.Z()*4);d.iF(this.Q7,this.va,A,o)}else{A=d.R(o.Z());
A.fill(b.color);d.u_(this.Q7,this.va,A,o)}this.kK(K,!1,Y?Y:this.name,f,E,o,A,c,z)};m.oC.prototype.kK=function(K,o,Y,c,z,f,$,E,b){var q=$;
if(z>0){q=d.R(f.Z()*4);m.oC.tI($,f,0,q,f)}var O=new dE(Y,this);O.data=[{a:c,XJ:z,oJ:f,r4:q}];if(E)O.data.TL=[K.r,null];
if(b)O.data.TL=[this.WB,K.r];K.iy(O);if(o)this.PZ(O.data,K);else if(E)K.r=null;m.rE.aoy(K,O.data)};m.oC.prototype.mt=function(K,o){this.arC(K,o,!1)};
m.oC.prototype.PZ=function(K,o){this.arC(K,o,!0)};m.oC.prototype.gI=function(K){return m.rE.gI(K)};m.oC.prototype.arC=function(K,o,Y){if(K.d=="drawtemp"){var c=Y?K.ahm:K.azP,z=o.B[K.a];
z.VY.Hm=c;z.aT(o,0,0,o.r);z.W();o.jS=!0}else{m.rE.fY(o,K);if(K.TL){o.r=K.TL[Y?1:0];o._t=!0}}o.W()};m.oC.prototype.Rx=function(K){this.Jk(K,this.rf,this.Ty.SC(),this.Ty._U(),this.Ty.n0());
this.W(K)};m.oC.prototype.Jk=function(K,o,Y,c,z){var f=this.Bp,$=K.B[K.Y[0]],E=K.Md.length!=0?K.Kl[K.Md[0]]:$.xO<=0?null:$.xO==1?$.ue():$.wm(K).F,b=d.R(z.Z()*4),q,O=$.dq(0);
if(E==null){if(this.id==m.Dn&&o=="heal")d.iF($.buffer,$.rect,b,z);else d.iF(this.Q7,this.va,b,z);if(O){q=d.R(z.Z());
d.JI(b,q,3)}}else{m.oC.tI(this.Q7,this.va,E.color,b,z)}if(K.r&&o!="qselect"){var j=z.wu(K.r.rect),A=d.R(j.Z()*4);
if(o=="copy"){var R=d.R(j.Z());d.u_(K.r.channel,K.r.rect,R,j);d.iF(b,z,A,j);d.l.OF(Y,c,A,j,R,j,0,j,1,!1)}else{d.iF(Y,c,A,j);
d.D$(K.r.channel,K.r.rect,A,j)}Y=A;c=j}function g(h,ei){var aW=Math.max(ei.x,Math.min(ei.x+ei.m-1,h.x)),ee=Math.max(ei.y,Math.min(ei.y+ei.e-1,h.y));
return new jc(aW,ee)}if(o=="idraw"||o=="ierase"){if(this.iT==null)this.iT=d.R(this.va.Z());var H=this.Bp.samp,i=this.Bk.YQ,h=g(this.QW,z),x=H==0?h:this.aY,F=x.x,X=x.y,V=m.Ih.Dk(this.Q7,this.va,[x,new jc(F-2,X),new jc(F+2,X),new jc(F,X-2),new jc(F,X+2)]);
if(H==2)V=[[i>>>16&255,i>>>8&255,i>>>0&255,255]];var U=m.Ih.qI(b,z,h,V,this.Bp.wconf),Z=d.R(z.Z());d.u_(this.iT,this.va,Z,z);
d.dP.Bb(U,Z,Z);d.u_(Z,z,this.iT,this.va);d.D$(Z,z,Y,c);o=o.slice(1)}if(o=="erase"&&(m.rE.ahg(K)!=16777215||E))o="draw";
if(o=="draw")d.l.To(f.bmode,Y,c,b,z,z,f.opacity);else if(o=="erase"){var T=f.opacity;if(this.id==m.i$)T=1;
var v=d.R(z.Z()*4);d.iF(Y,c,v,z);if(E==null){var P=d.R(z.Z());d.JI(v,P,3);d.L0(P,T);d.oD(P);d.D$(P,z,b,z)}else{d.nz(v,0,4278190080);
d.l.To("norm",v,z,b,z,z,T)}}else if(o=="clone"||o=="heal"){var p=this.Kt(),a=this.Fy.clone();a.offset(p.x,p.y);
var D=z.clone();D.VC(1,1);var n=d.R(D.Z()*4),N=d.R(D.Z());d.iF(Y,c,n,D);d.JI(n,N,3);d.nz(n,0);if(E==null){d.iF(this.gs,a,n,D);
var W=d.R(D.Z());d.JI(n,W,3);d.yC(W,N)}else m.oC.tI(this.gs,a,E.color,n,D);if(o=="clone"){d.cb(N,n,3);
d.l.To(f.bmode,n,D,b,z,z,f.opacity)}if(o=="heal"){var G=N.slice(0);d.round(G,20);var l=d.R(D.Z()*4);
if(E==null)d.iF(this.Q7,this.va,l,D);else m.oC.tI(this.Q7,this.va,E.color,l,D);d.l.OF(n,D,l,D,G,D,0,D,1,!1);
d.hR.e0(l,G,D);d.l.OF(l,D,b,z,N,D,0,z,1,!1)}}else if(o=="dodge"||o=="burn"){var n=d.R(z.Z()*4),M=1,B=0,s=0,t=0;
d.iF(Y,c,n,z);var u=z.Z()*4,e=m.oC.HV;if(this.nQ){if(o=="dodge")o="burn";else o="dodge"}var J=f.rng;
if(o=="dodge"){B=[1-M/2,1,1+M][J];s=[1,1/(1+M),1][J];t=[M/2,0,0][J]}if(o=="burn"){B=[1/(1-M/2),1,1-M/2][J];
s=[1,1+M,1][J];t=[-(M/2)/(1-M/2),0,0][J]}for(var y=0;y<u;y+=4){var L=n[y+3];b[y+0]=e(b[y+0],B,s,t,L);
b[y+1]=e(b[y+1],B,s,t,L);b[y+2]=e(b[y+2],B,s,t,L)}}else if(o=="sponge"||o=="redeye"){var n=d.R(z.Z()*4),N=d.R(z.Z());
d.iF(Y,c,n,z);d.JI(n,N,3);d.kO(b,n);var k=f.smode;if(this.nQ)k=1-k;var C=fn.Ta("hue2");if(o=="sponge")bh.ef(C,0,[0,[-50,46][k],[6,5][k]]);
else bh.ef(C,1,{Wg:[265,305,25,55],kH:[0,-90,-70]});var r=jh.GA("hue2",C);jh.kf(r,n,n,z);d.l.OF(n,z,b,z,N,z,0,z,1,!1)}else if(o=="copy")d.iF(Y,c,b,z);
else if(o=="sheal"){var n=d.R(z.Z()*4),N=d.R(z.Z());d.iF(Y,c,n,z);d.JI(n,N,3);n.fill(0);var Q=this.gs,j9=this.Fy;
if(E){Q=d.R(j9.Z()*4);m.oC.tI(this.gs,j9,0,Q,j9)}var a4=d.pN.e0(Q,j9,N,n,z);if(a4!=0)d.iF(Q,j9,n,z);
if(this.Bp.sfrom==0)d.iF(n,z,b,z);else{d.iF(this.Q7,this.va,b,z);d.cb(N,n,3);d.l.To("norm",n,z,b,z,z,1)}}else if(o=="qselect"){var ar=this.va,ez=ar.m,ja=ar.e,c3=ez*ja,hW=this.Ty.SC(),V=this.Q7,fO=m.PP.sz,N=fO.P6;
N.fill(128);for(var y=0;y<c3;y++){var ei=hW[y<<2],fV=hW[(y<<2)+3];if(fV==255&&(ei==0||ei==255))N[y]=ei}N[0]=N[ez-1]=0;
N[(ja>>>1)*ez]=N[(ja>>>1)*ez+ez-1]=0;m.u$.wG(fO,!0,K);K.r={rect:ar,channel:fO.r.slice(0)};K._t=!0}if(E==null){if(O)d.cb(q,b,3);
d.iF(b,z,$.buffer,$.rect)}else m.oC.sN(b,z,E)};m.oC.Kt=function(){return null};m.oC.HV=function(K,o,Y,c,z){var f=K*(1/255),$=c+o*Math.pow(f,Y),E=Math.round($*z+f*(255-z));
return Math.max(0,Math.min(255,E))};m.oC.tI=function(K,o,Y,c,z){var f=d.R(z.Z());f.fill(Y);d.u_(K,o,f,z);
c.fill(255);d.xI(f,c)};m.oC.sN=function(K,o,Y){var c=d.R(o.Z());d.jf(K,c);d.u_(c,o,Y.channel,Y.rect)};
m.PP=function(K,o,Y){m.Fh.call(this,K,o,Y);this.Bp={binop:0,feat:0,cstr:{xu:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.e8=new jc(-1,-1);this.Xx=new jc(-1,-1);this.yR="default";this.qT=null;this._o=!1;this.YU=new iY;
this.pi=!1;this.CH=null;this.jb=null;this.GO=!1;this.wO=!1};m.PP.prototype=new m.Fh;m.PP.prototype.acL=function(){var K=this.Bp,o=[K.binop,K.feat];
if(this.id==m.qR)o.push(K.wconf);return o};m.PP.prototype.adP=function(K,o,Y){var c=this.Bp;c.binop=K[0];
c.feat=K[1];c.wconf=K[2];this.h2(Y)};m.PP.prototype.h2=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.DA,f:this.id,Bp:this.Bp};
K.c(o)};m.PP.sz={key:""};m.PP.dd=function(K,o,Y){var c={Rk:K,jU:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(o)c.jU.T=o;if(Y!=null)c.jU.AntA={t:"bool",v:Y};return c};m.PP.bI=function(K,o,Y){return m.PP.dd("set",{t:"Objc",v:{classID:K,Top:{t:"UntF",v:{type:"#Pxl",val:o.y}},Left:{t:"UntF",v:{type:"#Pxl",val:o.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:o.y+o.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:o.x+o.m}}}},Y)};
m.PP.RT=function(K,o,Y){var c=[],z=[],$="set";for(var y=0;y<K.length;y+=2){c.push(K[y]);z.push(K[y+1])}var f={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:c},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:z}]}}}};
if(o)$=["set","addTo","subtractFrom","interfaceWhite"][o];return m.PP.dd($,f,Y)};m.PP.a58=function(K,o,Y){var c={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:K.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:K.y}}}},z=m.PP.dd("set",c);
z.jU.Tlrn={t:"long",v:o[0]};z.jU.AntA={t:"bool",v:o[1]};z.jU.Cntg={t:"bool",v:o[2]};if(Y==!0)z.jU.Mrgd={t:"bool",v:Y};
return z};m.PP.hE=function(K){return m.PP.dd("set",{t:"enum",v:{Ordn:K?"Al":"None"}})};m.PP.Bv=function(K,o,Y){var c={classID:"null"};
if(K!="border")c.selectionModifyEffectAtCanvasBounds={t:"bool",v:Y};var z={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[K[0]];
c[z]={t:"UntF",v:{type:"#Pxl",val:o}};return{Rk:K,jU:c}};m.PP.a59=function(K,o,Y){var c={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o}}]};
if(Y)z.v.push({t:"name",v:{classID:"Lyr",val:Y}});var f=[{classID:"null",null:c,T:z},{classID:"null",null:z,T:c},{classID:"null",null:z,From:c},{classID:"null",null:z,With:c}],$=["set","add","subtract","interfaceIconFrameDimmed"];
return{Rk:$[K],jU:f[K]}};m.PP.ah6=function(K,o){var Y=new h1(w.E.L,!0);Y.data={d:w.I.Ak,VS:bB.PA};if(!o.uj)K.c(Y);
Y.data={d:w.I.Ak,VS:bB.xh};if(!o.EU.h1)K.c(Y)};m.PP.prototype.yx=function(K,o,Y,c,z){m.PP.ah6(o,z);this.qT=o;
var f=K.d,$,E,b=new hD(0,0,Y.m,Y.e),ci=!1,hH,b8,gh,aN;if(f=="fromAction"){var q=K.Sv,O=q.Rk,j=q.jU,A=j?j.selectionModifyEffectAtCanvasBounds:null,R=A&&A.v;
if(O=="colorRange"){if(j.Clrs){var g=j.Clrs.v.Clrs,H=0,i=255,h=["Shdw","Mdtn","Hghl"].indexOf(g),V=.4;
if(h==0)i=60;else if(h==1){H=100;i=150}else H=190;var x=["shadows","midtones","highlights"][h],F=j[x+"LowerLimit"],X=j[x+"UpperLimit"];
if(F)H=F.v;if(X)i=X.v;var U=j[x+"Fuzziness"];if(U)V=U.v/100;$=m.PP.Zk(Y,H,i,V,!0)}else{var H=j.Mnm.v,i=j.Mxm.v,V;
H={Gi:H.Lmnc.v,g:H.A.v,J:H.B.v};i={Gi:i.Lmnc.v,g:i.A.v,J:i.B.v};V=j.Fzns.v/200;$=m.PP.Zk(Y,H,i,V)}E=[7,8]}else if(O=="inverse"){if(Y.r==null){alert("No selection!");
return}$={channel:d.R(b.Z()),rect:b};d.u_(Y.r.channel,Y.r.rect,$.channel,$.rect);d.oD($.channel);E=[7,2]}else if(O=="expand"){var Z=j.By.v.val,T=Y.r.rect.clone();
T.VC(Z,Z);var v=d.R(T.Z()),P=d.R(T.Z());d.u_(Y.r.channel,Y.r.rect,P,T);d.style.stroke(P,v,T,Z);$={channel:v,rect:T};
E=[7,4]}else if(O=="contract"){var Z=j.By.v.val,p=Y.r.rect.clone();p.VC(1,1);if(!R)p=p.wu(b);var P=d.R(p.Z()),a=d.R(P.length);
d.u_(Y.r.channel,Y.r.rect,P,p);d.oD(P);d.style.stroke(P,a,p,Z);d.oD(a);$={channel:a,rect:p};d.sc($);
E=[7,5]}else if(O=="border"){var Z=j.Wdth.v.val;$=m.PP.arA(Y.r,Z/2,Z/2);E=[7,9]}else if(O=="feather"||O=="smoothness"){var Z=j.Rds.v.val;
$=m.PP.ajK(Y.r,Z,O=="smoothness",b,R);E=O=="feather"?[7,6]:[19,3,0]}else if(O=="move"){var D=j.T.v,T=Y.r.rect.clone();
T.x+=D.Hrzn.v.val;T.y+=D.Vrtc.v.val;$={channel:Y.r.channel,rect:T};E=[7,7]}else if(O=="grow"||O=="similar"){var n=this.Bp.wconf.slice(0);
if(j.Tlrn)n[0]=j.Tlrn.v;n[2]=O=="grow";var N=Y.Gl(),W=new hD(0,0,Y.m,Y.e),G=Y.r.rect,l=Math.round(Math.sqrt(G.Z())/10),u=d.R(W.Z());
d.u_(Y.r.channel,G,u,W);var e=[];for(var M=0;M<G.e;M+=l)for(var B=(G.Z()+M)%l;B<G.m;B+=l)if(Y.r.channel[M*G.m+B]==255){var s=new jc(G.x+B,G.y+M);
e.push(s);if(n[2])d.dP.Bb(m.Ih.qI(N,W,s,null,n),u,u)}if(!n[2])d.dP.Bb(m.Ih.qI(N,W,s,m.Ih.Dk(N,W,e),n),u,u);
$={channel:u,rect:W};E=O=="grow"?"Grow Selection":"Similar Selection";console.log(j)}else{var t=j.null.v,J=j.AntA!=null&&j.AntA.v;
function L(dU){var cz=dU.Top.v.val,fZ=dU.Left.v.val;return new hD(fZ,cz,dU.Rght.v.val-fZ,dU.Btom.v.val-cz)}function k(dU){var cz=dU[0].arr,fr=dU[1].arr,kk={z:[],G:[]};
for(var y=0;y<cz.length;y++){kk.G.push(y==0?"M":"L");kk.z.push(cz[y],fr[y])}kk.G.push("Z");return kk}var C=["set","addTo","subtractFrom","interfaceWhite"].indexOf(O),r=j.T?j.T.v:null;
if(r&&r.classID=="Elps"){$=this.ahM(m.hh.azF(L(r)));E=[10,4]}else if(r&&r.classID=="Rctn"){var Q=L(r);
$={channel:d.R(Q.Z()),rect:Q.clone()};$.channel.fill(255);E=[10,15]}else if(r&&r.classID=="ObSl"){var Q=L(r),j9=m.PP.sz,a4=j9.rect,ar=j9.P6,ez=a4.m,ja=a4.e,c3=Q.x-a4.x,hW=c3+Q.m-1,fO=Math.max(c3,Math.min(hW,c3+hW>>>1)),ei=Q.y-a4.y,fV=ei+Q.e-1,aW=Math.max(ei,Math.min(fV,ei+fV>>>1)),ee=Math.max(c3,0),hM=Math.min(hW,ez),ds=Math.max(ei,0),cp=Math.min(fV,ja);
ar.fill(128);if(0<=ei)for(var B=ee;B<hM;B++)ar[ei*ez+B]=0;if(fV<ja)for(var B=ee;B<hM;B++)ar[fV*ez+B]=0;
if(0<=c3)for(var M=ds;M<cp;M++)ar[M*ez+c3]=0;if(hW<ez)for(var M=ds;M<cp;M++)ar[M*ez+hW]=0;var eA=m.ZZ.a9B,db=Math.round(Q.m*eA),js=Math.round(Q.e*eA);
for(var B=Math.max(0,fO-db);B<Math.min(ez,fO+db);B++)ar[aW*ez+B]=255;for(var M=Math.max(0,aW-js);M<Math.min(ja,aW+js);
M++)ar[M*ez+fO]=255;m.u$.wG(j9,!0);$={channel:j9.r.slice(0),rect:a4.clone()};E=[10,44]}else if(r&&r.classID=="Plgn"){$=this.ahM(k(r.Pts.v.arr));
E=[10,9]}else if(r&&r.classID=="Pnt"){$=m.Ih.aj0(Y,new jc(r.Hrzn.v.val,r.Vrtc.v.val),[j.Tlrn.v,J,j.Cntg==null||j.Cntg.v],j.Mrgd?j.Mrgd.v:!1);
E=[10,12]}else if(r&&r.Ordn=="None"){$=null;E=[7,1]}else if(r&&r.Ordn=="Al"){var bF=b;if(Y.Y.length!=0){var jI=Y.root.w3(Y.Y[0]);
while(jI.parent&&jI.parent.parent)jI=jI.parent;if(jI.a.add.artb)bF=jI.a.Yv()}$={channel:d.R(bF.Z()),rect:bF};
$.channel.fill(255);E=[7,0]}else if(r&&r[0]&&r[0].v.keyID=="WrPt"){var gF={d:"frompath",$G:[-1,0,0]};
this.yx(gF,o,Y,c,z);return}else{var b6=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(O),ji=O=="set"?r:t,hd=ji[0].v.enum,gF;
if(hd=="Trsp"||hd=="Msk"||hd=="vectorMask"||hd=="Trgt"){var eZ=Y.Y[0];if(ji.length==2)eZ=b0.to(Y,ji[1]);
var eK=["Trsp","Msk","vectorMask"].indexOf(hd);if(hd=="Trgt"&&Y.B[eZ].xO==1)eK=1;gF={d:"fromlayer",$G:[eZ,eK,b6]}}else{if(ji[0].t=="name"){var eZ=0;
for(var y=0;y<Y.Kl.length;y++)if(Y.Kl[y].name==ji[0].v.val)eZ=y;gF={d:"fromchannel",$G:[-5-eZ,0,b6]}}else{var cX=["RGB","Rd","Grn","Bl"].indexOf(hd);
gF={d:"fromchannel",$G:[-1-cX,0,b6]}}}this.yx(gF,o,Y,c,z);return}if($){if(!J)d.round($.channel);if(j.Fthr)$=m.PP.ajK($,j.Fthr.v.val,!1);
if(O!="set"&&Y.r!=null)$=d.dP.XC($,Y.r,C)}}if(O=="expand"||O=="contract")if(!R&&!b.contains($.rect)){var bW=$.rect.wu(b),ju=d.R(bW.Z());
d.u_($.channel,$.rect,ju,bW);$.channel=ju;$.rect=bW}}if(f=="qmask"){ci=!0;var eS=Y.oy(),W=new hD(0,0,Y.m,Y.e);
if(eS){$=eS.rect.BV(W)&&d.Jy(eS.channel,255)?null:{rect:eS.rect.clone(),channel:eS.channel.slice(0)};
hH=eS}else{$=null;b8=new S.tp;b8.color=0;b8.name="Quick Mask";b8.Gt=!0;if(Y.r){b8.rect=Y.r.rect.clone();
b8.channel=Y.r.channel.slice(0)}else{b8.rect=W;b8.channel=d.R(b8.rect.Z());b8.channel.fill(255)}}E=[6,6,1];
Y.jS=!0}if(f=="setsel"){$=K.r;E=K.Mx}if(f=="crange"){var H=K.zp,i=K.Tf;$=m.PP.Zk(Y,H,i,K.rk);E=[7,8]}if(f=="fromlayer"||f=="fromchannel"||f=="frompath"){var b2=K.$G[0],eK=K.$G[1],C=K.$G[2];
if(f=="fromlayer"){if(b2==null)b2=Y.Y[0];var fZ=Y.B[b2];if(eK==0){var dw=fZ.rect,ib=fZ.buffer;if(dw.xf())return;
var eJ=d.R(ib.length>>>2);d.JI(ib,eJ,3);$={channel:eJ,rect:dw.clone()}}else{if(fZ.F==null)fZ.WG(Y);var df=eK==1?fZ.ue():fZ.F;
$=m.PP.apW(df,b)}this.track(m.PP.a59(C,["Trsp","Msk"][eK],fZ.getName()))}else if(f=="frompath"){var k5=Y.dK(),eC=k5[1],k5=k5[0],bw=!0;
if(b2==null)if(k5.length==0||eC.length==0)return;var j7=k5[eC[0]];if(b2!=null)for(var y=0;y<k5.length;
y++)if(k5[y].UQ==b2)j7=k5[y];var df=j7.add.vmsk.ue(),cK=df._U();if(cK.Z()==0)return;var eJ=df.X6();if(K.$G[3]!=null)bw=K.$G[3];
if(!bw){eJ=eJ.slice(0);d.round(eJ)}gh=[JSON.stringify(Y.n7),JSON.stringify(Y.d5)];aN=["[]","[]"];Y.n7=[];
Y.d5=[];$={channel:eJ,rect:cK}}else{if(b2==null)b2=m.PP.ayb(Y);$=m.PP.apB(Y,b2)}if(C!=0&&Y.r)$=d.dP.XC($,Y.r,C);
E=[14,11]}if(f=="bgrm"){var f6=30,bS=1,g0="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)fec`[,)%R}SVHnq8l241,*ZN}Jyu =l?580djbW#\"zFDt><n66NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
if(this.jh==null)this.jh=0;var iF=Math.floor((Date.now()-this.jh)/1e3);if(!es.YP()&&iF<f6){alert("You can use this once per "+f6+" seconds. Please, wait "+(f6-iF)+" sec, or get a Premium account.",4e3);
return}this.jh=Date.now();var fZ=Y.B[Y.Y[0]],Q=fZ.rect,ag=fZ.buffer;while(Math.max(Q.m,Q.e)>4096){var jI=d.sQ(ag,Q);
Q=jI.rect;ag=jI.y3;bS*=2}var b$=fv.WD("png"),aj=fv.WD("jpg"),iV=aj.vc([[ag.buffer]],Q.m,Q.e);g0=JSON.parse(a9.I2(g0));
var Q=new XMLHttpRequest;Q.open("POST",g0[0]);Q.setRequestHeader(g0[1],g0[2]);Q.setRequestHeader(g0[3],g0[4]);
var eB=new FormData;eB.append("image",new Blob([iV],{type:"ima"+"ge/j"+"pg"}));Q.send(eB);alert(ca.get([23,5])+" ...",2800);
Q.onload=function(dU){var cz=JSON.parse(dU.target.response),fr=cz.results[0].entities[0].image,kk=fv.iX(fr),fr=b$.MW(kk)[0],a6=fr.eQ,jv=d.R(a6.Z());
d.jf(new Uint8Array(fr.data),jv);for(var y=0;y<jv.length;y++){if(jv[y]>250)jv[y]=255}if(bS!=1){var jI=m.OB.qk([jv,a6],new dF(bS,0,0,bS,0,0));
a6=jI.rect;jv=jI.channel}a6.x=fZ.rect.x;a6.y=fZ.rect.y;var by=new h1(w.E.U,!0);if(K.b==1){by.f=m._V;
by.data={d:S.FO,GJ:g0[5],a9R:!0};o.c(by);var gc=fZ.ue();gc.color=0;gc.rect=a6;gc.channel=jv;gc.sc();
fZ.WG()}else if(K.b==2){by.f=m.at;by.data={d:"setsel",r:{channel:jv,rect:a6},Mx:"Select Subject"};o.c(by)}else throw"e";
es.event("rembg_Rem"+"ove B"+"G:  "+(es.YP()?"Pre"+"mium":"Free"))};return}if($!=null&&d.Jy($.channel,0)){$=null;
E=[7,1]}if($)d.sc($);var c7=new dE(E,this);c7.data={d:"changesel",r:$,oy:ci,a7J:hH,api:b8,QO:gh,ayG:aN};
Y.iy(c7);this.PZ(c7.data,Y)};m.PP.ayb=function(K){var o=0;if(K.Md.length!=0)o=-5-K.Md[0];else if(JSON.stringify(K.Q.v)=="[1,1,1]")o=-1;
else o=-2-K.Q.v.indexOf(1);return o};m.PP.apB=function(K,o){var Y,c=new hD(0,0,K.m,K.e);if(-5<o&o<0){var z=-o-1,f=K.Gl(),$=d.R(c.Z());
if(z==0)d.jf(f,$);else d.JI(f,$,z-1);Y={channel:$,rect:c.clone()}}if(o<-4){Y=m.PP.apW(K.Kl[-o-5],c)}return Y};
m.PP.apW=function(K,o){var Y,c;if(K.CK()==0){c=K._U().clone();if(c.Z()==0)return;Y=K.X6()}else{c=o;Y=d.R(c.Z());
K.dQ(c,Y)}return{channel:Y,rect:c}};m.PP.prototype.bZ=function(K){return this.pi||K.WR&&this.id!=m.RQ};
m.PP.prototype.cN=function(K,o,Y){var c=new h1(o,!0);c.data=Y;K.c(c)};m.PP.prototype.afB=function(K,o){var Y=new h1(w.E.L,!0);
Y.data={d:w.I.eZ,gg:o};K.c(Y)};m.PP.prototype._U=function(K,o,Y){o=K.r==null||this.YU.wh(1)||this.YU.bC(1)?o:null;
var c=this.e8,z=this.Xx;if(Y){c.x=Math.max(0,Math.min(K.m,c.x));c.y=Math.max(0,Math.min(K.e,c.y));z.x=Math.max(0,Math.min(K.m,z.x));
z.y=Math.max(0,Math.min(K.e,z.y))}var f=m.GU.Eg(c,z,o,!0,this.Bp.cstr),$=f[0].x,E=f[0].y,b=new hD($,E,f[1].x-$,f[1].y-E);
if(Y){b.x=Math.max(b.x,0);b.y=Math.max(b.y,0)}return b};m.PP.prototype.tx=function(K,o,Y,c,z){this.wO=!0;
if(this.Q$())return;this.qT=o;this._o=!1;this.YU.tx(c);this.e8=K.Q.oh(z.x,z.y);this.e8=m.sq.$n(K,this.e8,Y);
if(this.adM(K,this.e8,c)){this.pi=!0;this.CH=K.r.rect.clone();return}this.dl(K,Y,c,z);K.Q.qE=new hD};
m.PP.prototype.adM=function(K,o,Y){var c=Y.S(a1.jR),z=Y.S(a1.cV);if(K.r&&!c&&!z&&this.Bp.binop==0)return d.R9(o,K.r.channel,K.r.rect);
return!1};m.PP.prototype.D3=function(K,o,Y,c,z){this.qT=o;if(this.GO)return;var f=K.Q.oh(z.x,z.y);if(jc.si(this.e8,f)*K.Q.O>5){this._o=!0;
this.YU.D3()}if(c.S(a1._e)){if(this.jb==null)this.jb=new jc(f.x-this.e8.x,f.y-this.e8.y);this.e8.x=f.x-this.jb.x;
this.e8.y=f.y-this.jb.y}else this.jb=null;this.Xx=f;if(!this.pi)this.Xx=m.sq.$n(K,this.Xx,Y);if(this.adM(K,this.Xx,c))this.afB(o,"move");
else this.afB(o,this.yR);if(this.pi){var $=this.CH.clone();$.x+=this.Xx.x-this.e8.x;$.y+=this.Xx.y-this.e8.y;
var E=m.sq.z$(K,$,Y);K.r.rect.x=Math.round(this.Xx.x-this.e8.x+this.CH.x+E[0]);K.r.rect.y=Math.round(this.Xx.y-this.e8.y+this.CH.y+E[1]);
K._t=!0;m.sq.H5(K,$,E);return}this.iM(K,Y,c,z,o);if(K.Q.qE)K.Q.qE=this._U(K,c)};m.PP.prototype.Q$=function(){return!1};
m.PP.prototype.pt=function(K,o,Y,c,z,f){var $=this.wO;this.wO=!1;if(f||!$)return;K.Q.qE=null;this.Xx=K.Q.oh(z.x,z.y);
this.Xx=m.sq.$n(K,this.Xx,Y);if(this.pi){this.pi=!1;if(K!=null&&K.N.Qm){K.N.Qm=null;K.px=!0}if(this.Xx.BV(this.e8)&&this.l3()==0){this.cN(o,w.E.hP,m.PP.hE());
return}this.arx(K,this.CH,K.r.rect.clone());return}this.hz(K,Y,c,z,o);m.PP.ah6(o,Y);this.YU.pt();this.M8(o)};
m.PP.prototype.arx=function(K,o,Y){var c=K.VE();if(c!=null&&c.f==this&&c.data.d=="movesel"){}else{c=new dE([7,7],this);
c.data={d:"movesel",bd:o};K.iy(c)}c.data.LI=Y;this.PZ(c.data,K)};m.PP.prototype.N8=function(K,o,Y,c,z){this.GO=!0};
m.PP.prototype.aj=function(K,o,Y,c,z){var f=new h1(w.E.L,!0);f.data={d:w.I.DA,f:this.id,p4:z,Xe:K,KO:Y};
o.c(f);this.GO=!1};m.PP.prototype.Ed=function(K,o,Y,c){this.YU.Ed(c);if(K!=null&&K.r!=null){var z=c.iV();
if(z.x!=0||z.y!=0){var f=K.r.rect.clone();f.x+=z.x;f.y+=z.y;this.arx(K,K.r.rect.clone(),f)}}this.M8(o)};
m.PP.prototype.M8=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.DA,f:this.id,PD:this.l3()};K.c(o)};
m.PP.prototype.l3=function(){var K=this.YU.wh(0),o=this.YU.bC(0);return m.PP.rH(this.Bp.binop,K,o)};
m.PP.rH=function(K,o,Y){if(o)K=1;if(Y)K=2;if(o&&Y)K=3;return K};m.PP.prototype.finish=function(K,o,Y,c){var z=K.r,f=this.getSelection(K,o,Y,c);
if(f==null)f=m.PP.hE();else{var $=this.Bp.feat,E=this.l3();if($!=0)f.jU.Fthr={t:"UntF",v:{type:"#Pxl",val:$}};
if(E!=0&&E!=4)f.Rk=["","addTo","subtractFrom","interfaceWhite",""][E]}this.cN(this.qT,w.E.hP,f);this.e8.Ex(-1,-1);
this.Xx.Ex(-1,-1)};m.PP.prototype.getSelection=function(K,o,Y,c){return null};m.PP.prototype.dl=function(K,o,Y,c){};
m.PP.prototype.iM=function(K,o,Y,c){};m.PP.prototype.hz=function(K,o,Y,c){};m.PP.prototype.mt=function(K,o){var Y=K.d;
if(Y=="changesel"){var c=o.r;o.r=K.r;K.r=c}if(Y=="movesel")o.r.rect=K.bd;if(K.oy){if(K.a7J){o.Md=[o.Kl.length];
o.Kl.push(K.a7J)}else{o.Kl.pop();o.Md=[]}}if(K.QO){o.n7=JSON.parse(K.QO[0]);o.d5=JSON.parse(K.QO[1])}o._t=!0};
m.PP.prototype.PZ=function(K,o){var Y=K.d;if(Y=="changesel"){var c=o.r;o.r=K.r;K.r=c}if(Y=="movesel")o.r.rect=K.LI;
if(K.oy){if(K.api){o.Md=[o.Kl.length];o.Kl.push(K.api)}else{o.Kl.pop();o.Md=[]}}if(K.QO){o.n7=JSON.parse(K.ayG[0]);
o.d5=JSON.parse(K.ayG[1])}o._t=!0};m.PP.prototype.gI=function(K){return K.d=="changesel"&&K.r?K.r.channel.length:0};
m.PP.prototype.SX=function(K){this.Bp=K.Bp};m.PP.prototype.ahM=function(K){var o=d.M.MN(K.z);if(o.xf())return null;
var Y=d.oN(o.m,o.e);Y.save();Y.beginPath();Y.translate(-o.x,-o.y);Typr.U.pathToContext({cmds:K.G,crds:K.z},Y);
Y.closePath();Y.fill();Y.restore();var c=d.R(o.Z()),z=Y.getImageData(0,0,o.m,o.e);d.JI(z.data,c,3);return{rect:o,channel:c}};
m.PP.ajK=function(K,o,Y,c,z){if(Y)o=Math.round(o*.7);var f=Math.ceil(2.6*o),$=K.rect.clone();$.VC(f,f);
if(c&&!z)$=$.wu(c);var E=d.R($.Z()),b=d.R(E.length);d.u_(K.channel,K.rect,b,$);d.Gq.r5(b,E,$,o);if(Y){var q=E.length;
for(var y=0;y<q;y++){var O=(E[y]-128)*o*2.5;E[y]=Math.max(0,Math.min(255,Math.round(128+O)))}}return{channel:E,rect:$}};
m.PP.arA=function(K,o,Y){var c=Math.max(1,Math.ceil(Y)),z=K.rect.clone();z.VC(c,c);var f=z.Z(),$={channel:d.R(f),rect:z},E=d.R(f);
d.u_(K.channel,K.rect,E,$.rect);if(Y!=0)d.style.stroke(E,$.channel,$.rect,Y);else d.kO(E,$.channel);
var b=d.R(f);d.oD(E);if(o!=0)d.style.stroke(E,b,$.rect,o);else d.kO(E,b);d.dP.wu($.channel,b,$.channel);
return $};m.PP.Zk=function(K,o,Y,c,z){var f=new hD(0,0,K.m,K.e),$=K.Gl();if(K.r){var E=K.r.rect.wu(f),b=d.R(E.Z()*4);
d.iF($,f,b,E);f=E;$=b}var q=f.Z(),O=d.R(q),j=1/c;if(z){if(o>=Y)o=Y-1;var A=o*(1-c),R=o,g=Y,H=Y+(255-Y)*c,i=A==R?0:1/(R-A),h=g==H?0:1/(H-g);
for(var y=0;y<q;y++){var x=y<<2,F=d.ld($[x],$[x+1],$[x+2]),X=0;if(F<A)X=0;else if(F<R)X=(F-A)*i;else if(F<=g)X=1;
else if(F<=H)X=1-(F-g)*h;else X=0;O[y]=$[x+3]*X*X}}else for(var y=0;y<q;y++){var x=y<<2,V=d.yM($[x],$[x+1],$[x+2]),X=d.$o(V,o,Y,c,j);
O[y]=$[x+3]*X}return{rect:f,channel:O}};m.Yu=function(){m.oC.call(this,[10,18],m.Qe,"tools/blur");this.rf="copy"};
m.Yu.prototype=new m.oC;m.Yu.prototype.tx=function(K,o,Y,c,z){var f=c.S(a1.cV)?g3.eJ:g3.Qe;this.Lm(K,Y,c,z,this.Bp.strn,f);
if(this.Ty==null)return;this.Rx(K)};m.Yu.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.rt=function(){m.oC.call(this,[10,0],m.ra,"tools/brush");
this.rf="draw"};m.rt.prototype=new m.oC;m.rt.prototype.tx=function(K,o,Y,c,z){if(this.ZP(c,o,z))return;
this.Lm(K,Y,c,z,this.Bp.flow);if(this.Ty==null)return;this.Rx(K)};m.rt.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.uC=function(){m.oC.call(this,[10,42],m.rM,"tools/crepl");
this.rf="idraw";this.Bp.bmode="hue "};m.uC.prototype=new m.oC;m.uC.prototype.tx=function(K,o,Y,c,z){if(this.ZP(c,o,z))return;
this.Lm(K,Y,c,z,this.Bp.flow);if(this.Ty==null)return;this.Rx(K)};m.uC.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.ZM=function(){m.oC.call(this,[10,43],m.He,"tools/redeye");
this.Bp.smode=0;this.rf="redeye"};m.ZM.prototype=new m.oC;m.ZM.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,this.Bp.flow);
if(this.Ty==null)return;this.Rx(K)};m.ZM.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.on=function(){m.oC.call(this,[10,38],m.gR,"tools/pencil");
this.rf="draw"};m.on.prototype=new m.oC;m.on.prototype.tx=function(K,o,Y,c,z){if(this.ZP(c,o,z))return;
this.Lm(K,Y,c,z,this.Bp.flow);if(this.Ty==null)return;this.Rx(K)};m.on.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.Wq=function(){m.oC.call(this,[10,22],m.vn,"tools/burn");
this.rf="burn"};m.Wq.prototype=new m.oC;m.Wq.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,this.Bp.expo/Math.E);
if(this.Ty==null)return;this.Rx(K)};m.Wq.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.ho=function(K,o,Y){m.oC.call(this,K==""?null:K?K:[10,1],o?o:m.Me,Y?Y:"tools/clone");
this.rf="clone";this.qS=null;this.w=null};m.ho.prototype=new m.oC;m.ho.prototype.tx=function(K,o,Y,c,z){var f=this.Bp,$=f.alt[0];
if(c.S(a1.cV)||c.S(a1.kl)||$){this.qS=K.Q.oh(z.x,z.y);this.w=null;if($)this.Jh({alt:[!1]},o);this.nt(K);
this.WJ(Y,c,K,z);return}if(this.qS==null){alert(ca.get([15,7,0]));return}this.WJ(Y,c);this.Lm(K,Y,c,z,this.Bp.flow);
if(this.Ty==null)return;this.w=this.aqH(K.Q.oh(z.x,z.y));this.Rx(K)};m.ho.prototype.aqH=function(K){var o=this.w;
if(o==null||!this.Bp.algnd)o=new jc(Math.round(K.x-this.qS.x),Math.round(K.y-this.qS.y));return o};m.ho.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
if(this.sI)this.$M(K,Y,z);if(this.Ty==null){if(this.qS!=null)this.WJ(Y,c,K,z);return}if(!z.WR||this.qS==null)return;
this.xa(K,Y,c,z);this.Rx(K)};m.ho.prototype.Kt=function(){return this.w};m.bR=function(){m.Fh.call(this,[10,53],m.aps,"tools/csamp");
this.IZ=-1;this.asE=null};m.bR.prototype=new m.Fh;m.bR.prototype.tx=function(K,o,Y,c,z){this.asE=JSON.stringify(K.dW);
var f=K.Q.oh(z.x,z.y),$=K.dW,E=1e9,b=-1;for(var y=0;y<$.length;y++){var q=$[y],O=f.x-q.x,j=f.y-q.y,A=O*O+j*j;
if(A<E){E=A;b=y}}var R=15/K.Q.O;b=E<R*R?b:-1;if(b==-1){b=$.length;$.push({x:f.x,y:f.y})}else if(c.S(a1.cV)){$.splice(b,1);
b=-1}this.IZ=b;K.px=!0};m.bR.prototype.D3=function(K,o,Y,c,z){var f=this.IZ;if(f!=-1){var $=K.Q.oh(z.x,z.y);
K.dW[f].x=$.x;K.dW[f].y=$.y;K.px=!0}};m.bR.prototype.pt=function(K,o,Y,c,z,f){var $=new dE(this.name,this);
$.data={UZ:this.asE,Wx:JSON.stringify(K.dW)};K.iy($);this.IZ=-1};m.bR.prototype.mt=function(K,o){o.dW=JSON.parse(K.UZ)};
m.bR.prototype.PZ=function(K,o){o.dW=JSON.parse(K.Wx)};m.XX=function(K,o,Y){m.Fh.call(this,K,o,Y);this.sK={$d:{xu:0,x:0,y:0},Am:!1,tE:!1};
this.JW=!1;this.z4=null;this.cursor=null;this.ac6=0;this.$a=null;this.e8=null;this.eL=null;this.W$=!1};
m.XX.prototype=new m.Fh;m.XX.prototype.$l=function(){return this.z4!=null};m.XX.prototype.bZ=function(K){return this.e8!=null||this.z4&&this.z4.asd()};
m.XX.prototype.tx=function(K,o,Y,c,z){this.$a=z;var f=K.Q.oh(z.x,z.y),$=this.sK.$d,E=$.xu!=0?$.x/$.y:null,b=this.W$;
this.W$=!1;if(this.z4){var q=this.z4.xC(f,K.Q.O);if(b&&q==null){this.z4.clear(K);this.z4=null}else{this.z4.tx(K,Y,c,f,E,!1,z);
return}}this.e8=m.sq.$n(K,f,Y)};m.XX.prototype.bv=function(K,o,Y){if(Y==null)Y=[K.x,K.y,K.x+K.m,K.y,K.x+K.m,K.y+K.e,K.x,K.y+K.e];
return new cD(Y,!0,!1,this.id==m.Gs,!0,o,this.id==m.Gs?2:0,this.id==m.Gs?4:3)};m.XX.prototype.WJ=function(K){var o=new h1(w.E.L,!0);
o.data={d:w.I.eZ,gg:this.cursor};K.c(o)};m.XX.prototype.enable=function(K,o,Y,c){this.qT=o;this.cursor="crosshair";
this.WJ(o);if(K!=null&&this.z4==null){var z=K.r?{$z:"cropby",aC3:3}:{$z:"config",sK:this.sK,ak5:!0};
this.SX(z,o,K,c,Y);if(K.r==null&&this.sK.$d.xu==0)this.W$=!0}};m.XX.prototype.D3=function(K,o,Y,c,z){this.$a=z;
var f=K.Q.oh(z.x,z.y);if(!z.WR){var $="crosshair";if(this.z4){var E=this.z4.xC(f,K.Q.O,null,z);if(E)$=E;
else $="default"}if($!=this.cursor){this.cursor=$;this.WJ(o)}}if(this.z4)this.z4.D3(K,Y,c,f);else if(this.e8){if(this.JW){K.N.AE={G:["M","L"],z:[this.e8.x,this.e8.y,f.x,f.y]}}else{var b=m.GU.Eg(this.e8,m.sq.$n(K,f,Y),c,!0,this.sK.$d),q=b[0].x,O=b[0].y,j=this.eL=new hD(q,O,b[1].x-q,b[1].y-O);
K.N.AE=d.M.Yq(j);m.Fh.ew(z,j,K,Y)}K.px=!0}};m.XX.afG=function(K,o,Y){var c,z,E,b;if(o<=Y){c=o;z=Y}else{c=Y;
z=o}var f=K-Math.floor((K+Math.PI)/(2*Math.PI))*2*Math.PI;f=Math.abs(f);if(f>Math.PI/2)f=Math.PI-f;var $=c/(z*Math.sin(f)+c*Math.cos(f));
if(o<=Y){E=c*$;b=z*$}else{E=z*$;b=c*$}return{Fv:E,jd:b}};m.XX.prototype.pt=function(K,o,Y,c,z){this.$a=z;
var f=K.Q.oh(z.x,z.y);if(this.z4==null){var $=this.eL;if(this.e8&&($||this.JW)){if(this.JW){var E=this.e8,b=f,q=b.x-E.x,O=b.y-E.y;
if(Math.abs(q)<Math.abs(O))b=new jc(E.x-O,E.y+q);if(E.x>b.x){var j=E;E=b;b=j}var E=Math.atan2(-(b.y-E.y),b.x-E.x),A=m.XX.afG(E,K.m,K.e);
if(this.sK.tE){var R=d.M.Yq(new hD(0,0,K.m,K.e)),g=new dF;g.rotate(E);d.M.i(R.z,g,R.z);A=d.M.MN(R.z);
A={Fv:A.m,jd:A.e}}var H=[0,0,A.Fv,0,A.Fv,A.jd,0,A.jd],i=new dF;i.translate(-A.Fv/2,-A.jd/2);i.rotate(E);
i.translate(K.m/2,K.e/2);d.M.i(H,i,H);this.z4=this.bv($,!1,H);this.JW=!1}else{var h=this.sK.$d;this.z4=this.bv($,h.xu!=0)}this.z4.rb(K,Y);
this.eL=null;this.cN(o,w.E.L,{d:w.I.DA,f:this.id,n9:!0});this.e8=null;K.N.Rw=[];K.N.AE=null;K.px=!0}return}this.z4.pt(K,Y,c,f);
this.cN(o,w.E.L,{d:w.I.DA,f:this.id,n9:!0});var H=this.z4.ni();if(Math.abs(H[0]-H[4])<2&&Math.abs(H[1]-H[5])<2){this.np(K,o,null,c);
return}if(Date.now()-this.ac6<200&&this.z4.RW(f)){this.BT(K,Y);this.np(K,o,Y,c);return}this.ac6=Date.now()};
m.XX.prototype.Ed=function(K,o,Y,c){var z=this.z4;if(z==null||this.$a&&this.$a.WR)return;if(c.S(a1.C4)){this.BT(K,Y);
this.np(K,o,Y,c)}else if(c.S(a1.Xg)){this.np(K,o,Y,c)}else z.Ed(K,Y,c)};m.XX.aBK=function(K,o,Y){var c={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:K[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:K[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:K[1]+K[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:K[0]+K[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:o!=null?o:0}},Dlt:{t:"bool",v:Y!=null?Y:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{Rk:"crop",jU:c}};m.XX.Vc=function(K,o){if(o==null)o=[!0,!0,!0,!0];var Y={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][K]}}},c=["Top","Left","Btom","Rght"];
for(var y=0;y<4;y++)Y[c[y]]={t:"bool",v:o[y]};return{Rk:"trim",jU:Y}};m.XX.aAo=function(K,o,Y,c){var z={classID:"null"};
if(c!=null){z.Wdth={t:"UntF",v:{type:"#Pxl",val:K}};z.Hght={t:"UntF",v:{type:"#Pxl",val:o}};z.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][c]}}}if(Y!=null)z.Rslt={t:"UntF",v:{type:"#Rsl",val:Y}};
return{Rk:"imageSize",jU:z}};m.XX.alZ=function(K,o,Y,c){if(Y==null)Y=4;if(c==null)c=!1;var z=Math.floor(Y/3),f=Y%3;
return{Rk:"canvasSize",jU:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:K}},Hght:{t:"UntF",v:{type:"#Pxl",val:o}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][f]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][z]}},Rltv:{t:"bool",v:c}}}};
m.XX.prototype.yx=function(K,o,Y,c,z){var f=new hD(0,0,Y.m,Y.e),$=[11,3],E=Y.aE,b=Y.m/2,q=Y.e/2,O=1,t,J,L;
if(K.d=="fromAction"){var j=K.Sv,A=j.Rk,R=j.jU,g=Y.m/Y.e,H=R.Wdth?R.Wdth.v.val:-1,i=R.Hght?R.Hght.v.val:-1,E=R.Rslt?R.Rslt.v.val:null,h=R.Wdth?R.Wdth.v.type:R.Hght?R.Hght.v.type:-1,x=1,F;
if(h=="#Prc"){if(H!=-1)H=Math.round(Y.m*H/100);if(i!=-1)i=Math.round(Y.e*i/100)}if(A=="imageSize"){if(R.Intr){if(R.Intr.v.Intp=="Nrst")x=0;
if(R.Intr.v.Intp=="bicubicSharper")x=2;if(H==-1&&i==-1){var X=E/Y.aE;H=Math.round(Y.m*X);i=Math.round(Y.e*X)}if(R.CnsP&&R.CnsP.v){if(H==-1)H=Math.round(i*g);
if(i==-1)i=Math.round(H/g)}}else{if(h=="#Prc")E=Math.round(Y.aE*(Y.m/H));else if(h==-1)E=Math.round(E);
else throw"e";H=Y.m;i=Y.e}F={d:"imgsize",cR:H,pK:i,wp:E,rA:x}}else if(A=="canvasSize"){if(H==-1)H=Y.m;
if(i==-1)i=Y.e;if(R.Rltv&&R.Rltv.v==!0){if(R.Wdth)H+=Y.m;if(R.Hght)i+=Y.e}var V=R.Vrtc?R.Vrtc.v.VrtL:"Cntr",U=R.Hrzn?R.Hrzn.v.HrzL:"Cntr";
F={d:"canvsize",cR:H,pK:i,Xy:3*["Top","Cntr","Btom"].indexOf(V)+["Left","Cntr","Rght"].indexOf(U)}}else if(A=="revealAll"){F={d:"revealAll"}}else if(A=="trim"){var Z={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[R.trimBasedOn.v.trimBasedOn];
if(Z==null)throw"e";var T=["Top","Left","Btom","Rght"],v=[!0,!0,!0,!0];for(var y=0;y<4;y++)if(R[T[y]])v[y]=R[T[y]].v;
F={d:"trim",a2c:Z,qJ:v}}else if(A=="crop"){var P,p,a,D;if(R.T){var n=R.T.v,P=Math.round(n.Left.v.val),p=Math.round(n.Top.v.val),a=Math.round(n.Rght.v.val)-P,D=Math.round(n.Btom.v.val)-p}else{var N=Y.r.rect;
P=N.x;p=N.y;a=N.m;D=N.e}F={d:"canvsize",cR:a,pK:D,w:new jc(P,p),avf:R.Dlt!=null&&R.Dlt.v}}else console.log(j);
if(F)this.yx(F,o,Y,c,z);return}else if(K.d=="imgsize"){f=new hD(0,0,K.cR,K.pK);if(K.wp)E=K.wp;O=K.rA}else if(K.d=="canvsize"){var W=K.Xy!=null?K.Xy:0;
f=new hD(0,0,K.cR,K.pK);var G=Y.m-K.cR,l=Y.e-K.pK,u=Math.round(G/2),e=Math.round(l/2);if(W==1||W==4||W==7)f.x=u;
if(W==2||W==5||W==8)f.x=G;if(W==3||W==4||W==5)f.y=e;if(W==6||W==7||W==8)f.y=l;if(K.w){f.x=K.w.x;f.y=K.w.y}}else if(K.d=="rot"&&(K.b+2*Math.PI)%(Math.PI/2)!=0){var M=d.M.Yq(f).z,B=new dF;
B.translate(-b,-q);B.rotate(K.b);B.translate(b,q);d.M.i(M,B,M);f=d.M.MN(M)}else if(K.d=="rot"&&K.b!=Math.PI&&K.b!=-Math.PI){f=new hD(b-Y.e/2,q-Y.m/2,Y.e,Y.m);
if((Y.m+Y.e&1)==1){b=Math.floor(b);q=Math.floor(q);f=new hD(b-Math.floor(Y.e/2),q-Math.floor(Y.m/2),Y.e,Y.m);
if((Y.m&1)==1&&K.b!=-Math.PI/2)f.y--;if((Y.e&1)==1&&K.b==-Math.PI/2)f.x--}}else if(K.d=="trim"){$=[11,12,0];
var s=Y.Gl(),N=new hD(0,0,Y.m,Y.e);f=d.kL(s,N,K.a2c,K.qJ);if(f.xf())f=N}else if(K.d=="revealAll"){$=[11,12,2];
f=Y.root._U(Y,!0)}var k=K.d=="canvsize"&&K.avf;if(K.d=="imgsize"||K.d=="rot"||K.d=="scl"||k){var C=new dF;
if(K.d=="imgsize"){$=[11,10];C.scale(K.cR/Y.m,K.pK/Y.e);L=Y.Jm();for(var y=0;y<L[0].length;y++)L[0][y][1]*=L[0][y][0]==0?C.g:C.gG}else if(k){}else{C.translate(-b,-q);
if(K.d=="rot")C.rotate(K.b);if(K.d=="scl")C.scale(K.b.x,K.b.y);C.translate(b,q);$=K.Mx}J=d.D.lK(C);t=this.$s(Y,z,!0,J,O,k?f:null)}else if(K.d=="auto-align"){if(Y.Y.length<2){alert("Select two or more layers.");
return}var r=[];for(var y=0;y<Y.Y.length;y++){var Q=Y.B[Y.Y[y]];if(!Q.Go()&&Q.add.SoLd==null){alert("Unsupported layer selected.");
return}if(Q.rect.xf()){alert("Empty layer selected.");return}r.push([Q.buffer,Q.rect])}var j9=d.e5.n2(r);
if(j9==null){alert("No similarity found.");return}J=j9[1];t=this.$s(Y,z,!1,j9,O);f=Y.root._U(Y,!0);$=[2,10,1]}var a4=new hD(0,0,Y.m,Y.e);
if(!f.xf()&&(!f.BV(a4)||t!=null)){var ar=new dE($,this);ar.data={acF:Y.aE,wp:E,kJ:t,Ny:J,zJ:m.XX.agX(Y,f,a4,t!=null)};
if(L){ar.data.a5j=Y.Jm();ar.data.aks=L}m.XX.ap6(Y,ar.data,f);Y.iy(ar);this.PZ(ar.data,Y)}};m.XX.agX=function(K,o,Y,c){if(K.FT.length==0)return null;
var z=JSON.stringify(K.FT),f=JSON.parse(z);m.F$.aiv(f,o,Y,c);f=JSON.stringify(f);return[z,f]};m.XX.prototype.$s=function(K,o,Y,c,z,f,$){var E={B:[],ZR:null,vi:null};
if(Y){for(var y=0;y<K.B.length;y++)E.B.push(y);for(var y=0;y<K.V9.length;y++)E.B.push(-1-y);for(var y=0;
y<K.Kl.length;y++)E.B.push(-1e3-y)}else E.B=K.Y.slice(0);E.ZR=m.OB.LH(K,E.B,!0);var b=Math.abs(c[3]*c[1])>1e-9;
m.OB.$t(K,o,E.B,E.ZR,z,c,null,!0,b?null:f);if(Y&&$&&K.WM()){var q=K.B[K.Y[0]],O=q.buffer,j=q.rect,A=b?j.clone():f.clone(),R=d.R(A.Z()*4),g=d.R(j.Z());
d.JI(O,g,3);var H=d.R(A.Z());d.u_(g,j,H,A);d.round(H,255);d.oD(H);var i=d.pN.e0(O,j,H,R,A);if(i==0){q.rect=A;
q.buffer=R}}E.vi=m.OB.LH(K,E.B,!0);return E};m.XX.prototype.PZ=function(K,o){if(K.wp)o.aE=K.wp;if(K.zJ)o.FT=JSON.parse(K.zJ[1]);
if(K.kJ){m.XX.ze(o,d.D.IU(K.Ny));m.OB.fp(o,K.kJ.B,K.kJ.vi);if(K.aks)o.tg(K.aks)}m.XX.XU(o,K)};m.XX.prototype.mt=function(K,o){if(K.acF)o.aE=K.acF;
if(K.zJ)o.FT=JSON.parse(K.zJ[0]);m.XX.HZ(o,K);if(K.UL)o.Q.w.Zv(K.UL);o.apY();if(K.kJ){var Y=d.D.IU(K.Ny).clone();
Y.oD();m.XX.ze(o,Y);m.OB.fp(o,K.kJ.B,K.kJ.ZR);if(K.a5j)o.tg(K.a5j)}};m.XX.ze=function(K,o){for(var y=0;
y<K.B.length;y++){var Y=K.B[y];if(Y.add.artb==null)continue;var c=d.M.Yq(Y.Yv()).z;d.M.i(c,o,c);var z=d.M.MN(c);
Y.HL(z)}};m.XX.Zu=function(K){var o=new hD,Y=0,c=K.root.children.length;for(var y=0;y<c;y++){var z=K.root.children[y].a;
if(z.add.artb==null)continue;o=o.Bb(z.Yv());Y++}var f=new hD(0,0,K.m,K.e);if(!o.xf()&&!f.BV(o))return o;
return null};m.XX.xQ=function(K){var o=m.XX.Zu(K);if(o)m.XX.Am(K,o,!0);return o};m.XX.Am=function(K,o,Y){var c=K.m,z=K.e,f=o.m,$=o.e,E=o.x==0&&o.y==0;
if(E&&c==f&&z==$)return;K.m=f;K.e=$;var b=[];for(var y=0;y<K.B.length;y++)b.push(y);if(!E)m.sq.xH(K,b,null,-o.x,-o.y);
for(var y=0;y<K.B.length;y++){K.B[y].WG(K)}K.apY();if(Y){var q=K.Q.w,O=K.Q.O;q.x+=Math.round((o.x+(f-c)/2)*O);
q.y+=Math.round((o.y+($-z)/2)*O)}else K.Q.w.Ex(0,0);if(K.r)K.r.rect.offset(-o.x,-o.y);var j=K.Jm();for(var A=0;
A<j[0].length;A++)if(j[1][A]==-1){var R=K.xS[A];R[1]-=R[0]==0?o.x:o.y}for(var y=0;y<K.Kl.length;y++)K.Kl[y].rect.offset(-o.x,-o.y)};
m.XX.prototype.SX=function(K,o,Y,c,z){if(K.$z=="commit"){this.BT(Y,z);this.np(Y,o,null,c)}else if(K.$z=="cancel"){this.np(Y,o,null,c)}var f=null,$=new hD(0,0,Y.m,Y.e),E=this.sK.$d;
if(K.$z=="config"){this.sK=K.sK;E=this.sK.$d;if(Y==null||!K.ak5)return;f=$;if(E.xu==1){var b=E.x/E.y;
if(f.m/b<f.e)f.e=Math.round(f.m/b);else f.m=Math.round(f.e*b)}if(E.xu==2){f.m=E.x;f.e=E.y}f.x=Math.round((Y.m-f.m)/2);
f.y=Math.round((Y.e-f.e)/2)}if(K.$z=="straighten"){alert("Draw a line in the image.");this.JW=!0}if(K.$z=="cropby"){if(Y==null)return;
var q=K.aC3,f;if(q==0)f=Y.root._U(Y,!0);if(q==1){if(Y.Y.length==0)alert("No layer is selected.");else{var O=Y.root.w3(Y.Y[0]);
f=O._U(Y,!0)}}if(q==2){if(Y.Y.length==0)alert("No layer is selected.");else{f=d.kL(Y.Gl(),$,0);if(f.xf())f=$.clone()}}if(q==3){if(Y.r!=null)f=Y.r.rect;
else alert("There is no selection.")}if(q==4){f=new hD(0,0,Y.m,Y.e)}}if(f&&f.xf())f=null;if(f!=null){this.z4=this.bv(f,E.xu!=0);
this.z4.rb(Y,z);this.cN(o,w.E.L,{d:w.I.DA,f:this.id,n9:!0})}};m.XX.prototype.Ok=function(K,o,Y,c){this.cN(o,w.E.L,{d:w.I.DA,f:this.id,RB:[K.m,K.e]})};
m.XX.prototype.BT=function(K,o){var Y=this.z4.ni(),c=d.M.MN(Y),z=this.a6I(K,Y),f=!1,$=this.sK,E=$.$d,b=$.Am,q=E.x,O=E.y,R;
if(this.id==m.yk&&E.xu==2&&z.Z()!=q*O){z=new hD(z.x,z.y,q,O);f=!0}var j=d.D.P_(Y,z);j=d.D.oD(j);var A=d.D.r7(j),g=Math.atan2(j[3],j[0]),H=new hD(0,0,K.m,K.e);
if(Math.abs(g)>1e-9||!A||f||b||$.tE)R=this.$s(K,o,!0,j,1,c,$.tE);else if(z.BV(H))return;var i=new dE(this.name,this);
i.data={kJ:R,Ny:j,UL:K.Q.w.clone(),zJ:m.XX.agX(K,z,H,!1)};m.XX.ap6(K,i.data,z);K.iy(i);this.PZ(i.data,K);
this.track(m.XX.aBK([c.x,c.y,c.m,c.e],null,b))};m.XX.ap6=function(K,o,Y){if(Y==null)return;o.bd=new hD(0,0,K.m,K.e);
o.LI=Y};m.XX.XU=function(K,o){if(o.LI==null)return;m.XX.Am(K,o.LI)};m.XX.HZ=function(K,o){if(o.LI==null)return;
var Y=o.bd.clone();Y.offset(-o.LI.x,-o.LI.y);m.XX.Am(K,Y)};m.XX.prototype.a6I=function(K,o){var Y=d.D.P_(o),c=d.D.r7(Y),z=d.D.IU(Y),f=z.B3,$=z.Z7,E=Math.atan2(z.J,z.g);
z.rotate(E);var b=new hD(f,$,z.g,z.gG);if(!c){function q(F,y,X){var V=F[y]-F[X],U=F[y+1]-F[X+1];return Math.sqrt(V*V+U*U)}var O=q(o,0,2),j=q(o,4,6),A=Math.max(O,j),R=q(o,2,4),g=q(o,6,0),H=Math.max(R,g),i=m.XX.Gd(o,K.m/2,K.e/2),h,x;
if(isNaN(i)||i==Infinity||i==-Infinity||Math.min(i,1/i)<.1)i=(O+j)/(R+g);if(A/H>i){h=A*1;x=h/i}else{x=H*1;
h=x*i}b.m=h;b.e=x}b.x=Math.round(b.x);b.y=Math.round(b.y);b.m=Math.round(b.m);b.e=Math.round(b.e);return b};
m.XX.Gd=function(K,o,Y){var c=K[0]-o,z=K[1]-Y,f=K[2]-o,$=K[3]-Y,E=K[6]-o,b=K[7]-Y,q=K[4]-o,O=K[5]-Y,j=((z-O)*E-(c-q)*b+c*O-z*q)/(($-O)*E-(f-q)*b+f*O-$*q),A=((z-O)*f-(c-q)*$+c*O-z*q)/((b-O)*f-(E-q)*$+E*O-b*q),R=-((A*b-z)*(j*$-z)+(A*E-c)*(j*f-c))/((A-1)*(j-1));
function g(i){return i*i}var H=Math.sqrt((g(j-1)+g(j*$-z)/R+g(j*f-c)/R)/(g(A-1)+g(A*b-z)/R+g(A*E-c)/R));
if(j==1&&A==1)H=Math.sqrt((g($-z)+g(f-c))/(g(b-z)+g(E-c)));return H};m.XX.prototype.np=function(K,o,Y,c){if(K==null)return;
if(this.z4)this.z4.clear(K);this.z4=null;this.cN(o,w.E.L,{d:w.I.DA,f:this.id,n9:!1})};m.XX.prototype.disable=function(K,o,Y,c){if(this.z4)this.BT(K,Y);
this.np(K,o,Y,c)};m.XX.prototype.cN=function(K,o,Y,c){var z=new h1(o,!0);z.data=Y;if(c)z.f=c;K.c(z)};
m.ajV=function(){m.XX.call(this,[10,2],m.yk,"tools/rcrop")};m.ajV.prototype=new m.XX;m.a8D=function(){m.XX.call(this,[10,39],m.Gs,"tools/pcrop")};
m.a8D.prototype=new m.XX;m.d3=function(){m.oC.call(this,[10,21],m.au,"tools/dodge");this.rf="dodge"};
m.d3.prototype=new m.oC;m.d3.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,this.Bp.expo/Math.PI);
if(this.Ty==null)return;this.Rx(K)};m.d3.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.e7=function(){m.oC.call(this,[10,3],m.by,"tools/eraser");
this.rf="erase"};m.e7.prototype=new m.oC;m.e7.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,this.Bp.flow);
if(this.Ty==null)return;this.Rx(K)};m.e7.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;var f=this.xa(K,Y,c,z);this.Rx(K)};m._G=function(){m.oC.call(this,[10,45],m.i$,"tools/beraser");
this.rf="ierase"};m._G.prototype=new m.oC;m._G.prototype.tx=function(K,o,Y,c,z){if(this.ZP(c,o,z))return;
this.Lm(K,Y,c,z,this.Bp.flow);if(this.Ty==null)return;this.Rx(K)};m._G.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m._B=function(){m.PP.call(this,[10,15],m.at,"tools/rselect");
this.yR="crosshair"};m._B.prototype=new m.PP;m._B.prototype.iM=function(K,o,Y,c){if(!c.WR||!this._o)return;
var z=this._U(K,Y,!0);K.N.AE=d.M.Yq(z);K.px=!0;m.Fh.ew(c,z,K,o)};m._B.prototype.hz=function(K,o,Y,c){K.N.AE=null;
K.N.Rw=[];K.px=!0;this.finish(K,o,Y,c)};m._B.prototype.getSelection=function(K,o,Y,c){if(this.e8.BV(this.Xx)||!this._o)return null;
var z=this._U(K,Y,!0);if(z.xf())return null;return m.PP.bI("Rctn",z,this.Bp.anta)};m.hh=function(){m.PP.call(this,[10,4],m.acr,"tools/eselect");
this.yR="crosshair"};m.hh.prototype=new m.PP;m.hh.prototype.iM=function(K,o,Y,c){if(!c.WR||!this._o)return;
var z=this._U(K,Y);K.N.AE=m.hh.azF(z);K.px=!0;m.Fh.ew(c,z,K,o)};m.hh.prototype.hz=function(K,o,Y,c){K.N.AE=null;
K.N.Rw=[];K.px=!0;this.finish(K,o,Y,c)};m.hh.prototype.getSelection=function(K,o,Y,c){if(this.e8.BV(this.Xx)||!this._o)return null;
var z=this._U(K,Y);if(!z.wR(new hD(0,0,K.m,K.e)))return null;return m.PP.bI("Elps",z,this.Bp.anta)};
m.hh.azF=function(K){var o=K.x,Y=K.y,c=K.x+K.m,z=K.y+K.e,f=(o+c)/2,$=(Y+z)/2,E=(o-c)/2,b=(Y-z)/2,q=.5522848,O={z:[f,$-b],G:["M","C","C","C","C"]};
O.z.push(f+q*E,$-b,f+E,$-q*b,f+E,$);O.z.push(f+E,$+q*b,f+q*E,$+b,f,$+b);O.z.push(f-q*E,$+b,f-E,$+q*b,f-E,$);
O.z.push(f-E,$-q*b,f-q*E,$-b,f,$-b);return O};m.XV=function(K){m.Fh.call(this,[10,5],K?m.OL:m.Bx,"tools/eyedropper");
this.rp=null;this.dF=0;this.ZC=null;this.iz=1;this.um=2;this.amm=!0;this.N4=!1};m.XV.prototype=new m.Fh;
m.XV.prototype.bZ=function(K){return K.WR};m.XV.prototype.yx=function(K,o,Y,c,z){if(K.d=="pickhere")this.v$(Y,o,z,null,K.a4E);
if(K.d=="supertool")this.rp=K.f};m.XV.prototype.tx=function(K,o,Y,c,z){var f=this.rp;if(f){f.tx(K,o,Y,c,z);
return}this.dF=Y.qm;this.ZC=z;var $=this.v$(K,null,Y,c,z);this.WJ(K,o,$,z)};m.XV.prototype.D3=function(K,o,Y,c,z){var f=this.rp;
if(f){f.D3(K,o,Y,c,z);return}var $=this.ZC;if($){var E=z.x-$.x,b=z.y-$.y,q=1,O=new jc($.x+E*q,$.y+b*q),j=this.v$(K,null,Y,c,O);
this.WJ(K,o,j,O,new jc(E*(1-q),b*(1-q)))}};m.XV.prototype.WJ=function(K,o,Y,c,z){var f=this.amm,$=this.N4,q=12,O=11;
if(K.Q.O>4)$=!1;if(!$&&!f)return;if(z==null)z=new jc(0,0);var E=new hD(0,0,K.m,K.e),b=K.Gl(),j=(q*2+1)*O,A=new jc(j/2,j/2),R=new hD(0,0,j,j),g=d.R(R.Z()*4),H=K.Q.oh(c.x,c.y),i=Math.floor(H.x),h=Math.floor(H.y),x=new dF;
x.scale(1/O,1/O);x.translate(i-q,h-q);if($)d.scale.al6(b,E,x,g,R);var F=(q-3.4)*O,X=(q-1.7)*O,V=q*O;
for(var U=0;U<j;U++)for(var Z=0;Z<j;Z++){var T=jc.si(new jc(Z,U),A);if(T>F){if(f){var v=Math.max(0,F-T+1),P=(U*j+Z)*4,p=g[P+3]<<24|g[P]<<16|g[P+1]<<8|g[P+2],a=255<<24|(U<V+O*.5?Y:this.dF);
if(T>X){v=Math.max(0,X-T+1);p=a;a=4286611584}else if(!$){p=a&16777215}g[P+0]=(1-v)*(a>>>16&255)+v*(p>>>16&255);
g[P+1]=(1-v)*(a>>>8&255)+v*(p>>>8&255);g[P+2]=(1-v)*(a>>>0&255)+v*(p>>>0&255);g[P+3]=(1-v)*(a>>>24&255)+v*(p>>>24&255)}if(T>V){g[(U*j+Z)*4+3]=Math.max(0,255*(V-T+1))}}}function D(y){var j9=y<<2;
g[j9]=0;g[j9+1]=0;g[j9+2]=0;g[j9+3]=255}function n(y){var j9=y<<2;g[j9]=255;g[j9+1]=255;g[j9+2]=255;
g[j9+3]=255}var N=this.iz*O+2,W=j-N>>>1,G=W+N-1;if($&&N<j)for(var y=0;y<N;y++){var l=W*j+W+y,u=G*j+W+y,e=(W+y)*j+W,M=(W+y)*j+G;
D(l);D(u);D(e);D(M);if(y!=0&&y!=N-1){n(l+j);n(u-j);n(e+1);n(M-1)}}if(!$)for(var y=-9;y<=9;y++){if(-3<y&&y<3)continue;
var B=j>>>1,Z=B*j+B+y,U=(B+y)*j+B;n(Z-j);D(Z);n(Z+j);n(U-1);D(U);n(U+1)}var s=Y>>>16&255,t=Y>>>8&255,J=Y>>>0&255,L="RGB "+s+","+t+","+J,k=d.fO([s/255,t/255,J/255]);
if(K.add.fcmy)L="CMYK "+k.map(function(j9){return Math.round(j9*100)}).join(",");var C=m.Fh.OH(0,0,["#"+d.lP(Y),L]),E=C[1];
E.y=0;E.x=j-E.m>>>1;d.iF(C[0],E,g,R);var r={Ol:g,oJ:R,Gf:new jc(A.x+z.x,A.y+z.y)},Q=new h1(w.E.L,!0);
Q.data={d:w.I.eZ,gg:r};o.c(Q)};m.XV.prototype.pt=function(K,o,Y,c,z,f){var $=this.rp;if($){$.pt(K,o,Y,c,z);
return}this.v$(K,o,Y,c,z);if(this.ZC){this.ZC=null;if(f)this.v$(K,o,Y,c,z,this.dF);var E=new h1(w.E.L,!0);
E.data={d:w.I.eZ,gg:"default"};o.c(E)}};m.XV.prototype.v$=function(K,o,Y,c,z,f){if(f==null)f=m.XV.wD(K,z,this.iz,this.um);
var $=new h1(w.E.L);$.data={d:w.I.Ak,VS:bB.R8,f4:c&&c.S(a1.cV)?1:0,b:f};if(o)o.c($);return f};m.XV.wD=function(K,o,Y,c,z){if(c==null)c=2;
var f=K.Q.oh(o.x,o.y),$,E,b=K.Y.length==1&&K.B[K.Y[0]].xO>0&&z!=!0,q=K.Md.length!=0,V=0,U=0,Z=0;if(b||q){var O;
if(q)O=K.Kl[K.Md[0]];else{var j=K.B[K.Y[0]];O=j.xO==1?j.ue():j.akS()}E=O._U();if(!E.Tz(f))return O.color==0?0:16777215;
$=d.R(E.Z()*4);$.fill(255);var A=O.X6();d.xI(A,$)}else if(c==0&&K.Y.length!=0){var j=K.B[K.Y[0]];$=j.buffer;
E=j.rect}else{$=c==2?K.Gl():K.Gl(K.Y[0]);E=new hD(0,0,K.m,K.e)}var R=Math.floor(f.x)-E.x,g=Math.floor(f.y)-E.y,H=(Y-1)/2,i=Math.max(0,R-H),h=Math.max(0,g-H),x=Math.min(E.m,R+H+1),F=Math.min(E.e,g+H+1),X=(x-i)*(F-h);
for(var R=i;R<x;R++)for(var g=h;g<F;g++){var y=4*(g*E.m+R);V+=$[y];U+=$[y+1];Z+=$[y+2]}V=Math.round(V/X);
U=Math.round(U/X);Z=Math.round(Z/X);return V<<16|U<<8|Z};m.XV.prototype.SX=function(K){var o=K.Bp;this.iz=[1,3,5,11,31][o[0]];
this.um=o[1];this.amm=o[2];this.N4=o[3]};m.A7=function(){m.Fh.call(this,[10,6],m.iw,"tools/gradient");
this.Bp={H:JSON.parse(eF.tG.arl).v,Ww:"Lnr",Qn:!1,FW:!1,aCM:"norm",al:1};this.jE=!1;this.XL=null};m.A7.prototype=new m.Fh;
m.A7.prototype.enable=function(K,o,Y,c){var z=new h1(w.E.L,!0);z.data={d:w.I.eZ,gg:"default"};o.c(z)};
m.A7.prototype.SX=function(K){this.Bp=K.VS};m.A7.prototype.tx=function(K,o,Y,c,z){if(!K.WM())return;
this.XL=K.Q.oh(z.x,z.y);this.XL=m.sq.$n(K,this.XL,Y);this.jE=!0};m.A7.prototype.D3=function(K,o,Y,c,z){if(!this.jE)return;
var f=K.Q.oh(z.x,z.y);f=m.sq.$n(K,f,Y);if(c.S(a1.jR))f=m.A7.cL(this.XL,f);K.N.AE={z:[this.XL.x,this.XL.y,f.x,f.y],G:["M","L"]};
K.N.HJ=[this.XL.x,this.XL.y,f.x,f.y];K.px=!0};m.A7.prototype.pt=function(K,o,Y,c,z){if(!this.jE)return;
var f=K.B[K.Y[0]],$=K.Q.oh(z.x,z.y);$=m.sq.$n(K,$,Y);if(c.S(a1.jR))$=m.A7.cL(this.XL,$);var E=$.km(this.XL),b=jc.gH(this.XL,$,.5),q=Math.atan2(E.y,E.x),O=jc.si(this.XL,$),j=Math.sin(q),A=Math.cos(q);
if(O>2){var R;if(K.r)R=K.r.rect;else R=new hD(0,0,K.m,K.e);var g=d.R(R.Z()*4),H=this.Bp,i=H.Ww;if(i!="Lnr"){O*=2;
b=this.XL}d.H.EI(H.H,g,R,[A*1/O,j*1/O,-j*1/O,A*1/O],b.x,b.y,H.Qn,eF.H.types.indexOf(i),Y.qm,Y.YQ,null,H.FW);
var h=Math.round(H.al*256),x=g.length;if(h!=256)for(var y=0;y<x;y+=4)g[y+3]=g[y+3]*h>>>8;var F=new h1(w.E.U);
F.f=m.by;F.data={d:"fillBMP",MA:g,C1:H.aCM,Mx:this.name};o.c(F)}K.N.AE=null;K.N.HJ=[];K.px=!0;this.jE=!1};
m.A7.prototype.yx=function(K,o,Y,c,z){function f(A){A=A.v;var R=A.Hrzn.v.val,g=A.Vrtc.v.val;return Y.Q.Hc(R,g)}if(K.d=="fromAction"){var $=this.Bp,E=this.Bp={};
for(var b in $)E[b]=$[b];var q=K.Sv.jU;if(q.Opct)E.al=q.Opct.v.val/100;if(q.Dthr)E.FW=q.Dthr.v;if(q.Grad)E.H=q.Grad.v;
if(q.Type)E.Ww=q.Type.v.GrdT;var O=f(q.From),j=f(q.T);this.tx(Y,o,z,c,O);this.pt(Y,o,z,c,j);this.Bp=$}};
m.A7.cL=function(K,o){if(K.BV(o))return K;var Y=o.x-K.x,c=o.y-K.y,z=Math.abs(Y),f=Math.abs(c);if(z>f)f=z/2>f?0:z;
if(f>z)z=f/2>z?0:f;z=Y>0?z:-z;f=c>0?f:-f;var $=Math.sqrt(Y*Y+c*c)/Math.sqrt(z*z+f*f);return new jc(K.x+z*$,K.y+f*$)};
m.A7.zU=function(K,o,Y,c,z,f,$){var E=new hD(0,0,o,Y),b=d.R(o*Y*4);d.uD(b,o,Y,4);var q=Math.sin(c),O=Math.cos(c),j=d.R(o*Y*4);
d.H.EI(K,j,E,[O*1/o,q*1/o,-q*1/Y,O*1/Y],o/2,Y/2,!1,0,z,f);d.l.To("norm",j,E,b,E,E,1);if($)return new ImageData(new Uint8ClampedArray(b.buffer),o,Y);
else return fv.lZ(b.buffer,o,Y,null,null,!0)};m.A7.a9E=function(K,o,Y){var c=JSON.parse(JSON.stringify(K));
if(c.Clrs)for(var y=0;y<c.Clrs.v.length;y++){var z=c.Clrs.v[y].v,f=z.Type.v.Clry;if(f=="UsrS")continue;
var $=f=="FrgC"?o:Y;z.Type.v.Clry="UsrS";z.Clr={t:"Objc",v:d.H.eD({o:$>>16&255,A:$>>8&255,J:$&255})}}return c};
m.FL=function(){m.Fh.call(this,[10,7],m.AC,"tools/hand");this.bV=!1;this.ZC=new jc(0,0);this.R4=null;
this.jh=0};m.FL.prototype=new m.Fh;m.FL.prototype.SX=function(K,o,Y,c){this.bV=K.bV};m.FL.prototype.yx=function(K,o,Y,c,z){var f=K.d;
if(f=="setcls"){Y.Q.v=K.v;Y.px=!0;Y.Pb=!0}if(f=="scroll"&&!c.S(a1.cV)){if(c.S(a1.rK))m.FL.Ne(Y,Y.Q.w.x-K.Q8.y,Y.Q.w.y-K.Q8.x);
else m.FL.Ne(Y,Y.Q.w.x-K.Q8.x,Y.Q.w.y-K.Q8.y)}};m.FL.prototype.enable=function(K,o,Y,c){this.R4=null;
var z=new h1(w.E.L,!0);z.data={d:w.I.eZ,gg:"grab"};o.c(z);if(K&&Date.now()-this.jh<300){z.type=w.E.U;
z.f=m.bx;z.data={d:"adapt",b:"fitscr"};o.c(z)}this.jh=Date.now()};m.FL.prototype.tx=function(K,o,Y,c,z){this.R4=K.Q.w.clone();
this.ZC.Ex(z.x,z.y)};m.FL.prototype.D3=function(K,o,Y,c,z){if(!z.WR)return;if(this.R4==null)this.tx(K,o,Y,c,z);
var f=this.bV?o.n$:[K];for(var y=0;y<f.length;y++)m.FL.Ne(f[y],this.R4.x+(z.x-this.ZC.x),this.R4.y+(z.y-this.ZC.y))};
m.FL.prototype.pt=function(K,o,Y,c,z){this.R4=null};m.FL.Ne=function(K,o,Y){var c=K.Q.O,z=K.Q.k6,f=z.m,$=z.e,E=K.m*c,b=K.e*c,q=E<f&&b<$,O=f/2+E/2-64,j=$/2+b/2-64;
K.Q.w.Ex(Math.max(-O,Math.min(O,o)),Math.max(-j,Math.min(j,Y)));K.Pb=!0};m.io=function(){m.Fh.call(this,[10,47],m.UO,"tools/rview");
this.ZC=new jc(0,0);this.QW=null;this.ud=null;this.jh=0};m.io.prototype=new m.Fh;m.io.prototype.enable=function(K,o,Y,c){this.R4=null;
var z=new h1(w.E.L,!0);z.data={d:w.I.eZ,gg:"grab"};o.c(z);if(K&&Date.now()-this.jh<300&&K.Q.Rs!=0){K.Q.Rs=0;
K.px=!0}this.jh=Date.now();if(K)this.fs(K,o)};m.io.prototype.disable=function(K,o,Y,c,z){if(K)this.fs(K,o)};
m.io.prototype.It=function(K,o,Y,c){if(K)this.fs(K,o)};m.io.prototype.tx=function(K,o,Y,c,z){this.ZC.Ex(z.x,z.y);
var f=K.Q;this.QW=f.oh(f.k6.m/2,f.k6.e/2);this.ud=f.HI();var $=f.oh(f.k6.m/2,f.k6.e/2),E=Math.min(f.k6.m,f.k6.e)*.35/f.O,b=E*.2,q=$.x,O=$.y;
K.N.AE={G:"M L L L L L".split(" "),z:[q,O,q,O-E,q+b,O,q,O+E,q-b,O,q,O-E]};K.px=!0};m.io.prototype.ari=function(K){var o=K.Q,Y=o.oh(o.k6.m/2,o.k6.e/2);
K.N.AE={G:["M","L"],z:[Y.x,Y.y,Y.x,Y.y-200]}};m.io.prototype.D3=function(K,o,Y,c,z){if(!z.WR)return;
var f=K.Q,$=this.QW,E=this.ZC,b=new jc(f.k6.m/2,f.k6.e/2),q=Math.atan2(z.y-b.y,z.x-b.x),O=Math.atan2(E.y-b.y,E.x-b.x),j=Math.atan2(this.ud.J,this.ud.g),A=q-O,R=Math.PI/4;
if(c.S(a1.jR)){A=j+R*Math.round((A-j)/R)}this.awZ(K,o,this.ud.clone(),$,A)};m.io.prototype.pt=function(K,o,Y,c,z){K.N.AE=null;
K.px=!0};m.io.prototype.SX=function(K,o,Y,c){this.awZ(Y,o,null,null,K.Wt-Y.Q.Rs);Y.Q.Rs=K.Wt};m.io.prototype.awZ=function(K,o,Y,c,z){var f=K.Q;
if(Y==null)Y=f.HI();if(c==null)c=f.oh(f.k6.m/2,f.k6.e/2);Y.translate(-c.x,-c.y);Y.rotate(z);Y.translate(c.x,c.y);
f.ayL(Y);if(K.m*f.O<f.k6.m&&K.e*f.O<f.k6.e)f.w.Ex(0,0);K.px=!0;this.fs(K,o)};m.io.prototype.fs=function(K,o){var Y=new h1(w.E.L,!0);
Y.data={d:w.I.DA,f:this.id,Wt:K.Q.Rs};o.c(Y)};m.AH=function(){m.ho.call(this,[10,25],m.nG,"tools/hbrush")};
m.AH.prototype=new m.ho("");m.AH.prototype.pt=function(K,o,Y,c,z){if(this.Ty==null)return;this.Jk(K,"heal",this.Ty.SC(),this.Ty._U(),this.Ty.kg());
this.W(K,this.Ty.kg());m.oC.prototype.pt.call(this,K,o,Y,c,z);if(!this.Bp.algnd)this.w=null};m.Na=function(K){m.Fh.call(this,K?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],K?m.Fd:m.oB,K?"tools/vtype":"tools/htype");
this.lk=[];this.KO=null;this.caller=null;this.ns=1;this.v2=null;this.a3B=0;this.yJ=0;this.a0V=null;this.zw=null;
this.rZ=null;this.zg=null;this.rN=null;this.q9=null;this.a5x=null;this.wU=null;this.z4=null;this.y9=null;
this.abe=null;this.K0=!1;this.sM=!1;this.KE=!1;this.Vh=null;this.q6=null;this.anC=null;this.ya=!1;this.qX=!1;
this.aA=-1;this.Ar=-1;this.LE=document.createElement("textarea");this.LE.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.LE.addEventListener("input",this.fE.bind(this),!1);this.LE.addEventListener("keydown",this.aur.bind(this),!1);
this.LE.addEventListener("keyup",this.aAp.bind(this),!1)};m.Na.prototype=new m.Fh;m.Na.prototype.bZ=function(K){return K.WR};
m.Na.prototype.Ok=function(K,o,Y,c){if(this.rZ!=null||this.id==m.Fd)return;this.caller=o;var z=this.agr(K);
if(z.length!=0){var f=null,$=[],E=[];for(var y=0;y<z.length;y++){var b=K.B[z[y]],q=b.add.TySh,O=0,j=b_.BM(q.e9).length-2,A=b_.Sw(q.e9,O,j);
b_.XA(A,q.i._8());if(A.Pf.Font!=null)A.Pf.Font=A.qu[A.Pf.Font].Name;f=A.qu;$.push(A.Pf);E.push(A.Nd)}var A={qu:f,Pf:b_.mL($),Nd:b_.mL(E)};
if(A.Pf.Font!=null)b_.iN(A,A.Pf.Font);this.azw(o,A,q)}};m.Na.prototype.agr=function(K){var o=[];for(var y=0;
y<K.Y.length;y++)if(K.B[K.Y[y]]&&K.B[K.Y[y]].add.TySh)o.push(K.Y[y]);return o};m.Na.prototype.yx=function(K,o,Y,c,z){var f=K.d=="insertGlyph",$=K.d=="copyText",E=K.d=="selectAll";
if((f||$||K.d=="insertText"||E)&&this.rZ){var b=f?String.fromCharCode(65533):K.b,q=this.LE,O=q.value,j=q.selectionStart,A=q.selectionEnd;
if($){jm.me(new Blob([O.slice(j,A)],{type:"text/plain"}))}else if(E){this.aA=q.selectionStart=0;this.Ar=q.selectionEnd=O.length;
this.YW(Y);q.focus()}else{q.value=O.slice(0,j)+b+O.slice(A);q.selectionStart=q.selectionEnd=j+b.length;
this.fE(null,f?K.b:null);q.focus()}}if(K.d=="updateStyles"){if(this.rZ==null){var R=this.agr(Y),g=!1;
if(R.length!=0){this.ca(Y,o,z,R);for(var y=0;y<R.length;y++){var H=Y.B[R[y]],i=H.add.TySh;b_.r2(i,this.ns);
this.rZ=H;var h=b_.BM(i.e9);this.aA=0;this.Ar=h.length-1;b_.K2(i.e9,this.aA,this.Ar,this.Z2(z,i));var x=this.k2(Y,z);
if(x==!1)g=!0}if(g){this.ya=!0;return}this.U_(Y,o,!0)}return}this.tv(z)}if(K.d.startsWith("warp")){var F=this.qX;
if(K.d=="warp"||K.d=="warpCancel"){if(this.rZ==null)return;if(K.d=="warp")this.rZ.add.TySh.PK=K.qN;else this.rZ.add.TySh.PK=this.a5x;
this.k2(Y,z);if(!F)this.YW(Y)}if(K.d!="warp")this.LE.focus();if((K.d=="warpConfirm"||K.d=="warpCancel")&&F){this.qX=!1;
if(K.d=="warpConfirm")this.U_(Y,o);else this._z(Y,o)}}if(K.d=="editCurr"){if(z.i5!=m.oB){this.v2=z.i5;
var X=new h1(w.E.L,!0);X.data={d:w.I.NR,f:m.oB};o.c(X)}if(this.rZ!=null)this.disable(Y,o,z,c);this.KO=z;
this.caller=o;this.ca(Y,o,z,[K.JZ]);var h=b_.BM(this.rZ.add.TySh.e9);this.aA=0;this.Ar=h.length-1;this.YW(Y);
this.g2();this.LE.focus()}if(K.d=="switchPntPrgr"){if(this.rZ)return;var H=Y.B[Y.Y[0]],i=H.add.TySh,V=i.i._8(),U=H.GN(),Z=JSON.parse(JSON.stringify(i.e9)),T=b_.C8(Z),v=T==1?b_.Ec(Z):[0,0,Math.round(U.m*1.05/V),Math.round(U.e*1.25/V)],P=b_.Sw(Z,0,0),p=P.qu[P.Pf.Font].Name,a=z.zl.ng(p),D=[0,v[2],v[2]/2][P.Nd.Justification%3],n=(a?f3.xe(a):.8)*P.Pf.FontSize;
b_.go(Z,1-T);if(T==0){console.log(f3.xe(a,p,P.Pf));D=-D;n=-n;b_.X$(Z,[0,0,v[2],v[3]])}var N=new dF(1,0,0,1,D,n);
N.concat(i.i);this.yx({hg:Y.Y[0],d:"newED",eu:Z,i:N,azV:[16,3,T==1?0:1]},o,Y,c,z)}if(K.d=="newED"){var H=Y.B[K.hg],i=H.add.TySh,W=this.a_(Y,[K.hg]);
i.e9=K.eu;if(K.i)i.i=K.i;if(au.OO(i,z.zl,o)){au.k2(H,z.zl,Y);Y.W()}else Y.$P=!0;var G=new dE(K.azV?K.azV:this.name,this);
G.data={Gz:W,Dc:this.a_(Y,[K.hg])};Y.iy(G)}if(K.d=="fromAction"){var l=K.Sv.jU.Usng.v,u=l.TxtC.v,e=[];
for(var y=0;y<2;y++){var M=u[y==0?"Hrzn":"Vrtc"].v,b=M.val;if(M.type=="#Prc")b=(y==0?Y.m:Y.e)*(b/100);
e[y]=b}this.KM(Y,o,z,c,Y.Q.Hc(e[0],e[1]),!0);var H=Y.B[Y.Y[0]],i=H.add.TySh,B=i.e9,O=b_.BM(B);b_.eO(B,0,O.length-1);
b_.Df(B,0,l.Txt.v.replace(/\r/g,"\n"));O=b_.BM(B);for(var T=0;T<2;T++){var s=l[T==0?"Txtt":"paragraphStyleRange"].v;
for(var y=0;y<s.length;y++){var t=s[y].v,j=t.From.v,A=Math.min(t.T.v-1,O.length-1);t=t[T==0?"TxtS":"paragraphStyle"].v;
var J=b_.Sw(B,j,A),L=T==0?J.Pf:J.Nd;for(var k in t){var C=t[k].v;if(k=="Sz")L.FontSize=Math.round(C.val*(C.type=="#Pnt"?Y.aE/72:1));
else if(k=="fontPostScriptName")b_.iN(J,C);else if(k=="Algn")L.Justification={Left:1,Cntr:2}[C.Alg];
else if(k=="leading")L.Leading=t[k].v.val;else if(k=="baselineShift")L.BaselineShift=t[k].v.val;else if(k=="autoLeading")L.AutoLeading=t[k].v;
else if(k=="syntheticBold")L.FauxBold=t[k].v;else if(k=="syntheticItalic")L.FauxItalic=t[k].v;else if(k=="Trck")L.Tracking=t[k].v;
else if(k=="verticalScale")L.VerticalScale=t[k].v/100;else if(k=="horizontalScale")L.HorizontalScale=t[k].v/100;
else if(k=="Clr")L.FillColor={Type:1,Values:[1,C.Rd.v/255,C.Grn.v/255,C.Bl.v/255]}}b_.K2(B,j,A,J)}}if(au._1(Y,z.zl,o))au.k2(H,z.zl,Y);
else Y.$P=!0;Y.W();this.U_(Y,o)}};m.Na.prototype.tv=function(K){var o=Math.min(this.aA,this.Ar),Y=Math.max(this.aA,this.Ar),c=this.rZ.add.TySh;
b_.r2(c,this.ns);var z=this.Z2(K,c);b_.K2(c.e9,o,Y-1,z);var f=this.caller.oe(),$=this.k2(f,K);if($)this.YW(f);
if(document.activeElement.tagName.toLowerCase()!="input")this.LE.focus()};m.Na.prototype.rC=function(K){return this.lk.indexOf(K)!=-1};
m.Na.prototype.enable=function(K,o,Y,c){var z=this.LE;o.n.appendChild(z);this.wU="default";this.WJ(o)};
m.Na.prototype.$l=function(){return this.rZ!=null};m.Na.TX=function(K,o){var Y=new jc(o.x,o.y);for(var y=K.B.length-1;
y>=0;y--){var c=K.B[y],z=c.add.TySh;if(z&&K.ao3(y)){var f=Y,$=c.rect;if(g1==1){var E=z.i.clone();E.oD();
f=E.qc(Y);$=c.DM.nM}if(!$.Tz(f))continue;var b=c.dq(31);return b?-2:y}}return-1};m.Na.prototype.tx=function(K,o,Y,c,z){this.KO=Y;
this.caller=o;var f=K.Q.oh(z.x,z.y),$=this.rZ==null;if($){var E=m.Na.TX(K,f);if(E==-2){alert(ca.get([6,57,0]));
return}if(E>=0&&!c.S(a1.jR)){if(!au.OO(K.B[E].add.TySh,Y.zl,o)){alert("Fonts not loaded yet");return}this.ca(K,o,Y,[E])}else{this.KE=!0;
this.Vh=z;return}}var b=$?-1:b_.C8(this.rZ.add.TySh.e9),q=this.y9?this.y9:this.z4,O=q&&q.tx(K,Y,c,f,null,null,z)&&d.qN.B_(this.rZ.add.TySh.PK),j=!$&&d.M.aeA(f,this.rZ.GN())>20/K.Q.O&&(b==0||b==1);
if(O||j){this.K0=!0;this.q6=f;this.anC=this.rZ.add.TySh.i.clone();if(this.aA==-1&&this.Ar==-1)this.aA=this.Ar=this.uZ(f)}else{if(this.rN==null){alert("Fonts not loaded yet");
return}this.sM=!0;this.aA=this.Ar=this.uZ(f);var A=Date.now();if(A-this.a3B>300)this.yJ=0;this.yJ++;
this.a3B=A;if(this.yJ==2)this.avx();if(this.yJ==3)this.awQ();if(this.yJ>1){this.sM=!1}}this.g2();this.YW(K)};
m.Na.prototype.ca=function(K,o,Y,c){var z=K.B[c[0]];this.rZ=z;this.cN(o,w.E.L,{d:w.I.DA,f:this.id,$z:"showactive"});
this.zg=c;K.Y=c.slice(0);K.vw();K.YS=!0;this.q9=this.a_(K,c);this.xl(z.add.TySh);this.k2(K,Y)};m.Na.prototype.xl=function(K){if(b_.C8(K.e9)!=1)return;
var o=b_.Ec(K.e9);o=new hD(0,0,o[2]-o[0],o[3]-o[1]);var Y=[o.x,o.y,o.x+o.m,o.y,o.x+o.m,o.y+o.e,o.x,o.y+o.e];
d.M.i(Y,K.i,Y);this.z4=new cD(Y,!1,!1,!1,!0);this.z4.Nh(0)};m.Na.prototype.avx=function(){var K=b_.BM(this.rZ.add.TySh.e9);
this.aA=this.a6G(K,this.aA);this.Ar=this.auC(K,this.aA)};m.Na.prototype.a6G=function(K,o){var Y=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];
for(var y=0;y<Y.length;y++)c.push(Y.charAt(y));var z=c.indexOf(K[o])==-1?!0:!1;for(var y=o-1;y>=0;y--)if(c.indexOf(K.charAt(y))!=-1==z)return y+1;
return 0};m.Na.prototype.auC=function(K,o){var Y=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];for(var y=0;
y<Y.length;y++)c.push(Y.charAt(y));var z=c.indexOf(K[o])==-1?!0:!1;for(var y=o+1;y<K.length;y++)if(c.indexOf(K.charAt(y))!=-1==z)return y;
return K.length-1};m.Na.prototype.awQ=function(){var K=this.rN.anR(this.aA);this.aA=K[0];this.Ar=K[1]};
m.Na.prototype.WJ=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.eZ,gg:this.wU};K.c(o)};m.Na.prototype.D3=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=this.rZ;
if(!z.WR){var E="default",b=this.z4,q=this.y9?this.y9:b;if(q&&d.qN.B_($.add.TySh.PK)){var O=q.xC(f,K.Q.O,null,z);
if(O)E=O;else if(q==b&&b.RW(f))E="text"}else if($&&d.M.aeA(f,$.GN())>20/K.Q.O)E="move";else if(m.Na.TX(K,f)>=0)E="text";
if(E!=this.wU){this.wU=E;this.WJ(o)}}var j=this.Vh;if(this.KE&&Math.min(z.x-j.x,z.y-j.y)>4/K.Q.O){this.KE=!1;
this.KM(K,o,Y,c,z);$=this.rZ;this.K0=!0;this.z4=new cD(null,!1,!1,!1,!0);this.z4.Nh(0);var A=K.Q.oh(this.Vh.x,this.Vh.y);
A.x=Math.round(A.x);A.y=Math.round(A.y);this.z4.tx(K,Y,c,A,null,null,z,K.Q.Rs)}if(this.K0){var R=$.add.TySh;
if(this.y9){this.y9.D3(K,Y,c,f);var g=d.D.IU(d.D.P_(this.y9.ni(),this.abe));R.i=g;this.k2(K,Y);b_.Ac(R)}else if(this.z4){this.z4.D3(K,Y,c,f);
var H=R.i.clone(),i=Math.atan2(H.J,H.g);H.rotate(i);var g=d.D.IU(d.D.P_(this.z4.ni())),h=Math.atan2(g.J,g.g);
g.rotate(h);if(!isNaN(g.g)&&g.g*g.gG-g.J*g.b0!=0){var x=new hD(0,0,g.g/H.g,g.gG/H.gG),F=Math.round(x.m),X=Math.round(x.e),V=R.e9.Curve;
if(V){var U=b_.Ec(R.e9),Z=new dF(F/U[2],0,0,X/U[3],0,0);d.M.i(V.Points,Z,V.Points);b_.Ac(R)}b_.X$(R.e9,[0,0,F,X]);
R.i=d.D.IU(d.D.P_(this.z4.ni(),x));this.k2(K,Y);b_.Ac(R)}}else{var T=f.x-this.q6.x,v=f.y-this.q6.y;R.i=this.anC.clone();
var P=new jc(R.i.B3+T,R.i.Z7+v);P=m.sq.$n(K,P,Y);R.i.B3=P.x;R.i.Z7=P.y;this.k2(K,Y)}}if(this.sM)this.Ar=this.uZ(f);
if(this.K0||this.sM)this.YW(K)};m.Na.prototype.KM=function(K,o,Y,c,z,f){var $=K.dK(),E=$[0],b=$[1],q=K.Uu();
q.add.lnsr="rend";var O=K.B.slice(0);q.vd("Text layer "+O.length);this.rZ=q;var j=K.Y.length==0?K.B.length-1:K.Y[K.Y.length-1],A=j+1;
if(O[j].add.lsct==eo.bl)A--;this.q9={BI:O.slice(0),WB:K.Y.slice(0)};O.splice(A,0,q);K.Y=[A];this.aA=this.Ar=0;
K.$p(O);this.q9.HH=O.slice(0);this.q9.HR=K.Y.slice(0);this.cN(o,w.E.L,{d:w.I.DA,f:this.id,$z:"showactive"});
var R=K.Q.oh(z.x,z.y),g=Y.KP;console.log(g);if(this.id==m.Fd){g=JSON.parse(JSON.stringify(g));g.Pf.BaselineDirection=1}q.add.TySh=b_.HO(R.x,R.y,g,K.Q.Rs);
var H=q.add.TySh,i=H.e9;if(this.id==m.Fd)i._LineOrientation=2;b_.r2(H,this.ns);if(z.WR)b_.go(i,1);else{b_.go(i,0);
var h=E[b.pop()],x=h?h.add.vmsk:null;if(f)x=null;if(x&&!c.S(a1.jR)){x=x.clone();var F=x.$,V,U;for(var y=0;
y<F.length;y++)if(F[y].fa!=null)F[y].fa=0;var X=5/K.Q.O;V=d.j.R9(x.$,R,!0,X);if(V.UQ==-1)V=d.j.R9(x.$,R);
if(V.UQ!=-1){b_.go(i,1);var Z=d.j.js(F,V.UQ),T=d.j.iY(F,V.UQ)-1;F=x.$=F.slice(0,2).concat(F.slice(Z,Z+T+1));
x.Y=[];H.add={vmsk:x,vogk:S.D8(F)};i.Curve={};b_.eV(H);if(V.UM!=null){var v=f3.Y$(i.Curve);d.M.i(v[0],H.i,v[0]);
var P=d.M.y7(v[0],R.x,R.y),p=Y.KP.Nd.Justification;if(p==2||p==5){var a=(v[2][P]+v[3]*.5)%v[3];P=f3.VJ(a,v[2])}var D=v[1][P];
D=D%T;x.vh=[D,D];b_.eV(H)}else this.xl(H)}}}return q};m.Na.prototype.pt=function(K,o,Y,c,z,f){if(f){this.KE=!1;
return}if(this.rZ==null&&!this.KE)return;var $=K.Q.oh(z.x,z.y),E=this.KE;if(this.KE){this.KE=!1;this.KM(K,o,Y,c,z);
this.sM=!0}if(this.K0||this.sM){this.YW(K);this.g2();if(E)this.tv(Y)}if(this.K0&&this.z4)this.z4.pt(K,Y,c,$);
this.K0=this.sM=!1;this.LE.focus()};m.Na.prototype.g2=function(){var K=this.rZ.add.TySh,o=Math.min(this.aA,this.Ar),Y=Math.max(this.aA,this.Ar),c,z;
if(o==Y){var f=b_.BM(K.e9);if(o==0||f.charAt(o-1)=="\n")c=z=o;else c=z=o-1}else{c=o;z=Y-1}var $=b_.Sw(K.e9,c,z);
b_.XA($,K.i._8());this.azw(this.caller,$,K)};m.Na.prototype.azw=function(K,o,Y){this.cN(K,w.E.L,{d:w.I.Ak,VS:bB.tV,KP:o});
var c=this.ns=b_.fc(Y);this.cN(this.caller,w.E.L,{d:w.I.DA,f:this.id,$z:"changeAA",Wx:c})};m.Na.prototype.aj=function(K,o,Y,c,z){if(K==null)return;
var f=K.Q.oh(z.x,z.y),$=m.Na.TX(K,f);if($==-1)return;var E=new h1(w.E.L,!0);E.data={d:w.I.DA,f:this.id,$z:"showpan",a8a:this.rZ!=null,JZ:$,p4:z,Xe:K,KO:Y};
o.c(E)};m.Na.prototype.azD=function(){var K=this.rZ;if(K&&!this.K0&&this.y9!=null){var o=this.caller.oe();
this.y9.pt(o,this.KO,null,null);this.y9=null;this.xl(K.add.TySh);this.YW(o)}};m.Na.prototype.disable=function(K,o,Y,c){var z=this.rZ;
this.U_(K,o)};m.Na.prototype.SX=function(K,o,Y,c,z){if(this.qX)return;if(K.$z=="commit")this.U_(Y,o);
if(K.$z=="cancel")this._z(Y,o);if(K.$z=="changeAA"){this.ns=K.Wx;if(Y!=null)this.yx({d:"updateStyles"},o,Y,c,z)}if(K.$z=="showwarp"){if(Y==null)return;
if(this.rZ==null){var f=Y.B[Y.Y[0]],$=f.add.TySh;if($==null)return;this.ca(Y,o,z,[Y.Y[0]]);this.LE.focus();
this.qX=!0}this.a5x=this.rZ.add.TySh.PK;var E=new h1(w.E.L,!0);E.data={d:w.I.Gg,XQ:"textwarp"};o.c(E)}};
m.Na.prototype.fL=function(K,o){if(o!=bB.Kx)return;if(this.ya){this.ya=!1;var Y=this.caller.oe(),c=this.zg;
for(var y=0;y<c.length;y++){this.rZ=Y.B[c[y]];this.k2(Y,K)}this.U_(Y,this.caller);return}if(this.rZ)this.tv(K)};
m.Na.prototype.Z2=function(K,o){var Y=JSON.parse(JSON.stringify(K.KP));b_.XA(Y,1/o.i._8());return Y};
m.Na.prototype.PZ=function(K,o){if(K.Gz!=null)this.u5(o,K.Dc);else this.a7H(o,K.HH,K.HR)};m.Na.prototype.mt=function(K,o){if(K.Gz!=null)this.u5(o,K.Gz);
else this.a7H(o,K.BI,K.WB)};m.Na.prototype.u5=function(K,o){for(var y=0;y<o.length;y++){var Y=o[y],c=Y.hg,z=K.B[c];
z.buffer=Y.r4;z.rect=Y.oJ.clone();z.W();z.DM.JN=null;z.DM.path=null;var f=z.add.TySh;f.PK=Y.qN;f.jT=Y.jT.clone();
f.i=Y.i.clone();f.e9=JSON.parse(JSON.stringify(Y.e9));z.Pe()}K.W()};m.Na.prototype.a_=function(K,o){var Y=[];
for(var y=0;y<o.length;y++){var c=o[y],z=K.B[c],f=z.add.TySh;Y.push({hg:c,i:f.i.clone(),qN:JSON.parse(JSON.stringify(f.PK)),jT:f.jT.clone(),e9:JSON.parse(JSON.stringify(f.e9)),r4:z.buffer.slice(0),oJ:z.rect.clone()})}return Y};
m.Na.prototype.a7H=function(K,o,Y){K.Y=Y;K.$p(o);K.W();K.jS=!0};m.Na.prototype.k2=function(K,o,Y){if(Y==null)Y=!1;
var c=this.rZ.add.TySh;if(!au.OO(c,o.zl,this.caller))return!1;if(!Y){var z=b_.BM(c.e9);this.LE.value=z.slice(0,z.length-1)}var f=this.rZ.rect,$=au.k2(this.rZ,o.zl,K);
this.rN=$[1];var E=this.rN.jN();if(d.qN.B_(c.PK))c.jT=new hD;else{if(b_.C8(c.e9)==1){var b=b_.Ec(c.e9),h4=E.y;
c.jT=new hD(0,h4,b[2]-b[0],b[3]-b[1]-h4)}else c.jT=E}K.Sm();if($[2])K.W(K.root.Of($[2].oJ.Bb(f),K,K.B.indexOf(this.rZ)));
return!0};m.Na.prototype.fE=function(K,o){if(this.rZ==null||this.qX)return;var Y=this.LE.selectionStart,c=this.rZ.add.TySh,z=b_.BM(c.e9),f=this.LE.value+"\n",$=Math.min(this.aA,this.Ar),E=Math.max(this.aA,this.Ar),A=!1;
this.aA=Math.min(Y,$);if(f.length-Y<z.length-this.Ar)this.Ar=z.length-f.length+Y;if(z!=f){while(this.aA>0&&z.charAt(this.aA-1)!=f.charAt(this.aA-1))this.aA--}var b=z.substring(0,this.aA),q=z.substring(this.Ar,z.length),O=f.substring(this.aA,f.length-q.length);
b_.eO(c.e9,this.aA,this.Ar);b_.Df(c.e9,this.aA,O);if(o!=null)b_.aBf(c.e9,this.aA,o);var j=this.Z2(this.KO,c),R=-1,g=Array.from(O);
for(var y=0;y<g.length;y++)R=Math.max(R,g[y].codePointAt(0));if(R!=-1&&R>128&&R!=65533&&j.Pf.Font!=null){var H=j.qu[j.Pf.Font].Name,i=this.KO.zl.DZ(R,H,j.qu);
if(H!=i){b_.iN(j,i);A=!0}}if(this.zw!=null&&O==this.zw){var h=JSON.parse(this.a0V);j.Pf=h.Pf;j.qu=h.qu;
A=!0}b_.K2(c.e9,this.aA,this.aA+O.length-1,j);this.aA=this.Ar=b.length+O.length;var x=this.caller.oe(),F=this.k2(x,this.KO,!0);
if(F)this.YW(x,!0);if(A)this.g2()};m.Na.prototype.aAp=function(K){var o=a1;if(!K.ctrlKey)this.azD();
K.stopPropagation()};m.Na.prototype.aur=function(K){K.stopPropagation();var o=K.ctrlKey||K.metaKey,Y=a1,b=0,q=0,F=0,n=!1;
if(this.rZ==null||this.qX)return;if(this.rZ==null)return;if(this.caller.L3.BQ())return;var c=this.caller.oe();
if(this.y9==null&&o){var z=this.rZ.add.TySh,f=b_.C8(z.e9),$;if(f==1){$=b_.Ec(z.e9);$=new hD(0,0,$[2]-$[0],$[3]-$[1])}else $=this.rN.jN();
var E=[$.x,$.y,$.x+$.m,$.y,$.x+$.m,$.y+$.e,$.x,$.y+$.e];d.M.i(E,z.i,E);this.y9=new cD(E,!0,!0,!1,!1);
this.y9.Nh(0);this.abe=$;this.YW(c)}if(Y.Ik(K.code,Y.Qt))b=1;if(Y.Ik(K.code,Y.ko))b=-1;if(Y.Ik(K.code,Y.mc))q=-1;
if(Y.Ik(K.code,Y.hb))q=1;var O=Y.Ik(K.code,a1.oY),j=Y.Ik(K.code,a1.aic);if(Y.Ik(K.code,a1.C4)&&o){this.U_(c,this.caller);
return}if(Y.Ik(K.code,a1.Xg)){this._z(c,this.caller);return}if(Y.Ik(K.code,a1.wy)){K.preventDefault();
var A=this.LE,R=A.value,g=A.selectionStart,H=A.selectionEnd;A.value=R.substring(0,g)+"\t"+R.substring(H);
A.selectionStart=A.selectionEnd=g+1;this.fE(null);return}var i=Y.Ik(K.code,Y.U1),h=Y.Ik(K.code,Y.VV);
if(o&&(i||h)){K.preventDefault();var x=new h1(w.E.U,!0);x.f=m.bx;x.data={d:"zoom",ik:i};this.caller.c(x)}if(Y.Ik(K.code,Y.uh))F=1;
if(Y.Ik(K.code,Y.jF))F=-1;var X=this.aA==this.Ar,V=o&&K.shiftKey&&F!=0&&!X;if(V||K.altKey&&b!=0){var U=JSON.parse(JSON.stringify(this.KO.KP));
if(V){var Z=U.Pf.FontSize;if(Z==null)Z=16;U.Pf.FontSize=Math.max(1,Z+F*(K.altKey?5:1))}else{if(X){U.Pf.Kerning+=20*b;
U.Pf.AutoKerning=!1}else U.Pf.Tracking+=20*b}K.preventDefault();var T=new h1(w.E.L,!0);T.data={d:w.I.Ak,VS:bB.tV,KP:U};
this.caller.c(T);var x=new h1(w.E.U,!0);x.f=m.oB;x.data={d:"updateStyles"};this.caller.c(x);return}if((Y.Ik(K.code,Y.bY)||Y.Ik(K.code,Y.zA))&&o){var v=this.aA,P=this.Ar;
if(v>P){var p=v;v=P;P=p}var z=this.rZ.add.TySh,a=b_.BM(z.e9);if(v!=P){this.zw=a.slice(v,P);this.a0V=JSON.stringify(this.KO.KP)}}var D=b_.BM(this.rZ.add.TySh.e9);
if(b!=0||q!=0||O||j){K.preventDefault();var N=this.aA;if(b!=0){if(o&&b==-1)N=this.a6G(D,this.aA-1);else if(o&&b==1)N=this.auC(D,this.aA);
else{var A=this.LE,R=A.value;N=this.aA+b;if(N!=0&&R.codePointAt(N-1)>65535)N+=b}}else if(q!=0){var W=this.rN.wd(this.aA);
if(q==-1&&W.LV==0)N=0;else if(q==1&&W.LV==this.rN.auI()-1)N=99999999999;else N=this.rN.aiP(new jc(W.oJ.x+W.oJ.m/2,0),W.LV+q)}else if(O){var G=this.aA-1;
while(G>0&&D.charCodeAt(G)!=10)G--;N=G==0?0:G+1}else if(j){var G=this.aA;while(G<D.length-1&&D.charCodeAt(G)!=10)G++;
N=G}N=Math.max(0,Math.min(D.length-1,N));if(K.shiftKey)this.aA=N;else this.aA=this.Ar=N;n=!0}if(Y.Ik(K.code,a1.I)&&o){this.aA=0;
this.Ar=D.length-1;n=!0}if(n){this.g2();this.YW(c)}};m.Na.amh=function(K,o){var Y=K.length;if(Y!=o.length)return!1;
for(var y=0;y<Y;y++)if(K[y].hg!=o[y].hg)return!1;return!0};m.Na.prototype.U_=function(K,o,Y){if(this.rZ==null)return;
this.rZ.Pe();var c=this.q9;if(c instanceof Array){var z=this.a_(K,this.zg),f=K.VE();if(f!=null&&f.f==this&&f.data.Gz&&m.Na.amh(f.data.Gz,c)&&Y)f.data.Dc=z;
else{var $=new dE(this.name,this);$.data={Gz:c,Dc:z};K.iy($)}}else{var $=new dE(this.name,this);$.data={BI:c.BI,HH:c.HH,WB:c.WB,HR:c.HR};
K.iy($)}this.escape(K,o)};m.Na.prototype._z=function(K,o){if(this.rZ==null)return;if(this.q9 instanceof Array){this.u5(K,this.q9);
if(this.rZ)b_.Ac(this.rZ.add.TySh)}else{K.Y=this.q9.WB;K.$p(this.q9.BI);K.jS=!0}K.W();this.escape(K,o)};
m.Na.prototype.escape=function(K,o){this.azD();this.rZ=null;this.zg=null;this.rN=null;this.z4=null;this.LE.blur();
K.N.AE=null;K.N.GI=null;K.N.HJ=[];K.px=!0;this.K0=!1;this.sM=!1;this.aA=this.Ar=-1;this.cN(o,w.E.L,{d:w.I.DA,f:this.id,$z:"hideactive"});
if(this.v2){var Y=new h1(w.E.L,!0);Y.data={d:w.I.NR,f:this.v2};o.c(Y);this.v2=null}};m.Na.prototype.cN=function(K,o,Y,c){var z=new h1(o,!0);
z.data=Y;if(c)z.f=c;K.c(z)};m.Na.prototype.uZ=function(K){var o=this.rZ.add.TySh,Y=this.rN,c=o.i.clone();
c.oD();var z=c.qc(K),f=b_._U(o,Y),$=d.qN.Mu(o.PK,f),E=d.vo.Fi($,z);if(E==null)E=new Float64Array(2);
z=new jc(f.x+E[0]*f.m,f.y+E[1]*f.e);if(Y.SR){var b=Y.SR.clone();b.oD();z=b.qc(z)}var q=Y.aiP(z);return q};
m.Na.prototype.YW=function(K,o){if(o==null)o=!1;var Y=this.rZ.add.TySh,c=b_.C8(Y.e9),z=this.rN,f=z?b_._U(Y,z):null;
K.N.HJ=[];K.N.AE=null;K.N.GI=null;var $=this.y9?this.y9:this.z4;if($){$.rb(K,this.KO,!d.qN.B_(Y.PK));
var E=Y.i.clone();E.oD();if(z&&z.SR&&z.tM==1){var b=z.SR.clone();b.oD();E.concat(b)}d.M.i(K.N.HJ,E,K.N.HJ);
d.M.i(K.N.AE.z,E,K.N.AE.z);if(z&&z.SR==null&&z.a0i()){var q=f.m-20,O=f.e+8;K.N.AE.z.push(q,O,q+10,O,q+5,O-5,q+5,O+5);
K.N.AE.G.push("M","L","M","L")}}else if(c==0)this.ayd(K,Y,z);else K.N.AE={z:[],G:[]};var j=Math.min(this.aA,this.Ar),A=Math.max(this.aA,this.Ar);
if(!o){this.LE.selectionStart=j;this.LE.selectionEnd=A}if(z!=null){var R=function($,X){var V=$.x,U=$.y+$.e,Z=new dF;
Z.translate(-V,-U);Z.rotate(-X);Z.translate(V,U);$.y+=$.e*.27;var F=d.M.Yq($);d.M.i(F.z,Z,F.z);return F};
if(j==A){j=Math.max(j,0);var g=z.wd(j);if(g){var H=g.oJ,i=this.KO.KP.Pf.FontSize;if(i!=null&&i!=0){i/=Y.i._8();
H.y+=H.e-i;H.e=i}var h=z.a9a(j);if(h!=null&&h.In==1)H.x+=H.m;var x=R(H,g.Rs).z;K.N.AE.G.push("M","L");
K.N.AE.z.push(x[0],x[1]-1,x[6],x[7]-1)}}else{K.N.GI={z:[],G:[]};for(var y=j;y<A;y++){var g=z.wd(y),F=R(g.oJ,g.Rs);
d.M.concat(K.N.GI,F)}}}K.N.AE=au.Qf(K.N.AE,Y,z,!0);K.N.GI=au.Qf(K.N.GI,Y,z,!0);K.N.HJ=au.Qf({z:K.N.HJ},Y,z,!0).z;
K.px=!0};m.Na.prototype.ayd=function(K,o,Y){if(Y==null)return;K.N.HJ.push(0,0);if(K.N.AE==null)K.N.AE={G:[],z:[]};
for(var y=0;y<Y.Nd.length;y++){var c=Y.Nd[y];for(var z=0;z<c.h4.length;z++){var f=c.h4[z],$=c.Ja.x+f.Ja.x+f.oJ.x,E=c.Ja.y+f.Ja.y+f.oJ.y+f.oJ.e;
K.N.AE.G.push("M","L");K.N.AE.z.push($,E,$+f.oJ.m,E)}}K.px=!0};m.E2=function(){m.Na.call(this,!0)};m.E2.prototype=new m.Na;
m.QL=function(){m.PP.call(this,[10,9],m.RQ,"tools/lasso");this.yR="crosshair";this.uv=null;this.$h=null;
this.q6=null};m.QL.prototype=new m.PP;m.QL.prototype.dl=function(K,o,Y,c){this.uv=this.e8;this.$h={z:[this.uv.x,this.uv.y],G:["M"]}};
m.QL.prototype.iM=function(K,o,Y,c){this.q6=c;var z=this.$h;if(z==null)return;if(!c.WR){if(this.$h!=null&&this.YU.bC(1)&&Y.S(a1.cV)){z.z.pop();
z.z.pop();z.z.push(this.Xx.x,this.Xx.y);K.N.AE=z;K.px=!0}return}z.G.push("L");z.z.push(this.Xx.x,this.Xx.y);
this.uv=this.Xx;if(this._o){K.N.AE=z;K.px=!0}};m.QL.prototype.$l=function(){return this.$h!=null};m.QL.prototype.Q$=function(){return this.$h!=null};
m.QL.prototype.Ed=function(K,o,Y,c){m.PP.prototype.Ed.call(this,K,o,Y,c);if(this.$h&&this.YU.bC(1)&&this.q6&&!this.q6.WR&&!c.S(a1.cV))this.a0e(K,Y,c)};
m.QL.prototype.hz=function(K,o,Y,c){this.q6=c;var z=this.$h;if(z==null)return;if(this.YU.bC(1)&&Y.S(a1.cV)){z.G.push("L");
z.z.push(this.Xx.x,this.Xx.y);return}this.a0e(K,o,Y)};m.QL.prototype.a0e=function(K,o,Y){this.finish(K,o,Y,this.q6);
this.$h=null;K.N.AE=null;K.px=!0};m.QL.prototype.getSelection=function(K,o,Y,c){if(this.e8.BV(this.Xx)||!this._o)return null;
return m.PP.RT(this.$h.z,null,this.Bp.anta)};m.sq=function(){m.Fh.call(this,[10,11],m.Wh,"tools/move");
this.yg=new jc(0,0);this.l2=new jc(0,0);this.mq=null;this.Tt=null;this.NO=new jc(0,0);this.xm=null;this.Bk=null;
this.qT=null;this.jh=0;this.b7=null;this.EA=[];this.So=null;this.R7=null;this.jE=!1;this.d=0;this.Xd=null;
this.CG=null;this.eF=null;this.DE=!1;this.Bp={Bq:!0,t8:!1,s8:!1,av6:1};this.afZ=!1;this.ahD=!1;this.z4=null;
this.O0=null;this.kh=null;var K=[];for(var y=0;y<d.Rf.Vl.length;y++)K.push({name:d.Rf.Vl[y],u:function(o,Y,c){return{u9:Y.EU.hq==c}}});
this.Bl=new gq(K);this.Bl.k("select",this.CA,this)};m.sq.prototype=new m.Fh;m.Fh.prototype.bZ=function(K){return this.jE&&this.d!=2};
m.sq.prototype.aCK=function(){return this.jE&&(this.d==0||this.d==1)};m.sq.prototype.It=function(K,o,Y,c){this.Gx(K,-this.NO.x,-this.NO.y);
this.NO.Ex(0,0);this.cU(K,null,Y);this.os(K)};m.sq.prototype.Hn=function(){var K=this.Bp;return[K.Bq?1:0,K.t8?1:0,K.s8?1:0]};
m.sq.prototype.jH=function(K,o,Y){var c=this.Bp;if(K&&K[0]!=null)c.Bq=K[0]==1;if(K&&K[1]!=null)c.t8=K[1]==1;
if(K&&K[2]!=null)c.s8=K[2]==1;var z=new h1(w.E.L,!0);z.data={d:w.I.DA,f:this.id,kM:c,asL:o};Y.c(z)};
m.sq.a9D=function(K,o,Y,c,z,f,E){if(E==null)E=[!1,!0];var b=K.FK(null,z,!0),q,O=z==null?K.Y[0]:z;if(K.add.artd&&(z!=null||K.Y.length==1)&&K.B[O].add.artb){var j=K.B[O].Yv();
q=K.St(b,j,j)[0]}else{var A=new hD(0,0,K.m,K.e),q=K.St(b,E[0]?A:null,E[1]?null:A)[0];delete q.add.artd;
if(E[1]){var R=d.kL(q.Gl(),new hD(0,0,q.m,q.e),2);m.XX.Am(q,R)}}if(Y!=1){var g=new hD(0,0,Math.round(q.m*Y),Math.round(q.e*Y));
m.XX.Am(q,g);var H=[];for(var y=0;y<q.B.length;y++)H.push(y);var i=m.OB.LH(q,H,!0);m.XX.ze(q,new dF(Y,0,0,Y,0,0));
m.OB.$t(q,c,H,i,1,d.D.lK(new dF(Y,0,0,Y,0,0)),null,!0);q.Uj()}var h=[];for(var y=0;y<o.length;y++)if(q.m*q.e!=0)h.push(fv.lU(q,o[y].toUpperCase(),null,null,f?f[y]:null,c));
return h};m.sq.prototype.acO=function(K,o,Y,c,z){if(K==null||K.Y.length==0)return;var f=m.sq.a9D(K,[o],Y,c,null)[0],$=new h1(w.E.L,!0);
$.data={d:w.I.fv,data:f,name:K.B[K.Y[0]].getName()+(Y==1?"":"@"+Y+"x")+"."+o};z.c($)};m.sq.prototype.SX=function(K,o,Y,c,z){if(K.f4=="getPNG"){this.acO(Y,"png",K.MY,z,o)}else if(K.f4=="getSVG"){this.acO(Y,"svg",K.MY,z,o)}if(K.f4=="prms"){this.Bp=K;
this.os(Y)}};m.sq.a27=function(K){var h4=K.length,Y=0;K.sort(function(f,$){return f[0]+f[1]/2-($[0]+$[1]/2)});
var o=K[h4-1][0]+K[h4-1][1]-K[0][0];for(var y=0;y<h4;y++)Y+=K[y][1];var c=Math.round((o-Y)/(h4-1)),z=K[0][0];
for(var y=0;y<h4;y++){K[y][0]=z;z+=K[y][1]+c}};m.sq.prototype.yx=function(K,o,Y,c,z){var f=K.d;if(f=="trsl"){var $=Math.round(K.zS),E=Math.round(K._g);
this.NO.Ex($,E);this.yS(Y,o,c,z,!1,K.a);this.Gx(Y,$,E);this.cU(Y,null,z)}else if(f=="fcmy"||f=="fvec"){var b=["RGB","CMYK"][K.b]+" Color";
if(f=="fvec")b=["Raster","Vector"][K.b]+" Mode";var q=new dE(b,this);q.data={d:K.d,UZ:Y.add[f]==null?0:Y.add[f],Wx:K.b};
Y.iy(q);this.PZ(q.data,Y)}else if(f=="pview"){var f=new dE([8,14],this);f.data={d:K.d};Y.iy(f);this.PZ(f.data,Y)}else if(f=="lockguides"){if(Y)Y.zT=!Y.zT}else if(f=="gids"||f=="gidsFromLayer"){var O=K.CG,j,A;
if(O==null)O=Y.Jm();if(f=="gids"){j=K._s;var R=O[0].length,g=j[0].length;A=R==g?[23,2]:R>g?[23,3]:[23,4];
if(g==0)A=[11,15,0]}else if(f=="gidsFromLayer"){var H=[],i=[],h=Y.pH();for(var y=0;y<Y.Y.length;y++){var x=Y.B[Y.Y[y]].rect;
if(x.xf())continue;H.push([0,x.x],[1,x.y],[0,x.x+x.m],[1,x.y+x.e]);i.push(h,h,h,h)}A=[11,15,1];j=Y.Jm();
m.sq.Tr(j,[H,i])}if(JSON.stringify(O)==JSON.stringify(j))return;var f=new dE(A,this);f.data={d:2,CG:O,_s:j};
Y.iy(f);this.PZ(f.data,Y)}else if(f=="algn"){var F=K.b;if(Y==null)return;if(Y.Y.length<2&&!(Y.r!=null&&F!=3&&F!=7)){alert(ca.get([15,7,5]));
return}var X=Y.r;Y.r=null;var x=X?X.rect:m.OB._U(Y);this.yS(Y,o,c,z,!1);if(!this.jE)return;var V=this.b7,U={},Z=[],T=[],v=[];
for(var y=0;y<V.length;y++){var P=V[y];while(Y.B[P].getName()=="</Layer group>")P++;var p=Y.root.w3(P),a=p;
while(p.parent!=null){p=p.parent;if(V.indexOf(p.index)!=-1)a=p}var D=T.indexOf(a.index);if(D==-1){D=T.length;
T.push(a.index)}Z[y]=D}var n=[],N=[],W=[];for(var y=0;y<T.length;y++){var G=m.OB._U(Y,Y.FK(!0,T[y]));
W.push(G);var l=F==3?[G.y,G.e]:[G.x,G.m];n[y]=l;N.push(l)}m.sq.a27(N);for(var y=0;y<T.length;y++){var G=W[y],u=G.x,e=G.y;
if(F==0)u=x.x;if(F==1)u=x.x+(x.m-G.m)/2;if(F==2)u=x.x+(x.m-G.m);if(F==3)e=n[y][0];if(F==4)e=x.y;if(F==5)e=x.y+(x.e-G.e)/2;
if(F==6)e=x.y+(x.e-G.e);if(F==7)u=n[y][0];v.push(Math.round(u-G.x),Math.round(e-G.y))}var M=[];for(var y=0;
y<V.length;y++){var B=Z[y];M[2*y]=v[2*B];M[2*y+1]=v[2*B+1]}this.Gx(Y,0,0,null,M);var s=F==3||F==7?[20,4,6]:[20,4,F<3?F:F-1];
this.cU(Y,null,z,M,s);Y.r=X}else if(f=="disabAuto"){this.jH([!1],null,o)}};m.sq.Tr=function(K,o){for(var y=0;
y<o[0].length;y++){var Y=o[0][y],c=o[1][y],z=!1;for(var f=0;f<K[0].length;f++){var $=K[0][f],E=K[1][f];
if(Y[0]==$[0]&&Y[1]==$[1]&&c==E)z=!0}if(!z){K[0].push(Y.slice(0));K[1].push(c)}}};m.sq.prototype.enable=function(K,o,Y,c,z){this.Bk=Y;
this.qT=o;this.DE=z?!0:!1;this.os(K);this.WJ("default",o);this.Ed(K,o,Y,c)};m.sq.prototype.disable=function(K,o,Y,c){this.a62(K)};
m.sq.prototype.a62=function(K){if(K==null)return;if(this.z4){this.z4.clear(K);this.z4=null}if(K.N.s8){K.N.s8=null;
K.px=!0}if(K.N.Qm){K.N.Qm=null;K.px=!0}if(K.N.CQ[this.id]){delete K.N.CQ[this.id];K.px=!0}if(K.N.Rw.length!=0){K.N.Rw=[];
K.px=!0}};m.sq.prototype.Ok=function(K,o,Y,c){if(Y.i5!=this.id)return;this.os(K)};m.sq.prototype.os=function(K,o){if(K==null)return;
var Y=this.Bp;this.a62(K);if(!this.DE){var c;if(Y.t8||Y.s8)c=d.M.tS(m.OB._U(K));if(Y.t8&&!c.xf()){var z=K.B[K.Y[0]],f=d.M.Yq(c).z;
if(g1==1&&K.Y.length==1){if(z.add.vmsk)f=z.add.vmsk.aq6();if(z.add.SoLd)f=m.OB.lA(z.add.SoLd.nonAffineTransform);
if(z.add.TySh){f=d.M.Yq(z.DM.nM).z;d.M.i(f,z.add.TySh.i,f)}}this.z4=new cD(f,!0);this.z4.rb(K,this.Bk)}if(Y.s8){var $=null,A=null,R=!1;
if(K.pH()!=-1)$=K.B[K.pH()].Yv();else $=new hD(0,0,K.m,K.e);K.N.s8={Qp:[c],yl:[]};var E=K.N.s8.yl,b=c.x+c.m,q=c.y+c.e,O=c.x+Math.floor(c.m/2),j=c.y+Math.floor(c.e/2);
if(o){var g=K.root.R9(new jc(Math.floor(o.x),Math.floor(o.y)));if(g){A=d.M.tS(g.a.GN(K));if(A.wR(c)){R=(A.wH(c)||c.wH(A))&&!c.BV(A);
if(!R)A=null}}}this.aCl(c,E);if(A!=null){K.N.s8.Qp.push(A);var H=A.x+A.m,i=A.y+A.e,h=A.x+Math.floor(A.m/2),x=A.y+Math.floor(A.e/2);
if(R){var F=O,X=j;if(c.wH(A)){F=h;X=x}E.push(c.x,X,A.x,X);E.push(b,X,H,X);E.push(F,c.y,F,A.y);E.push(F,q,F,i)}else{this.aCl(A,E);
var V=q<A.y||i<c.y,U=b<A.x||H<c.x;if(b<A.x)E.push(b,j,A.x,j);if(H<c.x)E.push(H,j,c.x,j);if(q<A.y)E.push(O,q,O,A.y);
if(i<c.y)E.push(O,i,O,c.y);if(V&&!U){if(c.x<A.x)E.push(c.x,x,A.x,x);if(A.x<c.x)E.push(A.x,j,c.x,j)}}}else{if(c.y>$.y)E.push(O,$.y,O,c.y);
if(q<$.y+$.e)E.push(O,q,O,$.y+$.e);if(c.x>$.x)E.push($.x,j,c.x,j);if(b<$.x+$.m)E.push(b,j,$.x+$.m,j)}K.px=!0}}if(this.d==2&&this.jE){var Z=new hD(0,0,K.m,K.e),T=K.pH();
if(T!=-1){var v=K.Jm(),P=v[1][this.b7];if(P==-1)P=T;Z=K.B[P].Yv()}var p=K.xS[this.b7],a=p[0],D=(a==0?"X":"Y")+": "+d.Rf.wk(p[1]-(a==0?Z.x:Z.y),K.aE,this.Bk,a==0?Z.m:Z.e,!0);
m.Fh.OH(Math.round(this.mq.x)+10,Math.round(this.mq.y)-10,[D],K);K.px=!0}if(this.d==3&&this.jE){var n=d.M.Yq(this.Xd);
K.N.CQ[this.id]={AE:n};K.px=!0}};m.sq.prototype.aCl=function(K,o){var Y=K.m,c=K.e,z=K.x+Math.floor(Y*.2),f=K.y+Math.floor(c*.2);
o.push(z,K.y,z,K.y+c);o.push(K.x,f,K.x+Y,f)};m.sq.prototype.WJ=function(K,o){var Y={d:w.I.eZ,gg:K},c=new h1(w.E.L,!0);
c.data=Y;o.c(c)};m.sq.prototype.bL=function(K){var o=this.O0.kW()[0];if(o==this.kh.length){var Y=new h1(w.E.L,!0);
Y.data={d:w.I.xW,ks:"psd"};this.qT.c(Y);return}var c=this.xm,z=this.kh[o];this.a3I(c,z)};m.sq.prototype.CA=function(K){var o=JSON.parse(JSON.stringify(this.Bk.EU));
o.hq=this.Bl.kW()[0];var Y=new h1(w.E.L,!0);Y.data={d:w.I.Ak,VS:bB.gE,Wx:o};this.qT.c(Y)};m.sq.prototype.aj=function(K,o,Y,c,z){if(this.jE)this.pt(K,o,Y,c,z);
this.xm=K;this.Bk=Y;this.qT=o;var f=K.Q.oh(z.x,z.y),$;if(m.sq.Gr(Y,z,K.Q)){$=this.Bl}else{if(this.O0)this.O0.removeEventListener("select",this.bL);
var E=[];K.root.R9(f,E);if(E.length==0)return;var b=[];this.kh=E;for(var y=0;y<E.length;y++)b.push({name:K.B[E[y]].getName(),M_:y==E.length-1});
b.push({name:[1,18],j_:!0});$=this.O0=new gq(b);$.k("select",this.bL,this)}$.parent=o;$.t();$.update(K,Y);
var q=new h1(w.E.L,!0);q.data={d:w.I.FY,A_:$,x:z.w$+2,y:z.dn+1};o.c(q)};m.sq.prototype.aaE=function(K,o,Y,c,z){var f=m.sq.jj(K,z);
return f!=-1||m.sq.Gr(Y,z,K.Q)};m.sq.jj=function(K,o){if(K==null||K.add.artd==null)return-1;var Y=K.Q.oh(o.x,o.y),c=12*m.GR()/K.Q.O;
for(var y=0;y<K.B.length;y++){var z=K.B[y];if(!z.KL()||z.add.artb==null)continue;var f=z.Yv(),$=new hD(f.x,f.y-1.7*c,c*z.getName().length*.5,c);
if($.Tz(Y))return y}return-1};m.sq.prototype.tx=function(K,o,Y,c,z){var f=m.sq.jj(K,z),$=m.sq.aA1(K,K.Q.oh(z.x,z.y));
if(f!=-1){K.Y=[f];if(Y.i5==m.Wh){var E=new h1(w.E.L);E.data={d:w.I.NR,f:m.qd};o.c(E)}return}if($!=-1){K.Q.ay=$;
K.Pb=!0;var E=new h1(w.E.L,!0);E.data={d:w.I.Ba,XQ:fW.CL.atA};o.c(E);return}this.mq=z;this.yg.Ex(z.x,z.y);
this.l2=K.Q.oh(z.x,z.y);this.Tt=new b1(this.l2);this.yS(K,o,c,Y,!0)};m.sq.Gr=function(K,o,Y,c){var z=d.Rf.c7,f=Y.k6.e;
return K.Pk&&(0<o.x&&o.x<z||0<o.y&&o.y<z||c&&0<o.x&&o.x<4*z&&f-z<o.y&&o.y<f)};m.sq.prototype.yS=function(K,o,Y,c,z,f){var $,E=this.l2,b=!1;
if(z){var q=c.uj&&c.EU.xS;if(m.sq.Gr(c,this.yg,K.Q)){$=K.Jm();var O=K.Jm(),j=null;if(this.yg.x<d.Rf.c7){j=[0,E.x]}if(this.yg.y<d.Rf.c7){j=[1,E.y]}O[0].push(j);
O[1].push(K.pH(!0));K.tg(O);if(!q){var A=new h1(w.E.L);if(!c.EU.xS){A.data={d:w.I.Ak,VS:bB.dD};o.c(A)}if(!c.uj){A.data={d:w.I.Ak,VS:bB.PA};
o.c(A)}q=!0}}var R=this.a4u(K,E);if(q&&R!=null&&!K.zT){this.d=2;this.CG=$?$:K.Jm();this.b7=R;this.jE=!0;
this.R7=m.OB._U(K);return}if(K.Md.length!=0){this.d=4;this.R7=K.Kl[K.Md[0]].rect.clone();this.jE=!0;
return}if(this.z4&&this.z4.xC(E,K.Q.O,!0,this.mq)!=null){var A=new h1(w.E.L);A.data={d:w.I.NR,f:m._6,aaF:!0};
o.c(A);return}if(K.r&&K.r.rect.Tz(E)){var g=Math.round(E.x),H=Math.round(E.y),i=K.r.rect;b=K.r.channel[(H-i.y)*i.m+g-i.x]>128}if(!b&&(!this.DE&&this.Bp.Bq||this.DE&&this.Bp.Bq&&(Y.S(a1.jR)||K.Y.length<2))){var h=this.aj2(K,E,Y);
if(!h){K.Y=[];K.d5=null;K.jS=K.Ro=!0;this.d=3;this.Xd=new hD;this.jE=!0;return}}if(Y.S(a1.cV)&&!b){var x=new h1(w.E.U);
x.f=m._V;x.data={d:S.Rz,an7:!0};o.c(x)}}if(K.Md.length!=0){this.d=4;this.R7=K.Kl[K.Md[0]].rect.clone();
this.jE=!0;return}this.b7=K.FK(f==null,f,null,!0);for(var y=0;y<this.b7.length;y++){var F=this.b7[y],X=K.B[F];
if(X.dq(2)||X.dq(31)||K.Yd(F)){alert(ca.get([6,57,0]));return}}if(K.add.artd&&z){var V=this.b7,U=!1;
for(var y=0;y<V.length;y++)if(K.B[V[y]].add.artb)U=!0;if(!U){this.So=[K,K.B.slice(0),K.Y.slice(0),-1];
this.b7.sort(function(n,N){return n-N})}}this.EA=m.sq.a6z(K,this.b7);this.d=0;if(K.r&&(!z||b)&&K.Y.length==1&&K.WM(!1)){if(!K.ame()){this.jE=!1;
return}var Z=K.B[K.Y[0]],T=Y.S(a1.cV);this.d=1;var v=K.history[K.Eu];if(v.f==this&&v.data.d==1&&v.data.a==K.Y[0]&&Z.xO==Z.VY.xO&&!T){this.eF=v}else{var P=Z.VY,p=!1,a;
if(!Z.wN(K,K.r)||T){p=!0;Z.kX(K,K.r,T)}if(Z.VY.xO<=0){a=d.R(Z.VY.Hm.length>>2);d.JI(Z.VY.Hm,a,3)}else a=K.r.channel.slice(0);
var D={rect:Z.VY.dU.clone(),channel:a};this.eF=new dE(T?[12,53]:[12,54],this);this.eF.data={d:1,a:K.Y[0],VY:Z.VY,Ff:P,Ld:p,WB:K.r,HR:D,gG:new jc(0,0)};
K.iy(this.eF);K.r=D;K._t=!0}}this.jE=!0;this.R7=m.OB._U(K)};m.sq.prototype.aj2=function(K,o,Y){var c=K.root.R9(new jc(Math.floor(o.x),Math.floor(o.y)));
if(c){if(c.a.add.vmsk)K.px=!0;var z=K.B.indexOf(c.a);if(this.Bp.av6==0){var f=K.root.w3(z);while(f.parent&&f.parent.depth!=0&&f.parent.a.add.artb==null)f=f.parent;
z=f.index}if(Y.S(a1.jR)){var $=K.Y.indexOf(z);if($==-1)K.Y.push(z);else if(K.Y.length>1)K.Y.splice($,1)}else if(K.Y.indexOf(z)==-1){this.a3I(K,z)}}return c!=null};
m.sq.prototype.a3I=function(K,o){K.B[o].xO=0;K.Y=[o];K.d5=null;K.vw();K.YS=!0;K.jS=!0};m.sq.aA1=function(K,o){var Y=K.add.Anno;
if(Y==null||Y.length==0)return-1;var c=30/K.Q.O;for(var y=0;y<Y.length;y++)if(new hD(Y[y][0],Y[y][1],c,c).Tz(o))return y;
return-1};m.sq.prototype.D3=function(K,o,Y,c,z){this.mq=z;var f=K.Q.oh(z.x,z.y),R,g;if(this.Tt&&this.d<2)f=this.Tt._Y(f,c);
if(!this.jE){if(Y.uj&&Y.EU.xS&&K&&!K.zT){var $=this.a4u(K,f),E="default",b=m.sq.jj(K,z);if($!=null)E=["col-resize","row-resize"][K.xS[$][0]];
else if(this.z4){var q=this.z4.xC(f,K.Q.O,null,z);if(q)E=q}else if(b!=-1||m.sq.aA1(K,f)!=-1){E="pointer"}this.WJ(E,o)}this.os(K,f);
return}var O=this.l2,j=Math.round(f.x-O.x)-this.NO.x,A=Math.round(f.y-O.y)-this.NO.y;if(this.R7){if(this.d==2){var H=[];
if(K.r)H.push(K.r.rect);if(this.R7)H.push(this.R7);if(K.Q.qE)H.push(K.Q.qE);f=m.sq.$n(K,f,Y,[!1,H,!0])}else{g=this.R7.clone();
g.offset(this.NO.x+j,this.NO.y+A);R=m.sq.z$(K,g,Y);var i=this.Tt.aD2(c);if(i==1){R[0]=0;R[2]=1e9}if(i==2){R[1]=0;
R[3]=1e9}j+=Math.round(R[0]);A+=Math.round(R[1])}}this.NO.x+=j;this.NO.y+=A;var h=this.So;if(h&&K==h[0]){K.$p(h[1]);
K.Y=h[2].slice(0);h[3]=-1}this.Gx(K,j,A,f,null,c.S(a1.jR));if(h&&K==h[0]){var x=this.R7.clone();x.offset(this.NO.x,this.NO.y);
var F=f,b=K.pH(),X=-1;for(var y=0;y<K.B.length;y++){var V=K.B[y];if(!V.KL()||V.add.artb==null)continue;
var U=V.Yv();if(U.Tz(F))X=y}if(X!=-1&&X!=b){var Z=m.$m.nD(K,this.b7,X,!0,null,!1);K.$p(Z[0]);K.Y=Z[1];
h[3]=X}}this.os(K,f);if(R)m.sq.H5(K,g,R)};m.sq.prototype.a4u=function(K,o){var Y=m.bE(K,this.mq);o=[o.x,o.y];
var c=K.Jm(),z=K.pH();for(var y=0;y<c[0].length;y++){var f=c[0][y],$=c[1][y];if($!=-1&&$!=z)continue;
if(Math.abs(f[1]-o[f[0]])<Y)return y}return null};m.sq.prototype.Gx=function(K,o,Y,c,z,f){if(this.d==0){if(z)m.sq.IG(K,this.b7,this.EA,z);
else m.sq.xH(K,this.b7,this.EA,o,Y)}else if(this.d==1){var $=this.eF.data;$.gG.offset(o,Y);m.sq.yY(K,$.a,o,Y)}else if(this.d==2){var E=1e-5;
if(f)E=K.Q.O<=1?10:1;else if(K.Q.O<=1)E=1;var b=E*Math.round(c.x/E),q=E*Math.round(c.y/E),O=[b,q],j=K.xS[this.b7];
j[1]=O[j[0]]}else if(this.d==3){var A=this.l2,R=d.M.MN([A.x,A.y,c.x,c.y]);this.Xd=R;var g=[];K.root.a8d(R,g);
if(JSON.stringify(K.Y)!=JSON.stringify(g)){K.Y=g;K.jS=K.Ro=!0}}else if(this.d==4){for(var y=0;y<K.Md.length;
y++)K.Kl[K.Md[y]].rect.offset(o,Y);K.px=!0}};m.sq.yY=function(K,o,Y,c){var z=K.B[o];K.r.rect.offset(Y,c);
z.aT(K,Y,c,K.r);K._t=!0;K.W()};m.sq.prototype.pt=function(K,o,Y,c,z,f){this.cU(K,z,Y);this.os(K);if(Date.now()-this.jh<300&&!f){var $=m.Na.TX(K,K.Q.oh(z.x,z.y));
if(m.sq.Gr(Y,z,K.Q,!0)){var E=new h1(w.E.L);if(z.y>K.Q.k6.e-20){E.data={d:w.I.Gg,XQ:"doczoom",UZ:K.Q.O*100,Wy:{K:w.E.U,f:m.bx,C:{d:"pzoom"}}}}else{E.data={d:w.I.Gg,XQ:"preferences"}}o.c(E)}else if($>=0){var b=new h1(w.E.U,!0);
b.f=m.oB;b.data={d:"editCurr",JZ:$};o.c(b)}}this.jh=Date.now();m.XX.xQ(K)};m.sq.prototype.cU=function(K,o,Y,c,z){if(!this.jE)return;
this.jE=!1;if(this.d==0){if(c){this.ay5(K,null,c,z)}else{if(this.NO.x==0&&this.NO.y==0)return;this.ay5(K,this.NO.clone())}K.Pb=!0}else if(this.d==2){var f=0;
o=[o.x,o.y];var $=this.b7,E=K.xS[$],ht=this.CG[0].length,b=K.xS.length;if(Y.Pk&&o[E[0]]<d.Rf.c7){var q=K.Jm();
q[0].splice($,1);q[1].splice($,1);K.tg(q);f=1;if(ht==b-1)return}if(ht<b)f=2;var O=new dE([[23,2],[23,3],[23,4]][f],this);
O.data={d:2,CG:this.CG,_s:K.Jm()};K.iy(O)}else if(this.d==4){var O=new dE([12,54],this);O.data={d:4,Y:K.Md.slice(0),w:this.NO.clone()};
K.iy(O)}this.NO.Ex(0,0)};m.sq.prototype.Ed=function(K,o,Y,c){var z=c.iV(K?K.Q.Rs:0);if(K!=null&&(z.x!=0||z.y!=0)){if(c.S(a1.cV)&&K.r==null){var f=new h1(w.E.U);
f.f=m._V;f.data={d:S.Rz,an7:!0};o.c(f)}this.NO.Ex(z.x,z.y);this.yS(K,o,c,Y,!1);if(!this.jE)return;this.Gx(K,z.x,z.y);
this.cU(K,null,Y);this.os(K)}var $=c.S(a1.rK);if(!this.DE&&this.ahD!=$){if($){this.afZ=this.Bp.Bq;this.Bp.Bq=!0}else{this.Bp.Bq=this.afZ}this.ahD=$;
var E=new h1(w.E.L,!0);E.data={d:w.I.DA,f:this.id,kM:this.Bp};o.c(E)}};m.sq.prototype.mt=function(K,o){if(K.d==0){var Y=K.sW;
if(Y){o.$p(Y.BI);o.Y=Y.ea.slice(0);o.W();o.jS=!0}m.sq.IG(o,K.Y,K.Jz,K.VR,!0);m.XX.xQ(o)}else if(K.d=="fcmy"||K.d=="fvec"){if(K.UZ==0)delete o.add[K.d];
else o.add[K.d]=K.UZ;o.px=!0}else if(K.d=="pview"){o.Lt=!o.Lt;o.W()}else if(K.d==2){o.tg(K.CG);o.px=!0}else if(K.d==4){for(var y=0;
y<K.Y.length;y++)o.Kl[K.Y[y]].rect.offset(-K.w.x,-K.w.y);o.px=!0}else{var c=o.B[K.a];if(K.Ld){c.dX(o,K.Ff);
o.r=K.WB;o._t=!0;o.W();c.W()}else{m.sq.yY(o,K.a,-K.gG.x,-K.gG.y)}}};m.sq.prototype.PZ=function(K,o){if(K.d==0){m.sq.IG(o,K.Y,K.Jz,K.VR);
var Y=K.sW;if(Y){o.$p(Y.HH);o.Y=Y.Ye.slice(0);o.W();o.jS=!0}m.XX.xQ(o)}else if(K.d=="fcmy"||K.d=="fvec"){if(K.Wx==0)delete o.add[K.d];
else o.add[K.d]=K.Wx;o.px=!0}else if(K.d=="pview"){o.Lt=!o.Lt;o.W()}else if(K.d==2){o.tg(K._s);o.px=!0}else if(K.d==4){for(var y=0;
y<K.Y.length;y++)o.Kl[K.Y[y]].rect.offset(K.w.x,K.w.y);o.px=!0}else{var c=o.B[K.a];if(K.Ld){c.VY=K.VY;
o.r=K.HR;m.sq.yY(o,K.a,0,0);c.W()}else{m.sq.yY(o,K.a,K.gG.x,K.gG.y)}}};m.sq.prototype.ay5=function(K,o,Y,c){if(Y){var z=!0;
for(var y=0;y<Y.length;y++)if(Y[y]!=0)z=!1;if(z)return}var f=K.history[K.Eu],$=this.So,E=$!=null&&$[3]!=-1&&$[0]==K;
if(!E&&Y==null&&f.data&&f.f==this&&f.data.d==0&&JSON.stringify(f.data.Y)==JSON.stringify(this.b7)&&JSON.stringify(f.data.Jz)==JSON.stringify(this.EA)){var b=f.data.VR,q=f.data.aeQ.jU.T.v;
q.Hrzn.v.val+=o.x;q.Vrtc.v.val+=o.y;for(var y=0;y<b.length;y+=2){b[y]+=o.x;b[y+1]+=o.y}}else{if(o==null)o=new jc(Y[0],Y[1]);
var O={Rk:"move",jU:{classID:"null",null:b0.x2("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:o.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:o.y}}}}}},j=null;
if(E)j={BI:$[1],ea:$[2],HH:K.B.slice(0),Ye:K.Y.slice(0)};this.So=null;var A=new dE(c?c:[12,54],this);
if(Y)A.data={d:0,Y:this.b7,Jz:this.EA,sW:j,VR:Y};else A.data={d:0,Y:this.b7,Jz:this.EA,sW:j,VR:m.sq.alF(this.b7,o.x,o.y)};
A.data.aeQ=O;K.iy(A);this.track(O)}};m.sq.alF=function(K,o,Y){var c=[];for(var y=0;y<K.length;y++)c.push(o,Y);
return c};m.sq.xH=function(K,o,Y,c,z){m.sq.IG(K,o,Y,m.sq.alF(o,c,z))};m.sq.IG=function(K,o,Y,c,z){if(o.length==0)return;
if(Y==null){Y=[];for(var y=0;y<o.length;y++){Y.push(K.B[o[y]].m4(K,!0))}}var f=new hD,$=new hD(0,0,K.m,K.e);
for(var y=0;y<o.length;y++){var E=c[2*y],b=c[2*y+1];if(z){E=-E;b=-b}var q=K.B[o[y]],O=Y[y];if(q.add.fxrp&&(O.indexOf(0)!=-1||q.sB()))q.add.fxrp.offset(E,b);
for(var j=0;j<O.length;j++){var A=O[j];if(A==0){q.rect.offset(E,b);if(q.Mn()&&q.wm(K))q.wm(K).rect.offset(E,b);
if(q.add.artb){var R=q.Yv();R.offset(E,b);q.HL(R);var g=q.add.artb.guideIndeces;g=g?g.v:[];for(var H=0;
H<g.length;H++){var i=K.xS[g[H].v];i[1]+=i[0]==0?E:b}}if(q.add.TySh){q.add.TySh.i.translate(E,b);if(q.add.TySh.add){q.add.TySh.add.vmsk.offset(E,b)}}if(q.add.SoLd){var h=new dF(1,0,0,1,E,b),x=q.add.SoLd,F=m.OB.lA(x.Trnf),X=m.OB.lA(x.nonAffineTransform);
d.M.i(F,h,F);d.M.i(X,h,X);x.Trnf=m.OB.c5(F);x.nonAffineTransform=m.OB.c5(X);m.OB.aq3(x,h)}}if(A==1)q.ue().rect.offset(E,b);
if(A==2){q.add.vmsk.offset(E,b);if(q.add.vogk)d.SU.i(q.add.vogk,[1,0,E,0,1,b,0,0],[]);if(q.DM.$h){var V=q.DM.$h.CV.z;
d.M.i(V,new dF(1,0,0,1,E,b),V)}}if(A==3){q.wm(K).F.rect.offset(E,b);if(O.length==1)q.W()}}if(O.length>0){var U=q.add.GdFl;
if(U==null)U=q.add.PtFl;if(q.sB()&&!q.K$()&&q.add.vmsk!=null&&d.j.CD(q.add.vmsk.$)&&q.add.vmsk.SJ==255&&(U==null||U.Algn&&U.Algn.v)){q.rect.offset(E,b)}else q.WG(K);
var Z=K.root.Of(q.GN(K),K,o[y]);if(q.add.artb)Z=Z.Bb(q.Yv());f=f.Bb(Z);Z.offset(-E,-b);f=f.Bb(Z);if(q.L8()&&q.F&&q.F.color==255)f=f.Bb($);
q.a0w()}}K.W(d.M.tS(f))};m.sq.a6z=function(K,o){var Y=[];for(var y=0;y<o.length;y++){var c=K.B[o[y]];
Y.push(c.m4(K))}return Y};m.sq.H5=function(K,o,Y){var c={z:[],G:[]},z=o.x+Y[0],f=o.y+Y[1];if(Y[2]!=1e9){c.G.push("M","L");
var $=f+o.e;if(Y[4])c.z.push(Y[2],Math.min(f,$,Y[4][1]),Y[2],Math.max(f,$,Y[4][1]));else c.z.push(Y[2],f,Y[2],f+o.e)}if(Y[3]!=1e9){c.G.push("M","L");
var E=z+o.m;if(Y[5])c.z.push(Math.min(z,E,Y[5][0]),Y[3],Math.max(z,E,Y[5][0]),Y[3]);else c.z.push(z,Y[3],E,Y[3])}if(c.z.length!=0){K.N.Qm=c;
K.px=!0}};m.sq.$n=function(K,o,Y,c){var z=m.sq.ac_(K,[[o.x],[o.y]],Y,c);return new jc(o.x+z[0],o.y+z[1])};
m.sq.z$=function(K,o,Y,c,z){var f=z==!0?1:.5,$=m.sq.ac_(K,[[o.x,o.x+Math.round(o.m*f),o.x+o.m],[o.y,o.y+Math.round(o.e*f),o.y+o.e]],Y,c);
return $};m.sq.ac_=function(K,o,Y,c){if(c==null)c=[!0,null,!0];var z=[0,0,1e9,1e9,null,null];if(!Y.dM)return z;
var f=JSON.parse(JSON.stringify(o));for(var $=0;$<2;$++){var E=1e9,b=o[$],q=0,O=null;for(var j=0;j<b.length;
j++){var A=m.sq.aD9(K,b[j],f[1-$][j],$,Y,c),R=A[0];if(R!=1e9)f[$][j]=R;if(R!=1e9&&Math.abs(R-b[j])<Math.abs(E)){E=R-b[j];
q=R;O=A[1]}}if(E!=1e9){z[$]=E;z[$+2]=q;z[$+4]=O}}return z};m.sq.aD9=function(K,o,Y,c,z,f){var $=1e9,E=null,b=z.Zt,q=z.EU,O=[K.root];
while(O.length!=0&&b[2]){var j=O.pop(),A=j.a,R=A.rect;if(!A.KL())continue;if(j.children)for(var y=0;
y<j.children.length;y++)O.push(j.children[y]);if(K.Y.indexOf(j.index)!=-1||R.xf())continue;var g=R.m,H=g>>>1,i=R.e,h=i>>>1,x=$;
if(c==0){if(Math.abs(R.x-o)<Math.abs($-o))$=R.x;if(Math.abs(R.x+H-o)<Math.abs($-o))$=R.x+H;if(Math.abs(R.x+g-o)<Math.abs($-o))$=R.x+g}else{if(Math.abs(R.y-o)<Math.abs($-o))$=R.y;
if(Math.abs(R.y+h-o)<Math.abs($-o))$=R.y+h;if(Math.abs(R.y+i-o)<Math.abs($-o))$=R.y+i}if(x!=$){E=[R.x+H,R.y+h]}}var F=$;
$=1e9;if(f[0]&&b[0]&&q.xS&&z.uj){var X=K.Jm(),V=X[0],U=X[1],Z=K.pH();for(var y=0;y<V.length;y++)if((U[y]==-1||U[y]==Z)&&V[y][0]==c&&Math.abs(V[y][1]-o)<Math.abs($-o))$=V[y][1]}if(b[1]&&q.WV&&z.uj){var T=Math.round(d.Rf.iI(q.jk,K.aE,K.m,q.MU));
if(c==1&&q.uF==1){var v=Y*.5*Math.sqrt(4/3),P;T*=Math.sqrt(4/3);P=Math.round((o-v)/T)*T+v;if(Math.abs(P-o)<Math.abs($-o))$=P;
P=Math.round((o+v)/T)*T-v;if(Math.abs(P-o)<Math.abs($-o))$=P}else{var P=Math.round(o/T)*T;if(Math.abs(P-o)<Math.abs($-o))$=P}}var p=K.FT;
if(b[3]&&q.FT&&z.uj&&p.length!=0){for(var y=0;y<p.length;y++){if(!f[2]&&K.V4.indexOf(y)!=-1)continue;
var a=m.F$.nL(p,y);for(var D=0;D<3;D+=2)if(a[D+c]!=o&&Math.abs(a[D+c]-o)<Math.abs($-o))$=a[D+c]}}if(f[1])for(var n=0;
n<f[1].length;n++){var R=f[1][n],g=R.m,i=R.e,N=[R.x,R.y,R.x+(g>>>1),R.y+(i>>>1),R.x+g,R.y+i];for(var y=0;
y<6;y+=2)if(Math.abs(N[y+c]-o)<Math.abs($-o))$=N[y+c]}if(b[4]){var R=new hD(0,0,K.m,K.e),Z=K.pH();if(Z!=-1)R=K.B[Z].Yv();
var g=R.m,i=R.e,N=[R.x,R.y,R.x+(g>>>1),R.y+(i>>>1),R.x+g,R.y+i];for(var y=0;y<6;y+=2)if(Math.abs(N[y+c]-o)<Math.abs($-o))$=N[y+c]}if(Math.abs($-o)<=Math.abs(F-o))E=null;
else $=F;var W=Math.abs($-o)<=4*m.GR()/K.Q.O?$:1e9;return[W,E]};m.Ih=function(){m.PP.call(this,[10,12],m.qR,"tools/mwand");
this.cz=null};m.Ih.prototype=new m.PP;m.Ih.prototype.Hn=m.PP.prototype.acL;m.Ih.prototype.jH=m.PP.prototype.adP;
m.Ih.prototype.dl=function(K,o,Y,c){this.cz=c;this.ajH=this.Bp.wconf[0];this.finish(K,o,Y,c)};m.Ih.prototype.iM=function(K,o,Y,c,z){if(!c.WR)return;
var f=new h1(w.E.U);f.f=m.s5;f.data={d:"h_stepbck"};z.c(f);var $=c.x-this.cz.x,E=Math.max(0,Math.min(255,Math.round(this.ajH+$/4)));
this.Bp.wconf[0]=E;this.h2(z);this.finish(K,o,Y,this.cz)};m.Ih.prototype.hz=function(K,o,Y,c,z){this.Bp.wconf[0]=this.ajH;
this.h2(z)};m.Ih.prototype.getSelection=function(K,o,Y,c){var z=this.Xx;z=K.Q.oh(c.x,c.y);var f=m.PP.a58(new jc(Math.floor(z.x),Math.floor(z.y)),this.Bp.wconf,this.Bp.sall);
return f};m.Ih.aj0=function(K,o,Y,c,z){if(o.x<0||o.x>K.m||o.y<0||o.y>K.e)return null;var f,$=new hD(0,0,K.m,K.e);
if(c)f=K.Gl();else{var E=K.Y.length,q=null;if(E!=1){alert(E==0?"No layer selected.":"More than one layer selected.");
return null}var b=K.B[K.Y[0]];if(z)q=b.xO<=0?null:b.xO==1?b.ue():b.wm(K).F;if(q==null&&b.add.lsct!=null&&b.add.lsct!=eo.vY){alert("No layer selected.");
return null}if(q==null&&$.BV(b.rect))f=b.buffer;else{f=d.R($.Z()*4);if(q==null)d.iF(b.buffer,b.rect,f,$);
else m.oC.tI(q.channel,q.rect,q.color,f,$)}}var O=m.Ih.qI(f,$,o,null,Y),j=d.sd(O,$),A=d.R(j.Z());d.u_(O,$,A,j);
return{rect:j,channel:A}};m.Ih.Dk=function(K,o,Y){var c=o.m,z=o.e,$=0,E=0,b=0,q=0;K=new Uint32Array(K.buffer);
var f=[],O=Y.length;for(var y=0;y<O;y++){var j=Y[y],A=Math.round(j.x-.5-o.x),R=Math.round(j.y-.5-o.y);
A=Math.max(0,Math.min(c-1,A));R=Math.max(0,Math.min(z-1,R));var g=R*c+A,H=K[g];f.push([H&255,H>>8&255,H>>16&255,H>>>24])}return f};
m.Ih.qI=function(K,o,Y,c,z){K=new Uint32Array(K.buffer);var f=o.m,$=o.e,E=f*$;if(c==null)c=m.Ih.Dk(K,o,[Y]);
var b=Math.round(Y.x-.5-o.x),q=Math.round(Y.y-.5-o.y),O=q*f+b,j=Date.now(),A=d.R(f*$),R=z[0],g=1/R,H=z[1]&&R>0?255:0;
if(z[2]){var i=d.R(A.length),h=new Uint32Array(E),x=1;h[0]=b<<16|q;i[O]=1;while(x>0){var F=h[x-1];x--;
var X=F>>>16,V=F&65535,y=V*f+X,U=m.Ih.JS(K[y],c);if(U>R){var Z=H*(1-Math.max(0,Math.min(1,(U-R)*g)));
A[y]=~~Z}else{A[y]=255;if(V!=$-1&&i[y+f]==0){h[x++]=X<<16|V+1;i[y+f]=1}if(V!=0&&i[y-f]==0){h[x++]=X<<16|V-1;
i[y-f]=1}if(X!=f-1&&i[y+1]==0){h[x++]=X+1<<16|V;i[y+1]=1}if(X!=0&&i[y-1]==0){h[x++]=X-1<<16|V;i[y-1]=1}}}}else{for(var y=0;
y<E;y++){var U=m.Ih.JS(K[y],c);if(U<=R)A[y]=255}for(var V=0;V<$;V++)for(var X=0;X<f;X++){var y=V*f+X;
if(A[y]==0&&(X>0&&(A[y-1]==255||V>0&&A[y-f-1]==255||V<$-1&&A[y+f-1]==255)||X<f-1&&(A[y+1]==255||V>0&&A[y-f+1]==255||V<$-1&&A[y+f+1]==255)||V>0&&A[y-f]==255||V<$-1&&A[y+f]==255)){var U=m.Ih.JS(K[y],c),Z=H*(1-Math.max(0,Math.min(1,(U-R)*g)));
A[y]=~~Z}}}return A};m.Ih.JS=function(K,o){var Y=o.length,c=m.Ih.alx(K,o[0]),y=1;while(y!=Y){c=Math.min(c,m.Ih.alx(K,o[y]));
y++}return c};m.Ih.alx=function(K,o){var Y=K&255,c=K>>>8&255,z=K>>>16&255,f=K>>>24&255;if(o[3]==0)return f<5?0:255;
var $=Math.max(Math.abs(Y-o[0]),Math.max(Math.abs(c-o[1]),Math.abs(z-o[2])));return f==0?255:$};m.jy=function(K,o){if(o)m.oC.call(this);
else if(K)m.oC.call(this,[10,49],m.Dn,"tools/camove");else m.oC.call(this,[10,26],m.jZ,"tools/patch");
this.uv=null;this.$h=null;this.w=null;this.Ja=null;this.rz=new jc;this.fu=null;this.R3=null};m.jy.prototype=new m.oC;
m.jy.prototype.tx=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y);if(K.r&&d.R9(f,K.r.channel,K.r.rect)){var $=new hD(0,0,K.m,K.e),E=$.wu(K.r.rect);
if(!K.WM()||E.xf())return;if(!0){var b=d.R(E.Z());d.u_(K.r.channel,K.r.rect,b,E);K.r={channel:b,rect:E}}this.KC(K);
this.nt(K);this.Ja=f;this.rz=new jc(f.x-K.r.rect.x,f.y-K.r.rect.y);this.R3=d.R(K.r.rect.Z()*4);this.R3.fill(255);
if(this.Bp.patch==1){var q=K.B[K.Y[0]];q.kX(K,K.r,!0);if(q.VY==null)this.Ja=null}this.fu=K.r.rect.clone()}else{this.$h={z:[f.x,f.y],G:["M"]};
this.uv=f}};m.jy.prototype.D3=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y);if(this.Ja){if(this.Bp.patch==1){if(K.Md.length==0){var $=K.B[K.Y[0]].VY,E=f.x-this.rz.x,b=f.y-this.rz.y;
m.sq.yY(K,K.Y[0],Math.round(E-$.dU.x),Math.round(b-$.dU.y))}}else this.aqz(K,f,"clone")}if(this.uv){this.$h.G.push("L");
this.$h.z.push(f.x,f.y);this.uv=f;K.N.AE=this.$h;K.px=!0}};m.jy.prototype.pt=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y);
if(this.Ja){var $=K.r.rect.clone();if(this.id==m.Dn){var E=K.B[K.Y[0]];E.dX(K,E.VY);K.r.rect=this.fu.clone();
var b=d.R(K.r.rect.Z()*4);d.cb(K.r.channel,b,3);this.Jk(K,"sheal",b,K.r.rect,K.r.rect);K.r.rect=$;$=$.Bb(this.fu)}this.aqz(K,f,"heal");
this.finish(K,$,null,null,!0);K.W($);this.Ja=null}if(this.uv){var q=m.PP.rH(this.Bp.setop,c.S(a1.jR),c.S(a1.cV)),O=new h1(w.E.hP,!0);
if(this.$h.z.length<=4)O.data=m.PP.hE();else O.data=m.PP.RT(this.$h.z,q);o.c(O);this.uv=null;K.N.AE=null;
K.px=!0}};m.jy.prototype.Kt=function(){return this.w};m.jy.prototype.SX=function(K,o,Y,c,z){m.oC.prototype.SX.call(this,K,o,Y,c,z);
this.WJ(z,c)};m.jy.prototype.WJ=function(K,o){var Y="auto;";if(o!=null&&o.S(a1.jR)&&!o.S(a1.cV)||this.Bp.setop=="union")Y="copy";
var c=new h1(w.E.L,!0);c.data={d:w.I.eZ,gg:Y};if(this.caller)this.caller.c(c)};m.jy.prototype.aqz=function(K,o,Y){var c=new jc(Math.round(this.Ja.x-o.x),Math.round(this.Ja.y-o.y));
if(this.Bp.patch==1)c.Ex(-c.x,-c.y);this.w=c;this.Jk(K,Y,this.R3,K.r.rect,K.r.rect);this.W(K,K.r.rect)};
m.aqK=function(){m.jy.call(this,!0);this.Bp.patch=1};m.aqK.prototype=new m.jy(!0,!0);m.p7=function(K){if(K)m.oC.call(this,[10,52],m.a7R,"tools/meraser");
else m.oC.call(this,[10,13],m.ar9,"tools/pbucket");this.LB=!1;this.a8P=K};m.p7.prototype=new m.oC;m.p7.prototype.enable=function(K,o,Y,c){var z=new h1(w.E.L,!0);
z.data={d:w.I.eZ,gg:"default"};o.c(z)};m.p7.prototype.fL=function(K,o){};m.p7.prototype.tx=function(K,o,Y,c,z){this.LB=!0};
m.p7.prototype.pt=function(K,o,Y,c,z,f){var $=this.LB;this.LB=!1;if(!$||f)return;if(this.ZP(c,o,z))return;
if(!K.WM())return;var E=K.Q.oh(z.x,z.y),b=m.Ih.aj0(K,E,this.Bp.wconf,this.Bp.sall,!0);if(b==null)return;
var q=d.R(b.rect.Z()*4);d.nz(q,(Y.qm&255)<<16|(Y.qm>>8&255)<<8|(Y.qm>>16&255)<<0);d.cb(b.channel,q,3);
this.KC(K);this.Jk(K,this.a8P?"erase":"draw",q,b.rect,b.rect);this.W(K,b.rect);this.finish(K,b.rect)};
m.CY=function(){m.PP.call(this,[10,14],m.aoT,"tools/plasso");this.yR="crosshair";this.lk=[];this.$j=null;
this.$h=null;this.aj4=0};m.CY.prototype=new m.PP;m.CY.prototype.disable=function(K,o,Y,c){this.rX(K)};
m.CY.prototype.dl=function(K,o,Y,c){this.lk=[a1.v1,a1.QC]};m.CY.prototype.rC=function(K){return this.lk.indexOf(K)!=-1};
m.CY.prototype.bZ=function(K){return this.$h!=null};m.CY.prototype.Q$=function(){return this.$h!=null};
m.CY.prototype.$l=function(){return this.$h!=null};m.CY.prototype.iM=function(K,o,Y,c){if(this.$h==null)return;
var z=this.$h,f=z.z,$=f.length-2,E=this.Xx;if(this.YU.bC(1)&&Y.S(a1.cV)&&c.WR){f.push(0,0);z.G.push("L");
$+=2}else if(Y.S(a1.jR))E=m.A7.cL(new jc(f[$-2],f[$-1]),E);f[$]=E.x;f[$+1]=E.y;K.N.AE=z;K.px=!0};m.CY.prototype.hz=function(K,o,Y,c){var z=Date.now();
if(this.$h==null)this.$h={z:[this.Xx.x,this.Xx.y,this.Xx.x,this.Xx.y],G:["M","L"]};else{this.iM(K,o,Y,c);
if(z-this.aj4<250||jc.si(this.Xx,new jc(this.$h.z[0],this.$h.z[1]))<m.bE(K,c)){this.$j=this.$h;this.finish(K,o,Y,c);
this.rX(K);return}this.$h.G.push("L");this.$h.z.push(this.Xx.x,this.Xx.y)}this.aj4=z;K.N.AE=this.$h};
m.CY.prototype.rX=function(K){this.$h=null;this.lk=[];if(K!=null){K.N.AE=null;K.px=!0}};m.CY.prototype.Ed=function(K,o,Y,c){m.PP.prototype.Ed.call(this,K,o,Y,c);
if(c.S(a1.Xg)&&this.$h==null&&this.$j&&K.r!=null){var z=new h1(w.E.U);z.f=m.s5;z.data={d:"h_stepbck"};
o.c(z);this.dl(K,Y,c,null);this.$h=this.$j;return}if(this.$h==null)return;if(c.S(a1.v1)||c.S(a1.QC)){this.$h.z.pop();
this.$h.z.pop();this.$h.G.pop();this.iM(K,Y,c)}if(c.S(a1.C4)){if(this.$h.z.length>4){this.$j=this.$h;
this.finish(K,Y,c)}this.$h=null}if(c.S(a1.Xg)){this.$h=null}K.N.AE=this.$h;K.px=!0};m.CY.prototype.getSelection=function(K,o,Y,c){return m.PP.RT(this.$h.z,null,this.Bp.anta)};
m.pV=function(){m.PP.call(this,[10,10],m.alL,"tools/mlasso");this.yR="crosshair";this.lk=[];this.$=[];
this.aR=[];this.h4=[];this.aH=null;this.WT=null;this.gY=null;this.jh=0;this.ji=0};m.pV.prototype=new m.PP;
m.pV.prototype.disable=function(K,o,Y,c){this.clear(K)};m.pV.prototype.bZ=function(K){return this.$.length!=0};
m.pV.prototype.$l=function(){return this.$.length!=0};m.pV.prototype.rC=function(K){return this.lk.indexOf(K)!=-1};
m.pV.prototype.dl=function(K,o,Y,c){this.lk=[a1.v1,a1.QC];var z=this.DS(this.e8,K);if(this.$.length!=0&&(jc.si(z,this.$[0])<m.bE(K,c)||Date.now()-this.jh<300)){this.E_(K,this.$[0]);
this.finish(K,o,Y);this.clear(K);return}this.jh=Date.now();if(this.$.length!=0)z=this.Cv(z,K);else{var f=K.m,$=K.e,E=d.R(f*$),b=K.Gl(),q=f*$*4;
for(var y=0;y<q;y+=4)E[y>>>2]=~~(.5+d.ld(b[y],b[y+1],b[y+2])*(b[y+3]*(1/255)));this.aH=d.j8.a2b(E,f,$);
this.gY=new Uint16Array(E.length)}this.E_(K,z);this.ji=Y.S(a1.cV)?1:0;this.Bf(K)};m.pV.prototype.E_=function(K,o){var Y=this.$;
this.aR[Y.length]=this.h4.length;if(Y.length!=0){d.j8.Lh(this.WT,o.y*K.m+o.x);var c=this.SZ(K,o);c.reverse();
var z=m.pV.ahO(K,c);this.h4=this.h4.concat(z)}Y.push(o);this.acv(K)};m.pV.prototype.acv=function(K){var o=this.$[this.$.length-1],Y=o.y*K.m+o.x;
this.WT=d.j8.aok(this.aH.f8,this.aH.HY,Y);this.gY.fill(0)};m.pV.prototype.DS=function(K,o){return new jc(Math.floor(Math.max(0,Math.min(o.m-1,K.x))),Math.floor(Math.max(0,Math.min(o.e-1,K.y))))};
m.pV.prototype.clear=function(K){this.h4=[];this.$=[];this.aR=[];this.aH=null;this.WT=null;this.gY=null;
if(K!=null){K.N.AE=null;K.N.HJ=[];K.px=!0}this.lk=[]};m.pV.prototype.iM=function(K,o,Y,c){var z=this.$,f=z.length;
if(f==0)return;var $=this.Cv(this.DS(this.Xx,K),K),E=this.SZ(K,$);for(var y=0;y<E.length;y++){var b=E[y],q=new jc(b%K.m,Math.floor(b/K.m));
if(this.gY[b]>30&&jc.si(q,z[f-1])>20){this.E_(K,q);return}this.gY[b]++}if(this.ji==1&&c.WR)this.E_(K,$);
this.Bf(K)};m.pV.prototype.Bf=function(K){var o=this.$;if(o.length!=0){var Y=this.Cv(this.DS(this.Xx,K),K),c=this.SZ(K,Y);
c.reverse();var z=m.pV.ahO(K,c),f=this.h4.concat(z),$=K.N.AE={z:f,G:["M"]};for(var y=2;y<f.length;y+=2)$.G.push("L")}K.N.HJ=[];
for(var y=0;y<o.length;y++)K.N.HJ.push(o[y].x+.5,o[y].y+.5);K.px=!0};m.pV.prototype.hz=function(K,o,Y,c){};
m.pV.prototype.Ed=function(K,o,Y,c){if(this.$.length==0)return;if(c.S(a1.v1)||c.S(a1.QC)){this.$.pop();
this.h4=this.h4.slice(0,this.aR[this.$.length]);this.aR.pop();if(this.$.length==0)this.clear(K);else this.acv(K);
this.Bf(K)}if(c.S(a1.C4)){var z=this.DS(this.Xx,K);this.E_(K,z);this.finish(K,Y,c);this.clear(K)}if(c.S(a1.Xg)){this.clear(K)}};
m.pV.prototype.getSelection=function(K,o,Y,c){return m.PP.RT(this.h4,null,this.Bp.anta)};m.pV.prototype.SZ=function(K,o){var Y=this.$[this.$.length-1],c=Y.y*K.m+Y.x,z=o.y*K.m+o.x;
if(this.ji==1)return[z,c];var f=[z];while(z!=c){z=this.WT.ms[z];f.push(z);if(f.length>5e3){console.log(f);
throw"e"}}return f};m.pV.ahO=function(K,o){var Y=[],c=K.m;for(var y=0;y<o.length;y++){var z=o[y];Y.push(z%c+.5,Math.floor(z/c)+.5)}return Y};
m.pV.prototype.Cv=function(K,o){var Y=o.m,c=o.e,z=K.clone(),$=3;d.j8.Lh(this.WT,K.y*Y+K.x);var f=this.WT.IQ[K.y*Y+K.x];
for(var E=-$+1;E<$;E++)for(var b=-$+1;b<$;b++){var q=K.x+b,O=K.y+E;if(q<0||q>=Y||O<0||O>=c)continue;
d.j8.Lh(this.WT,O*Y+q);if(this.WT.IQ[O*Y+q]<f)z.Ex(q,O)}return z};m.tY=function(){m.Fh.call(this,[10,36],m.Yn,"tools/ruler");
this.vh=null;this.vm=null;this.kN=null;this.QA=null;this.BZ=null};m.tY.prototype=new m.Fh;m.tY.prototype.bZ=function(K){return K.WR};
m.tY.prototype.enable=function(K,o,Y,c){m.Fh.prototype.enable.call(this,K,o,c,Y);if(K)this.os(K)};m.tY.prototype.disable=function(K,o,Y,c){if(K)this.rX(K)};
m.tY.prototype.yx=function(K,o,Y,c,z){this.vh=this.kN=null;this.os(Y)};m.tY.prototype.tx=function(K,o,Y,c,z){var f=m.bE(K,z),$=K.Q.oh(z.x,z.y);
$.x=Math.round($.x);$.y=Math.round($.y);var E=this.vh;this.vm=E?E.slice(0):null;var b=E&&jc.si($,E[0])<f,q=E&&jc.si($,E[1])<f,O=E&&E[2]&&jc.si($,E[2])<f;
if(b||q||O){if(c.S(a1.cV)&&E.length==2){if(q){var j=E[0];E[0]=E[1];E[1]=j}E[2]=E[0].clone();this.kN=[2]}else this.kN=[b?0:q?1:2]}else if(E&&m.tY.aDa(E[0],E[1],$)<f&&Math.min(E[0].x,E[1].x)-5<=$.x&&$.x<=Math.max(E[0].x,E[1].x)+5&&Math.min(E[0].y,E[1].y)-5<=$.y&&$.y<=Math.max(E[0].y,E[1].y)+5){this.kN=[];
this.BZ=[];for(var y=0;y<E.length;y++){this.kN.push(y);this.BZ.push(E[y].clone())}this.QA=$}else{this.vh=[$.clone(),$.clone()];
this.kN=[1]}};m.tY.prototype.D3=function(K,o,Y,c,z){if(this.kN==null)return;var f=this.vh,$=this.kN,E=K.Q.oh(z.x,z.y);
E.x=Math.round(E.x);E.y=Math.round(E.y);if($.length>1){var b=E.x-this.QA.x,q=E.y-this.QA.y;for(var y=0;
y<f.length;y++){f[y]=this.BZ[y].clone();f[y].offset(b,q)}}else{f[$[0]].Ex(E.x,E.y);if(c.S(a1.jR)){f[$[0]]=m.A7.cL(f[1-$[0]],f[$[0]])}}this.os(K);
this.cN(o,w.E.L,{d:w.I.DA,f:this.id,apq:f[0],UY:f[1],GL:f[2],aE:K.aE,amv:K.m});K.Q.qE=d.M.MN([f[0].x,f[0].y,f[1].x,f[1].y]);
console.log(K.Q.qE)};m.tY.prototype.pt=function(K,o,Y,c,z,f){this.kN=null;if(f){this.vh=this.vm.slice(0);
this.os(K)}};m.tY.prototype.cN=function(K,o,Y){var c=new h1(o,!0);c.data=Y;K.c(c)};m.tY.prototype.os=function(K){var o=this.vh;
if(o==null)this.rX(K);else{var Y=[o[1].x,o[1].y,o[0].x,o[0].y],c=["M","L"];if(o.length>2){Y.push(o[2].x,o[2].y);
c.push("L")}K.N.AE={G:c,z:Y};K.N.HJ=Y}K.px=!0};m.tY.prototype.rX=function(K){K.N.AE=null;K.N.HJ=[]};
m.tY.aDa=function(K,o,Y){var c=o.x-K.x,z=o.y-K.y,f=Math.abs(z*Y.x-c*Y.y+o.x*K.y-o.y*K.x),$=Math.sqrt(c*c+z*z);
return $==0?0:f/$};m.Lu=function(){m.oC.call(this,[10,19],m.GH,"tools/sharpen");this.rf="copy"};m.Lu.prototype=new m.oC;
m.Lu.prototype.tx=function(K,o,Y,c,z){var f=this.Bp.pdetail?g3.eJ:g3.GH;if(c.S(a1.cV))f=g3.Qe;this.Lm(K,Y,c,z,this.Bp.strn,f);
if(this.Ty==null)return;this.Rx(K)};m.Lu.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.h3=function(){m.oC.call(this,[10,24],m.em,"tools/shbrush");
this.rf="draw";this.Bp.opacity=.5};m.h3.prototype=new m.oC;m.h3.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,1);
if(this.Ty==null)return;this.nt(K);this.Rx(K)};m.h3.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.h3.prototype.pt=function(K,o,Y,c,z){if(this.Ty==null)return;
this.Jk(K,"sheal",this.Ty.SC(),this.Ty._U(),this.Ty.kg(),null);this.W(K,this.Ty.kg());m.oC.prototype.pt.call(this,K,o,Y,c,z)};
m.KQ=function(){m.oC.call(this,[10,20],m.C0,"tools/smudge");this.rf="copy"};m.KQ.prototype=new m.oC;
m.KQ.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,this.Bp.strn,g3.C0);if(this.Ty==null)return;this.Rx(K)};
m.KQ.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;
if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.CP=function(){m.oC.call(this,[10,23],m.oZ,"tools/sponge");
this.rf="sponge"};m.CP.prototype=new m.oC;m.CP.prototype.tx=function(K,o,Y,c,z){this.Lm(K,Y,c,z,this.Bp.flow);
if(this.Ty==null)return;this.Rx(K)};m.CP.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);if(this.sI)this.$M(K,Y,z);
if(this.Ty==null)return;if(!z.WR)return;this.xa(K,Y,c,z);this.Rx(K)};m.w8=function(){m.Fh.call(this,[10,17],m.bx,"tools/zoom");
this.oD=!1;this.ik=!0;this.bV=!1;this.Hy=0;this.fW=null;this.XL=null;this.QF=0;this.UL=null;this.a79=0;
this.Bl=new gq([{name:[8,0],aL:"Ctrl + +"},{name:[8,1],aL:"Ctrl + -",M_:!0},{name:[20,3],aL:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],aL:"Ctrl + 1"}],[{K:w.E.U,f:m.bx,C:{d:"zoom",ik:!0}},{K:w.E.U,f:m.bx,C:{d:"zoom",ik:!1}},{K:w.E.U,f:m.bx,C:{d:"adapt",b:"fitscr"}},{K:w.E.U,f:m.bx,C:{d:"adapt",b:"pixel"}}])};
m.w8.prototype=new m.Fh;m.w8.prototype.aj=function(K,o,Y,c,z){var f=this.Bl;f.t();f.parent=o;f.update(K,Y);
var $=new h1(w.E.L,!0);$.data={d:w.I.FY,A_:f,x:z.w$+2,y:z.dn+1};o.c($)};m.w8.prototype.enable=function(K,o,Y,c){this.ZS(o,c);
if(K&&Date.now()-this.Hy<300)this.yx({d:"adapt",b:"pixel"},o,K,c,Y);this.Hy=Date.now()};m.w8.prototype.tx=function(K,o,Y,c,z){this.XL=new jc(z.x,z.y);
this.QF=K.Q.O;this.UL=K.Q.w.clone()};m.w8.prototype.D3=function(K,o,Y,c,z){if(this.XL==null)return;var f=Math.exp(Math.log(this.QF)+(z.x-this.XL.x)/64);
f=Math.max(.02,Math.min(m.w8.dm[0],f));K.Q.O=this.QF;K.Q.w=this.UL.clone();this.yx({d:"zoom",O:f,mq:this.XL,bV:this.bV},o,K,c,Y)};
m.w8.prototype.pt=function(K,o,Y,c,z){if(jc.si(this.XL,z)<4){var f=this.any(c);this.yx({d:"zoom",ik:f,mq:z,bV:this.bV},o,K,c,Y)}this.XL=null};
m.w8.dm=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
m.w8.x9=function(K,o,Y,c){var z=1;while(K*z*1/2>Y||o*z*1/2>c)z*=1/2;if(K*z*2/3>Y||o*z*2/3>c)z*=1/2;else if(K*z>Y||o*z>c)z*=2/3;
return z};m.w8.apg=function(K,o){var Y=m.w8.akH(K);if(o&&Y==0)return K;if(!o&&Y==m.w8.dm.length-1)return K;
return m.w8.dm[o?Y-1:Y+1]};m.w8.akH=function(K){var o=0;while(m.w8.dm[o]>K)o++;return o};m.w8.GX=function(K,o,Y,c){var z=K.l_;
if(c==0||c==null){c=m.w8.apg(K.O,Y);if(c==K.O)return}var f=K.oh(o.x,o.y);f.x=Math.max(0,Math.min(z.m,f.x));
f.y=Math.max(0,Math.min(z.e,f.y));if(!1){}else{var $=K.HI(),E=K.O/c;$.translate(-f.x,-f.y);$.scale(E,E);
$.translate(f.x,f.y);K.ayL($)}};m.w8.prototype.yx=function(K,o,Y,c,z){if(K.d=="pzoom"){if(typeof K.b=="string")return;
K={d:"zoom",O:K.b/100}}var f=0,$=!1,E=null;if(K.d=="adapt"){var b=0;if(K.b=="pixel")b=1;if(K.b=="fitscr"){var b=0,q=Y.Q.k6.m,O=Y.Q.k6.e,j=new hD(0,0,Y.m,Y.e),A=d.M.Yq(j).z,R=new dF;
R.rotate(Y.Q.Rs);d.M.i(A,R,A);var g=d.M.OA(A),H=z.Pk?d.Rf.c7+4:8;b=Math.min((q-H*2)/g.m,(O-H*2)/g.e);
Y.Q.w.Ex(0,0)}E=new jc(Math.round(Y.Q.k6.m/2),Math.round(Y.Q.k6.e/2));f=b;m.w8.GX(Y.Q,E,$,f);Y.Pb=!0}if(K.d.startsWith("multi")){function i(P){var N=P[0].x-P[1].x,W=P[0].y-P[1].y;
return Math.sqrt(N*N+W*W)}function h(P){return new jc((P[0].x+P[1].x)/2,(P[0].y+P[1].y)/2)}var x=K.Ie,F=h(x);
if(K.d=="multidown"){this.fW=[x,Y.Q.O,Y.Q.oh(F.x,F.y)]}else{var X=m.w8.dm;f=this.fW[1]*i(x)/i(this.fW[0]);
f=Math.max(X[X.length-1],Math.min(X[0],f));if(f!=Y.Q.O)m.w8.GX(Y.Q,F,$,f);var V=this.fW[2],U=Y.Q.Hc(V.x,V.y),Z=Y.Q.w;
Z.x=Math.round(Z.x+F.x-U.x);Z.y=Math.round(Z.y+F.y-U.y);Y.Pb=!0}}if(K.d=="scroll"){E=K.mq;var X=m.w8.dm,T=K.Q8.y,v=1+Math.abs(T)*8e-4*(K.aot?10:1);
if(T>0)v=1/v;f=Y.Q.O*v;m.w8.GX(Y.Q,E,$,Math.min(X[0],Math.max(X[X.length-1],f)));Y.Pb=!0}if(K.d=="zoom"){var P=K.bV?o.n$:[Y];
for(var y=0;y<P.length;y++){var p=P[y],a=p.Q;E=K.mq?K.mq:new jc(Math.round(a.k6.m/2),Math.round(a.k6.e/2));
if(K.O!=null)f=K.O;else $=K.ik;m.w8.GX(a,E,$,f);p.Pb=!0}}if(K.d=="mskView"){var D=Y.B[Y.Y[0]];if(D.xO<=0){D.xO=1;
Y.jS=!0}var n=D.xO==3?D.wm(Y).F:D.ue();if(K.b==0){Y.Q.v=[1,1,1];n.Gt=!1}if(K.b==1){Y.Q.v=[1,1,1];n.Gt=!0}if(K.b==2){Y.Q.v=[0,0,0];
n.Gt=!0}for(var y=0;y<Y.Kl.length;y++)Y.Kl[y].Gt=!1;Y.Md=[];Y.px=!0}};m.w8.prototype.Ed=function(K,o,Y,c){if(this.oD!=c.S(a1.cV)){this.oD=c.S(a1.cV);
var z={d:w.I.DA,f:this.id,oD:this.oD},f=new h1(w.E.L,!0);f.data=z;o.c(f);this.ZS(o,c)}};m.w8.prototype.ZS=function(K,o){var Y=new h1(w.E.L,!0),c=this.any(o);
Y.data={d:w.I.eZ,gg:c?"zoom-in":"zoom-out"};K.c(Y)};m.w8.prototype.SX=function(K,o,Y,c){this.ik=K.ik;
this.bV=K.bV;this.ZS(o,c)};m.w8.prototype.any=function(K){var o=this.ik;if(K.S(a1._e)&&K.S(a1.rK))o=!0;
if(this.oD)o=!o;return o};m.w8.a0A=function(K,o){if(K.S(a1.U1)||K.S(a1.am0)){o.f=m.bx;o.data={d:"zoom",ik:!0}}if(K.S(a1.VV)){o.f=m.bx;
o.data={d:"zoom",ik:!1}}if(K.S(a1.Xv)){o.f=m.bx;o.data={d:"adapt",b:"fitscr"}}if(K.S(a1.fX)){o.f=m.bx;
o.data={d:"adapt",b:"pixel"}}};m.xY=function(K,o,Y){m.Fh.call(this,K,o,Y);this.L$=null;this.Bk=null;
this.qT=null;this.aAK=0};m.xY.prototype=new m.Fh;m.xY.fB=function(K,o){var Y={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},c=K==null?{classID:"null",null:Y,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:Y,Usng:{t:"type",v:{classID:K}},__name:"Stroke"};
if(o)c.Prs={t:"bool",v:!0};return{Rk:K==null?"fill":"stroke",jU:c}};m.xY.prototype.enable=function(K,o,Y,c,z){this.Bk=Y;
var f=new h1(w.E.L,!0);f.data={d:w.I.eZ,gg:"default"};o.c(f)};m.xY.prototype.aj=function(K,o,Y,c,z){var f=K.dK(),$=f[0],E=f[1];
if(E.length==0)return;var b=$[E[0]],q=b.add.vmsk,O=K.Q.oh(z.x,z.y),j=4*m.GR()/K.Q.O,A=new hD(O.x-j,O.y-j,j*2,j*2),R=d.j.IY(q.$,A)[0];
if(R.length!=0){q.gy=R;K.px=!0}var g=d.j.R9(q.$,O).UQ;if(g!=-1){q.Y=[g];K.px=!0}var H=new h1(w.E.L,!0);
H.data={d:w.I.DA,f:this.id,p4:z,Xe:K,KO:Y};o.c(H)};m.xY.prototype.a4z=function(K,o){var Y=new h1(w.E.L,!0);
Y.data={d:w.I.Ak,VS:bB.PA};if(!o.uj)K.c(Y);Y.data={d:w.I.Ak,VS:bB.Kc};if(!o.EU.V9)K.c(Y)};m.xY.prototype.Ok=function(K,o,Y,c,z){if(Y.i5!=this.id&&z==null)return;
if(K.Y.length==0)return;var f=K.B[K.Y[0]],$=f.add.vmsk,E=f.add.vstk,b=m.xY.AP(K,K.Y[0]);this.L$=K;this.qT=o;
if(f.sB()&&$!=null&&(JSON.stringify(E)!=JSON.stringify(Y.Nk)||JSON.stringify(b)!=JSON.stringify(Y._w))){this.aAK=Date.now();
var q=new h1(w.E.L,!0);q.data={d:w.I.Ak,VS:bB.Vo,b:b};o.c(q);q.data={d:w.I.Ak,VS:bB.Xq,b:E};o.c(q)}};
m.xY.prototype.fL=function(K,o){if(this.L$==null)return;if(o==bB.tk||o==bB.Vo||o==bB.Xq){if(Date.now()-this.aAK<50)return;
var Y=o==bB.Vo,c=this.L$,z=Y?K._w:K.Nk,f=[],$=c.Y;for(var y=0;y<$.length;y++){var E=$[y],b=c.B[E];if(!b.sB()||b.add.vmsk==null)continue;
f.push(E)}var q=new h1(w.E.U,!0);q.f=m._V;q.data={d:S.B$,zI:f,ls:Y,b:z};if(f.length!=0)this.qT.c(q)}};
m.xY.prototype.a4_=function(K){if(typeof K=="number"){var o=new h1(w.E.hP,!0);o.data=m.GU.Sz(0);o.data.jU.Usng.v.Type.v.Clr.v=d.H.eD({o:K>>>16&255,A:K>>>8&255,J:K>>>0&255});
this.qT.c(o)}};m.xY.prototype.yx=function(K,o,Y,c,z){this.qT=o;if(K.d=="newfill"){if(K.tM==0){var f=new h1(w.E.L,!0);
f.data={d:w.I.Gg,XQ:"colorpicker",ws:z.qm,n4:this.a4_.bind(this)};o.c(f)}}else if(K.d=="smplp"){if(Y==null)return;
var $=Y.dK(),E=$[0],b=$[1];if(b.length==0){alert("No paths selected");return}var q=E[b[0]];if(q.add.vmsk.Y.length<=0){alert("No paths selected");
return}if(this.Yg==null){this.Yg=q.add.vmsk.clone();this.hB=JSON.stringify(q.add.vogk);this.$h=q;this.L$=Y}var f=new h1(w.E.L,!0);
f.data={d:w.I.Gg,XQ:"simplifypath",UZ:100,gb:this.agq.bind(this)};o.c(f)}else if(K.d=="pathedit"){var O=K.f4,j="",R=Y.V9.slice(0),g=Y.n7.slice(0),H=Y.V9.slice(0),i=Y.n7.slice(0);
if(O=="rnm"){var h=-1-K.UQ,x=R[h],F=h7.G6(K.name,x.add);if(h!=0)H[h]=F;else{i=[H.length];H.push(F);H[0]=h7.G6("Work Path")}j="Rename"}else if(O=="new"){var F=h7.G6("Path "+R.length);
if(K.a5s){var $=Y.dK(),E=$[0],b=$[1],X=E[b[0]];F.add.vmsk=X.add.vmsk.clone();F.add.vogk=JSON.parse(JSON.stringify(X.add.vogk));
if(X.UQ==-1){var V=H[i[0]]=h7.G6("Path "+R.length);V.name=X.name;V.UQ=X.UQ}}H.push(F);i=[H.length-1];
j="New"}else if(O=="del"){if(i.length==0)return;i.sort(function(n,L){return n-L});if(i[0]==0){H[0]=h7.G6(R[0].name);
i=i.slice(1)}var U=0;while(i.length!=0){H.splice(i[0]-U,1);i=i.slice(1);U++}j="Delete"}else if(O=="fromsel"){var q=H[0]=h7.G6("Work Path");
i=[0];if(Y.r==null)return;var Z=Y.r.channel.slice(0);for(var y=0;y<Z.length;y++)Z[y]=Z[y]>128?2:1;var T=Y.r.rect.clone();
T.VC(1,1);var v=d.R(T.Z());d.u_(Z,Y.r.rect,v,T);var P=c_.Xf(v,T.m,T.e,Math.round(T.Z()*5e-4)),E=c_.dK(P),p=new dF(1,0,0,1,-1+Y.r.rect.x,-1+Y.r.rect.y);
for(var y=0;y<E.length;y++)d.M.i(E[y].path.z,p,E[y].path.z);for(var y=0;y<E.length;y++){var a=E[y];if(a.color==1&&a.parent==-1)continue;
var D=d.M.eX(E[y].path,!1);q.add.vmsk.$=q.add.vmsk.$.concat(D.slice(2))}q.add.vogk=S.D8(q.add.vmsk.$);
j="Selection to"}var n=new dE(j+" Path",this);n.data={vm:R,I6:g,azq:H,Y5:i};if(O=="fromsel"){n.data.WB=Y.r;
n.data.HR=null}Y.iy(n);this.PZ(n.data,Y)}else{var N=K.Mx,$=Y.dK(K.d=="append"||K.d=="fromAction"),E=$[0],b=$[1],q=E[b[0]],W=q.add.vmsk,G=q.add.vogk,l=W.clone(),u=W.clone(),e=JSON.stringify(G);
if(K.d=="fromAction"){var M=K.Sv,B=M.Rk,s=M.jU,t=s.T;if(B=="set"){if(t){G.push(d.SU.Qx(t));u.$.push({type:0,fa:1,length:0});
d.SU.o7(G,u);N=[12,76,0]}else throw s}else if(B=="draw"){G=[d.SU.Qx(s.Shp)];u.$.push({type:0,fa:1,length:0});
d.SU.o7(G,u);m.xY.an9(u.$,s.AntA.v,z.qm,o);return}else throw B}else if(K.d=="remove"){if(K.od&&u.gy.length!=0){u.$=d.j.ant(u.$,u.gy,G,K.anr);
var J=d.j.rD(u.$);for(var y=0;y<u.Y.length;y++)if(u.Y[y]>=J){u.Y.splice(y,1);y--}u.gy=[];N="Delete Anchors"}else{if(u.Y.length==0)return;
var U=0;for(var y=0;y<u.Y.length;y++){G.splice(u.Y[y]+U,1);U--}u.$=d.j.abi(u.$,u.Y);u.Y=[];u.gy=[];if(N==null)N="Delete Paths"}}if(K.d=="append"){m.xY.rL(K.aBu,u,G)}this.rj(Y,q.UQ,u,G);
this.NH(Y,N,q.UQ,l,u.clone(),null,e,JSON.stringify(G))}};m.xY.an9=function(K,o,Y,c){var z=new S.kZ;z.$=z.$.concat(K.slice(2));
var f=z.ue();if(!o)d.round(f.channel);var $=d.R(f.rect.Z()*4);d.nz($,(Y&255)<<16|(Y>>8&255)<<8|(Y>>16&255)<<0);
d.cb(f.channel,$,3);var E=new h1(w.E.U,!0);E.f=m.ra;E.data={d:"draw",EZ:{buffer:$,rect:f.rect.clone()},Mx:this.name};
c.c(E)};m.xY.GB=function(K,o){var Y=d.j.ajk(K.$,K.Y),c=[];for(var y=0;y<K.Y.length;y++)c.push(JSON.parse(JSON.stringify(o[K.Y[y]])));
return[Y,c]};m.xY.rL=function(K,o,Y){var c=d.j.rD(o.$),z=d.j.rD(K[0]);o.$=o.$.concat(K[0].slice(2));
o.Y=[];for(var y=0;y<z;y++)o.Y.push(c+y);for(var y=0;y<z;y++)Y.push(JSON.parse(JSON.stringify(K[1][y])))};
m.xY.prototype.rC=function(K,o){if(o==null)return!1;var Y=o.dK(),c=Y[0],z=Y[1];if(z.length==0)return!1;
var f=c[z[0]],$=f.add.vmsk;if($&&$.Y.length+$.gy.length!=0)return[a1.v1,a1.QC].indexOf(K)!=-1};m.xY.prototype.Ed=function(K,o,Y,c){if(K==null)return;
var z=K.dK(),f=z[0],$=z[1];if($.length==0)return;var E=f[$[0]],b=E.add.vmsk;if(c.S(a1.Xg)||c.S(a1.C4)||this.id==m.pf&&c.S(a1.WO)&&b.gy.length==1){b.gy=[];
K.px=!0}if(b.Y.length!=0){var q=c.iV(K?K.Q.Rs:0);if(q.x!=0||q.y!=0){var O=b.clone(),j=b.clone(),A=new dF(1,0,0,1,q.x,q.y),R=E.add.vogk,g=JSON.stringify(R);
if(c.S(a1.cV)){var H=m.xY.GB(j,R);m.xY.rL(H,j,R)}d.j.k3(j.$,A,j.Y);d.SU.i(R,d.D.lK(A),j.Y);this.rj(K,E.UQ,j,R);
this.NH(K,"Move Paths",E.UQ,O,j.clone(),!0,g,JSON.stringify(R))}if(c.S(a1.v1)||c.S(a1.QC))this.yx({d:"remove",od:this.id==m.pf},o,K,c,Y)}};
m.xY.prototype.NH=function(K,o,Y,c,z,f,$,E){var b=new dE(o,this);b.data={UH:Y,JG:c,Ml:z,auf:f,aqN:$,O3:E};
K.iy(b)};m.xY.prototype.PZ=function(K,o){if(K.UH!=null)this.rj(o,K.UH,K.Ml.clone(),JSON.parse(K.O3));
else{o.V9=K.azq.slice(0);o.n7=K.Y5.slice(0);o.px=o.jS=!0}if(K.WB||K.HR){o.r=K.HR;o._t=!0}};m.xY.prototype.mt=function(K,o){if(K.UH!=null)this.rj(o,K.UH,K.JG.clone(),JSON.parse(K.aqN));
else{o.V9=K.vm.slice(0);o.n7=K.I6.slice(0);o.px=o.jS=!0}if(K.WB||K.HR){o.r=K.WB;o._t=!0}};m.xY.prototype.rj=function(K,o,Y,c){var z=o<0?K.V9[-1-o]:o<1e6?K.B[o]:K.B[o-1e6].add.TySh,f=z.add.vmsk;
f.channel=null;f.dw=!0;if(f.DJ){f.DJ.channel=null;f.DJ.dw=!0}z.add.vmsk=Y;z.add.vogk=c;if(1e6<=o){b_.eV(z);
var $=K.B[o-1e6],E=z,b=this.Bk;au.k2($,b.zl);K.W()}else if(0<=o){Y.dw=!0;z.WG(K);K.W()}K.px=K.jS=!0};
m.xY.AP=function(K,o){var Y=K.B[o],c=Y.add.vstk,z=null;if(c&&!c.fillEnabled.v)z={ut:0};else if(Y.add.SoCo)z={ut:1,fe:Y.add.SoCo};
else if(Y.add.GdFl)z={ut:2,fe:Y.add.GdFl};else if(Y.add.PtFl)z={ut:3,fe:Y.add.PtFl};return z};m.xY.Vx=function(K,o){var Y=K.add.vmsk,c=K.add.vstk,z=o.ut;
if(c)c.fillEnabled.v=z!=0;if(z>0){var f=["SoCo","GdFl","PtFl"][z-1];for(var y=0;y<3;y++)delete K.add[["SoCo","GdFl","PtFl"][y]];
K.add[f]=o.fe}};m.GU=function(K,o,Y,c){m.xY.call(this,K,o,Y);this.Bp={shape:a_.Ta(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{xu:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aeD=c;this.Pw=null;this.pn=null;this.VX=null;this.YU=new iY};m.GU.prototype=new m.xY;m.GU.prototype.bZ=function(K){return K.WR&&this.id!=m.ey};
m.GU.prototype.enable=function(K,o,Y,c,z){this.Bk=Y;var f=new h1(w.E.L,!0);f.data={d:w.I.eZ,gg:"crosshair"};
o.c(f)};m.GU.prototype.Ed=function(K,o,Y,c){m.xY.prototype.Ed.call(this,K,o,Y,c);this.YU.Ed(c);this.M8(o,Y)};
m.GU.prototype.M8=function(K,o){var Y=new h1(w.E.L,!0);Y.data={d:w.I.DA,f:this.id,PD:this.l3(o)};K.c(Y)};
m.GU.prototype.l3=function(K){var o=this.YU.wh(0),Y=this.YU.bC(0),c=m.PP.rH(this.Bp.binop,o,Y);if(K.M5==1&&c==0)c=1;
return c};m.GU.prototype.We=function(K,o,Y,c){};m.GU.prototype.tx=function(K,o,Y,c,z){var f=Y.M5;if(f!=2)this.a4z(o,Y);
if(f==2&&!K.WM())return;var $=K.Q.oh(z.x,z.y);$=m.sq.$n(K,$,Y);this.VX=[$.x,$.y];this.Pw=$;this.pn=new jc(0,0);
this.YU.tx(c)};m.GU.prototype.a3L=function(K,o,Y,c){var z=[this.Pw.clone(),o.clone()];Y=this.YU.wh(1)||Y.S(a1.jR)||this.YU.bC(1)?Y:null;
if(this.aeD)z=m.GU.Eg(z[0],z[1],Y,!0,this.Bp.cstr);if(K)K.Q.qE=new hD(z[0].x,z[0].y,z[1].x-z[0].x,z[1].y-z[0].y);
return this.We(z[0],z[1],this.YU.wh(1)&&Y.S(a1.jR),this.VX,K.Q,c)};m.GU.prototype.anJ=function(K,o,Y){var c=K.Q.oh(o.x,o.y);
if(this.id==m.ey)return c;var z=this.Bp.cstr;if(z.xu==2){var f=new hD(c.x-z.x,c.y-z.y,z.x,z.y),$=m.sq.z$(K,f,Y);
c.x+=$[0];c.y+=$[1];m.sq.H5(K,f,$)}else c=m.sq.$n(K,c,Y);return c};m.GU.prototype.D3=function(K,o,Y,c,z){if(this.Pw==null)return;
var f=this.VX,$=f.length,E=z?this.anJ(K,z,Y):new jc(f[$-2],f[$-1]);if(c.S(a1._e))this.Pw=E.km(this.pn);
else this.pn=E.km(this.Pw);f.push(E.x,E.y);if(this.Bp.shape==null)this.Bp.shape=Y.qr[0];var b=this.a3L(K,E,c,!0)[0],q=d.M.Y0(b);
K.N.AE=q;if(this.id!=m.ey&&this.id!=m.hs&&this.id!=m.TU)m.Fh.ew(z,K.Q.qE,K,Y);K.px=!0;this.YU.D3()};
m.GU.prototype.aaW=function(K,o,Y,c){var z=K[4].clone();if(c){z.x-=o/2;z.y-=Y/2}if(this.id==m.hs){o/=2;
Y/=2;z.x+=o;z.y+=Y;Y=-Y;o=0}var f=this.We(z,new jc(z.x+o,z.y+Y),!1,this.VX);this.acB(K[0],K[1],K[2],f)};
m.GU.prototype.acB=function(K,o,Y,c){var z=Y.M5,f=new h1(w.E.hP,!0);if(z==0)f.data=m.GU.a3U(c[1],Y);
else if(z==1){var $={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:c[1]};
f.data={Rk:"set",jU:$}}else{var $={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:c[1]};f.data={Rk:"draw",jU:$}}o.c(f);
if(c[1].v.classID=="customShape"&&c[1].v.Nm.v.startsWith("--")){var E=K.dK(),b=E[0],q=E[1],O=b[q.pop()],j=O.add.vmsk,R=O.add.vogk;
d.SU.a1u(R);var g=j.clone();g.$=c[0];this.rj(K,O.UQ,g,R)}};m.GU.prototype.pt=function(K,o,Y,c,z,f){if(this.Pw==null)return;
var $=this.anJ(K,z,Y),E=this.l3(Y),b=Y.M5,q=this.VX,O=q.length;if(this.id==m.ey&&O<=4){}else if(O<=4){$.x=Math.round($.x);
$.y=Math.round($.y);var j=new h1(w.E.L);j.data={d:w.I.Gg,XQ:"createshape",amk:this.aaW.bind(this),asG:this.name,ahG:[K,o,Y,c,$]};
if(!f)o.c(j)}else if(O!=2){var A=this.a3L(K,$,c),R=A[0],g=K.dK(!0),H=g[0],i=g[1],h=i.length-1;if(b==1&&R.length>2||b==0&&E!=0&&h!=-1&&H[i[h]].UQ>=0){R[2].fa=[1,2,3,0][E-1];
var x=H[i.pop()],F=x.add.vmsk,X=x.add.vogk,V=F.clone(),U=F.clone(),Z=JSON.stringify(X);U.$=U.$.concat(R.slice(2));
U.Y=[d.j.rD(U.$)-1];var T=d.SU.Qx(A[1]);X.push(T?T:d.SU._L());this.rj(K,x.UQ,U,X);this.NH(K,this.name,x.UQ,V,U,null,Z,JSON.stringify(X))}else if(b==0){this.acB(K,o,Y,A)}else if(b==2){m.xY.an9(R,this.Bp.anta,Y.qm,o)}}this.Pw=null;
K.N.AE=null;K.N.Qm=null;K.N.Rw=[];K.Q.qE=null;K.px=!0;this.YU.pt();this.M8(o,Y)};m.GU.prototype.SX=function(K,o,Y,c,z){for(var Y in K)this.Bp[Y]=K[Y]};
m.GU.Eg=function(K,o,Y,c,z){var f=K.x,$=K.y,E=o.x,b=o.y;if(z&&z.xu==2){if(c){E=Math.round(E);b=Math.round(b)}f=E-z.x;
$=b-z.y}else{var q=0;if(z&&z.xu==1)q=z.y/z.x;else if(Y&&Y.S(a1.jR))q=1;if(q!=0){if(c){if(f<E)f=Math.floor(f);
else f=Math.ceil(f);if($<b)$=Math.floor($);else $=Math.ceil($)}var O=Math.abs(E-f),j=Math.abs(b-$),A=O;
if(j/O<q)A*=j/O/q;E=E>f?f+A:f-A;b=b>$?$+A*q:$-A*q}if(Y&&Y.S(a1.cV)){f-=E-f;$-=b-$}}var K=new jc(f,$),o=new jc(E,b);
if(c)m.GU.akm(K,o);return[K,o]};m.GU.akm=function(K,o){if(K.x>o.x){var Y=K.x;K.x=o.x;o.x=Y}if(K.y>o.y){var Y=K.y;
K.y=o.y;o.y=Y}K.x=Math.floor(K.x);K.y=Math.floor(K.y);o.x=Math.ceil(o.x);o.y=Math.ceil(o.y)};m.GU.abt=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
m.GU.Sz=function(K,o){var Y=m.GU.abt(),c=Y.Usng.v.Type;if(o==null){c.v=JSON.parse(JSON.stringify(eF.fN[K]));
c.v.classID=["solidColorLayer","gradientLayer","patternLayer"][K]}else m.$m._Q(o,c.v,K);return{Rk:"make",jU:Y}};
m.GU.a3U=function(K,o){var Y=o._w,c=JSON.parse(JSON.stringify(o.Nk));c.fillEnabled.v=Y.ut!=0;var z=m.GU.Sz(Math.max(0,Y.ut-1),Y.fe);
z.jU.Usng.v.Shp=K;z.jU.Usng.v.strokeStyle={t:"Objc",v:c};return z};m.aI=function(K){m.xY.call(this,K==0?[10,29]:[10,51],K==0?m.pf:m.anE,K==0?"tools/pen":"tools/cpen");
this.ji=K;this.da=null;this.Yg=null;this.hB=null;this.afQ=0;this.kP=null;this.lu=!1;this.ha=!1;this.tO=!1;
this._$=!1;this.Hy=0};m.aI.prototype=new m.xY;m.aI.prototype.bZ=function(K){return this.Yg!=null};m.aI.prototype.Ed=function(K,o,Y,c){if(!c.S(a1.cV))this.tO=!1;
if(this.ji==1&&(c.S(a1.v1)||c.S(a1.QC))&&this.rC(a1.v1,K)){this.yx({d:"remove",od:!0},o,K,c,Y);return}m.xY.prototype.Ed.call(this,K,o,Y,c)};
m.aI.prototype.tx=function(K,o,Y,c,z){this.da=z;this.a4z(o,Y);var f=K.Q.oh(z.x,z.y),H,i;f.x=Math.round(f.x);
f.y=Math.round(f.y);var $=m.sq.$n(K,f,Y),E=Y.M5,b=this.afQ;if(E==2)E=0;var q=K.dK(E==1),O=q[0],j=q[1],A=O[j.pop()],R=A?A.add.vmsk:null;
if(E==0&&b!=0&&A&&A.UQ>=0)E=1;var g=m.bE(K,z);if(R)H=d.j.R9(R.$,f,!0,g);var h=c.S(a1.cV);if(E==0&&(R==null||R.gy.length==0&&H.UQ==-1)){var x=new h1(w.E.hP,!0),F=d.SU.tL("customShape",[0,0,1,1],null,null,null,"--");
x.data=m.GU.a3U(F,Y);o.c(x);this._$=!0;q=K.dK(!0);O=q[0];j=q[1];A=O[j.pop()];R=A.add.vmsk;R.$=R.$.slice(0,2)}var X=A.add.vogk;
this.Yg=R.clone();this.hB=JSON.stringify(X);var V=R.$,U=d.j.rD(V);i=d.j.IY(R.$,new hD(f.x-g,f.y-g,g*2,g*2),R.gy);
H=d.j.R9(R.$,f,!0,g);var Z=i[0].length+i[1].length+i[2].length;if(H.UQ!=-1&&i[0].length==0){var T=d.j.js(V,H.UQ),v=V[T].length;
while(v<=H.UM){H.UM-=v;T+=v+1}var P={type:4,KK:$.clone(),P:$.clone(),eb:$.clone()},p=T+2+H.UM,a=T+1+(1+H.UM)%v,D=V[p-1],n=V[a];
if(!D.P.BV(D.eb)||!n.KK.BV(n.P)){var N=d.M.aiZ(D.P,D.eb,n.KK,n.P,H.Yj);D.eb=N[0];P.KK=N[1];P.P=N[2];
P.eb=N[3];n.KK=N[4]}V.splice(p,0,P);V[T].length++;R.gy=[p];if(this.ji==1){P.KK.x+=2;this.ou(R)}}else if(Z!=0&&h){var W=0;
for(var y=0;y<3;y++)if(i[y].length!=0){W=i[y][0];this.ha=y==1;break}if(i[0].length!=0){var G=R.$.length-1,l=R.$[W];
l.eb=l.P.clone();var u=l.type>=3?3:0;if(W!=G){l.KK=l.P.clone();l.type=u+1;this.tO=!0}else l.type=u+2}R.gy=[W]}else if(i[0].length==1&&V[i[0][0]-1]&&(V[i[0][0]-1].P!=null||V[i[0][0]-1].type==0||V[i[0][0]-1].length==1)){var W=i[0][0];
if(this.ji==1){var e=V[W],M=e.P,B=Math.abs(d.M.N1(e.KK.x,e.KK.y,M.x,M.y,e.eb.x,e.eb.y));if(B>.01){e.KK=M.clone();
e.eb=M.clone()}if(Date.now()-this.Hy<300){var s=e.KK.BV(M)&&e.eb.BV(M);if(s)e.eb.offset(2,2);else{e.KK=M.clone();
e.eb=M.clone()}this.Hy=0}else this.Hy=Date.now();R.gy=[W];this.ou(R)}else{var T=d.j.js(V,d.j.UG(V,W)),F=V[T],t=T+F.length;
if(W!=t||F.type==0){V[T].length--;V.splice(W,1);t--;if(F.length==0){V.splice(T,1);t=-1}}if(t!=-1)R.gy=[t];
else R.gy=[]}}else{var J=0;if(R.gy.length!=1){R.Y=[U];V.push({type:3,length:1,fa:[1,2,3,0][Math.max(0,b-1)],VB:0,JV:0,XT:0});
J=V.length;X.push(d.SU._L())}else{var e=R.gy[0],L=d.j.UG(V,e),T=d.j.js(V,L);e=T+V[T].length;if(jc.si(f,V[T+1].P)<g){V[T].type=0;
R.gy=[T+1];this.kP=$;this.lu=!0;this.rj(K,A.UQ,R,X);K.px=!0;return}V[T].length++;J=e+1;if(e==T+1&&V[T].length!=2)J=T+1}if(c.S(a1.jR)&&V[J-1]&&V[J-1].P)$=m.A7.cL(V[J-1].P,$);
var P={type:4,KK:$.clone(),P:$.clone(),eb:$.clone()};V.splice(J,0,P);R.gy=[J];this.kP=$;if(this.ji==1){P.KK.x+=2;
this.ou(R)}this.Hy=Date.now()}this.rj(K,A.UQ,R,X);K.px=!0};m.aI.prototype.ou=function(K){var o=K.$,Y=K.gy[0],c=d.j.js(o,d.j.UG(o,Y))+1,z=o[c-1].length;
if(z<3)return;var f=[],$=[];for(var y=0;y<5;y++){var E=c+(Y-c-2+y+5*z)%z;$.push(E);var b=o[E].P;f.push(b.x,b.y)}var q=d.M.aik(f);
for(var y=1;y<4;y++){var O=y*4,j=o[$[y]],b=j.P,A=j.KK.BV(b)&&j.eb.BV(b);if(!A){j.KK.Ex(q[O],q[O+1]);
j.eb.Ex(q[O+2],q[O+3])}else{j.KK=b.clone();j.eb=b.clone()}}};m.aI.prototype.D3=function(K,o,Y,c,z){if(this.Yg==null)return;
var f=this.da;if(f&&jc.si(f,z)<m.bE({Q:{O:1}},z))return;this.da=null;var $=K.Q.oh(z.x,z.y),E=m.sq.$n(K,$,Y),b=K.dK(Y.M5==1),q=b[0],O=b[1],j=q[O.pop()],A=j.add.vmsk,R=A.$,g=R[A.gy[0]];
if(this.ji==1){var H=g.P.BV(g.KK)&&g.P.BV(g.eb);g.P=$.clone();g.KK=$.clone();g.eb=$.clone();if(!H)g.KK.x+=2;
this.ou(A)}else if(c.S(a1._e)){if(c.S(a1.jR))E=m.A7.cL(this.kP,E);var i=g.P.km(g.eb),h=g.KK.km(g.P);
g.eb=E;g.P=E.add(i);g.KK=g.P.add(h)}else{if(c.S(a1.jR))E=m.A7.cL(g.P,E);if(this.ha){var x=g.KK;g.KK=g.eb;
g.eb=x}if(this.lu){var F=jc.si(g.P,E),X=F==0?0:jc.si(g.P,g.eb)/F;g.eb.x=g.P.x+X*(E.x-g.P.x);g.eb.y=g.P.y+X*(E.y-g.P.y)}else g.eb=E;
if(c.S(a1.cV)&&!this.tO)g.type=5;else{g.type=4;g.KK=g.P.add(g.P.km(E))}this.kP=E;if(this.ha){var x=g.KK;
g.KK=g.eb;g.eb=x}}this.rj(K,j.UQ,A,j.add.vogk);K.px=!0};m.aI.prototype.pt=function(K,o,Y,c,z){if(this.Yg==null)return;
var f=K.dK(Y.M5==1),$=f[0],E=f[1],b=$[E.pop()],q=b.add.vmsk,O=b.add.vogk;if(this.lu){q.gy=[];this.rj(K,b.UQ,q,b.add.vogk)}var j=this.Yg.$.length,A=q.$.length;
if(!this._$)this.NH(K,this.lu?"Close Path":(j==A?"Move":j<A?"Add":"Delete")+" Anchor Point",b.UQ,this.Yg,q.clone(),null,this.hB,JSON.stringify(O));
this._$=!1;this.lu=!1;this.ha=!1;this.tO=!1;this.Yg=null};m.aI.prototype.SX=function(K,o,Y,c,z){this.afQ=K.binop};
m.Rc=function(){m.GU.call(this,[10,30],m.ey,"tools/fpen",!1)};m.Rc.prototype=new m.GU;m.Rc.prototype.We=function(K,o,Y,c,z,f){var $=c.length-1,E=Math.sqrt((c[$-1]-c[0])*(c[$-1]-c[0])+(c[$]-c[1])*(c[$]-c[1]))<6/z.O;
return[d.j.C_(c,E,f),d.SU.tL("customShape",[0,0,1,1],null,null,null,"--")]};m.hx=function(){m.xY.call(this,[10,27],m.h_,"tools/pselect");
this.wX=null;this.v_=!1;this.$h=null;this.Yg=null;this.yr=null;this.hB=null;this.kk=null;this.R7=null;
this.G7=null;this.Tt=null};m.hx.prototype=new m.xY;m.hx.prototype.bZ=function(K){return K.WR};m.hx.prototype.tx=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=K.dK(),E=$[0],b=$[1],q,O;
for(var y=0;y<b.length;y++){var j=E[b[y]],A=j.add.vmsk,R=d.j.R9(A.$,f).UQ;if(R!=-1){this.$h=q=j;O=R}for(var g=0;
g<A.vh.length;g++){var H=d.j.ap2(A.$,A.vh[g]);if(H==null)continue;var i=jc.si(H,f);if(i<4*m.GR()/K.Q.O){var h=K.B[j.UQ-1e6].add.TySh,x=h.e9.Curve,F=h.i,X=x.Reversed;
x.Reversed=!1;var x=f3.Y$(h.e9.Curve);x.Reversed=X;d.M.i(x[0],F,x[0]);this.G7=[x,g,F.g*F.gG-F.J*F.b0];
this.$h=q=j;O=0}}if(this.G7)break}if(q!=null){var A=q.add.vmsk;A.gy=[];var V=A.Y.indexOf(O);if(c.S(a1.jR)){if(V==-1){A.Y.push(O);
this.v_=!0}else A.Y.splice(V,1)}else{if(V==-1)A.Y=[O];this.v_=!0}this.R7=d.j.QJ(A.$,A.Y)}this.wX=f;this.Tt=new b1(f);
K.jS=!0;K.px=!0};m.hx.prototype.D3=function(K,o,Y,c,z){if(this.wX==null)return;var f=K.Q.oh(z.x,z.y);
if(this.v_){f=this.Tt._Y(f,c);var $=this.$h;if(this.Yg==null){this.Yg=this.yr=$.add.vmsk.clone();this.hB=this.kk=JSON.stringify($.add.vogk);
if(c.S(a1.cV)){var E=this.Yg.clone(),b=JSON.parse(this.hB),q=m.xY.GB(E,b);m.xY.rL(q,E,b);this.yr=E;this.kk=JSON.stringify(b)}}var E=this.yr.clone(),b=JSON.parse(this.kk);
if(this.G7){var O=this.G7,j=O[0][0],A=d.M.y7(j,f.x,f.y);E.vh[O[1]]=O[0][1][A];var R=j[A*2],g=j[A*2+1],H=(j[A*2+2]-R)*(f.y-g)-(j[A*2+3]-g)*(f.x-R);
if(O[2]<0)H=-H;E.Qn=H>0}else{var i=this.R7.clone(),h=i.x,x=i.y;i.offset(f.x-this.wX.x,f.y-this.wX.y);
i.x=Math.round(i.x);i.y=Math.round(i.y);var F=m.sq.z$(K,i,Y),X=new dF(1,0,0,1,i.x-h+F[0],i.y-x+F[1]);
d.j.k3(E.$,X,E.Y);d.SU.i(b,d.D.lK(X),E.Y);m.sq.H5(K,i,F)}this.rj(K,$.UQ,E,b)}else{var V=this.wX;K.N.AE=d.M.Yq(new hD(V.x,V.y,f.x-V.x,f.y-V.y));
K.px=!0}};m.hx.prototype.pt=function(K,o,Y,c,z){if(this.wX==null)return;var f=K.Q.oh(z.x,z.y),$=this.$h,E=$?$.add.vmsk:null;
if(this.v_){var b=JSON.stringify($.add.vogk);if(!this.wX.BV(f))this.NH(K,"Move Paths",$.UQ,this.Yg,E,null,this.hB,b);
if(K!=null&&K.N.Qm){K.N.Qm=null;K.px=!0}}else{if(E){var q=this.wX,O=new hD(q.x,q.y,f.x-q.x,f.y-q.y),j=d.j.axI(E.$,O);
if(c.S(a1.jR)){for(var y=0;y<j.length;y++)if(E.Y.indexOf(j[y])==-1)E.Y.push(j[y])}else E.Y=j}K.N.AE=null;
K.px=!0}this.wX=null;this.Yg=null;this.G7=null;this.v_=!1;this.Tt=null};m.hx.prototype.agq=function(K){var o=this.$h,Y=this.L$,c=o.add.vmsk,z=o.add.vogk,f=z.length;
if(K=="confirm"){if(c!=this.Yg)this.NH(Y,[12,94,2],o.UQ,this.Yg,c,null,this.hB,JSON.stringify(z));this.rX();
return}if(K=="cancel"){this.rj(this.L$,this.$h.UQ,this.Yg.clone(),JSON.parse(this.hB));this.rX()}else{var c=this.Yg.clone(),z=JSON.parse(this.hB);
c.$=d.j.a40(c.$,c.Y,K);this.rj(this.L$,this.$h.UQ,c,z)}};m.hx.prototype.rX=function(){this.$h=null;this.Yg=null;
this.wX=null;this.Oy=this.nv=-1;this.Tt=null};m.hx.prototype.Ok=function(K,o,Y,c){m.xY.prototype.Ok.call(this,K,o,Y,c);
if(Y.i5!=this.id)return;if(K.Y.length==0)return;var z=K.dK(),f=z[0],$=z[1];if($.length==0)return;var E=f[$[0]],b=E.add.vmsk,q=E.add.vstk,O=E.add.vogk,j=new h1(w.E.L,!0);
j.data={d:w.I.DA,f:this.id,$z:"main",Ah:b?b:null,SU:O};o.c(j)};m.hx.prototype.SX=function(K,o,Y,c,z){var f=K.$G;
if(f.Ah){var $=Y.dK(),E=$[0],b=$[1];if(b.length==0)return;var q=E[b[0]],O=q.add.vmsk.clone(),j=JSON.stringify(q.add.vogk),A=f.Ah;
this.rj(Y,q.UQ,A,f.SU);var R=[18,5];if(O.$.length==A.$.length)R=O.Y[0]==A.Y[0]?"Fill Rule":"Path Order";
this.NH(Y,R,q.UQ,O,A,null,j,JSON.stringify(f.SU))}};m.aC=function(){m.xY.call(this,[10,28],m._D,"tools/dselect");
this.Oy=-1;this.nv=-1;this.cC=null;this.wX=null;this.$h=null;this.Yg=null;this.hB=null;this.L$=null;
this.jh=0;this.jQ={psnap:!1};this.Tt=null};m.aC.prototype=new m.xY;m.aC.prototype.bZ=function(K){return K.WR};
m.aC.prototype.SX=function(K){this.jQ=K};m.aC.prototype.yx=function(K,o,Y,c,z){if(K.d=="crnr"){if(Y==null)return;
var f=Y.dK(),$=f[0],E=f[1];if(E.length==0){alert("No paths selected");return}var b=$[E[0]],q=b.add.vmsk;
if(q.gy.length==0){alert("No corners selected");return}for(var y=0;y<q.gy.length;y++){var O=q.$[q.gy[y]];
if(!O.P.BV(O.eb)||!O.P.BV(O.KK)){alert("Only sharp corners can be rounded");return}}if(this.Yg==null){this.Yg=b.add.vmsk.clone();
this.hB=JSON.stringify(b.add.vogk);this.$h=b;this.L$=Y}var j=new h1(w.E.L,!0);j.data={d:w.I.Gg,XQ:"cornerradius",UZ:5,gb:this.avh.bind(this)};
o.c(j)}else m.xY.prototype.yx.call(this,K,o,Y,c,z)};m.aC.prototype.avh=function(K){if(K=="confirm"){var o=this.L$,Y=this.$h,c=Y.add.vmsk,z=Y.add.vogk;
this.NH(o,[12,94,0],Y.UQ,this.Yg,c,null,this.hB,JSON.stringify(z));this.rX();return}var c=this.Yg.clone(),z=JSON.parse(this.hB),f=c.gy;
if(K=="cancel"){}else{var $=[];for(var y=0;y<f.length;y++){var E=f[y],b=d.j.UG(c.$,E,!0),j=0;if($.indexOf(b)!=-1)continue;
$.push(b);var q=d.j.js(c.$,b,!0),O=c.$[q].length,A=[];for(var R=0;R<O;R++){var g=c.gy.indexOf(q+R+1)==-1?0:K;
A.push(g);if(g!=0)j++}d.j.xF(c.$,q,A);for(var R=0;R<f.length;R++)if(f[R]>q+O)f[R]+=j}this.ur(c,z);c.gy=[]}this.rj(this.L$,this.$h.UQ,c,z);
if(K=="cancel")this.rX()};m.aC.prototype.disable=function(K,o,Y,c){this.bH(K)};m.aC.prototype.tx=function(K,o,Y,c,z){this.bH(K);
var f=K.Q.oh(z.x,z.y),j,A,R;this.cC=f.clone();var $=K.dK(),E=$[0],b=$[1];if(b.length==0)return;var q=m.bE(K,z),O=new hD(f.x-q,f.y-q,q*2,q*2);
for(var g=0;g<b.length;g++){j=this.$h=E[b[g]];A=j.add.vmsk;R=d.j.IY(A.$,O);if(R[0].length+R[1].length+R[2].length!=0)break}var H=[!1,!1,!1];
for(var y=0;y<3;y++){for(var i=0;i<R[y].length;i++){var h=R[y][i],x=A.$[h];if(A.gy.indexOf(h)!=-1||y==1&&A.gy.indexOf(h-1)!=-1&&!x.P.BV(x.KK)||y==2&&A.gy.indexOf(h+1)!=-1&&!x.P.BV(x.eb)){R[y]=[h];
H[y]=!0;break}}}if(R[0].length!=0&&(H[0]||!H[1]&&!H[2])){var F=R[0][0],X=A.gy.indexOf(F);if(c.S(a1.jR)){if(X==-1)A.gy.push(F);
else{A.gy.splice(X,1);K.px=!0;return}}else if(X==-1)A.gy=[F];this.Oy=F;this.nv=0}else if(R[1].length!=0&&H[1]){this.Oy=R[1][0];
this.nv=1}else if(R[2].length!=0&&H[2]){this.Oy=R[2][0];this.nv=2}else{var V=d.j.R9(A.$,f,!0,q);if(V.UQ==-1)this.wX=f;
else{A.Y=[V.UQ];A.gy=[]}}if(this.Yg==null){this.Yg=j.add.vmsk.clone();this.hB=JSON.stringify(j.add.vogk)}this.Tt=new b1(f);
K.px=!0};m.aC.prototype.D3=function(K,o,Y,c,z){if(K==null)return;var f=K.Q.oh(z.x,z.y),$=this.$h;if(this.Oy!=-1){var E=this.Yg.clone(),b=$.add.vogk,q=E.$[this.Oy];
q=[q.P,q.KK,q.eb][this.nv];if(c.S(a1.jR)){if(this.nv==0){f=this.Tt._Y(f,c);f.x+=q.x-this.cC.x;f.y+=q.y-this.cC.y}else f=m.A7.cL(E.$[this.Oy].P,f)}else{if(this.jQ.psnap){f.x=Math.round(f.x);
f.y=Math.round(f.y)}f=m.sq.$n(K,f,Y)}if(this.nv==0){var O=new dF(1,0,0,1,f.x-q.x,f.y-q.y);d.j.k3(E.$,O,null,E.gy)}else{var j=E.$[this.Oy],A=j.KK,R=j.eb;
if(this.nv==2){A=j.eb;R=j.KK}if(c.S(a1.cV)&&(j.type==1||j.type==4))j.type++;A.Ex(f.x,f.y);if(j.type==1||j.type==4){var g=jc.si(A,j.P),H=jc.si(R,j.P);
if(H!=0){R.x=j.P.x-(A.x-j.P.x)*(H/g);R.y=j.P.y-(A.y-j.P.y)*(H/g)}}}this.ur(E,b);this.rj(K,$.UQ,E,b)}else if(this.wX!=null){var i=this.wX;
K.N.AE=d.M.Yq(new hD(i.x,i.y,f.x-i.x,f.y-i.y));K.px=!0}else{var h=K.dK(),x=h[0],F=h[1],$,E,U;if(F.length==0)return;
var X=m.bE(K,z),V=new hD(f.x-X,f.y-X,X*2,X*2);for(var Z=0;Z<F.length;Z++){$=x[F[Z]];E=$.add.vmsk;U=d.j.IY(E.$,V);
if(U[0].length+U[1].length+U[2].length!=0)break}this.bH(K);for(var y=0;y<3;y++){for(var T=0;T<U[y].length;
T++){var v=U[y][T],P=E.$[v];P=y==0?P.P:y==1?P.KK:P.eb;K.N.EV.push(P.x,P.y);K.px=!0}}}};m.aC.prototype.bH=function(K){if(K&&K.N.EV.length!=0){K.N.EV=[];
K.px=!0}};m.aC.prototype.pt=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=this.$h,E=$?$.add.vmsk:null,b=$?$.add.vogk:null;
if(this.Oy!=-1){if(Date.now()-this.jh<300){var q=E.$[this.Oy],O=this.nv,j=null;if(O==0){var A=q.KK.BV(q.P),R=q.eb.BV(q.P);
if(!A&&!R){j="Anchor Type";if(q.type==1||q.type==4)q.type++;else{q.type--;q.eb=q.P.add(q.P.km(q.KK))}}else{j="Add Handles";
if(A&&R){q.KK.x-=30;q.eb.x+=30}else if(A)q.KK=q.P.add(q.P.km(q.eb));else if(R)q.eb=q.P.add(q.P.km(q.KK))}}else{j="Remove Handle";
if(O==1)q.KK.Zv(q.P);else q.eb.Zv(q.P)}this.ur(E,b);this.rj(K,$.UQ,E,b);this.NH(K,j,$.UQ,this.Yg,E,null,this.hB,JSON.stringify(b))}else if(!this.cC.BV(f)){this.NH(K,"Drag Anchors",$.UQ,this.Yg,E,null,this.hB,JSON.stringify(b))}this.jh=Date.now()}else if(this.wX!=null){var g=this.wX,H=new hD(g.x,g.y,f.x-g.x,f.y-g.y);
if(H.m<0)H.x+=H.m;if(H.e<0)H.y+=H.e;H.m=Math.abs(H.m);H.e=Math.abs(H.e);var i=d.j.IY(E.$,H);E.gy=i[0].concat(c.S(a1.jR)?E.gy:[]);
K.N.AE=null}this.rX();K.px=!0};m.aC.prototype.rX=function(){this.$h=null;this.Yg=null;this.wX=null;this.Oy=this.nv=-1;
this.Tt=null};m.aC.prototype.ur=function(K,o){for(var y=0;y<K.gy.length;y++){var Y=d.j.UG(K.$,K.gy[y]);
d.SU.lM(o,Y)}};m.aC.prototype.Ed=function(K,o,Y,c){if(K==null)return;var z=K.dK(),f=z[0],$=z[1];if($.length==0)return;
var E=f[$[0]],b=E.add.vmsk;if(b==null||b.gy.length==0)return;var q=E.add.vogk,O=JSON.stringify(q),j=c.iV(K?K.Q.Rs:0);
if(j.x!=0||j.y!=0){var A=b.clone(),R=b.clone(),g=new dF(1,0,0,1,j.x,j.y);d.j.k3(R.$,g,null,R.gy);this.ur(R,q);
this.rj(K,E.UQ,R,q);this.NH(K,"Move Anchors",K.Y[0],A,R.clone(),!0,O,JSON.stringify(q))}if(c.S(a1.v1)||c.S(a1.QC))this.yx({d:"remove",od:!0,anr:!0},o,K,c,Y)};
m.aC.prototype.NH=function(K,o,Y,c,z,f,$,E){var b=K.VE();if(f&&b!=null&&b.f==this&&b.data.auf&&b.data.UH==Y&&JSON.stringify(b.data.JG.gy)==JSON.stringify(c.gy)){b.data.Ml=z;
b.data.O3=E}else{var b=new dE(o,this);b.data={UH:Y,JG:c,Ml:z,auf:f,aqN:$,O3:E};K.iy(b)}};m.Rect=function(){m.GU.call(this,[10,32],m.uO,"tools/rect",!0)};
m.Rect.prototype=new m.GU;m.Rect.prototype.We=function(K,o,Y){var c=this.Bp.crad,z=o.x-K.x,f=o.y-K.y;
return[d.j.OJ.Rect(K.x,K.y,z,f,c),d.SU.tL("Rctn",[K.x,K.y,o.x,o.y],[c,c,c,c])]};m.MR=function(){m.GU.call(this,[10,33],m.ty,"tools/ellipse",!0)};
m.MR.prototype=new m.GU;m.MR.prototype.We=function(K,o,Y){var c=o.x-K.x,z=o.y-K.y;return[d.j.OJ.MR(K.x,K.y,c,z),d.SU.tL("Elps",[K.x,K.y,o.x,o.y])]};
m.uc=function(){m.GU.call(this,[10,34],m.hs,"tools/pshape",!1);this.Bp.aopts=[!1,!0,50,100,0]};m.uc.prototype=new m.GU;
m.uc.prototype.We=function(K,o,Y){var c=this.Bp.pshape,z=this.Bp.crad,f=this.Bp.irad/100,$=this.Bp.sides,E=this.Bp.width,b=this.Bp.aopts,q=this.Bp.length,i;
o=o.clone();var O=K.x,j=K.y,A=o.x,R=o.y,g=Math.sqrt((A-O)*(A-O)+(R-j)*(R-j)),H=Math.atan2(-R+j,A-O);
if(Y)H=Math.round(H*180/Math.PI/15)*15*Math.PI/180;if(c==0)i=d.j.OJ.E0(O,j,g,H,$,z);if(c==1)i=d.j.OJ.a5A(O,j,g,H,$,z,f);
if(c==2)i=d.j.OJ.bM(K.x,K.y,o.x,o.y,E,b);if(c==3)i=d.j.OJ.aqS(O,j,g,H,q);return[i,d.SU.tL("customShape",[K.x,K.y,o.x,o.y],null,null,null,"--")]};
m.uc.prototype.Ed=function(K,o,Y,c){m.GU.prototype.Ed.call(this,K,o,Y,c);var z=c.iV(),f=this.Bp,$,E;
if(z.y!=0){var b=-z.y,q=f.pshape;if(q<2){$="sides";E=Math.max(3,Math.min(100,f.sides+b))}else if(q==2){$="width";
E=Math.max(1,Math.min(100,f.width+b))}else if(q==3){$="length";E=Math.max(4,Math.min(40,f.length+b))}}if(z.x!=0){$="pshape";
E=Math.max(0,Math.min(3,f.pshape+z.x))}if($){var O=new h1(w.E.L,!0),j={};j[$]=E;f[$]=E;O.data={d:w.I.DA,f:this.id,f4:"vals",air:j};
o.c(O);this.D3(K,o,Y,c)}};m.Ov=function(){m.GU.call(this,[10,35],m.TU,"tools/line",!1)};m.Ov.prototype=new m.GU;
m.Ov.prototype.We=function(K,o,Y){var c=this.Bp.width,z=this.Bp.aopts;o=o.clone();if(Y){o=m.A7.cL(K,o)}return[d.j.OJ.bM(K.x,K.y,o.x,o.y,c,z),d.SU.tL("Ln",null,null,[K.x,K.y,o.x,o.y],c,null,z)]};
m.zq=function(){m.GU.call(this,[10,31],m.Dt,"tools/cshape",!0)};m.zq.prototype=new m.GU;m.zq.prototype.We=function(K,o,Y){var c=this.Bp.shape,z=c.BA.m/c.BA.e,f=S.kZ.ge(c.$);
o=o.clone();if(Y){o.y=K.y+(o.x-K.x)/z}var $=o.x-K.x,E=o.y-K.y;d.j.k3(f,new dF($,0,0,E,K.x,K.y));return[f,d.SU.tL("customShape",[K.x,K.y,o.x,o.y],null,null,null,c.gK)]};
m.OB=function(K,o,Y){m.Fh.call(this,K,o,Y);this.A9=0;this.B=null;this.a3=null;this.KO=null;this.rA=1;
this.gV=0;this.pu=!0;this.wo=!1;this.cursor=null;this.Ff=null;this.WB=null;this.Ld=!1;this.ZR=null;this.agM=0;
this.vu=null;this.ji=0;this.bd=null;this.z4=null;this.Mh=null;this.X3=null;this.anB=null;this.pE=null};
m.OB.prototype=new m.Fh;m.OB.On=function(K,o,Y){var c={classID:"null",null:b0.x2(Y?"Lyr":"Dcmn",!0)};
if(K)c.Angl={t:"UntF",v:{type:"#Ang",val:o}};else c.Axis={t:"enum",v:{Ornt:o}};return{Rk:K?"rotateEventEnum":"flip",jU:c}};
m.OB.prototype.aj=function(K,o,Y,c,z){var f=new h1(w.E.L,!0);f.data={d:w.I.DA,f:this.id,p4:z,Xe:K,KO:Y};
o.c(f);this.GO=!1};m.OB.prototype.bZ=function(K){return this.z4&&this.z4.asd()};m.OB.prototype.yx=function(K,o,Y,c,z){this.KO=z;
if(K.d=="again"&&this.vu==null)return;if(!this.IA(Y,z))return;if(this.z4){this.a6H(K,this.z4.Dd(),o,Y,c,z);
this.q7(Y,z,0,!0);this.jo(Y);return}this.ajs(Y,K.a==null,K.a);this.a55(Y);this.a6H(K,K.arw,o,Y,c,z);
this.U_(Y,o,K.Mx,!1)};m.OB.prototype.a6H=function(K,o,Y,c,z,f){var $=this.bd;if(o==null){var E=K.Xy!=null?K.Xy:4;
o=this.z4.ax6()[E]}var b=o.x,q=o.y;if(K.d=="rot"&&K.b!=Math.PI&&($.m+$.e&1)==1){b=Math.floor(b);q=Math.floor(q)}var O=new dF;
O.translate(-b,-q);if(K.d=="rot")O.rotate(K.b);if(K.d=="scl")O.scale(K.b.x,K.b.y);if(K.d=="mat")O.concat(K.b);
O.translate(b,q);if(K.d=="again")O=this.vu;var j=d.D.lK(O);if(K.d=="dtr"){var A=d.D;j=A.mL(K.b,A.R(-b,-q));
j=A.mL(A.R(b,q),j)}var R=this.z4.ni();d.D.i(j,R);this.z4.uG(R);if(K.$I){var g=K.$I.v;this.SX({$z:"switchWarp"},Y,c,z);
this.SX({$z:"wrp",$I:g},Y,c,z)}};m.OB.prototype.$l=function(){return!0};m.OB.prototype.IA=function(K,o){if(K==null)return!1;
if(this.id==m.Lz)return K.r!=null;var Y=K.FK(!0,null,null,!0);if(this.id==m.UN&&K.B[Y[0]].rect.xf()){alert("Layer is empty.");
return!1}for(var y=0;y<Y.length;y++){var c=K.B[Y[y]];if(c.dq(2)||c.dq(31)){alert(ca.get([6,57,0]));return!1}if(c.add.artb){alert("You can not transform the whole artboard");
return!1}if(c.add.TySh)if(!au.OO(c.add.TySh,o.zl))return!1;if(c.add.SoLd){if(Y.length==1&&!d.qN.B_(c.add.SoLd.quiltWarp.v)&&(c.ue()&&c.ue().wn||c.add.vmsk&&c.add.vmsk.wn)){alert("Unlink masks before transforming Smart Object");
return!1}if(!K.axL(c.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+K.yo(c.add.SoLd.Idnt.v).oF+")");
return!1}}}if(K.r==null)return!0;if(!K.WM())return!1;return K.ame()};m.OB.prototype.tx=function(K,o,Y,c,z){var f=this.k8(z,K),$=f[0],E=f[1],b=this.ji==0?this.z4:this.Mh;
K.Q.O*=E;this.wo=b.tx(K,Y,c,$,null,null,z);this.jo(K,$);K.Q.O/=E;if(this.wo&&b.RW($)){if(Date.now()-this.agM<250)this.U_(K,o,null,!0);
this.agM=Date.now()}};m.OB.prototype.WJ=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.eZ,gg:this.cursor};
K.c(o)};m.OB.prototype.k8=function(K,o){var Y=1;K=o.Q.oh(K.x,K.y);if(this.ji==1){var c=d.D.P_(this.z4.ni(),this.bd);
Y=d.D.IU(c)._8();var z=d.D.oD(c);K=d.D.amX(z,K)}return[K,Y]};m.OB.prototype.D3=function(K,o,Y,c,z){var f=this.k8(z,K),$=f[0],E=f[1],b=this.ji==0?this.z4:this.Mh;
if(!z.WR){var q="default";if(b){var O=b.xC($,K.Q.O*E,null,z);if(O)q=O}if(q!=this.cursor){this.cursor=q;
this.WJ(o)}if(this.Mh){this.jo(K,$)}}if(!this.wo)return;K.Q.O*=E;b.D3(K,Y,c,$,this.pu);K.Q.O/=E;this.q7(K,Y,0,!0);
this.jo(K,$);this.FQ(o)};m.OB.prototype.pt=function(K,o,Y,c,z){var f=this.k8(z,K),$=f[0],E=f[1];this.z4.pt(K,Y,c,$);
if(this.Mh){var b=this.Mh.pt(K,Y,c,$);if(b){this.FQ(o,!0);this.jo(K)}}this.wo=!1};m.OB.prototype.Ed=function(K,o,Y,c){if(c.S(a1.C4))this.U_(K,o,null,!0);
else if(c.S(a1.Xg))this._z(K,o);else{var z=this.z4.Ed(K,Y,c);if(z){this.q7(K,Y,0,!0);this.FQ(o)}}};m.OB.prototype.SX=function(K,o,Y,c){if(K.$z=="commit")this.U_(Y,o,null,!0);
else if(K.$z=="cancel")this._z(Y,o);else if(K.$z=="switchWarp"){this.ji=1-this.ji;this.asV();this.jo(Y);
this.FQ(o)}else if(K.$z=="wrp"){this.Mh.agu(K.$I);this.jo(Y);this.q7(Y,this.KO,0,!0)}else if(K.$z=="splt")this.Mh.aqn(K.b);
else if(K.$z=="ctyp"){this.z4.a24(K.m5);this.jo(Y);this.FQ(o)}else if(K.$z=="cen"){this.z4.a08(K.Gf);
this.jo(Y);this.q7(Y,this.KO,0,!0)}else if(K.$z=="trn"){var z=d.D.lK(K.HW),f=this.bd,$=d.D.P_(this.z4.ni(),this.bd);
z[6]=$[6],z[7]=$[7];var E=[f.x,f.y,f.x+f.m,f.y,f.x+f.m,f.y+f.e,f.x,f.y+f.e];d.D.i(z,E);this.rA=K.rA;
if(K.gV!=this.gV){this.gV=K.gV;this.a4O(Y)}this.pu=K.pu;this.z4.uG(E);this.jo(Y);this.q7(Y,this.KO,0,!0)}};
m.OB.prototype.jo=function(K,o){if(this.ji==0)this.z4.rb(K,this.KO);else{this.Mh.rb(K,o);var Y=d.D.P_(this.z4.ni(),this.bd);
d.D.i(Y,K.N.CB.z);d.D.i(Y,K.N.Av);d.D.i(Y,K.N.Td)}};m.OB.prototype.U_=function(K,o,Y,c){this.q7(K,this.KO,this.rA);
var z=new dE(Y?Y:this.name,this),V="";if(this.A9==0)z.data={type:this.A9,B:this.B,ZR:this.a3,vi:m.OB.LH(K,this.B)};
else if(this.A9==1){var f=K.B[this.B[0]],$;if(f.VY.xO<=0){$=d.R(f.VY.dU.Z());d.JI(f.VY.Hm,$,3)}else $=K.r.channel;
var E={rect:f.VY.dU.clone(),channel:$};z.data={type:this.A9,a:this.B[0],WB:this.WB,HR:E,Ff:this.Ff,Ld:this.Ld,VY:f.VY,ZR:this.ZR,vi:{oJ:f.VY.dU,r4:f.VY.Hm}}}else if(this.A9==2){z.data={type:this.A9,WB:this.WB,HR:{rect:K.r.rect.clone(),channel:K.r.channel.slice(0)}}}K.iy(z);
var b=this.bd,q=d.D.P_(this.z4.ni(),b),O=this.a3,j=O?O[0]:null;if(O&&O.length==1&&j[4]){var A=m.OB.lA(j[4].nonAffineTransform),b=d.M.OA(d.qN.Mu(j[4].quiltWarp.v)[3]),R=d.D.P_(A,b);
q=d.D.mL(q,d.D.oD(R))}var g=d.D.IU(q),H=this.z4.Dd(),i=new dF;i.translate(H.x,H.y);i.concat(g);i.translate(-H.x,-H.y);
g=i.clone();var h=-Math.atan2(-g.J,g.g),x=new dF;x.rotate(h);g.concat(x);function F(P,p){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][p],val:P}}}var X=b0.x2("Lyr",!0);
if(this.id==m.Lz)X.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var U=m.OB.afJ;for(var Z in U)if(U[Z]==this.z4.Du)V=Z;
if(V==""){V="Qcsi";i.B3=i.Z7=0}var T={classID:"null",null:X,FTcs:{t:"enum",v:{QCSt:V}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:F(i.B3,0),Vrtc:F(i.Z7,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:F(Math.atan(g.b0/g.gG)*180/Math.PI,2),Vrtc:F(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:F(100*0,1),Vrtc:F(100*0,1)}},Wdth:F(g.g*100,1),Hght:F(g.gG*100,1),Angl:F(h*180/Math.PI,2)};
if(V=="Qcsi")T.Pstn={t:"Objc",v:{Hrzn:F(H.x,0),Vrtc:F(H.y,0)}};var v=this.Mh?this.Mh.Oh():null;if(v&&!d.qN.B_(v)){T.quiltWarp={t:"Objc",v:v}}this.qT=o;
this.track({Rk:"transform",jU:T});this.escape(K,o,c)};m.OB.afJ={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
m.OB.prototype._z=function(K,o){if(this.A9==0)m.OB.fp(K,this.B,this.a3);else if(this.A9==1){var Y=K.B[this.B[0]];
K.r=this.WB;if(!this.Ld){Y.VY.dU=this.ZR.oJ;Y.VY.Hm=this.ZR.r4;Y.aT(K,0,0,K.r)}else{Y.dX(K,this.Ff)}K.W();
K._t=!0}else if(this.A9==2){K.r=this.WB;K._t=!0}this.escape(K,o,!0)};m.OB.prototype.escape=function(K,o,Y){this.z4.clear(K);
if(this.Mh)this.Mh.clear(K);this.z4=null;this.Mh=null;this.pE=null;this.ji=0;if(Y)this.cN(o,w.E.L,{d:w.I.LS})};
m.OB.prototype.PZ=function(K,o){if(K.type==0)m.OB.fp(o,K.B,K.vi);else{if(K.type==1){var Y=o.B[K.a];if(K.Ld){Y.VY=K.VY}else{Y.VY.dU=K.vi.oJ;
Y.VY.Hm=K.vi.r4}Y.aT(o,0,0,o.r);o.W()}o.r={rect:K.HR.rect.clone(),channel:K.HR.channel.slice(0)};o._t=!0}};
m.OB.prototype.mt=function(K,o){if(K.type==0)m.OB.fp(o,K.B,K.ZR);else{if(K.type==1){var Y=o.B[K.a];if(K.Ld){Y.dX(o,K.Ff)}else{Y.VY.dU=K.ZR.oJ;
Y.VY.Hm=K.ZR.r4;Y.aT(o,0,0,o.r)}o.W()}o.r=K.WB;o._t=!0}};m.OB.prototype.ajs=function(K,o,Y){K.dK();var c=[];
if(Y==null)for(var y=0;y<K.n7.length;y++)if(K.V9[K.n7[y]].add.vmsk.$.length>2)c.push(-1-K.n7[y]);var z=[],f=K.Q.v;
if(f[0]+f[1]+f[2]==3)if(Y!=null||c.length==0||K.d5!=null&&K.d5.length!=0){if(K.Y.length==1){var $=K.B[K.Y[0]];
if($.f$()&&$.bw)z=[K.Y[0]]}if(z.length==0)z=K.FK(o,Y,null,!0)}z=z.concat(c);for(var y=0;y<K.Md.length;
y++)z.push(-1e3-K.Md[y]);this.B=z};m.OB.prototype.enable=function(K,o,Y,c,z,f){if(this.cursor==null)this.cursor="default";
this.WJ(o);if(this.z4)return;this.KO=Y;this.ajs(K,!0);this.a55(K,f&&f.aZ!=null&&f.aZ!=-1?f.aZ:null);
this.FQ(o,null,K);this.jo(K);if(f&&f.aZ==-1)this.SX({$z:"switchWarp"},o,K,c)};m.OB.prototype.Hn=function(){return[this.pu?1:0]};
m.OB.prototype.jH=function(K,o,Y){if(K&&K[0]!=null)this.pu=K[0]==1};m.OB.prototype.FQ=function(K,o,Y){var c={d:w.I.DA,f:this.id};
if(this.ji==0){var z=d.D.P_(this.z4.ni(),this.bd),f=d.D.IU(z);c.HW={gr:f,m5:this.z4.an2(),Gf:this.z4.Dd(),oJ:this.bd.clone(),pu:this.pu}}else{c.awJ=o;
c.$I=this.Mh.Oh()}if(Y){c.Kl=["---"];for(var y=0;y<Y.Kl.length;y++)c.Kl.push(Y.Kl[y].name)}c.aaD=this.Mh!=null;
this.cN(K,w.E.L,c)};m.OB.prototype.a55=function(K,o){var Y=this.id==m.Lz,c=!0,z=this.B[0],f=K.B[z],E=null,b=null,q=null,A=null;
if(Y){this.A9=2;this.WB=K.r}else if(K.r&&this.B.length==1&&z>=0&&!f.rect.xf()){this.A9=1;this.WB=K.r;
this.Ff=f.VY;this.Ld=!1;if(!f.wN(K,K.r)){this.Ld=!0;f.kX(K,K.r,!1)}this.ZR={r4:f.VY.Hm,oJ:f.VY.dU}}else{this.A9=0;
this.a3=m.OB.LH(K,this.B,null);for(var y=0;y<this.a3.length;y++)if(this.a3[y][3]!=null)c=!1}var $=this.A9==1;
if(this.a3&&this.a3.length==1){var O=this.a3[0];if(O[2]!=null)b=O[2].Ah;if(O[3]==null)$=!0;if(O[3]!=null)q=O[3];
if(O[4]!=null){E=K.B[this.B[0]].add.SoLd;if(O[1]||O[2])$=!1}}var j=Y?K.r.rect.clone():m.OB._U(K,this.B);
this.bd=j;if(!Y&&b&&g1==1){A=b.aq6();this.X3=d.D.P_(A,this.bd)}else if(!Y&&q&&g1==1){var R=K.B[this.B[0]],q=R.add.TySh;
A=d.M.Yq(R.DM.nM).z;d.M.i(A,q.i,A);this.X3=d.D.P_(A,this.bd)}else if(!Y&&E){A=m.OB.lA(E.nonAffineTransform);
this.bd=d.M.OA(d.qN.Mu(E.quiltWarp.v)[3]);if($)this.Mh=new j0(E.quiltWarp.v);this.X3=d.D.P_(A,this.bd)}else{if($||Y)this.Mh=new j0(d.qN.R(this.bd));
this.X3=[1,0,0,0,1,0,0,0];if(this.id==m.UN)o=3;A=[j.x,j.y,j.x+j.m,j.y,j.x+j.m,j.y+j.e,j.x,j.y+j.e]}this.z4=new cD(A,!0,!0,c,!1,!1,o);
this.anB=[1,0,0,0,1,0,0,0];this.a4O(K)};m.OB.prototype.a4O=function(K){if(this.id==m.UN){var o,Y,f=null;
if(this.a3&&K.r==null){var c=this.a3[0][0],z=c.Vv;o=z[0];Y=z[1]}else if(this.ZR){o=this.ZR.r4;Y=this.ZR.oJ}if(this.gV!=0)f=K.Kl[this.gV-1].dQ(Y);
this.pE=d.vQ.a9A(o,Y.m,Y.e,f)}};m.OB._U=function(K,o){if(o==null)o=K.FK(!0,null,null,!0);var Y=new hD,c=new hD;
if(K.r&&o.length==1&&o[0]>=0)Y=K.r.rect.clone();else for(var y=0;y<o.length;y++){var z=o[y],f=0<=z?K.B[z]:-1e3<z?K.V9[-1-z]:K.Kl[-1e3-z],$=f.add?f.add.vmsk:null,E=0<=z?f.GN(K,o.length==1,!1,!0):-1e3<z?d.j.QJ($.$,o.length==1&&$.Y.length!=0?$.Y:null):f.rect.clone();
Y=Y.Bb(E);if(z>0&&f.add.artb)c=c.Bb(f.Yv())}return!c.xf()?c:Y};m.OB.prototype.cN=function(K,o,Y,c){var z=new h1(o,!0);
z.data=Y;if(c)z.f=c;K.c(z)};m.OB.LH=function(K,o,Y){var c=[];for(var y=0;y<o.length;y++){var z=o[y],f,$;
if(z>=0){f=K.B[z];$=f.m4(K,Y,!0)}else if(z>-1e3){f=K.V9[-1-z];$=[2]}else{c.push([null,null,null,null,null,null,null,K.Kl[-1e3-z].clone()]);
continue}var E=[],b=$.indexOf(0)!=-1;if(b){var q={Vv:f.add.SoLd?null:[f.buffer.slice(0),f.rect.clone()]};
E.push(q);if(f.Mn()){var O=f.wm(K);q.ai1=O.buffer.slice(0);q.abN=O.rect.clone()}}else E.push(null);if($.indexOf(1)!=-1)E.push(f.ue().clone());
else E.push(null);if($.indexOf(2)!=-1)E.push({Ah:f.add.vmsk.clone(),oc:f.add.vstk?JSON.parse(JSON.stringify(f.add.vstk)):null,fe:f.add.vstk?m.xY.AP(K,z):null,SU:f.add.vogk?JSON.parse(JSON.stringify(f.add.vogk)):null});
else E.push(null);if(f.add.TySh&&b){b_.eV(f.add.TySh);E.push(f.add.TySh.i.clone())}else E.push(null);
if(f.add.SoLd&&b)E.push(JSON.parse(JSON.stringify(f.add.SoLd)));else E.push(null);if($.indexOf(3)!=-1)E.push(f.wm(K).F.clone());
else E.push(null);if(f.add.lmfx)E.push(JSON.stringify(f.add.lmfx));else E.push(null);c.push(E)}return c};
m.OB.fp=function(K,o,Y){for(var y=0;y<o.length;y++){var c=o[y],z=0<=c?K.B[c]:-1e3<c?K.V9[-1-c]:K.Kl[-1e3-c],f=Y[y];
if(f[0]){if(f[0].Vv){z.rect=f[0].Vv[1].clone();z.buffer=f[0].Vv[0].slice(0)}if(z.Mn()){var $=z.wm(K);
$.buffer=f[0].ai1.slice(0);$.rect=f[0].abN.clone()}}if(f[1]){z.ue().channel=f[1].channel.slice(0);z.ue().rect=f[1].rect.clone();
z.ue().dw=!0}if(f[2]){z.add.vmsk=f[2].Ah.clone();if(f[2].fe)m.xY.Vx(z,f[2].fe);if(f[2].oc)z.add.vstk=JSON.parse(JSON.stringify(f[2].oc));
if(f[2].SU)z.add.vogk=JSON.parse(JSON.stringify(f[2].SU))}if(f[3]){z.add.TySh.i=f[3].clone();b_.Ac(z.add.TySh)}if(f[4]){z.add.SoLd=JSON.parse(JSON.stringify(f[4]))}if(f[5]){var E=z.wm(K).F;
E.channel=f[5].channel.slice(0);E.rect=f[5].rect.clone()}if(f[6]){z.add.lmfx=JSON.parse(f[6])}if(f[7]){z.channel=f[7].channel.slice(0);
z.rect=f[7].rect.clone();z.dw=!0}if(0<=c){z.WG(K);z.W();if(f[4])z.Mc(K,!1)}}K.W()};m.OB.$t=function(K,o,Y,c,z,f,$,E,b,q){if(typeof f[0]=="number"){var O=[];
for(var y=0;y<Y.length;y++)O[y]=f;f=O}for(var y=0;y<Y.length;y++){var j=f[y],A=d.D.IU(j),R=A._8(),g=Y[y],H=0<=g?K.B[g]:-1e3<g?K.V9[-1-g]:K.Kl[-1e3-g],i=c[y];
if(H.add&&H.add.lmfx&&E)eq.TY(H.add.lmfx,R);if(i[0]&&!i[3]&&!i[4]&&!i[5]){var h=i[0].Vv;if(b){var x=b.clone(),F=d.R(x.Z()*4);
d.iF(h[0],h[1],F,x);h=[F,x]}var X=m.OB.Gj(h,z,j,$,z==0?H.buffer.buffer:null,null,null,q);if(X){H.rect=X.rect;
H.buffer=X.buffer}}if(i[1]){var V=H.ue();m.OB.mG(K,i[1],V,z,j,$,V.wn&&$&&!d.qN.B_($)&&i[0]?i[0].Vv[1]:null);
if(b){var x=H.rect.wu(b),U=d.R(x.Z());d.u_(V.channel,V.rect,U,x);V.channel=U;V.rect=x}}if(i[2]){var Z=$&&!d.qN.B_($),T=i[2].Ah.clone(),v=Y.length==1&&T.Y.length!=0,P=Y.length==1&&T.gy.length>1;
if(P)v=!1;var p=v?T.Y:null,a=P?T.gy:null;if(Z){var D=d.qN.Mu($);d.D.i(j,D[3]);d.j.ax8(T.$,D,p,a)}else d.j.aBj(T.$,j,p,a);
if(H.add.vstk&&E){H.add.vstk.strokeStyleLineWidth.v.val=i[2].oc.strokeStyleLineWidth.v.val*R;var n=i[2].fe;
if(n&&n.ut==3){n=JSON.parse(JSON.stringify(n));var N=n.fe.phase.v;n.fe.Scl.v.val=Math.round(n.fe.Scl.v.val*R);
N.Hrzn.v=Math.round(N.Hrzn.v*R);N.Vrtc.v=Math.round(N.Vrtc.v*R);m.xY.Vx(H,n)}}if(H.add.vogk){H.add.vogk=JSON.parse(JSON.stringify(i[2].SU));
if(Z||P)d.SU.a1u(H.add.vogk);else d.SU.i(H.add.vogk,j,Y.length>1?[]:T.Y,E)}T.cG*=R;var W=new dF;W.rotate(T.T_);
W.concat(A);T.T_=Math.atan2(-W.J,W.g);H.add.vmsk=T;if(H.add.vogk)d.SU.o7(H.add.vogk,H.add.vmsk)}if(i[3]){var G=i[3].clone();
G.concat(A);H.add.TySh.i=G;b_.Ac(H.add.TySh);au.k2(H,o.zl)}if(i[4]){var l=H.add.SoLd,u=m.OB.lA(i[4].nonAffineTransform);
d.D.i(j,u);var e=d.M.MN(u);if(cD.Ai(u)){if($){var M=d.M.OA(d.qN.Mu(i[4].quiltWarp.v)[3]),U=d.D.P_(u,M),B=d.M.OA(d.qN.Mu($)[3]);
u=[B.x,B.y,B.x+B.m,B.y,B.x+B.m,B.y+B.e,B.x,B.y+B.e];d.D.i(U,u);l.quiltWarp.v=$}var s=d.D.P_(u),t=u;if(!d.D.r7(s)){s[6]=s[7]=0;
t=[0,0,1,0,1,1,0,1];d.D.i(s,t)}l.Trnf=m.OB.c5(t);l.nonAffineTransform=m.OB.c5(u);if(l.filterFX)l.filterFX=JSON.parse(JSON.stringify(i[4].filterFX));
m.OB.aq3(l,A);H.Mc(K,z==0,o.zl)}}if(i[5])m.OB.mG(K,i[5],H.wm(K).F,z,j,$);if(i[7])m.OB.mG(K,i[7],H,z,j,$);
if(0<=g){if(!q)H.sc();H.WG(K);H.W()}}K.W()};m.OB.qk=function(K,o){var Y=o._8(),c=0;d.ZN(K);var z=d.Hk(K,o,.3,4);
c=z[0];o=z[1];var f=K[c],$=K[c+1],E=$.m,b=$.e,q=d.M.Yq($).z;d.M.i(q,o,q);var O=d.M.MN(q),j=d.R(O.Z()),A=O.x,R=O.y,g=O.m,H=O.e,i=o.clone();
i.oD();var h=i.qc(new jc(0,0)),x=i.qc(new jc(1,0)),F=x.x-h.x,X=x.y-h.y;for(var V=0;V<H;V++){var U=i.g*(A+.5)+i.b0*(V+R+.5)+i.B3,Z=i.J*(A+.5)+i.gG*(V+R+.5)+i.Z7;
for(var T=0;T<g;T++){j[V*g+T]=Math.floor(.5+d.D.as$(U,Z,f,E,b));U+=F;Z+=X}}return{rect:O,channel:j}};
m.OB.Z6=function(K,o,Y,c,z,f){if(Y==null)Y=!1;return m.OB.Gj(K,Y?0:1,d.D.lK(o),null,c,z,f,Y)};m.OB.Gj=function(K,o,Y,c,z,f,$,E){if(E==null)E=!1;
if(E&&$)throw"e";var b={},O=0;if(c&&!d.qN.B_(c)){var q=d.qN.Mu(c);d.D.i(Y,q[3]);b.rect=d.M.MN(q[3]);
b.buffer=d.R(b.rect.Z()*4);d.vo.drawImage(q,K[0],K[1].m,K[1].e,b.buffer,b.rect,o==0);return b}if(d.D.r7(Y)){d.pa(K);
var j=.3,O=0,A=d.D.IU(Y),R=K[1],g=R.Z()*A._8();if(E&&g>4e6)j=g>8e6?2.2:1.2;var H=d.Hk(K,A,j,16);O=H[0];
Y=d.D.lK(H[1])}var i=K[O],R=K[O+1],h=d.D.mL(Y,d.D.lK(new dF(R.m,0,0,R.e,R.x,R.y))),x=[0,0,1,0,1,1,0,1];
d.D.i(h,x);b.rect=d.M.MN(x);if($)b.rect=b.rect.wu($);if(E){while((b.rect.m&3)!=0)b.rect.m++;while((b.rect.e&3)!=0)b.rect.e++}if(!cD.Ai(x)||b.rect.m>1e5||b.rect.e>1e5||b.rect.Z()>3e4*3e4)return null;
var F=b.rect.Z()*4;if(z&&z.byteLength>=F&&F>=z.byteLength>>2){b.buffer=new Uint8Array(z)}else{b.buffer=d.R(F)}d.D.drawImage(h,i,R.m,R.e,b.buffer,b.rect,o==0,f,E);
if(o==2&&b.buffer){var X=b.rect.m,V=b.rect.e,U;U=[0,-1,0,-1,16,-1,0,-1,0];U=d.f9.Te(U);var Z=b.buffer.slice(0);
d.f9.TQ(Z,b.buffer,X,V,U,255,!1,!0)}if(b.buffer)return b};m.OB.mG=function(K,o,Y,c,z,f,$){var E=o.rect,b=o.channel;
if($){E=$;b=o.dQ(E)}if(o.color==255)d.oD(b);var q=d.R(E.Z()*4);d.cb(b,q,3);var O=m.OB.Gj([q,E],c,z,f);
if(O){Y.rect=O.rect;Y.channel=d.R(O.rect.Z());d.JI(O.buffer,Y.channel,3);Y.dw=!0}if(o.color==255){d.oD(b);
if(O)d.oD(Y.channel)}};m.OB.aq3=function(K,o){var Y=K.filterFX;if(Y)Y=Y.v.filterFXList;if(Y)Y=Y.v;if(Y)for(var c=0;
c<Y.length;c++){var z=Y[c].v.Fltr;if(z==null||z.v.classID!="rigidTransform")continue;z=z.v;console.log(z);
var f=[];for(var $=0;$<4;$++)f.push(z["PuX"+$].v,z["PuY"+$].v);d.M.i(f,o,f);for(var $=0;$<4;$++){z["PuX"+$].v=f[$*2];
z["PuY"+$].v=f[$*2+1]}var E=["PinP","posFinalPins"],b=["originalVertexArray","deformedVertexArray"],q=z.puppetShapeList.v;
for(var O=0;O<q.length;O++){var j=q[O].v;for(var A=0;A<E.length;A++){var R=m.OB.lA(j[E[A]]);d.M.i(R,o,R);
j[E[A]]=m.OB.c5(R);var g=new Uint8Array(j[b[A]].v),H=new Float32Array(g.buffer);d.M.i(H,o,H);var i=[];
for(var h=0;h<g.length;h++)i[h]=g[h];j[b[A]].v=i}}}};m.OB.lA=function(K){var o=[],Y=K.v.length;for(var y=0;
y<Y;y++)o.push(K.v[y].v);return o};m.OB.c5=function(K){var o={t:"VlLs",v:[]},Y=K.length;for(var y=0;
y<Y;y++)o.v.push({t:"doub",v:K[y]});return o};m.OB.prototype.asV=function(){var K=d.M.OA(d.qN.Mu(this.Mh.Oh())[3]),o=d.D.P_(this.z4.ni(),this.bd),Y=[K.x,K.y,K.x+K.m,K.y,K.x+K.m,K.y+K.e,K.x,K.y+K.e];
d.D.i(o,Y);this.z4.uG(Y);this.bd=K};m.OB.prototype.q7=function(K,o,Y,c){var z=d.D.P_(this.z4.ni(),this.bd);
z=d.D.mL(z,d.D.oD(this.X3));var f=this.Mh?this.Mh.Oh():null;if(this.A9==0){var $=this.vu=d.D.IU(z);if(this.id==m.UN){var E=this.a3[0][0],b=E.Vv,q=b[1],O=~~(q.m*Math.max(0,$.g)),j=~~(q.e*Math.max(0,$.gG)),A=new hD(Math.round($.g*q.x+$.B3),Math.round($.gG*q.y+$.Z7),O,j),R=d.vQ.i(this.pE,A),g=K.B[this.B[0]];
g.buffer=R;g.rect=A;g.W();K.W()}else m.OB.$t(K,o,this.B,this.a3,Y,z,f,null,null,c)}else if(this.A9==1){var H=K.B[this.B[0]],q=this.ZR.oJ;
if(H.xO<=0){var i=this.ZR.r4,h=this.WB,x=null;if(f&&!d.qN.B_(f)&&!h.rect.BV(q)){var R=d.R(h.rect.Z()*4);
d.iF(i,q,R,h.rect);i=R;q=h.rect}if(this.id==m.UN){var $=this.vu=d.D.IU(z),O=~~(q.m*Math.max(0,$.g)),j=~~(q.e*Math.max(0,$.gG)),A=new hD(Math.round($.g*q.x+$.B3),Math.round($.gG*q.y+$.Z7),O,j),R=d.vQ.i(this.pE,A);
x={buffer:R,rect:A}}else x=m.OB.Gj([i,q],Y,z,f);if(x){H.VY.Hm=x.buffer;H.VY.dU=x.rect;var F=d.R(x.rect.Z());
d.JI(H.VY.Hm,F,3);K.r={channel:F,rect:H.VY.dU.clone()}}}else{var X=d.R(q.Z()*4);d.cb(this.ZR.r4,X,3);
var x=m.OB.Gj([X,q],Y,z,f);if(x){H.VY.Hm=d.R(x.rect.Z());d.JI(x.buffer,H.VY.Hm,3);H.VY.dU=x.rect}this.a37(K,Y,z,f)}H.aT(K,0,0,K.r);
if(Y!=0){H.sc();d.sc(K.r)}K._t=!0;K.W()}else if(this.A9==2)this.a37(K,Y,z,f)};m.OB.prototype.a37=function(K,o,Y,c){var z=this.WB.rect,f=d.R(z.Z()*4);
d.cb(this.WB.channel,f,3);var $=m.OB.Gj([f,z],o,Y,c),E=d.R($.rect.Z());d.JI($.buffer,E,3);K.r={channel:E,rect:$.rect};
K._t=!0};m.OB.prototype.disable=function(K,o,Y,c){if(this.z4)this.U_(K,o,null,!0)};m.aku=function(){m.OB.call(this,[10,16],m._6,"tools/transform")};
m.aku.prototype=new m.OB;m.aCo=function(){m.OB.call(this,[7,10],m.Lz,"tools/transform")};m.aCo.prototype=new m.OB;
m.atv=function(){m.OB.call(this,[10,48],m.UN,"tools/transform")};m.atv.prototype=new m.OB;m.Cc=function(K,o,Y){m.Fh.call(this,[10,46],m.AF,"tools/transform");
this.u6=[1,1,2,!0];this.pl="rigidTransform";this.Ic=null;this.adg=null;this.Kg=null;this.U5=null;this.q6=null;
this.XY=null;this.hd=[]};m.Cc.prototype=new m.Fh;m.Cc.prototype.$l=function(){return!0};m.Cc.are=function(K){if(K==null)return!1;
if(K.Y.length!=1)return!1;var o=K.B[K.Y[0]];return o.add.SoLd||K.WM(!1)};m.Cc.prototype.IA=function(K,o){return m.Cc.are(K)};
m.Cc.prototype.enable=function(K,o,Y,c,z,f,$){this.adg=f.Qz;var E=f.Qz,b,H=null;if(E){var q=K.B[E.a];
if(q.add.SoLd.filterFX!=null){var O=q.add.SoLd.filterFX.v.filterFXList.v;if(O[E.index])b=JSON.parse(JSON.stringify(O[E.index].v.Fltr.v))}}var j=b==null,q=K.B[K.Y[0]],A=q.buffer,R=q.rect,g=q.add.SoLd;
if(g){var i=g.nonAffineTransform.v;H=[];for(var y=0;y<4;y++)H.push(i[y*2].v,i[y*2+1].v);if(j)this.s0("edit",o);
var h=q.wm(K);A=h.buffer;R=h.rect}this.Ic={buffer:A.slice(0),rect:R.clone(),a4a:H};if(j)b=m.Cc.ST(this.Ic,this.u6);
this.Kg=b;this.U5=m.Cc.S$(this.Kg,this.u6);this.tQ();this.os(K);if(j)this.nF(o);var x=new h1(w.E.L,!0);
x.data={d:w.I.DA,f:this.id,VS:this.u6};o.c(x);x.data={d:w.I.eZ,gg:"default"};o.c(x)};m.Cc.prototype.disable=function(K,o,Y,c){if(this.U5)this.U_(K,o,!0)};
m.Cc.prototype.tQ=function(K){var o=this.U5;this.hd=[];for(var y=0;y<o.length;y++){var Y=o[y];for(var c=0;
c<Y.Y.length;c++)this.hd.push([y,Y.Y[y]]);Y.I$=d.dO.afb(Y);if(K)d.dO.aAl(Y)}};m.Cc.prototype.SX=function(K,o,Y,c){if(K.$z=="commit")this.U_(Y,o,!0);
else if(K.$z=="cancel")this._z(Y,o,!0);else if(K.$z=="prm"){var z=!1;for(var y=0;y<3;y++)if(this.u6[y]!=K.VS[y])z=!0;
this.u6=K.VS;if(z){this.Kg=m.Cc.ST(this.Ic,this.u6,this.Kg);this.U5=m.Cc.S$(this.Kg,this.u6);this.tQ(!0);
this.nF(o)}this.os(Y)}else if(K.$z=="moveDepth"){var f=this.U5;for(var $=0;$<f.length;$++){var E=f[$];
for(var y=0;y<E.Y.length;y++){var b=E.Y[y];E.yv[b]+=K.a9n?1:-1}}this.nF(o)}};m.Cc.prototype.rC=function(K,o){return K==a1.v1||K==a1.QC};
m.Cc.prototype.Ed=function(K,o,Y,c){var z=c.iV();if(c.S(a1.C4))this.U_(K,o,!0);else if(c.S(a1.Xg))this._z(K,o,!0);
else if(c.S(a1.v1)||c.S(a1.QC)){var f=this.U5;for(var $=0;$<f.length;$++){var E=f[$];E.Y.sort(function(O,j){return j-O});
for(var y=0;y<E.Y.length;y++){var b=E.Y[y],q=b*2;E.yv.splice(b,1);E.EF.splice(b,1);E.A3.splice(b,1);
E.mf.splice(b,1);E.wP.splice(q,2);E.ZU.splice(q,2)}E.Y=[];if(E.mf.length==0){E._2=E.Dl.slice(0);E.p6=E.Dl.slice(0)}}this.tQ(!0);
this.nF(o);this.os(K)}else if(z.x!=0||z.y!=0){this.aoF(K,z.x,z.y,o);this.KX=null}};m.Cc.prototype.U_=function(K,o,Y){this.s0("confirm",o);
this.escape(K,o,Y)};m.Cc.prototype._z=function(K,o,Y){this.s0("cancel",o);this.escape(K,o,Y)};m.Cc.prototype.escape=function(K,o,Y){K.N.AE=null;
K.N.EV=[];K.N._4=[];K.px=!0;this.U5=null;var c=new h1(w.E.L,!0);c.data={d:w.I.LS};if(Y)o.c(c)};m.Cc.prototype.tx=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=f.x,E=f.y,b=this.U5,q=null,O=[0,2,4,1.2,1.2,1.2],j=-1,A=m.bE(K,z);
for(var y=0;y<b.length;y++){var R=b[y],g=d.M.y7(R.ZU,$,E,A);if(g!=-1)q=[y,g];if(j==-1&&d.dO.axq.ax5(R.p6,R.HK,$,E))j=y}if(q==null&&j!=-1){var R=b[j];
m.Cc.afp(R,$,E,$,E,0);q=[j,R.mf.length-1];R.I$=d.dO.afb(R)}this.q6=f;if(q){var H=b[q[0]].Y.indexOf(q[1])!=-1;
if(c.S(a1.jR)&&!H){b[q[0]].Y.push(q[1]);this.hd.push(q)}else if(!H){b[q[0]].Y=[q[1]];this.hd=[q]}}this.os(K)};
m.Cc.afp=function(K,o,Y,c,z,f){var $=d.M.y7(K.p6,o,Y);K.mf.push($);K.ZU.push(c,z);K.wP.push(K.p6[$*2]-o,K.p6[$*2+1]-Y);
K.A3.push(0);K.EF.push(!1);K.yv.push(f)};m.Cc.prototype.D3=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=this.q6;
if($)this.aoF(K,f.x-$.x,f.y-$.y,o)};m.Cc.prototype.aoF=function(K,o,Y,c){var z={},f=this.hd,$=this.U5;
if(this.KX==null){this.KX=[];for(var y=0;y<$.length;y++)this.KX.push($[y].ZU.slice(0))}for(var y=0;y<f.length;
y++){var E=this.hd[y],b=E[0],q=$[E[0]],O=E[1]*2;q.ZU[O+0]=this.KX[b][O+0]+o;q.ZU[O+1]=this.KX[b][O+1]+Y;
z[b]=b}for(var b in z)d.dO.aAl(this.U5[z[b]]);this.os(K);this.nF(c)};m.Cc.prototype.s0=function(K,o){var Y=new h1(w.E.U,!0);
Y.f=m.lj;Y.data={d:K,Qz:this.adg,pl:this.pl,ii:this.Kg};o.c(Y)};m.Cc.prototype.pt=function(K,o,Y,c,z){this.q6=null;
this.KX=null};m.Cc.prototype.nF=function(K){m.Cc.amz(this.U5,this.u6,this.Kg);this.s0("edit",K)};m.Cc.prototype.os=function(K){var o=this.U5,Y=this.Kg;
K.N.AE={z:[],G:[]};K.N.EV=[];K.N._4=[];for(var y=0;y<o.length;y++){var c=o[y];for(var z=0;z<c.ZU.length;
z+=2){var f=K.N._4;if(c.Y.indexOf(z>>>1)!=-1)f=K.N.EV;f.push(c.ZU[z],c.ZU[z+1])}if(this.u6[3])d.M.concat(K.N.AE,d.M.av1(c.p6,c.HK))}K.px=!0};
m.Cc.ST=function(K,o,Y){var c=K.buffer,z=K.rect,f=K.a4a,$=fn.Ta("rigidTransform");if(f)for(var y=0;y<4;
y++){$["PuX"+y].v=f[y*2];$["PuY"+y].v=f[y*2+1]}var E=$.puppetShapeList.v,b=d.dO.akZ(c,z.m,z.e,o[1],o[2]),q=[];
for(var O=0;O<b.length;O++){var j={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
j.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var A=b[O];E.push({t:"Objc",v:j});var R=A.Dl.slice(0);d.M.i(R,new dF(1,0,0,1,z.x,z.y),R);var g=A.HK;
for(var y=0;y<g.length;y+=3){var H=g[y+1];g[y+1]=g[y+2];g[y+2]=H}q.push({HK:g,Dl:R,_2:R,p6:R,mf:[],wP:[],ZU:[],I$:null,Y:[],A3:[],EF:[],yv:[]})}if(Y){var i=m.Cc.S$(Y,[]),h=q[0];
for(var y=0;y<i.length;y++){var x=i[y];for(var F=0;F<x.Y.length;F++)h.Y.push((h.ZU.length>>>1)+x.Y[F]);
for(var F=0;F<x.mf.length;F++){var X=x.mf[F]*2,V=x.Dl[X]-x.wP[F*2],U=x.Dl[X+1]-x.wP[F*2+1];m.Cc.afp(h,V,U,x.ZU[F*2],x.ZU[F*2+1],x.yv[F])}}}m.Cc.amz(q,o,$);
return $};m.Cc.S$=function(K,o){var Y=m.OB.lA,c=K.puppetShapeList.v,z=[];for(var f=0;f<c.length;f++){var $=c[f].v;
o[0]=$.meshRigidity.v-1;o[1]=$.meshQuality.v-1;o[2]=$.meshExpansion.v;var E=$.pinVertexIndices.v.length,b=$.meshBoundaryPath.v.pathComponents.v;
if(b.length!=0){var q=b[0].v.SbpL.v[0].v.Pts;q.v=[]}var O=new Uint32Array(new Uint8Array($.indexArray.v).buffer),j=new Float32Array(new Uint8Array($.originalVertexArray.v).buffer),A=new Float32Array(new Uint8Array($.deformedVertexArray.v).buffer),R=[],g=[],H=[];
for(var y=0;y<O.length;y++)R.push(O[y]);for(var y=0;y<j.length;y++){g.push(j[y]);H.push(A[y])}var i=Y($.pinVertexIndices),h=Y($.pinOffsets),x=Y($.posFinalPins),F=Y($.PnRt),X=Y($.PnOv),V=Y($.PnDp),U=Y($.selectedPin);
z.push({HK:R,Dl:g,_2:H.slice(0),p6:H,mf:i,wP:h,ZU:x,I$:null,A3:F,EF:X,yv:V,Y:U})}return z};m.Cc.amz=function(K,o,Y){function c(A,R){var g=[];
for(var y=0;y<A.length;y++)g.push({t:R,v:A[y]});return g}function z(A,R,g){var H=new(g?Uint32Array:Float32Array)(A),i=new Uint8Array(H.buffer);
for(var y=0;y<i.length;y++)R[y]=i[y]}var f=Y.puppetShapeList.v;for(var $=0;$<f.length;$++){var E=K[$],b=f[$].v;
b.meshRigidity.v=o[0]+1;b.meshQuality.v=o[1]+1;b.meshExpansion.v=o[2];z(E.HK,b.indexArray.v,!0);z(E.Dl,b.originalVertexArray.v);
z(E.p6,b.deformedVertexArray.v);var q=[];for(var y=0;y<E.mf.length;y++){var O=E.mf[y]*2,j=y*2;q[j]=E.Dl[O]-E.wP[j];
q[j+1]=E.Dl[O+1]-E.wP[j+1]}b.PinP.v=c(q,"doub");b.pinVertexIndices.v=c(E.mf,"long");b.pinOffsets.v=c(E.wP,"doub");
b.posFinalPins.v=c(E.ZU,"doub");b.PnRt.v=c(E.A3,"long");b.PnOv.v=c(E.EF,"bool");b.PnDp.v=c(E.yv,"doub");
b.selectedPin.v=c(E.Y,"long")}};m.F$=function(K,o,Y){m.Fh.call(this,K?K:[10,40],o?o:m.YM,Y?Y:"tools/slice");
this.$S=null;this.qT=null;this.xb=null;this.acC=null;this.hI=null;this.Bl=null};m.F$.prototype=new m.Fh;
m.F$.R9=function(K,o){var Y=-1;for(var y=0;y<K.length;y++){var c=m.F$.nL(K,y);if(c[0]<=o.x&&o.x<=c[2]&&c[1]<=o.y&&o.y<=c[3]){Y=y;
break}}return Y};m.F$.prototype.yx=function(K,o,Y,c,z){if(Y==null)return;this.Tm(Y);if(K.d=="fromAction"){var f=K.Sv,$=f.Rk,E=f.jU,b=Y.Jm(),q=Y.pH(),O=q==-1?new hD(0,0,Y.m,Y.e):Y.B[q].Yv();
if($=="divide"){if(Y.V4.length!=0){var j=Y.V4[0],A=m.F$.nL(Y.FT,j);O=new hD(A[0],A[1],A[2]-A[0],A[3]-A[1]);
Y.FT.splice(j,1);Y.V4=[]}b=[[],[]];for(var R=0;R<2;R++){var g=["Across","Down"][R],H=E["pixels"+g]?0:1,i=E[["pixels","slices"][H]+g];
if(i==null)continue;i=i.v;var h=R==0?O.x:O.y,x=R==0?O.m:O.e;if(H==0)for(var y=1;y*i<x;y++){b[0].push([R,h+y*i]);
b[1].push(q)}else{var F=Math.floor(x/i);for(var y=1;y<i;y++){b[0].push([R,h+y*F]);b[1].push(q)}}}}var X=[O.x,O.x+O.m],V=[O.y,O.y+O.e];
for(var y=0;y<b[0].length;y++){var U=b[0][y],Z=Math.round(U[1]),T=b[1][y];if(T!=-1&&T!=q)continue;if(U[0]==0&&X.indexOf(Z)==-1)X.push(Z);
if(U[0]==1&&V.indexOf(Z)==-1)V.push(Z)}X.sort(function(l,u){return l-u});V.sort(function(l,u){return l-u});
for(var v=1;v<V.length;v++)for(var P=1;P<X.length;P++){Y.FT.push(m.F$.mb());m.F$.KR(Y.FT,Y.FT.length-1,[X[P-1],V[v-1],X[P],V[v]]);
Y.px=!0}}else if(K.d=="reorder"){if(Y.V4.length==0)return;var p=Y.FT,a=Y.V4;a.sort(function(l,u){return l-u});
console.log(a);var D=p.slice(0),n=[],N=[];for(var y=0;y<a.length;y++){var j=a[y],W=p[j];N.push(W);D.splice(D.indexOf(W),1)}var G=Math.max(0,Math.min(D.length,a[0]-K.dir));
for(var y=0;y<N.length;y++){D.splice(G+y,0,N[y]);n.push(G+y)}Y.FT=D;Y.V4=n}else if(K.d=="delete"){var p=Y.FT.slice(0);
for(var y=0;y<Y.V4.length;y++)Y.FT.splice(Y.FT.indexOf(p[Y.V4[y]]),1);Y.V4=[]}else if(K.d=="deleteAll"){Y.FT=[];
Y.V4=[]}else{Y.FT[Y.V4[0]].v=K;Y.px=!0}this.HQ(Y)};m.F$.prototype.enable=function(K,o,Y,c,z,f){m.Fh.prototype.enable.call(this,K,o,Y,c,z,f);
if(!Y.EU.FT){var $=new h1(w.E.L,!0);$.data={d:w.I.Ak,VS:bB.XO};o.c($)}};m.F$.prototype.disable=function(){this.$S=null;
this.qT=null};m.F$.prototype.aj=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=m.F$.R9(K.FT,f);if($==-1)return;
this.$S=K;this.qT=o;K.V4=[$];K.px=!0;if(this.Bl==null){this.Bl=new gq([{name:[5,4]},{name:[8,11,1],j_:!0}]);
this.Bl.k("select",this.CA,this)}var E=this.Bl;E.parent=o;E.t();E.update(K,Y);var b=new h1(w.E.L,!0);
b.data={d:w.I.FY,A_:E,x:z.w$+2,y:z.dn+1};o.c(b)};m.F$.prototype.CA=function(K){var o=this.Bl.kW()[0],Y=this.$S;
if(o==0){this.Tm(Y);Y.FT.splice(Y.V4[0],1);Y.V4=[];Y.px=!0;this.HQ(Y)}if(o==1){var c=new h1(w.E.L,!0);
c.data={d:w.I.Gg,XQ:"soptions",b:Y.FT[Y.V4[0]].v};this.qT.c(c)}};m.F$.prototype.tx=function(K,o,Y,c,z){if(K==null)return;
this.Tm(K);var f=K.Q.oh(z.x,z.y);f=m.sq.$n(K,f,Y,[!0,null,!1]);f.x=Math.round(f.x);f.y=Math.round(f.y);
this.hI=f;K.FT.unshift(m.F$.mb());K.V4=[0];m.F$.KR(K.FT,0,[f.x,f.y,f.x+20,f.y+20]);K.px=!0};m.F$.prototype.D3=function(K,o,Y,c,z){if(this.xb==null)return;
var f=K.Q.oh(z.x,z.y),$=this.hI;f=m.sq.$n(K,f,Y,[!0,null,!1]);f.x=Math.round(f.x);f.y=Math.round(f.y);
var E=[$.x,$.y,f.x,f.y];m.F$.a0E(E);m.F$.KR(K.FT,0,E);K.px=!0};m.F$.prototype.pt=function(K,o,Y,c,z){this.HQ(K);
this.hI=null};m.F$.prototype.Tm=function(K){this.xb=JSON.stringify(K.FT);this.acC=JSON.stringify(K.V4)};
m.F$.prototype.HQ=function(K){var o=JSON.stringify(K.FT);if(o!=this.xb){var Y=new dE(this.name,this);
Y.data={ZR:this.xb,vi:o,ajv:this.acC,anL:JSON.stringify(K.V4)};K.iy(Y)}this.xb=null};m.F$.prototype.mt=function(K,o){o.FT=JSON.parse(K.ZR);
o.V4=JSON.parse(K.ajv);o.px=!0};m.F$.prototype.PZ=function(K,o){o.FT=JSON.parse(K.vi);o.V4=JSON.parse(K.anL);
o.px=!0};m.F$.prototype.rC=function(K,o){return o!=null&&o.V4.length!=0&&(K==a1.v1||K==a1.QC)};m.F$.prototype.Ed=function(K,o,Y,c){if(K==null)return;
if(c.S(a1.v1)||c.S(a1.QC))this.yx({d:"delete"},o,K,c,Y);var z=c.iV();if(z.x!=0||z.y!=0){this.Tm(K);m.F$.sM(K,z);
this.HQ(K)}};m.F$.prototype.SX=function(K,o,Y,c,z){};m.F$.aiv=function(K,o,Y,c){var z=new jc(-o.x,-o.y),f=o.m/Y.m,$=o.e/Y.e,E=[0,0,o.m,o.e];
for(var y=0;y<K.length;y++){var b=m.F$.nL(K,y);if(c){b[0]=Math.round(b[0]*f);b[1]=Math.round(b[1]*$);
b[2]=Math.round(b[2]*f);b[3]=Math.round(b[3]*$)}else{m.F$.zk(b,z);m.F$.ats(b,E)}if(b[0]>=b[2]||b[1]>=b[3]){K.splice(y,1);
y--;continue}m.F$.KR(K,y,b)}};m.F$.sM=function(K,o){var Y=K.FT;for(var y=0;y<K.V4.length;y++){var c=m.F$.nL(Y,K.V4[y]);
m.F$.zk(c,o);m.F$.KR(Y,K.V4[y],c)}};m.F$.ats=function(K,o){if(K[0]<o[0])K[0]=o[0];if(K[1]<o[1])K[1]=o[1];
if(o[2]<K[2])K[2]=o[2];if(o[3]<K[3])K[3]=o[3]};m.F$.zk=function(K,o){K[0]=Math.round(K[0]+o.x);K[2]=Math.round(K[2]+o.x);
K[1]=Math.round(K[1]+o.y);K[3]=Math.round(K[3]+o.y)};m.F$.KR=function(K,y,o){var Y=K[y].v.bounds.v;Y.Left.v=o[0];
Y.Top.v=o[1];Y.Rght.v=o[2];Y.Btom.v=o[3]};m.F$.nL=function(K,y){var o=K[y].v.bounds.v;return[o.Left.v,o.Top.v,o.Rght.v,o.Btom.v,y]};
m.F$.a0E=function(K){if(K[2]<K[0]){var o=K[0];K[0]=K[2];K[2]=o}if(K[2]==K[0])K[2]++;if(K[3]<K[1]){var o=K[1];
K[1]=K[3];K[3]=o}if(K[3]==K[1])K[3]++};m.F$.OA=function(K,o){var Y=1e9,c=-1e9,z=1e9,f=-1e9;for(var y=0;
y<o.length;y++){var $=m.F$.nL(K,o[y]);Y=Math.min(Y,$[0]);z=Math.min(z,$[1]);c=Math.max(c,$[2]);f=Math.max(f,$[3])}return[Y,z,c,f]};
m.F$.mb=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
m.N_=function(){m.F$.call(this,[10,41],m.GC,"tools/sselect");this.hI=null;this.DG=null;this.fl=null;
this.XY=null;this.Y2=!1};m.N_.prototype=new m.F$;m.N_.prototype.tx=function(K,o,Y,c,z){if(K==null)return;
var f=K.Q.oh(z.x,z.y),$=m.N_.a4q(f,4/K.Q.O,K.FT,K.V4);$.pop();if($.length!=0){this.hI=f;this.fl=$;this.Tm(K);
return}var E=K.FT,b=m.F$.R9(E,f);if(b==-1)K.V4=[];else{var q=K.V4.indexOf(b);if(c.S(a1.jR)){if(q==-1)K.V4.push(b);
else K.V4.splice(q,1)}else{K.V4.sort(function(H,i){return H-i});if(q==-1)K.V4=[b];this.hI=f;this.Tm(K);
this.DG=m.F$.OA(E,K.V4);this.XY=[];for(var y=0;y<K.V4.length;y++)this.XY.push(m.F$.nL(E,K.V4[y]));if(c.S(a1.cV)){var O=E.slice(0),j=K.V4,A=[];
for(var y=0;y<j.length;y++){var b=j[y],R=O[b],g=E.indexOf(R);A.push(g);E.splice(g,0,JSON.parse(JSON.stringify(R)))}K.V4=A}}}K.px=!0};
m.N_.prototype.D3=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y);if(this.hI==null){var $=m.N_.a4q(f,4/K.Q.O,K.FT,K.V4),E=$.pop(),b=$.length==0?"default":["ew","nwse","ns","nesw"][E]+"-resize",q=new h1(w.E.L,!0);
q.data={d:w.I.eZ,gg:b};o.c(q);return}if(!this.Y2&&f.BV(this.hI))return;this.Y2=!0;var O=K.FT,$=this.fl;
if($){f=m.sq.$n(K,f,Y,[!0,null,!1]);var j=Math.round(f.x),R=Math.round(f.y);for(var y=0;y<$.length;y+=2){var g=m.F$.nL(O,$[y]),H=$[y+1];
g[H]=(H&1)==0?j:R;m.F$.a0E(g);m.F$.KR(O,$[y],g)}}else{var i=f.km(this.hI),h=this.DG.slice(0);m.F$.zk(h,i);
var x=new hD(h[0],h[1],h[2]-h[0],h[3]-h[1]),F=m.sq.z$(K,x,Y,[!0,null,!1],!0);m.sq.H5(K,x,F);i.x+=F[0];
i.y+=F[1];for(var y=0;y<K.V4.length;y++)m.F$.KR(O,K.V4[y],this.XY[y]);m.F$.sM(K,i)}K.px=!0};m.N_.prototype.pt=function(K,o,Y,c,z){if(this.hI==null)return;
this.HQ(K);K.N.Qm=null;K.px=!0;this.hI=null;this.fl=null;this.XY=null;this.Y2=!1};m.N_.a4q=function(K,o,Y,c){var z=K.x,f=K.y,$=[],E=-1,b=[];
for(var y=0;y<c.length;y++){var q=c[y],O=m.F$.nL(Y,q),j=O[0],A=O[1],R=O[2],g=O[3];if(z<j-o||R+o<z||f<A-o||g+o<f)continue;
var H=[z<j+o,f<A+o,R-o<z,g-o<f],i=-1;for(var h=0;h<4;h++){if(H[h]&&H[h+1&3])i=1+2*(h&1);if(H[h])$.push(q,h)}if(i==-1){if(H[0]||H[2])i=0;
if(H[1]||H[3])i=2}if(i!=-1){E=i;b.push(q)}}var x=$.length;for(var y=0;y<x;y+=2){var q=$[y],F=$[y+1],X=m.F$.nL(Y,q)[F];
for(var h=0;h<c.length;h++){var V=c[h];if(b.indexOf(V)!=-1)continue;var O=m.F$.nL(Y,V);if(O[F&1]==X)$.push(V,F&1);
if(O[2+(F&1)]==X)$.push(V,2+(F&1))}}$.push(E);return $};m.ZZ=function(){m.PP.call(this,[10,44],m.auW,"tools/oselect");
this.yR="crosshair";this.aiR=0};m.ZZ.prototype=new m.PP;m.ZZ.prototype.dl=function(K,o,Y,c){if(Math.random()<1/(1+this.aiR)){alert("The cross should be fully inside the object.",3500);
this.aiR++}};m.ZZ.prototype.iM=function(K,o,Y,c){m.u$.Bz(K,m.PP.sz,this.qT);if(!c.WR||!this._o)return;
var z=this._U(K,Y,!1),f=z.m,$=z.e,E=z.x,b=z.y,q=z.x+f,O=z.y+$,j=E+f/2,A=b+$/2,R=m.ZZ.a9B;K.N.AE={z:[E,b,q,b,q,O,E,O,j-f*R,A,j+f*R,A,j,A-$*R,j,A+$*R],G:"M L L L Z M L M L".split(" ")};
K.px=!0};m.ZZ.a9B=.12;m.ZZ.prototype.hz=function(K,o,Y,c){K.N.AE=null;K.px=!0;this.finish(K,o,Y,c)};
m.ZZ.prototype.getSelection=function(K,o,Y,c){if(this.e8.BV(this.Xx)||!this._o)return null;var z=this._U(K,Y,!1),f=K.B[K.Y[0]];
if(z.xf()||!z.wR(f.rect))return null;return m.PP.bI("ObSl",z)};m.u$=function(){m.oC.call(this,[10,37],m.$x,"tools/qselect");
this.rf="qselect"};m.u$.prototype=new m.oC;m.u$.prototype.tx=function(K,o,Y,c,z){m.u$.Bz(K,m.PP.sz,o,!0);
this.Lm(K,Y,c,z,1);if(this.Ty==null)return;this.Rx(K)};m.u$.prototype.D3=function(K,o,Y,c,z){this.oP(K,o,Y);
m.u$.Bz(K,m.PP.sz,o);if(this.sI)this.$M(K,Y,z);if(this.Ty==null)return;if(!z.WR)return;var f=this.xa(K,Y,c,z);
if(f!=1)this.Rx(K)};m.u$.Bz=function(K,o,Y,c){if(K&&o.key!=m.u$.aQ(K)){o.key=m.u$.aQ(K);var z=K.B[K.Y[0]].rect.Z(),$="Image Analysis ...";
if(z==0)return;var f=z>1e6&&c!=!0,E=new h1(w.E.L,!0);E.data={d:w.I.Cj,vU:$};if(f)Y.c(E);var b=function(){var q=m.u$.aCI(K);
for(var O in q)o[O]=q[O];var E=new h1(w.E.L,!0);E.data={d:w.I.fy,vU:$};if(f)Y.c(E)};if(c)b();else setTimeout(b,30)}};
m.u$.aQ=function(K){var o=K.Y[0],Y=K.B[o],c=Y.rect,z=c.m,f=c.e,$=z*f,E=Y.buffer;return[o,c.x,c.y,z,f,E[0],E[1],E[2],E[3]].join(",")};
m.u$.aCI=function(K){var o=K.Y[0],Y=K.B[o],c=Y.rect,z=c.m,f=c.e,$=z*f,E=Y.buffer,b=Date.now(),q=d.R($);
q.fill(128);var O=d.RK.Xr(E,z,f);console.log(Date.now()-b);var j={key:m.u$.aQ(K),nN:E,rect:c.clone(),Fv:z,jd:f,rk:12,P6:q,i3:O,r:d.R($),_b:null,CJ:null,gm:null};
m.u$.wG(j,null,K);return j};m.u$.wG=function(K,o,Y){var c=K.Fv,z=K.jd,f=0,$=0,E=Date.now(),b=K._b!=null&&d.RK.yN(K._b.HK,K._b.kl,K.P6)==-1;
f=Date.now()-E;E=Date.now();if(!b){var q=d.RK.yN(K.i3.HK,K.i3.kl,K.P6),O=0;while(q!=-1){var j=[],A=[],R=K.i3.HK;
for(var g=0;g<z;g++)for(var H=0;H<c;H++){var y=g*c+H;if(R[y]==q){var i=K.P6[y];if(i==0)j.push(H,g);if(i==255)A.push(H,g)}}var h=Y.B[Y.Y[0]],x=h.buffer;
d.RK.Xr.GF(x,c,z,K.i3,j,A);q=d.RK.yN(K.i3.HK,K.i3.kl,K.P6);O++;if(O>=10){console.log("too many subdivisions");
break}}K._b=d.RK.C_(K.i3,c,z,K.P6,K.rk);K.CJ=d.RK.aj8(K.nN,c,z,K._b.HK,K._b.kl);K.gm=[K.CJ[0].slice(0),[]];
$=Date.now()-E;E=Date.now()}var E=Date.now();if(o){K.gm[0].set(K.CJ[0]);var F=K.CJ[1],X=K.gm[1];for(var V=0;
V<F.length;V++)X[V]=F[V].slice(0);d.RK.aA9(K._b.HK,c,z,K._b.kl,K.P6,K.r,K.gm)}};m.J_=function(){m.Fh.call(this,[10,50],m.qd,"tools/artb");
this.JH=null;this.Kb=!1;this.z4=null;this.jD=!1;this.aB4=null;this.EB=100;this.g4=null;this.jh=0};m.J_.prototype=new m.Fh;
m.J_.prototype.yx=function(K,o,Y,c,z){this.Qb(Y,K.a45,o,K.aZ)};m.J_.aqm=function(K,o){var Y=K[0],c=0,z=0;
if(Y==0)z=-1;else if(Y==1)c=1;else if(Y==2)z=1;else c=-1;return[20/o.Ql,K[1]+c*60/o.Ql,K[2]+z*60/o.Ql]};
m.J_.prototype.SX=function(K,o,Y,c,z){this.JH=K.VS;this.jh=Date.now()};m.J_.prototype.Ok=function(K,o,Y,c){if(Y.i5!=this.id)return;
if(K==null||K.Y.length!=1){this.rX(K);return}var z=K.Y[0],f=K.B[z],$=f.add.artb;if($==null){this.rX(K);
return}if(this.jD)return;if(Date.now()-this.jh>50){this.JH={};var E=["artboardBackgroundType","Clr"];
for(var y=0;y<E.length;y++)if($[E[y]])this.JH[E[y]]=JSON.parse(JSON.stringify($[E[y]]));var b=new h1(w.E.L,!0);
b.data={d:w.I.DA,f:this.id,kM:this.JH};o.c(b)}var q=f.Yv(),O=d.M.Yq(q).z,j=this.z4=new cD(O,!0,!1,!1,!0,!1,3,!1);
j.rb(K,Y,!1);var R={z:[1,0],G:["M"]};for(var y=1;y<30;y++){var g=Math.PI*2*y/30;R.z.push(Math.cos(g),Math.sin(g));
R.G.push("L")}R.G.push("Z","M","L","M","L");R.z.push(-.5,0,.5,0,0,-.5,0,.5);var H=q.x+q.m/2,i=q.y+q.e/2,h=this.EB*1.1,x=this.aB4=[H,q.y,q.x+q.m,i,H,q.y+q.e,q.x,i],F=[0,-h,h,0,0,h,-h,0],X=K.root.children;
K.N.Uq=[];for(var y=0;y<4;y++){var V=new jc(x[y*2]+F[y*2],x[y*2+1]+F[y*2+1]),U=!1;for(var Z=0;Z<X.length;
Z++){var f=X[Z].a;if(f.add.artb==null)continue;var q=f.Yv();if(q.Tz(V))U=!0}if(U){x[y*2]=1e9;continue}K.N.Uq.push([y,x[y*2],x[y*2+1]])}};
m.J_.prototype.disable=function(K,o,Y,c,z){this.rX(K)};m.J_.prototype.rX=function(K){if(this.z4){this.z4.clear(K);
this.z4=null;K.N.Uq=null}};m.J_.prototype.tx=function(K,o,Y,c,z){this.jh=Date.now();var f=K.Q.oh(z.x,z.y),$=this.z4;
if($){var E=new h1(w.E.U),b=$.a84(null,f,K,z);if(b<9){this.jD=$.tx(K,Y,c,f,null,!0,z);return}else if($.RW(f)){E.f=m.Wh;
E.data={d:"disabAuto"};o.c(E);var q=new h1(w.E.L);q.data={d:w.I.NR,f:m.Wh,aaF:!0};o.c(q);return}else{var O=-1,j=K.N.Uq;
for(var y=0;y<j.length;y++){var R=m.J_.aqm(j[y],K.Q);if(jc.si(f,new jc(R[1],R[2]))<R[0])O=j[y][0]}if(O!=-1){var g=K.B[K.Y[0]].Yv(),H=g.clone(),i=(O==0||O==2?g.e:g.m)+this.EB;
if(O==0||O==3)i=-i;if(O==0||O==2)g.y+=i;else g.x+=i;if(c.S(a1.cV)){var h=new hD(0,0,K.m,K.e);E.f=m._V;
E.data={d:S.Rz};o.c(E);m.sq.xH(K,K.FK(null,K.Y[0],null,!0),null,g.x-H.x,g.y-H.y);K.Y=K.Y.slice(K.Y.length-1);
var x=m.XX.xQ(K);if(x){var F=K.VE();F.data.bd=h;F.data.LI=x;F.data.Ye=K.Y}}else this.Qb(K,g,o);return}}}this.g4=m.sq.$n(K,f,Y)};
m.J_.prototype.Qb=function(K,o,Y,c){if(c==null)c=0;var z=K.B.slice(0),f=[K.B.length+1],$=K.Uu();$.vd(ca.get([1,16,0])+" "+(K.add.artd==null?1:K.root.children.length+1));
$.add.lsct=eo.bl;$.HL(o);if(this.JH){var E=$.add.artb,b=this.JH;for(var q in b)E[q]=b[q]}$.YF="pass";
$.Gh=24;if(c==0){if(K.add.artd||o.wu(new hD(0,0,K.m,K.e)).xf())z.push(K.uR());else z.unshift(K.uR())}else{var O=K.FK();
O.sort(function(H,i){return H-i});var j=m.$m.nD(K,O,z.length-1,!1,null,!1),A=j.pop(),R=j.pop();z=j.pop();
z.splice(K.B.length-O.length,0,K.uR())}z.push($);var g=new h1(w.E.U);g.f=m._V;g.data={d:S.Tx,HH:z,HR:f,Mx:[1,16,2]};
Y.c(g)};m.J_.prototype.D3=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=this.z4,E=this.g4;if($){if(this.jD){$.D3(K,Y,c,f)}else{var b=$.xC(f,K.Q.O,null,z);
if(b==null)b="default";var q=new h1(w.E.L,!0);q.data={d:w.I.eZ,gg:b};o.c(q)}}if(E){var O=this.nL(K,f,c,Y);
K.N.AE=d.M.Yq(O);K.px=!0;m.Fh.ew(z,O,K,Y)}};m.J_.prototype.pt=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y),$=this.g4;
if(this.jD){this.z4.pt(K,Y,c,f);this.jD=!1;var E=d.M.MN(this.z4.ni()),b=S.nZ(E),q=K.B[K.Y[0]],O=JSON.parse(JSON.stringify(q.add.artb));
O.artboardRect.v=b;var j=new h1(w.E.U,!0);j.f=m._V;j.data={d:S.a6,fh:O};o.c(j)}if($){var R=this.nL(K,f,c,Y);
if(R.Z()>20)this.Qb(K,R,o);K.N.AE=null;K.px=!0;this.g4=null;K.N.Rw=[]}};m.J_.prototype.nL=function(K,o,Y,c){var z=this.g4,f=m.sq.$n(K,o,c),$=m.GU.Eg(z,f,Y,!0);
z=$[0];f=$[1];return d.M.MN([z.x,z.y,f.x,f.y])};function cD(K,o,Y,c,z,f,$,E){this.vm=null;this.vh=K?K.slice(0):null;
this.vR=1;this.Du=4;this.Xx=null;this.RS=null;this._h=null;this.IZ=-1;this.wL=null;this.aoi=!1;this.aoL=[];
for(var y=0;y<8;y++)this.aoL.push(fv.ahJ(0,PIMG.rotate,-.5,-.5,-45-y*45));this.ag6=o;this.aA4=Y;this.ay3=c;
this.adJ=z;this.Cu=f;this.aZ=$;this.aBS=E==null?1:E}cD.prototype.asd=function(){return this.IZ!=-1};
cD.prototype.ni=function(){return this.vh.slice(0)};cD.prototype.uG=function(K){this.vh=K};cD.prototype.ax6=function(){return this.$X(this.vh)};
cD.prototype.an2=function(){return this.Du};cD.prototype.a24=function(K){this.Du=K};cD.prototype.Dd=function(K){if(K==null)K=this.vh;
if(this.Du==9)return this.Xx;else return this.$X(K)[this.Du]};cD.prototype.a08=function(K){if(this.Du==9)this.Xx=K.clone();
else{var o=this.Dd(),Y=new dF(1,0,0,1,K.x-o.x,K.y-o.y);d.M.i(this.vh,Y,this.vh)}};cD.prototype.Nh=function(K){this.vR=K};
cD.prototype.xC=function(K,o,Y,c,z){var f=this.Sh(null,K,o,c),$;if(f==9)return"default";if(f==10){if(Y)return null;
return!this.ag6?"move":null}if(f==-1||f==4)return null;if(f==11){var E=this.Dd().km(K);if(z==null)z=Math.atan2(E.y,E.x);
$=90-z*180/Math.PI;var b=Math.round(8*($/360));b=(b+8)%8;return this.aoL[b]}else{var q=this.xP(K,this.vh);
$=[135,90,45,180,0,0,225,270,315][f]*Math.PI/180;var O=d.D.P_(this.vh);return cD.afs(O[0],O[3],$)}};
cD.afs=function(K,o,Y){var c=Math.atan2(-o,K);if(Y)c+=Y;var z="ew nesw ns nwse ew nesw ns nwse".split(" "),f=Math.round(8*(c/(2*Math.PI)));
f=(f+8)%8;return z[f]+"-resize"};cD.prototype.xP=function(K,o){var Y=d.D.oD(d.D.P_(o)),c=new Float64Array(2);
d.D.Tb(K.x,K.y,Y,c);return new jc(c[0],c[1])};cD.prototype.RW=function(K){var o=this.xP(K,this.vh);return 0<=o.x&&o.x<=1&&0<=o.y&&o.y<=1};
cD.prototype.tx=function(K,o,Y,c,z,f,$,E){this.aoi=f;this.wL=c;var b=K.Q.O,q;if(this.vh==null)c=m.sq.$n(K,c,o);
this._h=c.clone();if(this.vh==null){if(E==null)E=0;var O=new dF;O.rotate(E);var j=O.qc(new jc(1,1));
this._h.offset(j.x,j.y);var A=z==null?1:1/z,R=this.vh=[0,0,1,0,1,A,0,A];O.translate(c.x,c.y);d.M.i(this.vh,O,this.vh);
q=8}else{q=this.Sh(Y,c,b,$);if(0<=q&&q<=8)this._h=this.$X(this.vh)[q];if(q==9){this.Du=9;this.Xx=c.clone()}}this.vm=this.vh.slice(0);
this.IZ=q;this.rb(K,o);this.RS=this.Dd();return q!=-1};cD.prototype.a84=function(K,o,Y,c){return this.Sh(K,o,Y.Q.O,c)};
cD.prototype.Sh=function(K,o,Y,c){var z=-1,f=this.$X(),$=[0,2,6,8,1,3,5,7],E=c?m.bE({Q:{O:Y}},c):8*m.GR()/Y,b=jc.si(f[0],f[2]),q=jc.si(f[0],f[6]),O=this.xP(o,this.vh);
O.x*=b;O.y*=q;var j=new hD(0,0,b,q);j.VC(E,E);if(z==-1)if(jc.si(this.Dd(),o)<E)z=9;if(z==-1)for(var y=0;
y<$.length;y++)if(jc.si(f[$[y]],o)<E)z=$[y];if(z==-1&&j.Tz(O)){if(Math.abs(O.y-0)<E)z=1;if(Math.abs(O.x-0)<E)z=3;
if(Math.abs(O.y-q)<E)z=7;if(Math.abs(O.x-b)<E)z=5}if(z==-1&&K&&K.S(a1.cV))z=9;if(z==-1||this.aZ==4){if(this.RW(o)){if(this.ag6)z=10}else{var A=[3,.85][g1];
j.VC(A*E,A*E);z=j.Tz(O)&&this.aZ!=3?11:10}}return z};cD.prototype.D3=function(K,o,Y,c,z){if(this.IZ==-1)return;
this.wL=c;var f=Y&&Y.S(a1.jR),$=Y&&Y.S(a1.cV),E=Y&&Y.S(a1.rK),b=K.Q.O,q=this._h,O=this.IZ,j=this.$X(),A=m.sq.$n(K,q,o),R=m.sq.$n(K,c,o),g,H;
if(O==9){var j=this.$X(),i=-1;for(var y=0;y<j.length;y++)if(jc.si(j[y],R)*b<10)i=y;this.Du=i==-1?9:i;
this.Xx=f?m.A7.cL(A,R):R.clone()}else if(O==10){H=d.M.OA(this.vm);var h=H.x,x=H.y;H.offset(c.x-q.x,c.y-q.y);
if(this.aer()){H.x=Math.round(H.x);H.y=Math.round(H.y)}g=m.sq.z$(K,H,o);var F=new dF(1,0,0,1,H.x-h+g[0],H.y-x+g[1]);
d.M.i(this.vm,F,this.vh)}else if(O==11){var X=this.Dd(this.vm),V=X.km(c),U=X.km(q),Z=Math.atan2(V.y,V.x),T=Math.atan2(U.y,U.x),F=new dF(1,0,0,1,-X.x,-X.y),v=Math.PI/12;
if(f)F.rotate(Math.round((T-Z)/v)*v);else F.rotate(T-Z);F.translate(X.x,X.y);d.M.i(this.vm,F,this.vh)}else{if(z&&!E)f=!f;
var P,p=this.vm,a=O==0||O==2||O==6||O==8;if(this.aZ==1){if(a)f=$=E=!0}else if(this.aZ==2&&a&&this.aoi!=!0)E=!0;
if(this.aZ==3)E=!1;if(this.ay3&&a&&E){var y=[0,0,2,0,0,0,6,0,4,0][O],D=-1,n=R.x,N=R.y;if(f){var W=y+6&7,G=y+10&7,l=cD.aum(p[y],p[y+1],p[W],p[W+1],R.x,R.y),u=cD.aum(p[y],p[y+1],p[G],p[G+1],R.x,R.y),e=l[2]<u[2]?l:u;
n=e[0];N=e[1];if($)D=l[2]<u[2]?W:G}else if($)D=y+4&7;P=p.slice(0);if(D!=-1){var M=p[D],B=p[D+1],s=(p[y]+M)/2,t=(p[y+1]+B)/2;
P[D]=s-(n-s);P[D+1]=t-(N-t)}P[y]=n;P[y+1]=N}else if(a&&$){var X=this.RS,J=X.x,L=X.y,k=A.x-J,C=A.y-L,r=1,Q=1;
if(Math.abs(k)>=1)r=(R.x-J)/k;if(Math.abs(C)>=1)Q=(R.y-L)/C;if(f||this.Cu)r=Q=(r+Q)/2;var F=new dF;F.translate(-J,-L);
F.scale(r,Q);F.translate(J,L);P=p.slice(0);d.M.i(P,F,P)}else{if(this.aer()){R.x=Math.round(R.x);R.y=Math.round(R.y)}var j9=[0,1,2,5,8,7,6,3],a4=j9[(j9.indexOf(O)+4)%8],ar=[];
for(var y=0;y<3;y++)for(var D=0;D<3;D++)ar.push(new jc(D/2,y/2));var X=this.RS,ez=this.xP(R,p),ja=this.xP(q,p),c3=$&&(this.Du==4||this.Du==9)?this.xP(X,p):ar[a4],hW=new dF,fO=new dF,r=(ez.x-c3.x)/(ja.x-c3.x);
if(r==0)r=1e-4;var Q=(ez.y-c3.y)/(ja.y-c3.y);if(Q==0)Q=1e-4;if(this.adJ){r=Math.max(r,0);Q=Math.max(Q,0)}if(O==0||O==2||O==6||O==8){if(f||this.Cu)hW.scale(r,r);
else hW.scale(r,Q)}if(O==1||O==3||O==5||O==7){var ei=this.Cu||f,fV=E&&f;if(O==1||O==7)hW.scale(ei?Q:1,fV?1:Q);
else hW.scale(fV?1:r,ei?r:1);if(this.aA4&&E){if(O==1||O==7)fO.b0=(ez.x-c3.x)/(ez.y-c3.y);else fO.J=(ez.y-c3.y)/(ez.x-c3.x)}}var F=new dF;
F.translate(-c3.x,-c3.y);F.concat(hW);F.concat(fO);F.translate(c3.x,c3.y);P=[0,0,1,0,1,1,0,1];d.M.i(P,F,P);
var e=d.D.P_(p);d.D.i(e,P)}if(cD.Ai(P))this.vh=P}this.rb(K,o);if(g)m.sq.H5(K,H,g)};cD.aum=function(K,o,Y,c,z,f){var $=Y-K,E=c-o,b=z-K,q=f-o,O=$*$+E*E,j=b*$+q*E,A=j/O,R=K+A*$,g=o+A*E,H=z-R,i=f-g;
return[R,g,Math.sqrt(H*H+i*i)]};cD.prototype.aer=function(){var K=this.vh;return Math.abs(K[1]-K[3])<1e-6&&Math.abs(K[2]-K[4])<1e-6||Math.abs(K[0]-K[2])<1e-6&&Math.abs(K[3]-K[5])<1e-6};
cD.Ai=function(K){return d.M.az1(K)||d.M.az1([K[6],K[7],K[4],K[5],K[2],K[3],K[0],K[1]])};cD.prototype.pt=function(K,o,Y,c){this.IZ=-1;
this.wL=null;K.N.Qm=null;K.N.Rw=[];K.px=!0};cD.prototype.Ed=function(K,o,Y){var c=Y.iV(K?K.Q.Rs:0);if(c.x||c.y){var z=new dF(1,0,0,1,c.x,c.y);
d.M.i(this.vh,z,this.vh);this.rb(K,o);return!0}return!1};cD.prototype.$X=function(K){if(K==null)K=this.vh;
var o=K[6]-K[0],Y=K[7]-K[1],c=K[4]-K[2],z=K[5]-K[3],f=[K[0],K[1],K[2],K[3],K[0]+o/2,K[1]+Y/2,K[2]+c/2,K[3]+z/2,K[6],K[7],K[4],K[5]],$=[];
for(var y=0;y<3;y++){var E=y*4,b=f[E+0],q=f[E+1],O=f[E+2],j=f[E+3];$.push(new jc(b,q));$.push(new jc(b+(O-b)/2,q+(j-q)/2));
$.push(new jc(O,j))}return $};cD.prototype.rb=function(K,o,Y){if(K.N==null)return;if(Y==null)Y=!1;var c=this.vR,z=this.$X(),f=z[0],$=z[2],E=z[6],b=z[8],q={G:[],z:[]};
if(c==0)K.N.AE=q;else K.N.CB=q;q.G.push("M","L","L","L","Z");q.z.push(f.x,f.y,$.x,$.y,b.x,b.y,E.x,E.y);
var O=this.aBS;if(O>1){K.N.xv=JSON.parse(JSON.stringify(q));var j=$.km(f),A=E.km(f),R=b.km($),g=b.km(E);
for(var y=1;y<O;y++){q.G.push("M","L","M","L");var H=y/O;q.z.push(f.x+j.x*H,f.y+j.y*H,E.x+g.x*H,E.y+g.y*H);
q.z.push(f.x+A.x*H,f.y+A.y*H,$.x+R.x*H,$.y+R.y*H)}}K.Q.qE=new hD(0,0,jc.si(z[0],z[2]),jc.si(z[0],z[6]));
if(this.IZ!=-1&&this.IZ<9&&this.wL){var i=K.Q.Hc(this.wL.x,this.wL.y);m.Fh.ew(i,K.Q.qE,K,o)}if(!Y){var h=[];
if(c==0)K.N.HJ=h;else K.N.Av=h;for(var y=0;y<z.length;y++)if(y!=4)h.push(z[y].x,z[y].y);var x=this.Dd();
h.push(x.x,x.y)}K.px=!0};cD.prototype.clear=function(K){K.Q.qE=null;K.N.Qm=null;K.N.AE=null;K.N.CB=null;
K.N.xv=null;K.N.HJ=[];K.N.Av=[];K.px=!0};function j0(K,o){this.qN=null;this.IZ=-1;this.m8=null;this.aoe=null;
this.DX=null;this.Y7=-1;this.agu(K)}j0.prototype.Oh=function(){return JSON.parse(JSON.stringify(this.qN))};
j0.prototype.agu=function(K){this.qN=JSON.parse(JSON.stringify(K))};j0.prototype.aqn=function(K){this.Y7=K};
j0.prototype.RW=function(K){return!0};j0.prototype.xC=function(K,o,Y,c){var z=this.Sh(K,o,c);if(z==-1)return"default";
return"pointer"};j0.prototype.tx=function(K,o,Y,c,z,f,$){if(this.Y7!=-1)return!0;this.IZ=this.Sh(c,K.Q.O,$);
var E=d.qN.Mu(this.qN),b=d.vo.Fi(E,c),q=0<b[0]&&b[0]<1&&0<b[1]&&b[1]<1;this.m8=q?b:null;this.aoe=JSON.stringify(E);
this.DX=c;return this.IZ!=-1||q};j0.prototype.Sh=function(K,o,Y){var c=Y?m.bE({Q:{O:o}},Y)*2:20*m.GR()/o,z=d.qN.Mu(this.qN),f=d.M.y7(z[3],K.x,K.y,c);
if(f!=-1&&this.RA(z,f)==null)f=-1;return f};j0.prototype.D3=function(K,o,Y,c){if(this.Y7!=-1)return;
var z=this.IZ,f=this.m8,$=JSON.parse(this.aoe),E=$[0],b=$[1],q=$[3];if(z!=-1){var O=[z],j=c.x-q[z*2],A=c.y-q[z*2+1];
if(E*b>16){var R=this.RA($,z);if(R[0]==0){var g=Math.floor(z/E),H=z-g*E;if(H>0)O.push(z-1);if(H<E-1)O.push(z+1);
if(g>0)O.push(z-E);if(g<b-1)O.push(z+E)}}for(var y=0;y<O.length;y++){q[O[y]*2]+=j;q[O[y]*2+1]+=A}d.qN.Ks(this.qN,$)}else if(f){d.vo.ac2($,f[0],f[1],c.x-this.DX.x,c.y-this.DX.y);
d.qN.Ks(this.qN,$)}};j0.prototype.pt=function(K,o,Y,c){var z=this.Y7;this.m8=null;this.Y7=-1;if(z!=-1){var f=d.qN.Mu(this.qN),$=d.vo.Fi(f,c);
if(z==0||z==1)d.vo.split(f,0,$[0]);if(z==0||z==2)d.vo.split(f,1,$[1]);d.qN.Ks(this.qN,f)}K.px=!0;return z!=-1};
j0.prototype.Ed=function(K,o,Y){var c=Y.iV();if(c.x||c.y){var z=new dF(1,0,0,1,c.x,c.y);d.M.i(this.vh,z,this.vh);
this.rb(K)}};j0.prototype.RA=function(K,y){var o=K[0],Y=K[1],c=this.IZ,z=Math.floor(c/o),f=c-z*o,$=c%3,E=c%3,b=$==0&&E==0,z=Math.floor(y/o),f=y-z*o,$=f%3,E=z%3;
if($!=0&&E!=0)return null;if($==0&&E==0)return[0];else{var q=0;if(E==0)q=$==1?y-1:y+1;if($==0)q=E==1?y-o:y+o;
if(o*Y>16){var O=c==y||c==y+1||c==y-1||c==y+o||c==y-o;if(b&&(O||c==y+2||c==y-2||c==y+2*o||c==y-2*o)){}else if(!b&&O){}else return null}return[1,q]}};
j0.prototype.rb=function(K,o){var Y=d.qN.Mu(this.qN),c=Y[0],z=Y[1],f=Y[3],$=K.N.CB={G:[],z:[]},E=K.N.Av=[],b=K.N.Td=[],q=this.IZ;
for(var O=0;O<z;O++)for(var j=0;j<c;j++){var y=O*c+j,A=this.RA(Y,y);if(A==null)continue;var R=f[2*y],g=f[2*y+1],H=b;
if(A[0]==0)H=y==q&&c*z>16?b:E;else{var i=A[1];$.G.push("M","L");$.z.push(R,g,f[2*i],f[2*i+1])}H.push(R,g)}for(var O=0;
O+1<z;O+=3)for(var j=0;j+1<c;j+=3){$.G.push("M","C","C","C","C");var y=O*c+j,h=y+c+c,x=[y,y+1,y+2,y+3,y+c+3,h+3,h+c+3,h+c+2,h+c+1,h+c,h,y+c,y];
for(var y=0;y<x.length;y++){var R=f[x[y]*2],g=f[x[y]*2+1];$.z.push(R,g)}}var F=[],X=[];function V(U,j,v){for(var x=0;
x<=v;x++){X.push(x==0?"M":"L");if(U==0)F.push(j,x/v);else F.push(x/v,j)}}if(o)o=d.vo.Fi(Y,o);for(var U=0;
U<2;U++){var Z=Y[2][U],T=U==0?c:z,v=T*5;for(var P=1;P<T;P++){var p=Math.floor((P-1)/3),a=P-(1+p*3);if(a==0)continue;
var j=Z[p]+a/3*(Z[p+1]-Z[p]);V(U,j,v)}var D=this.Y7;if(o&&D!=-1&&(D==0||D-1==U))V(U,o[U],v)}d.vo.i(Y,F,new hD(0,0,1,1));
d.M.concat($,{z:F,G:X});K.px=!0};j0.prototype.clear=function(K){K.N.CB=null;K.N.Av=[];K.N.Td=[];K.px=!0};
function iY(){this.SG=!1;this.q5=!1;this.ajF=!1;this.aBw=!1;this.NI=!1;this.nQ=!1;this.PB=0;this.Iz=0}iY.prototype.tx=function(K){this.SG=!0;
this.q5=!1;this.NI=K.S(a1.jR);this.nQ=K.S(a1.cV);this.PB=this.NI?0:1;this.Iz=this.nQ?0:1};iY.prototype.Ed=function(K){var o=this.aBw=K.S(a1.jR),Y=this.ajF=K.S(a1.cV);
if(this.q5){if(this.PB==0&&!o)this.PB++;if(this.PB==1&&o)this.PB++;if(this.Iz==0&&!Y)this.Iz++;if(this.Iz==1&&Y)this.Iz++}};
iY.prototype.D3=function(){this.q5=!0};iY.prototype.pt=function(){this.SG=!1};iY.prototype.bC=function(y){if(y==0)return this.SG?this.nQ:this.ajF;
if(y==1)return this.q5?this.Iz==2:!1};iY.prototype.wh=function(y){if(y==0)return this.SG?this.NI:this.aBw;
if(y==1)return this.q5?this.PB==2:!1};m.History=function(){m.Fh.call(this,"History",m.s5);this.Hh=!0;
this.a43=0};m.History.prototype=new m.Fh;m.History.prototype.yx=function(K,o,Y,c){Y.Pb=!0;if(K.d=="h_itemchange"){if(K.index<Y.Eu)for(var y=Y.Eu;
y>K.index;y--)this.hj(Y);if(K.index>Y.Eu)for(var y=Y.Eu;y<K.index;y++)this.GG(Y)}if(K.d=="h_stepfwd")this.GG(Y);
if(K.d=="h_stepbck")this.hj(Y);if(K.d=="h_undoredo"){var z=this.Hh||this.a43!=Y.Eu;if(z){this.hj(Y);
z=!1}else{this.GG(Y);z=!0}this.Hh=z;this.a43=Y.Eu}if(K.d=="h_clear"){if(K.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
Y.history=[new dE([1,0],null)];Y.Eu=0}else this.Hh=!0};m.History.prototype.hj=function(K){if(K.Eu==0)return;
var o=K.history[K.Eu];o.f.mt(o.data,K);K.Eu--};m.History.prototype.GG=function(K){if(K.Eu==K.history.length-1)return;
var o=K.history[K.Eu+1];o.f.PZ(o.data,K);K.Eu++};m.$m=function(){m.Fh.call(this,"Layers",m._V);this.qT=null};
m.$m.prototype=new m.Fh;m.$m.prototype.yx=function(K,o,Y,c,z){this.qT=o;var f=K.d,$=K.a!=null?K.a:Y.Y.length!=0?Y.Y[0]:Y.B.length-1,E=Y.B[$];
Y.jS=!0;var b=c.S(a1.cV),q=c.S(a1.jR),O=c.S(a1.rK);if(f==S.Nj&&Y.r==null&&(Y.Y.length>1||!Y.WM(!1)))f=S.Rz;
if(f==S.N9){var j=new dE([6,33],this),A=E.f$()?["pass"].concat(jw.iu):jw.iu,R=A[K.Wx],g=K.a!=null?[K.a]:Y.Y,H=JSON.stringify(g),i=[];
for(var y=0;y<g.length;y++)i.push(Y.B[g[y]].YF);j.data={d:f,zI:H,ss:i,Wx:R};Y.iy(j);this.PZ(j.data,Y);
this.track(b0.pd("Md",{t:"enum",v:{BlnM:jw.OM(R)}}))}if(f==S._n){var j,h=Y.VE(),g=K.a!=null?[K.a]:Y.Y,H=JSON.stringify(g);
if(h&&h.data&&h.data.d==f&&h.data.zI==H)j=h;else{var x=b0.pd("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(x);var i=[];for(var y=0;y<g.length;y++)i.push(Y.B[g[y]].opacity);j=new dE([6,32],this);j.data={d:f,zI:H,ss:i,Wx:K.Wx,jq:x.jU};
Y.iy(j)}j.data.Wx=K.Wx;j.data.jq.T.v.Opct.v.val=Math.round(K.Wx*100/255);this.PZ(j.data,Y)}if(f==S.Gy){if(E.add.iOpa==null)E.add.iOpa=255;
var j,h=Y.VE();if(h&&h.data&&h.data.d==f&&h.data.a==$)j=h;else{j=new dE("Fill Opacity Change",this);
j.data={d:f,a:$,ss:E.add.iOpa,Wx:K.Wx};Y.iy(j)}j.data.Wx=K.Wx;this.PZ(j.data,Y)}if(f==S.JM){var F=K.Wx,X=K.a!=null?[K.a]:Y.Y.slice(0),V=[],U=[],j;
for(var Z=0;Z<X.length;Z++){var T=Y.B[X[Z]];if(T.add.lspf==null)T.add.lspf=0;var i=T.add.lspf,R=i;for(var y=0;
y<F[0].length;y++){var v=F[1][y],P=1<<v;if((R&P)==0&&F[0][y])R^=P;else if((R&P)!=0&&!F[0][y])R^=P}V.push(i);
U.push(R)}var h=Y.VE(),g=JSON.stringify(X);if(h&&h.data&&h.data.d==f&&JSON.stringify(h.data.zI)==g){j=h;
j.data.Wx=U}else{var j=new dE([6,57,1],this);j.data={d:f,zI:g,ss:V,Wx:U};Y.iy(j)}this.PZ(j.data,Y)}if(f==S.GQ){var p="----",a=K.fk,R=null;
for(var y=0;y<eV.Vi.TB.length;y++)if(E.add[eV.Vi.TB[y]])p=eV.Vi.TB[y];var D=E.add[p];if(a=="TySh")R=b_.HO(50,50,z.KP);
var j=new dE("Layer Type",this);j.data={d:f,a:$,aCa:[p,D],fk:[a,R]};Y.iy(j);this.PZ(j.data,Y)}if(f==S.WF){var X=[];
if(b){var n=Y.VE(),N=n?n.data:null;if(n!=null&&n.f==this&&N.d==S.WF&&N.zI.length!=1){var W=new h1(w.E.U);
W.f=m.s5;W.data={d:"h_stepbck"};o.c(W);if(N.a==$)return}var G=Y.root.w3($),l=G,u=[K.a];while(l.parent!=Y.root){u.push(l.parent.index);
l=l.parent}for(var y=0;y<Y.B.length;y++){var e=Y.B[y],l=Y.root.w3(y),M=u.indexOf(y)!=-1?!0:e.KL()&&G.depth<l.depth;
if(M!=e.KL())X.push(y)}}else if(K.zI)X=K.zI;else{X.push($);var B=Y.B[$].KL(),x={Rk:B?"hide":"show",jU:{classID:B?"Hd":"Shw",null:{t:"VlLs",v:[b0.x2("Lyr",!0)]}}};
this.track(x)}var j=new dE("Layer visibility",this,!0);j.data={d:f,zI:X,a:$};Y.iy(j);this.PZ(j.data,Y)}if(f==S._m){if(z.i5==m.qd){var s=new h1(w.E.L);
s.data={d:w.I.NR,f:m.Wh};o.c(s)}var t=K.a52,J=K.Ky,C,escape=!1,r=!1;if(K.vL){if(O&&(J==0||J==1||J==2)){var L=0;
if(q)L++;if(b)L+=2;var k=new h1(w.E.U,!0);k.f=m.at;k.data={d:"fromlayer",$G:[K.a,J,L]};o.c(k);return}}var x={Rk:"select",jU:{classID:"null",MkVs:{t:"bool",v:!1}}};
Y.aog();if(c.S(a1.rK)||K.vT==0){var Q=Y.Y.indexOf($);if(Q==-1)Y.Y.push($);else if(Y.Y.length>1){if(K.vT!=0)Y.Y.splice(Q,1)}Y.Y.sort(function(j,iR){return j-iR});
x.jU.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};C=$}else if(q&&!b&&J>0){f=J==1?S.mW:J==2?S.sX:S.us;
escape=!0}else if((q||K.vT==1)&&Y.Y.length>0){var j9=Math.min($,Y.Y[0]),a4=Math.max($,Y.Y[Y.Y.length-1]);
Y.Y=[];for(var y=j9;y<=a4;y++)if(Y.B[y].add.lsct!=eo.iE)Y.Y.push(y);x.jU.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
C=$}else{C=$;if($>=Y.B.length)return;var e=Y.B[$];if(e&&e.f$()&&K.alA)e.add.lsct=eo.bl;else if(Y.Y.length==1&&Y.Y[0]==$&&Math.max(0,J)==e.xO){r=!0;
Y.jS=!1}if(!r){Y.Y=[$];Y.vw()}}if(!r){if(C!=null&&C<Y.B.length){x.jU.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:Y.B[C].getName()}}]},this.track(x)}if(!escape){console.log("no escape");
if(Y.Y.length==1){var ar=Y.Y[0];for(var y=0;y<Y.B.length;y++){if(y==ar)continue;var T=Y.B[y];T.xO=0;
T.bw=!1}var E=Y.B[ar];if(J==2){E.bw=!E.bw;Y.n7=[]}else if(E){E.xO=J<=0?0:J}}else for(var y=0;y<Y.B.length;
y++){var T=Y.B[y];T.xO=0;T.bw=!1}Y.d5=null;Y.Pb=!0}}if(K.vL&&b){if((J==1||J==3)&&t!=null){var k=new h1(w.E.U,!0);
k.f=m.bx;k.data={d:"mskView",b:t!=0?0:q?1:2};o.c(k)}else{this.yx({d:S.I4,a:K.a},o,Y,c,z)}}}if(f==S.mW||f==S.us){var ez=f==S.mW,ja=ez?E.ue():E.wm(Y).F;
if(ja==null)return;var j=new dE(ja.isEnabled?ez?[6,15]:[6,42]:ez?[6,14]:[6,41],this);j.data={d:f,a:$};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.sX){var ja=E.add.vmsk;if(ja==null)return;var j=new dE(ja.isEnabled?[6,17]:[6,16],this);
j.data={d:f,a:$};Y.iy(j);this.PZ(j.data,Y)}if(f==S.agv){var c3=E.add.lsct==eo.bl?eo.g5:eo.bl,l=Y.root.w3(Y.B.indexOf(E)),ei=!1;
if(c.S(a1.rK)){var hW=l.parent;for(var y=0;y<hW.children.length;y++){var fO=hW.children[y].a;if(fO.f$())fO.add.lsct=c3}}else E.add.lsct=c3;
for(var y=0;y<Y.Y.length;y++){var fV=Y.Y[y];if(l.Ag<fV&&fV<l.index)ei=!0}if(ei)Y.Y=[l.index];Y.Pb=!0}if(f==S.I4){if(!Y.eT($))return;
var j=new dE(E.z_?[6,19]:[6,18],this);j.data={d:f,a:$};Y.iy(j);if(K.Wx==null||K.Wx!=E.z_)this.PZ(j.data,Y)}if(f==S.axb){if(E.LJ())E.Gh-=32;
else E.Gh+=32;Y.Pb=!0}if(f==S.Co||f==S.nK){var j;if(f==S.Co)j=new dE(E.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(f==S.nK)j=new dE(E.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);j.data={d:f,a:$};Y.iy(j);this.PZ(j.data,Y)}if(f==S.NZ||f==S.tz){var ar=K.index,j;
if(f==S.NZ)j=new dE(E.add.lmfx[eF.nk[ar[0]]].v[ar[1]].v.enab.v?[6,30,0]:[6,29],this);if(f==S.tz)j=new dE(E.add.SoLd.filterFX.v.filterFXList.v[ar].v.enab.v?[6,44]:[6,43],this);
j.data={d:f,a:$,index:K.index};Y.iy(j);this.PZ(j.data,Y)}if(f==S.fR){if(K.src==K.sL)return;var aW=Y.B[K.src],ee=Y.B[K.sL],hM=aW.add.lmfx?JSON.stringify(aW.add.lmfx):"",ds=ee.add.lmfx?JSON.stringify(ee.add.lmfx):"";
if(ee.add.lmfx==null){ee.add.lmfx=JSON.parse(eF.default);for(var y=0;y<eF.order.length;y++)ee.add.lmfx[eF.nk[y]]={t:"VlLs",v:[]}}if(K.BN==null){ee.add.lmfx=JSON.parse(hM);
if(!b)delete aW.add.lmfx}else{var cp=K.BN[0],eA=eF.nk[cp];if(eF.alm.indexOf(eF.order[cp])==-1)ee.add.lmfx[eA].v=[];
ee.add.lmfx[eA].v.push(aW.add.lmfx[eA].v[K.BN[1]]);if(!b)aW.add.lmfx[eA].v.splice(K.BN[1],1)}var db=aW.add.lmfx?JSON.stringify(aW.add.lmfx):"",js=ee.add.lmfx?JSON.stringify(ee.add.lmfx):"";
if(!ee.LJ())ee.Gh+=32;var j=new dE("Move Layer Styles",this);j.data={d:f,de:K.src,hK:K.sL,azA:hM,axf:ds,a9u:db,agW:js};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.aF){if(K.src!=null)$=K.src;var T=Y.B[$],bF=JSON.stringify(T.add.SoLd),jI=JSON.parse(bF),gF=jI.filterFX.v.filterFXList.v;
gF.splice(K.BN,1);var j=new dE([6,53],this);j.data={d:S.Zh,Jz:[{UH:$,EJ:[bF,JSON.stringify(jI)]}]};Y.iy(j);
this.PZ(j.data,Y)}if(f==S.ajp){var b6=b,aW=Y.B[K.src],ee=Y.B[K.sL],ji=[];if(aW!=ee&&ee.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(aW==ee&&!b6&&K.BN==K.SO)return;if(aW==ee&&K.BN==-1)return;var hd=aW.wm(Y),bF=JSON.stringify(aW.add.SoLd),jI=JSON.parse(bF),gF=jI.filterFX.v.filterFXList.v;
if(aW==ee){gF.splice(K.SO,0,gF[K.BN]);if(!b6)gF.splice(K.BN+(K.BN<K.SO?0:1),1);ji.push({UH:K.src,EJ:[bF,JSON.stringify(jI)]})}else if(K.BN==-1){var eZ=jI.filterFX;
if(!b6){delete jI.filterFX;ji.push({UH:K.src,EJ:[bF,JSON.stringify(jI)],MZ:[hd,null]})}var hj=ee.Mn()?ee.wm(Y):null,eK=h7.a34(hd),cX=JSON.stringify(ee.add.SoLd),bW=JSON.parse(cX);
bW.placed.v=eK.id;bW.filterFX=eZ;ji.push({UH:K.sL,EJ:[cX,JSON.stringify(bW)],MZ:[hj,eK]})}else{var ju=gF[K.BN];
if(!b6){gF.splice(K.BN,1);ji.push({UH:K.src,EJ:[bF,JSON.stringify(jI)]})}var cX=JSON.stringify(ee.add.SoLd),bW=JSON.parse(cX);
if(bW.filterFX==null)bW.filterFX=fn.iJ();var ci=bW.filterFX.v.filterFXList.v;ci.splice(K.SO,0,ju);var hH={UH:K.sL,EJ:[cX,JSON.stringify(bW)]};
if(!ee.Mn()){var eK=h7.aaJ(ee.add.SoLd.placed.v);hH.MZ=[null,eK]}ji.push(hH)}var j=new dE([6,52],this);
j.data={d:S.Zh,Jz:ji};Y.iy(j);this.PZ(j.data,Y)}if(f==S.uo){var ja=E.ue(),j=new dE(ja.wn?[6,26]:[6,25],this);
j.data={d:f,a:$};Y.iy(j);this.PZ(j.data,Y);this.track({Rk:"set",jU:{classID:"setd",null:{t:"obj ",v:[b0.x2("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:ja.wn}}}}})}if(f==S.D1){var ja=E.add.vmsk,j=new dE(ja.wn?[6,28]:[6,27],this);
j.data={d:f,a:$};Y.iy(j);this.PZ(j.data,Y)}if(f==S.b3){var j=new dE("Variables / Datasets",this),b8=JSON.stringify([Y.YK,Y.Mv]);
if(b8==K.b)return;j.data={d:f,a2V:b8,aaq:K.b};Y.iy(j);this.PZ(j.data,Y)}if(f==S.PM){var gh=[],j;for(var y=0;
y<Y.Y.length;y++){var Z=Y.Y[y],e=Y.B[Z];if(e.add.vogk)gh.push(Z,JSON.stringify(e.add.vogk))}for(var y=0;
y<Y.n7.length;y++){var Z=Y.n7[y],e=Y.V9[Z];if(e.add.vogk)gh.push(-1-Z,JSON.stringify(e.add.vogk))}d.SU.atO(Y,K.b,K.ahB);
var aN=[];for(var y=0;y<Y.Y.length;y++){var Z=Y.Y[y],e=Y.B[Z];if(e.add.vogk)aN.push(Z,JSON.stringify(e.add.vogk))}for(var y=0;
y<Y.n7.length;y++){var Z=Y.n7[y],e=Y.V9[Z];if(e.add.vogk)aN.push(-1-Z,JSON.stringify(e.add.vogk))}var h=Y.VE();
if(h&&h.data&&h.data.d==f){var eS=!0;for(var y=0;y<gh.length;y+=2)if(gh[y]!=h.data.Bo[y])eS=!1;if(eS){j=h;
j.data.Pn=aN}}if(j==null){var j=new dE([12,91,1],this);j.data={d:f,Bo:gh,Pn:aN};Y.iy(j)}this.PZ(j.data,Y)}if(f==S.a6){var b2=JSON.stringify(E.add.artb),fZ=JSON.stringify(K.fh),j;
Y.B[$].add.artb=JSON.parse(fZ);var dw=new hD(0,0,Y.m,Y.e),ib=m.XX.Zu(Y),h=Y.VE();if(h&&h.data&&h.data.d==f&&h.data.a==$){j=h;
j.data.fh=fZ}if(j==null){var j=new dE("Editing Artboard",this);j.data={d:f,a:$,axh:b2,fh:fZ,bd:dw};Y.iy(j)}j.data.LI=ib;
this.PZ(j.data,Y)}if(f==S.ps){var aN=Y.Kl.slice(0),eJ=Y.Md.slice(0),df=Y.r,k5=Y.r;if(K.f4=="fromAction"){var eC=K.b.Rk,j7=K.b.jU;
if(eC=="make"||eC=="duplicate"){var cK=aN.length,f6=!1,iF=!1;if(Y.oy())cK--;var bw=new S.tp;bw.name="Alpha "+(cK+1);
if(eC=="make"){var ag=j7.Nw.v;bw.color=0;eJ=[cK];bw.Gt=!0;bw.O2=ag.Opct.v;if(ag.Nm)bw.name=ag.Nm.v;if(ag.classID=="SCch"){f6=!0;
k5=null;bw.tM=1}}else{var bS=j7.null.v[0].v;if(bS.keyID=="fsel")f6=!0;else{var b$=m.PP.ayb(Y);k5=m.PP.apB(Y,b$);
bw.color=0;bw.rect=k5.rect;bw.channel=k5.channel}}if(f6){bw.color=0;if(Y.r){bw.rect=Y.r.rect.clone();
bw.channel=Y.r.channel.slice(0)}if(iF){bw.color=255-bw.color;d.oD(bw.channel)}}for(var y=0;y<Y.Kl.length;
y++)Y.Kl[y].Gt=!1;Y.Q.v=[0,0,0];aN.splice(cK,0,bw)}else if(eC=="delete"){if(E&&E.ue()&&E.xO==1){this.yx({d:S.Jj},o,Y,c,z);
return}var aj=Y.Md;aj.sort(function(j,iR){return iR-j});if(aj.length==0)return;for(var y=0;y<aj.length;
y++)aN.splice(aj[y],1);eJ=[];Y.Q.v=[1,1,1]}else if(eC=="hide"){aN[eJ[0]]=aN[eJ[0]].clone();aN[eJ[0]].Gt=!1}}if(K.f4=="rnm"){aN[K.UQ]=aN[K.UQ].clone();
aN[K.UQ].name=K.name}var j=new dE("Channel Edit",this);j.data={d:f,Bo:Y.Kl.slice(0),I6:Y.Md.slice(0),Pn:aN,Y5:eJ,WB:df,HR:k5};
this.PZ(j.data,Y);Y.iy(j)}if(f==S.Tx){var iV=new hD(0,0,Y.m,Y.e),j=new dE(K.Mx,this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:K.HH,ea:Y.Y.slice(0),Ye:K.HR};
Y.iy(j);this.PZ(j.data,Y);var g0=m.XX.xQ(Y);if(g0){j.data.bd=iV;j.data.LI=g0}}if(f==S._C){var eB=Y.FK(null,K.a),dU=1e10;
if(eB.length==0)return;if(Y.B.length==eB.length){alert("Project must have at least 1 layer");return}var c7=[];
for(var y=0;y<Y.B.length;y++)if(eB.indexOf(y)==-1)c7.push(Y.B[y]);for(var y=0;y<eB.length;y++)dU=Math.min(dU,eB[y]);
dU=Math.max(dU-1,0);while(c7[dU].name=="</Layer group>")dU++;this.track({Rk:"delete",jU:{classID:"Dlt",null:b0.x2("Lyr",!0)}});
var dw=new hD(0,0,Y.m,Y.e),j=new dE([6,31],this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:[dU]};
Y.iy(j);this.PZ(j.data,Y);var ib=m.XX.Zu(Y);if(ib){j.data.LI=ib;j.data.bd=dw;m.XX.xQ(Y)}}if(f==S.Xn){if(!c.S(a1.jR))return;
var j=new dE("Switch Layer Link",this);j.data={d:f,a:K.a};Y.iy(j);this.PZ(j.data,Y)}if(f==S._i){var aj=K.adz?K.adz:Y.Y,cz=0,a6=!1;
if(aj.length==0)return;if(aj.length==1&&Y.B[aj[0]].RY==0){alert(ca.get([15,7,5]));return}var fr=[];for(var y=0;
y<Y.B.length;y++){var kk=Y.B[y].RY;fr.push(kk);cz=Math.max(cz,kk)}var jv=-1,by=-1;for(var y=0;y<aj.length;
y++){var kk=Y.B[aj[y]].RY;if(kk==0)a6=!0;else if(jv==-1||jv==kk)jv=kk;else by=kk}if(!a6)for(var y=0;
y<aj.length;y++)Y.B[aj[y]].RY=0;else if(jv!=-1&&by==-1)for(var y=0;y<aj.length;y++)Y.B[aj[y]].RY=jv;
else for(var y=0;y<aj.length;y++)Y.B[aj[y]].RY=cz+1;var gc=[];for(var y=0;y<Y.B.length;y++){var kk=Y.B[y].RY;
if(gc[kk]==null)gc[kk]=0;gc[kk]++}for(var y=0;y<Y.B.length;y++){var kk=Y.B[y].RY;if(gc[kk]==1)Y.B[y].RY=0}var i8=fr;
fr=[];for(var y=0;y<Y.B.length;y++){var kk=Y.B[y].RY;fr.push(kk);cz=Math.max(cz,kk)}var j=new dE(a6?[6,54,0]:[6,54,1],this);
j.data={d:S._i,ans:i8,aob:fr};Y.iy(j);this.PZ(j.data,Y)}if(f==S.Rz&&(K.a!=null||Y.Y.length!=0)||f==S.Tp){var az=Y.be(f==S.Rz?K.a:$,null,K.an7),g9;
if(f==S.Tp){var T=az[0],eC=T.add.SoLd.Idnt.v,a3=Y.yo(eC).clone();T.add.SoLd.Idnt.v=a3.YH=h7.I_()+eC.slice(8);
Y.add.lnk2.push(a3)}if(f==S.Rz){var jb={Rk:"duplicate",jU:{classID:"null",null:b0.x2("Lyr",!0)}};if(K.GJ){az[az.length-1].vd(K.GJ);
jb.Nm={t:"TEXT",v:K.GJ}}this.track(jb);K.arS=K.a}f=S.Zn;K.B=az;K.lQ=Y;K.LZ=Y}if(f==S.Zn){var aY,g4,dl=K.lQ,ej=K.LZ,jH=0,a0=0,fF=!1,ke,el=0,iz=0;
if(dl!=ej){console.log("ADDLAYERS different projs");var aY=new hD(0,0,dl.m,dl.e),g4=new hD(0,0,ej.m,ej.e),cn=[],d_=[];
for(var y=0;y<K.B.length;y++){var T=K.B[y];if(T.add.SoLd==null)continue;var eC=T.add.SoLd.Idnt.v;if(cn.indexOf(eC)==-1){cn.push(eC);
d_.push(h7.I_()+eC.slice(8))}T.add.SoLd.Idnt.v=d_[cn.indexOf(eC)];var hd=T.wm(dl);if(hd){dl.YV(hd);ej.qj(hd)}}if(cn.length>0){if(ej.add.lnk2==null)ej.add.lnk2=[];
for(var y=0;y<cn.length;y++){var hZ=dl.yo(cn[y]),a3=hZ.clone();a3.YH=d_[y];ej.add.lnk2.push(a3)}}}var df=ej.Y.slice(0);
df.sort(function(j,iR){return j-iR});var c7=ej.B.slice(0),k5=[],gv=-1;for(var y=0;y<df.length;y++)gv=Math.max(gv,df[y]);
if(K.arS!=null)gv=K.arS;var e1=dl.pH();if(K.Pv){gv=K.Pv-1;var gn=ej.B[K.Pv].Yv();jH+=gn.x;a0+=gn.y}if(e1!=-1&&(dl!=ej||K.Pv)){var e5=dl.B[e1].Yv();
jH-=e5.x;a0-=e5.y}var ka=ej.Jm();for(var y=0;y<ka[0].length;y++){var iA=ka[1][y];if(iA!=-1)ka[1][y]=c7[iA]}gv++;
for(var y=0;y<K.B.length;y++){var e=K.B[y],eP=e.add.artb;c7.splice(gv,0,e);k5.push(gv);gv++;if(eP){ke=!0;
var hl=eP.guideIndeces;if(hl){hl=hl.v;for(var iG=0;iG<hl.length;iG++){ka[0].push(dl.xS[hl[iG].v].slice(0));
ka[1].push(e);fF=!0}}}}for(var y=0;y<ka[0].length;y++){var iA=ka[1][y];if(iA!=-1)ka[1][y]=c7.indexOf(iA)}for(var y=0;
y<K.B.length;y++){var e=K.B[y];if(e.add.lsct==eo.iE){if(el==0)iz++;el++}else if(e.f$())el--}if(iz==1)k5=[gv-1];
var j=new dE([6,0],this);j.data={d:S.Tx,BI:ej.B.slice(0),HH:c7,ea:df,Ye:k5};if(fF){j.data.v8=[ej.Jm(),ka]}ej.iy(j);
this.PZ(j.data,ej);if(jH!=0||a0!=0)m.sq.xH(ej,ej.FK(),null,jH,a0);if(ke){j.data.bd=new hD(0,0,ej.m,ej.e);
j.data.LI=m.XX.Zu(ej);m.XX.xQ(ej)}}if(f==S.Kn){var bd=K.a!=null?[K.a]:Y.FK(),c7=Y.B.slice(0);for(var y=0;
y<bd.length;y++){var e=Y.B[bd[y]].clone();e.Ga(Y);c7.splice(bd[y],1,e)}var j=new dE([6,8],this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:Y.Y.slice(0)};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.aBZ){var c7=Y.B.slice(0),e=c7[Y.Y[0]]=c7[Y.Y[0]].clone(),iM=e.add.lmfx,cb,gn;
delete e.add.lmfx;var bk=Y.Y[0],jG=bk+1;if(e.f$()){var et=Y.B[Y.Y[0]].DM;gn=et.asD;cb=et.dx;var l=Y.root.w3(bk);
bk=l.Ag}else{gn=e.rect;cb=d.R(gn.Z());d.JI(e.buffer,cb,3)}var dy=eq.c8(iM,e.add.fxrp,cb,gn,Y,gn).type;
for(var y=0;y<eF.order.length;y++){var ce=eF.order[y],g2=dy[ce];g2.reverse();for(var iG=0;iG<g2.length;
iG++){var gx=g2[iG],g=Y.Uu(),hO=y>7;if(ce=="ebbl"){if(gx.uW||gx.p8){var ko=gx.uW?gx.uW:gx.p8;if(gx.uW)delete gx.uW;
else delete gx.p8;if(gx.p8||gx.RR)iG--}else if(gx.RR||gx.iP){var ko=gx.iP?gx.iP:gx.RR;if(gx.iP){delete gx.iP;
if(gx.RR)iG--}hO=!0}gx=ko}g.YF=gx.C1;g.opacity=Math.round(255*gx.PD);g.buffer=gx.y3;g.rect=gx.z2.clone();
g.rect.offset(gn.x,gn.y);if(ce=="FrFX"){g.buffer=g.buffer.slice(0);d.cb(gx.mv?gx.mv:gx.EY,g.buffer,3);
if(gx.mv){hO=!0;delete gx.mv;if(gx.EY)iG--}}g.z_=!hO;g.vd(e.getName()+"'s "+ca.get(eF.names[y]));c7.splice(hO?bk:jG,0,g);
if(hO)jG++}}var j=new dE("Styles to Layers",this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:[jG-1]};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.FZ){var bd=Y.FK(),c7=Y.B.slice(0),dm=new hD(0,0,Y.m,Y.e);for(var y=0;
y<bd.length;y++){var gw=Y.B[bd[y]],fJ=gw.KL();gw.dt(!0);var gS=Y.root.w3(bd[y]);if(gw.f$())continue;
if(gS==null)continue;var e=gw.clone();e.Ga(Y);var fj=gS._U(Y,!0),f$=Y.B;Y.$p([gw]);Y.W();Y.Uj();e.buffer=d.R(fj.Z()*4);
d.iF(Y.Gl(),dm,e.buffer,fj);e.rect=fj;e.opacity=255;e.add.iOpa=255;e.YF="norm";e.W();e.DM.w1=!0;Y.$p(f$);
if(e.add.lmfx)delete e.add.lmfx;e.F=e.DJ=null;c7.splice(bd[y],1,e);e.dt(fJ);gw.dt(fJ)}var j=new dE([6,34],this);
j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:Y.Y.slice(0)};Y.iy(j);this.PZ(j.data,Y)}if(f==S.a6N){var bd=Y.FK(),c7=Y.B.slice(0);
for(var y=0;y<bd.length;y++){var e=Y.B[bd[y]],kx=e.add.TySh;if(kx==null)continue;var T=new f3(kx.e9,z.zl),cF=d.M.fx(au.pk(T,kx,!0));
for(var iK in cF){var aP=cF[iK],fO=e.clone();delete fO.add.TySh;fO.Gh=fO.Gh|1<<4;fO.add.SoCo=JSON.parse(JSON.stringify(eF.fN[0]));
var hf=fO.add.SoCo.Clr.v;hf.Rd.v=parseInt(iK.slice(1,3),16);hf.Grn.v=parseInt(iK.slice(3,5),16);hf.Bl.v=parseInt(iK.slice(5,7),16);
var ii=new S.kZ;ii.$=d.M.eX(aP,!1);if(fO.add.vmsk!=null){fO.add.vmsk.a9O();ii.concat(fO.add.vmsk)}fO.add.vmsk=ii;
fO.add.vstk=eF.oc.Ta(!0);fO.D8();fO.WG(Y);c7.splice(c7.indexOf(e),0,fO)}c7.splice(c7.indexOf(e),1)}var k5=Y.Y.slice(0);
for(var y=k5.length-1;y>=0;y--)if(k5[y]>=c7.length)k5.splice(y,1);var j=new dE([6,40],this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:k5};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.RM){var eE=Y.Y.length,dR,j8;if(eE<2){alert("Select two or more layers.");
return}for(var y=0;y<eE;y++){var e5=Y.B[Y.Y[y]].rect;dR=y==0?e5:dR.wu(e5);j8=y==0?e5:j8.Bb(e5)}if(dR.Z()*1.2>j8.Z()){alert("stacking images");
var a2=[],hv=[];for(var y=0;y<eE;y++){var e=Y.B[Y.Y[y]];a2.push(e.buffer);hv.push(e.rect)}var hb=d.a4t.md(a2,hv),cM=hb[0],j3=hb[1],di=[];
for(var y=0;y<eE;y++){var ja=new S.tp;ja.color=255;ja.rect=j3;ja.channel=cM[y];di.push(Y.Y[y],null,ja)}var j=new dE("Focus-Stack",this);
j.data={d:S.ak,H3:di};Y.iy(j);this.PZ(j.data,Y);return}if(!Y.ta())return;var fO=Y.B[Y.Y[0]].clone(),c7=[];
for(var y=0;y<Y.B.length;y++)if(Y.Y.indexOf(y)==-1)c7.push(Y.B[y]);c7.splice(Y.Y[0],0,fO);for(var y=1;
y<eE;y++)if(Y.B[Y.Y[y]].rect.Z()>2e6){alert("Blended areas are too large.");return}for(var y=1;y<eE;
y++){var e=Y.B[Y.Y[y]],j3=e.rect.clone();j3.VC(1,1);var iR=d.R(j3.Z()*4);d.iF(e.buffer,e.rect,iR,j3);
fO.extend(j3);var bi=d.R(j3.Z()*4);d.iF(fO.buffer,fO.rect,bi,j3);var j=d.R(j3.Z());d.JI(iR,j,3);d.round(j,200);
d.cb(j,iR,3);d.l.To("norm",iR,j3,bi,j3,j3,1);d.hR.e0(bi,j,j3);d.iF(bi,j3,fO.buffer,fO.rect)}var j=new dE([2,10,0],this);
j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:[Y.Y[0]]};Y.iy(j);this.PZ(j.data,Y)}if(f==S.qf){var c7=Y.B.slice(0),eJ=Y.Y.slice(0);
for(var y=0;y<c7.length;y++){var e=c7[y],iP=e.add.vmsk;if(e.sB()&&iP&&e.add.vstk.strokeEnabled.v&&!e.add.vstk.fillEnabled.v){var jy=iP.$,is=0,bQ=-1;
for(var iG=0;iG<jy.length;iG++){if((jy[iG].type==0||jy[iG].type==3)&&jy[iG].fa!=-1){is++;if(jy[iG].type==3&&bQ==-1){jy[iG].VB=jy[iG].fa=1;
bQ=iG}}}if(is>1&&bQ!=-1&&is<10){console.log("separating an open path into a new layer");e=e.clone();
iP=e.add.vmsk;jy=iP.$;var g=jy[bQ].length,d1=e.clone();d1.add.lyid=Y.Zj();iP.$=jy.slice(0,2).concat(jy.slice(bQ,bQ+g+1));
iP.Y=[];e.WG(Y);e.W();var jp=d1.add.vmsk.$;d1.add.vmsk.$=jp.slice(0,bQ).concat(jp.slice(bQ+g+1,jp.length));
d1.add.vmsk.Y=[];d1.WG(Y);c7[y]=e;c7.splice(y+1,0,d1);for(var iG=0;iG<eJ.length;iG++)if(eJ[iG]>y)eJ[iG]++;
var hc=eJ.indexOf(y);if(hc!=-1){eJ.splice(hc+1,0,y+1)}}}}if(c7.length!=Y.B.length){var j=new dE("Splitting open paths",this);
j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:eJ};Y.iy(j);this.PZ(j.data,Y)}}if(f==S.MQ){this.yx({d:S.qf},o,Y,c,z);
var df=Y.Y.slice(0),f$=Y.B.slice(0),bd=Y.FK();if(bd.length==0)return;Y.abU(bd,!1,K.ks);var j=new dE([6,36,0],this);
j.data={d:S.Tx,BI:f$,HH:Y.B.slice(),ea:df,Ye:Y.Y.slice(0)};Y.iy(j);this.PZ(j.data,Y)}if(f==S.a5h){var bF=E.add.SoLd;
if(bF==null)return;var eC=bF.Idnt.v,jl=Y.yo(eC);jl.Gl(!1);var c9=jl.W3[0],j3=jl.W3[1];if(d.X1(c9)){alert("The smart object contains transparency.");
return}var gz=fv.WD("jpg").vc([[c9.buffer]],j3.m,j3.e,[90]);this.yx({d:S.DP,data:new Uint8Array(gz),oF:"image.jpg"},o,Y,c,z);
console.log(Y.add);return}if(f==S.DP){var dm=K.l_,eC=K.id;if(dm==null)dm=Y;if(eC==null)eC=E.add.SoLd.Idnt.v;
var hZ=dm.yo(eC),a3=hZ.clone();a3.raw=K.data;a3.oF=K.oF;var aF=fv.sR(K.data.buffer);if(aF=="psd"){a3.Gm="8BIM";
a3.ut="8BPB"}else{a3.Gm="    ";a3.ut="    "}a3.Gl(!1);hZ.Gl(!1);var j=new dE([6,36,1],this);j.data={d:S.DP,id:eC,oE:hZ,ZD:a3};
dm.iy(j);this.PZ(j.data,dm)}if(f==S.pr){var j=new dE([6,36,4],this);j.data={d:f,a:$,UZ:E.add.SoLd.Impr.v.classID,Wx:K.Wx};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.a2f){var im,e_;if(K.O$){im=K.l_;e_=K.O$}else{K.l_.Sm();K.l_.t4();K.l_.W();
K.l_.Uj();K.l_.Gl();im=fv.WD("PSD").vc(K.l_,0,0,[!0,!0]);e_=K.l_.name}if(!(im instanceof ArrayBuffer))throw"e";
im=new Uint8Array(im);var Q=K.JZ;if(Q==null){if(Y.Y.length==0)Q=Y.Y.length;else{var fV=Y.Y[Y.Y.length-1],g=Y.B[fV];
Q=g.f$()?fV:fV+1}}var ku=new hD(0,0,Y.m,Y.e),dT=Y.pH();if(dT!=-1)ku=Y.B[dT].Yv();var i$=Y.o3(im,e_,null,null,ku,z.zl,o),c7=Y.B.slice(0);
c7.splice(Q,0,i$);var j=new dE([6,36,2],this);j.data={d:S.Tx,BI:Y.B.slice(),HH:c7,ea:Y.Y.slice(0),Ye:[c7.indexOf(i$)]};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.xs&&K.f4=="merge"){var dM=[],iI=Y.root.children,an=0;for(var y=0;y<iI.length;
y++){var l=iI[y],e=l.a,jB=l.children,aD=!0;if(!e.f$()||jB.length==0)continue;for(var iG=0;iG<jB.length;
iG++)if(!jB[iG].a.getName().startsWith("_a_")){aD=!1;break}if(aD)dM.push(Y.B.indexOf(e))}var jE=[];for(var y=0;
y<dM.length;y++)if(Y.Y.indexOf(dM[y])!=-1)jE.push(dM[y]);if(jE.length>=2)dM=jE;if(dM.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var gP=[];for(var y=0;y<dM.length;y++)gP.push(Y.B[dM[y]].getName());var g2=[];for(var i3=0;i3<dM.length;
i3++){var l=Y.root.w3(dM[i3]),hH=[[],[],0,i3];g2.push(hH);for(var y=0;y<l.children.length;y++){var Z=l.children[y].index,e=l.children[y].a,bw=e.getName(),gR=20,e0=bw.split(",");
if(e0.length>1){var f5=parseInt(e0.pop());if(!isNaN(f5)&&f5!=0)gR=f5}if(gR<17)gR=17;hH[0].push(e);hH[1].push(gR);
hH[2]+=gR}}g2.sort(function(j,iR){return iR[2]-j[2]});if(g2[0][2]>2e3){var ks=0,hy=0;for(var y=0;y<g2.length;
y++){var g7=g2[y][1].length/g2[y][2];if(g7>hy){hy=g7;ks=y}}var i5=(g2[0][2]/1e3).toFixed(1),fd=window.confirm("- \""+gP[g2[0][3]]+"\" is "+i5+" seconds long\n"+"- \""+gP[g2[ks][3]]+"\" is playing at "+Math.round(hy*1e3)+" frames per second\n"+"A merged animation must be "+i5+" sec, up to "+Math.round(g2[0][2]*hy)+" frames. Proceed?");
if(!fd)return}var dj=g2[0],b7=dj[2];for(var iA=1;iA<g2.length;iA++){var hH=g2[iA],kf=1,as=hH[1].slice(0),hC=0;
while((kf+1)*hH[2]<=dj[2]){kf++;as=as.concat(hH[1])}hH[1]=as;hH[2]*=kf;var h8=dj[2]/hH[2];for(var y=0;
y<hH[1].length;y++){var io=Math.floor(hH[1][y]*h8);hH[1][y]=io;hC+=io}while(hC<b7){hC++;hH[1][hH[1].length-1]++}hH[2]=hC}var fN=[],fB=[],io=[];
for(var y=0;y<g2.length;y++){fN.push(0);fB.push(0)}while(an<b7){var bD=1e9,cK=-1;for(var y=0;y<g2.length;
y++){var gE=g2[y][1],bk=fN[y];if(bk!=gE.length&&fB[y]+gE[bk]<an+bD){cK=y;bD=fB[y]+gE[bk]-an}}fB[cK]+=g2[cK][1][fN[cK]];
fN[cK]++;if(bD!=0){io.push(bD);an+=bD}}for(var y=1;y<io.length;y++){var gd=io[y];if(gd<16&&(io[y-1]<16||y<io.length-1&&16<=io[y+1])){io[y-1]+=gd;
io.splice(y,1);y--}}var fJ=[],dm=new hD(0,0,Y.m,Y.e);for(var y=0;y<Y.B.length;y++){fJ[y]=Y.B[y].KL();
Y.B[y].dt(!1)}var c5=Y.Y.slice(0);Y.Y=dM;var eB=Y.FK();eB.sort(function(j,iR){return j-iR});var c7=[];
for(var y=0;y<Y.B.length;y++){if(eB.indexOf(y)==-1)c7.push(Y.B[y])}g2.sort(function(j,iR){return j[3]-iR[3]});
function c0(gE,gN){var y=0,aV=0;while(aV+gE[y]<=gN){aV+=gE[y];y++}return y}an=0;c7.splice(eB[0],0,Y.uR());
for(var cr=0;cr<io.length;cr++){var X=[];for(var y=0;y<g2.length;y++){var bk=c0(g2[y][1],an)%g2[y][0].length,e=g2[y][0][bk];
X.push(e)}var e=Y.Uu();for(var y=0;y<g2.length;y++){var hg=X[y],hW=Y.B[dM[y]];hg.dt(!0);hW.dt(!0)}Y.W();
Y.Uj();var c9=Y.Gl();e.rect=d.kL(c9,dm,2);e.buffer=d.R(e.rect.Z()*4);d.iF(c9,dm,e.buffer,e.rect);for(var y=0;
y<g2.length;y++){var hg=X[y],hW=Y.B[dM[y]];hg.dt(!1);hW.dt(!1)}e.dt(cr==0);e.vd("_a_frm"+cr+","+io[cr]);
c7.splice(eB[0]+1+cr,0,e);an+=io[cr]}var e=Y.Uu();e.vd(gP.join(" + "));e.YF="pass";e.add.lsct=eo.g5;
e.Gh=24;c7.splice(eB[0]+1+io.length,0,e);for(var y=0;y<Y.B.length;y++)Y.B[y].dt(fJ[y]);var j=new dE([6,12,0],this);
j.data={d:S.Tx,BI:Y.B,HH:c7,ea:c5,Ye:[eB[0]+1+io.length]};Y.iy(j);this.PZ(j.data,Y)}if(f==S.Vn||f==S.NE){var d4=Y.Y.length==1&&!Y.B[Y.Y[0]].f$(),jO=!0,i$=null,k5;
if(d4&&Y.Y[0]==0)return;var f$=Y.B.slice(0),df=Y.Y.slice(0);if(d4)Y.Y=[$,$-1];if(f==S.NE){Y.Y=[];for(var y=0;
y<Y.B.length;y++)if(Y.B[y].KL())Y.Y.push(y)}var bd=Y.FK();bd.sort(function(j,iR){return j-iR});var j5=new hD,dm=new hD(0,0,Y.m,Y.e);
for(var y=0;y<bd.length;y++){var Z=bd[y],e=Y.B[Z];if(e.f$()||e.getName()=="</Layer group>")continue;
jO=jO&&e.sB()&&e.add.vmsk!=null;j5=j5.Bb(Y.root.w3(Z)._U(Y,!0))}if(K.dP!=null&&!jO){alert("Select shape layers only.");
return}if(jO){var iP=null,bo=K.dP;for(var y=0;y<bd.length;y++){var g=Y.B[bd[y]];if(g.rect.Z()==0)continue;
if(i$==null){i$=g.clone();iP=i$.add.vmsk}else{var g=Y.B[bd[y]],jp=S.kZ.ge(g.add.vmsk.$);if(bo!=null)for(var iG=0;
iG<jp.length;iG++)if(jp[iG].fa!=null&&jp[iG].fa!=-1)jp[iG].fa=[1,2,3,0][bo];iP.$=iP.$.concat(jp.slice(2));
i$.add.vogk=i$.add.vogk.concat(JSON.parse(JSON.stringify(g.add.vogk)))}}i$.add.vmsk.dw=!0;i$.WG(Y)}else if(dm.wH(j5)){i$=Y.Uu();
i$.vd(Y.B[bd[bd.length-1]].getName());i$.rect=j5;i$.buffer=d.R(j5.Z()*4);var fR=Y.add.artd;delete Y.add.artd;
var fM=Y.Gl(bd);if(fR)Y.add.artd=fR;d.iF(fM,dm,i$.buffer,j5);i$.sc();i$.W()}else{Y.abU(bd,!0);i$=Y.B[Y.Y[0]];
Y.B.splice(Y.Y[0],1);var hq=Y.yo(i$.add.SoLd.Idnt.v);Y.add.lnk2.splice(Y.add.lnk2.indexOf(hq),1);delete i$.add.SoLd}var c8=b,ai=-1;
if(K.jU&&K.jU.Dplc&&K.jU.Dplc.v)c8=!0;if(c8&&f==S.NE&&Y.B[df[0]].Go()&&Y.B[df[0]].rect.xf()){ai=df[0]}if(ai!=-1||d4){var aS=Y.B[ai!=-1?ai:$-1];
i$.vd(aS.getName());i$.add.lclr=aS.add.lclr}var c7=[];for(var y=0;y<Y.B.length;y++)if(c8||bd.indexOf(y)==-1)if(y!=ai)c7.push(Y.B[y]);
var ba=bd[bd.length-1],ha=ba==Y.B.length-1?null:Y.B[ba+1],gy=ha?c7.indexOf(ha):c7.length;c7.splice(gy,0,i$);
k5=[gy];var j=new dE([6,12,0],this);j.data={d:S.Tx,BI:f$,HH:c7,ea:df,Ye:k5};Y.iy(j);this.PZ(j.data,Y)}if(f==S.at5){var fO=Y.Uu();
fO.rect=new hD(0,0,Y.m,Y.e);fO.buffer=d.R(fO.rect.Z()*4);d.nz(fO.buffer,4294967295);d.l.To("norm",Y.Gl(),fO.rect,fO.buffer,fO.rect,fO.rect,1);
fO.vd("Background");fO.add.lspf=1<<2;var j=new dE([6,12,1],this);j.data={d:S.Tx,BI:Y.B.slice(),HH:[fO],ea:Y.Y.slice(0),Ye:[0]};
Y.iy(j);this.PZ(j.data,Y)}var dq=f==S.Nj||f==S.RZ;if(f==S.zm||f==S.QK||f==S.k9||f==S.fC||dq){var e=dq?Y.be()[0]:Y.Uu(),iv=ca.get([0,3]),hF=K.GJ,iC=!1,aq,d8;
if(f==S.k9)iv=ca.get([12,76,1]);if(dq){if(Y.r){var gw=Y.B[Y.Y[0]],g5=gw.Ct(Y,Y.r);if(g5==null){alert("Copied area is empty");
return}e.rect=g5.rect;e.buffer=g5.r4;e.Ga(Y);e.dt(!0)}else hF=e.getName();e.add.lspf=0;e.z_=!1;if((e.Gh&1)!=0)e.Gh--}if(f==S.fC){e.rect=m.$m.azc(K.EZ,Y);
e.buffer=K.EZ.buffer.slice(0);if(K.Qo&&Y.r){e.F=new S.tp;e.F.rect=Y.r.rect;e.F.color=0;e.F.channel=Y.r.channel.slice(0)}}if(f==S.zm){this.track({Rk:"make",jU:{classID:"Mk",null:b0.x2("Lyr")}})}if(f==S.QK){e.Gh|=16;
var iw=K.jU.Usng.v,d5=iw.Type.v,ay=jh.Dz[d5.classID];iv=ca.get(jh.names[ay]);if(iw.Nm)hF=iw.Nm.v;e.add[ay]=fn.Ta(ay);
if(e.add[ay]==null)e.add[ay]={};for(var cl in d5)e.add[ay][cl]=JSON.parse(JSON.stringify(d5[cl]));e.F=m.$m.acY(Y);
e.xO=1}if(f==S.k9){e.Gh|=16;var j7=K.jU,iw=j7.Usng.v,kj=iw.Type.v,ab=iw.Shp;if(iw.Nm)hF=iw.Nm.v;if(ab==null){var av=Y.dK(),cF=av[0],kA=av[1];
if(kA.length!=0&&cF[kA[0]].UQ<0){var jo=cF[kA[0]].add;e.add.vmsk=jo.vmsk.clone();e.add.vstk=eF.oc.Ta(!0);
e.add.vogk=JSON.parse(JSON.stringify(jo.vogk));Y.n7=[]}else e.F=m.$m.acY(Y)}else{e.add.vmsk=new S.kZ;
e.add.vstk=JSON.parse(JSON.stringify(iw.strokeStyle?iw.strokeStyle.v:eF.oc.Ta(!0)));e.add.vogk=[];if(ab){var kv=d.SU.Qx(ab);
if(kv){e.add.vogk=[kv];e.add.vmsk.$.push({type:0,fa:1,length:0});d.SU.o7(e.add.vogk,e.add.vmsk)}else{ab=ab.v;
var dH=ab.classID;if(dH=="Plgn"){var aH=ab.Cntr.v,e5=ab.corner.v;aH=new jc(aH.Hrzn.v.val,aH.Vrtc.v.val);
e5=new jc(e5.Hrzn.v.val,e5.Vrtc.v.val);e.add.vmsk.$=d.j.OJ.E0(aH.x,aH.y,Math.sqrt(e5.x*e5.x+e5.y*e5.y),Math.atan2(e5.y,e5.x),ab.sides.v,0)}else if(dH=="customShape"){var dG=d.SU.BW(ab),jt=dG[2]-dG[0],hJ=dG[3]-dG[1],d0=z.qr,iu,jj;
for(var y=0;y<d0.length;y++)if(d0[y].gK==ab.Nm.v)iu=d0[y];if(iu){jj=S.kZ.ge(iu.$);d.j.k3(jj,new dF(jt,0,0,hJ,dG[0],dG[1]))}else jj=d.j.OJ.Rect(dG[0],dG[1],jt,hJ,0);
e.add.vmsk.$=jj}e.D8()}}}var cd={solidColorLayer:0,gradientLayer:1,patternLayer:2}[kj.classID],ak=["SoCo","GdFl","PtFl"][cd];
e.add[ak]=JSON.parse(JSON.stringify(eF.fN[cd]));if(cd==0)e.add[ak].Clr.v=d.H.eD(d.XK(z.qm));m.$m._Q(kj,e.add[ak],cd);
if(ab==null)iv=ca.get([6,48,0,cd]);if(ak=="PtFl"){var gm=e.add[ak].Ptrn.v,e0=eq.fF(gm,z.K_);if(e0==null)e0=eq.fF(gm,Y.add.Patt);
gm.Idnt.v=e0.id;Y.AG(e0)}e.WG(Y)}var eE=m.$m.v7(Y,iv+" ");e.vd(iv+" "+(eE+1));if(hF)e.vd(hF);var af=Y.Y.length==0?Y.B.length-1:Y.Y[Y.Y.length-1],fc=Y.B[af];
if(f==S.k9&&fc.Go()&&fc.rect.xf()){iC=!0;e.vd(fc.getName());aq=af}else{aq=af+(f==S.zm&&O&&!q?0:1);if(fc&&fc.add.lsct==eo.bl)aq--}if(K.a86)aq=Math.max(0,aq-1);
var c7=Y.B.slice(0);if(f==S.RZ){var fp=c7[Y.Y[0]]=c7[Y.Y[0]].clone(),b4=Y.r.channel.slice(0);d.oD(b4);
d.D$(b4,Y.r.rect,fp.buffer,fp.rect)}c7.splice(aq,iC?1:0,e);var gV=[5,2];if(f==S.zm)gV=[6,13];if(f==S.QK)gV=[6,1];
if(f==S.k9){gV=[6,48,1];var ab=K.jU.Usng.v.Shp;if(ab){var aI={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[ab.v.classID];
if(aI)gV=aI}}if(dq){gV=[6,49,f==S.Nj?0:1]}if(dq||f==S.k9||f==S.fC||f==S.QK)if(Y.r)d8=[Y.r,null];var j=new dE(gV,this);
j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:[aq],zs:d8};Y.iy(j);this.PZ(j.data,Y);if(f==S.k9&&ab==null&&cd!=0||f==S.QK){var s=new h1(w.E.L);
s.data={d:w.I.Ba,XQ:fW.CL._N};o.c(s)}}if(f==S.rr){var e=Y.Uu(),iv=ca.get([0,4]),eE=m.$m.v7(Y,iv+" ");
e.vd(iv+" "+(eE+1));e.YF="pass";e.add.lsct=eo.bl;e.Gh=24;if(K.GJ)e.vd(K.GJ);if(K.II!=null)e.add.lclr=K.II;
var g6=Y.uR(),af=$,aq=af+(O?0:1),c7=Y.B.slice(0);c7.splice(aq,0,g6,e);var j=new dE([6,20],this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:[aq+1]};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.bh||f==S.DO){var cu=f==S.bh?K.source:Y.Y[0],bX,cf,co=Y.Y.indexOf(cu)!=-1,hY=b|K.aAR,a8,bD=null;
if(co)a8=Y.FK();else a8=Y.wW(cu);a8.sort(function(j,iR){return j-iR});if(f==S.bh){bX=K.target;cf=K.Ao>.5}else if(K.target!=null){bX=Math.min(K.target,Y.B.length-1);
cf=K.target<Y.B.length;Y.YS=!0}else{var ck=K.f4;cf=ck>1;if(ck==0){bX=Y.B.length-1}if(ck==1){bX=a8[a8.length-1]+1;
var g=Y.wW(bX);if(g.indexOf(cu)==-1)bX+=g.length-1}if(ck==2){bX=a8[0]-1;var g=Y.wW(bX);if(g.indexOf(cu)==-1)bX-=g.length-1}if(ck==3){bX=0;
if(Y.B[0].add.lnsr=="bgnd")bX++}if(bX<0||bX>Y.B.length-1)return;Y.YS=!0}if(a8.indexOf(bX)!=-1&&!hY)return;
var kc=m.$m.nD(Y,a8,bX,cf,hY?Y.be(co?null:cu):null,f==S.bh&&K.Ao>.8),aB=kc.pop(),eJ=kc.pop(),c7=kc.pop(),dA=Y.Y;
Y.Y=[cu];var e1=Y.pH();Y.Y=[bX];var cA=Y.pH();if(cA==bX&&!cf)cA=-1;Y.Y=dA;if(cu==e1){}else if(e1!=cA){var bD=new jc(0,0);
if(e1!=-1){var j3=Y.B[e1].Yv();bD.x-=j3.x;bD.y-=j3.y}if(cA!=-1){var j3=Y.B[cA].Yv();bD.x+=j3.x;bD.y+=j3.y}}var j=new dE(hY?[6,0]:[6,35],this);
j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:eJ,RG:bD};Y.iy(j);this.PZ(j.data,Y);var j7={classID:"move",null:b0.x2("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:aB+(cf?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:hY}};
this.track({Rk:"move",jU:j7})}if(f==S.p5){if(K.pF){if(E==null||!E.f$())return;var l=Y.root.w3($),gW=Y.B.indexOf(l.at0),c7=Y.B.slice(0);
c7.splice($,1);c7.splice(gW,1);var eJ=[];for(var y=gW;y<$-1;y++)eJ.push(y);var j=new dE("Ungroup Layers",this);
j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:eJ};Y.iy(j);this.PZ(j.data,Y)}else{var e=Y.Uu(),iX=ca.get([0,4])+" ";
e.vd(iX+(m.$m.v7(Y,iX)+1));e.YF="pass";if(K.GJ)e.vd(K.GJ);if(K.II!=null)e.add.lclr=K.II;e.add.lsct=Y.Y.length==1?eo.bl:eo.g5;
e.Gh=24;var g6=Y.uR(),a8=Y.FK();if(a8.length==0)return;a8.sort(function(j,iR){return j-iR});var c7=[];
for(var y=0;y<Y.B.length;y++)if(a8.indexOf(y)==-1)c7.push(Y.B[y]);var af=Y.Y[Y.Y.length-1]-a8.length;
c7.splice(af+1,0,g6);for(var y=0;y<a8.length;y++)c7.splice(af+2+y,0,Y.B[a8[y]]);c7.splice(af+2+a8.length,0,e);
var j=new dE([6,9],this);j.data={d:S.Tx,BI:Y.B.slice(0),HH:c7,ea:Y.Y.slice(0),Ye:[c7.indexOf(e)]};Y.iy(j);
this.PZ(j.data,Y);var x={Rk:"make",Un:!0};x.jU={classID:"Mk",null:b0.x2("layerSection"),From:b0.x2("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:e.getName()}}}};
this.track(x)}}if(f==S.ahe){if(Y.Y.length!=1)return;var Q=Y.Y[0],gf=b;if(Y.B[Q].ue()==null&&!c.S(a1.rK)){f=S.FO;
K.aZ=Y.r?!gf?"RvlS":"HdSl":!gf?"RvlA":"HdAl"}else{f=S.ka;K.anZ=!0}}if(f==S.FO){if(Y.Y.length!=1)return;
var Q=Y.Y[0],e=Y.B[Q];if(e.add.vmsk&&e.F==null)e.WG(Y);var jZ=e.ue();if(jZ==null||K.a9R){var j=new dE(K.GJ?K.GJ:[6,21],this),c6=new S.tp,dp=K.aZ,ax=dp=="RvlS"||dp=="HdSl";
if(dp=="RvlS"||dp=="HdAl"||dp=="Trns")c6.color=0;if(ax){c6.channel=Y.r.channel.slice(0);c6.rect=Y.r.rect.clone();
if(dp=="HdSl")d.oD(c6.channel)}if(dp=="Trns"){c6.rect=e.rect.clone();c6.channel=d.R(e.rect.Z());d.JI(e.buffer,c6.channel,3)}j.data={d:S.ak,H3:[Q,jZ,c6],zs:ax?[Y.r,null]:null};
Y.iy(j);this.PZ(j.data,Y);Y.B[Q].xO=1;this.track({Rk:"make",jU:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:dp}}}})}}else if(f==S.a0R){var aW=Y.B[K.src],ee=Y.B[K.sL],j=new dE([6,21],this),ft=aW.ue(),fo=ee.ue(),ja=[K.src,ft,null,K.sL,fo,ft];
if(b||q){var bw=ft.clone();if(b)ja=[K.sL,fo,bw];else ja[5]=bw;if(q){d.oD(bw.channel);bw.color=255-bw.color}}j.data={d:S.ak,H3:ja};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.Jj){if(Y.Y.length!=1)return;var Q=$,f7=Y.B[Q].ue();if(f7!=null){var j=new dE([6,22],this);
j.data={d:S.ak,H3:[$,f7,null]};Y.iy(j);this.PZ(j.data,Y)}}if(f==S.sF){var f$=Y.B.slice(0),fO=E.clone(),eb=fO.ue();
d.D$(eb.dQ(fO.rect),fO.rect,fO.buffer,fO.rect);m.$m._q(Y,fO);fO.sc();Y.B[Y.Y[0]]=fO;var j=new dE([5,8],this);
j.data={d:S.Tx,BI:f$,HH:Y.B.slice(),ea:Y.Y.slice(0),Ye:Y.Y.slice(0)};Y.iy(j);this.PZ(j.data,Y)}if(f==S.Pi){if(Y.Y.length!=1)return;
var Q=Y.Y[0];if(Y.B[Q].wm(Y).F==null){var j=new dE([6,45],this);j.data={d:f,a:Q,F:new S.tp};Y.iy(j);
this.PZ(j.data,Y)}}if(f==S.Rr){if(Y.Y.length!=1)return;var Q=Y.Y[0];if(Y.B[Q].wm(Y).F!=null){var j=new dE([6,46],this);
j.data={d:f,a:Q,F:Y.B[Q].wm(Y).F};Y.iy(j);this.PZ(j.data,Y)}}if(f==S.ZF){if(K.src==null&&Y.Y.length!=1)return;
if(K.src!=null)$=K.src;if(Y.B[$].Mn()){var j=new dE([6,47],this),bF=JSON.stringify(Y.B[$].add.SoLd),jI=JSON.parse(bF);
delete jI.filterFX;j.data={d:S.Zh,Jz:[{UH:$,EJ:[bF,JSON.stringify(jI)],MZ:[Y.B[$].wm(Y),null]}]};Y.iy(j);
this.PZ(j.data,Y)}}if(f==S.ka){if(Y.Y.length!=1)return;if(E.add.vmsk==null){var j=new dE([6,23],this),jy=Y.dK(),aj=jy[1],jy=jy[0],c6,kv;
if(K.anZ&&aj.length!=0){var jo=jy[aj[0]].add;c6=jo.vmsk.clone();kv=jo.vogk}else{c6=new S.kZ;kv=[];c6.$[1].all=K.alW?0:1}j.data={d:f,a:$,ER:!0,F:c6,SU:JSON.stringify(kv),oc:null};
if(E.sB()){j.data.oc=Stroke.oc.Ta(!0)}Y.iy(j);this.PZ(j.data,Y)}}if(f==S.R6){var aW=Y.B[K.src],ee=Y.B[K.sL];
if(ee.add.vmsk)return;var j=new dE([6,23],this),iP=aW.add.vmsk;j.data={a:K.sL,ER:aW.bw,F:iP.clone(),SU:JSON.stringify(aW.add.vogk),oc:aW.add.vstk?JSON.stringify(aW.add.vstk):null};
if(b){j.data.d=S.ka}else{j.data.d=f;j.data.src=K.src;j.data.sL=K.sL}Y.iy(j);this.PZ(j.data,Y)}if(f==S.xL||f==S.WI){if(Y.Y.length!=1)return;
var e=Y.B[$],iP=e.add.vmsk;if(iP!=null){var ef=f==S.WI,j=new dE(ef?[6,8]:[6,24],this);j.data={d:S.xL,a:$,ER:e.bw,F:iP,SU:JSON.stringify(e.add.vogk),oc:e.add.vstk?JSON.stringify(e.add.vstk):null};
if(ef){j.data.DJ=iP.ue(e.add.vstk)}Y.iy(j);this.PZ(j.data,Y)}}if(f==S.ON){var j=new dE("Metadata",this);
j.data={d:f,ZR:JSON.stringify(Y.Ou),vi:JSON.stringify(K.vi)};Y.iy(j);this.PZ(j.data,Y)}if(f==S.UT){var fQ=K.sL?K.sL:Y,iH=fQ.name,hF=K.b+".psd";
if(iH==hF)return;var j=new dE([6,37],this);j.data={d:f,acE:iH,GJ:hF};if(K.aov!=!0)fQ.iy(j);this.PZ(j.data,fQ)}if(f==S.xs&&K.f4.endsWith("makeframes")){var cL=[],bG=K.f4.startsWith("make");
for(var y=0;y<Y.Y.length;y++){var Z=Y.Y[y],e=Y.B[Z],gY=e.getName(),dJ=gY.startsWith("_a_");if(bG==dJ||e.add.lsct==eo.iE)continue;
var ff=bG?"_a_"+gY:gY.slice(3);cL.push([Z,gY,ff,e.add.lnsr,null])}var j=new dE([6,37],this);j.data={d:S.No,VS:cL};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.No){var iH=E.getName(),hF=K.name.substring(0,255);if(iH==hF)return;
var j=new dE([6,37],this);j.data={d:f,VS:[[$,iH,hF,E.add.lnsr,null]]};Y.iy(j);this.PZ(j.data,Y);this.track(b0.pd("Nm",{t:"TEXT",v:hF}))}if(f==S.ow){var f8=Y.FK(),gC=[],cq=[];
for(var y=0;y<f8.length;y++){gC.push(Y.B[f8[y]].add.lclr);cq.push(K.a78)}var j=new dE([6,38],this);j.data={d:f,B:f8,ahy:gC,II:cq};
Y.iy(j);this.PZ(j.data,Y)}if(f==S.ih){var j=Y.history[Y.Eu];if(j!=null&&j.f==this&&j.data.d==f&&j.data.a==K.nI&&j.data.Wx.jm==K.Ea.jm)j.data.Wx=K.Ea;
else{j=new dE("Mask Density / Feather",this);j.data={d:f,a:K.nI,UZ:Y.B[K.nI].KT(K.Ea.jm),Wx:K.Ea};Y.iy(j)}this.PZ(j.data,Y)}if(f==S.B$){var fe=JSON.stringify(K.b),iD=JSON.parse(fe),j=Y.history[Y.Eu];
if(j!=null&&j.f==this&&j.data.d==f&&j.data.ls==K.ls&&j.data.zI.join(",")==K.zI.join(",")){for(var y=0;
y<K.zI.length;y++)j.data.$N[y]=iD;if(j.data.jU&&iD.ut!=0)m.$m._Q(iD.fe,j.data.jU.T.v,iD.ut-1)}else{j=new dE([11,6],this);
j.data={d:f,zI:K.zI,ls:K.ls,abn:[],$N:[]};var hA=!1;for(var y=0;y<K.zI.length;y++){var Z=K.zI[y],e=Y.B[Z],hT=K.ls?m.xY.AP(Y,Z):JSON.parse(JSON.stringify(e.add.vstk));
j.data.abn.push(hT);j.data.$N.push(iD);if(JSON.stringify(hT)!=fe)hA=!0}if(!hA)return;Y.iy(j);if(K.ls&&iD.ut>0){var j7=j.data.jU={classID:"setd",null:b0.x2("contentLayer",!0),T:{t:"Objc",v:{}}};
m.$m._Q(iD.fe,j7.T.v,iD.ut-1);this.track({Rk:"set",jU:j7})}}if(K.ls&&iD.ut==3)Y.AG(eq.fF(iD.fe.Ptrn.v,z.K_));
if(!K.ls){var bg=iD.strokeStyleContent.v;if(bg.classID==eF.oc.OV[2])Y.AG(eq.fF(bg.Ptrn.v,z.K_))}this.PZ(j.data,Y)}};
m.$m.nD=function(K,o,Y,c,z,f){var $=K.B[Y],E=[];if(z)E=K.B.slice(0);else for(var y=0;y<K.B.length;y++)if(o.indexOf(y)==-1)E.push(K.B[y]);
var b=E.indexOf($);if(f&&$.f$()&&$.add.lsct==eo.g5)b-=K.wW(Y).length-1;var q=[];for(var y=0;y<o.length;
y++){var O=b+(c?0:1)+y,j=z?z[y]:K.B[o[y]];E.splice(O,0,j);q.push(O)}return[E,q,b]};m.$m._Q=function(K,o,Y){var c=[eF.u4,eF.Eo,eF.Jo][Y];
if(o.classID==null)o.classID=["solidColorLayer","gradientLayer","patternLayer"][Y];for(var y=0;y<c.length;
y++)if(K[c[y]])o[c[y]]=JSON.parse(JSON.stringify(K[c[y]]))};m.$m.acY=function(K){var o=new S.tp;if(K.r!=null){o.color=0;
o.channel=K.r.channel.slice(0);o.rect=K.r.rect.clone()}return o};m.$m._H=function(K,o,Y,c,z){var f=c.m/Y.m,$=c.e/Y.e,E=c.m/2,b=c.e/2,q=d.M.Yq(c).z;
for(var y=0;y<K.B.length;y++){var O=K.B[y],j=O.add.SoLd;if(j==null||j.Idnt.v!=o)continue;if(f!=1||$!=1){var A=m.OB.lA(j.nonAffineTransform),R=d.D.P_(A,c),g=new dF;
g.translate(-E,-b);g.scale(f,$);g.translate(E,b);var H=d.D.mL(R,d.D.lK(g)),i=q.slice(0);d.D.i(H,i);j.Trnf=m.OB.c5(i);
j.nonAffineTransform=m.OB.c5(i);if(d.qN.B_(j.quiltWarp.v)){var h=j.quiltWarp.v.bounds.v;h.Rght.v.val=c.m;
h.Btom.v.val=c.e}}O.Mc(K,null,z)}K.W()};m.$m.a6t=function(K,o,Y){o.color=255-o.color;d.oD(o.channel);
o.dw=!0;K.WG(Y);Y.W()};m.$m.prototype.mt=function(K,o){var Y=K.d,c=o.B[K.a];o.jS=!0;if(Y==S.DP){o.add.lnk2.splice(o.add.lnk2.indexOf(K.ZD),1,K.oE);
m.$m._H(o,K.id,K.ZD.W3[1],K.oE.W3[1])}if(Y==S.pr){c.add.SoLd.Impr.v.classID=K.UZ;c.Mc(o)}if(Y==S.N9){var z=JSON.parse(K.zI);
for(var y=0;y<z.length;y++)o.B[z[y]].YF=K.ss[y];o.W()}if(Y==S._n){var z=JSON.parse(K.zI);for(var y=0;
y<z.length;y++)o.B[z[y]].opacity=K.ss[y];o.W()}if(Y==S.JM){var z=JSON.parse(K.zI);for(var y=0;y<z.length;
y++)if(o.B[z[y]].add.lsct!=eo.iE)o.B[z[y]].add.lspf=K.ss[y]}if(Y==S.GQ){var f=K.fk,$=K.aCa;delete c.add[f[0]];
if($[0]!="----")c.add[$[0]]=$[1]}if(Y==S.Gy){c.add.iOpa=K.ss;o.W()}if(Y==S.WF){for(var y=0;y<K.zI.length;
y++){var E=o.B[K.zI[y]];E.dt(!E.KL())}o.W()}if(Y==S.mW){var b=c.ue();b.isEnabled=!b.isEnabled;c.WG(o);
o.W()}if(Y==S.us){var b=c.wm(o).F;b.isEnabled=!b.isEnabled;c.W();o.W()}if(Y==S.sX){var b=c.add.vmsk;
b.isEnabled=!b.isEnabled;if(!b.isEnabled){if(c.DJ){c.F=c.DJ;c.DJ=null}else c.F=null}else if(c.F){c.DJ=c.F;
c.F=null}c.WG(o);o.W()}if(Y==S.I4){c.z_=!c.z_;o.W()}if(Y==S.Co){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.DM.w1=!0;o.W()}if(Y==S.nK){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.Tv(o);o.W()}if(Y==S.NZ){var q=K.index,O=c.add.lmfx[eF.nk[q[0]]].v[q[1]].v;
O.enab.v=!O.enab.v;c.DM.w1=!0;o.W()}if(Y==S.fR){var j=o.B[K.de],A=o.B[K.hK],R=K.azA,g=K.axf;if(R=="")delete j.add.lmfx;
else j.add.lmfx=JSON.parse(R);if(g=="")delete A.add.lmfx;else A.add.lmfx=JSON.parse(g);j.DM.w1=!0;A.DM.w1=!0;
o.W()}if(Y==S.tz){var H=c.add.SoLd.filterFX.v.filterFXList.v[K.index].v;H.enab.v=!H.enab.v;c.Tv(o);o.W()}if(Y==S.abX){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(K.a54));
c.Tv(o);o.W()}if(Y==S.uo){var b=c.ue();b.wn=!b.wn}if(Y==S.D1){var b=c.add.vmsk;b.wn=!b.wn}if(Y==S.b3){var i=JSON.parse(K.a2V);
o.YK=i[0];o.Mv=i[1]}if(Y==S.PM){var i=K.Bo;for(var y=0;y<i.length;y+=2){var h=i[y],E=h>=0?o.B[h]:o.V9[-1-h];
E.add.vogk=JSON.parse(i[y+1]);d.SU.o7(E.add.vogk,E.add.vmsk);if(h>=0)E.WG(o)}o.W()}if(Y==S.a6){c.add.artb=JSON.parse(K.axh);
o.W();m.XX.HZ(o,K)}if(Y==S.ps){o.r=K.WB;o.Kl=K.Bo.slice(0);o.Md=K.I6.slice(0);o.px=o.Pb=!0}if(Y==S.Xn){c.kw=!c.kw}if(Y==S._i){var x=K.ans;
for(var y=0;y<x.length;y++)o.B[y].RY=x[y]}if(Y==S.Tx){if(K.RG)m.sq.xH(o,o.Y,null,-K.RG.x,-K.RG.y);if(K.ea)o.Y=K.ea;
if(K.zs)o.r=K.zs[0];o.d5=null;o.W();o.$p(K.BI);m.XX.HZ(o,K);if(K.v8)o.tg(K.v8[0])}if(Y==S.ak){for(var y=0;
y<K.H3.length;y+=3)m.$m._q(o,o.B[K.H3[y]],K.H3[y+1]);if(K.zs){var F=K.zs[0];if(F==null)delete o.r;else o.r=F}}if(Y==S.Pi){c.wm(o).F=null;
c.W();o.W()}if(Y==S.Rr){c.wm(o).F=K.F;c.W();o.W()}if(Y==S.Zh){m.$m.aoz(o,K.Jz,0)}if(Y==S.ka){m.$m.qs(o,c,!0)}if(Y==S.R6){m.$m.qs(o,o.B[K.sL],K.F.isEnabled);
m.$m.jv(o,o.B[K.src],K)}if(Y==S.xL){if(K.DJ)m.$m._q(o,c,null);m.$m.jv(o,c,K)}if(Y==S.ON){o.Ou=JSON.parse(K.ZR)}if(Y==S.UT){o.name=K.acE}if(Y==S.No){for(var y=0;
y<K.VS.length;y++){var X=K.VS[y],E=o.B[X[0]];E.vd(X[1]);if(X[3])E.add.lnsr=X[3];else delete E.add.lnsr}}if(Y==S.ow){for(var y=0;
y<K.B.length;y++)o.B[K.B[y]].add.lclr=K.ahy[y]}if(Y==S.B$){var V=K.abn;for(var y=0;y<K.zI.length;y++){var E=o.B[K.zI[y]],U=V[y];
if(!K.ls)E.add.vstk=JSON.parse(JSON.stringify(U));else m.xY.Vx(E,JSON.parse(JSON.stringify(U)));E.Da(o)}o.W()}if(Y==S.ih){c.anU(K.UZ);
c.WG(o);o.W()}o.Pb=!0};m.$m.prototype.PZ=function(K,o){var Y=K.d,c=o.B[K.a];o.jS=!0;if(Y==S.DP){o.add.lnk2.splice(o.add.lnk2.indexOf(K.oE),1,K.ZD);
m.$m._H(o,K.id,K.oE.W3[1],K.ZD.W3[1])}if(Y==S.pr){c.add.SoLd.Impr.v.classID=K.Wx;c.Mc(o)}if(Y==S.N9){var z=JSON.parse(K.zI);
for(var y=0;y<z.length;y++)o.B[z[y]].YF=K.Wx;o.W()}if(Y==S._n){var z=JSON.parse(K.zI);for(var y=0;y<z.length;
y++)o.B[z[y]].opacity=K.Wx;o.W()}if(Y==S.JM){var z=JSON.parse(K.zI);for(var y=0;y<z.length;y++)if(o.B[z[y]].add.lsct!=eo.iE)o.B[z[y]].add.lspf=K.Wx[y]}if(Y==S.GQ){var f=K.aCa,$=K.fk;
delete c.add[f[0]];if($[0]!="----")c.add[$[0]]=$[1]}if(Y==S.Gy){c.add.iOpa=K.Wx;o.W()}if(Y==S.WF){for(var y=0;
y<K.zI.length;y++){var E=o.B[K.zI[y]];E.dt(!E.KL())}o.W()}if(Y==S.mW){var b=c.ue();b.isEnabled=!b.isEnabled;
c.WG(o);o.W()}if(Y==S.us){var b=c.wm(o).F;b.isEnabled=!b.isEnabled;c.W();o.W()}if(Y==S.sX){var b=c.add.vmsk;
b.isEnabled=!b.isEnabled;if(!b.isEnabled){if(c.DJ){c.F=c.DJ;c.DJ=null}else c.F=null}else if(c.F){c.DJ=c.F;
c.F=null}c.WG(o);o.W()}if(Y==S.I4){c.z_=!c.z_;o.W()}if(Y==S.Co){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.DM.w1=!0;o.W()}if(Y==S.nK){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.Tv(o);o.W()}if(Y==S.NZ){var q=K.index,O=c.add.lmfx[eF.nk[q[0]]].v[q[1]].v;
O.enab.v=!O.enab.v;c.DM.w1=!0;o.W()}if(Y==S.fR){var j=o.B[K.de],A=o.B[K.hK],R=K.a9u,g=K.agW;if(R=="")delete j.add.lmfx;
else j.add.lmfx=JSON.parse(R);if(g=="")delete A.add.lmfx;else A.add.lmfx=JSON.parse(g);j.DM.w1=!0;A.DM.w1=!0;
o.W()}if(Y==S.tz){var H=c.add.SoLd.filterFX.v.filterFXList.v[K.index].v;H.enab.v=!H.enab.v;c.Tv(o);o.W()}if(Y==S.abX){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(K.a0x));
c.Tv(o);o.W()}if(Y==S.uo){var b=c.ue();b.wn=!b.wn}if(Y==S.D1){var b=c.add.vmsk;b.wn=!b.wn}if(Y==S.b3){var i=JSON.parse(K.aaq);
o.YK=i[0];o.Mv=i[1]}if(Y==S.PM){var i=K.Pn;for(var y=0;y<i.length;y+=2){var h=i[y],E=h>=0?o.B[h]:o.V9[-1-h];
E.add.vogk=JSON.parse(i[y+1]);d.SU.o7(E.add.vogk,E.add.vmsk);if(h>=0)E.WG(o)}o.W()}if(Y==S.a6){c.add.artb=JSON.parse(K.fh);
o.W();m.XX.XU(o,K)}if(Y==S.ps){o.r=K.HR;o.Kl=K.Pn.slice(0);o.Md=K.Y5.slice(0);o.px=o.Pb=!0}if(Y==S.Xn){c.kw=!c.kw}if(Y==S._i){var x=K.aob;
for(var y=0;y<x.length;y++)o.B[y].RY=x[y]}if(Y==S.Tx){o.aog();var F=K.HH,X=0,V;for(var y=0;y<F.length;
y++){var E=F[y],U=E.add.lsct;if(U==eo.iE)X++;else if(U==eo.bl||U==eo.g5)X--;if(E.add.artb&&X!=0)V="Artboards can not be inside folders."}if(V){o.history.pop();
o.Eu--;alert(V);return}m.XX.XU(o,K);if(K.Ye)o.Y=K.Ye;if(K.zs)o.r=K.zs[1];o.d5=null;o.W();o.$p(K.HH);
if(K.RG)m.sq.xH(o,o.Y,null,K.RG.x,K.RG.y);if(K.v8)o.tg(K.v8[1])}if(Y==S.ak){for(var y=0;y<K.H3.length;
y+=3)m.$m._q(o,o.B[K.H3[y]],K.H3[y+2]);if(K.zs){var Z=K.zs[1];if(Z==null)delete o.r;else o.r=Z}}if(Y==S.Pi){c.wm(o).F=K.F;
c.xO=0;c.W();o.W()}if(Y==S.Rr){c.wm(o).F=null;c.xO=0;c.W();o.W()}if(Y==S.Zh){m.$m.aoz(o,K.Jz,1)}if(Y==S.ka){m.$m.jv(o,c,K)}if(Y==S.R6){m.$m.qs(o,o.B[K.src],K.F.isEnabled);
m.$m.jv(o,o.B[K.sL],K)}if(Y==S.xL){m.$m.qs(o,c,K.F.isEnabled);if(K.DJ)m.$m._q(o,c,K.DJ)}if(Y==S.ON){o.Ou=JSON.parse(K.vi)}if(Y==S.UT){o.name=K.GJ}if(Y==S.No){for(var y=0;
y<K.VS.length;y++){var T=K.VS[y],E=o.B[T[0]];E.vd(T[2]);if(T[4])E.add.lnsr=T[4];else delete E.add.lnsr}}if(Y==S.ow){for(var y=0;
y<K.B.length;y++)o.B[K.B[y]].add.lclr=K.II[y]}if(Y==S.B$){var v=K.$N;for(var y=0;y<K.zI.length;y++){var E=o.B[K.zI[y]],P=v[y];
if(!K.ls)E.add.vstk=JSON.parse(JSON.stringify(P));else m.xY.Vx(E,JSON.parse(JSON.stringify(P)));E.Da(o)}o.W()}if(Y==S.ih){c.anU(K.Wx);
c.WG(o);o.W()}o.Pb=!0};m.$m.v7=function(K,o){var Y=0;for(var y=0;y<K.B.length;y++){var c=K.B[y].getName();
if(c.startsWith(o)){var z=c.slice(o.length).trim(),f=parseInt(z);if(!isNaN(f)&&f+""==z&&f>Y)Y=f}}return Y};
m.$m.aoz=function(K,o,Y){for(var y=0;y<o.length;y++){var c=o[y],z=K.B[c.UH];if(c.EJ){z.add.SoLd=JSON.parse(c.EJ[Y])}if(c.MZ){if(c.MZ[1-Y]!=null)K.YV(c.MZ[1-Y]);
if(c.MZ[Y]!=null)K.qj(c.MZ[Y]);else z.xO=0}z.Mc(K)}};m.$m.azc=function(K,o){var Y=K.va,c=K.rect.clone();
if(Y!=null&&(Y.x!=o.m||Y.y!=o.e)){c.x=Math.floor((o.m-c.m)/2);c.y=Math.floor((o.e-c.e)/2)}else if(Y==null){var z=new hD(0,0,o.m,o.e),f=o.pH();
if(f!=-1)z=o.B[f].Yv();c.x+=z.x;c.y+=z.y}return c};m.$m.a4B=function(K,o){if(o.DJ)o.DJ=null;else o.F=null;
o.WG(K);K.W();o.xO=0};m.$m._q=function(K,o,Y){var c=o.ue();if(c==null&&Y==null)return;if(c)m.$m.a4B(K,o);
if(Y==null)return;if(o.F)o.DJ=Y;else o.F=Y;o.WG(K);K.W()};m.$m.qs=function(K,o,Y){if(o.DJ&&Y){o.F=o.DJ;
o.DJ=null}else if(o.F&&Y){o.F=null}delete o.add.vogk;delete o.add.vstk;delete o.add.vmsk;o.WG(K);o.bw=!1;
K.d5=[];K.W()};m.$m.jv=function(K,o,Y){o.add.vogk=JSON.parse(Y.SU);if(Y.oc)o.add.vstk=JSON.parse(Y.oc);
else delete o.add.vstk;o.add.vmsk=Y.F.clone();if(o.F&&o.add.vmsk.isEnabled)o.DJ=o.F;o.WG(K);o.bw=Y.ER;
K.d5=[K.B.indexOf(o)];K.n7=[];K.W()};m.Pu=function(){m.Fh.call(this,"Layer Styles",m.la);this.P7=null;
this.cX=null;this.Vr=null;this.NF=[];this.O_=null};m.Pu.prototype=new m.Fh;m.Pu.prototype.yx=function(K,o,Y,c,z){var f=K.a;
if(f==null)f=Y.Y[0];var $=Y.B[f],E=K.UQ;if(this.P7==null){this.Vr=m.Pu.Bh(Y,$);this.P7=JSON.stringify(this.Vr);
if($.add.lmfx)this.cX=JSON.stringify($.add.lmfx)}if($.add.lmfx==null){$.add.lmfx=JSON.parse(eF.default);
for(var y=0;y<eF.order.length;y++)$.add.lmfx[eF.nk[y]]={t:"VlLs",v:[]}}if(K.d=="scaleeffects"){if(K.b=="confirm"||K.b=="cancel"){this.yx({d:K.b},o,Y,c,z);
return}$.add.lmfx=JSON.parse(this.cX);eq.TY($.add.lmfx,K.b/100)}else if(K.d=="changeprop"){var b=null;
if(E!=0){var q=this.NF[E[0]];if(q==null)q=eF.NF[E[0]];q=JSON.parse(q);var O=$.add.lmfx[eF.nk[E[0]]].v;
if(O[E[1]]==null)O[E[1]]={t:"Objc",v:q};b=O[E[1]].v;for(var j in q)if(b[j]==null)b[j]=q[j]}if(K.d=="changeprop"){if(E==0){this.Vr[K.oV].v=K.b;
m.Pu.Xa(Y,$,this.Vr)}else if(K.oV=="lagl"){if(b.uglg&&b.uglg.v){Y.zL(K.b.val);this.Vr.gagl.v.val=Y.S3()}else b[K.oV].v=K.b}else if(K.oV=="Lald"){if(b.uglg.v){Y.C2(K.b.val);
this.Vr.avq=Y.qv()}else b[K.oV].v=K.b}else if((E[0]==3||E[0]==8)&&(K.oV=="Clr"||K.oV=="Grad")){if(K.oV=="Clr"){b.Clr={t:"Objc",v:K.b};
delete b.Grad}if(K.oV=="Grad"){b.Grad={t:"Objc",v:K.b};delete b.Clr}}else{b[K.oV].v=K.b}if(E!=0)this.NF[E[0]]=JSON.stringify(b)}if(E!=0)if(b.Ptrn)Y.AG(eq.fF(b.Ptrn.v,z.K_))}else if(K.d=="setstl"){var A=K.b.Lefx;
if(A)eq.auT(A,Y,z.K_);eq.akn(K.b,$,null,Y);this.Vr=m.Pu.Bh(Y,$)}else if(K.d=="st_dupsingle"){var R=$.add.lmfx[eF.nk[K.Vp[0]]].v;
if(R[K.Vp[1]]==null)return;var g=JSON.parse(JSON.stringify(R[K.Vp[1]]));R.splice(K.Vp[1],0,g)}else if(K.d=="st_movsingle"){var H=K.Vp[1],R=$.add.lmfx[eF.nk[K.Vp[0]]].v;
if(R[K.Vp[1]]==null)return;var i=Math.max(0,Math.min(R.length-1,H+K.a4Y)),h=R[i];R[i]=R[H];R[H]=h}else if(K.d=="cancel"){if(this.cX==null)delete $.add.lmfx;
else $.add.lmfx=JSON.parse(this.cX);m.Pu.Xa(Y,$,JSON.parse(this.P7));this.P7=null;this.cX=null}else if(K.d=="confirm"){var x=JSON.stringify($.add.lmfx),F=new dE([11,6],this);
F.data={B:[f],Wv:[this.cX],pM:[x],Mw:[this.P7],s$:[JSON.stringify(this.Vr)]};Y.iy(F);this.P7=null;this.cX=null;
if(x!=null){var X=JSON.parse(x);kE.aJ(X);X.classID="Lefx";delete X.masterFXSwitch;var V=new h1(w.E.hP);
V.vk=!0;V.data={Rk:"set",Un:!0};var U=b0.x2("Lyr",!0);U.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
V.data.jU={__name:"Set",classID:"setd",null:U,T:{t:"Objc",v:X}};o.c(V)}}else if(K.d=="st_copy"){this.O_=[this.P7,this.cX];
this.P7=null;this.cX=null}else if(K.d=="st_paste"||K.d=="st_clear"){if(K.d=="st_paste"&&this.O_==null)return;
var Z=K.a!=null?[K.a]:Y.Y.slice(0),T=[],v=[],P=[],p=[];for(var y=0;y<Z.length;y++){var $=Y.B[Z[y]],a=m.Pu.Bh(Y,$);
T.push($.add.lmfx?JSON.stringify($.add.lmfx):null);P.push(JSON.stringify(a));if(K.d=="st_paste"){v.push(this.O_[1]);
p.push(this.O_[0])}else{v.push(null);a.lrMd.v=0;a.Opct.v.val=100;a.iOpa.v.val=100;a.blIf={v:[]};for(var D=0;
D<10;D++)a.blIf.v.push(0,0,255,255);p.push(JSON.stringify(a))}}var F=new dE([11,6],this);F.data={B:Z,Wv:T,pM:v,Mw:P,s$:p};
this.PZ(F.data,Y);Y.iy(F);this.P7=null;this.cX=null}else{var n=this.Vr,X=null;if(K.d=="st_delsingle"){X=JSON.parse(this.cX);
X[eF.nk[K.Vp[0]]].v.splice(K.Vp[1],1);X=JSON.stringify(X)}if(X==null)delete $.add.lmfx;else $.add.lmfx=JSON.parse(X);
if(n!=null)m.Pu.Xa(Y,$,n);var F=new dE([11,6],this);F.data={B:[K.a],Wv:[this.cX],pM:[X],Mw:[this.P7],s$:[JSON.stringify(n)]};
Y.iy(F);this.P7=null;this.cX=null}$.DM.w1=!0;Y.jS=!0;Y.W()};m.Pu.Bh=function(K,o){if(o.add.iOpa==null)o.add.iOpa=255;
if(o.add.brst==null)o.add.brst=[1,1,1];var Y=o.f$()?["pass"].concat(jw.iu):jw.iu;return{lrMd:{v:Y.indexOf(o.YF)},Opct:{v:{type:"#Prc",val:Math.round(o.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(o.add.iOpa*100/255)},t:"UntF"},blIf:{v:o.c1.slice(0)},brst:{v:o.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:K.S3()}},avq:K.qv(),f$:o.f$()}};
m.Pu.Xa=function(K,o,Y){var c=o.f$()?["pass"].concat(jw.iu):jw.iu;o.YF=c[Y.lrMd.v];o.opacity=Math.round(Y.Opct.v.val*255/100);
o.add.iOpa=Math.round(Y.iOpa.v.val*255/100);o.c1=Y.blIf.v.slice(0);o.add.brst=Y.brst.v.slice(0);K.zL(Y.gagl.v.val);
K.C2(Y.avq)};m.Pu.prototype.mt=function(K,o){for(var y=0;y<K.B.length;y++){var Y=o.B[K.B[y]],c=K.Wv[y];
if(c==null)delete Y.add.lmfx;else Y.add.lmfx=JSON.parse(c);m.Pu.Xa(o,Y,JSON.parse(K.Mw[y]));Y.DM.w1=!0}o.jS=!0;
o.W()};m.Pu.prototype.PZ=function(K,o){for(var y=0;y<K.B.length;y++){var Y=o.B[K.B[y]],c=K.pM[y];if(c==null)delete Y.add.lmfx;
else Y.add.lmfx=JSON.parse(c);m.Pu.Xa(o,Y,JSON.parse(K.s$[y]));Y.DM.w1=!0}o.jS=!0;o.W()};m.gL=function(){m.Fh.call(this,"Layer Comps",m.oa)};
m.gL.prototype=new m.Fh;m.gL.prototype.yx=function(K,o,Y,c){var z=JSON.parse(JSON.stringify(Y.Fe)),f=JSON.parse(JSON.stringify(Y.Fe)),$=null,E=null,b=null,q=-1,O=!1;
if(K.d=="delLC"){var j=m.gL.Sa(Y.Fe,K.UQ),A=Y.Fe.lastAppliedComp?Y.Fe.lastAppliedComp.v:0;f.list.v.splice(j,1);
if(A==K.UQ)delete f.lastAppliedComp;$="Delete Layer Comp"}if(K.d=="editLC"){var j=m.gL.Sa(Y.Fe,K.UQ),R=f.list.v[j].v;
if(K.GJ!=null)R.Nm.v=K.GJ;if(K.ajP!=null){var g=K.ajP,H=R.capturedInfo.v,i=H&(1<<g)-1;H=H>>g;if((H&1)==1)H--;
else H++;R.capturedInfo.v=(H<<g)+i}$="Layer Comp properties"}if(K.d=="setLC"){m.gL.m0(Y);if(K.UQ==0)delete f.lastAppliedComp;
else f.lastAppliedComp={t:"long",v:K.UQ};$="Switch Layer Comp";O=!0}if(K.d=="updLC"){m.gL.m0(Y);E=m.gL.akz(Y,K.UQ);
b=m.gL.lo(Y,K.UQ);f.lastAppliedComp={t:"long",v:K.UQ};$="Update Layer Comp";q=K.UQ;O=!0}if(K.d=="addLC"){m.gL.m0(Y);
var h=1;for(var y=0;y<f.list.v.length;y++)h=Math.max(h,f.list.v[y].v.compID.v)+1;h+=Math.floor(Math.random()*1e4);
var x={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(f.list.v.length+1)},compID:{t:"long",v:h},capturedInfo:{t:"long",v:7}}};
f.list.v.push(x);f.lastAppliedComp={t:"long",v:h};$="New Layer Comp";var F=m.gL.lo(Y,h);m.gL.jl(Y,F,h)}var X=new dE($,this);
X.data={ag2:z,aAt:f,a2j:E,an6:b,UQ:q,Bf:O};this.PZ(X.data,Y);Y.iy(X)};m.gL.prototype.PZ=function(K,o){o.Fe=K.aAt;
o.jS=!0;if(K.an6)m.gL.jl(o,K.an6,K.UQ);if(K.Bf){var Y=o.Fe.lastAppliedComp?o.Fe.lastAppliedComp.v:0,c=m.gL.Sa(o.Fe,Y),z=c==-1?null:o.Fe.list.v[c].v,f=z?z.capturedInfo.v:7;
m.gL.DR(o,Y,f);o.W()}};m.gL.prototype.mt=function(K,o){o.Fe=K.ag2;o.jS=!0;if(K.a2j)m.gL.jl(o,K.a2j,K.UQ);
if(K.Bf){var Y=o.Fe.lastAppliedComp?o.Fe.lastAppliedComp.v:0,c=m.gL.Sa(o.Fe,Y),z=c==-1?null:o.Fe.list.v[c].v,f=z?z.capturedInfo.v:7;
m.gL.DR(o,Y,f);o.W()}};m.gL.m0=function(K){if(K.Fe.lastAppliedComp!=null||!K.IL)return;var o=m.gL.lo(K,0);
m.gL.jl(K,o,0);K.IL=!1};m.gL.Yy=function(K,o,Y){K.v.Hrzn.v+=o;K.v.Vrtc.v+=Y};m.gL.Sa=function(K,o){var Y=K.list.v;
for(var y=0;y<Y.length;y++)if(Y[y].v.compID.v==o)return y;return-1};m.gL.a0q=function(K){var o=K.layerSettings.v,z=null;
if(o.length==0)return;var Y="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),c=o[0].v;
if(c.enab==null)c.enab={t:"bool",v:!0};if(c.Ofst==null)c.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var y=0;y<o.length;y++){var f=o[y].v;if(z==null)z=JSON.parse(JSON.stringify(f));else for(var $=0;
$<Y.length;$++){var E=Y[$];if(f[E])z[E]=JSON.parse(JSON.stringify(f[E]))}o[y].v=JSON.parse(JSON.stringify(z))}};
m.gL.axi=function(K,o){var Y=K.add.shmd.cmls,c=Y.layerSettings.v;for(var z=0;z<c.length;z++){var f=c[z].v,$=f.compList.v[0].v;
if($==o)return z}return-1};m.gL.aAG=function(K,o){var Y=m.gL.axi(K,o);return Y==-1?null:K.add.shmd.cmls.layerSettings.v[Y].v};
m.gL.DR=function(K,o,Y){for(var y=0;y<K.B.length;y++){var c=K.B[y],z=c.add.shmd.cmls;if(z==null)continue;
var f=z.layerSettings.v,$=m.gL.aAG(c,o);if($==null){c.dt(!1);continue}if((Y&1)!=0){if($.enab)c.dt($.enab.v);
else c.dt(!0)}if((Y&2)!=0){if($.Ofst){var E=$.Ofst.v,b=c.GN(K),q=Math.round(E.Hrzn.v-b.x),O=Math.round(E.Vrtc.v-b.y);
if(q!=0||O!=0)m.sq.xH(K,[y],null,q,O)}}if((Y&4)!=0){if($.Lefx){var j=JSON.parse(JSON.stringify($.Lefx.v));
kE.oG(j);if(JSON.stringify(j)!=JSON.stringify(c.add.lmfx)){c.add.lmfx=j;c.DM.w1=!0}}else delete c.add.lmfx;
if($.blendOptions){var A=$.blendOptions.v;if(A.Opct)c.opacity=Math.round(255*A.Opct.v.val/100);if(A.fillOpacity)c.add.iOpa=Math.round(255*A.fillOpacity.v.val/100);
if(A.Md)c.YF=c.add.lsct==eo.iE?"norm":jw.Ef(A.Md.v.BlnM)}else{c.opacity=255;c.YF=c.f$()?"pass":"norm";
c.add.iOpa=255}}}};m.gL.akz=function(K,o){var Y={};for(var y=0;y<K.B.length;y++){var c=K.B[y];if(c.add.shmd==null||c.add.shmd.cmls==null)continue;
Y["l"+c.add.lyid]=JSON.parse(JSON.stringify(m.gL.aAG(c,o)))}return Y};m.gL.lo=function(K,o){var Y={};
for(var y=0;y<K.B.length;y++){var c=K.B[y],z=c.add.lyid;Y["l"+z]=m.gL.atM(K,c,o)}return Y};m.gL.atM=function(K,o,Y){var c=o.add.shmd?o.add.shmd.cmls:null,z={classID:"null"},f=o.GN(K),$={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:f.x},Vrtc:{t:"long",v:f.y}}};
z.compList={t:"VlLs",v:[{t:"long",v:Y}]};z.enab={t:"bool",v:o.KL()};z.Ofst=JSON.parse(JSON.stringify($));
z.FXRefPoint=JSON.parse(JSON.stringify(c&&c.origFXRefPoint?c.origFXRefPoint:$));z.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:jw.OM(o.YF)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*o.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:o.add.iOpa!=null?100*o.add.iOpa/255:100}}}};
if(o.add.vmsk){z.vectorMask={t:"Objc",v:{classID:"null"}};z.vectorMask.v.Ofst=JSON.parse(JSON.stringify($))}if(o.add.lmfx){z.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(o.add.lmfx))};
kE.aJ(z.Lefx.v)}return z};m.gL.ai6=function(K,o){var Y=o.add.lyid;if(o.add.shmd==null)o.add.shmd={};
if(o.add.shmd.cmls==null){o.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:Y},layerSettings:{t:"VlLs",v:[{t:"Objc",v:m.gL.atM(K,o,0)}]}}}};
m.gL.jl=function(K,o,Y){for(var y=0;y<K.B.length;y++){var c=K.B[y],z=c.add.lyid;m.gL.ai6(K,c);var f=c.add.shmd.cmls,$=f.layerSettings.v,E=o["l"+z];
if(E!=null)E={t:"Objc",v:JSON.parse(JSON.stringify(E))};var b=m.gL.axi(c,Y);if(b==-1){if(E==null)continue;
else $.push(E)}else{if(E==null)$.splice(b,1);else $[b]=E}}};m.gL.dB=function(K,o){for(var y=0;y<K.B.length;
y++){var Y=K.B[y],c=Y.add.lyid;if(Y.add.shmd==null||Y.add.shmd.cmls==null)continue;var z=Y.GN(K),f=Math.round(z.x),$=Math.round(z.y);
if(!o){f=-f;$=-$}var E=Y.add.shmd.cmls,b=E.layerSettings.v;if(E.origFXRefPoint)m.gL.Yy(E.origFXRefPoint,-f,-$);
for(var q=0;q<b.length;q++){var O=b[q].v;m.gL.Yy(O.Ofst,f,$);var j=O.imageMask,A=O.vectorMask;if(j&&j.v.Ofst)m.gL.Yy(j.v.Ofst,f,$);
if(A&&A.v.Ofst)m.gL.Yy(A.v.Ofst,f,$)}}};m.rE=function(){m.Fh.call(this,"Adjust Edit",m.Ay);this.vi=null;
this.gf=null};m.rE.prototype=new m.Fh;m.rE.y6=function(K,o,Y,c){if(c)o/=4;var z=0,f=0,$=255,E=0,b=0,q=255;
while(f+K[z]<o){f+=K[z];z++}while(E+K[$]<o){E+=K[$];$--}if(c){z-=Math.round(K[z]/(Y/32));$+=Math.round(K[$]/(Y/32));
if(z<0)b=Math.round(-z*255/($-z));if($>255)q=255-Math.round(($-255)*255/($-z))}return[Math.max(z,0),Math.min($,255),b,q,100]};
m.rE.prototype.yx=function(K,o,Y,c,z){var f=K.d;if(f=="auto"){var $=K.mJ,E=m.rE.getData(Y);for(var y=0;
y<E.length;y++){var b=E[y],q;if($<3){}else{var O=fn.Ta("hue2");bh.ef(O,0,[0,-100,0]);q=jh.GA("hue2",O)}jh.kf(q,b.r4,b.SQ,b.oJ)}m.rE.n1(Y,E);
m.rE.hM(Y,E,$<3?[4,16,$]:[19,7,0],this);Y.W()}if(f=="edit_layer")this.a6Q(K,o,Y,c);if(f=="edit"||f=="confirm"||f=="cancel")this.fg(K,o,Y,z,!0);
if(f=="start"){if(Y.Y.length==0)return;var j=Y.B[Y.Y[0]];if(j.add.SoLd&&j.xO<=0&&Y.Md.length==0){var A=new h1(w.E.U,!0);
A.f=m.lj;A.data={d:"start",pl:K.W2,ii:K.ii};o.c(A);return}if(!Y.ta(o,null,!0))return;if(dD[K.W2]&&K.ii==null){if(Y.Y.length!=1)alert("Will be applied to "+Y.Y.length+" layers.");
var A=new h1(w.E.L,!0);A.data={d:w.I.Gg,XQ:"afw_"+K.W2};o.c(A)}else{this.fg({d:"edit",ii:K.ii,pl:K.W2},o,Y,z);
this.fg({d:"confirm",pl:K.W2},o,Y,z)}}};m.rE.prototype.a6Q=function(K,o,Y,c){var z=K.d,f=Y.Y[0],$=Y.B[f],E=jh.get($.add),A;
if($.add[E]==null)return;var b=JSON.parse(JSON.stringify($.add[E]));for(var q in K.b)b[q]=K.b[q];var O=JSON.parse(JSON.stringify(b));
for(var q in jh.Dz)if(jh.Dz[q]==E)O.classID=q;var j=Y.history[Y.Eu];if(j&&j.f==this&&j.data.UZ!=null&&j.data.a==f)A=j;
else{var R=new h1(w.E.hP,!0),g={classID:"setd",null:b0.x2("AdjL",!0),T:{t:"Objc",v:O}};R.data={Un:!0,Rk:"set",jU:g};
o.c(R);var A=new dE([6,39],this);A.data={a:f,UZ:$.add[E],Wx:b,jq:g};Y.iy(A)}A.data.Wx=b;A.data.jq.T.v=O;
this.PZ(A.data,Y)};m.rE.getData=function(K,o,Y){var c=[],z=new hD(0,0,K.m,K.e),f=K.Md.length!=0?[-1-K.Md[0]]:K.Y;
for(var y=0;y<f.length;y++){var $=f[y],E=$<0?null:K.B[$],b={a:$,XJ:$<0?1:E.xO};c.push(b);var q=K.Kl[-1-$];
if(0<=$)q=E.xO<=0?null:E.xO==1?E.ue():E.wm(K).F;var O=q?q.rect:E.rect;if(K.r){b.oJ=K.r.rect.wu(o||q!=null?z:O)}else b.oJ=o||q!=null?O.Bb(z):O.clone();
if(Y)b.oJ=Y[y].oJ.clone();var j=b.oJ.Z();b.r4=d.R(j*4);if(q)m.oC.tI(q.channel,q.rect,q.color,b.r4,b.oJ);
else d.iF(E.buffer,O,b.r4,b.oJ);b.SQ=b.r4.slice(0);if(K.r){b.H3=d.R(j);d.u_(K.r.channel,K.r.rect,b.H3,b.oJ)}}return c};
m.rE.akA=function(K,o,Y){if(o==null)return o;var c=jh.RN(K,o),f;if(c==-1)return o;var z=Y.length>>>2,$=d.$w(Y),E=.001*z;
if(c==0||c==2)f=[[0,255,0,255,100],m.rE.y6($[1],E,z,c==2),m.rE.y6($[2],E,z,c==2),m.rE.y6($[3],E,z,c==2)];
if(c==1)f=[m.rE.y6($[0],E*.33,z,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var b=fn.Ta("levl");
for(var y=0;y<4;y++)jz.ef(b,y,f[y]);return b};m.rE.a89=function(K,o,Y,c){var z,f;if(Y.t=="name"){var $=0;
for(var E=0;E<K.B.length;E++)if(K.B[E].getName()==Y.v.val)$=E;if(K==o&&$==c.a){z=c.r4;f=c.oJ}else{var b=K.B[$];
z=b.buffer;f=b.rect}}else{f=new hD(0,0,K.m,K.e);z=K==o?c.Ol:K.Gl()}return[z,f]};m.rE.prototype.fg=function(K,o,Y,c){if(this.vi==null){if(K.pl=="aply")Y.B[Y.Y[0]].extend(new hD(0,0,Y.m,Y.e));
this.vi=m.rE.getData(Y,null,K.pl=="fade"?Y.VE().data:null);if(K.pl=="aply"||K.pl=="matc")this.vi[0].Ol=Y.Gl()}if(K.d=="edit"){this.gf=[K.pl,K.ii];
var z=this.vi[0],f=m.rE.akA(K.pl,K.ii,z.r4),$=jh.GA(K.pl,f);if(K.pl=="fade"||K.pl=="matc"||K.pl=="aply")$=K.ii;
if($!=null){for(var E=0;E<this.vi.length;E++){var b=this.vi[E];if(K.BH)d.kO(b.r4,b.SQ);else if(K.pl=="fade"){var q=jw.Ef(K.ii.Md.v.BlnM),O=K.ii.Opct.v.val/100,j=Y.VE().data[E];
d.kO(j.r4,b.SQ);if(q=="norm")d.l.OF(b.r4,b.oJ,b.SQ,b.oJ,null,null,null,b.oJ,O);else{var A=eq.Sq();A.Rm=!0;
for(var y=0;y<j.r4.length;y+=4)if(j.r4[y+3]!=b.r4[y+3]){A=null;break}d.l.To(q,b.r4,b.oJ,b.SQ,b.oJ,b.oJ,O,A)}}else if(K.pl=="matc"){var R;
if($.noReference&&$.noReference.v)R=b.r4;else{var g=$.Srce.v,H=g[1].v.val,i=o.n$,h=Y;for(var y=0;y<i.length;
y++)if(i[y].name==H)h=i[y];var x=m.rE.a89(h,Y,g[0],b);R=x[0]}fL(b.r4,b.oJ.m,b.oJ.e,R,b.SQ,[$.Lght.v,$.ClrR.v,$.Fade.v,$.neutralizeColor?$.neutralizeColor.v:!1])}else if(K.pl=="aply"){$=$.With.v;
var F=$.T.v,x=m.rE.a89(Y,Y,F[1],b),R=x[0],X=x[1],V=$.Clcl?$.Clcl.v.Clcn:null,q=V?jw.Ef(V):"norm",O=$.Opct?$.Opct.v.val/100:1,U=["RGB","Rd","Grn","Bl","Trsp"].indexOf(F[0].v.enum),f=$.Invr&&$.Invr.v;
if(f||U!=0){R=R.slice(0);if(f)d.a1E(R);if(U!=0){var Z=d.R(X.Z());d.JI(R,Z,U-1);if(U==4)d.oD(Z);for(var T=0;
T<3;T++)d.cb(Z,R,T)}}if(V=="Add"||V=="Sbtr"){var v=1/$.Scl.v,P=$.Ofst.v,p=V=="Add"?1:-1,a=new Uint8ClampedArray(b.SQ.buffer);
for(var y=0;y<R.length;y+=4){a[y]=(b.r4[y]+p*R[y])*v+P;a[y+1]=(b.r4[y+1]+p*R[y+1])*v+P;a[y+2]=(b.r4[y+2]+p*R[y+2])*v+P}}else{var A=eq.Sq();
A.Rm=$.PrsT&&$.PrsT.v;b.SQ.fill(0);b.SQ.set(b.r4);d.l.To(q,R,X,b.SQ,b.oJ,b.oJ,O,A)}}else jh.kf($,b.r4,b.SQ,b.oJ)}m.rE.n1(Y,this.vi)}}if(K.d=="cancel"){m.rE.aoB(Y,this.vi);
this.vi=null}if(K.d=="confirm"){var D={fade:[2,11],aply:[2,12],matc:[4,18]},n=D[K.pl];if(n==null)n=jh.names[K.pl];
var N=jh.RN(K.pl,this.gf[1]);if(N!=-1)n=[4,16,N];m.rE.hM(Y,this.vi,n,this);this.vi=null;if(N==-1)m.rE.JY(o,this.gf)}Y.W()};
m.rE.JY=function(K,o){var Y=o[0],c=o[1],z,f;if(jh.Ru[Y]){z=jh.Ru[Y];if(dD[Y])f=c}if(fn.Ru[Y]){z=fn.Ru[Y];
if(dD[Y])f=c}if(Y=="fade"){z="fade";f=c}if(Y=="matc"){z="matchColor";f=c}if(Y=="aply"){z="applyImageEvent";
f=c}if(z==null)return;var $=new h1(w.E.hP,!0);$.data={Un:!0,Rk:z};if(f){f=JSON.parse(JSON.stringify(f));
$.data.jU=f}K.c($)};m.rE.aoB=function(K,o){m.rE.fY(K,o)};m.rE.hM=function(K,o,Y,c){for(var y=0;y<o.length;
y++){var z=o[y],f=K.B[z.a],$=z.a<0?K.Kl[-1-z.a]:z.XJ<=0?null:z.XJ==1?f.ue():f.wm(K).F;if($){$.sc();$.dw=!0;
if(f)f.WG(K)}else{f.sc();f.W()}delete z.SQ;delete z.H3}var E=new dE(Y,c);E.data=o;K.iy(E);K.jS=!0};m.rE.n1=function(K,o,Y){for(var y=0;
y<o.length;y++){var c=o[y],z=K.B[c.a],f=Y?c.r4:c.SQ,$=c.oJ;if(c.XJ==0){z.extend($);if(c.H3){d.iF(c.r4,$,z.buffer,z.rect);
d.l.OF(f,$,z.buffer,z.rect,c.H3,$,0,$,1)}else d.iF(f,$,z.buffer,z.rect)}else{var E=c.a<0?K.Kl[-1-c.a]:c.XJ==1?z.ue():z.wm(K).F;
E.extend($);if(c.H3){var b=d.R($.Z()*4);d.kO(c.r4,b);d.l.OF(f,$,b,$,c.H3,$,0,$,1);m.oC.sN(b,$,E)}else m.oC.sN(f,$,E);
E.dw=!0;if(z)z.WG(K)}if(z)z.W()}if(!Y)m.rE.aoy(K,o)};m.rE.fY=function(K,o){for(var y=0;y<o.length;y++){var Y=o[y],c=K.B[Y.a],z=Y.oJ,f=d.R(z.Z()*4);
if(Y.XJ==0){d.iF(c.buffer,c.rect,f,z);c.extend(z);d.iF(Y.r4,z,c.buffer,c.rect);c.sc()}else{var $=Y.a<0?K.Kl[-1-Y.a]:Y.XJ==1?c.ue():c.wm(K).F;
m.oC.tI($.channel,$.rect,$.color,f,z);$.extend(z);m.oC.sN(Y.r4,z,$);$.sc();$.dw=!0;if(c)c.WG(K)}Y.r4=f;
if(c)c.W()}K.jS=!0};m.rE.gI=function(K){var o=0;for(var y=0;y<K.length;y++)o+=K[y].r4.length;return o};
m.rE.aoy=function(K,o){var Y=m.rE.ahg(K),c=~Y;if(Y==16777215)return;for(var y=0;y<o.length;y++){var z=o[y],f=K.B[z.a],$=z.oJ;
if(z.XJ!=0)continue;f.extend($);var E=$.x-f.rect.x,b=$.y-f.rect.y,q=f.rect.m,O=new Uint32Array(z.r4.buffer),j=new Uint32Array(f.buffer.buffer);
for(var A=0;A<$.e;A++)for(var R=0;R<$.m;R++){var g=A*$.m+R,H=(A+b)*q+(R+E);j[H]=j[H]&Y|O[g]&c}f.sc();
f.W()}K.W()};m.rE.ahg=function(K){var o=K.Q.v;return o[2]*16711680|o[1]*65280|o[0]*255};m.rE.prototype.mt=function(K,o){var Y=o.B[K.a];
if(K.UZ!=null)Y.add[jh.get(Y.add)]=K.UZ;else m.rE.fY(o,K);o.W()};m.rE.prototype.PZ=function(K,o){var Y=o.B[K.a];
if(K.UZ!=null)Y.add[jh.get(Y.add)]=K.Wx;else m.rE.fY(o,K);o.W()};m.rE.prototype.gI=function(K){return K.UZ==null?m.rE.gI(K):0};
m.H8=function(){m.Fh.call(this,"Filter Edit",m.lj);this.vi=null;this.CM=null;this.d=null;this.gf=null};
m.H8.prototype=new m.Fh;m.H8.prototype.yx=function(K,o,Y,c,z){if(K.d=="start"){if(Y.Y.length==0)return;
var f=Y.B[Y.Y[0]];if(f.add.SoLd&&f.xO<=0&&Y.Md.length==0){}else if(!Y.ta(o,null,!0))return;var $=K.pl;
if((dD[$]||fn.q[$])&&K.ii==null){if(Y.Y.length!=1)alert("Will be applied to "+Y.Y.length+" layers.");
var E=new h1(w.E.L,!0);E.data=m.H8.aBR($,this.a$(Y,$));o.c(E)}else{var b={d:"edit",pl:$,ii:K.ii,Qz:this.a$(Y)};
this.yx(b,o,Y,c,z);b.d="confirm";delete b.ii;this.yx(b,o,Y,c,z)}}if(K.d=="edit"||K.d=="cancel"||K.d=="confirm"){if(K.d=="edit")this.gf=[K.pl,K.ii];
if(K.Qz)this.aCj(K,o,Y,z);else this.a0W(K,o,Y,z)}if(K.d=="applylast"&&this.gf!=null){var b={d:"edit",pl:this.gf[0],ii:this.gf[1],Qz:this.a$(Y)};
this.yx(b,o,Y,c,z);b.d="confirm";delete b.ii;this.yx(b,o,Y,c,z)}};m.H8.aBR=function(K,o){var Y=fn.q[K];
if(Y)return{d:w.I.NR,f:Y,kM:{Qz:o}};else return{d:w.I.Gg,XQ:"afw_"+K,Qz:o}};m.H8.prototype.a$=function(K,o){var Y=K.B[K.Y[0]],c;
if(Y.add.SoLd&&Y.xO<=0&&K.Md.length==0){c={a:K.Y[0],index:0};if(Y.add.SoLd.filterFX!=null){var z=Y.add.SoLd.filterFX.v.filterFXList.v;
c.index=z.length;for(var y=0;y<z.length;y++)if(fn.UK(z[y].v)==o&&fn.q[o])c.index=y}}return c};m.H8.prototype.aCj=function(K,o,Y,c){var z=Y.B[K.Qz.a],f=K.pl;
if(K.d=="edit"){if(this.d==null){var $=fn.names[f];if($==null)$=jh.names[f];if(f=="blendOptions")$=[14,10];
this.d=new dE($,this);this.d.data={Qz:K.Qz,a4J:JSON.parse(JSON.stringify(z.add.SoLd))}}if(!z.Mn()){z.add.SoLd.filterFX=fn.iJ();
var E=this.d.data.MZ=h7.aaJ(z.add.SoLd.placed.v);Y.qj(E);if(Y.r){E.F.channel=Y.r.channel.slice(0);E.F.rect=Y.r.rect.clone();
E.F.color=0;this.d.data.WB=Y.r;Y.r=null}z.Mc(Y)}var b=z.add.SoLd.filterFX.v.filterFXList.v;if(b[K.Qz.index]==null){b.push(fn.PU(f,c))}if(K.ii){b[K.Qz.index].v.enab.v=K.BH!=!0;
if(f=="blendOptions")b[K.Qz.index].v.blendOptions.v=K.ii;else b[K.Qz.index].v.Fltr.v=K.ii}this.d.data.anw=JSON.parse(JSON.stringify(z.add.SoLd));
this.PZ(this.d.data,Y)}if(K.d=="cancel"){if(this.d)this.mt(this.d.data,Y);this.d=null}if(K.d=="confirm"){if(this.d)Y.iy(this.d);
m.rE.JY(o,this.gf);this.d=null}};m.H8.prototype.bY=function(K){return{o:K>>>16,A:K>>>8&255,J:K&255}};
m.H8.prototype.a0W=function(K,o,Y,c){if(this.vi==null){var z=fn.mA(K.pl,K.ii);this.vi=m.rE.getData(Y,z.x!=0||z.y!=0,K.pl=="VaPo"?[{oJ:K.Ol[1]}]:null)}if(K.d=="edit"){var f=JSON.stringify(K.ii);
if((K.ii==null||f!=this.CM)&&K.BH!=!0)for(var y=0;y<this.vi.length;y++){var $=this.vi[y],E={rect:$.oJ,buffer:$.r4},b={rect:$.oJ,buffer:$.SQ};
if(K.pl=="Avrg"&&$.H3){E.buffer=$.r4.slice(0);d.Ym($.H3,E.buffer)}fn.kf(K.pl,E,K.ii,this.bY(c.qm),this.bY(c.YQ),b,[Y.add.lnk2?Y.add.lnk2:[],Y.B[Y.Y[0]].ue(),Y.Kl,Y.dK()]);
if(K.pl=="VaPo"){d.iF(K.Ol[0],K.Ol[1],b.buffer,b.rect)}if(K.pl=="Avrg"&&$.H3){var q=$.r4.length;for(var y=0;
y<q;y+=4)$.SQ[y+3]=$.r4[y+3]}this.CM=f}m.rE.n1(Y,this.vi,K.BH)}if(K.d=="cancel"){m.rE.aoB(Y,this.vi);
this.vi=null;this.CM=null}if(K.d=="confirm"){if(K.pl=="VaPo"){this.vi.auX=JSON.stringify(Y.jr);this.vi.ID=JSON.stringify(K.b);
Y.jr=K.b}m.rE.hM(Y,this.vi,fn.names[K.pl],this);this.vi=null;this.CM=null;m.rE.JY(o,this.gf)}Y.W();Y.jS=!0};
m.H8.prototype.mt=function(K,o){if(K.ID)o.jr=JSON.parse(K.auX);if(K.Qz){var Y=o.B[K.Qz.a];if(K.MZ)o.YV(K.MZ);
if(K.WB)o.r=K.WB;Y.add.SoLd=JSON.parse(JSON.stringify(K.a4J));if(Y.Mn())Y.Tv(o);else{Y.Mc(o);Y.xO=0}}else m.rE.fY(o,K);
o.W();o.jS=!0};m.H8.prototype.PZ=function(K,o){if(K.ID)o.jr=JSON.parse(K.ID);if(K.Qz){var Y=o.B[K.Qz.a];
if(K.MZ)o.qj(K.MZ);if(K.WB)o.r=null;Y.add.SoLd=JSON.parse(JSON.stringify(K.anw));if(Y.Mn())Y.Tv(o);else Y.Mc(o);
if(!Y.LJ())Y.Gh+=32}else m.rE.fY(o,K);o.W();o.jS=!0};m.H8.prototype.gI=function(K){return K.Qz==null?m.rE.gI(K):0};
var bB={tk:"0",ra:"1",ne:"2",cw:"3",Cw:"3.5",j7:"4",Tq:"5",mI:"6",U4:"7",U:"8",Us:"8.5",wb:"8.8",Q5:"9",Kx:"10",tV:"11",Vo:"12",Xq:"13",NJ:"14",OT:"15",Ft:"16",uN:"17",R8:"21",yP:"22",PA:"23",gE:"23.0",dD:"23.1",mE:"23.2",Kc:"23.3",Qs:"23.4",XO:"23.5",xh:"23.6",abH:"30",lT:"31",j0:"40",oz:"41",Ap:"42"};
bB.eq={};bB.eq[bB.ra]=["abr","brushes",hn,[9,3],3];bB.eq[bB.ne]=["grd","gradients",ig,[12,37],4];bB.eq[bB.cw]=["shc","contours",bP,[12,21],0];
bB.eq[bB.Cw]=["acv","curves",fK,[4,2],0];bB.eq[bB.j7]=["asl","styles",bC,[12,22],5];bB.eq[bB.Tq]=["pat","patterns",ed,[12,62],6];
bB.eq[bB.mI]=["csh","shapes",a_,[12,77],7];bB.eq[bB.U4]=["aco","swatches",fl,[9,8],0];bB.eq[bB.U]=["atn","actions",i_,[9,9],2];
bB.eq[bB.Us]=["tpl","tpresets",hI,[9,12],0];bB.eq[bB.wb]=["icc","profiles",f1,"ICCs",8];function dE(K,o,Y){if(Y==null)Y=!1;
this.name=K;this.f=o;this.Fk=Y;this.data=null;this.aaR=Date.now()}dE.prototype.gI=function(){return this.f?this.f.gI(this.data):0};
var b0={};b0.x2=function(K,o){var Y={t:"Clss",v:{classID:K}};if(o)Y={t:"Enmr",v:{classID:K,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[Y]}};b0.pd=function(K,o){var Y={classID:"Lyr"};Y[K]=o;return{Rk:"set",jU:{classID:"null",null:b0.x2("Lyr",!0),T:{t:"Objc",v:Y}}}};
b0.ak9=function(K,o,Y,c,z){var f=new h1(w.E.hP,!0),$=[],y=0,E=b0.QZ(o,Y,c,$);while($.length!=0){var b=$.pop();
y++;if(!b.u)continue;console.log(y-1);if(b.Rk=="conditional"){var q=K.B[K.Y[0]],O=b.jU.null.v.Cndt,j=!1;
if(O=="Bckg")j=!1;else if(O=="Pxel"&&K.WM(!1))j=!0;else if(O=="Adjs"&&jh.get(q.add))j=!0;else if(O=="Shp"&&q.add.vogk)j=!0;
else if(O=="Grup"&&q.f$())j=!0;else if(O=="Opn"&&K!=null)j=!0;else if(O=="32Bt")j=!1;else if(O=="RGB")j=!0;
var A=b.jU.then,R=b.jU.else;if(j&&A)b0.QZ(o,A.v[0].v.val,A.v[1].v.val,$);if(!j&&R)b0.QZ(o,R.v[0].v.val,R.v[1].v.val,$)}else if(b.Rk=="stop"){if(b.jU.Cntn&&b.jU.Cntn.v==!0)window.confirm(b.jU.Msge.v);
else{alert(b.jU.Msge.v);break}}else if(b.Rk=="play"){var g=b.jU.null.v,H=new h1(w.E.L,!0);H.data={d:w.I.z8,$G:[g[0].v.val,g[1].v.val]};
z.c(H)}else{f.data={Rk:b.Rk,jU:b.jU};z.c(f)}}};b0.QZ=function(K,o,Y,c){var z;for(var y=0;y<K.length;
y++){if(K[y].Mx!=Y)continue;var f=K[y].k6;for(var $=0;$<f.length;$++){if(f[$].Mx!=o)continue;z=f[$].k6}}var E=z.length;
for(var y=0;y<E;y++)c.push(z[E-1-y])};b0.a0B=function(K){var o=K.Rk,Y=K.jU,c,$,E,b,q;if(Y&&Y.null)c=Y.null.v[0];
if(Y&&c==null&&Y.At)c=Y.At.v[0];if(c&&c.t=="obj ")c=c.v[0];var z=c&&c.v?c.v.classID:null,f=["purge"];
if(f.indexOf(o)!=-1)return o[0].toUpperCase()+o.slice(1);if(o=="GEfc"||o=="paintDaubs")return fU.names[Y.GEfk.v.GEft][1];
q=jh.Ru;for($ in q)if(q[$]==o)E=$;q=fn.Ru;for($ in q)if(q[$]==o)b=$;if(E){var O=jh.RN(E,Y);if(O!=-1)return[4,16,O];
return jh.names[E]}if(b)return fn.names[b];var j=b0.a4C;if(o=="make"){if(c){if(z=="AdjL")return[6,1];
else if(z=="layerSection")return Y.From?[6,9]:[6,20];else if(z=="Lyr")return[6,13];else if(z=="Chnl"&&c.v.enum=="Msk")return[6,2];
else if(z=="contentLayer")return[6,48,1];else if(z=="BckL")return"Make Background Layer";else if(z=="Path")return"Make Path";
else if(z=="TxLr")return"Make Text Layer";else if(z=="slice")return"Make Slices";else if(z=="Dcmn")return[11,7];
else if(z=="Gd")return[23,4]}if(Y.Nw){z=Y.Nw.v.classID;if(z=="Dcmn")return[11,7];else if(z=="Chnl"||z=="SCch")return"New Channel"}}else if(o=="deselect"){if(z=="Path")return"Deselect current path";
else throw z}else if(o=="draw"){return"Draw"}else if(o=="select"){if(z=="Chnl"){var A={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[c.v.enum];
if(A==null)A="";return"Select "+A+" Channel"}else if(z=="Mn")return"Select Panel \""+c.v.enum+"\"";else if(z=="Lyr"){if(c.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[c.v.enum]+" Layer";
return"Select Layer \""+c.v.val+"\""}else if(z=="Path")return"Select Path";else if(z=="Brsh")return"Select Brush";
else if(z=="Dcmn")return"Select Document"}else if(j[o]&&z=="Chnl"){var R=c.v.keyID=="fsel";return j[o]+" "+(R?"Selection":"Channel")}else if(o=="set"){if(z=="Lyr")return"Set Current Layer";
else if(z=="AdjL")return[6,39];else if(z=="contentLayer")return[6,48,2];else if(z=="Prpr"){var g=c.v.keyID;
if(g=="TxtS")return"Set Text Style";else if(g=="paragraphStyle")return"Set Paragraph Style";else if(g=="Lefx")return[11,6];
else console.log(g)}else if(z=="Clr")return"Set "+(c.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(z=="Brsh")return"Set Brush";else if(z=="Path")return"Set Work Path";else console.log(z)}else if(o=="move"){if(z=="Lyr")return"Move Layer";
else if(z=="Chnl"&&c.v.keyID=="fsel")return[7,7];else console.log(z)}else if(o=="show"||o=="hide"){var H="";
if(z=="Lyr")+"Layer";if(z=="Chnl")+"Channel";return(o=="show"?"Show":"Hide")+" "+H}else if(o=="reset"){if(z=="Clr")return"Reset Colors"}else if(o=="exchange"){if(z=="Clr")return[22,7,0]}else if(o=="rotateEventEnum")return[2,5];
else if(o=="flip"){var i=Y.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,i?2:3]]}if(o=="duplicate"&&z=="Dcmn")return"Duplicate first document";
if(z=="Chnl"){if(o=="duplicate"){if(c.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(o=="delete")return"Delete Channel"}if(o=="transform")return c&&c.v.keyID=="fsel"?[7,10]:[10,16];
var h={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:Y?z=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},x=h[o];
if(x==null)x=b0.a8z[o];if(x)return x;return o};b0.a8z={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
b0.a4C={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
b0.adK=function(K,o,Y,c){var z=K.Rk,f=K.jU,$=!1,E=new h1(w.E.U,!0),O,j,R,g;E.f=m._V;var b=new h1(w.E.L,!0),q=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(q.indexOf(z)!=-1)return;g=jh.Ru;for(O in g)if(g[O]==z)j=O;g=fn.Ru;for(O in g)if(g[O]==z)R=O;if(z=="fade")j=z;
if(z=="matchColor")j="matc";if(z=="applyImageEvent")j="aply";if(j){E.f=m.Ay;E.data={d:"start",W2:j,ii:f}}else if(R){E.f=m.lj;
E.data={d:"start",pl:R,ii:f}}else if(z=="GEfc"||z=="paintDaubs"){E.f=m.lj;E.data={d:"start",pl:"GEfc",ii:f}}else if(z=="imageSize"||z=="canvasSize"||z=="revealAll"||z=="trim"||z=="crop"){E.f=m.yk;
E.data={d:"fromAction",Sv:K}}else if(z=="fill"||z=="stroke"||z=="delete"&&f==null){var H=null;if(c.Y.length!=0)H=c.B[c.Y[0]];
var i=d.XK(Y.qm);if(H!=null&&z=="fill"&&H.add.TySh){var h="var c = new SolidColor();  c.rgb.red="+i.o+";  c.rgb.green="+i.A+";  c.rgb.blue="+i.J+";  app.activeDocument.activeLayer.textItem.color = c;";
b.data={d:w.I.nu,il:h}}else if(H!=null&&z=="delete"&&H.add.TySh){E.f=m.oB;E.data={d:"insertText",b:""}}else if(H!=null&&z=="fill"&&H.sB()){var E=new h1(w.E.hP,!0),f={classID:"setd",null:b0.x2("contentLayer",!0),T:{t:"Objc",v:{}}};
m.$m._Q({Clr:{t:"Objc",v:d.H.eD(d.XK(Y.qm))}},f.T.v,0);E.data={Rk:"set",jU:f};o.c(E);return}else{if(z=="stroke"&&f&&f.Usng)E.f=m.Ru[f.Usng.v.classID];
else E.f=Y.i5==m.gR?m.gR:m.ra;E.data={d:"fromAction",Sv:K}}}else if(z=="colorRange"||z=="grow"||z=="similar"){E.f=m.qR;
E.data={d:"fromAction",Sv:K}}else if(z=="set"&&f&&f.T&&f.T.v.Ordn=="Al"&&Y.i5==m.oB&&o.Aj().$l()){E.f=m.oB;
E.data={d:"selectAll"}}else if(b0.a8z[z]||b0.a4C[z]&&(!1||f.With&&f.With.v[0].v.keyID=="fsel"||f.From&&f.From.v[0].v.keyID=="fsel"||f.null&&f.null.v[0].v.keyID=="fsel"||f.T.v[0]&&f.T.v[0].v.keyID=="fsel")){E.f=m.at;
E.data={d:"fromAction",Sv:K}}var x={copyToLayer:S.Nj,cutToLayer:S.RZ,mergeLayersNew:S.Vn,rasterizeLayer:S.Kn,mergeVisible:S.NE,flattenImage:S.at5,newPlacedLayer:S.MQ};
if(x[z])E.data={d:x[z],jU:f};if(E.data){o.c(E);return}if(z=="collapseAllGroupsEvent"){for(var y=0;y<c.B.length;
y++){var H=c.B[y];if(H.f$())H.add.lsct=eo.g5}c.Pb=!0;return}if(z=="desaturate"){E.f=m.Ay;E.data={d:"auto",mJ:3};
if(c&&c.B[c.Y[0]].add.SoLd==null)o.c(E);return}if(z=="close"){if(f&&f.Svng.v.YsN=="Ys"){b.data={d:w.I.vB};
o.c(b)}b.data={d:w.I.SM,zV:c};o.c(b);return}if(z=="save"){b.data={d:w.I.vB};o.c(b);return}if(z=="copyMerged"){b.data={d:w.I.pc,qD:!0,nV:!0};
o.c(b);return}if(z=="placedLayerReplaceContents")b.data={d:w.I.WC,pT:!0};var x={placedLayerEditContents:w.I.agN,placedLayerExportContents:w.I.aml,copyEvent:w.I.pc,paste:w.I.Cd};
if(x[z])b.data={d:x[z],nV:!0};if(b.data){o.c(b);return}var F=f.null?f.null.v:null,X=F?F[0].v.classID:"";
if(z=="make"){if(f.null==null&&f.Nw)X=f.Nw.v.classID;if(X=="AdjL"){E.data={d:S.QK,jU:f}}else if(X=="layerSection"){E.data=f.From?{d:S.p5}:{d:S.rr};
if(f.Usng){var V=f.Usng.v;if(V.Nm)E.data.GJ=V.Nm.v;if(V.Clr)E.data.II=b0.PJ(V)}}else if(X=="Lyr"){if(f.Usng&&f.Usng.v.length==2)E.data={d:S.aBZ};
else{E.data={d:S.zm};if(f.Usng)E.data.GJ=f.Usng.v.Nm.v;if(f.below&&f.below.v)E.data.a86=!0}}else if(X=="Chnl"&&f.At&&f.At.v[0].v.enum=="Msk"){E.data={d:S.FO,aZ:f.Usng.v.UsrM}}else if(X=="Chnl"||X=="SCch"){E.data={d:S.ps,f4:"fromAction",b:K}}else if(X=="contentLayer"){E.data={d:S.k9,jU:f}}else if(X=="BckL"){c.B[c.Y[0]].ay1();
return}else if(X=="Dcmn"){if(f.Nw==null)return;var U=f.Nw.v;b.data={d:w.I.Pc,l_:h7.aBb(U,Y)}}else if(X=="Ptrn")b.data={d:w.I.Bu,VS:0};
else if(X=="Path"){E.f=m.h_;E.data={d:"pathedit",f4:"fromsel"}}else if(X=="TxLr"){E.f=m.oB;E.data={d:"fromAction",Sv:K}}else if(X=="slice"){E.f=m.YM;
E.data={d:"fromAction",Sv:K}}else if(X=="Gd"){var Z=[[],[]],U=f.Nw.v;Z[U.Ornt.v.Ornt=="Vrtc"?0:1].push(U.Pstn.v.val);
var T=aO.nh(Z);m.sq.Tr(T,c.Jm());E.f=m.Wh;E.data={d:"gids",_s:T}}else{console.log(z,X,f);throw"e"}}else if(z=="divide"){E.f=m.YM;
E.data={d:"fromAction",Sv:K}}else if(z=="deselect"){if(X=="Path"){c.n7=[];c.d5=[];c.Pb=c.px=!0;return}else throw X}else if(z=="selectNoLayers"){c.Y=[];
c.jS=!0}else if(z=="selectAllLayers"){c.Y=[];for(var y=0;y<c.B.length;y++)c.Y.push(y);c.jS=!0;return}else if(z=="select"){var v=m.Ru;
if(X=="Lyr"){var P=f.selectionModifier,p=P?P.v.selectionModifierType:null,a=b0.to(c,F[0]),D=0;if(a==-1){alert("Layer "+F[0].v.val+" does not exist.");
return}var H=c.B[a];if(H.f$()&&H.ue()&&P==null)D=1;E.data={d:S._m,a:a,vT:p?["addToSelection","addToSelectionContinuous"].indexOf(p):null,Ky:D}}else if(X=="Path"){if(F[0].v.keyID=="WrPt"){c.n7=[0];
c.Pb=c.px=!0;return}else throw F[0]}else if(X=="Chnl"){var n=F?F[0].v.enum:"",N=["Rd","Grn","Bl"].indexOf(n);
if(N!=-1){var W=f.Extd&&f.Extd.v?c.Q.v.slice(0):[0,0,0];W[N]=1;E.f=m.AC;E.data={d:"setcls",v:W}}else E.data={d:S._m,a:a,Ky:n=="RGB"?0:1}}else if(X=="Dcmn"){if(o.n$.length<2)return;
b.data={d:w.I.afk,dir:f.null.v[0].v.val}}else if(X=="Brsh"){var G=Y.OD.list,l;for(var y=0;y<G.length;
y++){if(G[y].v.Nm.v.split("/").pop()==F[0].v.val)l=G[y].v}if(Y.i5==m.Wh){b.data={d:w.I.NR,f:m.ra};o.c(b)}b.data={d:w.I.Ak,VS:bB.NJ,vg:l}}else if(X=="Mn"){if(F[0].v.enum=="Scl")b.data={d:w.I.NR,f:m._6,kM:{aZ:3}};
if(F[0].v.enum=="Plce")b.data={d:w.I.WC,aqM:!0};if(F[0].v.enum=="ZmIn"){E.f=m.bx;E.data={d:"zoom",ik:!0}}if(F[0].v.enum=="ZmOt"){E.f=m.bx;
E.data={d:"zoom",ik:!1}}if(F[0].v.enum=="FtOn"){E.f=m.bx;E.data={d:"adapt",b:"fitscr"}}}else if(v[X]){b.data={d:w.I.NR,f:v[X]}}else throw X}else if(z=="draw"){E.f=m.h_;
E.data={d:"fromAction",Sv:K}}else if(z=="gradientClassEvent"){E.f=m.iw;E.data={d:"fromAction",Sv:K}}else if((z=="set"||z=="reset"||z=="exchange")&&X=="Clr"){b.data={d:w.I.Ak,VS:bB.R8,f4:z=="reset"?3:2};
if(z=="set"){b.data.f4=F[0].v.keyID=="FrgC"?0:1;var u=d.H.CK(f.T.v);b.data.b=u.o<<16|u.A<<8|u.J}}else if(z=="set"){if(X=="AdjL"){var e=f.T.v.classID;
e=jh.Dz[e];E.f=m.Ay;if(e)E.data={d:"edit_layer",b:f.T.v}}else if(X=="Lyr"){var M=f.T.v,a=b0.to(c,F[0]);
for(var B in M){if(B=="classID")continue;E.f=m._V;if(B=="Nm")E.data={d:S.No,name:M.Nm.v};else if(B=="Opct")E.data={d:S._n,Wx:Math.round(M.Opct.v.val*255/100)};
else if(B=="fillOpacity")E.data={d:S.Gy,Wx:Math.round(M.fillOpacity.v.val*255/100)};else if(B=="Md")E.data={d:S.N9,Wx:jw.$R.indexOf(M.Md.v.BlnM)+(c.B[a].f$()?1:0)};
else if(B=="Usrs")E.data={d:S.uo,a:a};else if(B=="Blnd"){E.f=m.la;E.data={d:"setstl",a:a,b:{blendOptions:{t:"objc",v:M}}};
o.c(E);E.data={d:"confirm",a:a}}else if(B=="userMaskFeather"||B=="userMaskDensity"){var s=M.userMaskFeather,t=M.userMaskDensity,a=c.Y[0],J=c.B[a].KT(0);
if(s)J.fI=s.v.val;if(t)J.E1=t.v.val;E.data={d:S.ih,nI:a,Ea:J}}else if(B=="Clr"){var i=b0.PJ(M);E.data={d:S.ow,a78:i}}else if(B=="Lefx")b0.aed(o,a,M.Lefx.v,Y);
else{console.log(f);throw B}if(E.data){o.c(E);delete E.data}}E.data={};var H=c.B[a];H.aji()}else if(X=="Prpr"){var M=JSON.parse(JSON.stringify(f.T.v)),a=b0.to(c,f.null.v[1]),H=c.B[a],L=F[0].v.keyID;
if(L=="TxtS"||L=="paragraphStyle"){var k=H.add.TySh,C=JSON.parse(JSON.stringify(k.e9)),r=b_.BM(C),Q=b_.Sw(C,0,r.length-2);
if(L=="TxtS")b_.azJ(M,Q);else b_.aCX(M,Q);b_.K2(C,0,r.length-1,Q);E.f=m.oB;E.data={d:"newED",hg:a,eu:C}}else if(L=="Lefx"){for(var j9 in M)if(M[j9].v){if(j9=="Scl")M[j9].v.val=100}b0.aed(o,a,M,Y);
E.data={}}else throw L}else if(X=="contentLayer"){var a=b0.to(c,F[0]),M=f.T.v;if(M.classID=="shapeStyle")M=M.FlCn.v;
var a4={solidColorLayer:0,gradientLayer:1,patternLayer:2}[M.classID],ar=m.xY.AP(c,a),R=ar.ut==a4+1?ar.fe:eF.fN[a4];
R=JSON.parse(JSON.stringify(R));m.$m._Q(M,R,a4);E.data={d:S.B$,zI:[a],ls:!0,b:{ut:a4+1,fe:R}}}else if(X=="Brsh"){var l=JSON.parse(JSON.stringify(Y.OD.U0)),ez=f.T.v;
if(ez.masterDiameter)l.Brsh.v.Dmtr.v.val=ez.masterDiameter.v.val;else console.log("unknown brush parameters");
b.data={d:w.I.Ak,VS:bB.NJ,vg:l}}else if(X=="Path"){E.f=m.h_;E.data={d:"fromAction",Sv:K}}else{console.log(F[0],f);
throw X}}else if(z=="move"){if(X=="Lyr"){var M=f.T.v;if(M.classID=="Ofst"){E.data={d:"trsl",zS:M.Hrzn.v.val,_g:M.Vrtc.v.val};
E.f=m.Wh}else{var ja,c3;if(M[0].t=="Enmr"){if(M[0].v.enum=="Frnt")c3=0;else if(M[0].v.enum=="Nxt")c3=1;
else if(M[0].v.enum=="Prvs")c3=2;else if(M[0].v.enum=="Back")c3=3;else throw"e"}else ja=M[0].v.val;E.data={d:S.DO,target:ja,f4:c3,aAR:f.Dplc?f.Dplc.v:!1}}}else if(X=="Chnl"&&F[0].v.keyID=="fsel"){E.f=m.at;
E.data={d:"fromAction",Sv:K}}}else if(z=="groupEvent"||z=="ungroup")E.data={d:S.I4};else if(z=="show"||z=="hide"){var hW=F[0].v;
for(var y=0;y<hW.length;y++){var fO=hW[y],X=fO.v.classID;if(X=="Lyr"){if(E.data==null)E.data={d:S.WF,zI:[]};
var a=b0.to(c,fO);if(a==-1)continue;var ei=c.B[a].KL();if(z=="show"&&ei||z=="hide"&&!ei)continue;E.data.zI.push(a)}else if(X=="Chnl"){E.data={d:S.ps,f4:"fromAction",b:K}}else if(X=="filterFX"){if(fO.v.val!=null)E.data={d:S.tz,index:fO.v.val-1};
E.data={d:S.nK}}}}else if(z=="rotateEventEnum"){E.f=X=="Lyr"?m._6:m.yk;var fV=f.Angl.v.val;E.data={d:"rot",Mx:[2,5],b:-fV*Math.PI/180}}else if(z=="flip"){E.f=X=="Lyr"?m._6:m.yk;
var aW=f.Axis.v.Ornt=="Hrzn",ee=aW?new jc(-1,1):new jc(1,-1);E.data={d:"scl",Mx:[[2,6],[22,4,aW?2:3]],b:ee}}else if(z=="transform"){var ds=1,cp=1,eA=0,db=0,js=0,bF=0,jI=0,eZ=null,hj=null;
if(f.Wdth)ds=f.Wdth.v.val/100;if(f.Hght)cp=f.Hght.v.val/100;if(f.Skew){var gF=f.Skew.v;eA=gF.Hrzn.v.val;
db=gF.Vrtc.v.val}if(f.Ofst){var b6=f.Ofst.v;bF=b6.Hrzn.v.val;jI=b6.Vrtc.v.val}if(f.Angl)js=f.Angl.v.val;
var ji=new dF;ji.concat(new dF(ds,ds*Math.tan(db*Math.PI/180),cp*Math.tan(eA*Math.PI/180),cp,0,0));ji.rotate(-js*Math.PI/180);
ji.translate(bF,jI);var hd=d.D.lK(ji);if(f.Usng){var b6=f.Usng.v;hd[6]=b6.Hrzn.v.val/100;hd[7]=b6.Vrtc.v.val/100}var eK=f.FTcs.v.QCSt;
if(eK=="Qcsi"){var cX=f.Pstn.v;eZ=new jc(cX.Hrzn.v.val,cX.Vrtc.v.val)}else hj=m.OB.afJ[eK];var F=f.null;
if(F&&F.v instanceof Array)F=F.v[0];var a=F?b0.to(c,F):null;if(a==-1)a=null;E.f=F&&F.v.keyID=="fsel"?m.Lz:m._6;
E.data={d:"dtr",Xy:hj,b:hd,$I:f.warp,arw:eZ}}else if(z=="duplicate"){if(X=="Chnl")E.data={d:S.ps,f4:"fromAction",b:K};
else if(X=="Dcmn"){var bW=fv.WD("PSD").vc(c);jm.gn({url:c.name},bW,o);return}else E.data={d:S.Rz,GJ:f.Nm?f.Nm.v:null}}else if(z=="delete"){if(X=="filterFX"){if(F[0].v.val!=null)E.data={d:S.aF,BN:F[0].v.val-1};
else E.data={d:S.ZF}}else if(X=="Path"){E.f=m.h_;E.data={d:"pathedit",f4:"del"}}else if(X=="Lyr")E.data={d:S._C};
else if(X=="Chnl"&&F[0].v.enum=="Msk")E.data={d:S.Jj};else if(X=="Chnl")E.data={d:S.ps,f4:"fromAction",b:K};
else throw X}else if(z=="align"){if(f.Aply&&f.Aply.v.projection=="Auto"){E.f=m.yk;E.data={d:"auto-align"}}else{E.f=m.Wh;
var ju=f.Usng.v.ADSt,j={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[ju];if(j==null)throw ju;E.data={d:"algn",b:j}}}else if(z=="applyLocking"){var ci=f.layerLocking.v,hH;
if(ci.protectTransparency)hH=[[ci.protectTransparency.v],[0]];else if(ci.protectNone)hH=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(ci);throw"e"}E.data={d:S.JM,Wx:hH}}if(E.data)o.c(E);else if(b.data)o.c(b);else{console.log(K);
alert("Unknown action \""+z+"\"");throw"e"}};b0.aed=function(K,o,Y,c){Y=JSON.parse(JSON.stringify(Y));
kE.oG(Y);if(Y.masterFXSwitch==null)Y.masterFXSwitch={t:"bool",v:!0};console.log(Y);var z=eF.nk;for(var f=0;
f<z.length;f++)if(Y[z[f]]){for(var y=0;y<Y[z[f]].v.length;y++){var $=Y[z[f]].v[y].v,E=$.TrnS;if(E==null)E=$.MpgS;
if(E&&E.v.Crv==null){var b=E.v,q=b.Nm.v.split("=").pop(),O=c.$r;for(var j=0;j<O.length;j++){var A=O[j].Nm.v.split("=").pop();
if(A==q)b.Crv=JSON.parse(JSON.stringify(O[j].Crv))}if(E.v.Crv==null){console.log(E);throw"e"}}}}var R=new h1(w.E.U,!0);
R.f=m.la;R.data={d:"setstl",a:o,b:{Lefx:{t:"objc",v:Y}}};K.c(R);R.data={d:"confirm",a:o};K.c(R)};b0.PJ=function(K){var o={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[K.Clr.v.Clr];
if(o==null)throw K.Clr.v.Clr;return o};b0.to=function(K,o){var Y=1e6,c=0,z=K.B.length;for(var y=0;y<K.Y.length;
y++){Y=Math.min(Y,K.Y[y]);c=Math.max(c,K.Y[y])}var f=o.t,$=-1;if(f=="name"){var E=o.v.val,$=-1;for(var y=0;
y<z;y++)if(K.B[y].getName()==E){$=y;break}}else if(f=="Enmr"){if(K.Y.length!=0)$=K.Y[0];if(o.v.enum=="Frwr")$=c+1;
if(o.v.enum=="Bckw")$=Y-1;if(o.v.enum=="Back")$=0;if(o.v.enum=="Frnt")$=z-1;$=($+z)%z}else if(f=="prop"){if(o.v.keyID=="Bckg")$=0}else if(f=="indx")$=o.v.val-1;
return $};var jh={};jh.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
jh.ayg=["expA","clrL","selc"];jh.Jn=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];jh.aCg=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
jh.gj=[[13,1,1],[13,1,4],[13,1,5]];jh.hW={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
jh.Dz=function(){var K=JSON.parse(JSON.stringify(jh.hW));delete K.GrMp;K.GdMp="grdm";return K}();jh.Ru={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
jh.keys={levl:[a1.rK,a1.Gi],curv:[a1.rK,a1.$L],hue2:[a1.rK,a1.dN],nvrt:[a1.rK,a1.WL],blnc:[a1.rK,a1.Wi]};
jh.a73=function(K){var o=fn.Ta("mixr");o.Mnch={t:"bool",v:K.w5};function Y(c,y){var z={classID:"ChMx"},f={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var $ in f)z[$]={t:"UntF",v:{type:"#Prc",val:c[y+f[$]]}};return{t:"Objc",v:z}}if(K.w5)o.Gry=Y(K.b,0);
else{o.Rd=Y(K.b,0);o.Grn=Y(K.b,5);o.Bl=Y(K.b,10)}return o};jh.jt=function(K){function o(c,z,y){var f={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var $ in f)if(c[$])z[y+f[$]]=c[$].v.val}var Y={w5:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(K.Mnch&&K.Mnch.v)Y.w5=!0;if(Y.w5)o(K.Gry.v,Y.b,0);else{o(K.Rd.v,Y.b,0);o(K.Grn.v,Y.b,5);o(K.Bl.v,Y.b,10)}return Y};
jh.get=function(K){for(var o in jh.names)if(K[o]!=null)return o;return null};jh.GA=function(K,o){var Y=jh.LP,c;
if(K=="brit"){var z=o.Brgh?o.Brgh.v:0,f=o.Cntr?o.Cntr.v:0,$=o.useLegacy?o.useLegacy.v:!1;if($){var E=z/255,b=1+f/100;
if(b>1)b=1+Math.tan(Math.PI/2*f/101);var q=(1-b)/2,O=d.tb.mH(E,E,E),j=[b,0,0,q,0,b,0,q,0,0,b,q,0,0,0,1],A=d.tb.multiply(j,O),R=new d.ok(256);
for(var y=0;y<256;y++)R.o[y]=y;d.tb.transform(R,R,A);c={type:Y.o5,SR:R.o,a9:R.o,C1:R.o,$Z:!1,Tj:!1}}else{var g=1024,H=-30+60*(f+100)/200,i=[];
for(var y=0;y<4;y++)i.push(d.nA.JK(y/3*255,y/3*255,!0));i[1].v.Hrzn.v=64;i[1].v.Vrtc.v=64-H;i[2].v.Hrzn.v=128+64;
i[2].v.Vrtc.v=128+64+H;i.sort(function(a0,e1){return a0.v.Hrzn.v-e1.v.Hrzn.v});var h=d.nA.ZE(i,g);function x(a0,g){var i=[],h4=3;
for(var y=0;y<h4+1;y++)i.push(d.nA.JK(y/h4*255,y/h4*255,!0));i[1].v.Hrzn.v=130-a0*26;i[1].v.Vrtc.v=130+a0*51;
i[2].v.Hrzn.v=233-a0*48;i[2].v.Vrtc.v=233+a0*10;return d.nA.ZE(i,g)}var F=x(Math.abs(z)/100,g);if(z<0){var X=[],V=1/g;
for(var y=0;y<g;y++){var U=y*V,Z=y;while(F[Z]>U&&Z>1)Z--;X[y]=Z*V}F=X}var T=new Uint8Array(g);for(var y=0;
y<g;y++){var v=Math.round((g-1)*F[y]);T[y]=Math.round(255*h[v])}c={type:Y.o5,SR:T,a9:T,C1:T,$Z:!1,Tj:!1}}}if(K=="levl"){var P=[],p,a,O,D,n,N;
for(var y=0;y<4;y++)P.push(jz.Yb(o,y));p=-P[0][0]/255;a=1/(P[0][1]/255-P[0][0]/255);O=d.tb.multiply(d.tb.M0(a,a,a),d.tb.mH(p,p,p));
D=d.tb.M0(1/(P[1][1]/255-P[1][0]/255),1/(P[2][1]/255-P[2][0]/255),1/(P[3][1]/255-P[3][0]/255));n=d.tb.mH(-P[1][0]/255,-P[2][0]/255,-P[3][0]/255);
N=d.tb.multiply(D,n);var T=new d.ok(256);for(var y=0;y<256;y++)T.o[y]=T.A[y]=T.J[y]=y;var W=1/(P[0][4]/100),G=1/(P[1][4]/100),l=1/(P[2][4]/100),u=1/(P[3][4]/100);
d.tb.transform(T,T,N);for(var y=0;y<256;y++){T.o[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.o[y]/255,G))));
T.A[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.A[y]/255,l))));T.J[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.J[y]/255,u))))}d.tb.transform(T,T,O);
for(var y=0;y<256;y++){T.o[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.o[y]/255,W))));T.A[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.A[y]/255,W))));
T.J[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(T.J[y]/255,W))))}p=P[0][2]/255;a=P[0][3]/255-P[0][2]/255;
O=d.tb.multiply(d.tb.mH(p,p,p),d.tb.M0(a,a,a));D=d.tb.M0(P[1][3]/255-P[1][2]/255,P[2][3]/255-P[2][2]/255,P[3][3]/255-P[3][2]/255);
n=d.tb.mH(P[1][2]/255,P[2][2]/255,P[3][2]/255);N=d.tb.multiply(n,D);d.tb.transform(T,T,d.tb.multiply(O,N));
c={type:Y.o5,SR:T.o,a9:T.A,C1:T.J,$Z:!1,Tj:!1}}if(K=="curv"){var e=fK.Yb(o,0).length==256?1:0,M=[];if(e==0){var B=d.nA.Lc(fK.Yb(o,0),256);
for(var y=1;y<4;y++){var s=d.nA.Lc(fK.Yb(o,y),256);M.push(d.nA.a96(s,B))}}else{var t=[];for(var y=0;
y<4;y++){var J=new Uint8Array(256);t.push(J);var L=fK.Yb(o,y);for(var Z=0;Z<256;Z++)J[Z]=L[Z]}for(var y=1;
y<4;y++)M.push(d.nA.a96(t[y],t[0]))}c={type:Y.o5,SR:M[0],a9:M[1],C1:M[2],$Z:!1,Tj:!1}}if(K=="expA"){var k=o.Exps,C=o.Ofst,r=o.gammaCorrection,Q=k?k.v:0,j9=C?C.v:0,a4=r?r.v:1,T=new Uint8Array(256);
for(var y=0;y<256;y++){var o=y/255,ar=Math.pow(Math.abs(j9),1/(Math.PI/2));if(j9>0){o=Math.max(j9/Math.E,o);
o=o*Math.exp(j9/1.75+Q/Math.PI);o=(1-ar)*o+ar*1}else{o=o*Math.exp(-j9*1.75+Q/Math.PI);o=o+-ar*1.14}o=Math.pow(o,1/a4);
o=Math.max(0,Math.min(1,o));T[y]=Math.round(o*255)}c={type:Y.o5,SR:T,a9:T,C1:T,$Z:!1,Tj:!1}}if(K=="vibA"){var ez=(o.vibrance?o.vibrance.v:0)/100,ja=(o.Strt?o.Strt.v:0)/100,ar=1+ez*(ez>0?.25:.5),c3=.8+.2/ar;
c={type:Y.O4,VS:[ez,ja,c3,ar]}}if(K=="hue2"){var hW=[],fO=[],ei=[],fV=o.Clrz?o.Clrz.v:!1;for(var y=0;
y<256;y++){hW[y]=y/255;fO[y]=0;ei[y]=0}var aW=bh.Yb(o,0),ee=jh.jc(aW[1]/100);if(fV){var hM=aW[0]/360;
for(var y=0;y<256;y++){hW[y]=hM;fO[y]=ee}}else{for(var y=0;y<256;y++){var ds=hW[y],cp=fO[y];hW[y]+=aW[0]/360;
for(var Z=0;Z<6;Z++){var eA=bh.Yb(o,Z+1),db=eA.kH,js=eA.Wg,ar=0;for(var bF=1;bF<4;bF++)if(js[bF]<js[0])js[bF]+=360;
var jI=js[0],gF=js[1],b6=js[2],ji=js[3],hd=ds*360;if(hd<js[0])hd+=360;var eZ=(hd-jI)/(gF-jI),hj=(hd-b6)/(ji-b6);
if(eZ<0)ar=0;else if(eZ<1)ar=eZ;else if(hj<0)ar=1;else if(hj<1)ar=1-hj;else ar=0;var b=jh.jc(db[1]/100);
hW[y]+=ar*db[0]/360;fO[y]+=ar*b;ei[y]+=ar*db[2]/100}}for(var y=0;y<256;y++){fO[y]=(1+fO[y])*(1+ee)-1;
ei[y]=Math.max(-1,Math.min(1,ei[y]))}}var eK=new Uint8Array(256),cX=new Uint8Array(256),bW=new Uint8Array(256);
for(var y=0;y<256;y++){var ju=hW[y],ja=fO[y],ci=ei[y];if(ju>1)ju--;if(ju<0)ju++;ja=jh.a1F(ja);ja=(1+ja)*.5;
ci=(1+ci)*.5;eK[y]=Math.round(255*ju);cX[y]=Math.round(255*ja);bW[y]=Math.round(255*ci)}var hH=aW[2]/100,b8=hH<0?-hH:hH,gh=hH<0?0:1;
c={type:Y.Jb,arJ:eK,bG:cX,ahc:bW,aAL:b8*gh,bj:1-b8,adi:aW[2]/100,ac4:fV?1:0}}if(K=="nvrt"){var T=new Uint8Array(256);
for(var y=0;y<256;y++)T[y]=255-y;c={type:Y.o5,SR:T,a9:T,C1:T,$Z:!1,Tj:!1}}if(K=="post"){var aN=o.Lvls.v,T=new Uint8Array(256),ar=aN/255.001,eS=255/(aN-1);
for(var y=0;y<256;y++)T[y]=Math.floor(y*ar)*eS;c={type:Y.o5,SR:T,a9:T,C1:T,$Z:!1,Tj:!1}}if(K=="grdm"){var b2=o.Grad.v,fZ=o.Rvrs,g=1024,dw;
if(b2.Clrs){var ib=d.H.JE(b2,0,0);dw=d.H.aBt(b2,ib,g,fZ?fZ.v:!1)}else{dw=d.H.arj(b2,g,fZ?fZ.v:!1)}var eJ=d.R(g),df=d.R(g),k5=d.R(g);
d.JI(dw,eJ,0);d.JI(dw,df,1);d.JI(dw,k5,2);c={type:Y.o5,SR:eJ,a9:df,C1:k5,$Z:!0,Tj:!1}}if(K=="selc"){var eC=new Float32Array(9*3*2),j7=o.j5,cK=o.Mthd?o.Mthd.v.CrcM=="Absl":!1;
for(var Z=0;Z<9;Z++){var bw=Z*6,f6=hX.Yb(o,Z),iF=f6[0]/100,ag=f6[1]/100,bS=f6[2]/100,b$=f6[3]/100;if(cK){eC[bw]=eC[bw+1]=eC[bw+2]=1;
eC[bw+3]=iF*(1+b$)+b$;eC[bw+4]=ag*(1+b$)+b$;eC[bw+5]=bS*(1+b$)+b$}else{eC[bw+0]=(1+iF)*(1+b$);eC[bw+1]=(1+ag)*(1+b$);
eC[bw+2]=(1+bS)*(1+b$)}}c={type:Y.Wj,anV:eC}}if(K=="blwh"){var aj="Rd Yllw Grn Cyn Bl Mgnt".split(" "),c=[],dU=0,cz=0;
for(var y=0;y<6;y++)c.push(o[aj[y]].v);c.push(o.useTint.v,o.tintColor.v);var iV=[];for(var y=0;y<6;y++)iV.push((c[y]-50)/50);
var g0=d.H.CK(c[7]);g0.o/=255;g0.A/=255;g0.J/=255;var eB=d.Sc(g0.o,g0.A,g0.J),ci=d.le(d.i7(eB.jd,1,.5)),c7=eB.ZO*eB.ii;
if(ci==.5)dU=cz=.5;else{dU=c7*(.5-ci)/(.5/ci-1);cz=1-c7*(.5-ci)-1/(2*(1-ci));cz/=1-1/(2*(1-ci))}c={type:Y.z7,akQ:iV,FF:c[6]?1:0,aBp:eB.jd,le:ci,a5p:c7,b4:dU,agz:cz}}if(K=="blnc"){var P=[],fr=["ShdL","MdtL","HghL"];
for(var y=0;y<3;y++){if(o[fr[y]]==null){P[y]=[0,0,0];continue}var aN=o[fr[y]].v,kk=aN[0].v/100,a6=aN[1].v/100,jv=aN[2].v/100,by=o.PrsL==null||o.PrsL.v?(Math.min(kk,a6,jv)+Math.max(kk,a6,jv))/2:0;
P[y]=[kk-by,a6-by,jv-by]}var M=[d.R(256),d.R(256),d.R(256)];for(var Z=0;Z<3;Z++)for(var y=0;y<256;y++){var U=y*(1/255),gc=0,H=0,i8=0;
H=P[2][Z];i8=Math.abs(H);if(H<0)gc=Math.pow(U,Math.SQRT2);else gc=1.63*(Math.pow(U+.04,.5)-.2);U=i8*gc+(1-i8)*U;
H=P[1][Z];i8=Math.abs(H);if(H<0)gc=Math.pow(U,2);else gc=Math.min(2.35*(Math.pow(U+.09,.5)-.3),Math.pow(U,1/2));
U=i8*gc+(1-i8)*U;H=P[0][Z];i8=Math.abs(H);if(H<0)gc=U<.4?0:Math.pow((U-.4)/.6,Math.SQRT2);else gc=Math.pow(U,Math.SQRT2/2);
U=i8*gc+(1-i8)*U;U=Math.max(0,Math.min(1,U));M[Z][y]=Math.round(U*255)}c={type:Y.o5,SR:M[0],a9:M[1],C1:M[2],$Z:!1,Tj:!1}}if(K=="phfl"){var az=d.H.CK(o.Clr.v),g9=[az.o/255,az.A/255,az.J/255],a3=o.Dnst.v/100,M=[d.R(256),d.R(256),d.R(256)];
for(var Z=0;Z<3;Z++)for(var y=0;y<256;y++){var U=y*(1/255),jb=U*g9[Z];jb=Math.max(0,Math.min(1,jb));
U=a3*jb+(1-a3)*U;M[Z][y]=Math.round(U*255)}c={type:Y.o5,SR:M[0],a9:M[1],C1:M[2],$Z:!1,Tj:o.PrsL.v}}if(K=="thrs"){var T=d.R(256);
for(var y=o.Lvl.v;y<256;y++)T[y]=255;c={type:Y.o5,SR:T,a9:T,C1:T,$Z:!0,Tj:!1}}if(K=="mixr"){var aY=jh.jt(o),A=[];
for(var y=0;y<aY.b.length;y++)if(y%5!=3)A.push(aY.b[y]/100);if(aY.w5){for(var g4=1;g4<3;g4++)for(var U=0;
U<4;U++)A[g4*4+U]=A[U]}c={type:Y.nf,gr:A}}if(K=="rplc"){var dl=o.Mnm.v,ej=o.Mxm.v;c={type:Y.cx,zp:[dl.Lmnc.v,dl.A.v,dl.B.v],Tf:[ej.Lmnc.v,ej.A.v,ej.B.v],shift:[o.H.v/360,o.Strt.v/100,o.Lght.v/100],rk:o.Fzns.v/150}}if(K=="clrL"&&o.profile){var d_=new Uint8Array(o.profile.v),hZ=ICC.R(d_.buffer),gv=[],jH=17,gv=ICC.U.sampleLUT(hZ,jH);
c={type:Y.Ux,r4:ICC.U.lutToRGBA8(gv,jH),avJ:gv,f8:jH}}return c};jh.RN=function(K,o){var Y=-1;if(K!="levl"||o==null)Y=-1;
else if(o.Auto)Y=0;else if(o.AuCo)Y=1;else if(o.autoBlackWhite)Y=2;return Y};jh.LP={o5:0,Jb:1,O4:2,Wj:3,z7:4,nf:5,cx:6,Ux:7};
jh.jc=function(K){if(K<0)return K;return Math.pow(Math.tan(Math.PI/2*K),1.3)};jh.a1F=function(K){if(K<0)return K;
K=Math.pow(K,1/1.3);return Math.atan2(K,1)/(Math.PI/2)};jh.kf=function(K,o,Y,c){var z=jh.LP,f=Date.now();
if(jK.YT&&c.Z()>300*300&&K.type!=z.o5&&K.type!=z.Ux){c=c.clone();c.x=c.y=0;var $=jK.r0(0,c.m,c.e);$.set(o);
jK.EW($,c);$.vt(c);jh.rF(K,$.Ci,c);$.get(Y);return}if(K.type==z.Ux){var E=K.avJ,b=K.f8;ICC.U.applyLUT(E,b,o,Y);
var q=o.length;for(var y=0;y<q;y+=4)Y[y+3]=o[y+3]}if(K.type==z.nf)d.tb.afj(o,Y,K.gr);if(K.type==z.z7){var O=K.a5p,j=K.le,A=K.b4,R=K.agz,q=o.length;
for(var y=0;y<q;y+=4){var c=o[y]*(1/255),g=o[y+1]*(1/255),H=o[y+2]*(1/255),i=d.BX(c,g,H),h=0;for(var x=0;
x<6;x++)h+=Math.min(1,1.7*(1-i.HY))*i.ZO*K.akQ[x]*jh.aaZ(i.jd,x*(1/6));var F=Math.max(0,Math.min(1,i.HY*(1+h)));
if(K.FF==1){var X=0;if(F<A)X=F*(.5/j);else if(F<R)X=F+O*(.5-j);else X=1-(1-F)*.5/(1-j);i.jd=K.aBp;i.ZO=Math.min(1,O+3*O*Math.abs(F-.5*(A+R)));
i.HY=X}else{i.jd=0;i.ZO=0;i.HY=F}var V=d.i7(i.jd,i.ZO,i.HY);Y[y]=Math.round(V.o*255);Y[y+1]=Math.round(V.A*255);
Y[y+2]=Math.round(V.J*255)}}if(K.type==z.Wj){var U=K.anV,q=o.length,Z=1/255;for(var y=0;y<q;y+=4){var c=o[y]*Z,g=o[y+1]*Z,H=o[y+2]*Z,i=d.BX(c,g,H),T=Math.max(c,Math.max(g,H)),v=Math.min(c,Math.min(g,H)),P=1-c,p=1-g,a=1-H,D=0,n=0,N=0;
for(var x=0;x<9;x++){var W=x*6,e=0;if(U[W]==1&&U[W+1]==1&&U[W+2]==1&&U[W+3]==0&&U[W+4]==0&&U[W+5]==0)continue;
var G=P*U[W]+U[W+3],l=p*U[W+1]+U[W+4],u=a*U[W+2]+U[W+5];if(x<6)e=jh.aaZ(i.jd,x*(1/6))*i.ZO*2*Math.min(i.HY,1-i.HY);
else if(x==6)e=Math.max(0,v-.5)*2;else if(x==7)e=1-(Math.abs(T-.5)+Math.abs(v-.5));else e=Math.max(0,.5-T)*2;
D+=(Math.max(0,Math.min(1,G))-P)*e;n+=(Math.max(0,Math.min(1,l))-p)*e;N+=(Math.max(0,Math.min(1,u))-a)*e}P=Math.max(0,Math.min(1,P+D));
p=Math.max(0,Math.min(1,p+n));a=Math.max(0,Math.min(1,a+N));c=1-P;g=1-p;H=1-a;Y[y]=Math.round(c*255);
Y[y+1]=Math.round(g*255);Y[y+2]=Math.round(H*255)}}if(K.type==z.o5){d.acz(o,Y,K.SR,K.a9,K.C1,K.$Z,K.Tj)}if(K.type==z.Jb){var M=new Uint32Array(o.buffer),B=new Uint32Array(Y.buffer),q=M.length;
if(jh.Gb==null){jh.Gb=new Float64Array(256);for(var y=0;y<256;y++)jh.Gb[y]=jh.jc(-1+2*y/255)}var s=jh.Gb;
for(var y=0;y<q;y++){var t=M[y],c=(t&255)*(1/255),g=(t>>>8&255)*(1/255),H=(t>>>16&255)*(1/255),J=t>>>24,L=Math.min(c,g,H),k=Math.max(c,g,H),C=0,r=0,Q=0;
C=d.BX(c,g,H).jd;var j9=~~(C*255+.5),a4=K.arJ[j9]*(1/255),ar=K.bG[j9]*(1/255)*2-1,ez=K.ahc[j9]*(1/255)*2-1,h=-ez,ja=L;
if(0<ez){h=ez;ja=k}var c3=K.aAL+K.bj*h*ja,hW=K.bj*(1-h);c=c3+hW*c;g=c3+hW*g;H=c3+hW*H;k=Math.max(c,g,H);
L=Math.min(c,g,H);Q=(k+L)*.5;if(k!=L){var fO=k-L;r=Q>.5?fO/(2-(k+L)):fO/(k+L)}var ei=ar;if(K.ac4==0){ar=s[Math.floor((1+ar)*127.5)];
ei=Math.min(r*(1+ar),1)}var V=d.i7(a4,ei,Q);c=V.o;g=V.A;H=V.J;B[y]=J<<24|H*255<<16|g*255<<8|c*255}}if(K.type==z.cx){d.kO(o,Y);
var M=new Uint32Array(o.buffer),B=new Uint32Array(Y.buffer),q=M.length,fV=K.rk,aW=1/fV,ee={Gi:K.zp[0],g:K.zp[1],J:K.zp[2]},hM={Gi:K.Tf[0],g:K.Tf[1],J:K.Tf[2]};
for(var y=0;y<q;y++){var t=M[y],ds=t&255,cp=t>>>8&255,eA=t>>>16&255,c=ds*(1/255),g=cp*(1/255),H=eA*(1/255),J=t>>>24,db=d.yM(ds,cp,eA),js=d.$o(db,ee,hM,fV,aW);
if(js==0)continue;var i=d.BX(c,g,H),a4=2+i.jd+K.shift[0];i.jd=a4-~~a4;i.ZO=Math.max(0,Math.min(1,i.ZO+K.shift[1]));
i.HY=Math.max(0,Math.min(1,i.HY+K.shift[2]));var V=d.i7(i.jd,i.ZO,i.HY);c=(1-js)*c+js*V.o;g=(1-js)*g+js*V.A;
H=(1-js)*H+js*V.J;B[y]=J<<24|H*255<<16|g*255<<8|c*255}}if(K.type==z.O4){var M=new Uint32Array(o.buffer),B=new Uint32Array(Y.buffer),q=M.length,bF=K.VS[0],jI=K.VS[1],gF=K.VS[2],h=K.VS[3],b6=d.tb.xD([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),ji=d.tb.oD(b6),hd=2.4;
function b(bW){return Math.max(0,Math.min(1,bW))}function eZ(bW){return Math.pow(bW,hd)}function hj(bW){return Math.pow(bW,1/hd)}function eK(c,g,H,bW){c=eZ(c);
g=eZ(g);H=eZ(H);var ju=d.tb.Le(b6,[c,g,H,1]);ju[0]*=gF;ju[1]*=h;ju[2]*=h;var V=d.tb.Le(ji,ju);V[0]=hj(b(V[0]));
V[1]=hj(b(V[1]));V[2]=hj(b(V[2]));return V}for(var y=0;y<q;y++){var t=M[y],c=(t&255)*(1/255),g=(t>>>8&255)*(1/255),H=(t>>>16&255)*(1/255),J=t>>>24,V=eK(c,g,H,bF);
c=V[0];g=V[1];H=V[2];var cX=d.BX(c,g,H);cX.ZO=Math.max(0,Math.min(1,cX.ZO*(1+jI)));V=d.i7(cX.jd,cX.ZO,cX.HY);
c=V.o;g=V.A;H=V.J;B[y]=J<<24|H*255<<16|g*255<<8|c*255}}};jh.rF=function(K,o,Y){jK.W2.rF(K,o)};jh.aaZ=function(K,o){var Y=d.cS(o,K)*6;
return Math.max(0,Math.min(1,Y<0?1+Y:1-Y))};var fn={};fn.UK=function(K){var o=K.filterID.v;return o>16777215?_.aj9(o):K.Fltr.v.classID};
fn.Z$=[{fe:"GEfc"},{fe:"LnCr"},{fe:"Adobe Camera Raw Filter"},{fe:"LqFy"},{fe:"VaPo",M_:!0},{AO:"3D",zf:["lightFilterGradient","Dila"]},{AO:[24,2],zf:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{AO:[24,4],zf:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{AO:[24,6],zf:["AdNs","Dspc","DstS","Mdn ","denoise"]},{AO:[24,8],zf:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{AO:[24,10],zf:["Flam","Clds","DfrC","Fbrs","LnsF"]},{AO:[24,12],zf:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{AO:[24,14],zf:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{AO:[24,16],zf:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{AO:"Fourier",zf:["dDFT","iDFT"]}];
fn.Ru={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
fn.uI={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
fn.q={rigidTransform:m.AF};fn.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
fn.Ta=function(K){var o=null;if(K=="GEfc")o={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:fU.Ta("GlwE")}]}};
if(K=="LqFy"){var Y={Fv:5,jd:5,map:new Float32Array(5*5*2)},c=new Uint8Array(hR.ol(Y)),z=[];for(var y=0;
y<c.length;y++)z.push(c[y]);o={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:z}}}if(K=="rigidTransform"){o={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(K=="LnCr")o={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(K=="adaptCorrect")o={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(K=="Dfs ")o={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(K=="Fbrs")o={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(K=="Embs")o={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(K=="oilPaint")o={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(K=="TrcC")o={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(K=="Wnd ")o={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(K=="lightFilterGradient")o={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(K=="boxblur")o={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(K=="GsnB")o={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(K=="Bokh")o={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(K=="MtnB")o={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(K=="RdlB")o={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(K=="surfaceBlur")o={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(K=="denoise")o={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(K=="Dspl")o={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(K=="Pnch")o={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(K=="Plr ")o={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(K=="Rple")o={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(K=="Shr ")o={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(K=="Sphr")o={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(K=="Twrl")o={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(K=="Wave")o={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(K=="ZgZg")o={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(K=="AdNs")o={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(K=="DstS")o={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(K=="Mdn ")o={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(K=="ClrH")o={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(K=="Crst")o={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(K=="Mztn")o={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(K=="Msc ")o={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(K=="Pntl")o={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(K=="LnsF")o={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(K=="Dthr")o={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(K=="Part")o={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(K=="Adobe Camera Raw Filter")o={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(K=="smartSharpen")o={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(K=="UnsM")o={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(K=="HghP")o={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(K=="HsbP")o={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(K=="Mxm ")o={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(K=="Mnm ")o={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(K=="Ofst")o={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(K=="Kale")o={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(K=="Rept")o={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(K=="Flam")o={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(K=="Ctoa")o={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(K=="brit")o={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(K=="levl")o={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(K=="curv")o={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(K=="expA")o={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(K=="vibA")o={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(K=="hue2")o={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(K=="blnc")o={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(K=="blwh")o={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(K=="phfl")o={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(K=="grdm")o={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(eF.NF[6]).Grad};
if(K=="selc")o={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(K=="thrs")o={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(K=="mixr")o={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(K=="clrL")o={__name:"Color Lookup",classID:"colorLookup"};if(K=="post")o={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(K=="rplc")o={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(K=="fade")o={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(K=="aply")o={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(K=="matc"){o={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(K=="Dila")o={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(K=="blendOptions")o={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return o};fn.qy={sFlam:function(K,o){o[0]=K.Type.v;o[1]=K.Leng.v;o[2]=K.RndL.v;o[3]=K.Widt.v;o[4]=K.Angl.v;
o[5]=K.Intr.v;o[6]=K.Adpt.v;o[7]=K.Clr.v;o[8]=K.Qual.v;o[9]=K.Turb.v;o[10]=K.Jag.v;o[11]=K.Opct.v.val;
o[12]=K.Lins.v;o[13]=K.Botm.v;o[14]=K.Styl.v;o[15]=K.Shap.v;o[16]=K.RnSh.v;o[17]=K.Arng.v},gFlam:function(K,o){K.Type.v=o[0];
K.Leng.v=o[1];K.RndL.v=o[2];K.Widt.v=o[3];K.Angl.v=o[4];K.Intr.v=o[5];K.Adpt.v=o[6];K.Clr.v=o[7];K.Qual.v=o[8];
K.Turb.v=o[9];K.Jag.v=o[10];K.Opct.v.val=o[11];K.Lins.v=o[12];K.Botm.v=o[13];K.Styl.v=o[14];K.Shap.v=o[15];
K.RnSh.v=o[16];K.Arng.v=o[17]},sAdNs:function(K,o){o[0]=K.Nose.v.val;o[1]=["Gsn","Unfr"].indexOf(K.Dstr.v.Dstr);
o[2]=K.Mnch.v},gAdNs:function(K,o){K.Nose.v.val=o[0];K.Dstr.v.Dstr=["Gsn","Unfr"][o[1]];K.Mnch.v=o[2]},sDstS:function(K,o){o[0]=K.Rds.v;
o[1]=K.Thsh.v},gDstS:function(K,o){K.Rds.v=o[0];K.Thsh.v=o[1]},sGsnB:function(K,o){o[0]=K.Rds.v.val},gGsnB:function(K,o){K.Rds.v.val=o[0]},sDila:function(K,o){o[0]=K.Crop.v.val;
o[1]=K.Rds.v.val},gDila:function(K,o){K.Crop.v.val=o[0];K.Rds.v.val=o[1]},sHghP:function(K,o){o[0]=K.Rds.v.val},gHghP:function(K,o){K.Rds.v.val=o[0]},sHsbP:function(K,o){var Y=["RGBC","HSBl","HSLC"];
o[0]=Y.indexOf(K.Inpt.v.ClrS);o[1]=Y.indexOf(K.Otpt.v.ClrS)},gHsbP:function(K,o){var Y=["RGBC","HSBl","HSLC"];
K.Inpt.v.ClrS=Y[o[0]];K.Otpt.v.ClrS=Y[o[1]]},"sMxm ":function(K,o){var Y="preserveShape";o[0]=K.Rds.v.val;
o[1]=K[Y]?["squareness","Rndn"].indexOf(K[Y].v[Y]):0},"gMxm ":function(K,o){var Y="preserveShape";K.Rds.v.val=o[0];
K[Y]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},"sMnm ":function(K,o){var Y="preserveShape";
o[0]=K.Rds.v.val;o[1]=K[Y]?["squareness","Rndn"].indexOf(K[Y].v[Y]):0},"gMnm ":function(K,o){var Y="preserveShape";
K.Rds.v.val=o[0];K[Y]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},sMtnB:function(K,o){o[0]=[K.Angl.v];
o[1]=K.Dstn.v.val;console.log(o)},gMtnB:function(K,o){K.Angl.v=typeof o[0]=="number"?o[0]:o[0][0];K.Dstn.v.val=o[1]},sOfst:function(K,o){o[0]=K.Hrzn.v;
o[1]=K.Vrtc.v;o[2]=["Rpt","Bckg","Wrp"].indexOf(K.Fl.v.FlMd)},gOfst:function(K,o){K.Hrzn.v=o[0];K.Vrtc.v=o[1];
K.Fl.v.FlMd=["Rpt","Bckg","Wrp"][o[2]]},sPnch:function(K,o){o[0]=K.Amnt.v},gPnch:function(K,o){K.Amnt.v=o[0]},"sPlr ":function(K,o){o[0]=["RctP","PlrR"].indexOf(K.Cnvr.v.Cnvr)},"gPlr ":function(K,o){K.Cnvr.v.Cnvr=["RctP","PlrR"][o[0]]},sRple:function(K,o){o[0]=K.Amnt.v;
o[1]=["Sml","Mdm","Lrg"].indexOf(K.RplS.v.RplS)},gRple:function(K,o){K.Amnt.v=o[0];K.RplS.v.RplS=["Sml","Mdm","Lrg"][o[1]]},sTwrl:function(K,o){o[0]=K.Angl.v},gTwrl:function(K,o){K.Angl.v=o[0]},sZgZg:function(K,o){o[0]=K.Amnt.v;
o[1]=K.NmbR.v;o[2]=["ArnC","OtFr","PndR"].indexOf(K.ZZTy.v.ZZTy)},gZgZg:function(K,o){K.Amnt.v=o[0];
K.NmbR.v=o[1];K.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][o[2]]},sUnsM:function(K,o){o[0]=K.Amnt.v.val;o[1]=K.Rds.v.val;
o[2]=K.Thsh.v},gUnsM:function(K,o){K.Amnt.v.val=o[0];K.Rds.v.val=o[1];K.Thsh.v=o[2]},sWave:function(K,o){o[0]=K.NmbG.v;
o[1]=K.WLMn.v;o[2]=K.WLMx.v;o[3]=K.AmMn.v;o[4]=K.AmMx.v;o[5]=K.SclH.v;o[6]=K.SclV.v;o[7]=["WvSn","WvTr","WvSq"].indexOf(K.Wvtp.v.Wvtp);
o[8]=["WrpA","RptE"].indexOf(K.UndA.v.UndA);o[9]=K.RndS.v},gWave:function(K,o){K.NmbG.v=o[0];K.WLMn.v=o[1];
K.WLMx.v=o[2];K.AmMn.v=o[3];K.AmMx.v=o[4];K.SclH.v=o[5];K.SclV.v=o[6];K.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][o[7]];
K.UndA.v.UndA=["WrpA","RptE"][o[8]];if(o[9]!=null){var Y=parseInt(o[9]);if(isNaN(Y))Y=248325464;Y=Math.max(0,Math.min(268435455,Y));
K.RndS.v=Y}},sDspl:function(K,o){o[0]=K.HrzS.v;o[1]=K.VrtS.v;o[2]=0;o[3]=["WrpA","RptE"].indexOf(K.UndA.v.UndA)},gDspl:function(K,o){K.HrzS.v=o[0];
K.VrtS.v=o[1];K.UndA.v.UndA=["WrpA","RptE"][o[3]];K.DspF.v.pth=o[4]},sbrit:function(K,o){o[0]=K.Brgh?K.Brgh.v:0;
o[1]=K.Cntr?K.Cntr.v:0;o[2]=K.useLegacy?K.useLegacy.v:!1},gbrit:function(K,o){K.Brgh.v=o[0];K.Cntr.v=o[1];
if(o[2]!=null)K.useLegacy.v=o[2]}};fn.a4i=function(K){var o=new jc(0,0);if(K.enab.v==!1)return o;var Y=K.filterFXList.v;
for(var y=0;y<Y.length;y++){var c=Y[y].v;if(c.enab.v==!1)continue;var z=fn.UK(c),f=fn.mA(z,c.Fltr?c.Fltr.v:null);
if(f.x>o.x)o.x=f.x;if(f.y>o.y)o.y=f.y}return o};fn.mA=function(K,o){var Y=0,c=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(K)!=-1){var z=o.Rds?o.Rds.v.val:1;
Y=c=z*2.57}if(K=="MtnB")Y=c=o.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(K)!=-1){Y=c=1e4}if(K=="GEfc")return fU.mA(o);
return new jc(Math.ceil(Y),Math.ceil(c))};fn.iJ=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
fn.PU=function(K,o){var Y={o:o.qm>>16,A:o.qm>>8&255,J:o.qm&255},c={o:o.YQ>>16,A:o.YQ>>8&255,J:o.YQ&255},z=fn.names[K];
if(z==null)z=jh.names[K];var f=K;for(var $ in jh.hW)if(jh.hW[$]==K)f=$;var E={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:ca.get(z)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:d.H.eD(Y)},BckC:{t:"Objc",v:d.H.eD(c)},filterID:{t:"long",v:f.length==4?_.a3G(f):777}}},b=fn.Ta(K);
if(b)E.v.Fltr={t:"Objc",v:b};return E};fn.bi=function(K,o,Y,c){var z=Date.now(),f=jK.YT&&Math.max(c.m,c.e)<=jK.$F.getParameter(jK.$F.MAX_TEXTURE_SIZE);
if(K<1){var $=Math.round(K*5),E=[1,2,1,2,[40,26,13,6,4,2][$],2,1,2,1];E=d.f9.Te(E);if(!f){d.CI(Y);var b=Y.slice(0);
d.f9.TQ(b,Y,c.m,c.e,E,255);d.Xk(Y)}else{var q=c.m,O=c.e,j=jK.r0(0,q,O);j.set(Y);var A=jK.r0(1,q,O),R=new Float32Array([1/q,1/O]);
jK.EW(A);jK.filter.rF({type:jK.filter.avW,wl:R,aau:new Float32Array(E)},j.eI);A.get(Y)}}else{var g=o==d.Gq.EM?0:o==d.Gq.aA6?1:2,H=[];
while(g!=2&&K*[1,2.4][g]>20&&H.length<4){var i=d.sQ(Y,c);H.push(Y,c);Y=i.y3;c=i.rect;K/=2}var q=c.m,O=c.e;
if(!f||g==2&&K>15){d.CI(Y);o(Y,c,K);d.Xk(Y)}else{var j=jK.r0(0,q,O);j.set(Y);var A=jK.r0(1,q,O),R=new Float32Array([1/q,1/O]);
if(g==0){var h=1;while(h<K)h<<=1;jK.EW(A);jK.filter.rF({type:jK.filter.Qe,wl:R,av:K,kM:[0,0,h]},j.eI);
jK.EW(j);jK.filter.rF({type:jK.filter.Qe,wl:R,av:K,kM:[0,1,h]},A.eI);j.get(Y)}else if(g==1){var x=3,F=d.Gq.eM(K,x);
for(var y=0;y<x;y++){var X=F[y]>>>1,V=1;while(V<X)V<<=1;if(X==0)continue;jK.EW(A);jK.filter.rF({type:jK.filter.Qe,wl:R,av:X,kM:[0,0,V]},j.eI);
jK.EW(j);jK.filter.rF({type:jK.filter.Qe,wl:R,av:X,kM:[0,1,V]},A.eI)}j.get(Y)}else{var h=1;while(h<K)h<<=1;
jK.EW(A);jK.filter.rF({type:jK.filter.Qe,wl:R,av:K,kM:[0,0,h]},j.eI);A.get(Y)}}var U=Date.now();while(H.length!=0){var Z=H.pop(),T=H.pop();
d.scale.ap8(Y,c.m,c.e,T,Z.m,Z.e);Y=T;c=Z}}};fn.a3j=function(K,o,Y,c){for(var y=0;y<K.length;y++){Y[y]=K[y]*(1/255);
c[y]=0}FFT.fft2d(Y,c);var z=o>>>1,f=16384,$=128,b=100;while($<o){$<<=1;f<<=2}var E=255/Math.log(f),q=-100;
for(var O=0;O<o;O++)for(var j=0;j<z;j++){var A=o+z+O&o-1,R=Y[A*o+j],g=c[A*o+j],H=Math.sqrt(R*R+g*g),i=Math.atan2(g,R);
K[O*o+j]=Math.round(E*Math.log(H+1));K[O*o+z+j]=Math.round((Math.PI+i)*(255*.5/Math.PI))}};fn.a2E=function(K,o,Y,c){Y.fill(0);
c.fill(0);var z=o>>>1,f=16384,$=128;while($<o){$<<=1;f<<=2}var E=255/Math.log(f),b=[],q=[],O=[];for(var y=0;
y<256;y++){b[y]=Math.exp(y/E)-1;var j=y*(2*Math.PI/255)-Math.PI;q[y]=Math.sin(j);O[y]=Math.cos(j)}for(var A=0;
A<o;A++)for(var R=0;R<z;R++){var g=o+z+A&o-1,H=b[K[A*o+R]],j=K[A*o+z+R],i=H*O[j],h=H*q[j];Y[g*o+R]=i;
c[g*o+R]=h;if(R!=0){var x=g==0?g*o+o-R:(o-g)*o+(o-R);Y[x]=i;c[x]=-h}}FFT.ifft2d(Y,c);for(var y=0;y<K.length;
y++){K[y]=Math.max(0,Math.min(255,~~(.5+255*Y[y])))}};fn.ao9=new ArrayBuffer(512);fn.aa8=function(K){var o=fn.ao9,Y=K.length;
if(o.byteLength<Y)fn.ao9=o=new ArrayBuffer(Y);var c=new Uint8Array(o);for(var y=0;y<Y;y+=4){c[y]=K[y];
c[y+1]=K[y+1];c[y+2]=K[y+2];c[y+3]=K[y+3]}return o};fn.kf=function(K,o,Y,c,z,f,$){if(f==null)f={buffer:d.R(o.buffer.length),rect:o.rect.clone()};
f.buffer.set(o.buffer);var E=Y&&Y.RndS?Y.RndS.v>>>1:0;if(K=="GEfc"){var b=[];if(Y.GEfs){var q=Y.GEfs.v;
for(var y=0;y<q.length;y++){var O=q[y].v;if(O.GELv&&O.GELv.v==!1)continue;b.push(O)}}else b=[Y];for(var y=0;
y<b.length;y++){var j;if(y==0)fU.kf(K,o,b[y],c,z,f,$);else{if(j==null)j={buffer:d.R(o.buffer.length),rect:o.rect.clone()};
d.kO(f.buffer,j.buffer);fU.kf(K,j,b[y],c,z,f,$)}}}if(K=="Dila"){var A=Y.Crop.v.val,R=Y.Rds.v.val+A;R=R*R;
if(R==0)return;var g=o.rect,H=g.m,i=g.e,h=H*i,x=o.buffer,j=f.buffer,F=d.R(h);d.JI(x,F,3);if(A!=0){var X=g.clone();
X.VC(1,1);var V=d.R(X.Z());d.u_(F,g,V,X);d.oD(V);d.style.stroke(V,V,X,A);d.oD(V);d.u_(V,X,F,g)}var U=d.style.D9(F,H,i);
j.fill(0);for(var Z=0;Z<i;Z++)for(var T=0;T<H;T++){var y=Z*H+T,v=y<<1,P=y<<2,p=U[v],a=U[v+1];if(p*p+a*a<R){var D=(Z+a)*H+(T+p)<<2;
j[P]=x[D];j[P+1]=x[D+1];j[P+2]=x[D+2];j[P+3]=255}}}if(K=="Adobe Camera Raw Filter"){var g=o.rect,H=g.m,i=g.e,h=H*i,n=h*4,N=h*3,W=new Float32Array(H*i*3),G=o.buffer;
for(var y=0;y<h;y++){var l=y*3,P=y*4;W[l]=G[P]*(1/255);W[l+1]=G[P+1]*(1/255);W[l+2]=G[P+2]*(1/255)}var u=JSON.parse(JSON.stringify(Y));
delete u.Upri;delete u.GuUr;var e=W.slice(0);bA(W,H,i,e,u);W=e;G=f.buffer;for(var y=0;y<h;y++){var l=y*3,P=y*4;
G[P]=255*Math.max(0,Math.min(1,W[l]));G[P+1]=255*Math.max(0,Math.min(1,W[l+1]));G[P+2]=255*Math.max(0,Math.min(1,W[l+2]))}}if(K=="Fct "){var g=o.rect,H=g.m,i=g.e,h=H*i,n=h*4;
function M(jj){var ji=jj.slice(0);for(var Z=0;Z<3;Z++)for(var T=0;T<3;T++)ji[Z*3+T]=jj[(2-T)*3+Z];return ji}function B(ai,fx,bX,cf){var jy=0;
for(var Z=0;Z<3;Z++)for(var T=0;T<3;T++)jy+=fx[Z*3+T]*ai[(cf-1+Z)*H+bX-1+T];return jy}var s=[8,5,2,5,2,-1,2,-1,-4],t=[5,5,5,2,2,2,-1,-1,-1],J=[2,2,2,2,2,2,2,2,2],L=[];
L.push(s);for(var y=0;y<3;y++)L.push(M(L[L.length-1]));L.push(t);for(var y=0;y<3;y++)L.push(M(L[L.length-1]));
L.push(J);for(var y=0;y<9;y++)L[y]=d.f9.Te(L[y]);var k=[-H-1,-H,-H+1,-1,0,1,H-1,H,H+1],C=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],r=d.R(h),Q=new Float32Array(h),e=d.R(h);
for(var j9=0;j9<3;j9++){d.JI(o.buffer,r,j9);for(var a4=0;a4<1;a4++){for(var Z=1;Z<i-1;Z++)for(var T=1;
T<H-1;T++){var ar=Z*H+T,ez=r[ar];Q[ar]=1e9;for(var y=0;y<9;y++){var ja=B(r,L[y],T,Z),c3=(ja-ez)*(ja-ez);
if(c3<Q[ar])Q[ar]=c3}}for(var Z=1;Z<i-1;Z++)for(var T=1;T<H-1;T++){var hW=0,fO=1e9;for(var y=0;y<9;y++){var ei=Z*H+T+k[y],c3=Q[ei];
if(c3<fO){fO=c3;hW=r[ei]}}e[Z*H+T]=hW}r.set(e)}d.cb(e,f.buffer,j9)}}if(K=="adaptCorrect"){var g=o.rect,H=g.m,i=g.e,h=H*i,n=h*4,fV=Y.sdwM.v,ee=fV.Amnt.v.val/100,hM=fV.Wdth.v.val/100,ds=fV.Rds.v,cp=Y.hglM.v,eA=cp.Amnt.v.val/100,db=cp.Wdth.v.val/100,js=cp.Rds.v;
d.a2U.md(o.buffer,f.buffer,H,i,ee,hM,ds,eA,db,js,Y.ClrC.v/100,Y.Cntr.v/100)}if(K=="denoise"){var g=o.rect,H=g.m,i=g.e,bF=Y.channelDenoise.v[0].v;
d.a5R.a1v(o.buffer,H,i,f.buffer,bF.Amnt.v/10,bF.EdgF.v/100)}if(K=="HsbP"){var jI=Y.Inpt.v.ClrS,gF=Y.Otpt.v.ClrS,g=o.rect,H=g.m,i=g.e,h=H*i;
for(var y=0;y<h;y++){var P=y*4,a4=o.buffer[P]*(1/255),b6=o.buffer[P+1]*(1/255),ji=o.buffer[P+2]*(1/255);
if(jI=="RGBC"){}else if(jI=="HSLC"){var e=d.i7(a4,b6,ji);a4=e.o;b6=e.A;ji=e.J}else if(jI=="HSBl"){var e=d.aAT(a4,b6,ji);
a4=e.o;b6=e.A;ji=e.J}var hd=a4,eZ=b6,hj=ji;if(gF=="RGBC"){}else if(gF=="HSLC"){var e=d.BX(a4,b6,ji);
hd=e.jd;eZ=e.ZO;hj=e.HY}else if(gF=="HSBl"){var e=d.vr(a4,b6,ji);hd=e.jd;eZ=e.ZO;hj=e.J}f.buffer[P]=~~(255*hd);
f.buffer[P+1]=~~(255*eZ);f.buffer[P+2]=~~(255*hj)}}if(K=="Fbrs"){var g=o.rect,H=g.m,i=g.e;d.X.a8K(o.buffer,H,i,f.buffer,[Y.Vrnc.v,Y.Strg.v,E]);
var eK=d.R(H*i);d.JI(f.buffer,eK,0);d.oD(eK);fU.WY(eK,f.buffer,c,z)}if(K=="Frgm"){var g=o.rect,H=g.m,i=g.e,cX=o.buffer.slice(0);
d.CI(cX);d.X.avV(cX,H,i,f.buffer);d.Xk(f.buffer)}if(K=="Flam"){var g=o.rect,H=g.m,i=g.e,bW=Y.Clr.v,ju={type:Y.Type.v+1,length:Y.Leng.v,asR:Y.RndL.v,hV:Y.Widt.v,ajr:Y.Angl.v,abZ:Y.Intr.v,a2d:Y.Adpt.v,color:{o:bW.Rd.v,A:bW.Grn.v,J:bW.Bl.v},AT:Y.Qual.v+1,iA:Y.Turb.v,Ue:Y.Jag.v,opacity:Y.Opct.v.val,if:Y.Lins.v,aAY:Y.Botm.v,style:Y.Styl.v+1,shape:Y.Shap.v+1,aue:Y.RnSh.v,anl:Y.Arng.v,a1w:!1},ci=$[3],hH=ci[0],b8=ci[1],gh=hH[b8.length!=0?b8[0]:0];
if(gh==null){alert("Make a path first");return}var aN=gh.add.vmsk.$,eS=d.j.rD(aN),b2=[];for(var D=0;
D<eS;D++){var fZ=d.j.js(aN,D),dw=aN[fZ];if(dw.length<2)continue;var ib=[];b2.push(ib);var eJ=dw.length-(dw.type==3?1:0);
for(var ar=0;ar<eJ;ar++){var df=aN[fZ+1+ar],k5=ar==dw.length-1?aN[fZ+1]:aN[fZ+1+ar+1],eC=df.P,j7=df.eb,s=k5.KK,cK=k5.P,bw=Math.round(jc.si(eC,cK)/5);
for(var f6=0;f6<bw;f6++){var iF=f6/bw,ag=1-iF,T=ag*ag*ag*eC.x+3*ag*ag*iF*j7.x+3*ag*iF*iF*s.x+iF*iF*iF*cK.x,Z=ag*ag*ag*eC.y+3*ag*ag*iF*j7.y+3*ag*iF*iF*s.y+iF*iF*iF*cK.y;
ib.push(T,Z)}}}var bS=[b2,ju],b$=Date.now(),aj=fG(bS);iU(o.buffer,H,i,f.buffer,aj,bS)}if(K=="Dfs "){var g=o.rect,H=g.m,i=g.e,iV=["Nrml","DrkO","LghO","anisotropic"].indexOf(Y.Md.v.DfsM);
if(iV<3)d.X.asK(o.buffer,H,i,f.buffer,[iV]);else{var bS=[1.4,1.6,1,4,!1,2,[0,0,.001]],g=o.rect.clone();
g.x=g.y=0;d.Eb.filter(o.buffer,g,f.buffer,bS)}}if(K=="TrcC"){var g=o.rect,H=g.m,g0=H<<2,i=g.e,eB=Y.Lvl.v,c7=Y.Edg.v.CntE=="Lwr",dU=o.buffer,cz=f.buffer;
d.nz(cz,16777215,4278190080);function fr(cl,kj){a6(cl,kj);a6(cl+1,kj+1);a6(cl+2,kj+2)}function kk(cl,kj){jv(cl,kj);
jv(cl+1,kj+1);jv(cl+2,kj+2)}function a6(cl,kj){var hd=dU[cl],eZ=dU[kj];if(hd>=eB&&eZ<eB)cz[cl]=0;if(hd<eB&&eZ>=eB)cz[kj]=0}function jv(cl,kj){var hd=dU[cl],eZ=dU[kj];
if(hd>eB&&eZ<=eB)cz[kj]=0;if(hd<=eB&&eZ>eB)cz[cl]=0}if(c7)for(var Z=1;Z<i;Z++)for(var T=1;T<H;T++){var P=Z*H+T<<2;
fr(P,P-4);fr(P,P-g0)}else for(var Z=1;Z<i;Z++)for(var T=1;T<H;T++){var P=Z*H+T<<2;kk(P,P-4);kk(P,P-g0)}}if(K=="Embs"){var g=o.rect,H=g.m,i=g.e,by=-Y.Angl.v*Math.PI/180,gc=Y.Hght.v,i8=Y.Amnt.v/100;
gc/=2;var p=Math.cos(by)*gc,a=Math.sin(by)*gc,dU=o.buffer,cz=f.buffer;cz.fill(0);var az=new Uint32Array(dU.buffer),e=new Uint8Array(4),g9=new Uint32Array(e.buffer);
for(var Z=0;Z<i;Z++)for(var T=0;T<H;T++){var a3=0,jb=0,aY=0;if(0<=T+p&&T+p<H&&0<=Z+a&&Z+a<i){d.D.u2(T+p+.5,Z+a+.5,az,H,i,g9,0,0);
a3+=e[0]-128;jb+=e[1]-128;aY+=e[2]-128}if(0<=T-p&&T-p<H&&0<=Z-a&&Z-a<i){d.D.u2(T-p+.5,Z-a+.5,az,H,i,g9,0,0);
a3-=e[0]-128;jb-=e[1]-128;aY-=e[2]-128}var P=Z*H+T<<2;cz[P]=Math.max(0,Math.min(255,a3*i8+128));cz[P+1]=Math.max(0,Math.min(255,jb*i8+128));
cz[P+2]=Math.max(0,Math.min(255,aY*i8+128));cz[P+3]=dU[P+3]}}if(K=="ShrE"){var g=o.rect,H=g.m,i=g.e;
d.X.a0U(o.buffer,H,i,f.buffer)}if(K=="Dspc"){var g=o.rect,H=g.m,i=g.e;d.X.afl(o.buffer,H,i,f.buffer)}if(K=="Slrz"){var g4=f.buffer,dl=128;
for(var y=0;y<g4.length;y+=4){if(g4[y]>dl)g4[y]=255-g4[y];if(g4[y+1]>dl)g4[y+1]=255-g4[y+1];if(g4[y+2]>dl)g4[y+2]=255-g4[y+2]}}if(K=="Wnd "){var g=o.rect,H=g.m,i=g.e,ej=["Wnd","Blst","Stgr"],cn=Y.WndM.v.WndM;
d.X.XQ(o.buffer,H,i,f.buffer,[ej.indexOf(cn),Y.Drct.v.Drct!="Left"])}if(K=="Bokh"){var g=o.rect,H=g.m,i=g.e,h=H*i,n=h*4,d_=o.buffer.slice(0),hZ=Y.BkDi.v.BtDi,gv=Y.BkDc,jH=Y.BkDs.v,a0=Y.BkDp.v/255;
if(hZ=="BeIn")a0=0;var e1=57*(.3+.7*((H+i)/2)/1750)*(Y.BkIb.v/100)*(1+.2*Math.pow(a0,.1)),h4=parseInt(Y.BkIs.v.BtIs.slice(3)),gn=-Y.BkIr.v*Math.PI/180,e5=[];
for(var y=0;y<8;y++){var ka=gn+y*(Math.PI*2/h4),fF=gn+(y+1)*(Math.PI*2/h4),ke=Math.cos(ka),iA=Math.sin(ka),eP=Math.cos(fF),hl=Math.sin(fF),jY=[0,0,0];
d.gr.kA([[ke,iA,1,0],[eP,hl,1,0],[1,1,1,1]],jY);if(jY[2]>0){jY[0]*=-1;jY[1]*=-1;jY[2]*=-1}e5.push(jY[0],jY[1],jY[2],0)}if(hZ=="BeIn"){d.nz(d_,0,16777215);
a0=1}else if(hZ=="BeIt"&&gv.v.BtDc=="BeCt"){}else{var iG;if(hZ=="BeIt"&&gv.v.BtDc=="BeCm")iG=$[1];else if(hZ=="BeIa")iG=$[2][gv.v];
if(iG==null){d.nz(d_,0,16777215)}else{var r;if(iG.rect.BV(g))r=iG.channel;else r=iG.dQ(g);d.cb(r,d_,3)}}if(jH)for(var y=0;
y<n;y+=4)d_[y+3]=255-d_[y+3];if(jK.YT){var el=d_,iz=H,bd=i,iM=1,cb=(Y.BkSb.v==0||Y.BkSt.v==255)&&hZ=="BeIn";
if(!cb){var bk=0;for(var y=0;y<n;y+=4)bk+=Math.abs(a0-d_[y+3]*(1/255));bk=bk/h*e1;var jG=3.14*bk*bk*H*i/3e6;
if(jG>2e3){alert("too large radius");return}}while(cb&&3*(e1/iM)*(e1/iM)*H*i>500*2e3*2e3){var et=d.ye(d_,new hD(0,0,iz,bd));
d_=et.y3;iz=et.rect.m;bd=et.rect.e;iM*=2}var b$=Date.now(),x=jK.r0(0,iz,bd);x.set(d_);var dy=jK.r0(1,H,i);
jK.EW(dy);jK.filter.rF({type:jK.filter.ate,wl:new Float32Array([1/iz,1/bd]),a5u:a0,IN:e1/iM,a8L:new Float32Array([Y.BkSb.v/100,Y.BkSt.v/255]),a9o:new Float32Array([Y.BkNa.v/100,Y.BkNt.v.BtNt=="BeNu"?0:1,Y.BkNm.v?1:0]),a1z:new Float32Array(e5.slice(0,16)),ah8:new Float32Array(e5.slice(16))},x.eI);
dy.get(f.buffer);var ce=f.buffer;for(var y=0;y<n;y+=4)ce[y+3]=o.buffer[y+3]}}if(K=="rigidTransform"){var b$=Date.now(),g2=fn.aa8,x=o.buffer.slice(0),fJ=0,gS=0;
d.CI(x);d.nz(f.buffer,0);var H=o.rect.m,i=o.rect.e,gx=Y.puppetShapeList.v,hO=[],ko=[],dm=[],gw=[];for(var ar=0;
ar<gx.length;ar++){var fj=gx[ar].v,v=fJ*2,l=gS*3,f$=fj.originalVertexArray.v.length>>>2,kx=fj.indexArray.v.length>>>2,cF=new Float32Array(g2(fj.originalVertexArray.v));
for(var y=0;y<f$;y++)hO[v+y]=cF[y];var iK=new Float32Array(g2(fj.deformedVertexArray.v));for(var y=0;
y<f$;y++)ko[v+y]=iK[y];var aP=new Uint32Array(g2(fj.indexArray.v));for(var y=0;y<kx;y++)dm[l+y]=fJ+aP[y];
var hf=[],ii=[],eE=fj.PnDp.v;for(var y=0;y<eE.length;y++){hf.push(fj.pinVertexIndices.v[y].v);ii.push(eE[y].v)}var dR=d.dO.awH(cF,aP,hf,ii);
for(var y=0;y<dR.length;y++)gw[fJ+y]=dR[y];fJ+=f$>>>1;gS+=~~(kx/3)}var a4=o.rect,H=a4.m,i=a4.e;d.dO.hk(x,H,i,f.buffer,H,i,hO,ko,gw,dm);
d.Xk(f.buffer)}if(K=="lightFilterGradient"){function j8(eC){var fx=1/Math.sqrt(eC[0]*eC[0]+eC[1]*eC[1]+eC[2]*eC[2]);
eC[0]*=fx;eC[1]*=fx;eC[2]*=fx}var H=o.rect.m,i=o.rect.e,h=H*i,b$=Date.now(),a2=d.R(h),eZ=.3,hj=.7;d.jf(f.buffer,a2);
var hv=d.R(h);d.Gq.r5(a2,hv,f.rect,16);var hb=d.R(h);d.Gq.r5(a2,hb,f.rect,8);var cM=a2,j3=new Float32Array(h),di=Y.Dtl.v,iR=di[2].v,bi=di[1].v,iP=di[0].v,jy=Y.Scl.v*40*Y.textureScale.v/(iR+bi+iP);
iR*=jy;bi*=jy;iP*=jy;for(var y=0;y<h;y++){var is=hv[y]*(1/255),bQ=hb[y]*(1/255),d1=cM[y]*(1/255);d1=d1*d1;
j3[y]=iR*is+bi*bQ+iP*d1}var jp=Y.blur.v;if(jp!=0){var hc=j3.slice(0);d.Gq.An(hc,j3,f.rect,jp)}var jl=H-1,c9=i-1;
for(var Z=0;Z<i;Z++)for(var T=0;T<H;T++){var y=Z*H+T,P=y*4,gz=j3[y],p=eZ*(j3[y+(T==jl?0:1)]-gz)+hj*(gz-j3[y-(T==0?0:1)]),a=eZ*(j3[y+(Z==c9?0:H)]-gz)+hj*(gz-j3[y-(Z==0?0:H)]),eC=[1,0,p],j7=[0,1,a];
j8(eC);j8(j7);var fF=eC[0],aF=eC[2],im=j7[1],e_=j7[2],ku=-aF*im,dT=-fF*e_,dM=fF*im;f.buffer[P]=~~(127.5+ku*127.5);
f.buffer[P+1]=~~(127.5+dT*127.5);f.buffer[P+2]=~~(127.5+dM*127.5)}}if(K=="defr"){var H=o.rect.m,i=o.rect.e;
fb(o.buffer,H,i,f.buffer)}if(K=="dDFT"||K=="iDFT"){function iI(h4){if(h4==0)return 1;h4--;h4|=h4>>1;
h4|=h4>>2;h4|=h4>>4;h4|=h4>>8;h4|=h4>>16;return h4+1}var H=o.rect.m,i=o.rect.e,jB=iI(Math.max(H,i)),aD=jB>>>1,jE=new hD(0,0,jB,jB),gP=new hD(0,0,H,i);
gP.y=jB-i>>>1;var i3=H>>>1,gR=new hD(0,gP.y,i3,i),e0=new d.ok(H*i);d.w9(o.buffer,e0);var f5=new Float64Array(jB*jB),hy=new Float64Array(jB*jB),r=d.R(jB*jB);
FFT.init(jB);var g7=[e0.o,e0.A,e0.J];for(var y=0;y<3;y++){var i5=g7[y];r.fill(0);if(K=="dDFT"){d.u_(i5,gP,r,jE);
fn.a3j(r,jB,f5,hy);d.u_(r,jE,i5,gP,gR);gR.x+=i3;jE.x-=aD-i3;d.u_(r,jE,i5,gP,gR);gR.x-=i3;jE.x+=aD-i3}else{d.u_(i5,gP,r,jE,gR);
gR.x+=aD;gP.x+=aD-i3;d.u_(i5,gP,r,jE,gR);gR.x-=aD;gP.x-=aD-i3;fn.a2E(r,jB,f5,hy);d.u_(r,jE,i5,gP)}}d.vF(e0,f.buffer)}if(K=="Avrg"){var fd=0,dj=0,b7=0,kf=0,as=1;
for(var y=0;y<o.buffer.length;y+=4){var F=o.buffer[y+3];b7+=o.buffer[y]*F;dj+=o.buffer[y+1]*F;fd+=o.buffer[y+2]*F;
kf+=F}var h8=1/kf;fd=Math.round(as*(fd*h8)+(1-as)*255);dj=Math.round(as*(dj*h8)+(1-as)*255);b7=Math.round(as*(b7*h8)+(1-as)*255);
d.nz(f.buffer,fd<<16|dj<<8|b7,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(K)!=-1){var hC=Y.Rds?Y.Rds.v.val:1,io=K=="boxblur"?d.Gq.EM:d.Gq.aA6;
fn.bi(hC,io,f.buffer,f.rect);if(K=="UnsM"||K=="smartSharpen"){var i8=(Y.Amnt?Y.Amnt.v.val:200)/100,an=0;
if(K=="UnsM")an=Y.Thsh.v;else i8*=.75;for(var y=0;y<o.buffer.length;y++){if((y&3)==3){f.buffer[y]=o.buffer[y];
continue}var ez=o.buffer[y],ja=f.buffer[y],fN=i8*(ez-ja);if(fN>0)fN=Math.max(0,fN-an);else fN=Math.min(0,fN+an);
f.buffer[y]=Math.max(0,Math.min(255,ez+fN))}}if(K=="HghP")for(var y=0;y<o.buffer.length;y++){if((y&3)==3){f.buffer[y]=o.buffer[y];
continue}var ez=o.buffer[y],ja=f.buffer[y];f.buffer[y]=Math.max(0,Math.min(255,128+ez-ja))}}if(K=="AdNs"){var fB=new Uint8ClampedArray(f.buffer.buffer),bD=255*Y.Nose.v.val/100,gE;
if(Y.Dstr.v.Dstr=="Gsn")gE=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else gE=function(){return Math.random()*2-1};for(var y=0;y<fB.length;y+=4){var a4=fB[y],b6=fB[y+1],ji=fB[y+2],gd,c5,c0;
if(Y.Mnch.v){gd=c5=c0=gE()}else{gd=gE();c5=gE();c0=gE()}a4+=bD*gd;b6+=bD*c5;ji+=bD*c0;fB[y]=a4;fB[y+1]=b6;
fB[y+2]=ji}}var b$=Date.now();if(K=="Mdn "||K=="DstS"||K=="Mxm "||K=="Mnm "||K=="surfaceBlur"){var a4=0,cr=Y.Thsh,fj=0;
if(cr)cr=cr.v;else cr=0;if(K=="Mdn "||K=="Mxm "||K=="Mnm "||K=="surfaceBlur")a4=Y.Rds.v.val;else a4=Y.Rds.v;
var hg=10*Math.ceil(a4/10),H=o.rect.m,i=o.rect.e,d4=["Mnm ","Mxm ","surfaceBlur"].indexOf(K),jO=(fj==0?1:.75)*[.73,.73,1.2][d4]*(H*i*Math.pow(hg*hg,1.05))/6022387,j5=.6*(H*i*Math.pow(a4,1/2.6))/6500;
if(K=="Mxm "||K=="Mnm ")j5=H*i/13e3;var fR=Y.preserveShape;if(fR&&fR.v.preserveShape=="Rndn")fj=1;if(jK.YT&&d4!=-1&&(jO<j5||fj==1)&&jO<500){var x=jK.r0(0,H,i);
x.set(o.buffer);var j=jK.r0(1,H,i);jK.EW(j);jK.filter.rF({type:jK.filter.a8A,wl:new Float32Array([1/H,1/i]),IN:a4,ai0:cr/255,kM:[fj,d4,hg]},x.eI);
j.get(f.buffer)}else if(K=="Mxm "||K=="Mnm "){var H=o.rect.m,i=o.rect.e;d.og.ak1(o.buffer,f.buffer,H,i,1+Math.floor(Y.Rds.v.val)*2,K=="Mxm ")}else{a4=Math.round(a4);
d.Pl.QH=.5;d.Pl.pW=cr;var io=K=="surfaceBlur"?1:0;d.Pl.Rn(o.buffer,f.buffer,H,i,a4,io);if(K=="DstS")for(var y=0;
y<H*i*4;y++){var hq=Math.abs(o.buffer[y]-f.buffer[y]);if(hq<=cr)f.buffer[y]=o.buffer[y]}}}if(K=="ClrH"){var gR=o.rect.clone();
gR.x=gR.y=0;var a4=Y.Rds.v;a4=Math.round(a4*Math.sqrt(2));var H=gR.m,i=gR.e,e0=new d.ok(H*i);d.w9(o.buffer,e0);
d.oD(e0.o);d.oD(e0.A);d.oD(e0.J);var c8=d.oN(H,i),ce=d.R(H*i*4);for(var ai=0;ai<3;ai++){var r=ai==0?e0.o:ai==1?e0.A:e0.J,by=Math.PI*Y["Ang"+(ai+1)].v/180,aS=new dF(1/a4,0,0,1/a4,0,0);
aS.rotate(by);d.cb(r,ce,3);var e=m.OB.Z6([ce,gR],aS,!0),gP=e.rect;c8.clearRect(0,0,H,i);var ba=Math.sin(by),ha=Math.cos(by);
for(var y=0;y<gP.e;y++)for(var f6=0;f6<gP.m;f6++){var T=(f6+gP.x+.5)*a4,Z=(y+gP.y+.5)*a4,gy=T,dq=Z;T=ha*gy-ba*dq;
Z=ba*gy+ha*dq;var h=e.buffer[(y*gP.m+f6<<2)+3]*(1/255),hC=a4*Math.sqrt(h*(1/Math.PI));c8.beginPath();
c8.arc(T,Z,hC,0,2*Math.PI);c8.fill()}var g8=c8.getImageData(0,0,H,i);d.JI(g8.data,r,3)}d.oD(e0.o);d.oD(e0.A);
d.oD(e0.J);d.vF(e0,f.buffer)}if(K=="Crst"||K=="Pntl"){var H=o.rect.m,i=o.rect.e,io=K=="Crst"?d.bK.aiX:d.bK.adI;
io(o.buffer,H,i,f.buffer,Y.ClSz.v,[Math.round(z.o),Math.round(z.A),Math.round(z.J)])}if(K=="Mztn"){var H=o.rect.m,i=o.rect.e,h=H*i,e0=new d.ok(h),bp=[e0.o,e0.A,e0.J];
d.w9(o.buffer,e0);var cn=Y.MztT.v.MztT,iv={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[cn],b$=Date.now(),hF=[];
for(var y=0;y<h;y++){hF[y]=Math.random()}var h=H*i,g5=Math.round(h*iv[0]),iw=h-H-1;for(var y=0;y<g5;
y++){var d5=Math.random(),ay=1;if(d5<.5){ay=H;d5*=2}else d5=2*(d5-.5);var cl=Math.floor(d5*iw),kj=cl+ay;
hF[cl]=hF[kj]}var kA=Math.round(H*iv[1]);for(var Z=0;Z<i;Z++)for(var y=0;y<kA;y++){var d5=d.l.Kz(Z*h+y),cl=Z*H+Math.floor(d5*(H-1));
hF[cl]=hF[cl+1]}var eQ=new Float64Array(256);for(var y=0;y<256;y++){var jo=y/255,kv=2*(jo<.5?jo:1-jo);
kv=iv[2]+Math.pow(kv,iv[3])*(1-iv[2]);jo=jo<.5?kv*.5:1-kv*.5;eQ[y]=jo}for(var j9=0;j9<3;j9++){var r=bp[j9];
for(var Z=0;Z<i;Z++){for(var T=0;T<H;T++){var y=Z*H+T,dH=r[y],jo=eQ[dH],d5=hF[y];r[y]=d5>jo?0:255}}}d.vF(e0,f.buffer)}if(K=="Msc "){var eS=Y.ClSz.v.val,H=o.rect.m,i=o.rect.e,aH=Math.ceil(H/eS),dG=Math.ceil(i/eS),jt=d.R(aH*dG*4);
d.scale.c4(o.buffer,H,i,jt,aH,dG,1/eS);d.scale.c4(jt,aH,dG,f.buffer,H,i,eS)}if(K=="Clds"||K=="DfrC"){var H=f.rect.m,i=f.rect.e,h=H*i,hJ=d.R(h);
if(K=="Clds")d.nz(f.buffer,4278190080);var iu=d.R(256*4);for(var y=0;y<256;y++){var P=y<<2,jj=y/255,aP=1-jj;
iu[P]=Math.round(jj*c.o+aP*z.o);iu[P+1]=Math.round(jj*c.A+aP*z.A);iu[P+2]=Math.round(jj*c.J+aP*z.J)}d.X.a01(o.buffer,H,i,hJ);
var cd=f.buffer;for(var y=0;y<h;y++){var P=y<<2,j9=hJ[y]<<2,a4=iu[j9],b6=iu[j9+1],ji=iu[j9+2];if(K=="Clds"){cd[P]=a4;
cd[P+1]=b6;cd[P+2]=ji}else{cd[P]=Math.abs(cd[4*y]-a4);cd[P+1]=Math.abs(cd[4*y+1]-b6);cd[P+2]=Math.abs(cd[4*y+2]-ji)}}}if(K=="LnsF"){var H=o.rect.m,i=o.rect.e,cn=["Zm","Nkn","Nkn1","PnVs"].indexOf(Y.Lns.v.Lns),kr=Y.FlrC.v,ak=[Math.min(cn,2),Y.Brgh.v/100,kr.Hrzn.v,kr.Vrtc.v],b$=Date.now();
d.aiz(o.buffer,H,i,f.buffer,ak)}var af=["Blr ","BlrM","Shrp","ShrM"].indexOf(K);if(af!=-1){var iC=af>1,H=o.rect.m,i=o.rect.e,aq=d.f9.V2[af],fp=o.buffer.slice(0);
if(!iC)d.CI(fp);d.f9.TQ(fp,f.buffer,H,i,aq,255,!1,iC);if(!iC)d.Xk(f.buffer)}if(K=="MtnB"){var b4=-Y.Angl.v*Math.PI/180,gV=Y.Dstn.v.val/2,b$=Date.now(),H=o.rect.m,i=o.rect.e,g=o.rect.clone();
g.x=g.y=0;if(jK.YT){var b$=Date.now(),d8=f.buffer;d8.set(o.buffer);d.CI(d8);var aI=jK.r0(0,H,i);aI.set(d8);
var dU=d.R(4);dU[0]=Math.round(128+127*Math.cos(b4));dU[1]=Math.round(128+127*Math.sin(b4));new Uint32Array(d8.buffer).fill(new Uint32Array(dU.buffer)[0]);
var g6=jK.r0(1,H,i);g6.set(d8);jK.EW(aI,g);aI.vt(g);jK.filter.rF({type:jK.filter.ar,W7:g6.eI,wl:new Float32Array([1/H,1/i]),aBz:gV/2,a8O:1},aI.Ci);
aI.get(d8);d.Xk(d8)}else{var aS=new dF;aS.rotate(b4);var e=m.OB.Z6([o.buffer,o.rect],aS,!1,null,!0);
fn.bi(gV,d.Gq.a3b,e.buffer,e.rect);aS.oD();e=m.OB.Z6([e.buffer,e.rect],aS,!1,f.buffer.buffer,!0,f.rect)}console.log(Date.now()-b$)}if(K=="RdlB"){var H=o.rect.m,i=o.rect.e,i8=Y.Amnt.v,cu=Y.BlrM.v.BlrM=="Zm",ai=Y.Cntr.v,bX=ai.Hrzn.v,cf=ai.Vrtc.v,p=Math.max(bX,1-bX)*H,a=Math.max(cf,1-cf)*i,hC=Math.sqrt(p*p+a*a),co=2*Math.PI*hC*1.5,hY=Math.round(co),a8=Math.round(hC),gR=new hD(0,0,hY,a8),ck=d.R(hY*a8*4),kc=cu?4:1,aB=cu?.6:8*((H+i)/2)/1400,dA=.1,iM=1,cA=1;
d.D.a6y(o.buffer,H,i,ck,hY,a8,bX,cf,kc,dA,iM,cA);var gW=cu?d.R(hY*a8*4):null;if(cu){d.D.Cy(ck,gW,hY,a8);
var iF=gW;gW=ck;ck=iF;gR.m=a8;gR.e=hY}fn.bi(aB*i8,d.Gq.a3b,ck,gR);if(cu){d.D.Cy(ck,gW,a8,hY);var iF=gW;
gW=ck;ck=iF;gR.m=hY;gR.e=a8}d.D.awX(ck,hY,a8,f.buffer,H,i,bX,cf,kc,dA,iM,cA)}if(K=="Plr "){var H=o.rect.m,i=o.rect.e;
if(Y.Cnvr.v.Cnvr=="RctP")d.D.awX(o.buffer,H,i,f.buffer,H,i,.5,.5,1,0,2,H/i);else d.D.a6y(o.buffer,H,i,f.buffer,H,i,.5,.5,1,0,2,H/i)}if(K=="FndE"){var H=o.rect.m,i=o.rect.e;
d.f9.auQ(o.buffer,f.buffer,H,i)}if(K=="oilPaint"){var by=Y.LghD.v*Math.PI/180,iX=[Math.cos(by),Math.sin(by),.001],bS=[Y.stylization.v,Y.cleanliness.v,Y.brushScale.v,Y.microBrush.v,Y.lightingOn.v,Y.specularity.v,iX],g=o.rect.clone();
g.x=g.y=0;d.Eb.filter(o.buffer,g,f.buffer,bS)}if(K=="Ofst"){var H=o.rect.m,i=o.rect.e,gf=new Uint32Array(o.buffer.buffer),jZ=new Uint32Array(f.buffer.buffer),gy=Y.Hrzn.v,dq=Y.Vrtc.v,c6=Y.Fl.v.FlMd;
d.nz(jZ,0);if(c6=="Bckg"||c6=="Rpt"){var gR=o.rect.clone();gR.offset(gy,dq);d.iF(gf,gR,jZ,f.rect)}if(c6=="Rpt"){var ke,iA,eP,hl,dp;
gy=Math.max(-H,Math.min(H,gy));dq=Math.max(-i,Math.min(i,dq));ke=gy>0?gy:0;eP=gy>0?H:H+gy;iA=dq>0?0:dq+i;
hl=dq>0?dq:i;dp=dq>0?0:H*(i-1);for(var Z=iA;Z<hl;Z++)for(var T=ke;T<eP;T++)jZ[Z*H+T]=gf[dp+T-gy];ke=gy>0?0:H+gy;
eP=gy>0?gy:H;iA=dq>0?dq:0;hl=dq>0?i:i+dq;dp=gy>0?0:H-1;for(var Z=iA;Z<hl;Z++)for(var T=ke;T<eP;T++)jZ[Z*H+T]=gf[dp+H*(Z-dq)];
if(gy>=0&&dq>=0){ke=0;eP=gy;iA=0;hl=dq;dp=0}if(gy>=0&&dq<0){ke=0;eP=gy;iA=i+dq;hl=i;dp=H*(i-1)}if(gy<0&&dq>=0){ke=H+gy;
eP=H;iA=0;hl=dq;dp=H-1}if(gy<0&&dq<0){ke=H+gy;eP=H;iA=i+dq;hl=i;dp=H*i-1}for(var Z=iA;Z<hl;Z++)for(var T=ke;
T<eP;T++)jZ[Z*H+T]=gf[dp]}if(c6=="Wrp"){gy=(gy+100*H)%H;dq=(dq+100*i)%i;var gR=new hD(gy-H,dq-i,H,i);
d.iF(gf,gR,jZ,f.rect);gR.offset(H,0);d.iF(gf,gR,jZ,f.rect);gR.offset(0,i);d.iF(gf,gR,jZ,f.rect);gR.offset(-H,0);
d.iF(gf,gR,jZ,f.rect)}}if(K=="Rept"){var ax=Y.Rsft.v.val/100,ft=Y.SpcX.v.val/100;ft=Math.max(ft,-.99);
var fo=Y.SpcY.v.val/100;fo=Math.max(fo,-.99);var iM=Y.Scl.v.val/100,aS=new dF;aS.rotate(Y.Angl.v*Math.PI/180);
aS.scale(iM,iM);var f7={buffer:o.buffer,rect:o.rect};d.zy(f7);if(f7.rect.xf()){f7.buffer=o.buffer;f7.rect=o.rect}var cd=f7.buffer,gR=f7.rect,eb=d.kL(cd,gR,0),ef=new Uint32Array(cd.buffer)[0];
if(!eb.xf()&&!eb.BV(gR)){var fQ=d.R(eb.Z()*4);d.iF(cd,gR,fQ,eb);cd=fQ;gR=eb}gR.x=gR.y=0;ef=ft==0&&fo==0||Y.SpcC.v?ef:0;
function iH(T){return T<0?Math.ceil(T):Math.floor(T)}var cL=aS.qc(new jc(gR.m,0));cL.x=iH(cL.x);cL.y=iH(cL.y);
var bG=aS.qc(new jc(0,gR.e));bG.x=iH(bG.x);bG.y=iH(bG.y);var e=m.OB.Z6([cd,gR],aS,!1),gP=e.rect,cz=e.buffer,gY=Math.round(gP.x),dJ=Math.round(gP.y),ff=Math.max(f.rect.m,f.rect.e)/Math.min(gR.m*iM*(1+ft),gR.e*iM*(1+fo));
ff=Math.ceil(ff*1.7);d.nz(f.buffer,ef);for(var Z=-ff;Z<ff;Z++){for(var T=-ff;T<ff;T++){var f8=(T+Z*ax)*(1+ft),gC=Z*(1+fo);
gP.x=gY+Math.round(f8*cL.x+gC*bG.x);gP.y=dJ+Math.round(f8*cL.y+gC*bG.y);if(gP.wR(f.rect))d.l.To("norm",cz,gP,f.buffer,f.rect,gP,1)}}}if(K=="Ctoa"){var z=d.H.CK(Y.Clr.v),cr=Y.Trsp.v.val/100,cq=Y.Opct.v.val/100;
cr=cq==0?0:cr/cq;var H=o.rect.m,i=o.rect.e,fe=~~z.o,iD=~~z.A,hA=~~z.J,dp=o.buffer,ei=f.buffer;for(var Z=0;
Z<i;Z++)for(var T=0;T<H;T++){var y=Z*H+T,P=y<<2,gR=dp[P],hT=dp[P+1],cd=dp[P+2],bg=Math.abs(fe-gR),gN=Math.abs(iD-hT),aV=Math.abs(hA-cd),aJ=Math.max(bg,gN,aV)*(1/255);
aJ=Math.max(0,Math.min(1,aJ/cq));var gp=aJ==0?0:1/aJ,aX=cr==1?1:Math.max(0,Math.min(1,(aJ-cr)/(1-cr)));
ei[P]=Math.max(0,Math.min(255,(gR-fe*(1-aJ))*gp));ei[P+1]=Math.max(0,Math.min(255,(hT-iD*(1-aJ))*gp));
ei[P+2]=Math.max(0,Math.min(255,(cd-hA*(1-aJ))*gp));ei[P+3]=~~(.5+aX*255)}}if(K=="Dthr"){function i2(T){return~~(.5+255*d.db(T/255))}var ar=Y.Plte.v,d2;
if(ar==0)d2=[4278190080,4294967295];else{var gX=[[1,1,1],[2,2,2],[3,3,2]][ar-1],b5=[1<<gX[0],1<<gX[1],1<<gX[2]],h3=[~~(255/(b5[0]-1)),~~(255/(b5[1]-1)),~~(255/(b5[2]-1))];
d2=[];for(var a4=0;a4<b5[0];a4++)for(var b6=0;b6<b5[1];b6++)for(var ji=0;ji<b5[2];ji++)d2.push(255<<24|i2(ji*h3[2])<<16|i2(b6*h3[1])<<8|i2(a4*h3[0]))}var H=o.rect.m,i=o.rect.e,h=H*i,d6=h*4,aY=o.buffer.slice(0),e2=f.buffer;
for(var y=0;y<d6;y++)aY[y]=~~(.5+255*d.db(aY[y]/255));var h2=d.R(H*i);UPNG.encode.dither(aY,H,i,d2,e2,h2,Y.Mthd?Y.Mthd.v:1);
for(var y=0;y<d6;y++)e2[y]=~~(.5+255*d.RU(e2[y]/255))}if(K=="Part"){var am=[Y.RndS.v,Y.Cont.v/100,Y.Size.v,Y.Dpth.v/100,Y.Brgh.v/100,d.H.CK(Y.Clr.v),Y.Time.v,Y.Blnk.v,Y.Fall.v,Y.Turb.v/100];
d.Py.S1(f.buffer,o.rect.m,o.rect.e,am)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(K)!=-1){var kn=$[0],H=o.rect.m,i=o.rect.e,eQ,kz=0;
if(K=="LqFy")eQ=hR.qz(new Uint8Array(Y.LqMe.v).buffer);else{var jN=3;if(K=="Wave")jN=Math.min(3,Y.WLMn.v);
eQ={Fv:Math.floor(H/jN),jd:Math.floor(i/jN)};eQ.map=new Float32Array(eQ.Fv*eQ.jd*2);if(K=="LnCr"){var bX=.5*(eQ.Fv-1),cf=.5*(eQ.jd-1),ic=Math.max(Math.abs(0-bX),Math.abs(1-bX)),dc=Math.max(Math.abs(0-cf),Math.abs(1-cf)),aG=Math.sqrt(ic*ic+dc*dc),fa=0,e3=0,eu=-1,eL=2,iM=Y.LnSi.v/100,cu=1/iM,jq=Y.LnIa.v/100,c$=jq==0?1e-6:jq*4.6,gs=cu/aG;
for(var Z=0;Z<eQ.jd;Z++){for(var T=0;T<eQ.Fv;T++){var p=(T-bX)*gs,a=(Z-cf)*gs,a4=Math.sqrt(p*p+a*a)*c$,g_=Math.atan(a4),jf=jq>0?g_/a4:a4/g_,cA=bX+aG*jf*p,ip=cf+aG*jf*a,y=Z*eQ.Fv+T<<1;
eQ.map[y]=cA-T;eQ.map[y+1]=ip-Z}}}else if(K=="Kale"){var aH=eQ.Fv,dG=eQ.jd,ho=(aH-1)*.5,c9=(dG-1)*.5,h_=Y.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,cj=Y.Mirr.v,f9=Math.PI*2/cj,iB=.5*f9;
for(var Z=0;Z<dG;Z++)for(var T=0;T<aH;T++){var p=T-ho,a=Z-c9,jn=Math.sqrt(p*p+a*a),by=Math.atan2(a,p)+h_;
by=by%f9;if(by>iB)by=f9-by;var cA=ho+Math.cos(by-h_)*jn,ip=c9+Math.sin(by-h_)*jn,y=(Z*aH+T)*2;eQ.map[y]=cA-T;
eQ.map[y+1]=ip-Z}}else if(K=="Dspl"&&kn.length!=0){kz=Y.UndA.v.UndA=="WrpA"?2:1;var cU=Y.DspF.v.pth,jS;
for(var y=0;y<kn.length;y++)if(kn[y].YH==cU)jS=kn[y];if(jS==null)jS=kn[0];jS.Gl();var bg=jS.W3[1],fq=d.R(bg.Z());
d.jf(jS.W3[0],fq);var dO=bg.m,aE=bg.e;eQ={Fv:dO,jd:aE};eQ.map=new Float32Array(eQ.Fv*eQ.jd*2);var fD=2.54*Y.HrzS.v*dO/H,cs=2.54*Y.VrtS.v*aE/i;
for(var Z=0;Z<eQ.jd;Z++){for(var T=0;T<eQ.Fv;T++){var hq=-.5+fq[Z*dO+T]*(1/255),y=Z*eQ.Fv+T<<1;eQ.map[y]=hq*fD;
eQ.map[y+1]=hq*cs}}}else if(K=="Pnch"||K=="Twrl"||K=="Sphr"||K=="ZgZg"){var i8=1,b4=Math.PI,eM=0,fP=1,dv=0,ai=3,eS=1.53,jf=1;
if(K=="Pnch"||K=="Sphr"||K=="ZgZg")i8=Y.Amnt.v/100;if(K=="ZgZg"){fP=Y.NmbR.v;dv=["ArnC","OtFr","PndR"].indexOf(Y.ZZTy.v.ZZTy)}if(K=="Twrl")b4=Y.Angl.v*Math.PI/180;
if(K=="Sphr")eM=["Nrml","HrzO","VrtO"].indexOf(Y.SphM.v.SphM);function io(T){T=Math.pow(T,1-T*.3-T*T*(T*T)*.5);
return-.225*Math.sin(T*Math.PI)}function cG(i,fx,a4,ke,iA,eP,hl,jf){var p=eP-ke,a=hl-iA,dW=ke-i,gb=iA-fx,jj=p*p+a*a,ji=2*(p*dW+a*gb),ai=dW*dW+gb*gb-a4*a4,fu=Math.sqrt(ji*ji-4*jj*ai),dN=jf/(2*jj),j6=(-ji+fu)*dN,f0=(-ji-fu)*dN;
return jf*Math.min(j6,f0)}var aH=eQ.Fv,dG=eQ.jd,ho=eQ.Fv/2,c9=eQ.jd/2,dV=1/ho,a4=Math.sqrt(ai*ai+1)/ai,i5=ai+Math.sqrt(1/(ai*ai));
if(i8<0){ai=1.72;a4=1;i5=ai;eS=-1;jf=-1}for(var Z=0;Z<dG;Z++){var a=(Z-c9)/c9;for(var T=0;T<aH;T++){var p=(T-ho)*dV;
if(eM==1)a=0;else if(eM==2)p=0;var dg=Math.sqrt(p*p+a*a);if(dg<1&&dg!=0){var y=Z*eQ.Fv+T<<1;if(K=="Pnch"){var e9=-i8*io(dg)/dg;
eQ.map[y]=p*e9*ho;eQ.map[y+1]=a*e9*c9}else if(K=="Sphr"){var iF=cG(0,i5,a4,0,0,dg,ai,jf),je=eS*i8*(iF-1);
eQ.map[y]=p*je*ho;eQ.map[y+1]=a*je*c9}else if(K=="Twrl"){var by=Math.atan2(a,p)-b4*(1-dg)*(1-dg),hU=Math.cos(by),a5=Math.sin(by);
eQ.map[y]=(dg*hU-p)*ho;eQ.map[y+1]=(dg*a5-a)*c9}else if(K=="ZgZg"){var hU=0,a5=0,j2=i8*(.5-.5*Math.cos(dg*fP*2*Math.PI))*(1-dg);
if(dv==0){var by=Math.atan2(a,p)-3.5*j2;hU=dg*Math.cos(by);a5=dg*Math.sin(by)}if(dv==1){j2=100/H*j2/dg;
hU=(1-j2)*p;a5=(1-j2)*a}if(dv==2){var J=512/H*j2*Math.PI/4;hU=J+p;a5=J+a}eQ.map[y]=(hU-p)*ho;eQ.map[y+1]=(a5-a)*c9}}}}}else if(K=="Shr "){var aN=JSON.parse(JSON.stringify(Y.ShrP.v));
d.nA.i(aN,new dF(0,255/127,255/127,0,-2,0));var cx=d.nA.ZE(aN,eQ.jd,!0);kz=Y.UndA.v.UndA=="WrpA"?2:1;
for(var Z=0;Z<eQ.jd;Z++){var p=-cx[Z]*eQ.Fv;for(var T=0;T<eQ.Fv;T++){var y=Z*eQ.Fv+T<<1;eQ.map[y]=p}}}else if(K=="Wave"){var eW=Y.NmbG.v,ch=Y.WLMn.v,gI=Y.WLMx.v,k6=Y.AmMn.v*(Math.PI/4),i4=Y.AmMx.v*(Math.PI/4),d9=Y.SclH.v/100,cV=Y.SclV.v/100,cn=Y.Wvtp.v.Wvtp,j2=Math.sin;
if(cn=="WvTr")j2=function(T){T*=2/Math.PI;return-.5+Math.abs(T%2-1)};if(cn=="WvSq")j2=function(T){T*=2/Math.PI;
return 1+2*Math.floor(T%2-1)};var j4=[],fz=new d.l.Mt(Y.RndS.v);for(var y=0;y<eW;y++){j4.push(fz.get()*10);
j4.push(Math.PI*jN/(ch+fz.get()*(gI-ch)));j4.push(d9*(k6+fz.get()*(i4-k6))/jN);j4.push(fz.get()*10);
j4.push(Math.PI*jN/(ch+fz.get()*(gI-ch)));j4.push(cV*(k6+fz.get()*(i4-k6))/jN)}var fC=[],it=[],k8=Math.max(eQ.Fv,eQ.jd);
for(var y=0;y<k8;y++){var p=0,a=0;for(var f6=0;f6<eW;f6++){var bu=f6*6;p+=j4[bu+2]*j2(j4[bu]+y*j4[bu+1]);
a+=j4[bu+5]*j2(j4[bu+3]+y*j4[bu+4])}fC[y]=a;it[y]=p}for(var Z=0;Z<eQ.jd;Z++){for(var T=0;T<eQ.Fv;T++){var y=Z*eQ.Fv+T<<1;
eQ.map[y]=it[Z];eQ.map[y+1]=fC[T]}}kz=Y.UndA.v.UndA=="WrpA"?2:1}else if(K=="Rple"){kz=1;var i8=Y.Amnt.v/100,jF=4,eI=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],i6=1,aw=1,dW=0,cT=["Sml","Mdm","Lrg"].indexOf(Y.RplS.v.RplS);
if(cT==0){i6=1;aw=.2;dW=3}if(cT==2){i6=1;aw=2;dW=-1;eI=eI.reverse()}var bV=function(T,Z){var ai=Math.cos,jy=0;
for(var y=0;y<jF;y++)for(var f6=0;f6<jF;f6++)jy+=eI[y*jF+f6]*ai(T*(y+dW)-Z*(f6+dW));return jy},bn=Math.floor(50/jN),cc=new Float32Array(bn*bn*2),d7=aw*i8*.5/jN;
for(var Z=0;Z<bn;Z++)for(var T=0;T<bn;T++){var bX=i6*T*2*Math.PI/bn,cf=i6*Z*2*Math.PI/bn,bz=bV(bX,cf),p=(bV(bX+.01,cf)-bz)*100,a=(bV(bX,cf+.01)-bz)*100,y=(Z*bn+T)*2;
cc[y]=p*d7;cc[y+1]=a*d7}for(var Z=0;Z<eQ.jd;Z++)for(var T=0;T<eQ.Fv;T++){var a5=Z%bn,hU=T%bn,y=Z*eQ.Fv+T<<1,go=a5*bn+hU<<1;
eQ.map[y]=cc[go];eQ.map[y+1]=cc[go+1]}}}d._v.CN(o.buffer,f.buffer,H,i,null,eQ.map,eQ.Fv,eQ.jd,kz)}return f};
var fU={};fU.asi="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");fU.HU="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
fU.AN=["ScrC","ScrD","ScrL"];fU.mQ=["SDRD","SDHz","SDLD","SDVt"];fU.hH="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
fU.FP="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");fU.yZ="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
fU.Z$=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];fU.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
fU.Ta=function(K){var o;if(K=="ClrP")o={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(K=="Ct")o={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(K=="DryB")o={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(K=="FlmG")o={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(K=="Frsc")o={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(K=="NGlw")o={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(K=="PntD")o={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(K=="PltK")o={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(K=="PlsW")o={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(K=="PstE")o={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(K=="RghP")o={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(K=="SmdS")o={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(K=="Spng")o={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(K=="Undr")o={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(K=="Wtrc")o={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(K=="AccE")o={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(K=="AngS")o={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(K=="Crsh")o={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(K=="DrkS")o={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(K=="InkO")o={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(K=="Smie")o={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(K=="Spt")o={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(K=="SprS")o={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(K=="DfsG")o={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(K=="Gls")o={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(K=="OcnR")o={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(K=="BsRl")o={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(K=="ChlC")o={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(K=="Chrc")o={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(K=="Chrm")o={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(K=="CntC")o={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(K=="GraP")o={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(K=="HlfS")o={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(K=="NtPr")o={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(K=="Phtc")o={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(K=="Plst")o={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(K=="Rtcl")o={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(K=="Stmp")o={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(K=="TrnE")o={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(K=="WtrP")o={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(K=="GlwE")o={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(K=="Crql")o={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(K=="Grn")o={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(K=="MscT")o={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(K=="Ptch")o={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(K=="StnG")o={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(K=="Txtz")o={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
o.__name="Filter Gallery";o.classID="GEfc";o.GEfk={t:"enum",v:{GEft:K}};o.GELv={t:"bool",v:!0};return o};
fU.$Z=function(K,o){for(var y=0;y<o.length;y++)~~(o[y]=(K[4*y]+K[4*y+1]+K[4*y+2])*(1/3))};fU.auw=function(K,o,Y,c){var z=UPNG.quantize(K,o);
z={HK:z.inds,_b:z.plte};var f=Math.floor((Y+c)*.015);if(f!=0)d.RK.alP(z.HK,Y,c,f);return z};fU.kf=function(K,o,Y,c,z,f,$){K=Y.GEfk.v.GEft;
var E=o.rect,b=E.m,q=E.e,O=b*q,j=Y.FlRs?Y.FlRs.v>>>1:0;function A(V){return V.o<<24|V.A<<16|V.J<<8|255}if(K=="ClrP")d.X.a6g(o.buffer,b,q,f.buffer,[Y.Pncl.v,Y.StrP.v,Y.PprB.v]);
if(K=="Ct"){var R=Y.NmbL.v,g=Y.EdgS.v,H=fU.auw(o.buffer.buffer,R*2,b,q);for(var y=0;y<H.HK.length;y++)H.HK[y]++;
var i=new Uint8Array((b+2)*(q+2));d.u_(H.HK,new hD(1,1,b,q),i,new hD(0,0,b+2,q+2));var h=d.M.aza(i,b+2,q+2,g,!1),x=new dF(1,0,0,1,-1,-1);
for(var y=0;y<h.length;y++)d.M.i(h[y].path.z,x,h[y].path.z);var F=[],X=H._b;for(var y=0;y<X.length;y++){var V=X[y].est.q;
F.push({o:Math.round(255*V[0]),A:Math.round(255*V[1]),J:Math.round(255*V[2]),g:Math.round(255*V[3])})}var U=d.oN(b,q);
for(var y=0;y<h.length;y++){var Z=h[y],V=F[Z.color-1];if(V.g==0)continue;U.fillStyle="rgba("+V.o+","+V.A+","+V.J+","+V.g/255+")";
U.beginPath();Typr.U.pathToContext({crds:Z.path.z,cmds:Z.path.G},U);U.fill()}if(!E.xf()){var T=U.getImageData(0,0,b,q);
d.kO(T.data,f.buffer)}}if(K=="DryB")d.X.auq(o.buffer,b,q,f.buffer,[Y.BrsS.v,Y.BrsD.v,Y.Txtr.v]);if(K=="FlmG")d.X.a1C(o.buffer,b,q,f.buffer,[Y.Grn.v,Y.HghA.v,Y.Intn.v,j]);
if(K=="Frsc")d.X.ajf(o.buffer,b,q,f.buffer,[Y.BrsS.v,Y.BrsD.v,Y.Txtr.v]);if(K=="NGlw")d.X.awW(o.buffer,b,q,f.buffer,[Y.Sz.v,Y.Brgh.v,A(d.H.CK(Y.Clr.v)),A(c),A(z)]);
if(K=="PltK")d.X.a3e(o.buffer,b,q,f.buffer,[Y.StrS.v,Y.StDt.v,Y.Sftn.v]);if(K=="PstE")d.X.ajA(o.buffer,b,q,f.buffer,[Y.EdgT.v,Y.EdgI.v,Y.Pstr.v]);
if(K=="RghP")d.X.aqF(o.buffer,b,q,f.buffer,[Y.StrL.v,Y.StDt.v,fU.hH.indexOf(Y.TxtT.v.TxtT),Y.Scln.v,Y.Rlf.v,fU.HU.indexOf(Y.LghD.v.LghD),Y.InvT.v]);
if(K=="SmdS")d.X.al$(o.buffer,b,q,f.buffer,[Y.StrL.v,Y.HghA.v,Y.Intn.v,Y.FlRs.v,j]);if(K=="Spng")d.X.a2y(o.buffer,b,q,f.buffer,[Y.BrsS.v,Y.Dfnt.v,Y.Smth.v,Y.FlRs.v,j]);
if(K=="Undr")d.X.aug(o.buffer,b,q,f.buffer,[Y.BrsS.v,Y.TxtC.v,fU.hH.indexOf(Y.TxtT.v.TxtT),Y.Scln.v,Y.Rlf.v,fU.HU.indexOf(Y.LghD.v.LghD),Y.InvT.v]);
if(K=="Wtrc")d.X.ag1(o.buffer,b,q,f.buffer,[Y.BrsD.v,Y.ShdI.v,Y.Txtr.v]);if(K=="AccE")d.X.aCi(o.buffer,b,q,f.buffer,[Y.EdgW.v,Y.EdgB.v,Y.Smth.v]);
if(K=="AngS")d.X.a0j(o.buffer,b,q,f.buffer,[Y.DrcB.v,Y.StrL.v,Y.Shrp.v]);if(K=="Crsh")d.X.agU(o.buffer,b,q,f.buffer,[Y.StrL.v,Y.Shrp.v,Y.Strg.v]);
if(K=="DrkS")d.X.a9d(o.buffer,b,q,f.buffer,[Y.Blnc.v,Y.BlcI.v,Y.WhtI.v]);if(K=="InkO")d.X.afI(o.buffer,b,q,f.buffer,[Y.StrL.v,Y.DrkI.v,Y.LghI.v]);
if(K=="Smie")d.X.ano(o.buffer,b,q,f.buffer,[Y.StrW.v,Y.StrP.v,Y.Cntr.v]);if(K=="DfsG")d.X.aa$(o.buffer,b,q,f.buffer,[Y.Grns.v,Y.GlwA.v,Y.ClrA.v,A(z),j]);
if(K=="CntC")d.X.a8Y(o.buffer,b,q,f.buffer,[Y.FrgL.v,Y.BckL.v,fU.hH.indexOf(Y.TxtT.v.TxtT),Y.Scln.v,Y.Rlf.v,fU.HU.indexOf(Y.LghD.v.LghD),Y.InvT.v,A(z),A(c)]);
if(K=="ChlC")d.X.a2s(o.buffer,b,q,f.buffer,[Y.ChrA.v,Y.ChlA.v,Y.StrP.v,j,A(z),A(c)]);var v=K=="GraP"||K=="Chrc"||K=="Plst"||K=="Rtcl"||K=="Stmp"||K=="TrnE";
if(v){var P=d.R(b*q);if(K=="GraP")d.X.ar8(o.buffer,b,q,f.buffer,[Y.StrL.v,Y.LgDr.v,fU.mQ.indexOf(Y.SDir.v.StrD),j]);
if(K=="Chrc")d.X.ah9(o.buffer,b,q,f.buffer,[Y.ChAm.v,Y.Dtl.v,Y.LgDr.v]);if(K=="Plst")d.X.ac3(o.buffer,b,q,f.buffer,[Y.ImgB.v,fU.FP.indexOf(Y.LghP.v.LghP),Y.Smth.v]);
if(K=="Rtcl")d.X.aut(o.buffer,b,q,f.buffer,[Y.Dnst.v,Y.BlcL.v,Y.WhtL.v,j]);if(K=="Stmp")d.X.aa9(o.buffer,b,q,f.buffer,[Y.LgDr.v,Y.Smth.v]);
if(K=="TrnE")d.X.akj(o.buffer,b,q,f.buffer,[Y.ImgB.v,Y.Smth.v,Y.Cntr.v,j]);d.JI(f.buffer,P,0);fU.WY(P,f.buffer,c,z)}if(K=="NtPr")d.X.amN(o.buffer,b,q,f.buffer,[Y.ImgB.v,Y.Grns.v,Y.Rlf.v,A(c),A(z),j]);
if(K=="WtrP")d.X.af3(o.buffer,b,q,f.buffer,[Y.FbrL.v,Y.Brgh.v,Y.Cntr.v,j>>>1]);if(K=="Crql")d.X.aBN(o.buffer,b,q,f.buffer,[Y.CrcS.v,Y.CrcD.v,Y.CrcB.v,j]);
if(K=="Grn")d.X.a04(o.buffer,b,q,f.buffer,[Y.Intn.v,fU.yZ.indexOf(Y.Grnt.v.Grnt),Y.Cntr.v,A(c),A(z),j]);
if(K=="MscT")d.X.ai7(o.buffer,b,q,f.buffer,[Y.TlSz.v,Y.GrtW.v,Y.LghG.v,j]);if(K=="Ptch")d.X.aCr(o.buffer,b,q,f.buffer,[Y.SqrS.v,Y.Rlf.v,j]);
if(K=="Phtc"){function p(aN,eS,E,by){d.Gq.vl(aN,eS,E,by);for(var y=0;y<O;y++)eS[y]=Math.max(0,Math.min(255,128+aN[y]-eS[y]))}var a=Y.Dtl.v,D=Y.Drkn.v,n=d.R(O);
d.jf(o.buffer,n);var N=d.R(O);p(n,N,E,1);if(a==1){a=2;D=Math.round(D/4)}var W=d.R(O);p(n,W,E,a);for(var y=0;
y<O;y++)n[y]=Math.max(0,Math.min(255,255-(N[y]-W[y])*D));fU.WY(n,f.buffer,c,z)}if(K=="Spt"||K=="SprS"){var G,l=1,u=1;
G={Fv:Math.floor(b/u),jd:Math.floor(q/u)};G.map=new Float32Array(G.Fv*G.jd*2);var e=new d.l.Mt(Y.FlRs.v),M=new Float32Array(8192),B=Y.SprR.v,s=B<20?.018*B:.36+(B-20)*.128;
if(K=="SprS"){s=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][B]}for(var y=0;
y<8192;y++)M[y]=(-1+2*e.get())*s*70;for(var t=0;t<q;t++)for(var J=0;J<b;J++){var L=t*b+J<<1;G.map[L]=M[L%7919];
G.map[L+1]=M[(L+1)%7919]}var k=G.map.slice(0),C=K=="Spt"?Y.Smth.v-1:1;if(K=="Spt"&&C!=0){fU.a7l(G.map,k,b,q,C);
fU.aeZ(k,G.map,b,q,C)}if(K=="SprS"){var r=Y.StrL.v>>>1,Q=r==0?2:1;fU.a7l(G.map,k,b,q,Q);fU.aeZ(k,G.map,b,q,Q);
if(r!=0){var j9=fU.mQ.indexOf(Y.SDir.v.StrD),a4=[1,1,1,0][j9],ar=[-1,0,1,1][j9],ez=2*r+1,ja=1/ez;for(var t=0;
t<q;t++)for(var J=0;J<b;J++){var L=t*b+J<<1,c3=0,hW=0;for(var y=0;y<ez;y++){var fO=Math.max(0,Math.min(b-1,J-(r+y)*a4)),ei=Math.max(0,Math.min(q-1,t-(r+y)*ar)),fV=ei*b+fO<<1;
c3+=G.map[fV];hW+=G.map[fV+1]}k[L]=c3*ja;k[L+1]=hW*ja}G.map=k}}d._v.CN(o.buffer,f.buffer,b,q,null,G.map,G.Fv,G.jd,l)}if(K=="BsRl"||K=="PlsW"||K=="Chrm"){var ee=Date.now(),hM=d.R(O),ds=hM.slice(0);
d.jf(o.buffer,hM);var a=Y.Dtl.v,cp=Y.Smth.v;if(a!=15){d.Gq.r5(hM,ds,E,Math.round((15-a)*.5));d.kO(ds,hM)}var eA=1.4/b,db=1.4/q,js=new Float32Array(O),bF=new Float32Array(O),jI=new Float32Array(f.buffer.buffer);
for(var t=0;t<q;t++)for(var J=0;J<b;J++){var y=t*b+J,a4=J==b-1?hM[y]-hM[y-1]:hM[y+1]-hM[y],ar=t==q-1?hM[y]-hM[y-b]:hM[y+b]-hM[y],gF=J*eA-.7,b6=t*db-.7;
js[y]=a4==0?gF:a4*.4;bF[y]=ar==0?b6:ar*.4}if(K=="BsRl"){var ji=(2+fU.HU.indexOf(Y.LghD.v.LghD))*Math.PI*.25,c3=Math.cos(ji);
if(Math.abs(c3)<.1)c3=0;c3=Math.sign(c3);var hW=Math.sin(ji);if(Math.abs(hW)<.1)hW=0;hW=Math.sign(hW);
var hd=1/(c3*c3+hW*hW);for(var t=0;t<q;t++)for(var J=0;J<b;J++){var y=t*b+J,eZ=Math.max(-1,Math.min(1,c3*js[y])),hj=Math.max(-1,Math.min(1,hW*bF[y]));
ds[y]=128+127*(eZ+hj)*hd}if(cp!=1){d.Gq.r5(ds,hM,E,Math.round((cp-1)*.5));d.kO(hM,ds)}fU.WY(ds,f.buffer,c,z)}else{if(K=="Chrm")cp=5+cp;
if(cp>1)fU.bi(js,bF,jI,E,cp-1);if(K=="PlsW"){var eK=new Uint8Array(js.buffer);for(var y=0;y<O;y++){var cX=y<<2,a4=js[y],ar=bF[y],bW=1/(Math.sqrt(1+a4*a4)*Math.sqrt(1+ar*ar)),ju=bW*bW,ci=ju*ju,V=~~(255*(ci*ci*ju));
eK[cX+0]=V;eK[cX+1]=V;eK[cX+2]=V;eK[cX+3]=V}f.buffer.set(o.buffer);d.l.To("norm",eK,E,f.buffer,E,E,Y.HghS.v/20)}else if(K=="Chrm"){var hH=f.buffer,b8=b>>>1,gh=q>>>1;
for(var y=0;y<O;y++){var cX=y<<2,a4=js[y],ar=bF[y],aN={x:1,y:0,Fr:a4};eq.fQ(aN);var eS={x:0,y:1,Fr:ar};
eq.fQ(eS);var b2=eq.a3p(aN,eS),fZ=1/b2.Fr,dw=~~Math.max(0,Math.min(b-1,b8-b2.x*fZ*b8)),ib=~~Math.max(0,Math.min(q-1,gh-b2.y*fZ*gh)),V=hM[ib*b+dw];
hH[cX+0]=V;hH[cX+1]=V;hH[cX+2]=V}}}}if(K=="Gls"||K=="OcnR"||K=="Txtz"){var eJ=K=="OcnR"?2:fU.hH.indexOf(Y.TxtT.v.TxtT),df=fU.xM(eJ),k5=df[0],hM=df[1],eC=k5.m,j7=k5.e,ez=24,iV=0,g0,eB;
function cK(iG,el,iz){return~~(bw*(iG+el)+8192)&127}var js=new Float32Array(O),bF=new Float32Array(O),jI=new Float32Array(f.buffer.buffer),bw=K=="OcnR"?1/(1+(Y.RplS.v-1)*.1):100/Y.Scln.v;
if(eJ==3)bw*=32/22.2;var ee=Date.now(),f6=bw,eA=1.4/b,db=1.4/q;if(K=="Txtz"){f6*=1/255;ez=256}for(var t=0;
t<q;t++){var iF=cK(t,E.y,j7),ei=iF+1&127;for(var J=0;J<b;J++){var y=t*b+J,ag=cK(J,E.x,eC),fO=ag+1&127,bS=0,b$=0,aj=0;
if(K=="Txtz"){bS=d.D.hD(bw*J,bw*t,hM,128,128);b$=d.D.hD(bw*J,bw*t+1,hM,128,128);aj=d.D.hD(bw*J+1,bw*t,hM,128,128)}else{bS=hM[iF*eC+ag];
b$=hM[ei*eC+ag];aj=hM[iF*eC+fO]}js[y]=Math.max(-ez,Math.min((aj-bS)*f6,ez));bF[y]=Math.max(-ez,Math.min((b$-bS)*f6,ez))}}if(K=="Txtz")fU.aiG(js,bF,jI,E,6);
else fU.bi(js,bF,jI,E,K=="Txtz"?1:K=="OcnR"?3.5/bw:Y.Smth.v);if(K=="Txtz")iV=Y.InvT.v?-1:1;else if(K=="Gls"){iV=[1,.4,.5,.5][eJ]*(Math.exp(Y.Dstr.v*.155)-1);
if(Y.InvT.v)iV=-iV}else{iV=.5*(Math.exp(Y.RplM.v*.155)-1)}var hH=f.buffer;if(K=="Txtz"){var ji=(2+fU.HU.indexOf(Y.LghD.v.LghD))*Math.PI*.25,c3=Math.cos(ji),hW=Math.sin(ji);
g0={x:c3,y:hW,Fr:0};eq.fQ(g0);eB=Y.Rlf.v;eB=eB/4+Math.max(0,(eB-35)*2)}function c7(aN,eS,cz){var jb=d.l.overF(eS,aN,1),iG=(1-cz)*aN+cz*(cz*eS+(1-cz)*jb);
return iG*255}for(var t=0;t<q;t++)for(var J=0;J<b;J++){var y=t*b+J,cX=y<<2,a4=js[y],ar=bF[y],aN={x:1,y:0,Fr:a4};
eq.fQ(aN);var eS={x:0,y:1,Fr:ar};eq.fQ(eS);var b2=eq.a3p(aN,eS);if(K=="Txtz"){var dU=eq.adn(b2,g0)*iV,cz=1,V=1;
if(dU<0){V=0;dU=-dU}cz=Math.min(1,dU*eB);hH[cX+0]=~~c7(o.buffer[cX]*(1/255),V,cz);hH[cX+1]=~~c7(o.buffer[cX+1]*(1/255),V,cz);
hH[cX+2]=~~c7(o.buffer[cX+2]*(1/255),V,cz)}else{var fZ=iV/b2.Fr,dw=~~Math.max(0,Math.min(b-1,J-b2.x*fZ)),ib=~~Math.max(0,Math.min(q-1,t-b2.y*fZ)),fr=ib*b+dw<<2;
hH[cX+0]=o.buffer[fr];hH[cX+1]=o.buffer[fr+1];hH[cX+2]=o.buffer[fr+2]}}}if(K=="PntD"){var kk=Y.Shrp.v*.4,a6=Y.BrsT.v.BrsT,jv={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[a6],by=Math.round(Y.Sz.v*.5);
d.Pl.QH=jv[0];d.Pl.Rn(o.buffer,f.buffer,b,q,by,0,[]);var gc=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];gc=d.f9.Te(gc);
var i8=f.buffer.slice(0);d.f9.TQ(i8,f.buffer,b,q,gc,0);for(var y=0;y<o.buffer.length;y++){var az=f.buffer[y]-i8[y];
f.buffer[y]=Math.max(0,Math.min(255,i8[y]+kk*az))}}if(K=="GlwE"){var g9=f.buffer.slice(0);d.Pl.QH=.5;
d.Pl.Rn(o.buffer,g9,b,q,Y.Smth.v>>>1,0,[]);d.f9.auQ(g9,f.buffer,b,q);d.kO(f.buffer,g9);d.oD(g9);d.nz(g9,4278190080,16777215);
d.og.ak1(g9,f.buffer,b,q,(Y.EdgW.v>>>1)*2+1,!0);var a3=Y.EdgB.v/10;for(var y=0;y<g9.length;y++){if((y&3)==3)continue;
var jb=f.buffer[y];f.buffer[y]=Math.max(0,Math.min(255,jb*a3))}}if(K=="StnG"){d.bK.abF(o.buffer,b,q,f.buffer,Y.ClSz.v,[Math.round(c.o),Math.round(c.A),Math.round(c.J)],Y.BrdT.v)}if(K=="HlfS"){var aY=Y.HlSz.v,g4=aY*2+1,dl=Y.Cntr.v,ej=fU.AN.indexOf(Y.ScrT.v.ScrT),O=b*q,cn=O*4,d_=d.R(O),hZ=o.buffer,gn=0,e5=0;
fU.$Z(hZ,d_);var gv=d_.slice(0);d.Gq.at9(gv,d_,E,aY);var jH=Math.PI/g4,a0=new Float64Array(b),c3=new Float64Array(b),e1=new Float64Array(2*b);
for(var J=0;J<b;J++){var ag=(J-(b>>>1))*jH;a0[J]=ag*ag;c3[J]=Math.cos(ag);var a4=J<<1;e1[a4]=Math.sin(a4*(1/4.5));
e1[a4+1]=Math.sin((a4+1)*(1/4.5))}for(var t=0;t<q;t++){var iF=(t-(q>>>1))*jH,hW=Math.cos(iF),ka=iF*iF;
for(var J=0;J<b;J++){var V=hW;if(ej==0){var fF=.5+Math.sqrt(a0[J]+ka)*4.5;V=e1[~~fF]}else if(ej==1){V=c3[J]*hW}var y=t*b+J,ke=d_[y]*(.75+.25*V),cz=hZ[(y<<2)+3]*(1/255),iA=Math.max(0,Math.min(255,~~ke));
gn+=iA*cz,e5+=cz;d_[y]=iA}}gn/=e5;var eP=128+1.26*(gn-128),a3=.08+.25*Math.abs((128-gn)/128),hl=1+a3*dl;
for(var y=0;y<O;y++){var ke=eP+(d_[y]-eP)*hl;d_[y]=Math.max(0,Math.min(255,~~ke))}if(dl>46)d.round(d_);
fU.WY(d_,f.buffer,c,z)}for(var y=0;y<o.buffer.length;y+=4)f.buffer[y+3]=o.buffer[y+3]};fU.WY=function(K,o,Y,c){var z=K.length,f=Y.o,$=Y.A,E=Y.J,b=c.o,q=c.A,O=c.J;
for(var y=0;y<z;y++){var j=K[y]*(1/255),A=1-j,R=y<<2;o[R]=~~(f*A+b*j);o[R+1]=~~($*A+q*j);o[R+2]=~~(E*A+O*j)}};
fU.xM=function(K){if(K==6)K=2;var o="blocks canvas frosted tinylens brick burlap".split(" ")[K];if(fU.r_==null)fU.r_=[];
if(fU.r_[K]==null){var Y,c;if(K==2){c=new hD(0,0,128,128);var z=fn.Ta("AdNs");z.Mnch.v=!0;z.Dstr.v.Dstr="Gsn";
z.Nose.v.val=50;var Y=d.R(c.Z()*4),f=Y.slice(0);new Uint32Array(f.buffer).fill(4286611584);fn.kf("AdNs",{buffer:f,rect:c},z,0,0,{buffer:Y,rect:c})}else{var $=fv.ZK.get("tex/"+o,!0)[0];
c=$.eQ;Y=new Uint8Array($.data)}var E=d.R(c.Z());d.JI(Y,E,0);fU.r_[K]=[c,E]}return fU.r_[K]};fU.bi=function(K,o,Y,c,z){if(z<=1){z=Math.round(z);
fU.aiG(K,o,Y,c,[1,16,4][z]);return}var f=z*.42;if(K){d.Gq.An(K,Y,c,f,3);K.set(Y)}if(o){d.Gq.An(o,Y,c,f,3);
o.set(Y)}};fU.aiG=function(K,o,Y,c,z){var f=d.f9.Te([1,2,1,2,z,2,1,2,1]);if(K){Y.set(K);d.f9.azB(K,Y,c.m,c.e,f);
K.set(Y)}if(o){Y.set(o);d.f9.azB(o,Y,c.m,c.e,f);o.set(Y)}};fU.mA=function(K){if(K==null)return new jc(0,0);
var o=0,Y=K.GEfs?K.GEfs.v:[{v:K}];for(var y=0;y<Y.length;y++){var c=Y[y].v,f=1e4;if(c.GELv&&!c.GELv.v)continue;
var z=c.GEfk.v.GEft;if(z=="GlwE"||z=="Phtc"||z=="BsRl"||z=="PlsW"||z=="Chrm"||z=="Gls"||z=="OcnR"||z=="InkO")f=0;
o=Math.max(o,f)}return new jc(o,o)};fU.a0h=function(K){var o=[0,0,0,0,0,0,0,0,0,0,0,0,0],Y=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][K];
for(var y=0;y<13;y++){var c=y-6;o[y]=1/(Y*Math.sqrt(2*Math.PI))*Math.exp(-.5*(c/Y)*(c/Y))}return o};
fU.a7l=function(K,o,Y,c,z){var f=fU.a0h(z),$=6,E=13;for(var b=0;b<c;b++)for(var q=0;q<Y;q++){var O=b*Y+q<<1,j=0,A=0;
for(var y=0;y<E;y++){var R=q+y-$,g=R<0?0:R>=Y?Y-1:R,H=(b*Y+g)*2,i=f[y];j+=i*K[H];A+=i*K[H+1]}o[O]=j;
o[O+1]=A}};fU.aeZ=function(K,o,Y,c,z){var f=fU.a0h(z),$=6,E=13;for(var b=0;b<c;b++)for(var q=0;q<Y;q++){var O=b*Y+q<<1,j=0,A=0;
for(var y=0;y<E;y++){var R=b+y-$,g=R<0?0:R>=c?c-1:R,H=(g*Y+q)*2,i=f[y];j+=i*K[H];A+=i*K[H+1]}o[O]=j;
o[O+1]=A}};function jw(){}jw.AJ=[2,5,5,7,4,4];jw.iu="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
jw.$R="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
jw.Y9=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
jw.j1=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
jw.Ef=function(K){if(K=="passThrough")return"pass";return jw.iu[jw.$R.indexOf(K)]};jw.OM=function(K){if(K=="pass")return"passThrough";
return jw.$R[jw.iu.indexOf(K)]};jw.getName=function(K){return jw.Y9[jw.iu.indexOf(K)]};function S(){this.rect=null;
this.buffer=null;this.YF="norm";this.opacity=255;this.z_=!1;this.UR=!1;this.Gh=0;this.RY=0;this.kw=!0;
this.c1=[];for(var y=0;y<10;y++)this.c1.push(0,0,255,255);this.name=null;this.add={};this.Yz=null;this.BD=null;
this.F=null;this.DJ=null;this.apN=30;this.lN=null;this.V6=null;this.J3=null;this.ab=null;this.xO=0;this.bw=!1;
this.VY=null;this.DM=new S.hJ}S.hJ=function(){this.WN=!0;this.w1=!0;this.dx=d.R(0);this.aB3=d.R(0);this.gF=null;
this.ck={};this.a9x=null;this.Ee=null;this.U8=null;this.Fq=null;this.uB=null;this.R_=null;this.C3=null;
this.nj=null;this.tJ=null;this.sl=null;this.bF=null;this.VU=null;this.zG=!1};S.hJ.prototype.aiH=function(){this.WN=null;
this.w1=!1;this.gF=null;this.zG=jK.YT};S.hJ.prototype.ajN=function(){eq.als(this.ck);this.dx=d.R(0);
this.aB3=d.R(0);if(this.Fq)this.Fq.delete();if(this.uB)this.uB.delete();this.Fq=null;this.uB=null;var K=[this.R_,this.C3,this.nj,this.tJ,this.sl,this.bF];
for(var y=0;y<6;y++)if(K[y]!=null&&K[y]instanceof jK.ok)K[y].delete();this.R_=null;this.C3=null;this.nj=null;
this.tJ=null;this.sl=null;this.bF=null};S.prototype.W=function(K){if(K==null)K=this.rect.clone();if(this.DM.gF==null)this.DM.gF=K;
else this.DM.gF=this.DM.gF.Bb(K)};S.prototype.f$=function(){return this.add.lsct==eo.bl||this.add.lsct==eo.g5};
S.prototype.sB=function(){var K=this.add;return K.SoCo!=null||K.GdFl!=null||K.PtFl!=null};S.prototype.a0w=function(){var K=this.add.lmfx;
if(K==null)return;var o=["GrFl","patternFill"];for(var y=0;y<o.length;y++){var Y=eF.nk[eF.order.indexOf(o[y])],c=K[Y].v;
if(c.length==0)continue;for(var z=0;z<c.length;z++){var f=c[z].v;if(f.enab.v&&(f.Algn==null||!f.Algn.v))this.DM.w1=!0}}};
S.prototype.a1o=function(){var K=this.F,o=this.DM.WN;if(this.sB())K=this.ue();if(!jK.YT)return K.X6();
if(this.DM.uB==null||o||jK.YT!=this.DM.zG){var Y=K._U(),c=this.DM.uB,z=null;if(o!=!0&&o!=null){z=o.clone();
z.offset(-Y.x,-Y.y)}if(c==null||c.m!=Y.m||c.e!=Y.e){c=this.DM.uB=new jK._X(Y.m,Y.e);z=null}c.set(K.X6(),z)}return this.DM.uB};
S.prototype.auN=function(K){var o=this.rect,Y=this.buffer;if(!jK.YT){var c=this.L4(K,Y,o);if(c){Y=c.y3;
o=c.rect}return Y}if(this.DM.gF!=null||jK.YT!=this.DM.zG){var c=this.L4(K,Y,o);if(c){Y=c.y3;o=c.rect}var z=o;
if(jK.YT!=this.DM.zG||this.DM.Fq==null||this.DM.Fq.m!=z.m||this.DM.Fq.e!=z.e){if(this.DM.Fq)this.DM.Fq.delete();
this.DM.Fq=new jK.ok(z.m,z.e);this.DM.Fq.set(Y)}else{var f=this.DM.gF.clone();f.offset(-o.x,-o.y);this.DM.Fq.set(Y,f)}}return this.DM.Fq};
S.prototype.K$=function(){var K=this.F;if(this.sB())K=this.ue();return K!=null&&K.isEnabled&&(!K.rect.xf()||K.CK()!=255)};
S.prototype.L4=function(K,o,Y){if(this.Mn()){var c=this.wm(K);if(c.F&&c.F.isEnabled&&(!c.F.rect.xf()||c.F.color==0)){var z=this.add.SoLd.filterFX.v;
c.F.SJ=z.filterMaskDensity?z.filterMaskDensity.v:255;c.F.cG=z.filterMaskFeather?z.filterMaskFeather.v:0;
var f=c.buffer,$=c.rect;if($.Z()<Y.Z()){$=Y;f=d.R($.Z()*4);d.iF(c.buffer,c.rect,f,$)}var E=c.F.dQ(Y);
d.oD(E);o=o.slice(0);d.l.OF(f,$,o,Y,E,Y,0,Y,1);return{y3:o,rect:Y}}}};S.prototype.a6C=function(){var K={Qd:!1,r$:!1,rR:0,im:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)K.r$=!0;if(this.ue()&&this.ue().isEnabled)K.Qd=!0;if(K.Qd&&K.r$){K.rR=this.ue().rect.x-this.add.vmsk.ue().rect.x;
K.im=this.ue().rect.y-this.add.vmsk.ue().rect.y}return K};S.prototype.WG=function(K,o){if(g1!=0)return;
if(o&&this.ue().cG!=0){o=o.clone();var Y=Math.round(this.ue().cG*2.4);o.VC(Y,Y)}var c=!1;if(this.add.lsct==eo.iE)return;
var z=this,f=this.ue()!=null&&this.ue().dw,$=this.add.vmsk!=null&&this.add.vmsk.dw,E=this.a6C(),b=JSON.stringify(E)!=this.DM.a9x||E.Qd&&f||E.r$&&$;
if(b){if(E.r$){var q=this.add.vmsk.ue();if(E.Qd){this.F=this.ue().mL(q);this.DM.Ee=new jc(this.F.rect.x-this.ue().rect.x,this.F.rect.y-this.ue().rect.y)}else this.F=q}if(this.F)c=!0;
if(this.F)this.DM.U8=new jc(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);if(E.Qd)this.ue().dw=!1;
if(E.r$)this.add.vmsk.dw=!1;this.W(o)}else{if(E.Qd&&E.r$){this.F.rect.x=this.ue().rect.x+this.DM.Ee.x;
this.F.rect.y=this.ue().rect.y+this.DM.Ee.y}}if(z.sB()){this.Da(K)}if(z.Go()){var O;if(this.F)O=new jc(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);
if(this.F&&this.F.isEnabled&&(this.DM.U8==null||!O.BV(this.DM.U8))){this.DM.U8=O;this.W(o);c=!0}}if(jh.get(z.add)!=null)c=!0;
if(c){var j=this.DM.WN;if(o&&j&&j!=!0)j=j.Bb(o);else j=o?o:!0;this.DM.WN=j}this.DM.a9x=JSON.stringify(E)};
S.prototype.Da=function(K){if(g1!=0)return;var o=this,Y=o.add.vstk,c=new hD(0,0,K.m,K.e),z,f=o.add.vmsk?this.add.vmsk.ue():null,b=!0,j;
if(f&&f.isEnabled&&f.CK()==0)z=f._U().clone();else z=c;var $=o.ue();if($&&$.isEnabled&&$.CK()==0)z=z.wu(o.F._U());
var E=f&&Y;if(Y&&(!Y.strokeEnabled.v||Y.strokeStyleLineWidth.v.val==0))E=!1;if(Y&&!Y.fillEnabled.v&&E)b=!1;
var q=d.R(z.Z()*4);if(b){if(o.add.SoCo)eq.yp(q,o.add.SoCo.Clr.v);if(o.add.GdFl){var O=f&&f.color==0?d.j.QJ(o.add.vmsk.$,null,!0):null;
eq.qQ(o.add.GdFl,q,z,K,null,O)}if(o.add.PtFl)eq.SW(o.add.PtFl,q,z,K.add.Patt,o.add.fxrp)}if(E)j=eF.oc.Nv.indexOf(Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(f){var A=f.SJ;if(E)f.SJ=255;var R=d.R(z.Z());if(f.CK()!=0)R.fill(Math.round(f.CK()));if(f&&f.isEnabled){var g=f._U(),H=f.X6();
if(g.BV(z))d.kO(H,R);else d.u_(H,g,R,z)}if(E&&j==2){}else{if(o.add.SoCo&&b){d.cb(R,q,3)}else d.D$(R,z,q,z)}if(E)f.SJ=A}o.buffer=q;
o.rect=z;if(E){var i=Y.strokeStyleContent.v,h=eF.oc.OV.indexOf(i.classID),x=this.add.vmsk.ue(Y);if(j!=0&&!o.rect.BV(c))o.extend(o.rect.Bb(x._U()));
var A=x.SJ;x.SJ=255;var F=x.dQ(o.rect);x.SJ=A;if(x.color==255)d.oD(F);var X=d.R(o.rect.Z()*4);if(h==0)eq.yp(X,i.Clr.v);
if(h==1)eq.qQ(i,X,o.rect,K,null,f.color==0?f.rect:null);if(h==2)eq.SW(i,X,o.rect,K.add.Patt,o.add.fxrp);
var V=Y.strokeStyleOpacity.v.val/100;if(V!=1)d.L0(F,V);if(x.color==255)j=2-j;if(j<2){d.l.OF(X,o.rect,o.buffer,o.rect,F,o.rect,255,o.rect,1,!1);
if(j==0)d.Ym(R,o.buffer)}if(j==2){d.Ym(F,X);d.oD(R);d.l.OF(X,o.rect,o.buffer,o.rect,R,z,255,o.rect,1,!1);
d.oD(R)}if(x.SJ!=255){var U=X.slice(0);d.nz(U,4278190080,16777215);d.l.To("norm",U,o.rect,o.buffer,o.rect,o.rect,1-x.SJ/255)}A=f.SJ;
f.SJ=255;this.aB3=f.dQ(o.rect);f.SJ=A}this.W()};S.prototype.Mc=function(K,o,Y){var c=this,z=c.add.SoLd.Idnt.v,f=c.add.SoLd,$=m.OB.lA(f.nonAffineTransform),E=d.M.OA($),b=K.ai(z,f.Crop?f.Crop.v:null,[E.m,E.e],f.Impr.v.classID,Y),h=null;
if(b==null)return;var q=b.W3;f.Sz.v.Wdth.v=q[1].m;f.Sz.v.Hght.v=q[1].e;if(g1!=0)return;var O=b.aE==null?f.Rslt.v.val:b.aE,j=f.quiltWarp.v;
if(d.qN.B_(j))j=null;var A=d.D.P_($,q[1]);if(j){var E=d.M.OA(d.qN.Mu(j)[3]),R=E.x,g=E.y,H=1/E.m,i=1/E.e;
A=d.D.P_($);A=d.D.mL(A,[H,0,-R*H,0,i,-g*i,0,0])}if(!o&&!c.Mn()&&j==null){var x=K.B.indexOf(c),F=S.et(c);
for(var y=0;y<x;y++){var X=K.B[y];if(X.add.SoLd&&!X.Mn()&&S.et(X)[0]==F[0]){var V=S.et(X);h={buffer:X.buffer.slice(0),rect:X.rect.clone()};
h.rect.offset(Math.round(F[1]-V[1]),Math.round(F[2]-V[2]));break}}}if(h==null)h=m.OB.Gj(q,o?0:1,A,j,null,null,null,o);
if(h==null){c.buffer=d.R();c.rect=new hD}else if(c.Mn()){var U=c.wm(K);U.buffer=h.buffer;U.rect=h.rect.clone();
this.Tv(K,o)}else{c.buffer=h.buffer;c.rect=h.rect}c.WG(K);c.W();K.W()};S.et=function(K){var o=K.add.SoLd,Y=o.Idnt.v,c=m.OB.lA(o.nonAffineTransform),z=d.D.P_(c,new hD(0,0,1e3,1e3)),f=o.quiltWarp.v;
if(d.qN.B_(f))f=null;return[[Y,z[0],z[1],z[3],z[4],z[6],z[7],f==null].join(":"),z[2],z[5]]};S.prototype.Tv=function(K,o){if(o==null)o=!1;
var Y=this.wm(K),c=this.add.SoLd.filterFX.v,z=fn.a4i(c),f=new hD(0,0,K.m,K.e),$=Y.rect.Bb(f),E=Y.rect.clone();
E.VC(z.x,z.y);var b={buffer:null,rect:$.wu(E)};b.buffer=d.R(b.rect.Z()*4);d.iF(Y.buffer,Y.rect,b.buffer,b.rect);
if(c.enab.v&&o==!1){var q=c.filterFXList.v;for(var y=0;y<q.length;y++){var O=q[y].v;if(O.enab.v==!1)continue;
var j=O.blendOptions.v,A=jw.Ef(j.Md.v.BlnM),R=j.Opct.v.val/100,g=d.H.CK(O.FrgC.v),H=d.H.CK(O.BckC.v),i=fn.UK(O),h={buffer:d.R(b.buffer.length),rect:b.rect.clone()},x=O.Fltr?O.Fltr.v:null;
if(jh.hW[i]!=null){var F=jh.hW[i],X=jh.GA(F,x);if(X)jh.kf(X,b.buffer,h.buffer,b.rect)}else fn.kf(i,b,x,g,H,h,[K.add.lnk2?K.add.lnk2:[],this.ue(),K.Kl]);
if(A=="norm"&&R==1)b=h;else if(A=="norm"){d.l.OF(h.buffer,h.rect,b.buffer,b.rect,null,null,null,b.rect,R)}else{d.l.To(A,h.buffer,h.rect,b.buffer,b.rect,b.rect,R)}}}this.rect=b.rect;
this.buffer=b.buffer;this.sc();this.W();K.W()};S.prototype.kX=function(K,o,Y){this.VY=this.aeV(K,o,Y)};
S.prototype.Ct=function(K,o){var Y=this.aeV(K,o,!0);if(Y==null)return null;var c={Ky:Y.xO,r4:Y.Hm,rect:Y.dU};
if(c.Ky==1||c.Ky==3){var z=c.rect,f=d.R(z.m*z.e*4);d.cb(c.r4,f,0);d.cb(c.r4,f,1);d.cb(c.r4,f,2);d.cl(K.r.channel,K.r.rect,f,z);
c.r4=f}return c};S.prototype.aeV=function(K,o,Y){var c,z,f,$,E,b,q;if(this.xO<=0){var O=d.R(this.rect.Z());
d.JI(this.buffer,O,3);c=d.dP.XC(o,{channel:O,rect:this.rect},3);if(c==null)return null;var j=d.sd(c.channel,c.rect);
$=c.rect.clone();E=this.rect.clone();z=d.R($.Z()*4);d.iF(this.buffer,E,z,$);d.cb(c.channel,z,3);f=this.buffer.slice(0);
if(!Y){var A=o.channel.slice(0);d.oD(A);d.D$(A,o.rect,f,E)}b=this.buffer.slice(0);q=this.rect.clone()}if(this.xO==1||this.xO==3){var R=this.xO==1?this.ue():this.wm(K).F;
$=o.rect.clone();E=R.rect.clone();z=R.ig($);var f=R.channel.slice(0);if(!Y)d.l.Ir(R.color==255?d.l7($.Z()):d._L($.Z()),$,f,E,o.channel,$,1);
b=R.channel.slice(0);q=R.rect.clone()}return{xO:this.xO,Hm:z,dU:$,BA:f,R5:E,I0:b,dj:q}};S.prototype.dX=function(K,o){var Y=this.VY;
if(Y.xO==0){this.rect=Y.dj;this.buffer=Y.I0;this.W()}if(Y.xO==1||Y.xO==3){var c=Y.xO==1?this.ue():this.wm(K).F;
c.channel=Y.I0;c.rect=Y.dj;if(this.xO==1){c.dw=!0;this.WG(K)}if(this.xO==3)this.W()}this.VY=o};S.prototype.wN=function(K,o){if(this.xO<=0&&o.rect.BV(this.rect)){var Y=d.R(this.rect.Z());
d.JI(this.buffer,Y,3);if(d.BV(K.r.channel,Y)){var c=this.rect,z=this.buffer;this.VY={xO:this.xO,Hm:z.slice(0),dU:c.clone(),BA:d.R(0),R5:new hD,I0:d.R(0),dj:new hD};
return!0}}var f=this.VY;if(f==null)return!1;if(f.xO!=this.xO)return!1;if(!o.rect.BV(f.dU))return!1;var $=f.R5.Bb(f.dU);
if(f.xO<=0){if(!$.BV(this.rect))return!1;var E=d.R(f.Hm.length>>2);d.JI(f.Hm,E,3);if(!d.BV(o.channel,E))return!1;
var b=d.R($.m*$.e*4);d.iF(f.BA,f.R5,b,$);d.l.To("norm",f.Hm,f.dU,b,$,$,1);return d.BV(b,this.buffer)}if(f.xO==1||f.xO==3){var q=f.xO==1?this.ue():this.wm(K).F;
if(!$.BV(q.rect))return!1;var O=d.R($.Z());O.fill(q.color);d.u_(f.BA,f.R5,O,$);d.l.Ir(f.Hm,f.dU,O,$,o.channel,$,1);
return d.BV(O,q.channel)}};S.prototype.aT=function(K,o,Y,c){var z=this.VY;z.dU.offset(o,Y);var f=z.R5.Bb(z.dU);
if(z.xO<=0){var $=d.R(f.Z()*4);d.iF(z.BA,z.R5,$,f);d.l.To("norm",z.Hm,z.dU,$,f,f,1);this.buffer=$;this.rect=f;
this.W()}else{var E=this.xO==1?this.ue():this.wm(K).F,b=d.R(f.Z());b.fill(E.color);d.u_(z.BA,z.R5,b,f);
d.l.Ir(z.Hm,z.dU,b,f,c.channel,f,1);E.channel=b;E.rect=f.clone();if(this.xO==1){E.dw=!0;this.WG(K)}if(this.xO==3)this.W()}};
S.prototype.a0l=function(K){var o=[-1,0,1,2];if(K)o.push(3);if(this.F)o.push(-2);if(this.DJ)o.push(-3);
return o};S.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};S.prototype.vd=function(h4){this.add.luni=this.name=h4};
S.prototype.Pe=function(K){var o=this.add.lnsr,Y=this.add.TySh;if(o=="rend"&&Y){var c=b_.BM(Y.e9);this.vd(c.slice(0,c.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
S.prototype.KL=function(){return(this.Gh&1<<1)==0};S.prototype.Go=function(){return(this.Gh&1<<4)==0};
S.prototype.LJ=function(){return(this.Gh&1<<5)!=0};S.prototype.ay1=function(){var K=this;if(K.add.lnsr!="bgnd"){K.add.lnsr="bgnd";
K.vd("Background");K.add.lspf=1<<2}};S.prototype.aji=function(){var K=this;if(K.add.lnsr=="bgnd"){delete K.add.lnsr;
K.vd("Layer 0");K.add.lspf=0}};S.prototype.dq=function(K){var o=this.add.lspf;return o==null?!1:(o>>K&1)!=0};
S.prototype.dt=function(K){if(K&&!this.KL())this.Gh-=2;if(!K&&this.KL())this.Gh+=2};S.prototype.Ug=function(){var K=this.add.lmfx;
if(K==null)return!1;for(var o in K){if(o=="masterFXSwitch")continue;if(o=="Scl")continue;if(o=="classID")continue;
if(K[o].v.length>0)return!0}return!1};S.prototype.Mn=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
S.prototype.L8=function(){var K=this.add.lmfx;if(K==null)return!1;if(!K.masterFXSwitch.v)return!1;for(var o in K){if(o=="masterFXSwitch")continue;
if(o=="Scl")continue;if(o=="classID")continue;var Y=K[o].v;for(var y=0;y<Y.length;y++)if(Y[y].v.enab.v)return!0}return!1};
S.prototype.JL=function(){var K=this,o=K.add.SoLd,Y=K.add.TySh,c=K.add.vmsk,z=[];if(o)z=m.OB.lA(o.nonAffineTransform);
if(Y&&this.DM.nM){z=d.M.Yq(K.DM.nM).z;d.M.i(z,Y.i,z)}if(c)z=d.M.Yq(c.awR()).z;return z};S.prototype.GN=function(K,o,Y,c){if(g1==1)return d.M.OA(this.JL());
var z=new hD,f=this.m4(K,Y,c);if(f.indexOf(0)!=-1)z=z.Bb(this.rect);if(f.indexOf(1)!=-1){var $=this.ue(),E=$._U();
z=Y&&$.CK()==0?z.xf()?E:z.wu(E):z.Bb(E)}if(f.indexOf(2)!=-1){var b=this.add.vmsk,q=this.add.vstk,O;if(o){if(b.gy.length>1){var j=d.j.ri(b.$,null,b.gy);
O=d.M.OA(j);if(O.xf())O=null}if(O==null)O=d.j.QJ(b.$,b.Y.length!=0?b.Y:null)}else O=d.j.QJ(b.$);if(!c&&q&&q.strokeEnabled.v){var A=q.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=q.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(A!="strokeStyleAlignInside"){var g=q.strokeStyleLineWidth.v.val;if(R=="strokeStyleMiterJoin")O=new hD(0,0,K.m,K.e);
else O.VC(g,g)}}z=z.Bb(O)}if(f.indexOf(3)!=-1)z=z.Bb(this.wm(K).F._U());if(f.length==0&&this.sB())z=c?new hD(0,0,0,0):new hD(0,0,K.m,K.e);
return z};S.prototype.bm=function(){var K=this.add.artb,o=K.artboardBackgroundType.v,Y=0;if(o==1)Y=4294967295;
else if(o==2)Y=4278190080;else if(o==3)Y=0;else if(o==4){Y=K.Clr.v;Y=255<<24|Y.Bl.v<<16|Y.Grn.v<<8|Y.Rd.v}else throw o;
return Y};S.prototype.Yv=function(){var K=this.add.artb.artboardRect.v,o=K.Btom.v,Y=K.Left.v,c=K.Rght.v,top=K.Top.v;
return new hD(Y,top,c-Y,o-top)};S.prototype.HL=function(K){var o=S.nZ(K);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=o};S.nZ=function(K){var o={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
o.Btom.v=K.y+K.e;o.Left.v=K.x;o.Rght.v=K.x+K.m;o.Top.v=K.y;return o};S.prototype.m4=function(K,o,Y){var c=[],z=this;
if(!o&&z.bw&&Y){c.push(2)}else if(z.xO<=0||o){if(z.Go()){if(g1==1&&z.add.TySh)c.push(0);if(g1==1&&z.add.SoLd)c.push(0);
else if(!this.rect.xf())c.push(0)}if(z.ue()&&!z.ue().rect.xf())if(z.ue().wn||o)c.push(1);if(z.add.vmsk)if(z.add.vmsk.wn||o)c.push(2);
if(z.Mn()&&z.wm(K).F&&!z.wm(K).F.rect.xf())c.push(3)}else if(z.xO==1){c.push(1);if(z.ue().wn&&!z.ue().rect.xf()){if(z.Go())if(!this.rect.xf())c.push(0);
if(z.add.vmsk)if(z.add.vmsk.wn)c.push(2)}}else if(z.xO==3&&!z.wm(K).F.rect.xf())c.push(3);if(z.add.artb&&c.indexOf(0)==-1)c.push(0);
c.sort();return c};S.prototype.ue=function(){var K=this;return K.DJ?K.DJ:K.add.vmsk&&K.add.vmsk.isEnabled?null:K.F};
S.prototype.wm=function(K){var o=this.add.SoLd.placed.v,Y=K.add.FEid;if(Y==null)return null;for(var y=0;
y<Y.length;y++)if(Y[y].id==o)return Y[y];return null};S.prototype.extend=function(K){d.azU(this,K)};
S.prototype.a8Q=function(K,o,Y){var c=K.clone();if(this.L8()){var z=this.add.lmfx,f=o.root.w3(o.B.indexOf(this)),$=z.gradientFillMulti.v,E=!1;
for(var y=0;y<$.length;y++)if($[y].v.enab.v&&$[y].v.Algn.v)E=!0;if(E)c=c.Bb(f._U(o,!1));var b=eq.a9Z(this.add.lmfx,o,Y);
c.offset(b.x,b.y);c.m+=b.m;c.e+=b.e}return c};S.prototype.sc=function(){if(this.Go())d.zy(this);var K=this.ue();
if(K)K.sc()};S.prototype.clone=function(){var K=new S;K.rect=this.rect.clone();K.buffer=this.buffer.slice(0);
K.YF=this.YF;K.opacity=this.opacity;K.z_=this.z_;K.Gh=this.Gh;K.name=this.name;K.c1=this.c1.slice(0);
if(this.F)K.F=this.F.clone();if(this.DJ)K.DJ=this.DJ.clone();for(var o in this.add)K.add[o]=kE.clone(o,this.add[o]);
return K};S.prototype.Ga=function(K){var o=this;if(o.add.TySh)delete o.add.TySh;if(o.add.SoLd){var Y=this.L4(K,this.buffer,this.rect);
if(Y){this.buffer=Y.y3;this.rect=Y.rect;this.W()}delete o.add.SoLd}if(o.add.SoCo||o.add.GdFl||o.add.PtFl){if(o.add.vogk)delete o.add.vogk;
if(o.add.SoCo)delete o.add.SoCo;if(o.add.GdFl)delete o.add.GdFl;if(o.add.PtFl)delete o.add.PtFl;if(o.add.vmsk){console.log(o.DJ,o.F);
delete o.add.vmsk;if(o.DJ==null&&o.F)delete o.F;else if(o.DJ!=null&&o.F!=null){o.F=o.DJ;delete o.DJ}}}if(!o.f$()&&jh.get(o.add)==null&&!this.Go())this.Gh-=16};
S.prototype.KT=function(K){var o=255,Y=0;if(K==2){var c=this.add.SoLd.filterFX.v;if(c.filterMaskDensity)o=c.filterMaskDensity.v;
if(c.filterMaskFeather)Y=c.filterMaskFeather.v}else{var z=K==0?this.ue():this.add.vmsk;o=z.SJ;Y=z.cG}return{jm:K,E1:o,fI:Y}};
S.prototype.anU=function(K){if(K.jm==2){var o=this.add.SoLd.filterFX.v;if(K.E1==255)delete o.filterMaskDensity;
else o.filterMaskDensity={t:"long",v:K.E1};if(K.fI==0)delete o.filterMaskFeather;else o.filterMaskFeather={t:"doub",v:K.fI};
this.W()}else{var Y=K.jm==0?this.ue():this.add.vmsk;Y.SJ=K.E1;Y.cG=K.fI;Y.dw=!0}};S.prototype.D8=function(){var K=this,o=K.add.vmsk;
if(o==null)return;K.add.vogk=d.SU.aiS(o.$)};S.D8=function(K){var o=[],Y=d.j.rD(K);for(var c=0;c<Y;c++)o.push(d.SU._L());
return o};var eo={vY:0,bl:1,g5:2,iE:3};S.tp=function(){this.name="Mask";this.Gt=!1;this.ws={o:255,A:0,J:0};
this.O2=50;this.tM=0;this.color=255;this.wn=!0;this.isEnabled=!0;this.j9=!1;this.SJ=255;this.cG=0;this.rect=new hD;
this.channel=d.R(0);this.y9=null;this.aBQ=null;this.dw=!0};S.tp.prototype.mL=function(K){if(!this.isEnabled)return K;
var o=new S.tp;o.color=Math.round(this.CK()*K.CK()/255);if(this.CK()==0&&K.CK()==0)o.rect=this._U().wu(K._U());
else if(K.CK()==0)o.rect=K._U().clone();else if(this.CK()==0)o.rect=this._U().clone();else o.rect=this._U().Bb(K._U());
o.channel=this.dQ(o.rect);o.SJ=255;o.cG=0;var Y=K.dQ(o.rect);d.adQ(Y,o.rect,o.channel,o.rect);return o};
S.tp.prototype._U=function(){if(this.cG==0)return this.rect;var K=Math.ceil(this.cG*2.2),o=this.rect.clone();
if(o.y==0){if(o.x==0)o.m+=K;else o.VC(K,0);o.e+=K}else o.VC(K,K);return o};S.tp.prototype.X6=function(){if(this.cG==0&&this.SJ==255)return this.channel;
if(this.cG==0){var K=this.channel.slice(0);d.oD(K);d.L0(K,this.SJ/255);d.oD(K);return K}var o=this._U(),Y=this.ig(o),K=d.R(o.Z());
d.Gq.r5(Y,K,o,this.cG);if(this.SJ!=255){d.oD(K);d.L0(K,this.SJ/255);d.oD(K)}return K};S.tp.prototype.CK=function(){return Math.round(255-(255-this.color)*(this.SJ/255))};
S.tp.prototype.extend=function(K){d.extend(this,K,this.color)};S.tp.prototype.sc=function(){if(this.color==255)d.oD(this.channel);
d.sc(this);if(this.color==255)d.oD(this.channel)};S.tp.prototype.clone=function(){var K=new S.tp;K.name=this.name;
K.Gt=this.Gt;K.ws=this.ws;K.O2=this.O2;K.tM=this.tM;K.color=this.color;K.wn=this.wn;K.isEnabled=this.isEnabled;
K.j9=this.j9;K.SJ=this.SJ;K.cG=this.cG;K.rect=this.rect.clone();K.channel=this.channel.slice(0);return K};
S.tp.prototype.ig=function(K,o){if(o==null)o=d.R(K.Z());o.fill(this.color);d.u_(this.channel,this.rect,o,K);
return o};S.tp.prototype.dQ=function(K,o){var Y=this._U(),c=this.X6();if(o==null)o=d.R(K.Z());o.fill(this.CK());
d.u_(c,Y,o,K);return o};S.kZ=function(){this.wn=!0;this.isEnabled=!0;this.SJ=255;this.cG=0;this.T_=0;
this.fa=0;this.$=[{type:6},{type:8,all:0}];this.vh=[-3,-3];this.Qn=!1;this.DJ=null;this.dw=!0;this.Y=[];
this.gy=[]};S.kZ.prototype.awR=function(K){var o=S.kZ.ge(this.$),Y=new dF;if(K)Y.rotate(-this.T_);d.j.k3(o,Y);
return d.j.QJ(o)};S.kZ.prototype.aq6=function(){var K=this.awR(!0),o=d.M.Yq(K).z,Y=new dF;Y.rotate(this.T_);
d.M.i(o,Y,o);return o};S.kZ.prototype.offset=function(K,o){this.DJ=this.ue();d.j.k3(this.$,new dF(1,0,0,1,K,o));
this.DJ.rect.offset(K,o)};S.kZ.prototype.ue=function(K){if(!this.dw&&this.DJ&&K==null){this.DJ.isEnabled=this.isEnabled;
return this.DJ}var o=d.j.QJ(this.$),Y="strokeStyleLineAlignment",c="strokeStyleLineJoinType";if(o.Z()>2e4*2e4)o=new hD(0,0,100,100);
if(K&&K[Y].v[Y]!="strokeStyleAlignInside"){var z=1;if(K[c].v[c]=="strokeStyleMiterJoin"){var f=d.j.aBC(this.$),$=f/2,E=Math.sin($),b=Math.cos($);
b/=E;E=1;var z=Math.sqrt(b*b+E*E);if(isNaN(z)||z<1)z=1}z*=K[Y].v[Y]=="strokeStyleAlignOutside"?1:.5;
var q=Math.ceil(K.strokeStyleLineWidth.v.val*z);q=Math.min(q,600);o.VC(q,q)}o=d.M.tS(o);var O=new S.tp;
O.color=d.j.CD(this.$)?0:255;O.wn=this.wn;O.isEnabled=this.isEnabled;O.j9=!0;O.rect=o;O.SJ=this.SJ;O.cG=this.cG;
O.channel=d.R(O.rect.Z());if(!o.xf())d.j.a7Y(this.$,O.channel,O.rect,K);if(K==null){this.DJ=O;this.dw=!1}return O};
S.kZ.prototype.clone=function(){var K=new S.kZ;K.wn=this.wn;K.isEnabled=this.isEnabled;K.SJ=this.SJ;
K.cG=this.cG;K.T_=this.T_;K.$=S.kZ.ge(this.$);K.vh=this.vh.slice(0);K.Qn=this.Qn;K.Y=this.Y.slice(0);
K.gy=this.gy.slice(0);return K};S.kZ.prototype.concat=function(K){var o=K.$.slice(2);if(o.length==0)return;
o[0].fa=3;this.$=this.$.concat(o)};S.kZ.ge=function(K){var o=[];for(var y=0;y<K.length;y++){var Y=K[y];
if(Y.type>5||Y.type==0||Y.type==3)o.push(JSON.parse(JSON.stringify(Y)));else o.push({type:Y.type,KK:Y.KK.clone(),P:Y.P.clone(),eb:Y.eb.clone()})}return o};
S.kZ.auK=function(K,o,Y){if(K.length!=o.length)return!1;for(var y=2;y<K.length;y++){var c=K[y],z=o[y];
if(c.type!=z.type)return!1;if(c.type==0||c.type==3){if(c.length!=z.length||!Y&&c.fa!=z.fa)return!1}else if(!c.KK.BV(z.KK)||!c.P.BV(z.P)||!c.eb.BV(z.eb))return!1}return!0};
S.kZ.prototype.a9O=function(){var K=this.$;for(var y=3;y<K.length;y++)if(K[y].type==0||K[y].type==3)K[y].fa=-1};
S.oX=function(){this.type=null;this.zK=2;this.YH=null;this.oF="";this.ut="";this.Gm="";this.open=0;this.raw=null;
this.W3=null;this.aAI="";this.$P=!1};S.oX.prototype.clone=function(){var K=new S.oX;K.type=this.type;
K.zK=this.zK;K.YH=this.YH;K.oF=this.oF;K.ut=this.ut;K.Gm=this.Gm;K.open=this.open;K.raw=new Uint8Array(this.raw.buffer.slice(0));
return K};S.oX.prototype.Gl=function(K,o,Y,c,z){if(Y==null)Y="none";var f=this,$=fv.sR(f.raw.buffer),E=$=="svg"||$=="pdf"||$=="ai";
if(f.W3){var b=o&&E&&Math.max(f.W3[1].m,f.W3[1].e)<Math.max(o[0],o[1]);if(!b&&Y==this.aAI&&!f.$P)return}this.aAI=Y;
if(!E)K=0;if($==null){alert("Unsupported format: "+_.H9(f.raw,0,4));return null}var q=fv.WD($);if(q.MS){var O=new h7(name+($=="psd"?"":"-"+$)+".psd"),j;
q.MW(f.raw.buffer,O,o);var A=new hD(0,0,O.m,O.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(Y)!=-1){var R=[];
for(var y=0;y<O.B.length;y++){var g=O.B[y],H=g.buffer;if(!g.rect.BV(A)){H=d.R(A.Z()*4);d.iF(g.buffer,g.rect,H,A);
console.log("resizing")}R.push(H)}j=d.R(A.Z()*4);d.stack.stack(R,j,Y)}else{for(var y=0;y<O.B.length;
y++)if(O.B[y].sB())O.B[y].WG(O);if(c&&O.$P){var i=au._1(O,c,z);f.$P=!i;if(i)au.tF(O,c,z)}O.Sm();O.W();
O.Uj();j=O.Gl()}f.W3=[j,A];f.aE=O.aE!=null&&O.aE!=0?O.aE:72}else if(q){var h=q.MW(f.raw.buffer)[0];f.W3=[new Uint8Array(h.data),h.eQ];
f.aE=h.aE!=null&&h.aE!=0?h.aE:72}if(f.W3){if(K==1){var H=f.W3[0],x=f.W3[1],F=d.R(x.Z());d.JI(H,F,3);
var X=d.sd(F,x),V=d.R(X.Z()*4);d.iF(H,x,V,X);X.x=X.y=0;f.W3=[V,X]}d.pa(f.W3)}};S.Rz="0";S._C="2";S._i="2.5";
S.Xn="2.6";S.MQ="3";S.DP="4";S.pr="4.5";S.a5h="4.6";S.a2f="5";S.Tp="5.5";S.Kn="6";S.FZ="7";S.aBZ="8";
S.Vn="9";S.NE="9.3";S.at5="9.5";S.xs="9.6";S.mW="10";S.sX="11";S.us="12";S.FO="13";S.Jj="13.1";S.a0R="13.2";
S.sF="13.3";S.ak="13.4";S.ka="14";S.xL="14.1";S.R6="14.2";S.WI="14.3";S.uo="17";S.D1="18";S.ahe="19";
S.PM="19.5";S.ps="19.6";S.a6="19.7";S.b3="19.8";S.N9="20";S._n="21";S.JM="21.5";S.Gy="22";S.GQ="22.5";
S.WF="23";S.ahI="24";S._m="25";S.agv="26";S.axb="27";S.Co="28";S.NZ="29";S.Zn="30";S.I4="31";S.zm="32";
S.rr="33";S.QK="34";S.fC="35";S.bh="36";S.fR="36.5";S.p5="37";S.DO="37.5";S.a3D="37.6";S.No="38";S.UT="38.5";
S.ON="38.6";S.Tx="39";S.ow="40";S.a6N="41";S.RM="42";S.nK="50";S.tz="51";S.Pi="52";S.Rr="53";S.ZF="54";
S.ajp="54.5";S.aF="54.6";S.abX="54.7";S.Zh="54.8";S.B$="55";S.k9="56";S.Nj="57";S.RZ="58";S.ih="59";
S.qf="60";function jk(){this.depth=0;this.index=-1;this.a=null;this.at0=null;this.Ag=-1;this.children=null;
this.parent=null;this.iK=null}jk.prototype.a6r=function(K,o){if(this.depth!=0)K.push(this.a.getName());
if(this.children)for(var y=0;y<this.children.length;y++)this.children[y].a6r(K,o);if(K.length>o.ii.length)o.ii=K.slice(0);
if(this.depth!=0)K.pop()};jk.prototype.aBD=function(){var K=0;if(this.a.f$()){for(var y=0;y<this.children.length;
y++)K+=this.children[y].aBD()}else if(this.a.buffer)K+=this.a.buffer.length;return K};jk.prototype.w3=function(K){var o=this.iK[K];
return this.iK[K]};jk.prototype.a8d=function(K,o){var Y=this.a;if(!Y.KL()||Y.dq(2)||Y.dq(31))return null;
if(Y.K$()){var c=Y.F.rect.wR(K);if(!c&&Y.F.color==0)return}if(Y.f$()){for(var y=0;y<this.children.length;
y++){var h4=this.children[y];h4.a8d(K,o)}}else if(g1==1){var z=Y.JL();if(K.wR(d.M.OA(z))&&o.indexOf(this.index)==-1)o.push(this.index)}else if(Y.rect.wR(K))o.push(this.index)};
jk.prototype.R9=function(K,o){var Y=this.a;if(!Y.KL()||Y.dq(2)||Y.dq(31))return null;if(Y.K$()){if(Y.F.rect.Tz(K)){if(!d.R9(K,Y.F.channel,Y.F.rect))return null}else if(Y.F.color==0)return null}if(Y.f$()){if(Y.add.artb&&!Y.Yv().Tz(K))return null;
for(var y=this.children.length-1;y>=0;y--){var h4=this.children[y],c=h4.R9(K,o);if(c&&o==null)return c}return null}else if(g1==1){if(Y.add.vmsk){var z=Y.add.vstk,f=!z.fillEnabled.v&&!Y.UR,$=z.strokeStyleLineWidth.v.val*.5,E=d.j.R9(Y.add.vmsk.$,K,f,$);
return E.UQ==-1?null:this}var b=Y.JL();if(c_.tm(b,K.x,K.y))return this}else if(Y.add.TySh&&Y.rect.Tz(K)||d.asl(K,Y.buffer,Y.rect)){if(o==null)return this;
else o.push(this.index)}return null};jk.prototype.aj6=function(K){var o=this.a;if(!o.KL()||o.dq(2)||o.dq(31))return null;
var Y=o.add.vmsk;if(Y&&Y.isEnabled){var c=d.j.R9(Y.$,K).UQ;if(c!=-1)return{aAg:this,akO:c}}if(o.f$()){if(o.add.artb&&!o.Yv().Tz(K))return null;
for(var y=this.children.length-1;y>=0;y--){var h4=this.children[y],z=h4.aj6(K);if(z)return z}return null}return null};
jk.prototype.qM=function(K,o){K.push(this.index);if(this.a.f$()){K.push(this.Ag);if(o)if(this.a.xO==1&&this.a.ue().wn==!1)return;
for(var y=0;y<this.children.length;y++)this.children[y].qM(K)}};jk.x1=function(){var K=document.createElement("canvas");
return K.getContext("2d")};jk.aB0=function(K,o){var Y,c;if(K.m>K.e){Y=o;c=Math.floor(o*(K.e/K.m))}else{Y=Math.floor(o*(K.m/K.e));
c=o}return new jc(Y,c)};jk.aV=32;jk.fT=1;jk.prototype.zU=function(K,o,Y){var c=jk.fT,z=this.a;if(z.f$()&&z.add.artb!=null)o=z.Yv();
var f=c==0?z.rect:o;if(f.xf()||z.add.TySh)f=o;var $=jk.aV*m.GR(),E=jk.aB0(f,$),b=E.x,q=E.y,O=jk.aB0(o,$);
if(z.sB()&&z.add.vmsk==null||z.add.TySh)b=q=Math.max(q,16);else if(z.f$()){b=q=Math.round(18*m.GR())}else{b=Math.max(b,6);
q=Math.max(q,6)}if(Y&&z.lN==null){z.lN=jk.x1();z.V6=jk.x1();z.J3=jk.x1();z.ab=jk.x1()}var j=z.sB()&&z.add.vmsk;
if(j){if(Y&&z.add.vstk)d.Uv.mh(z.lN,b,q,f,z.buffer,z.rect,!1,null,!z.add.vstk.fillEnabled.v&&!z.add.vstk.strokeEnabled.v);
if(Y)d.Uv.aiI(z.lN,b,q)}else if(z.add.TySh){if(Y)d.Uv.amH(z.lN,q,q,z.add.TySh)}else if(z.add.SoCo){if(Y)d.Uv.av9(z.lN,q,q,z.add.SoCo)}else if(z.add.GdFl){if(Y)d.Uv.amF(z.lN,q,q,z.add.GdFl)}else if(z.add.PtFl){if(Y)d.Uv.ahp(z.lN,q,q,z.add.PtFl,K)}else if(jh.get(z.add)!=null){if(Y)d.Uv.a6l(z.lN,q,q,z.add)}else if(z.add.SoLd){if(Y)d.Uv.mh(z.lN,b,q,f,z.buffer,z.rect,!1);
if(Y)d.Uv.aq4(z.lN,b,q,z.add.SoLd)}else if(z.f$()){}else{if(Y){if(z.Go())d.Uv.mh(z.lN,b,q,f,z.buffer,z.rect,!1);
else{d.Uv.aaH(z.lN,q,q)}}}var A=z.ue();if(Y){if(A)d.Uv.Wn(z.V6,O.x,O.y,o,A);if(z.Mn()&&z.wm(K)&&z.wm(K).F){var R=z.wm(K).F;
d.Uv.Wn(z.ab,O.x,O.y,o,R)}if(!j&&z.add.vmsk){d.Uv.Wn(z.J3,O.x,O.y,o,z.add.vmsk.ue(),!0)}}if(A||z.add.vmsk)q=Math.max(q,O.y);
z.apN=Math.max(q,16);if(Y!=!0&&z.f$()&&(z.add.lsct==eo.bl||K.B.length<4e3))for(var y=0;y<this.children.length;
y++)this.children[y].zU(K,o)};jk.prototype.apV=function(K,o,Y,c){this.depth=Y;var z=K[o];if(c==null)c=[];
this.iK=c;if(z.add.lsct==eo.iE){this.at0=z;this.Ag=o-1;this.children=[];var y=o+1;while(!0){var f=K[y];
if(f==null)console.log(y,K.length);if(f.add.lsct==eo.bl||f.add.lsct==eo.g5){if(z.add.lyid==f.add.lyid)z.add.lyid+=16777215;
this.a=f;this.index=y-1;c[this.index]=this;c[o-1]=this;break}var $=new jk;$.parent=this;y=$.apV(K,y,Y+1,c);
this.children.push($)}return y+1}else{this.a=z;this.index=o-1;c[this.index]=this;return o+1}};jk.prototype.Of=function(K,o,Y,c){var z=this.w3(Y),f=K;
while(z.parent!=null){f=z.a.a8Q(f,o,c);z=z.parent}return f};jk.prototype._U=function(K,o){var Y=this.a,c=new hD;
if(!Y.KL())return c;var z=Y.ue();if(Y.f$())for(var y=0;y<this.children.length;y++){var f=this.children[y]._U(K,!0);
c=c.Bb(f)}else if(jh.get(Y.add)!=null)c=Y.K$()&&Y.F.color==0?Y.F._U().clone():new hD(0,0,K.m,K.e);else if(Y.sB()&&Y.add.vmsk&&Y.add.vmsk.isEnabled&&Y.add.vstk){c=Y.rect.clone()}else if(Y.sB()&&z&&z.isEnabled&&z.CK()!=0)c=new hD(0,0,K.m,K.e);
else{c=Y.GN(K,!1,!0);if(Y.add.vmsk)c=d.M.tS(c)}return o?Y.a8Q(c,K):c};jk.dN={delete:function(K){if(K&&K.m)K.delete()},R:function(K,o){return jK.YT?new jK.ok(K,o):d.R(K*o*4)},vV:function(K,o,Y){if(jK.YT){if(K==null||K.m!=o||K.e!=Y){jk.dN.delete(K);
return new jK.ok(o,Y)}}else{if(K==null||!(K instanceof Uint8Array)||K.length!=o*Y*4){jk.dN.delete(K);
return d.R(o*Y*4)}}return K},u_:function(K,o,Y,c,z){(jK.YT?jK.Li:d.iF)(K,o,Y,c,z)},OF:function(K,o,Y,c,z,f,$,E,y,b,q){(jK.YT?jK.l.fG:d.l.OF)(K,o,Y,c,z,f,$,E,y,b,q)},ah3:function(K,o,Y,c,z,f,$,E){var b=Y.clone(),q=z.m,O=z.e,j=b.x,A=b.y,R=b.x+b.m>q?-1:0,g=b.x<0?2:1,H=b.y+b.e>O?-1:0,i=b.y<0?2:1;
for(var h=H;h<i;h++)for(var x=R;x<g;x++){b.x=j+x*q;b.y=A+h*O;jk.dN.To(K,o,b,c,z,f,$,E)}},To:function(K,o,Y,c,z,f,$,E){if(jK.YT)jK.l.qg(K,o,Y,c,z,f,$,E);
else d.l.To(K,o,Y,c,z,f,$,E)},nz:function(K,o,Y){if(jK.YT){jK.EW(K);jK.lF(o,Y)}else d.nz(K,o,Y)},ab9:function(K,o,Y,c,z){if(jK.YT){jK.l.fG(null,null,c,z,K,o,Y,z,1,!1)}else{if(Y==255)d.D$(K,o,c,z);
else{var f=d.R(o.Z());d.zv(c,z,f,o);d.yC(K,f);d.nz(c,0,16777215);d.cl(f,o,c,z)}}},qp:function(K,o,Y,c){if(jK.YT)jK.l.fG(null,null,Y,c,K,o,0,c,1,!1);
else d.qp(K,o,Y,c)}};jk.prototype.Wo=function(K,o,Y,c,z,f){var $=typeof f=="number";if(!this.a.f$()&&($&&this.index>f||!$&&f.indexOf(this.index)==-1)){return}var E=this.a,b=eq.Bh(E),q=jk.dN,O=E.sB()?E.ue():E.F;
if(!E.KL())return;if(E.K$()&&O.rect.xf()&&O.CK()==0){return}if(E.add.vstk==null&&this._U(c,!1).xf()){return}var j=this._U(c,!0).wu(Y);
if(!o.BV(Y)&&!Y.wR(j))return;if(E.f$()&&E.add.artb){var A=E.Yv();Y=Y.wu(A)}var R=jk.aoS(E,z,b);if(!R){this.arH(K,o,Y,c,z,f);
return}E.DM.R_=q.vV(E.DM.R_,j.m,j.e);q.u_(K,o,E.DM.R_,j,Y);this.arH(E.DM.R_,j,Y,c,z,f);q.OF(E.DM.R_,j,K,o,null,null,0,Y,E.opacity/255,E.YF=="diss",b.DD)};
jk.aoS=function(K,o,Y){if(Y.DD[0]*Y.DD[1]*Y.DD[2]==0)return!0;return K.opacity!=255&&(o.length!=0||K.f$()||K.L8())};
jk.a8W={DM:{}};jk.prototype.arH=function(K,o,Y,c,z,f){var $=this.a,E=eq.Bh($),b=jh.get($.add)!=null,q=jk.dN,O=jk.aoS($,z,E),j=O?1:$.opacity/255,A=$.sB()?$.ue():$.F,R=$.f$()&&E.Ve==null&&($.YF=="pass"||$.add.artb)&&!(z.length>0||E.fill!=1||$.L8()),g=!$.f$()&&!b&&!$.L8()&&z.length==0,H=b&&!$.L8()&&z.length==0,V=null,U=null,Z=null,a;
if(R||g||H){var i=K,h=o;if($.K$()){h=this._U(c,!1);i=$.DM.tJ=q.vV($.DM.tJ,h.m,h.e);q.u_(K,o,$.DM.tJ,h)}if(R)this.V_(i,h,Y,c,f);
if(g)q.To($.YF,$.auN(c),$.rect,i,h,Y,j,E);if(H){var x=$.K$()&&A.CK()==0?A._U().clone():h.clone(),F=$.DM;
if(x.BV(new hD(0,0,c.m,c.e)))F=jk.a8W;F.nj=this.a7d(i,h,F.nj,x,$.add);E.Rm=!0;q.To($.YF,F.nj,x,i,h,Y,j,E)}if($.K$())q.OF(i,h,K,o,$.a1o(),A._U(),A.CK(),Y,1,$.YF=="diss");
$.DM.aiH();return}var X=$.f$()&&$.YF=="pass"&&(z.length>0||E.fill!=1||$.L8()),x=$.rect;if($.f$()){x=this._U(c,!1);
Z=$.DM.nj=q.vV($.DM.nj,x.m,x.e);q.nz(Z,0);this.V_(Z,x,x,c,f);U=q.vV($.DM.C3,x.m,x.e);q.u_(Z,x,U,x)}else if(b){x=$.K$()&&A.CK()==0?A._U().clone():o.clone();
U=q.vV($.DM.C3,x.m,x.e);q.nz(U,4294967295)}else{x=$.rect;V=$.auN(c);U=q.vV($.DM.C3,x.m,x.e);q.u_(V,x,U,x)}$.DM.C3=U;
if($.K$())q.ab9($.a1o(),A._U(),A.CK(),U,x);if($.L8())if($.DM.gF||$.DM.w1||$.DM.zG!=jK.YT||$.DM.WN||$.f$()){var T=$.add.vmsk,v=d.R(x.Z());
if(eq.ank($.add.lmfx)){if(jK.YT){if(!$.f$()&&$.ue()==null&&$.rect.BV(x)&&T==null)d.JI($.buffer,v,3);
else{var P=d.R(x.Z()*4);U.get(P);d.JI(P,v,3)}}else d.JI(U,v,3)}if($.DM.w1||$.DM.zG!=jK.YT||!d.BV(v,$.DM.dx)){var p=null;
if($.sB()&&T&&T.isEnabled&&T.ue().color==0)p=T.ue().rect;eq.als($.DM.ck);$.DM.ck=eq.a2Q(v,x,$.add.lmfx,$.add.fxrp,c,p);
$.DM.dx=v;$.DM.asD=x}}if($.L8())eq.az2($.add.lmfx,$.DM.ck,x,K,o,Y);if($.f$()){V=q.vV($.DM.tJ,x.m,x.e);
q.nz(V,0);if($.YF=="pass")q.u_(K,o,V,x);if(X)q.qp(Z,x,V,x);this.V_(V,x,Y,c,f);$.DM.tJ=V}if(b){V=$.DM.tJ=this.a7d(K,o,$.DM.tJ,x,$.add)}if($.f$()||b)a=V;
else{a=q.vV($.DM.tJ,x.m,x.e);q.u_(V,x,a,x,Y);$.DM.tJ=a}q.nz(a,4278190080,16777215);for(var y=0;y<z.length;
y++)z[y].Wo(a,x,Y,c,[],f);var D=$.DM.sl=q.vV($.DM.sl,x.m,x.e);q.u_(K,o,D,x,Y);if(b)E.Rm=!0;q.To($.YF=="pass"?"norm":$.YF,a,x,D,x,Y,1,E);
if($.L8()){var n=$.DM.ck.type.FrFX,N=null;if(n.length!=0){N=n[0];for(var y=0;y<n.length;y++)if(n[y].r8.m>N.r8.m)N=n[y];
$.DM.bF=q.vV($.DM.bF,N.r8.m,N.r8.e);q.u_(K,o,$.DM.bF,N.r8,Y);$.DM.VU=q.vV($.DM.VU,N.r8.m,N.r8.e)}eq.axu($.add.lmfx,$.DM.ck,x,K,o,Y,D,$.DM.bF,$.DM.VU,N?N.r8:null)}if(!jK.YT){var W=d.R(x.Z());
d.JI(U,W,3);U=W}q.OF(D,x,K,o,U,x,0,Y,1,$.YF=="diss");$.DM.aiH()};jk.prototype.a7d=function(K,o,Y,c,z){var f=jh.get(z),$;
if(f)$=jh.GA(f,z[f]);var E=jk.dN;Y=E.vV(Y,c.m,c.e);if(!(jK.YT&&o.BV(c)))E.u_(K,o,Y,c);if($){if(jK.YT){var b=c.clone();
b.x=b.y=0;if(o.BV(c)){jK.EW(Y,b);jh.rF($,K.eI,b)}else{jK.EW(Y,c);Y.vt(c);jh.rF($,Y.Ci,b)}}else jh.kf($,Y,Y,c)}return Y};
jk.prototype.V_=function(K,o,Y,c,z){var f=o,$=f.m,E=f.e,b=f.x,q=f.y,h4=Y,O=h4.x,j=h4.y,A=-1,R=-1,g=2,H=2;
if(!c.Lt){A=R=0;g=H=1}var i=this.children;for(var y=0;y<i.length;y++){var h=[];for(var x=y+1;x<i.length;
x++)if(i[x].a.z_)h.push(i[x]);else break;for(var F=R;F<H;F++)for(var X=A;X<g;X++){f.x=b+X*$;f.y=q+F*E;
h4.x=O+X*$;h4.y=j+F*E;i[y].Wo(K,f,h4,c,h,z)}y+=h.length}f.x=b;f.y=q;h4.x=O;h4.y=j};function h7(K){this.MG="psd";
this.hr=!1;this.name=K;this.V$=-1;this.Lt=!1;this.Yr=null;this.z0=null;this.cr=null;this.ED=null;this.m=0;
this.e=0;this.buffer=null;this.B=[];this.pU={};this.add={};this.dW=[];this.e4=4;this.Zl=null;this.aE=72;
this.Ou={};this.Y=[];this.xS=[];this.zT=!1;this.FT=[];this.V4=[];this.V9=[h7.G6("Work Path")];this.n7=[];
this.d5=null;this.Fe={classID:"CompList",list:{t:"VlLs",v:[]}};this.jr=[];this.YK=[];this.Mv=[];this.root=null;
this.Ns=null;this.$P=!1;this.ahr=!1;this.avI=!1;this.IL=!1;this._t=!1;this.px=!1;this.Pb=!1;this.jS=!1;
this.Ro=!1;this.YS=!1;this.gF=null;this.I8=null;this.r=null;this.Kl=[];this.Md=[];this.N={CQ:{},HJ:[],Av:[],Td:[],EV:[],_4:[],AE:null,CB:null,GI:null,Qm:null,xv:null,s8:null,hl:[],Rw:[],Uq:null};
this.history=[new dE([1,0],null)];this.Eu=0;this.s6=0;this.z9=0;this.Iy=0;this.Q=new e$(this);this.A5=null;
this.vp=null}h7.prototype.$i=function(K){if(K){if(K.length==30240){this.$i(null);return}this.pU.r1039=K;
var o=ICC.R(K.buffer),z=null,f=17,b,q;if(o==null){this.$i(null);return}var Y=o.header.spaceIn.toLowerCase(),c=JSON.stringify(o.tags.desc).toLowerCase();
try{z=ICC.U.profileName(o)}catch(es){}if(Y!="rgb "||z==null||c.indexOf("srgb")!=-1||Y=="rgb "&&this.add.fcmy==1){this.$i(null);
return}console.log("We got an ICC profile!",o,z);try{var $=ICC.U.sampleLUT(o,f)}catch(es){this.$i(null);
return}var E=$.slice(0),O=d.R(4),j=d.lt("rgbToRgbC"),A=j[2],R=j[3];for(var y=0;y<$.length;y+=3){O[0]=$[y]*255;
O[1]=$[y+1]*255;O[2]=$[y+2]*255;ICC.U.applyLUT(R,A,O,O);E[y]=O[0]/255;E[y+1]=O[1]/255;E[y+2]=O[2]/255}if(jK.YT){b=new jK.ok(f,f*f);
b.set(ICC.U.lutToRGBA8($,f));q=new jK.ok(f,f*f);q.set(ICC.U.lutToRGBA8(E,f))}this.A5=[K,o,f,$,b,E,q]}else{delete this.pU.r1039;
this.A5=null}};h7.prototype.ie=function(){return this.A5};h7.prototype.QI=function(){if(this.A5)return this.A5;
if(this.add.fcmy==1){if(this.vp==null){var K=d.lt("rgbToRgbC"),o=K[2],Y=K[3],c;if(jK.YT){c=new jK.ok(o,o*o);
c.set(ICC.U.lutToRGBA8(Y,o))}this.vp=[null,null,o,null,null,Y,c]}return this.vp}};h7.prototype.aog=function(){var K=this;
if(K.Q.v.join("")!="111"){K.Q.v=[1,1,1];K.px=!0}for(var y=0;y<K.B.length;y++){var o=K.B[y],Y=o.add.vmsk;
if(o.Mn()){var c=o.wm(K);if(c&&c.F&&c.F.Gt){c.F.Gt=!1;K.px=!0}}var z=o.ue();if(z&&z.Gt){z.Gt=!1;K.px=!0}if(Y){if(Y.Y.length!=0)Y.Y=[];
if(Y.gy.length!=0)Y.gy=[]}}};h7.prototype.qb=function(){var K=this;return K.r!=null||K.dK()[1].length!=0||K.Y.length>1};
h7.prototype.Jm=function(){var K=this.xS,o=[];for(var y=0;y<K.length;y++)o[y]=-1;var Y=this.root.children;
for(var y=0;y<Y.length;y++){var c=Y[y],z=c.a.add.artb;if(z==null)continue;var f=z.guideIndeces;f=f?f.v:[];
for(var $=0;$<f.length;$++)o[f[$].v]=c.index}return[JSON.parse(JSON.stringify(K)),o]};h7.prototype.tg=function(K){this.xS=JSON.parse(JSON.stringify(K[0]));
var o=K[1],Y=this.root.children;for(var y=0;y<Y.length;y++){var c=Y[y],z=c.a.add.artb;if(z==null)continue;
z.guideIndeces={t:"VlLs",v:[]}}for(var y=0;y<o.length;y++)if(o[y]!=-1)this.B[o[y]].add.artb.guideIndeces.v.push({t:"long",v:y})};
h7.prototype.au5=function(K){var o=this;if(K[0])o.add.lnk2=K[0];else delete o.add.lnk2;if(K[1])o.add.FEid=K[1];
else delete o.add.FEid;if(K[2])o.add.Patt=K[2];else delete o.add.Patt};h7.prototype.ain=function(K){var o=this,Y=[],c=[],z=[],g=null,H=null,i=null;
for(var y=0;y<K.length;y++){var f=K[y];if(f.add.SoLd){Y.push(f.add.SoLd.Idnt.v);c.push(f.add.SoLd.placed.v)}if(f.add.PtFl)z.push(f.add.PtFl.Ptrn.v.Idnt.v);
if(f.add.lmfx){for(var $=0;$<eF.nk.length;$++){var E=f.add.lmfx[eF.nk[$]].v;for(var b=0;b<E.length;b++)if(E[b].v.Ptrn){var q=E[b].v;
if(q.classID=="FrFX"&&q.PntT.v.FrFl!="Ptrn")continue;z.push(q.Ptrn.v.Idnt.v)}}}var O=f.add.vstk;if(O&&O.strokeStyleContent.v.classID=="patternLayer"){z.push(O.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var j=o.add.lnk2,A=o.add.FEid,R=o.add.Patt;
if(j){g=[];for(var y=0;y<j.length;y++)if(Y.indexOf(j[y].YH)!=-1)g.push(j[y]);if(g.length==0)g=null}if(A){H=[];
for(var y=0;y<A.length;y++)if(c.indexOf(A[y].id)!=-1)H.push(A[y]);if(H.length==0)H=null}if(R){i=[];for(var y=0;
y<R.length;y++)if(z.indexOf(R[y].id)!=-1)i.push(R[y]);if(i.length==0)i=null}return[g,H,i]};h7.prototype.Yd=function(K){var o=this,Y=o.root.w3(K==null?o.Y[0]:K),c=!1;
while(Y.parent!=null){c=c||Y.a.dq(31);Y=Y.parent}return c};h7.prototype.oy=function(){var K=this.Kl,o=this.Kl.length;
if(o!=0&&K[o-1].name=="Quick Mask")return K[o-1]};h7.prototype.bu=function(){return this.MG==a9.sH("% |/!)")||this.MG==a9.I2("gP")};
h7.prototype.Y4=function(K){var o=this.add.artd;if(K!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:K},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};h7.prototype.qj=function(K){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(K)==-1)this.add.FEid.push(K)};
h7.prototype.YV=function(K){var o=this.add.FEid.indexOf(K);this.add.FEid.splice(o,1);if(this.add.FEid.length==0)delete this.add.FEid};
h7.prototype.W=function(K){if(K==null)K=new hD(0,0,this.m,this.e);if(this.gF==null)this.gF=K;else this.gF=this.gF.Bb(K)};
h7.prototype.anQ=function(K){return this.gF!=null};h7.prototype.eT=function(K){var o=this.B[K],Y=this.root.w3(K);
if(Y==null)return!1;if(o.f$()||Y.parent.children.indexOf(Y)==0)return!1;return!0};h7.ac0=function(K){if(K.add.lnk2)for(var y=0;
y<K.add.lnk2.length;y++){var o=K.add.lnk2[y].YH;K.add.lnk2[y].YH=h7.I_()+o.slice(8);for(var Y=0;Y<K.B.length;
Y++){var c=K.B[Y].add.SoLd;if(c&&c.Idnt.v==o)c.Idnt.v=K.add.lnk2[y].YH}}};h7.prototype.St=function(K,o,Y){K.sort(function(j,A){return j-A});
var top=K[K.length-1],c=this.B.slice(0),z=this.Y.slice(0),f=[],$=[];for(var y=0;y<this.B.length;y++){if(K.indexOf(y)!=-1)$.push(this.B[y]);
else f.push(this.B[y])}this.$p($);this.Y=[];var E=this.root._U(this,!0);if(o)E=E.wu(o);if(Y)E=E.Bb(Y);
if(E.xf())E=new hD(0,0,100,100);var b=new hD(-E.x,-E.y,this.m,this.e),q=new Uint8Array(fv.WD("PSD").vc(this,0,0,[!0,!1]));
this.$p(c);this.Y=z;var O=new h7(this.B[top].getName());fv.WD("PSD").MW(q.buffer,O);delete O.add.artd;
O.FT=[];O.$p(O.B);O.tg([[],[]]);h7.ac0(O);m.XX.Am(O,E);O.W();O.Uj();O.Gl();return[O,E,f,top]};h7.prototype.abU=function(K,o,Y){var c=this.St(K),z=c[0],f=c[1],$=c[2],top=c[3],E;
if(Y=="jpg")E=new Uint8Array(fv.WD("JPG").vc([[z.Gl().buffer]],z.m,z.e,[80]));else E=new Uint8Array(fv.WD("PSD").vc(z,null,null,[!0,!1]));
if(o)$=this.B.slice(0);var b=this.o3(E,z.name,f.x,f.y);if(top==this.B.length-1)$.push(b);else $.splice(o?top+1:top-K.length+1,0,b);
this.$p($);this.Y=[$.indexOf(b)]};h7.I_=function(K){if(K==null)K="";var o="";while(o==""||o==K){o="";
for(var y=0;y<8;y++)o+=Math.floor(Math.random()*16).toString(16)}return o};h7.prototype.AG=function(K){if(K==null)return;
if(this.add.Patt==null)this.add.Patt=[];var o=this.add.Patt;for(var y=0;y<o.length;y++)if(o[y].id==K.id)return;
o.push(K)};h7.prototype.o3=function(K,o,Y,c,z,f,$){if(this.add.lnk2==null)this.add.lnk2=[];var E=null,g=!1;
for(var y=0;y<this.add.lnk2.length;y++)if(d.BV(K,this.add.lnk2[y].raw)){E=this.add.lnk2[y].YH;break}if(E==null){var b=fv.sR(K.buffer);
E=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f";var q=new S.oX;q.YH=E;q.Gm=b=="psd"?"8BIM":"    ";q.oF=o+"."+b;
q.ut=b=="psd"?"8BPB":"    ";q.open=0;q.raw=K;q.type="liFD";q.zK=2;this.add.lnk2.push(q)}var O=this.ai(E,null,null,null,f,$),j=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f",A=this.Uu(),R=new hD;
A.vd(o);if(O!=null){var H=Y==null,i=0,h=0;if(Y==null)Y=c=0;var x=this.m,F=this.e;if(z){i=z.x;h=z.y;x=z.m;
F=z.e}R=O.W3[1].clone();R.offset(i+Y,h+c);var X=Math.max(R.m/x,R.e/F),g=z!=null&&X>1.0001;if(g){R.m=Math.round(R.m/X);
R.e=Math.round(R.e/X)}else if(z!=null&&fv.sR(K.buffer)=="pdf"&&this.aE!=144){var X=144/this.aE;R.m=Math.round(R.m/X);
R.e=Math.round(R.e/X);g=!0}if(g||H){R.x=Math.round(i+(x-R.m)/2);R.y=Math.round(h+(F-R.e)/2)}if(g1==0){A.rect=R.clone();
A.buffer=d.R(R.Z()*4);if(!g)d.kO(O.W3[0],A.buffer)}}var V=O?O.W3[1]:new hD;A.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:E},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:j},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:d.qN.R(V)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:V.m},Hght:{t:"doub",v:V.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:O?O.aE:72}}};
var U=d.M.Yq(R).z;A.add.SoLd.Trnf=m.OB.c5(U);A.add.SoLd.nonAffineTransform=m.OB.c5(U);if(g)A.Mc(this,!1);
return A};h7.prototype.azG=function(K,o,Y){var c=d.oN(K,o);c.save();c.scale(K/this.m,o/this.e);this.root.awp(this,c,Y,new hD(0,0,K,o));
c.restore();return c.getImageData(0,0,K,o).data.buffer};h7.prototype.Gl=function(K){if(K!=null){this.W();
this.Uj(K);var o=this.buffer;if(jK.YT)this.Ns.get(o);else o=o.slice(0);this.W();this.Uj();return o}if(this.gF){this.Uj();
this.gF=null}if(jK.YT&&this.I8){this.Ns.get(this.buffer);this.I8=null;this.Pb=!0}return this.buffer};
h7.prototype.apY=function(){for(var y=0;y<this.B.length;y++)this.B[y].a0w();this.W()};h7.prototype.apt=function(){for(var y=0;
y<this.B.length;y++)if(this.B[y].add.lmfx)this.B[y].DM.w1=!0};h7.prototype.Zj=function(){var K=this.pU.r1044;
if(K==null){K=this.pU.r1044=new Uint8Array(4);var o=0;for(var y=0;y<this.B.length;y++)o=Math.max(o,this.B[y].add.lyid);
_.oM(K,0,o)}var Y=_.s(K,0);_.oM(K,0,Y+1);return Y+1};h7.prototype.WM=function(K,o,Y){if(K==null)K=!0;
var c=this;if(c.Md.length!=0)return!0;if(c.Y.length!=1){if(K)alert(c.Y.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.ta(K,o,Y)};h7.prototype.ta=function(K,o,Y){if(K==null)K=!0;if(o==null)o=!1;var c=this;
if(c.Md.length!=0)return!0;for(var y=0;y<c.Y.length;y++){var z=c.B[c.Y[y]],f=o||z.xO<=0;if(z.add.lsct!=null&&z.add.lsct!=eo.vY&&z.xO!=1){if(K)alert(ca.get([15,7,2]));
return!1}if(f&&!z.Go()){if(K)alert(ca.get([15,7,2]));return!1}if(f&&z.add.TySh){return this.aBP(K,[15,7,3],Y)}if(f&&z.add.SoLd){return this.aBP(K,[15,7,4],Y)}if(z.dq(1)||c.Yd(c.Y[y])){if(K)alert(ca.get([6,57,0]));
return!1}}return!0};h7.prototype.aBP=function(K,o,Y){if(K&&typeof K=="object"){var c=new h1(w.E.L);c.data={d:w.I.Gg,XQ:"confirm"};
c.data.b=ca.get(o)+". "+ca.get([6,8])+"?";var z=K;c.data.gb=function(){var f=new h1(w.E.hP,!0);f.data={Rk:"rasterizeLayer",jU:{classID:"rasterizeLayer",null:b0.x2("Lyr",!0)}};
z.c(f)};K.c(c);return!1}if(K)alert(ca.get(o));return!1};h7.prototype.ao3=function(K){var o=this.root.w3(K);
if(o.parent)return o.a.KL()&&this.ao3(o.parent.index);else return o.a.KL()};h7.prototype.pH=function(K){var o=this;
if(K){var Y=0;for(var y=0;y<o.Y.length;y++)if(o.B[o.Y[y]].add.artb)Y++;if(Y>1)return-1}if(o.add.artd&&o.Y.length!=0){var c=o.root.w3(o.Y[0]);
while(c.parent.parent)c=c.parent;if(c.a.add.artb)return c.index}return-1};h7.prototype.ame=function(){var K=this.B[this.Y[0]];
if(K.xO<=0&&!K.rect.wR(this.r.rect)){alert("Selected area is empty.");return!1}if(this.Y.length==1&&this.r){var o=d.R(this.r.channel.length);
d.zv(K.buffer,K.rect,o,this.r.rect);d.yC(this.r.channel,o);if(d.Jy(o,0)){alert("Selected area is empty.");
return!1}}return!0};h7.prototype.S3=function(){if(this.pU["r"+1037]==null)this.zL(30);return _.LM(this.pU["r"+1037],0)};
h7.prototype.zL=function(K){if(this.pU["r"+1037]==null)this.pU["r"+1037]=new Uint8Array(4);if(_.LM(this.pU["r"+1037],0)==K)return;
_._F(this.pU["r"+1037],0,K);this.apt()};h7.prototype.qv=function(){if(this.pU["r"+1049]==null)this.C2(30);
return _.LM(this.pU["r"+1049],0)};h7.prototype.C2=function(K){if(this.pU["r"+1049]==null)this.pU["r"+1049]=new Uint8Array(4);
if(_.LM(this.pU["r"+1049],0)==K)return;_._F(this.pU["r"+1049],0,K);this.apt()};h7.prototype.yo=function(K){if(this.add.lnk2==null)return null;
for(var y=0;y<this.add.lnk2.length;y++)if(this.add.lnk2[y].YH==K)return this.add.lnk2[y];return null};
h7.prototype.axL=function(K){var o=this.yo(K);if(o==null)return!1;var Y=fv.sR(o.raw.buffer);if(Y==null)return!1;
if(fv.WD(Y)!=null||Y=="psd")return!0;return!1};h7.prototype.ai=function(K,o,Y,c,z,f){var $=this.yo(K);
if($==null)return null;$.Gl(o,Y,c,z,f);if($.W3)return $};h7.prototype.a5L=function(){var K=this.m,o=this.e;
if(jK.YT&&this.Ns==null)this.Ns=new jK.ok(K,o,!0);if(this.buffer==null||this.buffer.length!=K*o*4||jK.YT&&(this.Ns.m!=K||this.Ns.e!=o)){this.buffer=d.R(K*o*4);
if(this.Ns)this.Ns.delete();if(jK.YT)this.Ns=new jK.ok(K,o,!0)}};h7.prototype.ark=function(){this.a5L();
if(jK.YT){this.Ns.set(this.buffer)}};h7.prototype.Uj=function(K){if(g1!=0)throw"redrawing in vector mode";
var o=this.m,Y=this.e,c=new hD(0,0,o,Y),z=this.Lt?c:c.wu(this.gF);this.a5L();if(z.xf())return;if(!z.BV(c)){if(!jK.YT){var f=d._L(z.Z()*4);
d.iF(f,z,this.buffer,c)}if(jK.YT){jK.EW(this.Ns,z);jK.lF(0)}}else{if(jK.YT){this.Ns.set(null)}else{this.buffer.fill(0)}}var $=Date.now(),E=jK.YT?this.Ns:this.buffer;
if(K==null)K=1e9;var b=this.root.children;for(var y=0;y<b.length;y++){var q=b[y].a;if(q.KL()&&q.add.artb&&this.add.artd){var O=q.Yv(),j=z.wu(O),A=q.bm();
if(A!=0){if(jK.YT){jK.EW(E,j);jK.lF(A);jK.lF(A)}else d.abA(E,c,j,A)}}}this.root.Wo(E,c,z,this,[],K);
this.I8=this.gF.clone()};h7.prototype.Uu=function(K){var o=new S;o.rect=new hD(0,0,0,0);o.buffer=d.R(1);
o.add.luni=new jc(0,0);if(K!=!0)o.add.lyid=this.Zj();o.add.lsct=eo.vY;o.add.lclr=0;o.add.fxrp=new jc(0,0);
return o};h7.prototype.uR=function(K){var o=this.Uu(K);o.vd("</Layer group>");o.add.lsct=eo.iE;o.Gh=24;
return o};h7.prototype.FB=function(){return this.Eu!=this.s6};h7.prototype.iy=function(K){while(this.history.length>this.Eu+1)this.history.pop();
if(this.s6>this.Eu)this.s6=-1;if(K.f.id!=m.oa){this.IL=!0;if(this.Fe.lastAppliedComp){delete this.Fe.lastAppliedComp;
this.Pb=!0}}this.history.push(K);this.Eu++;this.Pb=!0;var o=es.YP()?60:30,Y=0;for(var y=this.history.length-1;
y>=0;y--){var c=this.history[y];if(c.Fk)continue;Y++;if(Y==o){this.Eu-=y;this.history=this.history.slice(y);
break}}};h7.prototype.VE=function(){if(this.Eu!=this.history.length-1)return null;return this.history[this.history.length-1]};
h7.prototype.FK=function(K,o,Y,c){if(K==null)K=!1;var z=o!=null?[o]:this.Y.slice(0);if(c){var f=[];for(var y=0;
y<z.length;y++){var $=this.B[z[y]],E=$.RY;if($.kw&&E!=0&&f.indexOf(E)==-1)f.push(E)}if(f.length!=0)for(var y=0;
y<this.B.length;y++){var $=this.B[y],E=$.RY;if($.kw&&E!=0&&f.indexOf(E)!=-1&&z.indexOf(y)==-1)z.push(y)}}var b=[];
for(var y=0;y<z.length;y++){var q=this.wW(z[y],K);for(var O=0;O<q.length;O++)if(b.indexOf(q[O])==-1)b.push(q[O]);
if(Y){var h4=this.root.w3(z[y]);while(h4.parent!=null&&h4.parent.parent!=null){h4=h4.parent;if(b.indexOf(h4.index)==-1){b.push(h4.index,h4.Ag)}}}}return b};
h7.prototype.be=function(K,o,Y){var c=this,z=c.FK(!1,K,null,Y);z.sort(function(F,X){return F-X});var f={};
for(var $=0;$<c.B.length;$++){var E=c.B[$].getName();f[E]=!0}var b=[];for(var y=0;y<z.length;y++){var q=c.B[z[y]].clone(),i,h;
q.add.lyid=c.Zj();q.add.lspf=0;if(q.Mn()){var O=q.wm(c),j=h7.a34(O);c.qj(j);q.add.SoLd.placed.v=j.id}else if(q.add.SoLd){var A=q.add.SoLd.placed.v;
q.add.SoLd.placed.v=h7.I_(A.slice(0,8))+A.slice(8)}q.WG(c);var R=q.getName(),g=R.length;while(48<=R.charCodeAt(g-1)&&R.charCodeAt(g-1)<=57)g--;
var H=parseInt(R.slice(g));if(isNaN(H)){if(R.endsWith(" copy")){H=1;i=R.slice(0,R.length-5)}else{H=0;
i=R}}else if(R.slice(0,g).endsWith(" copy ")){H=H;i=R.slice(0,g-6)}else{H=0;i=R}H++;while(!0){h=i+" copy"+(H==1?"":" "+H);
if(f[h]==null)break;H++}var x=z.indexOf(this.root.w3(z[y]).parent.index)!=-1;if(R=="Background"&&c.B.length==1)h="Layer 1";
if(o!=!0&&!x)q.vd(h);f[h]=!0;b.push(q)}return b};h7.a34=function(K){return{id:h7.I_(K.id.slice(0,8))+K.id.slice(8),buffer:K.buffer.slice(0),rect:K.rect.clone(),F:K.F?K.F.clone():null}};
h7.aaJ=function(K){return{id:K,rect:new hD,buffer:d.R(1),F:new S.tp}};h7.G6=function(K,o){if(o==null)o={vmsk:new S.kZ};
if(o.vogk==null){o.vogk=[];var Y=d.j.rD(o.vmsk.$);for(var c=0;c<Y;c++)o.vogk.push(d.SU._L())}return{name:K,UQ:0,add:o}};
h7.prototype.dK=function(K){var o=[],Y=[],c=this;for(var y=1;y<c.V9.length;y++){var z=c.V9[y];z.UQ=-1-y;
o.push(z);if(c.n7.indexOf(y)!=-1)Y.push(o.length-1)}if(c.V9[0].add.vmsk.$.length>2){var z=c.V9[0];z.UQ=-1;
o.push(z);if(c.n7.indexOf(0)!=-1)Y.push(o.length-1)}var f=c.d5==null;if(f)c.d5=[];for(var y=c.Y.length-1;
y>=0;y--){var $=c.Y[y],E=c.B[$],b=E.add.TySh;if(E.add.vmsk!=null){var z=h7.G6("\""+E.getName()+"\" Shape Path",E.add);
z.UQ=$;o.push(z);if(f&&(E.bw||E.sB()))c.d5.push($);if(c.d5.indexOf($)!=-1)Y.push(o.length-1)}if(K!=!0&&b&&b.add&&d.qN.B_(b.PK)){var z=h7.G6("\""+E.getName().slice(0,10)+"..\" Text Path",b.add);
z.UQ=1e6+c.Y[y];o.push(z);Y.push(o.length-1)}}if(Y.length==0&&K){c.V9[0].UQ=-1;c.n7=[0];Y.push(o.length);
o.push(c.V9[0])}return[o,Y]};h7.prototype.wW=function(y,K){var o=[],h4=this.root.w3(y);if(h4)h4.qM(o,K);
return o};h7.prototype.t4=function(){this.root.zU(this,new hD(0,0,this.m,this.e))};h7.prototype.$p=function(K){for(var y=0;
y<this.B.length;y++){var o=this.B[y];if(K.indexOf(o)==-1){o.DM.ajN();o.W()}}var Y=0;for(var y=0;y<K.length;
y++)if(K[y].add.artb)Y++;this.Y4(Y);this.B=K.slice(0);this.Sm()};h7.prototype.Sm=function(){var K=this.B,o=K.length;
this.root=new jk;var Y=this.Uu(!0);Y.YF="pass";Y.add.lsct=eo.bl;Y.vd("");var c=this.uR(!0),z=[c];for(var y=0;
y<o;y++)z.push(K[y]);z.push(Y);this.root.apV(z,0,0);if(this.Y.length==0)this.Y=[o-1]};h7.prototype.vw=function(){if(this.Y.length!=1)return;
var K=this.root.w3(this.Y[0]);while(K.parent!=null){var o=K.parent.a;o.add.lsct=eo.bl;K=K.parent}this.px=this.amQ=!0};
h7.prototype.aww=function(){this.Sm();var K=[this.root],ht=0;while(K.length!=0){var top=K.pop();ht++;
if(top.a.add.lsct==eo.bl)for(var y=0;y<top.children.length;y++)K.push(top.children[y])}if(ht>1e3){var o=this.root.children;
for(var y=0;y<o.length;y++)if(o[y].a.add.lsct==eo.bl)o[y].a.add.lsct=eo.g5}};h7.Hr=function(K,o,Y,c,z,f,$,E){if(E==null)E="sRGB IEC61966-2.1";
var b={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:c},artboard:{t:"bool",v:f},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:K*72/Y}},Hght:{t:"UntF",v:{type:"#Rlt",val:o*72/Y}},Rslt:{t:"UntF",v:{type:"#Rsl",val:Y}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:z}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:E}}}};
if(z=="Clr")b.Nw.v.FlCl={t:"Objc",v:$};return{Rk:"make",jU:b}};h7.aBb=function(K,o){var Y=0,c=0,z=72,f=o.a5Q,$=K.preset&&K.preset.v=="Clipboard";
if($){Y=f.m;c=f.e}else{Y=K.Wdth.v.val;c=K.Hght.v.val;z=K.Rslt.v.val;Y=Math.round(Y*z/72);c=Math.round(c*z/72)}var E=new h7((K.Nm?K.Nm.v:ca.get([11,7]))+".psd");
E.m=Y;E.e=c;E.aE=z;var b=K.Fl?K.Fl.v.Fl:"Wht";if(K.artboard&&K.artboard.v){var q=E.Uu();q.vd(ca.get([1,16,0])+" 1");
q.add.lsct=eo.bl;q.HL(new hD(0,0,Y,c));q.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[b]};
if(b=="Clr")q.add.artb.Clr={t:"Objc",v:d.H.eD(d.H.CK(K.FlCl.v))};q.YF="pass";q.Gh=24;var O=E.Uu();O.vd("Layer 1");
E.$p([E.uR(),O,q]);E.Y4(1);E.Y=[1]}else{var j=E.Uu(),A=0;j.vd("Background");E.$p([j]);j.add.lspf=1<<2;
if(b=="Clr"){A=d.H.CK(K.FlCl.v);A=255<<24|Math.round(A.J)<<16|Math.round(A.A)<<8|Math.round(A.o)}else{var R=o.YQ;
R=(R&255)<<16|(R>>>8&255)<<8|R>>>16;A={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|R}[b]}j.rect=new hD(0,0,Y,c);
j.buffer=d.R(Y*c*4);d.nz(j.buffer,A)}E.buffer=d.R(Y*c*4);var g=K.profile;if(g){var H={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[g.v];
if(H)E.$i(fv.ZK.get(H))}return E};h7.prototype.aBg=function(){var K=this,o=K.add.arts=[];o.push({S4:"Artboard 1",BA:[0,0,K.m,K.e],Y:!0});
for(var y=0;y<K.B.length;y++){var Y=K.B[y],c=Y.rect;if(Y.f$()&&Y.add.vmsk){var z=K.Uu();K.B.splice(y,0,z);
z.vd("<Clipping Path>");z.UR=!0;z.add.vogk=Y.add.vogk;delete Y.add.vogk;z.add.vmsk=Y.add.vmsk;delete Y.add.vmsk;
z.add.vstk=eF.oc.Ta();z.add.SoCo=JSON.parse(eF.NF[eF.order.indexOf("SoFi")]);console.log("mask here!")}if(Y.add.SoLd||Y.add.TySh||Y.add.vmsk||c.xf())continue;
var f=c.m,$=c.e,E=d.Bc(Y.buffer,f,$)?"JPG":"PNG";if(f*$<700*700)E="PNG";var b=fv.WD(E).vc([[Y.buffer.buffer]],f,$);
K.B[y]=K.o3(new Uint8Array(b),"<Image>",0,0)}};function e$(K){this.l_=K;this.O=0;this.Ql=1;this.w=new jc(0,0);
this.vI=new jc(0,0);this.Rs=0;this.v=[1,1,1];this.ay=0;this.k6=new hD(0,0,1,1);this.axR=new hD(0,0,K.m,K.e);
this.qE=null;this.Ys=null;this.Iv=new Uint32Array(0);this.h9=null;this.l6=null;this.Fl=d.R(0);this.YJ=null;
this.gk=null}e$.prototype.HI=function(K){var o=new dF,Y=this.k6,c=this.l_,z=K?this.Ql:this.O,f=K?this.vI:this.w,$=Math.round((Y.m-c.m*z)/2+f.x),E=Math.round((Y.e-c.e*z)/2+f.y);
o.translate(-$,-E);o.scale(1/z,1/z);var b=c.m/2,q=c.e/2;o.translate(-b,-q);o.rotate(this.Rs);o.translate(b,q);
return o};e$.prototype.ayL=function(K){var o=this.k6,Y=this.l_,c=Math.atan2(-K.J,K.g),z=Y.m/2,f=Y.e/2;
K.translate(-z,-f);K.rotate(-c);K.translate(z,f);var $=1/K._8();K.scale($,$);var E=-K.B3,b=-K.Z7,q=Math.round(E-(o.m-Y.m*$)/2),O=Math.round(b-(o.e-Y.e*$)/2);
if(Math.abs($-Math.round($))<1e-6)$=Math.round($);this.Rs=c;this.O=$;this.w=new jc(q,O)};e$.prototype.oh=function(K,o){var Y=this.HI();
return Y.qc(new jc(K,o))};e$.prototype.Hc=function(K,o){var Y=this.HI();Y.oD();return Y.qc(new jc(K,o))};
function eF(){}eF.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");eF.nk="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
eF.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];eF.alm=["DrSh","IrSh","SoFi","GrFl","FrFX"];
eF.u4=["Clr"];eF.Eo="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");eF.Jo=["Ptrn","Angl","Scl","Algn","phase"];
eF.tG={$k:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aqi:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",arl:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",awM:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",b6:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
eF.tG.$k="\"Clr\": "+eF.tG.$k;eF.tG.H="\"Grad\":"+eF.tG.aqi+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
eF.tG.b6="\"Ptrn\":"+eF.tG.b6+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
eF.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
eF.NF=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+eF.tG.$k+","+eF.tG.H+","+eF.tG.b6+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+eF.tG.$k+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+eF.tG.H+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+eF.tG.b6+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
eF.H={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
eF.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],W5:["SClr","GrFl","Ptrn"],a16:[[13,0],[12,37],[12,62]]};
eF.xJ={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aBe:["SrcC","SrcE"],a9r:[[19,5,1],[12,69]]};eF.Xz={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],awd:["SfBL","PrBL","Slmt"],a6_:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
eF.oc={Gu:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Nv:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],OV:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+eF.tG.$k+"}")},strokeStyleResolution:{t:"doub",v:72}},Ta:function(K,o){var Y=JSON.parse(eF.oc.ajg);
if(K)Y.fillEnabled.v=!0;if(o)Y.strokeEnabled.v=!0;return Y},bk:function(K,o,Y){if(o==null)o={};if(Y==null)Y=1;
var c=K.strokeStyleLineDashSet.v,z=o.lwidth=K.strokeStyleLineWidth.v.val*Y;o.mlimit=K.strokeStyleMiterLimit.v;
o.doff=K.strokeStyleLineDashOffset.v.val;o.ljoin=eF.oc.join.indexOf(K.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
o.lcap=eF.oc.Gu.indexOf(K.strokeStyleLineCapType.v.strokeStyleLineCapType);o.sal=eF.oc.Nv.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
o.dash=[];for(var y=0;y<c.length;y++)o.dash.push(c[y].v.val*z);if(o.dash.length==1&&o.dash[0]==0)o.dash=[];
return o},write:function(K,o,Y){var c=o.lwidth,z=o.mlimit,f=o.dash,$=o.doff,E=o.ljoin,b=o.lcap;if(c!=null)c=K.strokeStyleLineWidth.v.val=Math.max(.4,c*Y);
else c=K.strokeStyleLineWidth.v.val;if(z!=null)K.strokeStyleMiterLimit.v=z;if(f!=null)K.strokeStyleLineDashSet.v=eq.XP(f,Y/c);
if($!=null)K.strokeStyleLineDashOffset.v.val=$;if(E!=null)K.strokeStyleLineJoinType.v.strokeStyleLineJoinType=eF.oc.join[E];
if(b!=null)K.strokeStyleLineCapType.v.strokeStyleLineCapType=eF.oc.Gu[b]}};eF.oc.ajg=JSON.stringify(eF.oc.default);
eF.a9i={bk:function(K,o,Y){if(o==null)o={};var c=o.lwidth=K.amy*Y,z=K.Q4.slice(0);for(var y=0;y<z.length;
y++)z[y]*=c;o.mlimit=K.abf;o.doff=K.aqZ;o.ljoin=K.a7o;o.lcap=K.afg;o.sal=K.asA;o.dash=z;if(o.dash.length==1&&o.dash[0]==0)o.dash=[];
return o},write:function(K,o,Y){var c=o.lwidth*Y,z=o.mlimit,f=o.dash.slice(0),$=o.doff,E=o.ljoin,b=o.lcap;
K.amy=c;K.abf=z;K.Q4=f;for(var y=0;y<f.length;y++)f[y]*=Y/c;K.aqZ=$;K.a7o=E;K.afg=b;K.asA=1}};eF.WE=function(K){var o=K.strokeEnabled.v,Y=K.strokeStyleContent.v;
return o?{ut:1+eF.oc.OV.indexOf(Y.classID),fe:Y}:{ut:0}};eF.Zz=function(K,o){var Y=o.ut;K.strokeEnabled.v=Y!=0;
if(Y!=0){K.strokeStyleContent.v=o.fe;o.fe.classID=eF.oc.OV[Y-1]}};eF.fN=[{classID:"null",Clr:JSON.parse(eF.NF[5]).Clr},{classID:"null",Grad:JSON.parse(eF.NF[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(eF.NF[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var eq={};eq.KI=function(K,o){function Y(K,A){if(K==null||!K.masterFXSwitch.v)return null;var R=K[A].v,g;
if(R.length!=0){g=R[0].v;if(!g.enab.v)g=null}return g}var c=o.SoCo,z=o.GdFl,f=Y(K,"solidFillMulti"),$=Y(K,"gradientFillMulti");
if(f==null&&$==null)return[c,z];var E=eq.axH;if(c&&f&&$==null){var b=JSON.parse(JSON.stringify(c));b.Clr.v=E(f.Clr.v,c.Clr.v,f);
return[b,null]}if(z&&f&&$==null){var q=JSON.parse(JSON.stringify(z)),O=q.Grad.v.Clrs.v;for(var y=0;y<O.length;
y++){var j=O[y].v.Clr;j.v=E(f.Clr.v,j.v,f)}return[null,q]}if(c&&$){var q=JSON.parse(JSON.stringify($)),O=q.Grad.v.Clrs.v;
for(var y=0;y<O.length;y++){var j=O[y].v.Clr;j.v=E(j.v,c.Clr.v,$)}return[null,q]}return[f,$]};eq.fK={fH:d.R(4),NM:d.R(4),o:new hD(0,0,1,1)};
eq.axH=function(K,o,Y){var c=jw.Ef(Y.Md.v.BlnM),z=Y.Opct.v.val/100,f=eq.fK;K=d.H.CK(K);o=d.H.CK(o);f.fH[0]=K.o;
f.fH[1]=K.A;f.fH[2]=K.J;f.fH[3]=255;f.NM[0]=o.o;f.NM[1]=o.A;f.NM[2]=o.J;f.NM[3]=255;d.l.To(c,f.fH,f.o,f.NM,f.o,f.o,z);
return{classID:"RGBC",Rd:{t:"doub",v:f.NM[0]},Grn:{t:"doub",v:f.NM[1]},Bl:{t:"doub",v:f.NM[2]}}};eq.a47=function(K,o,Y){var c=K;
K=K.slice(0);var z=jw.iu[jw.$R.indexOf(o.Md.v.BlnM)],f=d.H.CK(o.Clr.v),$=4278190080|Math.round(f.J)<<16|Math.round(f.A)<<8|Math.round(f.o),E=d.R(Y.Z()*4);
d.nz(E,$);d.l.To(z,E,Y,K,Y,Y,o.Opct.v.val/100);for(var y=0;y<K.length;y+=4)K[y+3]=c[y+3];return K};eq.TY=function(K,o){var Y=["Sz","blur","Sftn","Dstn"];
for(var y=0;y<eF.order.length;y++){var c=eF.order[y],z=K[eF.nk[y]].v;for(var f=0;f<z.length;f++){var $=z[f].v;
for(var E=0;E<Y.length;E++){var b=$[Y[E]];if(b){var q=b.v.val,O=q;O=Math.max(q==0?0:1,O*o);if(c=="ChFX")O=Math.min(O,250);
if(c=="ebbl"){if(Y[E]=="blur")O=Math.min(O,250);if(Y[E]=="Sftn")O=Math.min(O,16)}b.v.val=Math.round(O)}}if(c=="ebbl"||c=="patternFill"||c=="FrFX")if($.Ptrn&&$.Scl)$.Scl.v.val=Math.max(1,Math.min(1e3,$.Scl.v.val*o))}}};
eq.a9Z=function(K,o,Y){var c=new hD(-.5,-.5,1,1);for(var y=0;y<eF.order.length;y++){var z=eF.order[y],f=K[eF.nk[y]].v;
for(var $=0;$<f.length;$++){var E=f[$].v,j;if(!E.enab.v)continue;var b=E.blur?E.blur.v.val+1:0,q=E.Ckmt?E.Ckmt.v.val/100:0,O=Math.round(b*q);
if(z=="DrSh"||z=="IrSh"&&Y){j=new hD(-.5,-.5,1,1);j.VC(b,b);eq.CX(j,E,o,0)}if(z=="St3D"){j=new hD(-.5,-.5,1,1);
eq.CX(j,E,o,Math.PI,"Angl")}if(z=="OrGl"||z=="IrGl"&&Y){j=new hD(-.5,-.5,1,1);j.VC(b,b)}if(z=="FrFX"){var A=eq.D6(E),R=A[1];
if(Y)R=Math.max(A[0],R);j=new hD(-.5,-.5,1,1);j.VC(Math.ceil(R),Math.ceil(R))}if(z=="ebbl"){var b=E.blur.v.val,g=E.bvlS.v.BESl;
if(g=="Embs"||g=="PlEb")b/=2;var H=["OtrB","InrB","Embs","PlEb","strokeEmboss"],i=["SfBL","PrBL","Slmt"],h=["In","Out"],x=E.bvlT.v.bvlT!="SfBL"?b:b*.43,F=Math.round(b);
j=new hD(-F-1,-F-1,2*F+2,2*F+2)}if(Y&&z=="ChFX"){j=new hD(-.5,-.5,1,1);j.VC(b,b);var X=j.clone();eq.CX(j,E,o,0);
eq.CX(X,E,o,Math.PI);j=j.Bb(X)}if(j)c=c.Bb(j)}}if(c.x!=Math.ceil(c.x)){c.x=Math.ceil(c.x);c.m-=1}if(c.y!=Math.ceil(c.y)){c.y=Math.ceil(c.y);
c.e-=1}c.m=Math.floor(c.m);c.e=Math.floor(c.e);return c};eq.D6=function(K){var o=0,Y=0,c=K.Styl.v.FStl,z=K.Sz.v.val;
if(c=="OutF")Y=z;if(c=="InsF")o=z;if(c=="CtrF")o=Y=z/2;return[o,Y]};eq.aby=function(K){if(jK.YT&&K.cq==null){K.cq=new jK.ok(K.z2.m,K.z2.e);
K.cq.set(K.y3);delete K.y3;if(K.EY){K.mU=new jK._X(K.z2.m,K.z2.e);K.mU.set(K.EY);delete K.EY}if(K.mv){K.pX=new jK._X(K.z2.m,K.z2.e);
K.pX.set(K.mv);delete K.mv}}};eq.and=function(K){if(K.cq)K.cq.delete();if(K.mU)K.mU.delete();if(K.pX)K.pX.delete()};
eq.als=function(K){if(K.all==null)return;for(var y=0;y<K.all.length;y++){eq.and(K.all[y])}};eq.a2Q=function(K,o,Y,c,z,f){var $=eq.c8(Y,c,K,o,z,f);
for(var y=0;y<$.all.length;y++)eq.aby($.all[y]);return $};eq.ank=function(K){for(var y=0;y<eF.order.length;
y++){var o=eF.order[y],Y=eF.nk[y],c=K[Y].v;for(var z=0;z<c.length;z++){var f=c[z].v;if(f.enab.v&&["patternFill","GrFl","SoFi"].indexOf(o)==-1)return!0}}return!1};
eq.c8=function(K,o,Y,c,z,f){if(f==null)f=c;var $=0,E=0;for(var y=0;y<eF.order.length;y++){var b=eF.order[y],q=eF.nk[y],O=K[q].v;
for(var j=0;j<O.length;j++){var A=O[j].v;if(b=="DrSh"&&A.enab.v&&A.Ckmt.v.val>0&&A.blur.v.val>0)$=Math.max($,Math.ceil(A.Ckmt.v.val*A.blur.v.val/100));
if(b=="OrGl"&&A.enab.v&&A.Ckmt.v.val>0&&A.blur.v.val>0&&A.GlwT.v.BETE=="SfBL")$=Math.max($,Math.ceil(A.Ckmt.v.val*A.blur.v.val/100));
if(b=="OrGl"&&A.enab.v&&A.blur.v.val>0&&A.GlwT.v.BETE=="PrBL")$=Math.max($,A.blur.v.val);if(b=="FrFX"&&A.enab.v&&A.Sz.v.val>0){if(A.Styl.v.FStl=="OutF")$=Math.max($,A.Sz.v.val);
if(A.Styl.v.FStl=="CtrF")$=Math.max($,Math.ceil(A.Sz.v.val/2));E=Math.max(E,eq.D6(A)[1])}}}var R=new eq.IT(Y,c,$,eq.ank(K)),g=-c.x,H=-c.y,i={type:{},all:[]};
for(var h=0;h<eF.order.length;h++){var b=eF.order[h],q=eF.nk[h];i.type[b]=[];for(var x=K[q].v.length-1;
x>=0;x--){var F=K[q].v[x].v,Z;if(!F.enab.v)continue;var X=F.blur?F.blur.v.val:0,V=F.Ckmt?F.Ckmt.v.val/100:0,U=X*V;
if(b=="St3D"){var T=Math.max(1e-4,1-F.Srnk.v.val/100),n=2,hW=0;function v(P,ee,F){var ej=F.Angl.v.val;
ej*=Math.PI/180;var B=F.Dstn.v.val,hc=Math.cos(ej)*B,jl=-Math.sin(ej)*B,c9=T+ee*(1-T),ds=new dF;ds.translate(-P.m/2,-P.e/2);
ds.scale(c9,c9);ds.translate(P.m/2,P.e/2);ds.translate((1-ee)*hc,(1-ee)*jl);return ds}var P=c.clone(),p=Y;
P.x=P.y=0;var a=Date.now(),D=P.clone();D.VC(n,n);var N=d.R(D.Z());d.u_(p,P,N,D);D.x=D.y=0;d.Gq.r5(N,N,D,2);
var W=d.R(D.Z()*4);W.fill(255);d.xI(N,W);var G=d.R(P.Z()),l=P.m,u=P.e,e=D.m,M=eq.aA_(F,z),B=Math.cos(M[1]),s=-Math.cos(M[0])*B,t=Math.sin(M[0])*B;
if(Math.abs(s)<.001&&Math.abs(t)<.001)s=t=0;for(var J=0;J<u;J++)for(var L=0;L<l;L++){var y=(J+n)*e+L+n,k=N[y+1]-N[y-1],C=N[y+e]-N[y-e],r=k*k+C*C;
if(r>10){var Q=1/Math.sqrt(r);G[J*l+L]=Math.max(0,Math.min(255,128+127*(s*Q*k+t*Q*C)))}}var j9=[p,P],a4=v(P,0,F),ar=d.M.Yq(P).z,ez=ar.slice(0);
d.M.i(ar,a4,ez);var ja=P.Bb(d.M.MN(ez)),c3=d.R(ja.Z()*4);for(var y=0;y<8;y+=2){var k=ar[y]-ez[y],C=ar[y+1]-ez[y+1];
hW=Math.max(hW,Math.sqrt(k*k+C*C))}var fO=Math.round(hW/2),ei=d.H.CK(F.Clr.v);ei.o/=255;ei.A/=255;ei.J/=255;
var fV=F.Drkn.v.val/100;for(var aW=0;aW<fO;aW++){var ee=aW/fO,hM=1-fV+ee*fV,ds=v(P,ee,F),cp=P.clone(),eA=p;
if(T!=1){var db=m.OB.qk(j9,ds);cp=db.rect;eA=db.channel}else{var js=ds.qc(new jc(0,0));cp.x+=Math.round(js.x);
cp.y+=Math.round(js.y)}var bF=d.R(cp.Z()*4);if(s!=0||t!=0){var jI=cp.m,gF=cp.e,b6=ei.o,ji=ei.A,hd=ei.J,eZ=ds.clone();
eZ.oD();var hj=eZ.qc(new jc(.5,.5)),eK=eZ.qc(new jc(1.5,1.5)),k=eK.x-hj.x,C=eK.y-hj.y;for(var J=0;J<gF;
J++){for(var L=0;L<jI;L++){var y=J*jI+L,cX=y*4,bW=Math.max(0,Math.min(l-1,~~(.5+k*L))),ju=Math.max(0,Math.min(u-1,~~(.5+C*J))),ci=G[ju*l+bW],hH=-1+2*ci*(1/255),b8=-hH,gh=0;
if(hH>0){b8=0;gh=hH}bF[cX]=255*(1-b8)*(gh+(1-gh)*b6)*hM;bF[cX+1]=255*(1-b8)*(gh+(1-gh)*ji)*hM;bF[cX+2]=255*(1-b8)*(gh+(1-gh)*hd)*hM}}}else eq.yp(bF,F.Clr.v,null,hM);
d.cb(eA,bF,3);d.l.To("norm",bF,cp,c3,ja,cp,1)}Z={y3:c3,z2:ja}}else if(b=="DrSh"){var aN=R.FJ(U,X-U,!0),eS=aN.Zx,b2=aN.oJ.clone();
eq.z3(eS,F,!1);if(F.Cntn&&F.Cntn.v){var fZ=new hD;eq.CX(fZ,F,z,0);var dw=b2.clone();dw.offset(-fZ.x,-fZ.y);
dw=dw.Bb(b2);var ib=d.R(dw.Z());d.u_(eS,b2,ib,dw);var eJ=Math.sqrt(fZ.x*fZ.x+fZ.y*fZ.y),df=eS.slice(0);
for(var y=0;y<eJ-1;y++){var k=Math.round(-fZ.x*y/eJ),C=Math.round(-fZ.y*y/eJ),k5=aN.oJ.clone();k5.offset(k,C);
d.aat(df,k5,ib,dw)}eS=ib;b2=dw}b2.offset(g,H);eq.CX(b2,F,z,0);var c3=d.R(b2.Z()*4);eq.yp(c3,F.Clr.v);
d.cb(eS,c3,3);Z={y3:c3,z2:b2,awt:F.layerConceals.v}}else if(b=="IrSh"){var aN=R.FJ(U,X-U,!1);eq.CX(aN.oJ,F,z,0);
var b2=R.rect().clone(),eS=d.R(b2.Z());eS.fill(255);d.u_(aN.Zx,aN.oJ,eS,b2);eq.z3(eS,F,!0,!0);var c3=d.R(b2.Z()*4);
eq.yp(c3,F.Clr.v);d.cb(eS,c3,3);b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="GrFl"){var c3=d.R(R.rect().Z()*4);
eq.qQ(F,c3,R.rect(),z,null,f);var b2=R.rect().clone();b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="SoFi"){var c3=d.R(R.Zx().length*4);
eq.yp(c3,F.Clr.v);var b2=R.rect().clone();b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="ebbl"){var eC=!1;
if(eC)console.log(F);var a=Date.now(),j7=F.bvlS.v.BESl;if(j7=="strokeEmboss"){var cK=K.frameFXMulti.v;
if(cK.length==0)continue;cK=cK[0].v;if(!cK.enab.v)continue;var bw=cK.Styl.v.FStl;if(bw=="OutF")j7="OtrB";
if(bw=="CtrF")j7="Embs";if(bw=="InsF")j7="InrB"}var X=F.blur.v.val;if(X==0)X=.7;if(j7=="Embs"||j7=="PlEb")X/=2;
var f6=["OtrB","InrB","Embs","PlEb","strokeEmboss"],iF=["SfBL","PrBL","Slmt"],ag=["In","Out"],bS=F.bvlT.v.bvlT!="SfBL"?X:X*.45,b$=Math.round(X),aj=R.rect().clone(),iV=aj.clone();
iV.VC(b$,b$);var l=iV.m,u=iV.e,g0=l*u,eB=d.R(g0);d.u_(R.Zx(),aj,eB,iV);var c7=new Float64Array(g0),dU=new Float64Array(g0);
d.style.kD(eB,c7,l,u);d.oD(eB);d.style.kD(eB,dU,l,u);if(eC)console.log("distTransform computed",Date.now()-a);
for(var y=0;y<g0;y++)dU[y]=dU[y]-c7[y];for(var y=0;y<g0;y++){var cz=dU[y];if(cz<-bS)dU[y]=-bS;else if(cz>bS)dU[y]=bS}if(eC)console.log("summing + cropping",Date.now()-a);
if(F.bvlT.v.bvlT=="SfBL"){var fr=Math.pow(X*.21,1.22);if(!0)fr=Math.max(fr,2);var kk=d.Gq.eM(fr,2);d.Gq.Nr(dU,c7,iV,kk[0]>>>1);
d.Gq.Nr(c7,dU,iV,kk[1]>>>1)}if(eC)console.log("blurring",Date.now()-a);var a6=dU,jv=a6.slice(0);if(F.useShape.v){var by=Math.min(100,F.Inpr.v.val+1)/100;
if(j7!="OtrB"&&j7!="InrB")by=1;var gc=d.nA.ZE(F.MpgS.v.Crv.v,2e3),i8=Math.round(2e3/by);gc=d.nA.ay0(gc,i8,j7=="InrB");
var az=.5/bS;for(var y=0;y<g0;y++){var g9=a6[y],a3=.99999*(g9+bS)*az;a6[y]=-bS+2*bS*gc[~~(a3*(i8-1))]}if(eC)console.log("applying shape",Date.now()-a)}if(F.useTexture.v){var bF=d.R(l*u*4);
eq.SW(F,bF,iV,z.add.Patt,o);var jb=d.R(l*u);d.jf(bF,jb);var aY=d.R(l*u);d.Gq.at9(jb,aY,iV,1);jb=aY;var g4=X*F.textureDepth.v.val*(1/100)*(1/255);
if(F.InvT.v)g4=-g4;for(var y=0;y<g0;y++)a6[y]+=-g4*jb[y];if(eC)console.log("applying texture",Date.now()-a)}var dl=(F.bvlT.v.bvlT=="SfBL"?1:.5)*(F.bvlD.v.BESs=="In"?1:-1)*F.srgR.v.val/100;
for(var y=0;y<g0;y++)a6[y]*=dl;if(eC)console.log("scaling",Date.now()-a);var M=eq.aA_(F,z),ej=M[0],cn=M[1],s=Math.cos(ej)*Math.cos(cn),t=-Math.sin(ej)*Math.cos(cn),d_=Math.sin(cn),hZ=new Float64Array(g0),gv=new Float64Array(g0),jH=j7=="PlEb";
for(var J=0;J<u;J++)for(var L=0;L<l;L++){var y=J*l+L,a0=0,e1=0,gn=1;if(J!=0&&J!=u-1&&L!=0&&L!=l-1){var e5=a6[y-l-1],ka=a6[y-l+1],fF=a6[y+l-1],ke=a6[y+l+1];
a0=-.125*(ka+2*a6[y+1]+ke-(e5+2*a6[y-1]+fF));e1=-.125*(fF+2*a6[y+l]+ke-(e5+2*a6[y-l]+ka))}else{var iA=a6[y];
e1=-(J==0?a6[y+l]-iA:J==u-1?iA-a6[y-l]:.5*(a6[y+l]-a6[y-l]));a0=-(L==0?a6[y+1]-iA:L==l-1?iA-a6[y-1]:.5*(a6[y+1]-a6[y-1]))}var eP=1/Math.sqrt(a0*a0+e1*e1+1);
a0*=eP;e1*=eP;gn*=eP;var hl=a0*s+e1*t+gn*d_,jY=hl;if(jH)jY=-a0*s-e1*t+gn*d_;if(hl>0)hZ[y]=hl;if(jY>0)gv[y]=jY}if(eC)console.log("raycasting",Date.now()-a);
if(F.Sftn.v.val!=0){d.Gq.An(hZ,c7,iV,F.Sftn.v.val*.43);var iG=c7,c7=hZ,hZ=iG;if(jH){d.Gq.An(gv,c7,iV,F.Sftn.v.val*.43);
var iG=c7,c7=gv,gv=iG}else d.kO(hZ,gv)}if(eC)console.log("softening",Date.now()-a);var gc=d.nA.ZE(F.TrnS.v.Crv.v,1024);
for(var y=0;y<g0;y++){hZ[y]=gc[~~(hZ[y]*1024)];gv[y]=gc[~~(gv[y]*1024)]}if(eC)console.log("contour remap",Date.now()-a);
l=Math.round(l);u=Math.round(u);var el=d.R(l*u*4);eq.yp(el,F.hglC.v);var iz=d.R(l*u*4);eq.yp(iz,F.sdwC.v);
var bd=d.R(l*u*4);eq.yp(bd,F.hglC.v);var iM=d.R(l*u*4);eq.yp(iM,F.sdwC.v);var cb=1/d_,bk=1/(1-d_),az=1/bS,jG=new Float64Array(1e3);
for(var y=0;y<1e3;y++)jG[y]=Math.pow(y*.001,.2);for(var J=0;J<u;J++)for(var L=0;L<l;L++){var y=J*l+L,et=4*y+3,dy=0,ce=0;
dy=hZ[y];ce=gv[y];var g2=Math.max(0,Math.min(.9999,(jv[y]+bS*.993)*az));g2=jG[Math.floor(g2*1e3)];var gx=g2*(1-Math.min(1,dy*cb)),hO=g2*(1-Math.min(1,(1-dy)*bk)),ko=g2*(1-Math.min(1,ce*cb)),gF=g2*(1-Math.min(1,(1-ce)*bk));
iz[et]=Math.round(255*gx);el[et]=Math.round(255*hO);iM[et]=Math.round(255*ko);bd[et]=Math.round(255*gF)}if(eC)console.log("baking textures",Date.now()-a);
iV=R.rect().clone();iV.VC(b$,b$);iV.offset(g,H);Z={a5U:F.bvlS.v.BESl=="strokeEmboss"};var dm=jw.Ef(F.hglM.v.BlnM),gw=F.hglO.v.val/100,fJ=jw.Ef(F.sdwM.v.BlnM),gS=F.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(j7)!=-1){Z.p8={y3:el,z2:iV,C1:dm,PD:gw};Z.uW={y3:iz,z2:iV,C1:fJ,PD:gS}}if(["OtrB","Embs","PlEb"].indexOf(j7)!=-1){Z.RR={y3:bd,z2:iV,C1:dm,PD:gw};
Z.iP={y3:iM,z2:iV,C1:fJ,PD:gS}}if(eC)console.log(Date.now()-a)}else if(b=="patternFill"){var fj=R.rect(),c3=d.R(fj.Z()*4);
eq.SW(F,c3,fj,z.add.Patt,o);var b2=fj.clone();b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="ChFX"){var c3=d.R(R.Zx().length*4);
eq.yp(c3,F.Clr.v);var X=F.blur.v.val,f$=R.rect().clone();f$.VC(X,X);var kx=d.R(f$.Z()),cF=d.R(f$.Z());
d.u_(R.Zx(),R.rect(),cF,f$);d.Gq.r5(cF,kx,f$,X*.43);var iK=d.nA.Lc(F.MpgS.v.Crv.v,256,!0);d.af(kx,iK);
var aP=d.R(R.Zx().length),hf=d.R(R.Zx().length),ii=R.rect().clone();eq.CX(ii,F,z,0);d.u_(kx,f$,aP,ii);
ii=R.rect().clone();eq.CX(ii,F,z,Math.PI);d.u_(kx,f$,hf,ii);var eE=aP.length;for(var y=0;y<eE;y++)c3[4*y+3]=Math.abs(aP[y]-hf[y]);
if(F.Invr.v)for(var y=0;y<eE;y++)c3[4*y+3]=255-c3[4*y+3];var b2=R.rect().clone();b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="OrGl"){var aN;
if(F.GlwT.v.BETE=="SfBL")aN=R.FJ(U,X-U,!0);else aN=R.azn(X,V,!0);var eS=aN.Zx,b2=aN.oJ,dR=eS.slice(0);
eq.a8$(eS,F);var c3=d.R(b2.Z()*4);if(F.Grad==null){eq.yp(c3,F.Clr.v);eq.z3(eS,F,!1)}else{eq.z3(eS,F,null);
var j8={EB:eS,g6:255,OS:0,jP:b2};eq.qQ(F,c3,b2,z,j8);var a2=F.Nose.v.val/100,hv=b2.m;for(var y=0;y<dR.length;
y++){var hb=255,cM=dR[y];if(cM<32){var j3=(cM+dR[y-1]+dR[y+1]+dR[y-hv]+dR[y+hv])*.2-1;hb=Math.min(255,Math.round(Math.max(0,j3)*8))}eS[y]=hb}eq.aye(eS,F)}d.cb(eS,c3,3);
b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="IrGl"){var aN;if(F.GlwT.v.BETE=="SfBL")aN=R.FJ(U,X-U,!1);
else aN=R.azn(X,V,!1);var eS=aN.Zx,b2=aN.oJ;eq.a8$(eS,F);if(F.glwS.v.IGSr=="SrcC")d.oD(eS);var c3=d.R(b2.Z()*4);
if(F.Grad==null){eq.yp(c3,F.Clr.v);eq.z3(eS,F,!0)}else{eq.z3(eS,F,null);var j8={EB:eS,g6:255,OS:0,jP:b2};
eq.qQ(F,c3,b2,z,j8);eS.fill(255);eq.aye(eS,F)}d.cb(eS,c3,3);b2.offset(g,H);Z={y3:c3,z2:b2}}else if(b=="FrFX"){var di=eq.D6(F),iR=di[0],bi=di[1],b2=R.rect().clone(),iP=null,jy=null;
b2.VC(Math.ceil(E),Math.ceil(E));if(bi>0){var aN=R.FJ(bi,0,!0);jy=aN.Zx;if(jy.length<b2.Z()){jy=d.R(b2.Z());
d.u_(aN.Zx,aN.oJ,jy,b2)}}if(iR>0){var aN=R.FJ(iR,0,!1);iP=d.R(b2.Z());iP.fill(255);d.u_(aN.Zx,aN.oJ,iP,b2)}b2.offset(g,H);
var c3=d.R(b2.Z()*4),is=F.PntT.v.FrFl;if(is=="SClr")eq.yp(c3,F.Clr.v);if(is=="GrFl")eq.qQ(F,c3,b2,z,R.ap1(iR,bi));
if(is=="Ptrn")eq.SW(F,c3,b2,z.add.Patt,o);var bQ=F.overprint,d1=bQ?bQ.v:!1;if(d1){var jp=iP?iP:jy;if(iP&&jy)d.dP.wu(iP,jy,jp);
d.cb(jp,c3,3)}Z={y3:c3,z2:b2,mv:jy,EY:iP,aya:d1}}i.type[b].push(Z);if(b=="ebbl"){if(Z.p8)i.all.push(Z.p8,Z.uW);
if(Z.RR)i.all.push(Z.RR,Z.iP)}else{Z.C1=jw.Ef(F.Md.v.BlnM);Z.PD=F.Opct.v.val/100,i.all.push(Z)}}}return i};
eq.fQ=function(K){var o=1/Math.sqrt(K.x*K.x+K.y*K.y+K.Fr*K.Fr);K.x*=o;K.y*=o;K.Fr*=o};eq.a3p=function(K,o){return{x:K.y*o.Fr-K.Fr*o.y,y:K.Fr*o.x-K.x*o.Fr,Fr:K.x*o.y-K.y*o.x}};
eq.adn=function(K,o){return K.x*o.x+K.y*o.y+K.Fr*o.Fr};eq.aye=function(K,o){var Y=o.Nose.v.val/100;if(Y>0)for(var y=0;
y<K.length;y++){var c=K[y];c=Math.min(510-(1+Y)*d.style.Kz(y),c);K[y]=c}};eq.Bh=function(K){var o=eq.Sq(),Y=K.c1,c=!1;
for(var y=0;y<32;y+=8)if(Y[y]+Y[y+1]+Y[y+4]+Y[y+5]!=0||Y[y+2]+Y[y+3]+Y[y+6]+Y[y+7]!=1020)c=!0;if(c){Y=Y.slice(0);
for(var y=0;y<40;y+=4){var z=Y[y]/255,f=Y[y+1]/255,$=Y[y+2]/255,E=Y[y+3]/255;Y[y]=z-.001;Y[y+1]=z==f?1e6:1/(f-z);
Y[y+2]=$==E?-1e6:1/($-E);Y[y+3]=E+.001}}var b=K.add.iOpa!=null?K.add.iOpa/255:o.fill,q=K.add.vstk;if(q&&!q.fillEnabled.v&&(!q.strokeEnabled.v||q.strokeStyleLineWidth.v.val==0))b=0;
return{fill:b,Ve:c?Y:null,DD:K.add.brst!=null?K.add.brst:o.DD,acy:K.add.knko!=null?K.add.knko:o.acy,style:!1,Rm:!1}};
eq.Sq=function(){return{fill:1,Ve:null,DD:[1,1,1],acy:0,style:!1,Rm:!1}};eq.aqo=function(K,o,Y,c,z,f,$,E){if(E==null)E=1;
if($==null)$=new dF;var b=K.JN[1].m,q=K.JN[1].e,O=new dF,j=z<2;if(j)O.translate(-b/2,-q/2);if(z==0){E*=Math.max(Y/b,c/q)}else if(z==1){E*=Math.min(Y/b,c/q)}else if(z==2){O.scale(1/b,1/q);
O.concat($);O.scale(Y,c)}else if(z==3){E=E}O.scale(E,E);if(j)O.translate(Y/2,c/2);O.concat(f);o.Ptrn.v.Idnt.v=K.id;
o.Scl.v.val=Math.round(100*O._8());o.Angl.v.val=Math.round(180*Math.atan2(-O.J,O.g)/Math.PI);o.Algn.v=!0;
var A=o.phase.v;A.Hrzn.v=Math.round(O.B3);A.Vrtc.v=Math.round(O.Z7)};eq.fF=function(K,o){if(o==null)return null;
var Y=K.Idnt.v,c=K.Nm.v;for(var y=0;y<o.length;y++)if(o[y].id==Y)return o[y];for(var y=0;y<o.length;
y++)if(o[y].name==c)return o[y];return null};eq.auT=function(K,o,Y){var c=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var y=0;y<c.length;y++){var z=K.v[c[y]].v;for(var f=0;f<z.length;f++)if(z[f].v.Ptrn)o.AG(eq.fF(z[f].v.Ptrn.v,Y))}};
eq.asp=function(K,o,Y){var c=["patternFillMulti","ebblMulti","frameFXMulti"];for(var y=0;y<c.length;
y++){var z=K.v[c[y]].v;for(var f=0;f<z.length;f++)if(z[f].v.Ptrn){var $=z[f].v.Ptrn.v,E=eq.fF($,Y),b=eq.fF($,o.add.Patt);
if(E==null&&b)Y.push(b)}}};eq.SW=function(K,o,Y,c,z){var f=eq.fF(K.Ptrn.v,c);if(f!=null&&!Y.xf()){var $=f.JN,E=$[0],b=$[1],q=0;
d.pa($);var O=(K.Scl?K.Scl.v.val:100)/100;while((O<.3||O==.5)&&$[q+2]){O*=b.m/$[q+3].m;q+=2;E=$[q];b=$[q+1]}var j=d.scale.SW(E,b.m,b.e),A=K.phase?K.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},R=K.Angl?K.Angl.v.val:0,g=-Y.x+A.Hrzn.v-1,H=-Y.y+A.Vrtc.v-1;
if(K.Algn!=null&&!K.Algn.v){}else{g+=z.x;H+=z.y}if(o)d.scale.aCH(j,o,Y.m,Y.e,O,O,g+1,H+1,R*Math.PI/180);
else return[j,O,g+1,H+1,R*Math.PI/180]}};eq.qQ=function(K,o,Y,c,z,f){if(f==null)f=Y;var $=K.Type?K.Type.v.GrdT:"shapeburst",E=K.Algn&&K.Algn.v?f:new hD(0,0,c.m,c.e),b=K.Angl?d.H.Qv(K,E):[new jc(0,0),new jc(100,0)],q=b[0].x,O=b[0].y,j=b[1].x-q,A=b[1].y-O,R=Math.sqrt(j*j+A*A);
R=1/(2*R*R);var g=[j*R,A*R,-A*R,j*R],H=K.Rvrs?K.Rvrs.v:!1,i=K.Dthr?K.Dthr.v:!1;d.H.EI(K.Grad.v,o,Y,g,q,O,H,eF.H.types.indexOf($),0,0,z,i)};
eq.a1S=function(K,o,Y){for(var y=0;y<K.all.length;y++){var c=K.all[y];c.r8=c.z2.clone();c.r8.offset(o,Y)}};
eq.az2=function(K,o,Y,c,z,f){var $=jK.YT?eq.aqw:eq.a8Z;eq.a1S(o,Y.x,Y.y);var E=o.type.DrSh;for(var y=0;
y<E.length;y++)if(!E[y].awt)$(E[y],c,z,f)};eq.axu=function(K,o,Y,c,z,f,$,E,b,q){var O=Y,j=jK.YT?eq.aqw:eq.a8Z,A=jK.YT?jK.l.fG:d.l.OF,R;
R=o.type.DrSh;for(var y=0;y<R.length;y++)if(R[y].awt)j(R[y],c,z,f);R=o.type.St3D;for(var y=0;y<R.length;
y++)j(R[y],c,z,f);R=o.type.OrGl;for(var y=0;y<R.length;y++)j(R[y],c,z,f);var g="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var H=0;H<g.length;H++){var R=o.type[g[H]];for(var y=0;y<R.length;y++)j(R[y],$,O,f)}var i=o.type.ebbl[0],h=i!=null&&i.a5U;
R=o.type.FrFX;for(var y=0;y<R.length;y++){var x=R[y];jk.dN.u_(E,q,b,q,f);j(x,b,q,f);if(h&&y==R.length-1){if(i.iP)j(i.iP,b,q,f);
if(i.RR)j(i.RR,b,q,f);if(i.uW)j(i.uW,b,q,f);if(i.p8)j(i.p8,b,q,f)}if(x.aya){if(x.EY||x.mU){j(x,$,O,f)}if(x.mv||x.pX){j(x,c,z,f)}}else{if(x.EY||x.mU)A(b,q,$,O,jK.YT?x.mU:x.EY,x.r8,0,f,1);
if(x.mv||x.pX)A(b,q,c,z,jK.YT?x.pX:x.mv,x.r8,0,f,1)}}if(!h&&i!=null){if(i.iP)j(i.iP,c,z,f);if(i.RR)j(i.RR,c,z,f);
if(i.uW)j(i.uW,$,O,f);if(i.p8)j(i.p8,$,O,f)}};eq.a8Z=function(K,o,Y,c){var z=eq.Sq();z.fill=K.PD;z.style=!0;
d.l.To(K.C1,K.y3,K.r8,o,Y,c,1,z)};eq.aqw=function(K,o,Y,c){var z=eq.Sq();z.fill=K.PD;z.style=!0;jK.l.qg(K.C1,K.cq,K.r8,o,Y,c,1,z)};
eq.a8$=function(K,o){var Y=1-o.Inpr.v.val/100,c=1+Math.tan(Y*(Math.PI/2)),z=K.length;for(var y=0;y<z;
y++)K[y]=Math.min(255,Math.round(K[y]*c))};eq.z3=function(K,o,Y,c){var z=o.blur.v.val,f=Math.round(z*(o.Ckmt.v.val/100));
if(z>f){var $=d.nA.Lc(o.TrnS.v.Crv.v,256,c!=!0);d.af(K,$)}if(Y!=null&&o.Nose.v.val>0)d.style.A$(K,o.Nose.v.val/100,Y)};
eq.yp=function(K,o,Y,c){if(Y==null)Y=255;var z=d.H.CK(o);if(c!=null){z.o=Math.round(z.o*c);z.A=Math.round(z.A*c);
z.J=Math.round(z.J*c)}var f=Y<<24|z.J<<16|z.A<<8|z.o,$=new Uint32Array(K.buffer);$.fill(f)};eq.CX=function(K,o,Y,c,z){var f=o.uglg&&o.uglg.v?Y.S3():o[z?z:"lagl"].v.val;
f=f*Math.PI/180+c;var $=Math.cos(f)*o.Dstn.v.val,E=Math.sin(f)*o.Dstn.v.val;K.x-=Math.round($);K.y+=Math.round(E)};
eq.aA_=function(K,o){var Y=K.uglg&&K.uglg.v?o.S3():K.lagl.v.val;Y=Y*(Math.PI/180);var c=K.uglg&&K.uglg.v?o.qv():K.Lald.v.val;
c=c*(Math.PI/180);return[Y,c]};eq.Re=function(K){if(K==null)return null;var o=K.frameFXMulti.v;if(o.length==0)return null;
o=o[0].v;var Y=eF.oc.Ta();eq.azm(o,Y);return Y};eq.azm=function(K,o){var Y=eF.stroke.W5.indexOf(K.PntT.v.FrFl),c=[eF.u4,eF.Eo,eF.Jo][Y],z=o.strokeStyleContent.v={classID:eF.oc.OV[Y]};
for(var y=0;y<c.length;y++)z[c[y]]=K[c[y]];o.strokeEnabled=K.enab;o.strokeStyleLineWidth=K.Sz;o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eF.oc.Nv[eF.stroke.types.indexOf(K.Styl.v.FStl)];
o.strokeStyleOpacity=K.Opct;o.strokeStyleBlendMode=K.Md;o.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
eq.XP=function(K,o){var Y=[];for(var y=0;y<K.length;y++)Y.push({t:"UntF",v:{type:"#Nne",val:Math.round(K[y]*o)}});
return Y};eq.aw7=function(K,o){var Y=K.opacity/255*(K.add.iOpa?K.add.iOpa/255:1),c=K.add.TySh,z=K.f$()||K.sB()&&K.add.vmsk&&K.add.vstk.fillEnabled.v&&K.add.vstk.strokeEnabled.v;
if(c){var f=c.e9.EngineDict.StyleRun.RunArray,$=f[0].StyleSheet.StyleSheetData,E=0;if($.FillFlag)E++;
if($.StrokeFlag)E++;if($._FillBackgroundFlag)E++;if(E>1)z=!0}return z&&(o||Y!=1||K.YF!="pass"&&K.YF!="norm")};
eq.IT=function(K,o,Y,c){this.op=o.clone();this.apu=o.clone();this.apu.VC(Y,Y);if(c){this.op.VC(1,1);
this.f3=d.R(this.op.Z());d.u_(K,o,this.f3,this.op)}else this.f3=K;this.Z5=null;this.Kp=null;this.A6=null};
eq.IT.prototype.Zx=function(){return this.f3};eq.IT.prototype.rect=function(){return this.op};eq.IT.prototype.IP=function(){return this.apu};
eq.IT.prototype.pF=function(){if(this.Z5)return this.Z5;this.Z5=this.Zx().slice(0);d.oD(this.Z5);return this.Z5};
eq.IT.prototype.c3=function(){if(this.Kp)return this.Kp;this.Kp=new Float64Array(this.rect().Z());d.style.kD(this.pF(),this.Kp,this.rect().m,this.rect().e);
return this.Kp};eq.IT.prototype.BJ=function(){if(this.A6)return this.A6;var K=this.IP(),o=d.R(K.Z());
d.u_(this.Zx(),this.rect(),o,K);this.A6=new Float64Array(K.Z());d.style.kD(o,this.A6,K.m,K.e);return this.A6};
eq.IT.prototype.ap1=function(K,o){var Y={g6:-o,OS:K,jP:null,EB:null};if(o==0){Y.jP=this.rect();Y.EB=this.c3();
return Y}var c=this.BJ().slice(0),z=this.IP();Y.jP=z;Y.EB=c;for(var y=0;y<c.length;y++)c[y]=-c[y];if(K==0)return Y;
var f=this.c3(),$=this.rect();for(var E=0;E<$.e;E++)for(var b=0;b<$.m;b++){var q=E*$.m+b,O=(E+$.y-z.y)*z.m+b+$.x-z.x;
c[O]+=f[q]}return Y};eq.IT.prototype.FJ=function(K,o,Y){var c=Math.ceil(K+o),z={oJ:this.rect().clone(),Zx:null};
z.oJ.VC(c,c);z.Zx=d.R(z.oJ.Z());if(K==0&&o==0)d.kO(Y?this.Zx():this.pF(),z.Zx);else{var f=d.R(z.oJ.Z());
d.u_(this.Zx(),this.rect(),f,z.oJ);if(!Y)d.oD(f);if(K!=0){if(Y)d.style.TO(f,z.oJ,this.BJ(),this.IP(),K);
else d.style.TO(f,z.oJ,this.c3(),this.rect(),K)}if(o!=0)d.Gq.r5(f,z.Zx,z.oJ,Math.max(1,o*.43));else z.Zx=f}return z};
eq.IT.prototype.azn=function(K,o,Y){var c=K*(o-.5),z={oJ:this.rect().clone(),Zx:null};if(Y)z.oJ.VC(K,K);
z.Zx=d.R(z.oJ.Z());var f=z.oJ.m,$=z.oJ.e,E=Y?this.BJ():this.c3(),b=Y?this.IP():this.rect(),q=z.oJ,O=q.wu(b),f=O.m,$=O.e,j=O.x-q.x,A=O.y-q.y,R=O.x-b.x,g=O.y-b.y,H=1-o*2;
for(var i=0;i<$;i++)for(var h=0;h<f;h++){var x=E[(i+g)*b.m+h+R],F=x/K;z.Zx[(i+A)*q.m+h+j]=Math.max(0,Math.min(255,255-255*((F+H)/(1+H))))}return z};
eq.akn=function(K,o,Y,c){var z=K.Lefx,f=K.blendOptions;if(z){var $=o.add.lmfx;if(Y==null)Y=$?$.Scl.v.val:100;
o.add.lmfx=JSON.parse(JSON.stringify(z.v));if(o.add.lmfx.Scl==null)o.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
eq.TY(o.add.lmfx,Y/o.add.lmfx.Scl.v.val);if($)o.add.lmfx.Scl.v.val=$.Scl.v.val;var E=z.v.gagl;if(E&&c)c.zL(E.v.val)}else delete o.add.lmfx;
if(f){f=f.v;if(f.Md)o.YF=jw.Ef(f.Md.v.BlnM);if(f.Opct)o.opacity=Math.round(f.Opct.v.val*255/100);if(f.fillOpacity)o.add.iOpa=Math.round(f.fillOpacity.v.val*255/100);
if(f.Blnd){var b=[];for(var y=0;y<10;y++)b.push(0,0,255,255);var q=f.Blnd.v,O="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var y=0;y<q.length;y++){var j=q[y].v,A=8*["Gry","Rd","Grn","Bl"].indexOf(j.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){b[A+R]=j[O[R]].v}}o.c1=b}}};eq.a6X=function(K){var o="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),Y=[],c=K.c1;
for(var y=0;y<4;y++){var z=y*8;if(c[z]+c[z+1]+c[z+4]+c[z+5]==0&&c[z+2]+c[z+3]+c[z+6]+c[z+7]==4*255)continue;
var f={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][y]}}]}}};
Y.push(f);for(var $=0;$<8;$++)f.v[o[$]]={t:"long",v:c[y*8+$]}}var E={classID:"blendOptions"};if(K.YF!="norm")E.Md={t:"enum",v:{BlnM:jw.OM(K.YF)}};
if(K.opacity!=255)E.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(K.opacity*100/255)}};if(K.add.iOpa!=null)E.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(K.add.iOpa*100/255)}};
if(Y.length!=0)E.Blnd={t:"VlLs",v:Y};var b={A8:{classID:"null",Idnt:{t:"TEXT",v:h7.I_()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},Ww:{classID:"Styl",blendOptions:{t:"Objc",v:E}}},q=K.add.lmfx;
if(q)b.Ww.Lefx={t:"Objc",v:q};return b};function iO(){}iO.mD=function(K){return JSON.parse(JSON.stringify(K))};
iO.EL=function(K){var o=iO.mD(iO.aiV),Y=o.Brsh.v;if(K!=null){delete Y.Hrdn;Y.classID="sampledBrush";
Y.sampledData={t:"TEXT",v:K}}return o};iO.aiV={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
iO.akF=function(K,o){var Y=["opVr","szVr"],c=["usePaintDynamics","useTipDynamics"];for(var y=0;y<2;y++){var z=Y[y];
if(K[z]==null)K[z]=JSON.parse(iO.fQ.qK[z]);K[z].v.bVTy.v=o[y]?2:0;if(o[y])K[c[y]].v=!0}iO.fQ.apP(K)};
iO.fQ={};iO.fQ.check=function(K){var o=iO.fQ.K5;for(var y=0;y<o.length;y++)if(K[o[y]]==null)K[o[y]]=JSON.parse(iO.fQ.qK[o[y]]);
var Y=[];for(var y=0;y<o.length;y++)Y.push(o[y]);var c=iO.fQ.a1t;for(var y=0;y<c.length;y++){var z=c[y][0],f=c[y][1],$=!0;
for(var E=0;E<z.length;E++)$=$&&K[z[E]].v==!0;if($)for(var E=0;E<f.length;E++){if(K[f[E]]==null)console.log("Missing conditional parameter "+f[E]);
else Y.push(f[E])}}for(var b in K)if(Y.indexOf(b)==-1)console.log("Extra parameter "+b);K=K.Brsh.v;o=iO.fQ.vg.K5;
for(var y=0;y<o.length;y++)if(K[o[y]]==null)K[o[y]]=JSON.parse(iO.fQ.vg.qK[o[y]]);Y=[];for(var y=0;y<o.length;
y++)if(K[o[y]])Y.push(o[y]);else console.log("Missing default parameter "+o[y]);c=iO.fQ.vg.a8G[K.classID];
for(var y=0;y<c.length;y++)if(K[c[y]]==null&&c[y]!="dtipsGridSize"&&c[y]!="dtipsErodibleTipHeightMap"&&K.ah5!=1)console.log("Missing conditional parameter "+c[y]);
else Y.push(c[y]);for(var b in K)if(Y.indexOf(b)==-1)console.log("Extra parameter "+b)};iO.fQ.apP=function(K){var o=iO.fQ.a1t;
for(var y=0;y<o.length;y++){var Y=o[y][0],c=o[y][1],z=!0;for(var f=0;f<Y.length;f++)z=z&&K[Y[f]]&&K[Y[f]].v==!0;
if(z){for(var f=0;f<c.length;f++)if(K[c[f]]==null){K[c[f]]=JSON.parse(iO.fQ.qK[c[f]])}}else for(var f=0;
f<c.length;f++)if(K[c[f]]!=null){delete K[c[f]]}}};iO.fQ.vg={};iO.fQ.vg.K5="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
iO.fQ.vg.qK={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};iO.fQ.vg.a8G={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
iO.fQ.a1t=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
iO.fQ.K5="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
iO.fQ.qK={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function b1(K,o){this.ahk=K;this.Rs=o==null?0:o;this.dir=0}b1.prototype._Y=function(K,o){var Y=this.ahk,c=new jc(K.x-Y.x,K.y-Y.y),z=new dF;
z.rotate(-this.Rs);c=z.qc(c);if(this.dir==0&&!Y.BV(K))this.dir=Math.abs(c.x)<Math.abs(c.y)?1:2;if(o.S(a1.jR)){if(this.dir==1)c.x=0;
if(this.dir==2)c.y=0}z.oD();c=z.qc(c);var f=new jc(Y.x+c.x,Y.y+c.y);return f};b1.prototype.aD2=function(K){if(K.S(a1.jR))return this.dir;
return 0};var aK=function(){function K(){this.abM={}}K.asW=function(o,Y){var c=o.clone();c.B3-=Math.floor(c.B3);
c.Z7-=Math.floor(c.Z7);var z=new jc(Y,0),f=new jc(0,Y),$=c.qc(z),E=c.qc(f),b=new jc(c.B3,c.Z7);return[$,E,b]};
K.au0=function(o,Y){var c=jc.si;return c(o[0],Y[0])+c(o[1],Y[1])+c(o[2],Y[2]);return dsum};K.prototype.a7V=function(o){var Y=this.abM,c=Y[o];
if(c==null)c=Y[o]={SY:[],cY:0,Z:0,a3M:0,ah1:0};c.cY=Date.now();while(Object.keys(Y).length>3){var z="",f=Date.now();
for(var $ in Y){var E=Y[$].cY;if(E<f){f=E;z=$}}delete Y[z]}return c};K.prototype.atq=function(o,Y){var c=o.SY,z,f=1e6;
for(var y=0;y<c.length;y++){var $=c[y],E=K.au0($.cG,Y);if(E<f){z=$;f=E}}return z};K.prototype.aq2=function(o,Y){var c=o.SY;
c.push(Y);o.Z+=Y.rect.Z();if(c.length>1e3||o.Z>100*100*1600){console.log("pruning",o.Z,c.length);c.sort(function(f,$){return $.cY-f.cY});
while(c.length>500||o.Z>100*100*800){var z=c.pop();o.Z-=z.rect.Z()}}};return K}();function g3(K,o,Y,c,z,f,$,E,b){this.IC=o;
this.$H=Y;this.YQ=f;this.$G=c;this.aY=null;this.QW=null;this.S0=0;this.a8s=0;this.abC=0;this.zc=0;this.mF=0;
this.JD=b==null?Math.floor(Math.random()*16777215):b;this.OR=b==null?Math.floor(Math.random()*16777215):b;
this.eQ=new hD;this.uQ=new hD;if(E!=null){this.y3=E}else{var q=g3.aCZ;if(q.length!=$.Z()*4)q=d.R($.Z()*4);
else q.fill(0);this.y3=g3.aCZ=q}this.rect=$.clone();this.he=[];this.pZ=[];this.Xx=null;this.qm=0;this.J=null;
this.agG="";this.aU=null;this.adl(K,z)}g3.aCZ=d.R(16);g3.prototype.adl=function(K,o){this.qm=o;this.J=K;
this.agG=JSON.stringify(K)+JSON.stringify(this.$G.cp);this.aU=g3.azo(this.J,this.IC,this.$H)};g3.prototype.moveTo=function(K,o,Y){Y=this.aqW(Y);
this.S0=Y;var c=new jc(K,o),z=this.J.Brsh.v.Dmtr.v.val;this.aY=c.clone();this.QW=c.clone();this.Xx=c.clone();
this.he=[K,o];this.pZ=[Y];if(this.$G.GW!=g3.C0){var f=this.J.angleDynamics,$=f?f.v.bVTy.v==6:!1;this.di($?new hD:this.avR(c,this.asf(Y),Y,new jc(0,0)))}this.zc=c.clone()};
g3.prototype.lineTo=function(K,o,Y){Y=this.aqW(Y);var c=this.he,z=c.length,f=c[z-2],$=c[z-1];if(K==f&&o==$)return;
var E=this.J.Brsh.v.Dmtr.v.val,b=Math.ceil(E)+1,q=new hD(Math.round(f),Math.round($),0,0);q.VC(b,b);
var O=new hD(Math.round(K),Math.round(o),0,0);O.VC(b,b);this.he.push(K,o);this.pZ.push(Y);z+=2;if(z>=6)this.di(this.a0_(z))};
g3.prototype.aqW=function(K){if(K==null)K=1;K=Math.max(.05,Math.min(5,K));if(isNaN(K)){alert("Pressure is not a number");
throw"e"}return K};g3.prototype.di=function(K){this.eQ=K;this.uQ=this.uQ.Bb(K)};g3.prototype.finish=function(){var K=this.he,o=K.length,Y;
if(o==4)Y=this.qi(K[o-2],K[o-1],this.pZ[(o>>1)-1],!0);if(o>4)Y=this.a0_(o+2);if(Y)this.di(Y)};g3.prototype._U=function(){return this.rect.clone()};
g3.prototype.n0=function(){return this.eQ.wu(this.rect)};g3.prototype.kg=function(){return this.uQ.wu(this.rect)};
g3.prototype.SC=function(){return this.y3};g3.prototype.a0_=function(K){var o=this.he,Y=this.pZ,c=o[K-6],z=o[K-5],f=o[K-4],$=o[K-3],E=Y[(K>>1)-3],b=Y[(K>>1)-2],q=new jc(0,0),O=new jc(0,0);
if(8<=K)q=g3.asy(o[K-8],o[K-7],c,z,f,$);if(K<=o.length)O=g3.asy(o[K-2],o[K-1],f,$,c,z);var j=c+q.x,A=z+q.y,R=f+O.x,g=$+O.y,H=new hD,i=this.ao_()?1:10;
for(var y=0;y<i;y++){var h=(y+1)/i,x=1-h,F=x*x*x*c+3*h*x*x*j+3*h*h*x*R+h*h*h*f,X=x*x*x*z+3*h*x*x*A+3*h*h*x*g+h*h*h*$,V=this.qi(F,X,E+h*(b-E));
H=H.Bb(V)}return H};g3.asy=function(K,o,Y,c,z,f){var $=K-Y,E=o-c,b=z-Y,q=f-c,O=Math.sqrt($*$+E*E),j=Math.sqrt(b*b+q*q),A=Math.acos(($*b+E*q)/(O*j))/Math.PI,R=.35,g=.1;
A=g+A*(R-g);var H=z-K,i=f-o,h=Math.sqrt(H*H+i*i),x=A*j/h;return new jc(H*x,i*x)};g3.prototype.qi=function(K,o,Y,c){var z=new hD,f=this.$G.az9;
if(f==null)f=0;if(f==0||c){z=this.atQ(K,o,Y);return z}var $=this.Xx,E=K-$.x,b=o-$.y,q=Math.sqrt(E*E+b*b);
E/=q;b/=q;if(q>f){var O=$.x+E*(q-f),j=$.y+b*(q-f);z=this.atQ(O,j,Y);this.Xx.Ex(O,j)}return z};g3.prototype.ao_=function(){var K=this.J,o=K.Brsh.v.Dmtr.v.val;
return this.$G.cp&&o==1};g3.prototype.atQ=function(K,o,Y){var c=new hD,z=new jc(K,o),f=this.$G.GW,$=z.km(this.QW);
$.normalize(1);var E=jc.si(this.QW,z),b=-this.a8s,q=this.QW.clone();if(this.ao_()){if(E>.99){var O=this.QW;
g3.axY(O,z,this.y3,this.rect,this.PJ(this.J));c=d.M.MN([O.x,O.y,z.x,z.y]);b=E}else z=this.QW}else while(!0){var j=this.S0+(Y-this.S0)*(Math.max(0,b)/E),A=this.asf(j),R=this.a4R()*(A+this.abC)/2*this.aU.atf;
if(f==g3.C0)R=1;R=Math.max(R,.5);if(b+R<E){b+=R;this.mF+=R;var g=new jc(this.QW.x+$.x*b,this.QW.y+$.y*b),h=1;
if(f==g3.C0){var H=q.clone();H.x+=$.x>0?1:-1;var i=q.clone();i.y+=$.y>0?1:-1;if(jc.si(H,g)<jc.si(i,g))g=H;
else g=i;b=jc.si(g,this.QW)}if(this.J.useScatter.v==!0){h=this.J.Cnt.v;var x=this.J.countDynamics.v.jitter.v.val/100,F=x*(-1+2*this.zo());
h+=Math.round(h*F)}for(var y=0;y<h;y++){var X=this.avR(g,A,Y,$);c=c.Bb(X)}q=g}else break}this.a8s=E-b;
this.QW=z;this.S0=Y;return c};g3.prototype.a4R=function(){var K=this.J.Brsh.v,o=K.Spcn.v.val,Y=Math.max(5,K.Rndn.v.val);
return Y/100*(o/100)};g3.prototype.asf=function(K){var o=this.J,Y=o.Brsh.v.Dmtr.v.val;if(o.useTipDynamics.v){var c=Y*(o.minimumDiameter.v.val/100);
Y=c+(Y-c)*(1-this.zo(this.OR)*(o.szVr.v.jitter.v.val/100));Y*=g3._r(o,"szVr",K,this.mF)}return Y};g3._r=function(K,o,Y,c){var z=1,f=K[o].v,$=f.bVTy.v,E=f.fStp.v;
if($==1)z*=Math.max(0,(E-c)/E);if($==2)z*=Y;return z};g3.prototype.avR=function(K,o,Y,c){var z=this.$G.al,H=0;
z=Math.min(1,z);var f=this.J,$=this.J.Brsh.v,E=$.Dmtr.v.val,b=this.$G,q=b.GW,O=b.a3i,j=this.aU.JN[1],A=new dF;
A.translate(-j.m/2,-j.e/2);A.scale(1/this.aU.ayF,1/this.aU.ayF);A.scale(o/E,o/E);A.scale(1,Math.max(5,$.Rndn.v.val)/100);
if(f.usePaintDynamics&&f.usePaintDynamics.v){var R=f.opVr.v.jitter.v.val/100,g=f.prVr.v.jitter.v.val/100;
z*=1-this.zo()*R;z*=1-this.zo()*g;z*=g3._r(f,"opVr",Y,this.mF)*g3._r(f,"prVr",Y,this.mF)}if(f.useTipDynamics.v){var i=f.angleDynamics.v,h=f.minimumRoundness.v.val/100;
A.scale(1,h+(1-h)*Math.round(100-this.zo()*f.roundnessDynamics.v.jitter.v.val)/100);H+=(-.5+this.zo())*4*Math.PI*(i.jitter.v.val/100);
H+=g3._r(f,"angleDynamics",Y,this.mF)*2*Math.PI;if(i.bVTy.v==6)H+=Math.atan2(-c.y,c.x)}H+=$.Angl.v.val*(Math.PI/180);
A.rotate(H);if(f.useScatter.v){var x=(-1+2*this.zo())*f.scatterDynamics.v.jitter.v.val/100;A.translate(-x*o*c.y,x*o*c.x)}A.translate(K.x,K.y);
var F=this.aw4(A,K,o),X=F.rect.clone();if(q==null){var V=this.PJ(f);d.nz(F.Ab,Math.round(V.J*255)<<16|Math.round(V.A*255)<<8|Math.round(V.o*255)<<0,4278190080);
if(this.uQ.xf()&&this.rect.BV(F.rect)&&z==1)this.y3=F.Ab.slice(0);else{var U=-1,Z=2,T=-1,v=2;if(!b.Lt){U=T=0;
Z=v=1}for(var P=T;P<v;P++)for(var p=U;p<Z;p++){var a=F.rect.clone();a.x+=p*this.rect.m;a.y+=P*this.rect.e;
if(a.wR(this.rect)){X=X.Bb(a);d.l.ay4(F.Ab,a,this.y3,this.rect,a,z)}}}}if(q==g3.C0){var D=new jc(F.rect.x+F.rect.m/2,F.rect.y+F.rect.e/2),n=Math.round(D.x-this.zc.x),N=Math.round(D.y-this.zc.y),W=F.rect.clone();
W.offset(-n,-N);var G=W.wu(this.rect);G.offset(n,N);d.iF(this.y3,this.rect,F.Ab,W);d.l.arY(F.Ab,F.rect,this.y3,this.rect,F.P6,F.rect,z)}if(q==g3.Qe||q==g3.GH||q==g3.eJ){var l=F.rect.wu(this.rect),u;
if(l.BV(F.rect))u=F.P6;else{u=d.R(l.Z());d.u_(F.P6,F.rect,u,l)}var e=d.R(l.Z()*4);d.iF(this.y3,this.rect,e,l);
if(q==g3.GH){var M=e.slice(0),B=d.f9.Te([-1,-1,-1,-1,25,-1,-1,-1,-1]);d.f9.TQ(e,M,l.m,l.e,B,0);d.kO(M,e)}else if(q==g3.eJ){var s=fn.Ta("UnsM");
s.Amnt.v.val=15;s.Thsh.v=0;s.Rds.v.val=5;var M=d.R(e.length);fn.kf("UnsM",{buffer:e,rect:l},s,0,0,{buffer:M,rect:l});
d.kO(M,e)}else{fn.bi(1,d.Gq.EM,e,l)}d.l.arY(e,l,this.y3,this.rect,u,l,z)}this.abC=o;this.zc=D;this.OR++;
return X};g3.prototype.PJ=function(K){var o=g3.a3O(this.qm);if(K.useColorDynamics&&K.useColorDynamics.v){var Y=1-this.zo()*K.clVr.v.jitter.v.val/100,c=g3.a3O(this.YQ);
o.o=Y*o.o+(1-Y)*c.o;o.A=Y*o.A+(1-Y)*c.A;o.J=Y*o.J+(1-Y)*c.J;var z=(-.5+this.zo())*K.H.v.val/100,f=(-1+2*this.zo())*K.Strt.v.val/100,$=(-1+2*this.zo())*K.Brgh.v.val/100,E=d.Sc(o.o,o.A,o.J);
E.jd=(E.jd+z+1)%1;E.ZO=E.ZO+f;if(E.ZO<0)E.ZO=-E.ZO;if(E.ZO>1)E.ZO=1-(E.ZO-1);E.ii=E.ii+$;if(E.ii<0)E.ii=-E.ii;
if(E.ii>1)E.ii=1-(E.ii-1);o=d.xg(E.jd,E.ZO,E.ii)}return o};g3.prototype.fQ=function(K){return Math.max(0,Math.min(1,K))};
g3.prototype.zo=function(K){if(K==null){K=this.JD++}return g3.hash(K)};g3.a3O=function(K){return{o:(K>>16&255)/255,A:(K>>8&255)/255,J:(K>>0&255)/255}};
g3.hash=function(K){K=K^61^K>>16;K=K+(K<<3);K=K^K>>4;K=K*668265261;K=K^K>>15;return(K&16777215)/16777215};
g3.ahi=new aK;g3.prototype.aw4=function(K,o,Y){var c=Math.sqrt(this.aU.JN[1].Z()),z=c*K._8(),f=z<10?1:z<50?1.5:z<200?3:8;
if(z<30)f=0;var $=g3.ahi,E=$.a7V(this.agG),b=this.$G.cp,q=aK.asW(K,c),O=$.atq(E,q);if(O&&aK.au0(O.cG,q)>f)O=null;
if(O){O.rect.x=Math.round(O.au$.x+K.B3);O.rect.y=Math.round(O.au$.y+K.Z7);O.cY=Date.now()}else{var j=Math.round(this.J.Brsh.v.Dmtr.v.val),A;
if(b&&j<=3){A={channel:d.R(j*j),rect:new hD(Math.round(o.x-j/2),Math.round(o.y-j/2),j,j)};A.channel.fill(255)}else if(K.g==1&&K.J==0&&K.b0==0&&K.gG==1){A={channel:this.aU.JN[0],rect:this.aU.JN[1].clone()};
A.rect.x=Math.round(K.B3);A.rect.y=Math.round(K.Z7)}else{if(K._8()>1e-4)A=m.OB.qk(this.aU.JN,K)}if(b){for(var y=0;
y<A.channel.length;y++)A.channel[y]=A.channel[y]>127?255:0}if(A==null)A={channel:d.R(0),rect:new hD};
O={Ab:d.R(A.rect.Z()*4),P6:A.channel,rect:A.rect,au$:new jc(A.rect.x-K.B3,A.rect.y-K.Z7),cG:q,cY:Date.now()};
d.cb(O.P6,O.Ab,3);if(E)$.aq2(E,O)}return O};g3.azo=function(K,o,Y){var c,z,f,$=K.Brsh.v.Dmtr.v.val,E=K.Brsh.v.classID;
if(E=="computedBrush"){var b=K.Brsh.v.Hrdn.v.val/100;z=$<100?1.4:1;f=1;c=d.af2.am3($,b,z)}if(E=="sampledBrush"){var q;
for(var y=0;y<o.length;y++)if(o[y].id==K.Brsh.v.sampledData.v)q=o[y];c=q.JN;var O=c[1];z=Math.max(O.m,O.e)/$;
f=Math.min(O.m,O.e)/Math.max(O.m,O.e)}return{ayF:z,atf:f,JN:c}};g3.V=null;g3.$F=null;g3.zU=function(K,o,Y,c,z,f){var $=g3.V,E=g3.$F;
if($==null){g3.V=$=document.createElement("canvas");g3.$F=E=$.getContext("2d")}if(f==null)f=c;if($.width!=f||$.height!=z){$.width=f;
$.height=z}else E.clearRect(0,0,f,z);E.fillStyle="#000000";E.font=Math.floor(10*m.GR())+"px sans-serif";
var b=K.Brsh.v.Dmtr.v.val,q=""+b,O=K.useBrushSize;if(O&&O.v)q="---";var j=E.measureText(q);E.fillText(q,(c-j.width)/2,z-2);
var A=c,g=z-10*m.GR(),H=Math.min(A,g),i=K.Brsh.v.classID;if(i=="computedBrush"){E.translate(A/2,g/2);
E.rotate(-K.Brsh.v.Angl.v.val*Math.PI/180);E.scale(1,.1+.9*K.Brsh.v.Rndn.v.val/100);var h=Math.min(.95*H/2,b/2)+.5,x=.9*K.Brsh.v.Hrdn.v.val/100,F=E.createRadialGradient(0,0,0,0,0,h);
F.addColorStop(x,"rgba(0,0,0,1)");F.addColorStop((.5+x)/1.5,"rgba(0,0,0,.5)");F.addColorStop(1,"rgba(0,0,0,0)");
E.fillStyle=F;E.fillRect(-h,-h,2*h,2*h);E.setTransform(1,0,0,1,0,0)}else if(i=="sampledBrush"){var X,v=0;
for(var y=0;y<o.length;y++)if(o[y].id==K.Brsh.v.sampledData.v)X=o[y];var V=X.JN;d.ZN(V);var U=V[0],Z=V[1].m,T=V[1].e;
while((Z>A||T>g)&&V[v+2]){v+=2;U=V[v];Z=V[v+1].m;T=V[v+1].e}if(Z*T!=0){var P=d.R(Z*T*4);d.cb(U,P,3);
var p=new ImageData(new Uint8ClampedArray(P.buffer),Z,T);E.putImageData(p,Math.round((A-Z)/2),Math.round((g-T)/2))}}else{}return $.toDataURL()};
g3.kc=function(K,o,Y,c){if(Y==0)Y=1;var z=K.Brsh.v,f=z.Dmtr.v.val,$=z.Dmtr.v.val=Math.min(c!=null?Math.round(c*2.6):3e3,f*Y),E=z.Hrdn?z.Hrdn.v.val/100:1,b=c!=null?c:Math.round($*(1+.55*(1-E)))+4,j;
b=Math.max(15,Math.min(b,3e3));var q=new hD(0,0,b,b),O=new g3(K,o,null,{al:1},16711712,0,q);z.Dmtr.v.val=f;
O.moveTo(q.m/2,q.e/2);var A=O.SC(),R=O._U();if(q.BV(R))j=A;else{j=d.R(q.Z()*4);d.iF(A,R,j,q)}return[j,q,$]};
g3.a5f=function(K,o,Y,c){var z=o.m,f=z>>>1;for(var y=0;y<4;y++){var $=6-y;K[z*(f-$)+f-1]=c;K[z*(f-$)+f]=Y;
K[z*(f-$)+f+1]=c;K[z*(f+$)+f-1]=c;K[z*(f+$)+f]=Y;K[z*(f+$)+f+1]=c;K[z*(f-1)+f-$]=c;K[z*f+f-$]=Y;K[z*(f+1)+f-$]=c;
K[z*(f-1)+f+$]=c;K[z*f+f+$]=Y;K[z*(f+1)+f+$]=c}};g3.V8=function(K,o,Y,c){var z=g3.kc(K,o,Y),f=z[0].slice(0),$=z[1],E=z[2],b=$.Z(),q=d.R(b);
d.JI(f,q,3);var O=d.R(b);d.r.ax1(q,O,$,m.GR()>1.9);if(E<3||d.Jy(O,0)||c&&E>12){g3.a5f(O,$,255,0)}var j=[3,5,3,4,8,4,3,5,3];
j=d.f9.Te(j);d.f9.UP(O,q,$.m,$.e,j);d.nz(f,4294967295);d.cb(q,f,3);for(var y=0;y<b;y++)if(O[y]==255){f[y<<2]=f[(y<<2)+1]=f[(y<<2)+2]=0;
f[(y<<2)+3]=255}return{Ol:f,oJ:$,Gf:new jc($.m/2,$.e/2)}};g3.axY=function(K,o,Y,c,z){var f=4278190080|Math.round(z.J*255)<<16|Math.round(z.A*255)<<8|Math.round(z.o*255)<<0;
Y=new Uint32Array(Y.buffer);var $=Math.floor(K.x),E=Math.floor(K.y),b=Math.floor(o.x),q=Math.floor(o.y),O=Math.abs(b-$),j=Math.abs(q-E),A=$<b?1:-1,R=E<q?1:-1,g=O-j;
while(!0){Y[E*c.m+$]=f;if($==b&&E==q)break;var H=2*g;if(H>-j){g-=j;$+=A}if(H<O){g+=O;E+=R}}};g3.C0="0";
g3.Qe="1";g3.GH="2";g3.eJ="3";var au={};au.k2=function(K,o,Y){if(Y==null)Y=!0;var c=K.add.TySh,z=new f3(c.e9,o);
K.DM.nM=z.jN();var f=K.DM.path=au.pk(z,c);if(g1!=0)return[f,z,null];var $=au.hk(f,c.i,b_.fc(c));if(Y){K.rect=$.oJ;
K.buffer=$.y3;K.W()}return[f,z,$]};au.hk=function(K,o,Y){K={G:K.G,z:K.z.slice(0)};d.M.i(K.z,o,K.z);var c=d.M.MN(K.z),z=0;
for(var y=0;y<K.G.length;y++){var f=K.G[y];if(f[0]=="O"&&f[1]=="-")z=Math.max(z,parseFloat(f.split("-").pop()))}z=Math.ceil(z*o._8()/2);
c.VC(z,z);if(c.xf())return{y3:d.R(0),oJ:new hD};var $=d.oN(c.m,c.e);$.translate(-c.x,-c.y);au.aqQ(K,$);
var E=$.getImageData(0,0,c.m,c.e),b=new Uint8Array(E.data.buffer);if(Y==0)for(var y=0;y<b.length;y+=4)b[y+3]=b[y+3]>80?255:0;
if(Y==3)for(var y=0;y<b.length;y+=4)b[y+3]=Math.min(255,b[y+3]*1.5);$.resetTransform();$.beginPath();
return{y3:b,oJ:c}};au.pk=function(K,o,Y){var c=o.i,z=o.e9;au.br=c._8();var f=b_.fc(o),$=Math.max(c.J*c.J,c.b0*c.b0)<1e-9?c:null;
if(f==3||f==4)$=null;var E={G:[],z:[]};au.aeM(K,E,$,!0);au.aeM(K,E,$,!1);E=au.Qf(E,o,K,Y);return E};
au.br=1;au.Qf=function(K,o,Y,c){if(K==null)return K;if(Y&&Y.SR)d.M.i(K.z,Y.SR,K.z);if(Y&&!d.qN.B_(o.PK)){var z=b_._U(o,Y);
if(!z.xf()){if(K.G){K=d.M.dY(K);var f=Math.min(z.m,z.e)/8;if(f<1)f=1;K=d.M.GF(K,f)}var $=d.qN.Mu(o.PK,z);
d.vo.i($,K.z,z)}}var E=o.i;if(c)d.M.i(K.z,E,K.z);return K};au.aqQ=function(K,o){o.save();o.miterLimit=2;
Typr.U.pathToContext({crds:K.z,cmds:K.G},o);o.restore()};au.OO=function(K,o,Y){var c=f3.aAV(Y),z=K.e9,f=z.ResourceDict.FontSet,$=z.ResourceDict.StyleSheetSet[0].StyleSheetData,E=z.EngineDict.StyleRun.RunLengthArray,b=z.EngineDict.StyleRun.RunArray,q=b_.BM(z),O=!0,j={},A=0;
for(var y=0;y<b.length;y++){var R=b[y].StyleSheet.StyleSheetData.Font;if(R==null)R=$.Font;for(var g=0;
g<E[y];g++){var H=q.charCodeAt(A+g),i=R+","+(H>128?H:-1);if(j[i]==null){j[i]=1;if(o.ng(f[R].Name,H)==null)O=!1}}A+=E[y]}return O&&c};
au._1=function(K,o,Y){var c=!0;for(var z=0;z<K.B.length;z++){var f=K.B[z],$=f.add.TySh;if($!=null&&!au.OO($,o,Y))c=!1}return c};
au.tF=function(K,o,Y){for(var c=0;c<K.B.length;c++){var z=K.B[c],f=z.add.TySh;if(f!=null&&au.OO(f,o,Y)){au.k2(z,o);
K.W()}}};au.aeM=function(K,o,Y,c){var z=new dF;for(var y=0;y<K.Nd.length;y++)au.a8g(K.Pf,K.Nd[y],o,z,Y,c)};
au.a8g=function(K,o,Y,c,z,f){c.translate(o.Ja.x,o.Ja.y);for(var y=0;y<o.h4.length;y++){var $={},E=o.h4[y];
if(!E.wz)break;var b=c.clone();b.translate(E.Ja.x,E.Ja.y);if(z){var q=z.Z7+b.Z7*z.gG;b.Z7=(Math.round(q)-z.Z7)/z.gG}for(var O=E.start;
O<E.end;O++)au.aaY(K,o.IW[O],o,$,Y,b,f)}c.translate(-o.Ja.x,-o.Ja.y)};au.avo="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
au.aaY=function(K,o,Y,c,z,f,$){f.translate(o.Ja.x,o.Ja.y);for(var E=o.Yh;E<=o.wQ;E++){var b=Y.mT[E],q=b.oJ.m,O=K[Y.aD5+b.Cb],j=O.XI._FillBackgroundFlag;
if(O.Ts=="\n"||$&&!j)continue;var A=O.XI.FontSize/O.za.head.unitsPerEm,R=f.clone();R.translate(b.Ja.x+b.rR*A,b.Ja.y-b.im*A);
var g=new dF;g.scale(A,-A);if(O.In==1&&au.avo.indexOf(O.Ts)!=-1)g.concat(new dF(-1,0,0,1,q,0));if(O.XI.FauxItalic)g.concat(new dF(1,0,-Math.tan(.18),1,0,0));
g.translate(0,O.ub);g.scale(O.scale.x,O.scale.y);if(O.XI.BaselineShift!=null)g.translate(0,-O.XI.BaselineShift);
if(b.Rs!=0){g.rotate(-b.Rs)}g.concat(R);var H=(O.XI._LineWidth?O.XI._LineWidth:1)*au.br;if($){z.G.push(au.PJ(O.XI._FillBackgroundColor));
var i=1.005*b.oJ.e/A,h=new hD(-b.rR,-i*.27,1.03*b.oJ.m/(A*O.scale.x),i);if(O.XI.StrokeFlag)h.VC(H/A,H/A);
d.M.concat(z,d.M.Yq(h),g);z.G.push("X");continue}if(O.XI.FillFlag)z.G.push(au.PJ(O.XI.FillColor));if(O.XI.StrokeFlag)z.G.push("O-"+au.PJ(O.XI.StrokeColor)+"-"+H);
if(b.path.G.length!=0&&O.Ts!="\t"){if(O.XI.FauxBold){var x=O.XI.FontSize/2048*27*O.scale.x;g.B3+=x;d.M.concat(z,b.path,g);
g.B3-=x+x;d.M.concat(z,b.path,g)}else d.M.concat(z,b.path,g)}if(O.Ts!="\n"){if(O.XI.Underline){if(c.eo==null)c.eo=O.za.post.underlineThickness;
if(c.akb==null)c.akb=O.za.post.underlinePosition;var F=0,X=c.akb-c.eo/2,V=b.w$*1.05,U=-c.eo;d.M.concat(z,{G:["M","L","L","L","Z"],z:[F,X,F+V,X,F+V,X+U,F,X+U]},g)}if(O.XI.Strikethrough){var Z=O.za["OS/2"].yStrikeoutSize,T=O.za["OS/2"].yStrikeoutPosition,F=0,X=T+Z/2,V=b.w$*1.05,U=-Z;
d.M.concat(z,{G:["M","L","L","L","Z"],z:[F,X,F+V,X,F+V,X+U,F,X+U]},g)}}if(O.XI.FillFlag)z.G.push("X");
if(O.XI.StrokeFlag)z.G.push("OX")}f.translate(-o.Ja.x,-o.Ja.y)};au.PJ=function(K){var o=b_.CK(K),Y=(Math.round(o.o)<<16)+(Math.round(o.A)<<8)+Math.round(o.J);
return"#"+d.lP(Y)};function f3(K,o){var Y=b_.C8(K),c,z,f=b_.Ec(K),$=K._LineOrientation==2?new dF:null,O,A;
if(K.Curve)z=f3.Y$(K.Curve);if(Y!=0){c=new hD(f[0],f[1],f[2],f[3]);if($){var E=c.m;c.m=c.e;c.e=E;$.translate(0,-f[2])}if(Y==2){c.m=z[5]-z[4];
c.e=9999}}this.Nd=[];this.Pf=[];this.tM=Y;this.SR=$;var b=this.adh=b_.BM(K),q=-1,j=-1;for(var y=0;y<b.length;
y++){var R=O,g=b_.awL(K,y);if(g!=q){q=g;R=O=b_.aC9(K,g)}var H=A,g=b_.aia(K,y);if(g!=j){j=g;H=A=b_.aoC(K,g)}var i={Ts:b.charAt(y),XI:R,za:null,k1:-1,yd:b_.alS(K,y),ub:0,scale:new jc(0,0),xe:0,lineHeight:0,In:0},h=K.ResourceDict.FontSet[R.Font].Name,x=i.za=o.ng(h,b.charCodeAt(y));
i.scale.x=R.HorizontalScale==null?1:R.HorizontalScale;i.scale.y=R.VerticalScale==null?1:R.VerticalScale;
var F=x["OS/2"],X=x.hhea;if(R.FontCaps==1&&i.Ts!=i.Ts.toUpperCase()){var V=F.sxHeight?F.sxHeight/F.sTypoAscender:.76;
i.scale.x*=V;i.scale.y*=V}var U=1/x.head.unitsPerEm*R.FontSize;if(R.FontBaseline==1){var V=K.ResourceDict.SuperscriptSize;
i.scale.x*=V;i.scale.y*=V;i.ub-=K.ResourceDict.SuperscriptPosition*R.FontSize}if(R.FontBaseline==2){var V=K.ResourceDict.SubscriptSize;
i.scale.x*=V;i.scale.y*=V;i.ub+=K.ResourceDict.SubscriptPosition*R.FontSize}i.xe=f3.xe(x)*R.FontSize;
var Z=H.AutoLeading;i.lineHeight=R.FontSize*(Z==null?1.2:Z);if(R.AutoLeading==!1)i.lineHeight=R.Leading;
if(i.lineHeight==0)i.lineHeight=.01;this.Pf.push(i)}var T=this.Nd,v=[0];for(var y=0;y<K.EngineDict.ParagraphRun.RunLengthArray.length;
y++){var P=new f3.Dv(K,o,this.Pf,y,c,v,Y==1?z:null);T.push(P)}if($){if(Y==0)$.translate(0,T[0].IW[0].xe/2);
$.rotate(-Math.PI/2)}if(Y==2){var p=K.Curve.Points,a=z[0],D=z[1],n=z[2],N=z[3],W=z[4],G=z[5];for(var y=0;
y<T.length;y++)for(var l=0;l<T[y].h4.length;l++)if(!(y==0&&l==0))T[y].h4[l].wz=!1;var P=T[0],u=P.h4[0];
P.Ja.Ex(0,0);u.Ja.Ex(0,0);for(var l=u.start;l<u.end;l++){var e=P.IW[l],M=e.Ja.x;e.Ja.x=0;for(var B=e.Yh;
B<=e.wQ;B++){var s=P.mT[B],t=s.oJ.m/2;s.Ja.x+=M;var J=f3.axg(a,(W+s.Ja.x+t)%N);s.Ja.x=J[0]-t*J[2];s.Ja.y=J[1]-t*J[3];
s.Rs=Math.atan2(J[3],J[2])}}}}f3.xe=function(K){var o=K._hhhh;if(o==null){var Y=Typr.U,c=Y.codeToGlyph(K,104),z=d.M.OA(Typr.U.glyphToPath(K,c).crds).e;
o=K._hhhh=z*(1/K.head.unitsPerEm)}return o};f3.prototype.a0i=function(){return!this.a6U(0)};f3.prototype.auI=function(){return this.a6U(1)};
f3.prototype.a6U=function(K){var o=this.Nd,Y=!0,c=0;for(var y=0;y<o.length;y++){var z=o[y].h4,f=z.length;
c+=f;for(var $=0;$<f;$++)Y&=z[$].wz}return[Y,c][K]};f3.Y$=function(K,o,Y){if(o==null)o=.25;var c=K.Points,z=c.length,f=z>>>3,$=K.TextOnPathTRange,E=K.Reversed,A=0,R=0;
if(E){var b=c.slice(0);for(var y=0;y<z;y+=2){b[y]=c[z-2-y];b[y+1]=c[z-1-y]}c=b;$=[f-$[1]%f,f-$[0]%f]}var q=[],O=[0],j=[0];
for(var y=0;y<z;y+=8){var g=c[y+6]-c[y+0],H=c[y+7]-c[y+1],i=Math.round(Math.sqrt(g*g+H*H)/o),h=Y&&y==z-8?i+1:i;
for(var x=0;x<h;x++){var F=x/i,X=1-F,V=X*X*X*c[y+0]+3*X*X*F*c[y+2]+3*X*F*F*c[y+4]+F*F*F*c[y+6],U=X*X*X*c[y+1]+3*X*X*F*c[y+3]+3*X*F*F*c[y+5]+F*F*F*c[y+7];
q.push(V,U);if(y+x!=0){var g=V-A,H=U-R;j.push(j[j.length-1]+Math.sqrt(g*g+H*H));O.push((y>>>3)+F)}A=V;
R=U}}var o=j.length,Z=j[o-1],T=f3.VJ($[0]%f,O),v=f3.VJ($[1]%f,O),P=j[T%o],p=j[v%o];if(P>=p)p+=Z;return[q,O,j,Z,P,p]};
f3.VJ=function(K,o){var y=0;while(o[y]<K)y++;return y};f3.axg=function(K,o){var Y=0,y=0,c,z,f;while(Y<o){c=K[y+2]-K[y];
z=K[y+3]-K[y+1];f=Math.sqrt(c*c+z*z);Y+=f;y+=2}return[K[y],K[y+1],c/f,z/f]};f3.prototype.a9a=function(K){return this.Pf[K]};
f3.prototype.anR=function(K){for(var o=0;o<this.Nd.length;o++){var Y=this.Nd[o];for(var c=0;c<Y.h4.length;
c++){var z=Y.h4[c],f=Y.IW[z.start].start,$=Y.IW[z.end-1].end;if(f<K&&K<$)return[f,$-1]}}return[0,1]};
f3.prototype.aiP=function(K,o){var Y=-1,c=this.Nd;if(this.tM==2){var z=1e9,f=0,$=c[0],E=$.h4[0];for(var b=E.start;
b<E.end;b++){var q=$.IW[b];for(var O=q.Yh;O<=q.wQ;O++){var j=$.mT[O],A=j.oJ.m,R=K.x-j.Ja.x,g=K.y-j.Ja.y,H=R*R+g*g;
if(H<z){z=H;f=j.Cb}}}if(f!=0&&this.adh.codePointAt(f-1)>65535)f--;return f}for(var i=0;i<c.length;i++){var $=c[i];
for(var h=0;h<$.h4.length;h++){Y++;var E=$.h4[h],x=$.h4[h+1];if(x==null&&i<c.length-1)x=c[i+1].h4[0];
if(o!=null){if(Y!=o)continue}else{if(x!=null&&$.Ja.y+E.Ja.y<K.y)continue}for(var b=E.start;b<E.end;b++){var q=$.IW[b];
for(var O=q.Yh;O<=q.wQ;O++){var j=$.mT[O],A=j.oJ.m,F=$.Ja.x+E.Ja.x+q.Ja.x,X=F+j.Ja.x,V=F+(O<q.wQ?$.mT[O+1].Ja.x:j.Ja.x+A);
if(K.x<=V||b+1==E.end&&O==q.wQ){var U=$.aD5+j.Cb,Z=this.Pf[U],T=Z.In&1;if(Z.Ts!="\n"&&(T==0&&K.x>X+A/2||T==1&&K.x<X+A/2))U+=this.adh.codePointAt(U)>65535?2:1;
return U}}}}}};f3.prototype.wd=function(K){var o={oJ:new hD,LV:0},Y=0;for(var c=0;c<this.Nd.length;c++){var z=this.Nd[c];
for(var f=0;f<z.h4.length;f++){var $=z.h4[f];o.LV=Y;Y++;for(var E=$.start;E<$.end;E++){var b=z.IW[E];
for(var q=b.start;q<b.end;q++){if(q==K){var O=this.Pf[q],j=O.k1,A=z.mT[j].Cb,R=1;while(z.mT[j]!=null&&z.mT[j].Cb==A){var g=z.mT[j],H=z.Ja.x+$.Ja.x+b.Ja.x+g.Ja.x,i=z.Ja.y+$.Ja.y+b.Ja.y+g.Ja.y;
o.oJ=o.oJ.Bb(new hD(H,i-O.lineHeight,g.oJ.m,O.lineHeight));o.Rs=g.Rs;j+=R}return o}}}}}};f3.prototype.jN=function(){var K=Infinity,o=Infinity,Y=-Infinity,c=-Infinity;
for(var y=0;y<this.Nd.length;y++){var z=this.Nd[y];for(var f=0;f<z.h4.length;f++){var $=z.h4[f];if(!$.wz)break;
for(var E=$.start;E<$.end;E++){var b=z.IW[E];for(var q=b.Yh;q<=b.wQ;q++){var O=z.mT[q],j=O.oJ,A=z.Ja.x+$.Ja.x+b.Ja.x+O.Ja.x,R=z.Ja.y+$.Ja.y+b.Ja.y+O.Ja.y;
K=Math.min(K,A+j.x);o=Math.min(o,R+j.y);Y=Math.max(Y,A+j.x+j.m);c=Math.max(c,R+j.y+j.e)}}}}return new hD(K,o,Y-K,c-o)};
f3._W=function(K){return 19968<=K&&K<=40959||12288<=K&&K<=12543};f3.Y7=function(K,o,Y,c,z,f,$){var E=[f],b=0;
for(var y=f;y<$;y++){if(Y[y]==null)console.log(y,f,$,Y);var q=Y[y].Ts,O=q.charCodeAt(0);if(O==32||O==9){E.push(b,y,1,y+1);
b=0}else if(O==3851){E.push(b+1,y+1);b=0}else if(f3._W(O)){E.push(b,y);b=1}else if(y!=f&&Y[y].In!=Y[y-1].In){E.push(b,y);
b=1}else b++}E.push(b);var j=[];for(var y=0;y<E.length;y+=2){var A=E[y],R=E[y+1];if(R==0)continue;j.push(new f3.ajb(K,o,Y,c,z,A,R))}return j};
f3.ayQ=function(K,o,Y,c,z,f,$){var E=[0,o?o.m:1e9],b=[];if(c){var q=K[f].xe,O=z+(z==0?q:K[f].lineHeight),j=O-q*.9,A=d.M.a9$(c[0],j),R=A.length,g=d.M.a9$(c[0],O),H=g.length;
if(R!=0&&H!=0){var i=0,h=0,x=[];while(i<R&&h<H){var F=Math.max(A[i],g[h]),X=A[i+1],V=g[h+1],U=Math.min(X,V);
if(F<U)x.push(F,U);if(X<V)i+=2;else h+=2}if(x.length!=0)E=x}}for(var Z=0;Z<E.length;Z+=2){var T=0,v=f,P=o?E[Z+1]-E[Z]-Y.StartIndent-Y.EndIndent-(f==0?Y.FirstLineIndent:0):Infinity;
while(f!=K.length){var p=K[f],a=T==0||(p.Sp||p.UX)||T+p.oJ.m<P;if(!a)break;T+=p.oJ.m;f++}b.push(f-v)}$[0]=b;
$[1]=E;$[2]=f};f3.asM=function(K,o){var Y=K.length,c=new Uint32Array(Y),z=new Uint8Array(Y),f=0;for(var y=0;
y<Y;y++){z[y]=0;var $=K.charCodeAt(y);c[y]=$;if($>f)f=$}if(f>1424)z=f3.a5$(c,o);return z};f3.afX=function(K){return K=="ß"?K:K.toUpperCase()};
f3.Dv=function(K,o,Y,c,z,f,$){this.IW=[];this.h4=[];this.Ja=new jc(0,0);this.mT=null;this.IW=null;this.XI=b_.aoC(K,c);
var E=this.XI,j=0,g="",F=0,X=1,s=0;if(c!=0){var b=E.SpaceBefore;if(b!=null)f[0]+=b}var q=K.EngineDict.ParagraphRun.RunLengthArray,O=q[c];
for(var y=0;y<c;y++)j+=q[y];var A=E._Direction?E._Direction:0;this.aD5=j;var R=b_.BM(K).slice(j,j+O);
for(var H=0;H<R.length;H++){var i=R.charAt(H);g+=Y[j+H].XI.FontCaps==0?i:f3.afX(i)}R=g;var h=f3.asM(R,A),x=[],V=h[y]&1,U=Y[j].za;
Y[j].In=h[0];for(var y=1;y<R.length;y++){var i=Y[j+y],Z=h[y];i.In=Z;if(Z!=V||i.za!=U){x.push(F,X);F=y;
X=1;V=Z;U=i.za}else X++}x.push(F,X);var T=this.mT=[];for(var y=0;y<x.length;y+=2){var v=x[y],P=x[y+1],p=(Y[j+v].In&1)==0,a=R.slice(v,v+P),D=Typr.U.shapeHB(Y[j+v].za,a,p),n=[],G=0;
for(var H=0;H<D.length;H++){var N=D[H];n.push({A:N.g,Cb:N.cl,w$:N.ax,dn:N.ay,rR:N.dx,im:N.dy})}D=n;var W=D.slice(0);
if(!p)W.reverse();for(var H=0;H<a.length;H++){while(G+1<W.length&&W[G+1].Cb<=H){G++}while(G>0&&W[G-1].Cb==H)G--;
Y[j+v+H].k1=T.length+(p?G:W.length-G-1)}for(var H=0;H<D.length;H++){T.push(D[H]);D[H].Cb+=v;var i=Y[j+D[H].Cb];
if(i.yd!=-1&&i.yd<i.za.maxp.numGlyphs){D[H].A=i.yd;var l=i.za.hmtx;if(l){var u=Object.keys(l)[0];D[H].w$=l[u][i.yd]}}if(i.Ts=="\n")D[H].w$=0;
if(i.Ts=="\t")D[H].w$=i.za.head.unitsPerEm*36/i.XI.FontSize}}var e=b_.yu(E),M=this.IW=f3.Y7(K,o,Y,j,T,j,j+O),B=this.h4,t=-1,g=[null,null,0];
while(s<M.length){f3.ayQ(M,z,E,$,f[0],s,g);t++;var J={start:s,end:0,oJ:new hD,Ja:new jc(0,0),wz:!0},aW=0,ee=0;
B.push(J);J.end=g[2];if(J.start==J.end)throw"e";var L=J.end==M.length;function k(W,v,cp){var eA=cp-v>>>1;
for(var y=0;y<eA;y++){var db=W[v+y];W[v+y]=W[cp-1-y];W[cp-1-y]=db}}for(var C=1;C<5;C++){var r=-1;for(var y=J.start;
y<J.end;y++){var Z=Y[M[y].start].In;if(r==-1&&Z>=C)r=y;else if(r!=-1&&Z<C){k(M,r,y);r=-1}}var Q=J.end;
if(A==0&&M[Q-1].Sp)Q--;if(r!=-1)k(M,r,Q)}var j9=g[0],a4=g[1],r=s,ar=s;for(var ez=0;ez<a4.length;ez+=2){var ja=z?a4[ez+1]-a4[ez]-E.StartIndent-E.EndIndent-(s==0?E.FirstLineIndent:0):Infinity,c3=0;
r=ar;ar+=j9[ez>>>1];var hW=this.aBJ(r,ar,M,A,z!=null);if(z){if(e==1||L&&e==4)c3=hW[1]+(ja-hW[0]);if(e==2||L&&e==5)c3=hW[1]+(ja-hW[0])/2;
if(ar-r==1&&M[r].oJ.m>ja)c3=0;if(t==0)c3+=E.FirstLineIndent;c3+=E.StartIndent}else{if(e==0)c3=E.StartIndent+E.FirstLineIndent;
if(e==1)c3=-hW[0]-E.EndIndent;if(e==2)c3=-hW[0]/2}c3+=a4[ez];if(z&&e>2&&(e==6||!L))this.anh(r,ar,M,ja,A,c3);
else{var fO=c3;for(var y=r;y<ar;y++){var ei=M[y],fV=ei.oJ.m;ei.Ja.x=fO;if(ei.kS=="\t")fV=Math.ceil((fO+4)/36)*36-fO;
fO+=fV}}}s=J.end;for(var y=J.start;y<J.end;y++){var hM=M[y].oJ.clone();hM.Em(M[y].Ja);J.oJ=J.oJ.Bb(hM);
aW=Math.max(aW,M[y].xe);ee=Math.max(ee,M[y].lineHeight)}J.Ja.y=t==0?0:B[t-1].Ja.y+ee;if(t==0){if(c==0&&z)f[0]+=aW;
if(c!=0)f[0]+=ee;this.Ja.y=f[0]}else f[0]+=ee;if(z)J.wz=this.Ja.y+J.Ja.y<z.y+z.e||c==0&&t==0}var ds=E.SpaceAfter;
if(ds!=null)f[0]+=ds};f3.Dv.prototype.aBJ=function(K,o,Y,c,z){var f=0,$=0;for(var y=K;y<o;y++)f+=Y[y].oJ.m;
if(z){if(c==0)for(var y=o-1;y>=K;y--)if(Y[y].Sp||Y[y].UX)f-=Y[y].oJ.m;else break;if(c==1)for(var y=K;
y<o;y++)if(Y[y].Sp||Y[y].UX){var E=Y[y].oJ.m;f-=E;$-=E}else break}return[f,$]};f3.Dv.prototype.anh=function(K,o,Y,c,z,f){var $=0,E=0,b=0,q=0;
for(var y=K;y<o;y++)if(Y[y].Sp)b++;else{$+=Y[y].oJ.m;E++}if(z==0)for(var y=o-1;y>=K;y--)if(Y[y].Sp||Y[y].UX){if(Y[y].Sp){b--}}else break;
if(z==1)for(var y=K;y<o;y++)if(Y[y].Sp||Y[y].UX){if(Y[y].Sp){b--;q++}}else break;if(E<=1||b==0){if(E==1)Y[K].Ja.x=f;
return}var O=(c-$)/b,j=-q*O;for(var y=K;y<o;y++){if(Y[y].Sp)this.mT[Y[y].Yh].oJ.m=Y[y].oJ.m=O;Y[y].Ja.x=f+j;
j+=Y[y].oJ.m}};f3.ajb=function(K,o,Y,c,z,f,$){this.kS="";for(var y=0;y<$;y++)this.kS+=Y[f+y].Ts;this.Sp=$==1&&(Y[f].Ts==" "||Y[f].Ts=="\t");
this.UX=$==1&&Y[f].Ts=="\n";this.start=f;this.end=f+$;this.oJ=new hD;this.Ja=new jc(0,0);this.xe=0;this.lineHeight=0;
var E=0,b=0;if($==0){this.lineHeight=Y[f].lineHeight;this.xe=Y[f].xe;this.oJ=new hD(0,-Y[f].lineHeight,0,Y[f].lineHeight)}var q=Y[f].k1,O=Y[f+$-1].k1;
if(O<q){var j=q;q=O;O=j}while(O+1<z.length&&z[O].Cb==z[O+1].Cb){O++}this.Yh=q;this.wQ=O;for(var A=q;
A<=O;A++){var R=z[A],g=Y[c+R.Cb],H=K._LineOrientation==2&&(g.XI.BaselineDirection!=2||f3._W(g.Ts.charCodeAt(0))),i=Typr.U.glyphToPath(g.za,R.A),V=0;
R.path={G:i.cmds,z:i.crds};var h=g.XI.FontSize,x=1/g.za.head.unitsPerEm*h;if(!g.XI.AutoKerning)E+=g.XI.Kerning*2*x*g.scale.x;
R.Ja=new jc(E,0);R.Rs=0;if(H&&R.path.z.length>0){R.Rs=-Math.PI/2;R.Ja.x+=h*.83;R.Ja.y=-h*.3+R.w$*x/2;
R.w$=h/x}var F=R.w$*x*g.scale.x;R.oJ=new hD(0,-g.lineHeight,F,g.lineHeight);var X=R.oJ.clone();X.Em(R.Ja);
if(g.XI.Tracking!=null)V=g.XI.Tracking*.001*h;if(g.XI.FauxBold==!0)V+=.027*h;E+=F+V;if($==1&&g.Ts==" ")X.m+=2*V;
else if($==1&&g.Ts!=null&&f3._W(g.Ts.charCodeAt(0)))X.m+=V;this.oJ=this.oJ.Bb(X);this.xe=Math.max(this.xe,g.xe);
this.lineHeight=Math.max(this.lineHeight,g.lineHeight)}};f3.$O=0;f3.aAV=function(K){if(f3.$O==2)return!0;
if(f3.$O==1)return!1;f3.$O=1;function o(){fetch("code/ext/fribidi.wasm").then(function(Y){return Y.arrayBuffer()}).then(function(Y){return WebAssembly.instantiate(Y)}).then(function(Y){var c=Y.instance.exports,z=c.memory,f=16,$=256,E=1,b=f|$,q=f|$|E;
f3.a5$=function(j,R){var g=j.length,H=g*4+4+g*4+g*4+g;fv.g$(c,H+g+1e7);var i=new Uint8Array(z.buffer),h=new Uint32Array(z.buffer),x=c.calloc(H,1),F=x+g*4,X=F+4,V=X+g*4,U=V+g*4;
h.set(j,x>>>2);h[F>>>2]=R==0?b:q;c.fribidi_get_bidi_types(x,g,X);c.fribidi_get_bracket_types(x,g,X,V);
c.fribidi_get_par_embedding_levels_ex(X,V,g,F,U);var Z=i.slice(U,U+g);c.free(x);return Z};f3.$O=2;var O=new h1(w.E.L,!0);
O.data={d:w.I.Ak,Yr:"add",VS:bB.Kx,Uo:null};K.c(O)})}Typr.U.initHB("code/ext/hb.wasm",o);return!1};function b_(){}b_.mD=function(K){return JSON.parse(JSON.stringify(K))};
b_.zW=function(K,o){for(var Y in o)K[Y]=o[Y]};b_.HO=function(K,o,Y,c){var z=b_.a4w();if(Y)b_.K2(z,0,0,Y);
var f=new dF;if(c!=null)f.rotate(c);f.translate(Math.round(K),Math.round(o));var $={i:f,e9:z};$.XE=b_.ayh();
$.PK=d.qN.R();$.jT=new hD;return $};b_.as0=function(K){var o=["CharacterDirection",0];for(var y=0;y<o.length;
y+=2){if(K[o[y]]!=null&&K[o[y]]!=o[y+1]){throw"e";console.log(o[y],K[o[y]])}}if(K instanceof Array)for(var y=0;
y<K.length;y++)b_.as0(K[y]);else if(K instanceof Object)for(var Y in K)b_.as0(K[Y])};b_.yu=function(K,o){if(o==null)o=K.Justification;
var Y=K._Direction?K._Direction:0;if(Y==1){if(o==0||o==3)o++;else if(o==1||o==4)o--}return o};b_.eV=function(K){if(K.add==null)return;
var o=K.e9,Y=o.Curve,c=K.add.vmsk,z=c.$,f=d.M.Y0(z,2).z,$=K.i.clone();$.oD();d.M.i(f,$,f);var E=f.slice(0,8);
for(var b=8;b<f.length;b+=6)E.push(f[b-2],f[b-1],f[b],f[b+1],f[b+2],f[b+3],f[b+4],f[b+5]);Y.Points=E;
Y.TextOnPathTRange=c.vh.slice(0);Y.Reversed=c.Qn;if(b_.C8(o)==1){var Y=f3.Y$(o.Curve),q=d.M.OA(Y[0]);
b_.X$(o,[0,0,q.m,q.e].map(Math.round));for(var y=0;y<E.length;y+=2){E[y]-=q.x;E[y+1]-=q.y}var O=new dF(1,0,0,1,q.x,q.y);
O.concat(K.i);K.i=O}};b_.Ac=function(K){if(K.add==null)return;var o=K.add.vmsk,Y=K.e9.Curve,c=Y.Points,z={G:["M"],z:[c[0],c[1]]};
for(var y=0;y<c.length;y+=8){z.G.push("C");z.z.push(c[y+2],c[y+3],c[y+4],c[y+5],c[y+6],c[y+7])}d.M.i(z.z,K.i,z.z);
var f=d.M.eX(z,!0);o.$=f;o.Qn=Y.Reversed;o.vh=Y.TextOnPathTRange.slice(0);K.add.vogk=S.D8(f)};b_.CK=function(K){var o={o:0,A:0,J:0};
if(K){var Y=K.Values;if(K.Type==1)o={o:Y[1]*255,A:Y[2]*255,J:Y[3]*255};else if(K.Type==2){var c={classID:"CMYC",Cyn:{t:"doub",v:Y[1]*100},Mgnt:{t:"doub",v:Y[2]*100},Ylw:{t:"doub",v:Y[3]*100},Blck:{t:"doub",v:Y[4]*100}};
o=d.H.CK(c)}else console.log("Unknown color type")}return o};b_.aoY=function(K){for(var y=0;y<K.length;
y++){var o=K[y].StyleSheet.StyleSheetData,Y=o.FillColor;if(Y&&Y.Type==2){var c=b_.CK(Y);Y.Type=1;Y.Values=[1,c.o/255,c.A/255,c.J/255]}}};
b_._U=function(K,o){var Y;if(b_.C8(K.e9)==1){var c=b_.Ec(K.e9);Y=new hD(0,0,c[2]-c[0],c[3]-c[1])}else{Y=o.jN();
if(o.SR){var z=o.SR.clone(),f=d.M.Yq(Y);d.M.i(f.z,z,f.z);Y=d.M.OA(f.z)}}return Y};b_.mL=function(K){var o=K[0];
for(var y=0;y<K.length;y++)o=b_.azE(o,K[y]);return o};b_.azE=function(K,o){var Y={};for(var c in K)if(JSON.stringify(K[c])==JSON.stringify(o[c]))Y[c]=K[c];
return Y};b_.iN=function(K,o){var Y=K.qu,c=-1;for(var y=0;y<Y.length;y++)if(Y[y].Name==o)c=y;if(c==-1){c=Y.length;
Y.push({FontType:1,Name:o,Script:0,Synthetic:0})}K.Pf.Font=c};b_.BM=function(K){return K.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
b_.v4=function(K,o){K.EngineDict.Editor.Text=o.replace(/\n/g,"\r")};b_.C8=function(K){return K.Curve&&K.Curve.TextOnPathTRange[0]>=0?2:K.EngineDict.Rendered.Shapes.Children[0].ShapeType};
b_.go=function(K,o){var Y=K.EngineDict.Rendered.Shapes.Children[0];Y.ShapeType=o;var c=Y.Cookie.Photoshop;
c.ShapeType=o;c.Base.ShapeType=o;if(o==0){delete c.BoxBounds;c.PointBase=[0,0]}if(o==1){delete c.PointBase;
c.BoxBounds=[0,0,1,1]}};b_.Ec=function(K){return K.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
b_.X$=function(K,o){K.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=o};b_.alS=function(K,o){var Y=K.EngineDict.AlternateGlyphRun;
if(Y==null)return-1;var c=b_.J5(Y.RunLengthArray,o).SN;if(Y.RunArray[c]==null)return-1;var z=Y.RunArray[c].Glyph;
return z==null?-1:z};b_.aBf=function(K,o,Y){var c=K.EngineDict.AlternateGlyphRun;if(c==null){c=K.EngineDict.AlternateGlyphRun=b_.a7K();
c.RunArray.push({});c.RunLengthArray.push(b_.BM(K).length)}var z=b_.J5(c.RunLengthArray,o),f=z.SN,$=o-z.rl,E=c.RunArray[f],b=JSON.stringify(E),q=c.RunLengthArray[f];
if($!=0){c.RunArray.splice(f,0,JSON.parse(b));c.RunLengthArray.splice(f,0,$);c.RunLengthArray[f+1]-=$;
f++;q-=$;$=0}if(q!=1){c.RunArray.splice(f+1,0,JSON.parse(b));c.RunLengthArray.splice(f+1,0,q-1);c.RunLengthArray[f]=1;
q=1}E.Glyph=Y};b_.awL=function(K,o){var Y=K.EngineDict.StyleRun.RunLengthArray;return b_.J5(Y,o).SN};
b_.aC9=function(K,o){var Y=K.ResourceDict.StyleSheetSet[0].StyleSheetData,c={};for(var z in Y)c[z]=Y[z];
var f=K.EngineDict.StyleRun.RunArray[o].StyleSheet.StyleSheetData;b_.zW(c,f);return c};b_.aia=function(K,o){var Y=K.EngineDict.ParagraphRun.RunLengthArray;
return b_.J5(Y,o).SN};b_.aoC=function(K,o){var Y=K.ResourceDict.ParagraphSheetSet[0].Properties,c={};
for(var z in Y)c[z]=Y[z];var f=K.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties;b_.zW(c,f);
var $=["StartIndent","EndIndent","FirstLineIndent"];for(var y=0;y<3;y++)if(c[$[y]]==null)c[$[y]]=0;return c};
b_.Df=function(K,o,Y){if(Y=="")return;var c=b_.BM(K);b_.v4(K,c.substring(0,o)+Y+c.substring(o,c.length));
var z=K.EngineDict.StyleRun,f=z.RunLengthArray,$=b_.J5(f,o-1);f[$.SN]+=Y.length;var E=K.EngineDict.AlternateGlyphRun;
if(E){var f=E.RunLengthArray,$=b_.J5(f,o-1);f[$.SN]+=Y.length}var b=K.EngineDict.ParagraphRun,f=b.RunLengthArray,q=b_.J5(f,o),O=Y.split("\n");
if(O.length==1){f[q.SN]+=Y.length;return}f.splice(q.SN+1,0,f[q.SN]-(o-q.rl));b.RunArray.splice(q.SN+1,0,b_.mD(b.RunArray[q.SN]));
f[q.SN]-=f[q.SN+1];f[q.SN]+=O[0].length+1;for(var y=1;y<O.length-1;y++){b.RunArray.splice(q.SN+y,0,b_.mD(b.RunArray[q.SN+y-1]));
b.RunLengthArray.splice(q.SN+y,0,O[y].length+1)}f[q.SN+O.length-1]+=O[O.length-1].length};b_.eO=function(K,o,Y){var c=b_.BM(K);
b_.v4(K,c.substring(0,o)+c.substring(Y,c.length));b_.vG(K.EngineDict.ParagraphRun,o,Y,!0);b_.vG(K.EngineDict.StyleRun,o,Y,!1);
var z=K.EngineDict.AlternateGlyphRun;if(z)b_.vG(z,o,Y,!1)};b_.vG=function(K,o,Y,c){var z=K.RunLengthArray,f=b_.J5(z,o),$=b_.J5(z,Y),E=[];
for(var y=0;y<z.length;y++)for(var b=0;b<z[y];b++)E.push(y);E.splice(o,Y-o);var q=[];for(var y=0;y<z.length;
y++)q.push(0);for(var y=0;y<E.length;y++)q[E[y]]++;for(var y=0;y<z.length;y++){if(q[y]==0){q.splice(y,1);
z.splice(y,1);K.RunArray.splice(y,1);y--}else if(q[y]<z[y])z[y]=q[y]}if(c&&f.SN!=$.SN&&f.rl!=o){z[f.SN]+=z[f.SN+1];
z.splice(f.SN+1,1);K.RunArray.splice(f.SN+1,1)}};b_.K2=function(K,o,Y,c){var z=K.EngineDict.Editor.Text.length;
if(Y==z-2)Y++;if(c.Pf.Font!=null)K.ResourceDict.FontSet=c.qu.slice(0);if(o<=Y)b_.aam(K.EngineDict.StyleRun,c.Pf,o,Y,!0);
b_.aam(K.EngineDict.ParagraphRun,c.Nd,o,Y,!1)};b_.Sw=function(K,o,Y){var c={qu:K.ResourceDict.FontSet.slice(0),Pf:[],Nd:[]},z=K.EngineDict.StyleRun.RunLengthArray,f=b_.J5(z,o).SN,$=b_.J5(z,Y).SN;
for(var y=f;y<=$;y++){var E=b_.mD(K.ResourceDict.StyleSheetSet[0].StyleSheetData),b=K.EngineDict.StyleRun.RunArray;
if(b.length==0)continue;var q=b[y].StyleSheet.StyleSheetData;b_.zW(E,q);c.Pf.push(E)}var O=K.EngineDict.ParagraphRun.RunLengthArray,j=b_.J5(O,o).SN,A=b_.J5(O,Y).SN;
for(var y=j;y<=A;y++){var R=K.EngineDict.ParagraphRun.RunArray;if(R.length==0)continue;c.Nd.push(b_.mD(R[y].ParagraphSheet.Properties))}c.Pf=c.Pf.length==0?{}:b_.mL(c.Pf);
c.Nd=c.Nd.length==0?{}:b_.mL(c.Nd);return c};b_.aam=function(K,o,Y,c,z){var f=K.RunLengthArray;if(z){var $=b_.J5(f,Y);
if($.rl!=Y){var E=f[$.SN];f.splice($.SN,0,Y-$.rl);f[$.SN+1]=E-f[$.SN];K.RunArray.splice($.SN+1,0,b_.mD(K.RunArray[$.SN]))}var b=b_.J5(f,c);
if(b.rl+f[b.SN]-1!=c){var E=f[b.SN];f.splice(b.SN,0,c-b.rl+1);f[b.SN+1]=E-f[b.SN];K.RunArray.splice(b.SN+1,0,b_.mD(K.RunArray[b.SN]))}}var $=b_.J5(f,Y),b=b_.J5(f,c);
if(z)for(var y=$.SN;y<=b.SN;y++)b_.zW(K.RunArray[y].StyleSheet.StyleSheetData,o);else for(var y=$.SN;
y<=b.SN;y++)b_.zW(K.RunArray[y].ParagraphSheet.Properties,o)};b_.atL=function(K,o,Y){var c=K.EngineDict.StyleRun.RunLengthArray,z=[],f=0;
for(var y=0;y<c.length;y++){var $=c[y];for(var E=0;E<$;E++)if(o<=f+E&&f+E<Y)z.push(y);f+=$}var b=z[0],q=[];
for(var y=0;y<z.length;y++){var O=z[y]-b;if(O==q.length)q.push(0);q[O]++}return q};b_.aCb=function(K){var o=K.EngineDict.StyleRun,Y=o.RunArray,c=o.RunLengthArray;
for(var y=0;y<c.length-1;y++){var z=Y[y].StyleSheet.StyleSheetData,f=Y[y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(z)==JSON.stringify(f)){Y.splice(y+1,1);c[y]+=c[y+1];c.splice(y+1,1);y--}}};b_.fc=function(K){var o=K.XE.AntA.v.Annt;
o=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(o);if(o==-1)o=1;return o};b_.r2=function(K,o){K.XE.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][o]};
b_.XA=function(K,o){var Y,c;Y=["FontSize","Leading","BaselineShift","_LineWidth"];c=K.Pf;for(var y=0;
y<Y.length;y++)if(c[Y[y]]!=null)c[Y[y]]*=o;Y=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
c=K.Nd;for(var y=0;y<Y.length;y++)if(c[Y[y]]!=null)c[Y[y]]*=o};b_.aCA=function(){return b_.Sw(b_.a6h,0,0)};
b_.ayh=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
b_.J5=function(K,o){var Y=0,y=0;while(Y+K[y]<=o){Y+=K[y];y++}return{SN:y,rl:Y}};b_.a4w=function(){var K=b_.mD(this.a6h);
return K};b_.aCX=function(K,o){var Y=o.Nd};b_.azJ=function(K,o){var Y=o.Pf,c;c=K.Undl;if(c&&c.v.Undl=="underlineOnLeftInVertical")Y.Underline=!0;
c=K.syntheticItalic;if(c)Y.FauxItalic=c.v};b_.aBn={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
b_.a6x={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
b_.a7K=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};b_.a6h={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(b_.aBn))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(b_.aBn))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(b_.a6x))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var fm={};fm.auE=function(K){var o=fm.aBy(K._0,K._1);fm.a1P(o,K._0);return o};fm.ayX=function(K,o,Y){var c={};
c._98={_0:"i7"};c._0=fm.a2S(K,o,Y?Y._0:null);c._1=fm.atl(K,o,c._0,Y?Y._1:null);return c};fm.a2S=function(K,o,Y){var c={};
c._1=fm.aii(K,Y?Y._1:null);c._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};c._3=JSON.parse(JSON.stringify(fm.a20));
c._4=JSON.parse(JSON.stringify(fm.agl));c._5=fm.aeP(K,c._1._0,Y?Y._5:null);c._6=fm.arn(K,Y?Y._6:null);
c._8=fm.abm(K,o,Y?Y._8:null);c._9=fm.avb;return c};fm.a1P=function(K,o){fm.aad(K,o._5,o._1._0)};fm.aii=function(K,o){var Y=[],c=[];
for(var y=0;y<K.length;y++){var z=K[y].ResourceDict.FontSet;for(var f=0;f<z.length;f++){var $=z[f];if(c.indexOf($.Name)!=-1)continue;
Y.push($);c.push($.Name)}}var E={_0:[]};for(var y=0;y<Y.length;y++){var b=Y[y],q={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+b.Name,_1:"i"+b.Script,_2:"i"+b.FontType}}};
if(b.Script==0)delete q._0._0._1;E._0.push(q)}return E};fm.aeP=function(K,o,Y){var c={_0:[],_1:[]},z={_0:JSON.parse(JSON.stringify(fm.acR))};
fm.a4U(z._0,K[0].ResourceDict.StyleSheetSet[0],o,K[0].ResourceDict.FontSet);c._0.push(z);c._1.push({_0:"i0"});
c._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});c._1.push({_0:"i1"});return c};fm.aad=function(K,o,Y){var c=o._0[0];
for(var y=0;y<K.length;y++)fm.abj(c._0,K[y].ResourceDict.StyleSheetSet[0],Y,K[y].ResourceDict.FontSet)};
fm.arn=function(K,o){var Y={_0:[],_1:[]},c={_0:JSON.parse(JSON.stringify(fm.zN))};fm.Vu(c._0,K[0].ResourceDict.ParagraphSheetSet[0]);
Y._0.push(c);Y._1.push({_0:"i0"});c={_0:JSON.parse(JSON.stringify(fm.zN))};fm.Vu(c._0,K[0].ResourceDict.ParagraphSheetSet[0]);
c._0._0="sBasic Paragraph";c._0._6="i0";Y._0.push(c);Y._1.push({_0:"i1"});return Y};fm.abm=function(K,o,Y){var c={_0:[]};
for(var y=0;y<K.length;y++){var z=K[y].Curve,f={};c._0.push({_0:f});var $=b_.C8(K[y]);f._1={};f._2={};
f._2._0="i"+$;if(K[y]._LineOrientation==2)f._2._1="i2";if($==0){delete f._1;f._2._6=["f-1","f-1"];f._2._11={_4:"i-1",_7:!1}}else if($==1&&z==null){var E=b_.Ec(K[y]),b=E[2],q=E[3];
f._1._0=fm.uT("f",[0,0,0,0,b,0,b,0,b,0,b,0,b,q,b,q,b,q,b,q,0,q,0,q,0,q,0,q,0,0,0,0]);f._2._6=["f-2","f-2"];
f._2._11={_4:"i-2",_7:!1}}else if($==1){var E=b_.Ec(K[y]),b=E[2],q=E[3];f._1._0=fm.uT("f",z.Points);
f._2._6=["f-3","f-3"];f._2._11={_4:"i-3",_7:!1}}else if($==2){f._1._0=fm.uT("f",z.Points);f._2._6=fm.uT("f",z.TextOnPathTRange);
f._2._11={_0:z.Reversed,_3:"i0",_5:"f0",_7:!1}}}return c};fm.atl=function(K,o,Y,c){var z={};z._0=JSON.parse(JSON.stringify(fm.a61));
z._1=fm.ahE(K,o,Y,c?c._1:null);z._2=JSON.parse(JSON.stringify(fm.acR._6));z._3=JSON.parse(JSON.stringify(fm.zN._5));
return z};fm.aBy=function(K,o){return fm.a38(K,o._1)};fm.ahE=function(K,o,Y,c){var z=[],f=Y._1._0;for(var y=0;
y<K.length;y++){var $=K[y],E={_0:{}};z.push(E);E._0._0="s"+$.EngineDict.Editor.Text;E._0._0=E._0._0;
var b=E._0._5={_0:[]},q=$.EngineDict.ParagraphRun;for(var O=0;O<q.RunArray.length;O++){var j={_0:{}};
b._0.push(j);j._0._0={_0:"s",_5:{},_6:"i1"};fm.Vu(j._0._0,q.RunArray[O].ParagraphSheet);j._1="i"+q.RunLengthArray[O]}var A=E._0._6={_0:[]};
q=$.EngineDict.StyleRun;for(var O=0;O<q.RunArray.length;O++){var R={_0:{}};A._0.push(R);R._0._0={_0:"s",_5:"i1",_6:{}};
fm.a4U(R._0._0,q.RunArray[O].StyleSheet,f,$.ResourceDict.FontSet);R._1="i"+q.RunLengthArray[O]}q=$.EngineDict.AlternateGlyphRun;
if(q){var g=E._0._9={_0:[]};for(var O=0;O<q.RunArray.length;O++){var H={_0:{}};g._0.push(H);var i=q.RunArray[O];
if(i.Glyph!=null){H._0._0={_0:"i"+i.Glyph,_1:"e"}}H._1="i"+q.RunLengthArray[O]}}E._0._10={_0:"i4",_2:!0};
E._1=fm.view.avS($,null,y,null)}return z};fm.a38=function(K,o){var Y=[],c=K._1._0;if(o)for(var y=0;y<o.length;
y++){var z=b_.a4w();Y.push(z);var f=o[y];z.EngineDict.Editor.Text=f._0._0.slice(1);var $=z.EngineDict.ParagraphRun.RunArray[0],E=z.EngineDict.ParagraphRun,b=f._0._5;
if(b)for(var q=0;q<b._0.length;q++){var O=b._0[q];E.RunLengthArray[q]=parseInt(O._1.slice(1));E.RunArray[q]=JSON.parse(JSON.stringify($));
fm.aCt(O._0._0,E.RunArray[q].ParagraphSheet)}else{E.RunLengthArray[0]=b_.BM(z).length}var j=f._0._6;
E=z.EngineDict.StyleRun;if(j)for(var q=0;q<j._0.length;q++){var A=j._0[q];E.RunLengthArray[q]=parseInt(A._1.slice(1));
E.RunArray[q]={StyleSheet:{StyleSheetData:{}}};fm.abj(A._0._0,E.RunArray[q].StyleSheet,c,z.ResourceDict.FontSet)}else{E.RunLengthArray[0]=b_.BM(z).length;
E.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return Y};fm.a4U=function(K,o,Y,c,z){K._0="s"+(o.Name?o.Name:"");
var f=K._6,$=z?z._6:null,E=o.StyleSheetData;if(E.Font!=null){var b=c[E.Font].Name,q=-1;for(var y=0;y<Y.length;
y++)if("s"+b==Y[y]._0._0._0){q=y;break}f._0="i"+q}if(E.FontSize!=null)f._1="f"+E.FontSize;if(E.FauxBold!=null)f._2=E.FauxBold;
if(E.FauxItalic!=null)f._3=E.FauxItalic;if(E.AutoLeading!=null)f._4=E.AutoLeading;if(E.Leading!=null)f._5="f"+E.Leading;
if(E.HorizontalScale!=null)f._6="f"+E.HorizontalScale;if(E.VerticalScale!=null)f._7="f"+E.VerticalScale;
if(E.Tracking!=null)f._8="i"+E.Tracking;if(E.BaselineShift!=null)f._9="f"+E.BaselineShift;if(E.AutoKerning!=null)f._11="i"+(E.AutoKerning?1:0);
if(E.FontCaps!=null)f._12="i"+E.FontCaps;if(E.FontBaseline!=null)f._13="i"+E.FontBaseline;if(E.Strikethrough!=null)f._15="i"+(E.Strikethrough?1:0);
if(E.Underline!=null)f._16="i"+(E.Underline?2:0);if(E.Ligatures!=null)f._18=E.Ligatures;if(E.DLigatures!=null)f._19=E.DLigatures;
if(E.BaselineDirection!=null)f._35="i"+E.BaselineDirection;if(E.Language!=null)f._38="i"+E.Language;
if(E.FillColor!=null)f._53=fm.PJ(E.FillColor);if(E.StrokeColor!=null)f._54=fm.PJ(E.StrokeColor);if(E.FillFlag!=null)f._56=E.FillFlag;
if(E.StrokeFlag!=null)f._57=E.StrokeFlag;if(E._LineWidth!=null)f._63="f"+E._LineWidth;if(E._FillBackgroundColor!=null)f._79=fm.PJ(E._FillBackgroundColor);
if(E._FillBackgroundFlag!=null)f._80=E._FillBackgroundFlag};fm.PJ=function(K){return{_99:"/SimplePaint",_0:{_0:"i1",_1:fm.uT("f",K.Values)}}};
fm.abj=function(K,o,Y,c){var z=K._6;if(z==null)return;var f=o.StyleSheetData;if(z._0){var $=parseInt(z._0.slice(1)),E=Y[$]._0._0._0.slice(1);
b_.iN({Pf:f,qu:c},E)}if(z._1!=null)f.FontSize=parseFloat(z._1.slice(1));if(z._2!=null)f.FauxBold=z._2;
if(z._3!=null)f.FauxItalic=z._3;if(z._4!=null)f.AutoLeading=z._4;if(z._5!=null)f.Leading=parseFloat(z._5.slice(1));
if(z._6!=null)f.HorizontalScale=parseFloat(z._6.slice(1));if(z._7!=null)f.VerticalScale=parseFloat(z._7.slice(1));
if(z._8!=null)f.Tracking=parseFloat(z._8.slice(1));if(z._9!=null)f.BaselineShift=parseFloat(z._9.slice(1));
if(z._11!=null)f.AutoKerning=parseFloat(z._11.slice(1))==1;if(z._12!=null)f.FontCaps=parseFloat(z._12.slice(1));
if(z._13!=null)f.FontBaseline=parseFloat(z._13.slice(1));if(z._15!=null)f.Strikethrough=parseFloat(z._15.slice(1))==1;
if(z._16!=null)f.Underline=parseFloat(z._16.slice(1))==1;if(z._18!=null)f.Ligatures=z._18;if(z._19!=null)f.DLigatures=z._19;
if(z._35!=null)f.BaselineDirection=parseFloat(z._35.slice(1));if(z._38!=null)f.Language=parseFloat(z._38.slice(1));
if(z._53!=null)f.FillColor=fm.Kw(z._53);if(z._54!=null)f.StrokeColor=fm.Kw(z._54);if(z._56!=null)f.FillFlag=z._56;
if(z._57!=null)f.StrokeFlag=z._57;if(z._63!=null)f._LineWidth=parseFloat(z._63.slice(1));if(z._79!=null)f._FillBackgroundColor=fm.Kw(z._79);
if(z._80!=null)f._FillBackgroundFlag=z._80};fm.Kw=function(K){var o=K._0._0,Y=K._0._1,c=[1,0,0,0],z=[];
for(var y=0;y<Y.length;y++)z[y]=parseFloat(Y[y].slice(1));if(o=="i0")c[1]=c[2]=c[3]=z[1];else if(o=="i1")c=z;
else if(o=="i2")c=[1].concat(UDOC.C.cmykToRgb(z.slice(1)));else console.log("unknown color type",o,z);
return{Type:1,Values:c}};fm.Vu=function(K,o){K._0="s"+(o.Name?o.Name:"");var Y=K._5,c=o.Properties;if(c.Justification!=null)Y._0="i"+c.Justification;
if(c.FirstLineIndent!=null)Y._1="f"+c.FirstLineIndent;if(c.StartIndent!=null)Y._2="f"+c.StartIndent;
if(c.EndIndent!=null)Y._3="f"+c.EndIndent;if(c.SpaceBefore!=null)Y._4="f"+c.SpaceBefore;if(c.SpaceAfter!=null)Y._5="f"+c.SpaceAfter;
if(c.AutoLeading!=null)Y._7="f"+c.AutoLeading;if(c.AutoHyphenate!=null)Y._9=c.AutoHyphenate;if(c._Direction!=null)Y._33="i"+c._Direction;
if(c._ComposerEngine!=null)Y._35="i"+c._ComposerEngine};fm.aCt=function(K,o){var Y=K._5;if(Y==null)return;
var c=o.Properties;if(Y._0)c.Justification=parseInt(Y._0.slice(1))};fm.uT=function(K,o){var Y=[];for(var y=0;
y<o.length;y++)Y.push(K+o[y]);return Y};fm.a20={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
fm.agl={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
fm.acR={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
fm.zN={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
fm.avb={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
fm.a61={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var jM={};jM.axc=function(K){return jM.FA(K,jM.M1,0)};jM.ana=function(K){return jM.NV(K,jM.M1)};jM.FA=function(K,o,Y){var c;
if(typeof K=="string")return K;if(K instanceof Array){c=[];for(var y=0;y<K.length;y++)c[y]=jM.FA(K[y],o,Y+1)}else{c={};
var z={};for(var f in o){var $=o[f],E="_"+$[0];if(K[E]!=null){c[f]=$[1]?jM.FA(K[E],$[1],Y+1):K[E];z[E]=!0}}for(var f in K){if(z[f]==null){if(f.length>3)continue;
console.log(o,z);console.log(f,K);throw"e"}}}return c};jM.NV=function(K,o){var Y;if(typeof K=="string")return K;
else if(K instanceof Array){Y=[];for(var y=0;y<K.length;y++)Y[y]=jM.NV(K[y],o)}else{Y={};var c={};for(var z in o){var f=o[z],$="_"+f[0];
if(K[z]!=null){Y[$]=f[1]?jM.NV(K[z],f[1]):K[z];c[z]=!0}}for(var z in K){if(c[z]==null){console.log(o,c);
console.log(z,K);throw"e"}}}return Y};jM.vR={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
jM.$R={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,jM.vR],_StrokeColor:[54,jM.vR],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,jM.vR],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
jM.alR={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,jM.$R],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
jM.aCJ={_Name:[0],_Features:[5,jM.alR],_Parent:[6],_UUID:[97]};jM.a81={_Name:[0],_Parent:[5],_Features:[6,jM.$R],_UUID:[97]};
jM.M1={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,jM.a81]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,jM.aCJ]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,jM.aCJ]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,jM.a81]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,jM.$R],_OriginalNormalParagraphFeatures:[3,jM.alR]}]};
fm.view={};fm.view.avS=function(K,o,Y,c){var z={},f=b_.C8(K);z._0=[{_0:"i"+Y}];return z};function CSS(){}CSS.a41=function(K,o){var Y=K.add,c=Y.vmsk,z=Y.vstk,f=Y.lmfx,$=Y.TySh,E=[],b=CSS.a9V(f,Y),q=K.opacity/255*(K.add.iOpa!=null?K.add.iOpa/255:1);
if(q!=1)E.push("opacity: "+q.toFixed(3));if(K.sB()&&c){var O=d.j.QJ(c.$);if(!O.xf()){E.push("width: "+Math.round(O.m)+"px");
E.push("height: "+Math.round(O.e)+"px")}var j=d.j.a39(c.$);if(j>0)E.push("border-radius: "+Math.round(j)+"px")}else if($){var A=$.e9;
if(b_.C8(A)==1){var O=b_.Ec(A);E.push("width: "+Math.round(O[2])+"px");E.push("height: "+Math.round(O[3])+"px")}CSS.afP(E,b_.Sw(A,0,0),$.i,!1,!1,b[0])}CSS.a8R(o,f,E);
if($==null)CSS.a7r(b,E);if(z==null||!z.strokeEnabled.v)z=eq.Re(f);if(z&&z.strokeEnabled.v){var R=z.strokeStyleContent.v,g=R.classID,H=z.strokeStyleOpacity.v.val/100,i=z.strokeStyleLineWidth.v.val,h="";
if(g=="solidColorLayer")h=CSS.QP(R.Clr.v,H);E.push("border: "+i+"px solid "+h)}return E};CSS.a8R=function(K,o,Y){if(o==null||!o.masterFXSwitch.v)return;
var c=o.dropShadowMulti.v.concat(o.innerShadowMulti.v);for(var y=0;y<c.length;y++){var z=c[y].v;if(z.enab.v){var f=z.classID=="IrSh",$=z.Dstn.v.val,E=z.lagl.v.val*Math.PI/180;
if(z.uglg&&z.uglg.v)E=K.S3()*Math.PI/180;var b=$*Math.cos(E),q=$*Math.sin(E),O=(b==0?"0 ":CSS.aof(-b)+"px ")+(q==0?"0 ":CSS.aof(q)+"px ")+z.blur.v.val/2+"px "+CSS.QP(z.Clr.v,z.Opct.v.val/100);
if(f)Y.push("box-shadow: inset "+O);else Y.push("filter: drop-shadow("+O+")")}}};CSS.a9V=function(K,o){var Y=eq.KI(K,o),c=Y[0],z=Y[1],f,$;
if(c){f=CSS.QP(c.Clr.v,o.iOpa!=null?o.iOpa/255:1)}else if(z){$=CSS.a0M(z)}return[f,$]};CSS.a7r=function(K,o){if(K[0])o.push("background-color: "+K[0]);
if(K[1])o.push("background-image: "+K[1])};CSS.B9={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aof=function(h4){return""+parseFloat(h4.toFixed(3))};CSS.gP=function(K){if(K==null)return{o:0,A:0,J:0};
var o=K.indexOf("(");if(o!=-1){var Y=K.slice(o+1,K.length-1).split(",");for(var y=0;y<Y.length;y++){var c=Y[y].trim();
Y[y]=parseFloat(c)*(c.endsWith("%")?255/100:1)}return{o:Y[0],A:Y[1],J:Y[2]}}if(K.charAt(0)!="#"){var z=CSS.B9;
if(z[K])K=z[K];else console.log("unknown color "+K)}K=K.slice(1);if(K.length==4)K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2]+K[3]+K[3];
if(K.length==3)K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2];var f=-1;if(K.length==8){f=parseInt(K.slice(6),16);K=K.slice(0,6)}K=parseInt(K,16);
var $={o:K>>16&255,A:K>>8&255,J:K&255};if(f!=-1)$.g=f;return $};CSS.QP=function(K,o){return CSS.W8(d.H.CK(K),o)};
CSS.W8=function(K,o){if(o==null)o=1;var Y=Math.round(K.o),c=Math.round(K.A),z=Math.round(K.J),f=Y<<16|c<<8|z;
return o==1?"#"+d.lP(f):"rgba("+Y+","+c+","+z+","+o+")"};CSS.a0M=function(K){var o=K.Grad.v;if(o.Clrs==null)return"";
var Y=o.Clrs.v.slice(0),c=o.Trns.v.slice(0),z=K.Ofst.v,f=K.Type.v.GrdT=="Rdl"?1:0,$=(f==1?"radial":"linear")+"-gradient",E=f==0?Math.round(-K.Angl.v.val+90)+"deg":"circle at center",b=K.Rvrs.v,q=d.H.h8(o,b);
for(var y=0;y<q.length;y++){var O=q[y],j=O[1];E+=", "+CSS.W8({o:j[0]*255,A:j[1]*255,J:j[2]*255},O[2])+" "+Math.round(O[0]*100)+"%"}return $+"("+E+")"};
CSS.afP=function(K,o,Y,c,z,f){var $=o.Pf,E=c?1:Y._8(),b=Math.round($.FontSize*E);K.push("font-size: "+b+"px");
var q=$.Tracking;if(!c&&q!=null&&q!=0)K.push("letter-spacing: "+Math.round(q*b/1e3)+"px");if(!$.AutoLeading)K.push("line-height: "+Math.round($.Leading*E)+"px");
if($.Strikethrough)K.push("text-decoration: line-through");if($.Underline)K.push("text-decoration: underline");
if($.FontCaps==2)K.push("text-transform: uppercase");var O=b_.CK($.FillColor);O=[O.o,O.A,O.J].map(Math.round);
K.push((c?"fill: ":"color: ")+(f?f:"#"+d.lP(O[0]<<16|O[1]<<8|O[2])));var j=o.qu[$.Font].Name;if(j){var A=dk.C$.ng(j),R="",g=null,H=null;
if(A!=null&&j!=dk.Dx(A))A=null;if(z&&A)R+="\""+j+"\", ";var i=j.toLowerCase();if(A){g=dk.DF(A)[0];if(A["OS/2"])H=A["OS/2"].usWeightClass}else{g=CSS.azO(j);
if(i.indexOf("light")!=-1)H=300;else if(i.indexOf("medium")!=-1)H=500;else if(i.indexOf("black")!=-1||i.indexOf("extrabold")!=-1)H=800;
else if(i.indexOf("bold")!=-1)H="bold"}if(g!=null)R+="\""+g+"\"";if(H!=null)K.push("font-weight: "+H);
if(i.indexOf("italic")!=-1||i.indexOf("oblique")!=-1)K.push("font-style: italic");if(R)K.push("font-family: "+R)}var h=o.Nd.Justification;
if(h!=null&&h!=0)if(c){}else K.push("text-align: "+["left","right","center"][h%3])};CSS.azO=function(K){K=K.split("-")[0];
while(K.endsWith("MT")||K.endsWith("PS"))K=K.slice(0,K.length-2);var o=!0;for(var y=0;y<K.length;y++){var Y=K.charAt(y);
if(!o&&Y.toLowerCase()!=Y){K=K.slice(0,y)+" "+K.slice(y);y++;o=!0}else o=!1}return K};function eV(){}eV.ys={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
eV.RF=function(K,o){var Y=Date.now(),c=K.split("\n"),z;if(c.length==1)c=K.split("\r");for(var y=0;y<c.length;
y++)if(c[y].trim()[0]=="#"){c[y]=""}K=c.join("\n");try{z=acorn.parse(K)}catch(es){console.log(es);return}var f=JSON.parse(JSON.stringify(eV.Vi.ZI));
f.__return=!1;f.__continue=!1;f.__break=!1;f.__throw=!1;f.__fs={};f.__window={};eV.eval(z,o,f);var $=f.__fs;
if(Object.keys($).length!=0){var E=UZIP.encode($);jm.save(E,"output.zip")}};eV.eval=function(K,o,Y){var c=K.type;
if(!1){}else if(c=="Program"||c=="BlockStatement"){var z=K.body;for(var y=0;y<z.length;y++){var f=z[y].type;
if(f=="FunctionDeclaration")Y[z[y].id.name]=z[y]}for(var y=0;y<z.length;y++){var f=z[y].type,$=eV.eval(z[y],o,Y);
if(Y.__continue&&Y.__pif==null){Y.__continue=!1;return $}if(Y.__return||Y.__break||Y.__throw)return $}}else if(c=="ReturnStatement"){Y.__return=!0;
return K.argument?eV.Ss(K.argument,o,Y):null}else if(c=="BreakStatement"){Y.__break=!0}else if(c=="ContinueStatement"){Y.__continue=!0}else if(c=="VariableDeclaration"){var E=K.declarations;
for(var y=0;y<E.length;y++)eV.eval(E[y],o,Y)}else if(c=="VariableDeclarator"){Y[K.id.name]=K.init?eV.Ss(K.init,o,Y):null}else if(c=="FunctionDeclaration"){Y[K.id.name]=K}else if(c=="MemberExpression"){var b=eV.Ss(K.object,o,Y),q=K.computed?eV.Ss(K.property,o,Y):eV.eval(K.property,o,Y),$;
if(b.v!=null)$=eV.Vi.oV(b,q,o,Y);else if(b==window&&eV.ys[q]){}else $=b[q];return $}else if(c=="ArrayExpression"){var O=[],j=K.elements;
for(var y=0;y<j.length;y++)O.push(eV.Ss(j[y],o,Y));return O}else if(c=="ObjectExpression"){var O={},j=K.properties;
for(var y=0;y<j.length;y++){var A=j[y],R=j[y].key.name?j[y].key.name:j[y].key.value;O[R]=eV.Ss(j[y].value,o,Y)}return O}else if(c=="ExpressionStatement"){return eV.eval(K.expression,o,Y)}else if(c=="NewExpression"){var g=K.arguments,H=K.callee,i=H.type,h=H.name,x=[],O=null;
for(var y=0;y<g.length;y++)x.push(eV.Ss(g[y],o,Y));if(h=="Array")O=new window[h];else if(i=="Identifier")O=eV.Vi.axm(h,x,o,Y);
else throw"e";if(O==null)throw"new "+h;return O}else if(c=="CallExpression"){var g=K.arguments,H=K.callee,i=H.type,F={};
for(var X in Y)F[X]=Y[X];var x=[];for(var y=0;y<g.length;y++)x.push(eV.Ss(g[y],o,Y));if(i=="Identifier"){var V=H.name,U=Y[V];
if(U&&U.v=="AppFunc"){V=U.S4;U=null}if(U){if(U.params){var Z=U.params;for(var y=0;y<Z.length;y++)F[Z[y].name]=x[y];
return eV.eval(U.body,o,F)}else{return U.apply(null,x)}}else if(eV.Vi.ab1.indexOf(V)!=-1)return eV.Vi.HV({v:"Application"},V,x,o,Y);
else if(window[V]==null)console.log("Unknown function "+V);else if(eV.ys[V])alert(V+"() not available");
else{var T=window[V].apply(window,x);return T}}else if(i=="MemberExpression"){var b=eV.Ss(H.object,o,Y),q=H.computed?eV.Ss(H.property,o,Y):eV.eval(H.property,o,Y);
if(b==window&&eV.ys[q])return;if(b.v!=null)return eV.Vi.HV(b,q,x,o,Y);else if(q=="sort"&&b[0]&&b[0].v=="Layer"){return b.sort(function(L,k){return L.b.getName()>k.b.getName()?1:-1})}else if(q=="toSource")return JSON.stringify(b);
else return b[q].apply(b,x)}else if(i=="FunctionExpression"){return eV.eval(H.body,o,Y)}else console.log(K)}else if(c=="AssignmentExpression"){var v=K.operator,P=K.left,p=P.type,a=eV.Ss(P,o,Y),D=eV.Ss(K.right,o,Y),$=null;
if(!1){}else if(v=="=")$=D;else if(v=="+=")$=a+D;else if(v=="-=")$=a-D;else if(v=="*=")$=a*D;else if(v=="/=")$=a/D;
else if(v=="%=")$=a%D;else if(v=="&=")$=a&D;else if(v=="|=")$=a|D;else if(v=="&&=")$=a&&D;else if(v=="||=")$=a||D;
else console.log(K);if(p=="Identifier"){var n=P.name;if(Y.hasOwnProperty(n))Y[n]=$;else Y.__window[n]=$}else if(p=="MemberExpression"){var N=eV.eval(P.property,o,Y),W=eV.Ss(P.object,o,Y);
if(W.v!=null)eV.Vi.ac8(W,N,$,o,Y);else W[N]=$}else console.log(K);return $}else if(c=="Identifier")return K.name;
else if(c=="Literal")return K.value;else if(c=="UpdateExpression"){var v=K.operator,G=K.argument.name,O=eV.Ss(K.argument,o,Y),l=Y;
if(l[G]==null)l=Y.__window;if(!1){}else if(v=="++"){l[G]++;return K.prefix?l[G]:l[G]-1}else if(v=="--"){l[G]--;
return K.prefix?l[G]:l[G]+1}else console.log(K)}else if(c=="UnaryExpression"){var v=K.operator,u=eV.Ss(K.argument,o,Y);
if(u&&u.v=="UnitValue"){if(v=="-")return-u.b;else return eV.aev(u.b,v)}else return eV.aev(u,v)}else if(c=="BinaryExpression"||c=="LogicalExpression"){var v=K.operator,P=eV.Ss(K.left,o,Y);
if(c=="LogicalExpression"&&v=="&&"&&!P)return P;var u=eV.Ss(K.right,o,Y);if(P==null||u==null)return eV.jI(P,u,v);
else if(P.v=="UnitValue"&&u.v=="UnitValue")return eV.jI(P.b,u.b,v);else if(P.v=="UnitValue")return eV.jI(P.b,u,v);
else if(u.v=="UnitValue"){if(v=="-")return-(P-u.b);else return eV.jI(P,u.b,v)}else return eV.jI(P,u,v)}else if(c=="IfStatement"){var e=eV.Ss(K.test,o,Y),M=Y.__pif,$=null;
Y.__pif=!0;if(e)$=eV.eval(K.consequent,o,Y);else if(K.alternate)$=eV.eval(K.alternate,o,Y);Y.__pif=M;
return $}else if(c=="ConditionalExpression"){var e=eV.Ss(K.test,o,Y);if(e)return eV.Ss(K.consequent,o,Y);
else if(K.alternate)return eV.Ss(K.alternate,o,Y)}else if(c=="ForInStatement"){eV.eval(K.left,o,Y);var B=K.left.declarations[0].id.name,s=eV.Ss(K.right,o,Y);
for(var X in s){Y[B]=X;var t=eV.eval(K.body,o,Y);if(Y.__break)break;if(Y.__return)return t}Y.__break=!1}else if(c=="ForStatement"){eV.eval(K.init,o,Y);
while(eV.eval(K.test,o,Y)){var t=eV.eval(K.body,o,Y);if(Y.__break)break;if(Y.__return)return t;eV.eval(K.update,o,Y)}Y.__break=!1}else if(c=="DoWhileStatement"){do{var t=eV.eval(K.body,o,Y);
if(Y.__break)break;if(Y.__return)return t}while(eV.eval(K.test,o,Y));Y.__break=!1}else if(c=="TryStatement"){eV.eval(K.block,o,Y);
if(Y.__throw){var J=K.handler;Y[J.param.name]=Y.__throw;Y.__throw=!1;eV.eval(J.body,o,Y);delete Y[J.param.name]}}else if(c=="EmptyStatement"){}else console.log(K)};
eV.jI=function(K,o,Y){if(Y=="+")return K+o;else if(Y=="-")return K-o;else if(Y=="*")return K*o;else if(Y=="/")return K/o;
else if(Y=="%")return K%o;else if(Y=="^")return K^o;else if(Y=="&")return K&o;else if(Y=="&&")return K&&o;
else if(Y=="|")return K|o;else if(Y=="||")return K||o;else if(Y=="<")return K<o;else if(Y==">")return K>o;
else if(Y=="=="){if(K!=null&&o!=null&&K.v&&o.v)return K.b==o.b;return K==o}else if(Y=="===")return K===o;
else if(Y=="<=")return K<=o;else if(Y==">=")return K>=o;else if(Y=="!=")return K!=o;else if(Y=="!==")return K!==o;
else if(Y=="<<")return K<<o;else if(Y==">>")return K>>o;else console.log(Y)};eV.aev=function(K,o){if(o=="-")return-K;
else if(o=="!")return!K;else if(o=="~")return~K;else if(o=="+")return K;else if(o=="typeof")return typeof K;
else console.log(o,K)};eV.Ss=function(K,o,Y){var c=K.type;if(c=="Identifier")return eV.a74(K.name,o,Y);
else return eV.eval(K,o,Y)};eV.a74=function(K,o,Y){if(K=="undefined")return undefined;else if(Y.hasOwnProperty(K))return Y[K];
else if(K=="app")return{v:"Application"};else if(K=="Folder")return{v:"Folder"};else if(K=="File")return{v:"File"};
else if(K=="$")return{v:"$"};else if(eV.Vi.a6T.indexOf(K)!=-1)return eV.Vi.oV({v:"Application"},K,o,Y);
else if(eV.Vi.ab1.indexOf(K)!=-1)return{v:"AppFunc",S4:K};else if(Y.__window.hasOwnProperty(K))return Y.__window[K];
else if(window[K]&&!eV.ys[K])return window[K];else{Y[K]=null;return null}};eV.Vi={};eV.Vi.axm=function(K,o,Y,c){var z;
if(K=="SolidColor")z={v:K,b:[1,0,0,0]};if(K=="RGBColor")z={v:K,b:[1,0,0,0]};if(K=="Window")z={v:K,b:new ea(o[0],o[1],o[2])};
if(K=="ExportOptionsSaveForWeb")z={v:K,b:{ks:"png",hS:100}};if(K=="PhotoshopSaveOptions")z={v:K,b:{ks:"psd"}};
if(K=="PNGSaveOptions")z={v:K,b:{ks:"png",hS:100}};if(K=="JPEGSaveOptions")z={v:K,b:{ks:"jpg",hS:100}};
if(K=="PDFSaveOptions")z={v:K,b:{ks:"pdf",a0I:""}};if(K=="File")z={v:K,b:o[0]};if(K=="ActionReference")z={v:K,b:[]};
if(K=="ActionDescriptor")z={v:K,b:{classID:"null"}};if(K=="ActionList")z={v:K,b:[]};if(K=="UnitValue")z={v:K,b:o.length==0?0:parseFloat(o[0])};
return z};eV.Vi.a6T="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
eV.Vi.ab1="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
eV.Vi.oV=function(K,o,Y,c){var z=Y.T9,f=Y.oe();if(!1){}else if(o=="typename"){if(K.v=="Layer")return K.b.f$()?"LayerSet":"ArtLayer";
else return K.v}else if(["Document","Layer"].indexOf(K.v)!=-1&&["layers","artLayers","layerSets"].indexOf(o)!=-1){var $=f;
if(K.v=="Document")$=K.b;else $=K.we;var E=$.root,b={v:"Layers",ah7:o,b:[],we:$};if(K.v=="Layer")E=$.root.w3($.B.indexOf(K.b));
if(E.children==null)return null;for(var y=0;y<E.children.length;y++){var q=E.children[y].a,O=q.f$();
if(O&&o=="artLayers"||!O&&o=="layerSets")continue;b.b.push({v:"Layer",b:q,we:$})}b.b.reverse();return b}else if(K.v=="Documents"||K.v=="Layers"||K.v=="HistoryStates"||K.v=="LayerComps"){if(!1){}else if(o=="length")return K.b.length;
else if(Number.isInteger(o))return K.b[o];else console.log(K.v+": unknown property ",o)}else if(K.v=="Application"){if(!1){}else if(o=="activeDocument")return{v:"Document",b:Y.oe()};
else if(o=="documents"){var b={v:"Documents",b:[]};for(var y=0;y<Y.n$.length;y++)b.b.push({v:"Document",b:Y.n$[y]});
return b}else if(o=="fonts")return{v:"TextFonts"};else if(o=="preferences")return{v:"Preferences"};else if(o=="displayDialogs")return{v:"DialogModes"};
else if(o=="foregroundColor"||o=="backgroundColor"){var j=o[0]=="f"?z.qm:z.YQ;return{v:"SolidColor",b:[1,(j>>>16&255)/255,(j>>>8&255)/255,(j>>>0&255)/255]}}else if(o=="UI")return{v:"UI"};
else if(o=="version")return 30;else console.log(K,o)}else if(K.v=="Document"){var f=K.b;if(!1){}else if(o=="activeLayer"){var q=f.B[f.Y[0]];
return{v:"Layer",b:q,we:f}}else if(o=="resolution")return f.aE;else if(o=="width")return f.m;else if(o=="height")return f.e;
else if(o=="name")return f.name;else if(o=="saved")return!f.FB();else if(o=="selection")return{v:"Selection"};
else if(o=="activeHistoryState")return{v:"HistoryState",UQ:f.Eu};else if(o=="source")return f.z0;else if(o=="layerComps"){var A=f.Fe.list.v,R=[];
for(var y=0;y<A.length;y++)R.push({v:"LayerComp",b:y});return{v:"LayerComps",b:R}}else if(o=="historyStates"){var g=[];
for(var y=0;y<f.history.length;y++)g.push({v:"HistoryState",UQ:y});return{v:"HistoryStates",b:g}}else if(o=="mode")return 7;
else if(o=="colorSamplers"){var b={v:"ColorSamplers",ah7:o,b:f.dW.slice(0),we:f};return b}else console.log(K,o)}else if(K.v=="LayerComp"){if(o=="name")return f.Fe.list.v[K.b].v.Nm.v;
else throw o}else if(K.v=="ColorSamplers"){if(Number.isInteger(o))return{v:"ColorSampler",b:K.b[o]};
else if(o=="length")return f.dW.length}else if(K.v=="ColorSampler"){if(o=="color"){var j=m.XV.wD(f,f.Q.Hc(K.b.x,K.b.y),1,2);
return{v:"SolidColor",b:[1,(j>>>16&255)/255,(j>>>8&255)/255,(j>>>0&255)/255]}}else if(o=="position")return[K.b.x,K.b.y]}else if(K.v=="Layer"){var H={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},q=K.b;
if(!1){}else if(o=="visible")return q.KL();else if(o=="selected")return f.Y.indexOf(f.B.indexOf(q))!=-1;
else if(o=="grouped")return q.z_;else if(H[o]!=null)return q.dq(H[o]);else if(o=="opacity")return q.opacity*100/255;
else if(o=="blendMode")return q.YF;else if(o=="name")return q.getName();else if(o=="textItem")return{v:"TextItem",b:q};
else if(o=="bounds"){var i=m.OB._U(f,[f.B.indexOf(q)]);return eV.Vi.ajM(i,f)}else if(o=="parent"){var h=Y.n$,$;
for(var y=0;y<h.length;y++)if(h[y].B.indexOf(q)!=-1)$=h[y];var x=$.root.w3($.B.indexOf(q)).parent;return x.depth==0?{v:"Document",b:$}:{v:"Layer",b:x.a,we:$}}else if(o=="kind"){var F=eV.Vi.TB;
for(var y=0;y<F.length;y++)if(q.add[F[y]]!=null)return y;return 0}else if(o=="isBackgroundLayer")return q.add.lnsr="bgnd";
else console.log(K,o)}else if(K.v=="Selection"){if(!1){}else if(o=="bounds"){if(f.r==null)c.__throw={message:"no selection"};
else return eV.Vi.ajM(f.r.rect,f)}else console.log(K,o)}else if(K.v=="TextItem"){var X=K.b.add.TySh,V=X.e9,U=b_.BM(V),Z=X.i._8(),T=b_.Sw(V,0,0);
if(o=="contents")return U.slice(0,U.length-1).replace(/\n/g,"\r");else if(o=="font")return T.Pf.Font!=null?T.qu[T.Pf.Font].Name:null;
else if(o=="size")return eV.Vi.mi(T.Pf.FontSize*Z,f);else if(o=="leading")return eV.Vi.mi(T.Pf.Leading*Z,f);
else if(o=="tracking")return eV.Vi.mi(T.Pf.Tracking);else if(o=="baselineShift")return eV.Vi.mi(T.Pf.BaselineShift);
else if(o=="fauxBold")return T.Pf.FauxBold;else if(o=="fauxItalic")return T.Pf.FauxItalic;else if(o=="kind")return 1-b_.C8(V);
else if(o=="useAutoLeading")return T.Nd.AutoLeading;else if(o=="hyphenation")return T.Nd.AutoHyphenate;
else if(o=="justification")return eV.Vi.mi(T.Nd.Justification);else if(o=="color")return{v:"SolidColor",b:T.Pf.FillColor.Values.slice(0)};
else if(o=="width"||o=="height"){var v=b_.Ec(V),P=(v[2]-v[0])*Z,p=(v[3]-v[1])*Z;return eV.Vi.mi(o=="width"?P:p,f)}else if(o=="position"){var a=X.i;
return eV.Vi.axN([a.B3,a.Z7],f)}else if(o=="horizontalScale"||o=="verticalScale"){var D=o[0].toUpperCase()+o.slice(1);
return Math.round(T.Pf[D]*100)}else if(o=="antiAliasMethod")b_.fc(X);else if(o=="totalTextStyle"){var b={};
for(var n=0;n<2;n++){var N=["Style","Paragraph"][n],W=V.EngineDict[N+"Run"].RunLengthArray,G=[],l=0;
for(var y=0;y<W.length;y++){var u=b_.Sw(V,l,Math.min(l+W[y],U.length-2));l+=W[y];G.push(n==0?u.Pf:u.Nd);
b.fontSet=u.qu}b[N]={runs:W,styles:G}}return JSON.stringify(b)}else if(o=="transform"){var a=X.i;return JSON.stringify([a.g,a.J,a.b0,a.gG,a.B3,a.Z7])}else console.log(K,o)}else if(K.v=="Preferences"){if(o=="rulerUnits")return z.EU.hq;
else console.log(K,o)}else if(K.v=="SolidColor"){if(o=="rgb")return{v:"RGBColor",b:K.b};if(o=="cmyk")return{v:"CMYKColor",b:d.fO(K.b.slice(1))};
else console.log(K,o)}else if(K.v=="RGBColor"){var i=Math.round(255*K.b[1]),e=Math.round(255*K.b[2]),M=Math.round(255*K.b[3]);
if(!1){}else if(o=="red")return i;else if(o=="green")return e;else if(o=="blue")return M;else if(o=="hexValue")return"#"+d.lP(i<<16|e<<8|M).toUpperCase();
else console.log(K,o)}else if(K.v=="CMYKColor"){var B=[];for(var y=0;y<4;y++)B.push(Math.round(K.b[y]*100));
var s=["cyan","magenta","yellow","black"].indexOf(o);if(s!=-1)return B[s];else console.log(K,o)}else if(K.v=="UnitValue"){if(o=="value")return K.b;
else throw"e"}else if(K.v=="ExportOptionsSaveForWeb"){if(o=="format")return K.b.ks;else if(o=="PNG8"||o=="interlaced")return!1;
else if(o=="quality")return K.b.hS;else if(o=="transparency")return!0;else throw o}else if(K.v=="PNGSaveOptions"||K.v=="JPEGSaveOptions"||K.v=="PDFSaveOptions"){return 0}else if(K.v=="$"){if(o=="localize")return!1;
else if(o=="os")return"Windows";else throw o}else if(K.v=="ActionList"){if(o=="count")return K.b.v.length;
else throw o}else console.log(K,o)};eV.Vi.ajM=function(K,o){return eV.Vi.axN([K.x,K.y,K.x+K.m,K.y+K.e],o)};
eV.Vi.axN=function(K,o){var Y=[];for(var y=0;y<K.length;y++)Y.push(eV.Vi.mi(K[y],o));return Y};eV.Vi.Fw=function(K){var o=[];
for(var y=0;y<K.length;y++)o.push(K[y].v?K[y].b:K[y]);return o};eV.Vi.mi=function(K,o){return{v:"UnitValue",b:K}};
eV.Vi.a4P=function(K,o){if(K.v=="UnitValue")return K.b;return K};eV.Vi.ac8=function(K,o,Y,c,z){var f=new h1(w.E.U,!0),$=new h1(w.E.L,!0),E=c.oe(),b=c.T9;
if(!1){}else if(K.v=="Application"){if(!1){}else if(o=="activeDocument"){$.data={d:w.I.Pc,l_:Y.b};c.c($)}else if(o=="displayDialogs"){}else if(o=="foregroundColor"||o=="backgroundColor"){var q=Y.b,O=q[1]*255<<16|q[2]*255<<8|q[3]*255<<0;
$.data={d:w.I.Ak,VS:bB.R8,f4:o=="foregroundColor"?0:1,b:O};c.c($)}else console.log(K,o,Y)}else if(K.v=="Document"){var j=K.b;
if(!1){}else if(o=="name"){f.f=m._V;f.data={d:S.UT,b:Y,aov:!0,sL:j};E.Pb=!0}else if(o=="source")j.z0=Y;
else if(o=="activeLayer"){j.Y=[j.B.indexOf(Y.b)]}else if(o=="activeHistoryState"){f.f=m.s5;f.data={d:"h_itemchange",index:Y.UQ}}else console.log(K,o)}else if(K.v=="Layer"){f.f=m._V;
var R={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},g=K.b,H=E.B.indexOf(g);
if(!1){}else if(o=="visible"){if(g.KL()!=Y)f.data={d:S.WF,a:H}}else if(o=="opacity"){f.data={d:S._n,a:H,Wx:Math.round(255*Y/100)}}else if(o=="blendMode"){f.data={d:S.N9,a:H,Wx:jw.iu.indexOf(Y)}}else if(o=="name"){f.data={d:S.No,a:H,name:Y}}else if(R[o]!=null){f.data={d:S.JM,a:H,Wx:[[Y],[R[o]]]}}else if(o=="kind"){f.data={d:S.GQ,a:H,fk:eV.Vi.TB[Y]}}else if(o=="grouped"){f.data={d:S.I4,a:H,Wx:Y}}else console.log(K,o,Y)}else if(K.v=="TextItem"){f.f=m.oB;
var g=K.b,i=g.add.TySh,h=JSON.parse(JSON.stringify(i.e9)),x=i.i.clone(),F=i.i._8(),X=b_.BM(h),V=b_.Sw(h,0,X.length-2),U=!1;
if(!1){}else if(o=="contents"){b_.eO(h,0,X.length-1);b_.Df(h,0,Y.replace(/\r/g,"\n"))}else if(o=="size"){V.Pf.FontSize=(Y.b!=null?Y.b:Y)/F;
U=!0}else if(o=="leading"){V.Pf.Leading=(Y.b!=null?Y.b:Y)/F;U=!0}else if(o=="tracking"){V.Pf.Tracking=Y.b!=null?Y.b:Y;
U=!0}else if(o=="baselineShift"){V.Pf.BaselineShift=Y.b!=null?Y.b:Y;U=!0}else if(o=="fauxBold"){V.Pf.FauxBold=Y;
U=!0}else if(o=="fauxItalic"){V.Pf.FauxItalic=Y;U=!0}else if(o=="kind"){var Z=b_.C8(h);if(Z==1&&Y==1){var T=new f3(h,c.T9.zl).Nd[0],v=T.h4[0].end,P=T.IW[v-1].end;
b_.eO(h,0,X.length-1);b_.Df(h,0,X.slice(0,P-1))}if(Z==Y)b_.go(h,1-Y)}else if(o=="useAutoLeading"){V.Nd.AutoLeading=Y;
U=!0}else if(o=="hyphenation"){V.Nd.AutoHyphenate=Y;U=!0}else if(o=="justification"){V.Nd.Justification=Y;
U=!0}else if(o=="font"){b_.iN(V,Y);U=!0}else if(o=="color"){V.Pf.FillColor.Values=Y.b.slice(0);U=!0}else if(o=="width"||o=="height"){var p=b_.Ec(h).slice(0),a=eV.Vi.a4P(Y);
if(o=="width")p[2]=Math.round(p[0]+a/F);else p[3]=Math.round(p[1]+a/F);b_.X$(h,p)}else if(o=="position"){x.B3=Y[0];
x.Z7=Y[1]}else if(o=="horizontalScale"||o=="verticalScale"){var D=o[0].toUpperCase()+o.slice(1);V.Pf[D]=Y/100;
U=!0}else if(o=="antiAliasMethod")b_.r2(i,Y);else console.log(K,o,Y);if(U)b_.K2(h,0,X.length-1,V);f.data={d:"newED",hg:E.B.indexOf(g),eu:h,i:x}}else if(K.v=="Preferences"){if(!1){}else if(o=="rulerUnits"){var n=JSON.parse(JSON.stringify(b.EU));
n.hq=Y;$.data={d:w.I.Ak,VS:bB.gE,Wx:n};c.c($)}else console.log(K,o,Y)}else if(K.v=="SolidColor"){if(o=="rgb")K.b=Y.b;
else throw o}else if(K.v=="RGBColor"){if(!1){}else if(o=="red")K.b[1]=Y/255;else if(o=="green")K.b[2]=Y/255;
else if(o=="blue")K.b[3]=Y/255;else if(o=="hexValue"){var N=d.po(Y.slice(1));K.b[1]=(N>>>16&255)/255;
K.b[2]=(N>>>8&255)/255;K.b[3]=(N>>>0&255)/255}else console.log(K,o)}else if(K.v=="ExportOptionsSaveForWeb"){if(o=="format")K.b.ks=Y;
else if(o=="PNG8"||o=="transparency"||o=="interlaced"){}else if(o=="quality")K.b.hS=Y;else throw o}else if(K.v=="PNGSaveOptions"||K.v=="JPEGSaveOptions"){if(o=="quality")K.b.hS=Math.round(100*Y/12)}else if(K.v=="PDFSaveOptions"){if(o=="preset")K.b.a0I=Y}else if(K.v=="$"){if(o=="localize"){}}else console.log(K,o,Y);
if(f.data!=null)c.c(f)};eV.Vi.HV=function(K,o,Y,c,z){var f=K.v,$=null,E=new h1(w.E.U,!0),b=new h1(w.E.hP,!0),q=new h1(w.E.L,!0),O=c.oe(),j=c.n$;
if(!1){}else if(f=="Application"){if(!1){}else if(o=="charIDToTypeID"){var R=Y[0].trim(),g={slct:"select",Dlt:"delete",Mk:"make"};
return g[R]?g[R]:R}else if(o=="stringIDToTypeID"){var H=Y[0].trim(),g={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},i=g[H];
return i==null?H:i}else if(o=="typeIDToStringID"){return Y[0].trim()}else if(o=="executeAction"){console.log(Y);
var h;if(Y[1]){h=Y[1].b;h.classID=Y[0]}var x={setd:"set"},F=x[Y[0]];if(F==null)F=Y[0];var X=jh.hW[Y[0]];
if(X&&jh.Ru[X])F=jh.Ru[X];b.data={Rk:F,jU:h}}else if(o=="executeActionGet"){var V=Y[0].b,$={};console.log(V);
if(V.length==1){var U=$.classID=V[0].v.classID;if(U=="Lyr"){var Z=b0.to(O,V[0]),T=O.B[Z],v=T.add.SoLd;
$.smartObjectMore={t:"Objc",v:{transform:v.nonAffineTransform}}}return{v:"ActionDescriptor",b:{t:"null",v:$}}}if(V.length==2){var U=$.classID=V[1].v.classID,H=V[0].v.keyID;
if(U=="Dcmn"){var P=O;if(H=="numberOfLayers")$[H]={t:"long",v:P.B.length};else throw H}else if(U=="Lyr"){var Z=b0.to(O,V[1]),T=O.B[Z],p=T.add.TySh;
if(H=="textKey"){if(p){var a=p.e9.EngineDict.StyleRun.RunArray,D=p.e9.ResourceDict.FontSet,n=[];for(var y=0;
y<a.length;y++){var N=a[y].StyleSheet.StyleSheetData,W=D[N.Font].Name,G=c.T9.zl.ng(W);if(G&&G.name.postScriptName!=W)G=null;
n.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:G!=null},fontPostScriptName:{t:"TEXT",v:W}}}}})}$[H]={t:H,v:{textStyleRange:{t:"obj ",v:n}}}}}else throw H}else throw U;
return{v:"ActionDescriptor",b:{t:"null",v:$}}}}else if(o=="doAction"){q.data={d:w.I.z8,$G:[Y[0],Y[1]]}}else if(o=="bringToFront"){}else if(o=="open"){q.data={d:w.I.vO,VS:{url:Y[0]}};
if(Y[2]&&j.length!=0)q.data.VS.ZX=j.indexOf(O)}else if(o=="echoToOE"){q.data={d:w.I.Se,VS:Y[0]}}else if(o=="showWindow"){q.data={d:w.I.Gg,XQ:Y[0]}}else if(o=="UnitValue"){return Y[0]+" "+Y[1]}else console.log(o)}else if(f=="LayerComp"){if(o=="apply"){E.f=m.oa;
E.data={d:"setLC",UQ:O.Fe.list.v[K.b].v.compID.v}}else throw o}else if(f=="Document"){var O=K.b;if(!1){}else if(o=="crop"){b.data=m.XX.aBK(Y[0])}else if(o=="trim"){var l=[];
for(var y=0;y<4;y++)l.push(Y[y+1]!=null?Y[y+1]:!0);b.data=m.XX.Vc(Y[0]!=null?Y[0]:0,l)}else if(o=="suspendHistory"){var u=acorn.parse(Y[1]);
eV.eval(u,c,z)}else if(o=="save"){q.data={d:w.I.vB}}else if(o=="saveToOE"){q.data={d:w.I.vB,Bw:Y}}else if(o=="rotateCanvas"){b.data=m.OB.On(!0,Y[0])}else if(o=="resizeImage"||o=="resizeCanvas"){var e=Y[0],M=Y[1];
if(typeof e!="number"){e=O.m*parseFloat(e.slice(0,e.length-1))/100;M=O.e*parseFloat(M.slice(0,M.length-1))/100}if(o=="resizeCanvas")b.data=m.XX.alZ(Math.round(e),Math.round(M),Y[2]);
else b.data=m.XX.aAo(Math.round(e),Math.round(M),null,1)}else if(o=="paste"){q.data={d:w.I.Cd,Qo:Y.length!=0&&Y[0],nV:!0}}else if(o=="close"){q.data={d:w.I.SM,zV:O}}else if(o=="exportDocument"||o=="saveAs"){var B=z.__fs,s=o=="exportDocument"?Y[2].b:Y[1].b,t=Y[0].b.replace(":","").replace("~/","");
if(!t.toLowerCase().endsWith("."+s.ks))t+="."+s.ks;var J=fv.lU(O,s.ks,null,null,s.ks=="pdf"?null:[s.hS],c.T9);
B[t]=new Uint8Array(J)}else if(o=="flatten"){b.data={Rk:"flattenImage"}}else if(o=="clearHistory"){E.f=m.s5;
E.data={d:"h_clear",force:!0}}else console.log(K,o,Y)}else if(f=="Layer"){var L=K.b,Z=O.B.indexOf(L);
if(!1){}else if(o=="copy"){eV.Vi.Or(O,c,0);q.data={d:w.I.pc,qD:Y[0],UH:Z,nV:!0};c.c(q);delete q.data;
eV.Vi.Or(O,c,1)}else if(o=="clear"){eV.Vi.Or(O,c,0);b.data={Rk:"delete"};c.c(b);delete b.data;eV.Vi.Or(O,c,1)}else if(o=="duplicate"){if(Y.length==0){var k=O.Y.slice(0);
E.data={d:S.Rz,a:Z};E.f=m._V;c.c(E);E.data=null;$={v:"Layer",b:O.B[O.Y[0]],we:K.we};O.Y=k}else if(Y[0].v=="Document"){E.data={d:S.Zn,B:O.be(Z),lQ:O,LZ:Y[0].b};
E.f=m._V}if(E.data){c.c(E);E.data=null;return{v:"Layer",b:O.B[O.Y[0]],we:O}}}else if(o=="merge"||o=="remove"){E.data={d:o=="merge"?S.Vn:S._C,a:Z};
E.f=m._V;if(o!="remove")$={v:"Layer",b:O.B[O.Y[0]],we:K.we}}else if(o=="move"){E.data={d:S.bh,source:Z,target:O.B.indexOf(Y[0].b),Ao:Y[1]!=3?.6:.3};
E.f=m._V}else if(o=="rasterize"){E.f=m._V;E.data={d:S.Kn,a:Z};c.c(E);E.data=null;K.b=O.B[Z]}else if(o=="rotate"){E.data={d:"rot",Mx:[2,5],b:-Y[0]*Math.PI/180,Xy:Y[1],a:Z};
E.f=m._6}else if(o=="resize"){E.data={d:"scl",Mx:[2,4],b:new jc(Y[0]/100,Y[1]/100),Xy:Y[2],a:Z};E.f=m._6}else if(o=="translate"){var C=eV.Vi.Fw(Y);
E.data={d:"trsl",a:Z,zS:C[0],_g:C[1]};E.f=m.Wh}else if(o=="link"){E.data={d:S._i,adz:[Z,O.B.indexOf(Y[0].b)]};
E.f=m._V}else if(o=="invert"){E.f=m.Ay;E.data={d:"start",W2:"nvrt"}}else if(o=="desaturate"){b.data={Rk:"desaturate"}}else if(o.startsWith("apply")&&fn.uI[o.slice(5)]||o.startsWith("adjust")&&fn.uI[o.slice(6)]){var r=o.startsWith("apply"),C=eV.Vi.Fw(Y),Q=fn.uI[o.slice(r?5:6)];
if(Q=="Dspl"){for(var y=0;y<O.B.length;y++)if(O.B[y].getName()==C[4]){C[4]=O.B[y].add.SoLd.Idnt.v;break}}b.data={Rk:r?fn.Ru[Q]:jh.Ru[Q]};
var h=fn.Ta(Q);if(h){O.Y=[Z];fn.qy["g"+Q](h,C);b.data.jU=h}}else if(o=="applyStyle"){var j9=c.T9.ck,N=null;
for(var y=0;y<j9.length;y++)if(j9[y].A8.Nm.v.split("/").pop()==Y[0])N=j9[y];if(N==null){alert("Style not found!");
return}E.f=m.la;E.data={d:"setstl",b:N.Ww,a:Z};c.c(E);E.data={d:"confirm",a:Z}}else console.log(K,o,Y)}else if(f=="Documents"){if(o=="getByName"){for(var y=0;
y<j.length;y++)if(j[y].name==Y[0])return{v:"Document",b:j[y]};return null}else if(o=="add"){var a4=Y[5];
if(a4==null)a4=1;b.data=h7.Hr(Y[0],Y[1],Y[2],Y[3],["Wht","Trns","BckC"][a4],!1)}else throw"e"}else if(f=="Layers"){if(o=="getByName"){for(var y=0;
y<K.b.length;y++)if(K.b[y].b.getName()==Y[0]){$=K.b[y];break}if($==null)z.__throw={message:"No layer with a name "+Y[0]}}else if(o=="add"){E.data={d:K.ah7=="layerSets"?S.rr:S.zm};
E.f=m._V;c.c(E);E.data=null;$={v:"Layer",b:O.B[O.Y[0]],we:K.we}}else console.log(K,o,Y)}else if(K.v=="Selection"){if(o=="select"){var ar=Y[0],ez=[];
for(var y=0;y<ar.length;y++)ez.push(ar[y][0],ar[y][1]);b.data=m.PP.RT(eV.Vi.Fw(ez))}else if(o=="clear"){b.data={Rk:"delete"}}else if(o=="selectAll"){b.data=m.PP.hE(!0)}else if(o=="invert"){b.data={Rk:"inverse"}}else if(o=="copy"){q.data={d:w.I.pc}}else if(o=="deselect"){b.data=m.PP.hE()}else if(o=="fill"){var ja=Y[0].b;
ja=d.H.eD({o:ja[1]*255,A:ja[2]*255,J:ja[3]*255});b.data=m.oC.Sz("Clr",Y[1],Y[2]==null?1:Y[2]/100,ja)}else if(o=="grow"||o=="similar"){var h={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(Y[0]!=null)h.Tlrn={t:"long",v:Y[0]};b.data={Rk:o,jU:h}}else if(o=="expand"||o=="contract"||o=="feather"){b.data=m.PP.Bv(o,Y[0],!0)}else if(o=="translate"){var h={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Y[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Y[1]}}}}};
b.data={Rk:"move",jU:h}}else if(o=="smooth"){b.data=m.PP.Bv("smoothness",Y[0],!1)}else if(o=="stroke"){var N=JSON.parse(eF.NF[1]),c3=N.Clr.v,ja=Y[0].b;
c3.Rd.v=ja[1]*255;c3.Grn.v=ja[2]*255;c3.Bl.v=ja[3]*255;N.Sz.v.val=Y[1];N.Styl.v.FStl=eF.stroke.types[Y[2]];
console.log(N,Y);E.f=m.by;E.data={d:"stroke",alX:N}}else console.log(K,o,Y)}else if(K.v=="Window"){if(o=="show"){q.data={d:w.I.Gg,XQ:K.b}}else throw"e"}else if(K.v=="ActionReference"){if(o=="putProperty"){K.b.push({t:"prop",v:{classID:Y[0],keyID:Y[1]}})}else if(o=="putClass"){K.b.push({t:"Clss",v:{classID:Y[0]}})}else if(o=="putEnumerated"){K.b.push({t:"Enmr",v:{classID:Y[0],typeID:Y[1],enum:Y[2]}})}else if(o=="putName"){K.b.push({t:"name",v:{classID:Y[0],val:Y[1]}})}else if(o=="putIndex"){K.b.push({t:"indx",v:{classID:Y[0],val:Y[1]}})}else console.log(o,Y)}else if(K.v=="ActionDescriptor"||K.v=="ActionList"){if(o=="putReference"){K.b[Y[0]]={t:"obj ",v:Y[1].b}}else if(o=="putDouble"){K.b[Y[0]]={t:"doub",v:Y[1]}}else if(o=="putUnitDouble"){K.b[Y[0]]={t:"UntF",v:{type:Y[1],val:Y[2]}}}else if(o=="putObject"){if(K.v=="ActionList"){var hW=Y[1].b;
hW.classID=Y[0];K.b.push({t:"Objc",v:hW})}else{var hW=Y[2].b;hW.classID=Y[1];K.b[Y[0]]={t:"Objc",v:hW}}}else if(o=="putList"){K.b[Y[0]]={t:"VlLs",v:Y[1].b}}else if(o=="putBoolean"){K.b[Y[0]]={t:"bool",v:Y[1]}}else if(o=="putInteger"){K.b[Y[0]]={t:"long",v:Y[1]}}else if(o=="putString"){K.b[Y[0]]={t:"TEXT",v:Y[1]}}else if(o=="putEnumerated"){var fO={};
fO[Y[1]]=Y[2];K.b[Y[0]]={t:"enum",v:fO}}else if(o=="hasKey"){return K.b.v[Y[0]]!=null}else if(o=="getEnumerationValue"){if(Y[0]=="layerSection")$="layerSectionContent";
else console.log(Y)}else if(o=="getBoolean"){$=K.b.v[Y[0]].v}else if(o=="getString"){$=K.b.v[Y[0]].v}else if(o=="getObjectValue"){var $=K.b.v[Y[0]];
return{v:"ActionDescriptor",b:$}}else if(o=="getList"){var $=K.b.v[Y[0]];return{v:"ActionList",b:$}}else if(o=="getInteger"||o=="getDouble"){return K.b.v[Y[0]].v}else console.log(o,Y)}else if(K.v=="$"){if(o=="writeln"){console.log(Y[0])}else throw o}else if(K.v=="UI"){if(o=="scroll"||o=="scrollTo"){var ei=Y[0],fV=Y[1],aW=O.Q.O;
if(o=="scrollTo"){ei=(-O.m/2+ei)*aW+O.Q.w.x;fV=(-O.e/2+fV)*aW+O.Q.w.y}E.f=m.AC;E.data={d:"scroll",Q8:new jc(Math.round(ei),Math.round(fV))}}else{var ee;
if(o=="zoomIn"||o=="zoomOut"){ee={d:"zoom",ik:o=="zoomIn"}}else if(o=="fitTheArea"){ee={d:"adapt",b:"fitscr"}}else if(o=="pixelToPixel"){ee={d:"adapt",b:"pixel"}}E.f=m.bx;
E.data=ee;if(o=="switchFullscreen"){var hM=c.T9.ja,ds=document.fullscreenElement!=null==(hM==2);q.data={d:w.I.lI,b:hM==0?2:0,cB:ds}}}}else if(K.v=="ColorSamplers"){if(o=="removeAll")O.dW=[];
else if(o=="add"){var cp={x:Y[0][0],y:Y[0][1]};O.dW.push(cp);var $={v:"ColorSampler",b:cp}}}else if(K.v=="ColorSampler"){if(o=="move"){var eA=O.dW.indexOf(K.b);
cp=O.dW[eA];cp.x=Y[0][0];cp.y=Y[0][1]}else if(o=="remove"){var eA=O.dW.indexOf(K.b);O.dW.splice(eA,1)}}else if(K.v=="Folder"){if(o=="selectDialog")$="img";
else throw o}else if(K.v=="File"){if(o=="openDialog")alert("A website can not show the Open dialog from a script");
else throw o}else console.log(K,o,Y);if(E.data)c.c(E);if(b.data)c.c(b);if(q.data)c.c(q);return $};eV.Vi.Or=function(K,o,Y){var c=new h1(w.E.U,!0);
c.f=m.at;var z=new h1(w.E.hP,!0);if(Y==0){eV.Vi.a10=K.r;z.data=m.PP.hE(!0)}else{var f=eV.Vi.a10;if(f)c.data={d:"setsel",Mx:"Restore Selection",r:{rect:f.rect.clone(),channel:f.channel.slice(0)}};
else z.data=m.PP.hE()}o.c(c.data?c:z)};eV.Vi.a10=null;eV.Vi.ZI={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
eV.Vi.ZI.ColorBlendMode=eV.Vi.ZI.BlendMode;eV.Vi.TB="---- SoLd TySh SoCo GdFl PtFl".split(" ");function fT(){}fT.jp={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
fT.mj={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
fT.au3=function(K,o){if(o==null)o={};var Y=fT.mj,c=[],z=[],f="";for(var y=0;y<K.length;y++){var $=K[y],E=Y[$[0]+""];
if(E&&o[E]==null)o[E]=$[1];else if($[0]==12)z.push($[1]);else if($[0]==25)c.push($[1]);else if($[0]==55)f=$[1];
else if($[0]==60)f+=";"+$[1]}if(f!=""&&o["exif:DateTimeOriginal"]==null)o["exif:DateTimeOriginal"]=f;
if(z.length!=0&&o["Iptc4xmpCore:SubjectCode"]==null)o["Iptc4xmpCore:SubjectCode"]=z.join(";");if(c.length!=0&&o["dc:Keywords"]==null)o["dc:Keywords"]=c.join(";");
return o};fT.a6o=function(K){var o=fT.mj,Y=[];for(var c in o)if(K[o[c]])Y.push([parseInt(c),K[o[c]]]);
if(K["Iptc4xmpCore:SubjectCode"]){var z=K["Iptc4xmpCore:SubjectCode"].split(";");for(var y=0;y<z.length;
y++)Y.push([12,z[y].trim()])}if(K["dc:Keywords"]){var z=K["dc:Keywords"].split(";");for(var y=0;y<z.length;
y++)Y.push([25,z[y].trim()])}Y.sort(function(f,$){return f[0]-$[0]});return Y};fT.Nt=function(K,o){if(o==null)o={};
var Y=new DOMParser,c=Y.parseFromString(K,"image/svg+xml"),z=c.getElementsByTagName("rdf:Description")[0];
if(z==null)return o;var f=fT.jp;for(var $ in f){var E=f[$][2];if(E==null)continue;var b=z.getElementsByTagName(E)[0];
if(b==null)continue;var q=b.getElementsByTagName("rdf:li"),O=[];for(var y=0;y<q.length;y++)O.push(q[y].textContent);
o[$]=O.join("; ")}return o};fT.yE=function(K){var o=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],Y=fT.jp;
for(var c in Y){var z=K[c],f=Y[c][2],$="Seq",E="";if(z==null||f==null)continue;if(f=="dc:title"||f=="dc:description"){$="Alt";
E=" xml:lang=\"x-default\""}if(f=="dc:subject")$="Bag";o.push("\t<"+f+"><rdf:"+$+">");var b=f=="dc:subject"?z.split(";").join(",").split(","):[z];
for(var y=0;y<b.length;y++)o.push("\t\t<rdf:li"+E+">"+b[y].trim()+"</rdf:li>");o.push("\t</rdf:"+$+"></"+f+">")}o.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return o.join("\n")};fT.a9s=function(K){var o=[];for(var y=0;y<K.length;y++)o[y]=K[y][1]==0?0:K[y][0]/K[y][1];
return o};fT.aC4=function(K){var o=[];for(var y=0;y<K.length;y++){var Y=K[y],c=1;if(Y!=Math.round(Y)){c=1e3;
Y=Math.round(Y*c)}o[y]=[Y,c]}return o};fT.Wp=function(K,o){var Y=fT.jp;if(o==null)o={};for(var c in Y){var z=Y[c][1],f="t"+z;
if(z!=null&&K[f]!=null){var $=K[f];if(z==0)$=$.join(".");else if(z==2||z==4){var E=K["t"+(z-1)];if(E==null)E=[z==2?"N":"E"];
$=fT.a9s($).join(",")+E[0]}else if(z==42034)$=fT.a9s($).join(" ");else if(z==270||z==315){var b=$[0],q=new Uint8Array(b.length);
_.yH(q,0,b);$=_.DI(q)}else $=$[0];o[c]=$}}if(K.exifIFD)fT.Wp(K.exifIFD,o);if(K.gpsiIFD)fT.Wp(K.gpsiIFD,o);
return o};fT.Xm=function(K,o,Y){var c=fT.jp,f=0,E=0;if(o==null)o={};var z={},$={};for(var b in c){if(K[b]==null||c[b][1]==null)continue;
var q=c[b][1],O="t"+q,j=o;if(b.startsWith("exif:")){j=z;f++;if(b.startsWith("exif:GPS")){j=$;E++}}var A=K[b];
if(q==0)A=new Uint8Array(A.split(".").map(parseFloat));else if(q==2||q==4){var R=A.length;j["t"+(q-1)]=[A.slice(A.length-1)];
A=fT.aC4(A.split(",").map(parseFloat))}else if(q==42034)A=fT.aC4(A.split(" ").map(parseFloat));else if(q==270||q==315){var g=_.tA(A);
A=[_.H9(g,0,g.length)]}else A=[A];j[O]=A}if(f!=0){o.exifIFD=z;o.t34665=[0]}if(E!=0){o.gpsiIFD=$;o.t34853=[0]}var H=new Date,i=[H.getFullYear(),H.getMonth()+1,H.getDate(),H.getHours(),H.getMinutes(),H.getSeconds()];
for(var y=0;y<6;y++)i[y]=(i[y]+"").padStart(2,"0");o.t305=["Photopea Editor (www.photopea.com)"];if(Y!=!0)o.t306=[i[0]+":"+i[1]+":"+i[2]+" "+i[3]+":"+i[4]+":"+i[5]];
return o};function bt(){}bt.qz=function(K){var o={a9w:",",H7:"\r\n",nB:"\""},Y=[[""]],c,z,f,$,E;for(c=z=f=$=0;
f<K.length;f++){switch(E=K.charAt(f)){case o.nB:if($&&K.charAt(f+1)==o.nB){Y[c][z]+=o.nB;++f}else{$^=1}break;
case o.a9w:if(!$){Y[c][++z]=""}else{Y[c][z]+=E}break;case o.H7.charAt(0):if(!$&&(!o.H7.charAt(1)||o.H7.charAt(1)&&o.H7.charAt(1)==K.charAt(f+1))){Y[++c]=[""];
Y[c][z=0]="";if(o.H7.charAt(1)){++f}}else{Y[c][z]+=E}break;default:Y[c][z]+=E}}if(Y[Y.length-1].length<Y[0].length)Y.pop();
return Y};var I={};I.am5=0;I.UK=function(){I.am5++;return I.am5};I.aAC="uint8";I.c0=function(K){K.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
K.n.style.opacity="1";K.n.style.transform="scale(1)"};I.pL=function(K,o){K.n.style.opacity="0";K.n.style.transform="scale(0.95)";
if(o)setTimeout(function(){o.removeChild(K.n)},100)};I.a9f=function(){var K=I.a4L();if(K=="")return 0;
if(K!=I.I2("_TXZRPB;d7@;")){var o=I.eg[a9.dE][a9.kz],Y=o.indexOf(String.fromCharCode(35)),c;if(Y==-1)return 0;
try{c=JSON.parse(I.eg[a9.afW](o.slice(Y+1)))}catch(es){return 0}var z=c[I.I2("bQ[ODL<E<M")];if(z==null||z.length<<2!=64)return 0;
var f=a9.cY(),$=parseInt(z.slice(3*4).split("").reverse().join(""),16)<<16;if($<f||z!=a9.anW($,K))return 0;
return 2}return 1};I.a4L=function(){var K=I.eg[I.sH("}$z{2*35")][I.I2("W[\\ZQAJ?")],o=String.fromCharCode(46),Y=K.split(o);
if(Y.length<2)return"";var c=Y.pop();c=Y.pop()+o+c;return c};I.apE=function(){if(I.eg[a9.ajd][a9.a7P]){var K=new I.eg[a9.lD];
K[a9.n8](a9.ay$,I.I2("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+I.a4L());K[a9.JR]()}};I.ql=function(){if(window.top!=window.self)return!1;
var K=navigator.userAgent.toLowerCase();if(K.indexOf("safari")!=-1&&K.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};I.fS=function(K){this.Ek=K;this.Mk=I._("img");this.bb=I._("canvas");
this.JB=null;this.H4="";this.Oz=null;this.$a=new jc(0,0);this.Kb=!0;I.TG(this.Ek,this.AB.bind(this))};
I.fS.prototype.ic=function(K,o){this.JB=K;if(o)this.H4=o;this.AB()};I.fS.prototype.W6=function(K){this.Kb=K;
this.AB()};I.fS.prototype.AB=function(K){if(K)this.$a=I._9(K,this.Ek);var o=this.Kb?this.JB:"auto",Y=typeof o=="string";
if(!Y){var c=I.GR(),z=this.$a,f=o.oJ.m,$=o.oJ.e,E=typeof o.Ol=="string",b=E?this.Mk:this.bb;if(E)b.setAttribute("src",o.Ol);
else{b.width=f;b.height=$;var q=b.getContext("2d"),O=new ImageData(new Uint8ClampedArray(o.Ol.buffer),f,$);
q.putImageData(O,0,0)}b.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(z.y-o.Gf.y/c)+"px; left:"+(z.x-o.Gf.x/c)+"px; width:"+f/c+"px; height:"+$/c+"px");
var j=this.Oz;if(j==null||j!=b){if(j)this.Ek.removeChild(j);this.Ek.appendChild(b);this.Oz=b}}else if(this.Oz){this.Ek.removeChild(this.Oz);
this.Oz=null}this.Ek.setAttribute("style","cursor:"+(Y?o:"none")+"; "+this.H4)};I.P9=function(K){return K.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
I.IJ=function(K,o){K.Sk(ca.get([12,41]).charAt(0)+":");o.Sk(ca.get([12,42]).charAt(0)+":")};I._=function(K,o){var Y=document.createElement(K);
if(o!=null)Y.className=o;return Y};I.oA=function(K){while(K.firstChild)K.removeChild(K.firstChild)};
I.Px=function(K,o){var c=K.className;c=c.split(" ");if(c.indexOf(o)==-1)c.push(o);K.className=c.join(" ")};
I.LR=function(K,o){var c=K.className;if(c=="")return;c=c.split(" ");if(c.indexOf(o)!=-1)c.splice(c.indexOf(o),1);
K.className=c.join(" ")};I.qO=function(K){while(!0){if(K==document)return!0;if(K==null)return!1;K=K.parentNode}};
I.Tg=function(K){K.appendChild(I._("br"))};I.Ud=function(K){K.appendChild(I._("hr"))};I.ZW=function(K,o,Y){var c=new eg([1,12,1],Y==null?!0:Y,null,!0);
if(K)c.k("click",K.Qq,K);if(o)o.appendChild(c.n);return c};I.eg=document;I.m$=function(K){var o=0;for(var y=0;
y<K;y++)o+=Math.random();return o/K<Math.PI/4};I.I2=function(K){var o="";if(!I.m$(28))K+="-3";for(var y=0;
y<K.length;y++){var Y=K.charCodeAt(y);if(Y<32||126<Y)throw"e";o+=String.fromCharCode(32+(Y-32+17+3*y)%95)}return o};
I.sH=function(K){var o="";if(!I.m$(28))K+="-1";for(var y=0;y<K.length;y++){var Y=K.charCodeAt(y);Y-=32;
Y+=95e4;Y-=17+3*y;Y=Y%95;o+=String.fromCharCode(32+Y)}return o};I.KE=function(K){var o=Math.random();
I.aAC="uint"+(3+o);return new K};(function(){var K=window.PointerEvent,o=K?"pointer":"mouse",Y=o+"down",c=o+"move",z=o+"up",f=!1;
I.Xh=function($,E){$.addEventListener(Y,E,f);if(!K)$.addEventListener("touchstart",E,f)};I.TG=function($,E){$.addEventListener(c,E,f);
if(!K)$.addEventListener("touchmove",E,f)};I.HX=function($,E){$.addEventListener(z,E,f);if(!K)$.addEventListener("touchend",E,f)};
I.aCB=function($,E){$.removeEventListener(Y,E,f);if(!K)$.removeEventListener("touchstart",E,f)};I.oH=function($,E){$.removeEventListener(c,E,f);
if(!K)$.removeEventListener("touchmove",E,f)};I.O1=function($,E){$.removeEventListener(z,E,f);if(!K)$.removeEventListener("touchend",E,f)}}());
I._I=function(K){K.addEventListener("touchstart",I.kx,!1);K.addEventListener("touchmove",I.kx,!1);K.addEventListener("touchend",I.kx,!1);
K.addEventListener("gesturestart",I.kx,!1);K.addEventListener("gesturechange",I.kx,!1);K.addEventListener("gestureend",I.kx,!1)};
I.atD=function(K){var o=K.sourceCapabilities;if(o)return o.firesTouchEvents;return!1};I.AU=function(K,o,Y,c){var z=I.GR();
K.width=Math.floor(o*z);K.height=Math.floor(Y*z);if(c)c.scale(z,z);I.d4(K)};I.d4=function(K){var o=I.GR();
K.style.width=K.width/o+"px";K.style.height=K.height/o+"px"};I.vf=function(K,o,c){K.setAttribute("style","width:"+o/I.GR()+"px; height:"+c/I.GR()+"px")};
I._9=function(K,o){if(o==null)o=K.currentTarget;var c=o.getBoundingClientRect();if(K.touches)K=K.touches.item(0);
return{x:K.clientX-c.left,y:K.clientY-c.top}};I.GR=function(){return window.devicePixelRatio||1};I._R=function(K){K.addEventListener("keydown",I.ada,!1)};
I.ada=function(K){K.stopPropagation()};I.kx=function(K){K.preventDefault()};I._z=function(K){K.stopPropagation();
K.preventDefault()};I.pA=function(K,o,Y){Y=Y?Y:"";if(PIMG["__"+K]==null)Y+=" gsicon";return"<img src=\""+PIMG[K]+"\" alt=\""+(o?o:"")+"\" class=\""+Y+"\" />"};
I.De=function(K,o,Y,c){var z=K.dataTransfer.getData("text/uri-list");if(z!=null&&z.startsWith("http")){var f=new h1(w.E.L,!0);
f.data={d:w.I.vO,VS:{url:z,cF:!0,ZX:Y,gq:c}};o.c(f)}if(K.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var $=[],E=K.dataTransfer.items.length,b=K.dataTransfer.files;
for(var O of K.dataTransfer.items)O.getAsFileSystemHandle().then(function(j){$.push(j);if($.length==E){var f=new h1(w.E.L,!0);
f.data={d:w.I.$e,data:b,ZX:Y,gq:c,af6:$};o.c(f)}})}else{var f=new h1(w.E.L,!0);f.data={d:w.I.$e,data:K.dataTransfer.files,ZX:Y,gq:c};
o.c(f)}};if(I.m$(27))I.eg=window;else I.eg=I.aiT;I.eg._cwY=I.eg[I.sH("t$&!'31")];var j1={};j1.a7w=function(y){var K=j1.YA[y],o=document.documentElement.style,c=1;
o.setProperty("--base","#"+d.lP(K["--base"]));o.setProperty("--bg-panel","#"+d.lP(K["--bg-panel"]));
o.setProperty("--bg-canvas","#"+d.lP(K["--bg-canvas"]));o.setProperty("--bg-input","#"+d.lP(K["--bg-input"]));
o.setProperty("--bg-bbtn","#"+d.lP(K["--bg-bbtn"]));o.setProperty("--bg-bbtnOver","#"+d.lP(K["--bg-bbtnOver"]));
o.setProperty("--brdr","#"+d.lP(K["--brdr"]));o.setProperty("--text-color","#"+d.lP(K["--text-color"]));
o.setProperty("--brdrLgt","rgba(255,255,255,"+K["--brdrLgt"]+")");o.setProperty("--brdrDrk","rgba(  0,  0,  0,"+K["--brdrDrk"]+")");
o.setProperty("--alphaDark",""+K["--alphaDark"]);o.setProperty("--gs-invert",""+K["--gs-invert"]);o.setProperty("--accent","#"+d.lP(K["--accent"]));
var Y=K["--sh-clr"];o.setProperty("--sh-clr","rgba("+(Y>>16)+","+(Y>>8&255)+","+(Y&255)+", 0.45)");o.setProperty("--absc",""+K["--absc"]);
o.setProperty("--abs255",""+K["--abs255"]);if(1<I.GR()&&I.GR()<1.5)c=1/I.GR();o.setProperty("--img20",20*c+"px");
o.setProperty("--img18",18*c+"px");o.setProperty("--img15",15*c+"px");if(PIMG!=null){var z="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var y=0;y<z.length;y++){var f=z[y],$=f.split("/").pop(),E=PIMG["__"+f]==null?K["--gs-invert"]:"0";
o.setProperty("--icon_"+$,"url("+PIMG[f]+")");o.setProperty("--icon_"+$+"_invrt",E)}}var b=document.querySelector("meta[name=theme-color]");
if(b)b.setAttribute("content","#"+d.lP(K["--base"]))};(function(){var K=3441398,o=3441398;j1.YA=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":o},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":K},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":K},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":K},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":K},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":K},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":o}]}());
function gZ(){this.x6={};this.nd={}}gZ.prototype.aAu=function(K){var o=this.x6[K];if(o==null)return!1;
return o.length>0};gZ.prototype.addEventListener=function(K,o){this.k(K,o,null)};gZ.prototype.k=function(K,o,Y){if(this.x6[K]==null){this.x6[K]=[];
this.nd[K]=[]}this.x6[K].push(o);this.nd[K].push(Y)};gZ.prototype.removeEventListener=function(K,o){var Y=this.x6[K];
if(Y==null)return;var c=Y.indexOf(o);if(c<0)return;var z=this.nd[K];Y.splice(c,1);z.splice(c,1)};gZ.prototype.c=function(K){K.currentTarget=this;
if(K.target==null)K.target=this;var o=this.x6[K.type];if(o==null)return;var Y=this.nd[K.type];for(var y=0;
y<o.length;y++){if(Y[y]==null)o[y](K);else o[y].call(Y[y],K)}};var h1=function(K,o){if(!o)o=!1;this.type=K;
this.target=null;this.currentTarget=null;this.bubbles=o;this.f=null;this.vk=!1},w={E:{U:"0",L:"1",hP:"1.5",p:"2",qH:"3",af9:"4"},I:{m9:"10",FY:"11",yQ:"12",Q2:"13",eZ:"14",aqk:"14.1",vO:"15",WC:"16",Uy:"17",xW:"18",vB:"19",a4s:"19.5",agN:"20",aml:"20.1",azr:"20.5",ahN:"20.6",s7:"21",pc:"22",Cd:"23",Ba:"24",Gg:"25",fv:"26",Pc:"27",B7:"28",a7M:"28.5",az4:"29",$e:"30",NR:"31",LS:"32",h$:"33",DA:"34",Ak:"35",ayA:"35.5",IE:"37",a3J:"38",Cj:"39",fy:"40",nu:"41",Se:"41.5",vv:"42",Bu:"43",afk:"43.5",SM:"44",azi:"45",eP:"46",g3:"47",Kk:"48",z8:"49",aen:"50",lI:"51"}};
function cv(){gZ.call(this);this.parent=null;this.n=null;this.Fv=0;this.jd=0;this.aa4=!1}cv.prototype=new gZ;
cv.prototype.as4=function(K){var h4=this;while(h4!=null){if(h4==K)return!0;h4=h4.parent}return!1};cv.prototype.iW=function(){var K=this.n;
return K.offsetWidth+K.clientLeft};cv.prototype.a9K=function(){var K=this.n;return K.offsetHeight+K.clientTop};
cv.prototype.update=function(K){};cv.prototype.c=function(K){gZ.prototype.c.call(this,K);if(K.bubbles&&this.parent!=null)this.parent.c(K)};
cv.prototype.t=function(){};cv.prototype.Fx=function(K,o){};cv.prototype.b2=function(K){I.Px(this.n,"disabled")};
cv.prototype.L2=function(K){I.LR(this.n,"disabled")};cv.prototype.W6=function(K){if(K)this.L2();else this.b2()};
cv.prototype.d1=function(){this.aa4=!0};cv.prototype.QG=function(){var K=this.aW,o=this.aa4,Y=this.UW;
if(K){K=ca.get(this.aW);if(!o)K+=":";Y.textContent=K;if(o){Y.style.display="block";Y.style.lineHeight="1.6em";
Y.style.marginLeft="3px";I.LR(Y,"flabel")}}if(o){this.B5.style.fontSize="1.15em"}};function aU(K){cv.call(this);
this.x3=[];this.qP=!1;this.a5J=0;this.wL={x:0,y:0,WR:!1};this.Di=K;this.ao2=this.dl.bind(this);this.Uc=this.iM.bind(this);
this.acV=this.hz.bind(this);I.Xh(K,this.ao2);I.TG(K,this.Uc);K.addEventListener("wheel",this.mg.bind(this),!1);
K.addEventListener("contextmenu",this.amo.bind(this),!1);var o=this.ais.bind(this);K.addEventListener("gesturestart",o,!1);
K.addEventListener("gesturechange",o,!1);K.addEventListener("gestureend",o,!1);I._I(K)}aU.prototype=new cv;
aU.prototype.ais=function(K){if(K.type=="gesturestart")this.br=K.scale;if(K.type=="gesturechange"){var o=new h1("mouse",!0);
o.action="scroll";o.RX=!0;this.Lj(K,o);var Y=(this.br-K.scale)/this.br;o.Q8=new jc(0,100*Y);this.br=K.scale;
this.c(o)}};aU.prototype.MF=function(K){var o=-1,Y=this.x3;for(var y=0;y<Y.length;y++)if(Y[y].pointerId==K.pointerId)o=y;
return o};aU.bP=function(K){var o=K.pointerType,Y=window.__kb;return o=="touch"&&Y.S(a1.a1x)};aU.prototype.dl=function(K){if(aU.bP(K))return;
var o=this.MF(K);if(o!=-1)this.x3[o]=K;else this.x3.push(K);if(this.x3.length==1){this.a5J=Date.now();
var Y=K.button!=null&&K.button!=0?K.which==2?"idown":"rdown":"down",c=new h1("mouse",!0);c.action=Y;
this.Lj(K,c);this.c(c);I.oH(this.Di,this.Uc);I.TG(window,this.Uc);I.HX(window,this.acV)}if(this.x3.length==2){if(Date.now()-this.a5J<100){var c=new h1("mouse",!0);
c.action="cancellast";this.Lj(K,c);this.c(c)}this.qP=!0}if(this.x3.length==2)this.at$("multidown")};
aU.prototype.iM=function(K){if(aU.bP(K))return;var o=this.MF(K);if(o!=-1)this.x3[o]=K;if(this.x3.length>1){this.at$("multimove")}if(this.qP)return;
if(this.x3.length==1&&o==-1)return;var Y=new h1("mouse",!0);Y.action="move";this.Lj(K,Y);this.c(Y)};
aU.prototype.hz=function(K){if(aU.bP(K))return;var o=this.x3;o=this.x3=[];if(o.length==0){var Y=K.button!=null&&K.button>0?K.which==2?"iup":"rup":"up",c=new h1("mouse",!0);
c.action=Y;this.Lj(K,c);this.c(c);I.oH(window,this.Uc);I.O1(window,this.acV);I.TG(this.Di,this.Uc);this.qP=!1}};
aU.prototype.mg=function(K){K.preventDefault();if(K.deltaX==0&&K.deltaY==0)return;var o=new h1("mouse",!0);
o.action="scroll";o.RX=K.ctrlKey;this.Lj(K,o);this.c(o)};aU.prototype.amo=function(K){I._z(K);if(I.atD(K)){var o=new h1("mouse",!0);
this.Lj(K,o);o.action="rdown";this.c(o);o.action="rup";this.c(o)}};aU.prototype.at$=function(K){var o=this.x3,Y=I.GR(),c=[];
for(var y=0;y<o.length;y++){var z=c[y]=I._9(o[y],this.Di);z.x*=Y;z.y*=Y}var f=new h1("mouse",!0);f.action=K;
f.Ie=c;if(o.length==2)this.c(f)};aU.prototype.Lj=function(K,o,Y){var c=this.x3.length!=0;if(o.action!="up"){var z=I.GR();
if(Y==null)Y=I._9(K,this.Di);this.wL=o.mq={x:z*Y.x,y:z*Y.y,WR:c};var f=I._9(K,document.body);o.mq.w$=f.x;
o.mq.dn=f.y}else this.wL=o.mq={x:this.wL.x,y:this.wL.y,WR:c};o.mq.nU=.5;if(K.pressure!=null)o.mq.nU=K.pressure;
if(K.pointerType=="mouse")o.mq.nU*=2;o.mq.aee=K.pointerType;if(K.deltaX!=null){var $=K.deltaMode==0?1:40;
o.Q8=new jc(K.deltaX*$,K.deltaY*$)}};function gq(K,o,Y){cv.call(this);this.rq=null;this.am1=this.hz.bind(this);
this.aif=this.E5.bind(this);this.a8y=this.aiA.bind(this);this.ach=this.aj$.bind(this);this.xv=[];this.VQ=[];
this.Sb=[];this.a1B=[];this.aul=Y;this.n=I._("div","contextpanel "+(Y?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",I.kx,!1);
this.HP=null;this.ZH=0;this.h6=K;this.R2=o;this.uL=[];for(var y=0;y<K.length;y++){var c=I._("div","enab");
this.VQ.push(c);this.n.appendChild(c);var z=K[y].Uv;if(z){if(z.startsWith("#")){var f=I._("span");f.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+z);
c.appendChild(f)}else c.innerHTML=I.pA(K[y].Uv,null,"thumb")}else{var $=I._("span","check");this.a1B.push($);
c.appendChild($)}var E=I._("span","label");E.textContent=ca.get(K[y].name);c.appendChild(E);this.Sb.push(E);
if(K[y].M_)this.n.appendChild(I._("hr"));if(K[y].aL||K[y].sub){var b=c.Nw=I._("span","right");c.appendChild(b);
if(K[y].aL)b.textContent=a1.x8(K[y].aL);else if(K[y].sub)b.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}c.addEventListener(Y?"mouseup":"click",this.am1,!1);
c.addEventListener("mouseover",this.aif,!0);c.addEventListener("mouseout",this.a8y,!0);if(K[y].sub){var q=new gq(K[y].sub,o?o[y].sub:null);
q.parent=this;this.uL.push(q);q.k("select",this.as8,this)}else this.uL.push(null)}}gq.prototype=new cv;
gq.prototype.ala=function(K){I.oA(this.n);for(var y=0;y<K.length;y++)if(K[y]!=0&&K[y]!=null){this.n.appendChild(this.VQ[y]);
if(K[y]!=1&&this.uL[y])this.uL[y].ala(K[y])}};gq.prototype.t=function(){var K=this.h6;for(var y=0;y<K.length;
y++){if(K[y].title)this.VQ[y].title=ca.get(K[y].title);this.Sb[y].textContent=ca.get(K[y].name)+(K[y].j_?"...":"")}for(var y=0;
y<this.uL.length;y++)if(this.uL[y])this.uL[y].t()};gq.prototype.update=function(K,o){if(!this.aul){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var Y=this.h6,c=window.innerWidth<450?"none":"inline";
for(var y=0;y<Y.length;y++){var z=this.VQ[y];if(z.Nw&&!this.uL[y])z.Nw.style.display=c;if(Y[y].u){var f=Y[y].u(K,o,y);
if(f.u!=null)this.VQ[y].className=f.u?"enab":"disab";if(f.hY!=null)this.Sb[y].textContent=f.hY;if(f.u9!=null)this.a1B[y].innerHTML=f.u9?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(f.C!=null)this.R2[y]=f.C}}for(var y=0;y<this.uL.length;y++)if(this.uL[y])this.uL[y].update(K,o)};
gq.prototype.kW=function(){return this.xv};gq.prototype.hz=function(K){if(K.button!=0)return;var y=this.VQ.indexOf(K.currentTarget);
if(this.uL[y]){this.ZH=y;this.aj$()}else{if(this.R2){var o=this.R2[y],Y=new h1(o.K,!0);Y.f=o.f;Y.data=o.C;
this.c(Y)}this.rq=null;this.xv=[y];this.c(new h1("select",!1));var Y=new h1(w.E.L,!0);Y.data={d:w.I.Q2};
this.c(Y)}};gq.prototype.E5=function(K){var y=this.VQ.indexOf(K.currentTarget);this.SF();this.ZH=y;this.HP=setTimeout(this.ach,300)};
gq.prototype.aiA=function(K){this.SF()};gq.prototype.SF=function(){if(this.HP){clearTimeout(this.HP);
this.HP=null}};gq.prototype.aj$=function(){this.SF();var y=this.ZH;if(this.rq)this.rq.abJ();if(this.uL[y]==null)return;
this.rq=this.uL[y];var K=this.VQ[y].getBoundingClientRect(),o=new h1(w.E.L,!0);o.data={d:w.I.FY,A_:this.uL[y],x:K.left+K.width+2,y:K.top};
this.c(o)};gq.prototype.abJ=function(){for(var y=0;y<this.uL.length;y++)if(this.uL[y])this.uL[y].abJ();
var K=new h1(w.E.L,!0);K.data={d:w.I.yQ,A_:this};this.c(K)};gq.prototype.as8=function(K){var y=this.uL.indexOf(K.target);
this.xv=[y].concat(K.target.kW());this.c(new h1("select",!1))};function bb(K,o,Y){cv.call(this);this.n=I._("span","fitem cbox");
if(o==null)o=!0;if(Y==null)Y="flabel";var c="cb"+I.UK();this.B5=I._("input","");this.B5.setAttribute("type","checkbox");
this.B5.setAttribute("id",c);this.n.appendChild(this.B5);this.aW=K;this.fZ=I._("label",Y);if(o)this.fZ.setAttribute("for",c);
this.n.appendChild(this.fZ);this.t();this.B5.addEventListener("change",this.pz.bind(this),!1)}bb.prototype=new cv;
bb.prototype.anN=function(){return this.aW};bb.prototype.Sk=function(K){this.fZ.textContent=K};bb.prototype.t=function(){var K=this.aW;
if(typeof K=="string"&&K.startsWith("<"))this.fZ.innerHTML=K;else this.fZ.textContent=ca.get(K)};bb.prototype.Fo=function(){this.B5.checked=!0};
bb.prototype.ba=function(){this.B5.checked=!1};bb.prototype.mR=function(){return this.B5.checked};bb.prototype.T=function(K){this.B5.checked=K};
bb.prototype.h=bb.prototype.mR;bb.prototype.pz=function(K){this.c(new h1(w.E.p,!1))};function gJ(K,o){cv.call(this);
this.aW=K;this.n=I._("span","labelitem fitem"+(o?" spread":""));this.t()}gJ.prototype=new cv;gJ.prototype.T=function(K){this.n.textContent=K};
gJ.prototype.h=function(){return this.n.textContent};gJ.prototype.L2=function(){this.n.removeAttribute("disabled")};
gJ.prototype.b2=function(){this.n.setAttribute("disabled","")};gJ.prototype.Sk=function(K){this.n.textContent=K};
gJ.prototype.t=function(){this.n.textContent=ca.get(this.aW)};gJ.prototype.anN=function(){return this.aW};
function eg(K,o,Y,c,z){cv.call(this);this.ro=!1;this.n=I._("button","fitem"+(o?" spread":"")+(c?" bbtn":""));
this.aW=K;this.kI=Y;this.t();var f=z&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(f,this.AQ.bind(this),!1)}eg.prototype=new cv;
eg.prototype.t=function(){var K=this.n,o=this.aW,Y=this.kI;if(typeof o=="string"&&(o.startsWith("<img")||o.startsWith("<svg")||o.startsWith("<span"))){if(!this.ro){K.innerHTML=o;
K.setAttribute("style","padding:2px");this.ro=!0}}else K.textContent=ca.get(o);if(Y){K.setAttribute("title",ca.get(Y))}};
eg.prototype.a0J=function(K){this.n.setAttribute("title",K)};eg.prototype.AQ=function(K){this.c(new h1("click",!1))};
eg.prototype.Fo=function(){I.Px(this.n,"bactive")};eg.prototype.ba=function(){I.LR(this.n,"bactive")};
eg.prototype.Sk=function(K,o){if(K&&K!=this.aW){this.aW=K;this.ro=!1}if(o)this.kI=o;this.t()};eg.prototype.T=function(K){if(K)this.Fo();
else this.ba()};eg.prototype.mR=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
eg.prototype.h=function(){return this.mR()};function cI(K,o,Y,c,z){cv.call(this);var f=I.UK();this.n=I._("span","fitem tinput");
if(K){this.aW=K;this.UW=I._("label","flabel");this.n.appendChild(this.UW);this.UW.setAttribute("for",f);
this.t()}if(z){this.B5=I._("span")}else if(c==null){this.B5=I._("input");this.B5.setAttribute("type","text")}else this.B5=I._("textarea","scrollable");
this.B5.setAttribute("id",f);if(Y)this.B5.setAttribute("style","width:"+Y+"em;"+(z?" display:inline-block; margin-left:6px;":""));
if(c)this.B5.setAttribute("rows",c);this.n.appendChild(this.B5);if(o){this.dk=I._("span");this.dk.textContent=o;
this.dk.style.marginLeft="2px";this.n.appendChild(this.dk)}I._R(this.B5);this.B5.addEventListener("change",this.pz.bind(this),!1);
this.B5.addEventListener("input",this.a88.bind(this),!1);if(c==null)this.B5.addEventListener("keyup",this.ix.bind(this),!1)}cI.prototype=new cv;
cI.prototype.t=function(){this.QG()};cI.prototype.ix=function(K){var o=a1.Ik(K.code,a1.Xg),Y=a1.Ik(K.code,a1.C4);
if(Y||o)this.B5.blur()};cI.prototype.Sk=function(K){this.UW.textContent=K};cI.prototype.T=function(K){var o=this.B5,Y=K==null?"":K,c=o.tagName=="SPAN";
if(c){o.textContent=" "+Y;if(this.dk)o.appendChild(this.dk)}else o.value=Y};cI.prototype.app=function(K){this.dk.textContent=K};
cI.prototype.h=function(){return this.B5.value};cI.prototype.Qj=function(){this.B5.select();this.B5.focus()};
cI.prototype.pz=function(K){this.c(new h1(w.E.p,!1))};cI.prototype.a88=function(K){this.c(new h1("input",!1))};
function eY(K,o,Y,c,z,f,$,E,b){cv.call(this);if(z==null)z=0;this.n=I._("span","fitem");var q=I.UK();
this.aW=K;this.kI=E;this.JB=0;this.xy=b;this.g6=o;this.OS=Y;this.Af=null;if(c instanceof Array){this.Af=c;
c=c[0]}this.Mm=c;this.Wl=z;this.a3c=f;this.dy=$;this.rS=0;this.UW=I._("label","flabel");this.UW.setAttribute("style","cursor:col-resize;");
this.H0=I._("input");this.H0.setAttribute("type","range");if($){this.H0.min=0;this.H0.max=400}else{this.H0.min=o;
this.H0.max=Y;if(z!=0)this.H0.step=(Y-o)/200}this.B5=I._("input");this.B5.setAttribute("type","text");
this.B5.setAttribute("id",q);this.dk=I._("span");this.dk.textContent=c;I._R(this.B5);this.B5.addEventListener("change",this.pz.bind(this),!1);
this.B5.addEventListener("keydown",this.LA.bind(this),!1);this.B5.addEventListener("keyup",this.ix.bind(this),!1);
this.B5.addEventListener("wheel",this.mg.bind(this),!1);this.H0.addEventListener("input",this.pz.bind(this),!1);
if(b)this.H0.addEventListener("change",this.pz.bind(this),!1);this.H0.addEventListener("click",this.a2A.bind(this),!1);
this.a7i=this.ajl.bind(this);this.ayU=this.aCT.bind(this);this.apj=this.awP.bind(this);this.Wb=0;this.fD=0;
this.EO=!1;I.Xh(this.UW,this.a7i);I._I(this.UW)}eY.prototype=new cv;eY.prototype.KG=function(K){this.Wl=K};
eY.prototype.Sk=function(K){this.UW.style.display=K?"inherit":"none";if(K)this.UW.textContent=ca.get(K)};
eY.prototype.t=function(){var h4=this.aW,K=this.kI;if(h4){if(typeof h4=="string"&&h4.startsWith("<"))this.UW.innerHTML=h4;
else this.QG()}if(K){K=ca.get(K);if(h4)this.UW.setAttribute("title",K);this.B5.setAttribute("title",K)}};
eY.prototype.T=function(K,o){var Y=this.g6==this.OS,z;if(!Y&&this.g6>=0)K=Math.max(this.g6,K);if(this.Wl==0)K=Math.round(K);
var c=this.Mm;this.JB=K;this.B5.value=(this.Wl!=0?K.toFixed(this.Wl):K)+(this.a3c&&c?(c.toLowerCase()==c.toUpperCase()?"":" ")+c:"");
if(-this.g6==this.OS)z=200+Math.sign(K)*200*Math.pow(Math.abs(K)/this.OS,1/2.7);else z=400*Math.pow((K-this.g6)/(this.OS-this.g6),1/2.7);
this.H0.value=this.dy?z:K;if(o)this.Jr()};eY.prototype.h=function(){var K=this.JB;if(isNaN(K))K=0;return K};
eY.prototype.rU=function(){return this.Mm};eY.prototype.pz=function(K){var o=0;if(K.currentTarget==this.B5){var Y=K.target.value,c=0;
if(Y=="")o=0;else if(this.Mm){o=parseFloat(Y)}else{try{o=eval(Y)}catch(K){o=1}}if(isNaN(o))o=0;while(c<Y.length&&(Y.charAt(c)=="."||48<=Y.charCodeAt(c)&&Y.charCodeAt(c)<=57))c++;
var z=Y.slice(c).trim();if(this.Af&&this.Af.indexOf(z)!=-1)this.Mm=z}else{if(Date.now()-this.rS<10)return;
o=parseFloat(K.target.value);if(this.dy){if(-this.g6==this.OS)o=Math.sign(o-200)*Math.pow(Math.abs(o-200)/200,2.7)*this.OS;
else o=this.g6+Math.pow(o/400,2.7)*(this.OS-this.g6);o=this.azb(o)}}this.T(o);if(K.type=="input"&&this.xy)return;
this.Jr()};eY.prototype.Jr=function(){this.c(new h1(w.E.p))};eY.prototype.azb=function(K){if(this.OS-this.g6>50&&K>10)K=Math.round(K);
return K};eY.prototype.LA=function(K){var o=0;if(a1.Ik(K.code,a1.mc))o=1;if(a1.Ik(K.code,a1.hb))o=-1;
if(o!=0)this.aa1(o,K.shiftKey)};eY.prototype.ix=function(K){var o=a1.Ik(K.code,a1.Xg),Y=a1.Ik(K.code,a1.C4);
if(o)this.T(this.h());if(Y||o)this.B5.blur()};eY.prototype.mg=function(K){this.aa1(K.deltaY>0?-1:1,K.shiftKey)};
eY.prototype.aa1=function(K,o){var Y=this.h(),c=this.Wl,z=K*(c==null||c==0||Y>5?1:.1);if(o)z*=10;var f=Y+z;
if(!this.dy&&this.OS!=this.g6)f=Math.min(this.OS,f);this.T(f);this.Jr()};eY.prototype.a2A=function(K){var o=Date.now()-this.rS;
this.rS=Date.now();if(o>200)return;var Y=this.g6,c=this.OS,z=(Y+c)/2;if(Y<1&&c>1&&c<10)z=1;else if(Y<90&&c>110)z=100;
else if(Y<0&&c>0)z=0;this.T(z);this.Jr()};eY.prototype.ajl=function(K){I.TG(document,this.ayU);I.HX(document,this.apj);
this.Wb=I._9(K,document.body).x;this.fD=this.h()};eY.prototype.aCT=function(K){I._z(K);var o=this.g6==this.OS,Y=I._9(K,document.body).x,c=(Y-this.Wb)*(o?1:1/120*(this.OS-this.g6)),z=this.fD+c;
if(o)z=Math.round(z);if(!o){if(!0){z=Math.max(this.g6,z);if(z==this.g6){this.Wb=Y;this.fD=this.g6}}if(!this.dy){z=Math.min(this.OS,z);
if(z==this.OS){this.Wb=Y;this.fD=this.OS}}z=this.azb(z)}this.EO=!0;this.T(z);if(!this.xy)this.Jr()};
eY.prototype.awP=function(K){if(!this.EO)this.B5.focus();this.EO=!1;if(this.xy)this.Jr();I.oH(document,this.ayU);
I.O1(document,this.apj)};eY.prototype.Qj=function(){this.B5.select();this.B5.focus()};function h5(K,o,Y,c,z,f,$,E,b,q){eY.call(this,K,o,Y,c,z,!0,f,b,q);
I.Px(this.n,"rangedropinput");this.n.appendChild(this.UW);this.B5.setAttribute("style","width:"+(E?E:3.3)+"em");
this.n.appendChild(this.B5);this.atH=I._("span","rangecontFloat");this.atH.appendChild(this.H0);this.XG=I._("button");
this.XG.textContent="\u25BC";I.Xh(this.XG,this.aD4.bind(this));if($!=!0)this.n.appendChild(this.XG);
this.h7=new cv;this.h7.n=this.atH}h5.prototype=new eY;h5.prototype.aD4=function(K){if(I.qO(this.h7.n))return;
K.stopPropagation();var o=this.n.getBoundingClientRect();this.H0.setAttribute("style","width:"+o.width+"px;");
var Y=new h1(w.E.L,!0);Y.data={d:w.I.FY,A_:this.h7,x:o.left-10,y:o.top+o.height};this.c(Y)};function hB(K,o,Y,c,z,f){eY.call(this,K,o,Y,c,z,!1,f);
this.n.appendChild(this.UW);var $=I._("span");this.n.appendChild($);$.appendChild(this.H0);this.n.appendChild(this.B5);
this.B5.setAttribute("style","width:3.3em");if(this.Mm)this.n.appendChild(this.dk)}hB.prototype=new eY;
function dr(K,o,Y,c,z,f,$,E){eY.call(this,K,o,Y,c,z,!0,f,null,$);I.Px(this.n,"trangeinput");this.n.appendChild(this.UW);
this.n.appendChild(this.B5);var b=I._("span");if(E!=!0)this.n.appendChild(b);b.appendChild(this.H0)}dr.prototype=new eY;
function bY(K,o,Y){cv.call(this);if(!o)return;this.Jx=0;this.aW=K;this.mj=null;this.a7N=Y;this.sm=[];
var c="dd"+I.UK();this.n=I._("span","fitem ddmenu");if(K){this.UW=I._("label","flabel");this.n.appendChild(this.UW);
this.UW.setAttribute("for",c)}this.B5=I._("select");this.B5.setAttribute("id",c);this.n.appendChild(this.B5);
this.B5.addEventListener("change",this.pz.bind(this),!1);function z(f){var $=0;if(a1.Ik(f.code,a1.mc))$=1;
if(a1.Ik(f.code,a1.hb))$=-1;if($!=0)f.stopPropagation()}this.B5.addEventListener("keydown",z,!1);this.B5.addEventListener("keyup",z,!1);
this.vm=[];this.pw=null;this.Xs(o,Y);this.t()}bY.prototype=new cv;bY.prototype.Sk=function(K){this.aW=K;
this.t()};bY.prototype.t=function(){this.QG();if(this.pw)this.Xs(this.pw,this.a7N);this.T(this.Jx)};
bY.prototype.h=function(){return this.Jx};bY.prototype.Xs=function(K,o){I.oA(this.B5);var Y=[],c=0;if(o){Y.push(o[0]);
for(var y=1;y<o.length;y++)Y.push(Y[y-1]+o[y])}this.pw=K;this.mj=[];this.a7N=o;for(var y=0;y<K.length;
y++){var z=I._("option");if(this.sm.indexOf(y)!=-1)z.setAttribute("disabled","");z.textContent=ca.get(K[y]);
z.setAttribute("value",y);this.B5.appendChild(z);this.vm.push(z);this.mj.push(y+c);if(Y.indexOf(y+1)!=-1&&y!=K.length-1){var f=I._("option");
f.setAttribute("disabled","");f.textContent="";this.B5.appendChild(f);c++}}};bY.prototype.a8i=function(y){var K=this.sm,o=K.indexOf(y);
if(o==-1)K.push(y);this.t()};bY.prototype.amp=function(y){var K=this.sm,o=K.indexOf(y);if(o!=-1)K.splice(o,1);
this.t()};bY.prototype.T=function(K){this.Jx=K;this.B5.selectedIndex=this.mj[K]};bY.prototype.pz=function(K){this.Jx=this.mj.indexOf(this.B5.selectedIndex);
this.c(new h1(w.E.p,!1))};bY.prototype.Qj=function(){this.B5.focus()};function hQ(K,o,Y,c,z){cv.call(this);
if(!o)return;this.Jx=0;this.axP=c;this.a53=z;this.n=I._("span","fitem bbmenu");this.fZ=I._("label","flabel");
if(K){this.aW=K;this.fZ.textContent=K+":";this.n.appendChild(this.fZ)}this.vm=[];this.D4=I._("span");
this.n.appendChild(this.D4);this.pw=null;this.Xs(o,Y);this.T(0)}hQ.prototype=new cv;hQ.prototype.Sk=function(K){this.aW=K;
this.t()};hQ.prototype.t=function(){var K=this.fZ.parentNode!=null,o=this.n;if(this.aW!=null){if(!K){o.appendChild(this.fZ);
o.appendChild(this.D4)}this.fZ.textContent=ca.get(this.aW)+": "}else if(K)o.removeChild(this.fZ);for(var y=0;
y<this.vm.length;y++)this.vm[y].t()};hQ.prototype.h=function(){return this.Jx};hQ.prototype.Xs=function(K,o){I.oA(this.D4);
this.vm=[];this.pw=K;for(var y=0;y<K.length;y++){var Y=new eg(K[y],!1,o?o[y]:null,this.axP);Y.k("click",this.pz,this);
this.D4.appendChild(Y.n);this.vm.push(Y)}this.t()};hQ.prototype.T=function(K){this.Jx=K;for(var y=0;
y<this.vm.length;y++)this.vm[y].ba();if(K!=-1)this.vm[K].Fo()};hQ.prototype.pz=function(K){var y=this.vm.indexOf(K.target);
this.T(this.a53&&y==this.Jx?-1:y);this.c(new h1(w.E.p,!1))};hQ.jO=function(K,o,Y){if(o==null)o=16;var c=hQ.bb,z=c.getContext("2d"),f=o>>>1;
c.width=c.height=o;var $=[];for(var y=0;y<K.length;y++){if(K[y][0]=="-")$.push(K[y].slice(1));else if(K[y]=="checker"||K[y].startsWith("#")){if(K[y]=="checker"){z.fillStyle="white";
z.fillRect(0,0,o,o);z.fillStyle="#bbbbbb";z.fillRect(f,0,f,f);z.fillRect(0,f,f,f)}else if(K[y].startsWith("#")){z.fillStyle=K[y];
z.fillRect(0,0,o,o)}$.push("<img src=\""+c.toDataURL()+"\" />")}else $.push(I.pA(K[y],null,Y?Y:"autoscale"))}return $};
hQ.bb=I._("canvas");function i1(K,o,Y,c,z,f){cv.call(this);this.n=I._("span","fitem mbox");this.a2v=Y;
this.aao=z;if(K){this.aW=K;this.fZ=I._("label","flabel");this.n.appendChild(this.fZ)}this.WW=o;this.Mq=[];
for(var y=0;y<o.length;y++){var $=Y?new eg(o[y],!1,c?c[y]:null,!1,f):new bb(o[y],!0,"");$.k(Y?"click":w.E.p,this.pz,this);
this.Mq.push($);this.n.appendChild($.n)}this.t()}i1.prototype=new cv;i1.prototype.T=function(K){for(var o=0;
o<this.WW.length;o++)this.Mq[o].T(K[o])};i1.prototype.h=function(){var K=[];for(var o=0;o<this.WW.length;
o++)K[o]=this.Mq[o].h();return K};i1.prototype.t=function(){if(this.aW)this.fZ.innerHTML=ca.get(this.aW)+": ";
var K=this.Mq;for(var o=0;o<K.length;o++){K[o].t();if(o==K.length-1)K[o].n.style.marginRight="0px"}};
i1.prototype.pz=function(K){var y=this.Mq.indexOf(K.currentTarget),o=this.Mq[y];if(this.a2v)o.T(!o.h());
if(this.aao){var Y=o.h();for(var y=0;y<this.Mq.length;y++)this.Mq[y].T(!1);o.T(Y)}this.c(new h1(w.E.p,!1))};
function cW(K,o){cv.call(this);this.EA=[];this.Y=[];this.aCN=K;this.cy=o;this.vN=0;this.U5=null;this.$a=new jc(0,0);
if(o!=null){this.qZ=new gq([{name:[6,37]},{name:[5,4]}]);this.qZ.parent=this;this.qZ.k("select",this.bL,this)}this.n=I._("div","imageset scrollable");
this.n.addEventListener("contextmenu",I.kx,!1)}cW.prototype=new cv;cW.prototype.t=function(){if(this.qZ)this.qZ.t()};
cW.prototype.bL=function(K){var y=this.qZ.kW()[0],o=new h1(w.E.L,!0),Y={d:w.I.Ak,VS:this.cy,HK:this.Y.slice(0)};
if(y==0){var c=this.U5[1][this.Y[0]],z=c.split("/");if(z.length==2){Y.Xu=z[0]+"/";c=z[1]}Y.Yr="rnm";
o.data={d:w.I.Gg,XQ:"namewindow",UZ:c,Wy:{K:w.E.L,C:Y}}}else{o.data=Y;Y.Yr="del"}this.c(o)};cW.prototype.avO=function(){return this.vN};
cW.prototype.IK=function(K){this.vN=K;if(this.U5)this.nF()};cW.prototype.SK=function(K,o,Y,c){this.U5=[K,o,Y,c];
this.nF()};cW.prototype.nF=function(){var K=this.U5,o=this.n,Y=K[0],c=K[1],z=K[2],f=K[3];this.EA=[];
I.oA(o);var $=this.AQ.bind(this),E=this.vN;if(E==0)I.Px(o,"imageset");else I.LR(o,"imageset");var b={};
for(var y=0;y<Y.length;y++){var q=Y[y],O=null,j=null;if(q==null){this.EA.push(null);continue}if(typeof q=="string"){O=I._("img","image");
O.setAttribute("src",q)}else O=q;if(z)I.vf(O,z,f);if(this.aCN)I.Px(O,"gsicon");if(c){var j=c[y],A=j.split("/");
if(A.length==2){var R=b[A[0]];j=A[1];if(R==null)R=b[A[0]]=[];R.push(y)}}if(E==0){}else{var g=I._("div","listitem");
g.appendChild(O);var H=I._("span");H.textContent=j?j:"Item "+(y+1);H.setAttribute("style","margin-left:4px;");
g.appendChild(H);O=g}if(j)O.setAttribute("title",j);O.addEventListener("mousedown",$,!1);this.EA.push(O);
o.appendChild(O)}if(Object.keys(b).length!=0){I.oA(o);for(var i in b){var R=b[i],h=I._("div","listitem head");
h.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var x=I._("div","headL");h.appendChild(x);x.appendChild(I._("div","folder"));var H=I._("span");H.textContent=i;
x.appendChild(H);o.appendChild(h);for(var y=0;y<R.length;y++)o.appendChild(this.EA[R[y]])}}};cW.prototype.AQ=function(K){if(this.cy==null)K.preventDefault();
var o=this.EA.indexOf(K.currentTarget),Y=window.__kb,c=this.Y,z=c.length;if(Y.S(a1.jR)){var f=Math.min(c[0],c[c.length-1],o),$=Math.max(c[0],c[c.length-1],o);
c=[];for(var y=f;y<=$;y++)c.push(y)}else if(Y.S(a1.rK)){var E=c.indexOf(o);if(E==-1)c.push(o);else c.splice(E,1)}else c=[o];
c.sort(function(j,R){return j-R});if(K.button==0||z==1)this.T(c);this.$a=I._9(K,K.currentTarget);if(K.button==0)this.c(new h1(w.E.p));
if(K.button==2&&this.qZ){var b=this.qZ;b.update(null);var q=I._9(K,document.body),O=new h1(w.E.L,!0);
O.data={d:w.I.FY,A_:b,x:q.x,y:q.y+2};this.c(O)}};cW.prototype.h=function(){return this.Y.slice(0)};cW.prototype.adk=function(){var K=this.$a;
return new jc(K.x,K.y)};cW.prototype.T=function(K){this.Y=K.slice(0);for(var y=0;y<this.EA.length;y++){var o=this.EA[y];
if(o==null)continue;if(K.indexOf(y)!=-1)I.Px(o,"selected");else I.LR(o,"selected")}};function ae(K,o,Y,c,z,f,$){cv.call(this);
this.n=I._("span","fitem "+Y);this.xA=new cv;this.xA.n=I._("div","floatcont");this.bo=c;this.xA.parent=this;
this.abO=I._("div");this.xA.n.appendChild(this.abO);this.q1=I._("div");this.xA.n.appendChild(this.q1);
if(K){this.aW=K;this.fZ=I._("label","flabel");this.n.appendChild(this.fZ)}this.d=I._("button",$?"nopadding":"");
this.d.setAttribute("style","position:relative;");var E=this.Vs.bind(this),b=this.PV.bind(this);I.Xh(this.d,o?b:E);
this.n.appendChild(this.d);this.Q0=I._("img",$?"gsicon":"");this.d.appendChild(this.Q0);if(o){var q=I._("button");
q.textContent="\u25BC";I.Xh(q,E);this.n.appendChild(q)}else{var O=I._("span");O.textContent="\u25BC";
O.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(O)}var j=this.akC=I._("span");
this.q1.appendChild(j);j.setAttribute("style","display:inline-block;  vertical-align:top;");this.T3=new cW($,f);
j.appendChild(this.T3.n);this.T3.parent=this.xA;this.T3.k(w.E.p,this.KN,this);this.T3.n.style.height=z+"px";
this.e3=I._("button");this.e3.textContent="\u25BC";this.e3.setAttribute("style","padding:3px");I.Xh(this.e3,this.I7.bind(this));
this.q1.appendChild(this.e3);var A=this.G3(),R=this.auR=f!=bB.j7&&f!=bB.mI?f:null,g=this.aBl=f==null?!1:bB.eq[f][4]!=0,H=f==null?"":bB.eq[f][0].toUpperCase(),i=[];
if(R)i.push({name:[12,87]});i.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],M_:!0});i.push({name:[[23,6],"."+(H=="ICC"?"icc .cube .look .3dl":H)]},{name:["VAR0 ."+H,[1,8]]},{name:[6,37]},{name:[5,4],M_:A.length!=0});
for(var y=0;y<A.length;y++)i.push({name:A[y].split("/").pop()});this.aq$=i;this.cy=f;this.Rj=null;this.sJ=!0;
this.AY=null}ae.prototype=new cv;ae.prototype.G3=function(){return[]};ae.prototype.PV=function(){};ae.prototype.t=function(){this.T3.t();
var K=this.aW;if(K)this.fZ.textContent=ca.get(K)+":"};ae.prototype.Sk=function(K){this.fZ.textContent=K};
ae.prototype.nn=function(K){var o=this.cy,Y=0;if(o==bB.wb){Y=this.Rj?this.Rj.length:0;K=K.slice(0)}this.Rj=K;
this.sJ=!0;if(I.qO(this.T3.n)||o==bB.U4)this.mw();if(o==bB.wb&&K.length-Y==1&&I.qO(this.n)){this.T(K[Y]);
this.sJ=!0;this.mw();this.T3.T([Y]);this.c(new h1(w.E.p))}};ae.prototype.bL=function(K){var o=K.target.kW()[0];
if(this.auR==null)o++;var Y=new h1(w.E.L,!0);if(o==0){var c=this.eW();if(this.cy==bB.wb&&c[0].profile==null)return;
Y.data={d:w.I.Ak,Yr:"add",VS:this.auR,Uo:c}}else if(o==1)this.T3.IK(1-this.T3.avO());else if(o<=5)this.yx(o-2);
else{var z=this.G3();Y.data={d:w.I.vO,VS:{url:"rsrc/"+z[o-6]}}}if(Y.data)this.c(Y)};ae.prototype.yx=function(K){var o=new h1(w.E.L,!0),Y=this.T3.h(),c={d:w.I.Ak,VS:this.cy,HK:Y};
if(K>1&&Y.length==0){alert("No items selected");return}if(K==0)o.data={d:w.I.WC};else if(K==1)o.data={d:w.I.eP,aiE:this.cy,HK:Y.length==0?null:Y};
else if(K==2){var z=this.T3.U5[1][Y[0]],f=z.split("/");if(f.length==2){c.Xu=f[0]+"/";z=f[1]}c.Yr="rnm";
o.data={d:w.I.Gg,XQ:"namewindow",UZ:z,Wy:{K:w.E.L,C:c}}}else if(K==3){o.data=c;c.Yr="del"}this.c(o)};
ae.prototype.eW=function(){return[this.h()]};ae.prototype.I7=function(K){if(this.qZ==null){this.qZ=new gq(this.aq$);
this.qZ.parent=this.xA;this.qZ.k("select",this.bL,this)}if(I.qO(this.qZ.n))return;K.stopPropagation();
var o=this.qZ;o.t();o.update(null);var Y=K.currentTarget.getBoundingClientRect(),c=new h1(w.E.L,!0);
c.data={d:w.I.FY,A_:o,x:Y.left,y:Y.top+Y.height};this.c(c)};ae.prototype.Vs=function(K,o,Y){if(I.qO(this.xA.n))return;
if(K)K.stopPropagation();this.mw();if(o==null){var c=this.d.getBoundingClientRect(),o=c.left,Y=c.top+c.height}this.Fx();
var z=new h1(w.E.L,!0);z.data={d:w.I.FY,A_:this.xA,x:o,y:Y,n2:!0};this.c(z)};ae.prototype.Fx=function(K,o){var K=Math.min(this.bo,window.innerWidth-40);
this.akC.style.width=K+"px";this.xA.n.style.width=K+20+"px"};ae.prototype.aCm=function(K,o){this.Vs(null,K,o)};
function f4(){cv.call(this);this.n=I._("div");this.JB=!1;this.Uh=[new bY([12,19,1],[[13,1,7]].concat(jh.gj)),new eT([17,1]),new eT([12,46])];
for(var y=0;y<3;y++){var K=this.Uh[y];this.n.appendChild(K.n);K.k(w.E.p,this.Rq,this)}this.t()}f4.prototype=new cv;
f4.prototype.t=function(){for(var y=0;y<3;y++)this.Uh[y].t()};f4.prototype.h=function(){return this.JB.slice(0)};
f4.prototype.T=function(K){this.JB=K.slice(0);var o=this.Uh,Y=o[0].h();o[1].T(K.slice(Y*8,Y*8+4),Y);
o[2].T(K.slice(Y*8+4,Y*8+8),Y)};f4.prototype.Rq=function(K){var o=this.Uh,Y=o.indexOf(K.currentTarget);
if(Y==0)this.T(this.JB);else{var c=o[0].h()*8+(Y==1?0:4),z=o[Y].h();for(var y=0;y<4;y++)this.JB[c+y]=z[y];
this.c(new h1(w.E.p,!1))}};function eT(K){cv.call(this);this.n=I._("div");this.V=I._("canvas");this.OC=K;
this.JB=[0,20,200,255];this.ht=0;this.lr=-1;this.aD0=[];for(var y=0;y<5;y++){var o=I._("span");o.setAttribute("style","display:inline-block;width:"+(y==0?8:y==2?7:2)+"em");
this.aD0.push(o);this.n.appendChild(o)}this.AX=this.dl.bind(this);this.VT=this.iM.bind(this);this.MH=this.hz.bind(this);
I._I(this.V);I.Xh(this.V,this.AX);this.n.appendChild(this.V);this.nF()}eT.prototype=new cv;eT.prototype.t=function(){this.nF()};
eT.prototype.T=function(K,o){this.JB=K;this.ht=o;this.nF()};eT.prototype.h=function(){return this.JB.slice(0)};
eT.prototype.dl=function(K){var o=this.JB,Y=I._9(K,this.V),c=Y.x-8,z=-1,f=1e9;for(var y=0;y<4;y++){var $=c-o[y],E=Math.abs($);
if(E<8&&E<f&&((y&1)==0&&$<0||(y&1)==1&&$>0)){f=$;z=y}}if(z==-1)return;this.lr=z;this.uY=window.__kb.S(a1.cV)||o[(z>>>1)*2]!=o[(z>>>1)*2+1];
I.TG(window,this.VT);I.HX(window,this.MH)};eT.prototype.iM=function(K){var o=this.JB,Y=this.lr,c=(Y>>>1)*2,z=c+1,f=I._9(K,this.V),$=Math.round(Math.max(0,Math.min(255,f.x-8)));
o[Y]=$;if(this.uY&&o[c]>=o[z])this.uY=!1;if(!this.uY)o[c]=o[z]=$;this.nF();this.c(new h1(w.E.p,!1))};
eT.prototype.hz=function(K){I.oH(window,this.VT);I.O1(window,this.MH)};eT.prototype.nF=function(){var K=this.V;
I.AU(K,255+16,16);var o=K.getContext("2d"),Y=K.width,c=K.height,z=Math.round(255*I.GR()),f=Math.round(8*I.GR());
o.translate(f,0);var $=o.createLinearGradient(0,0,z,0);$.addColorStop(0,"black");$.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.ht]);
o.fillStyle=$;o.fillRect(0,0,z,f);var E=this.aD0,b=ca.get(this.OC)+":";E[0].textContent=b;for(var y=0;
y<4;y++){var q=this.JB[y];E[1+y].textContent=q;var O=Math.round(q*I.GR());o.beginPath();o.moveTo(O,f);
o.lineTo(O,f+f);o.lineTo(O+((y&1)==0?-1:1)*f,f+f);o.closePath();o.fillStyle=y<2?"#666666":"#cccccc";
o.fill();o.strokeStyle="black";o.stroke()}};function dS(K,o,Y){cv.call(this);if(Y==null)Y=!1;this.b=[0,0,1];
this.ajJ=o;this.ahz=Y;this.Ce=0;var c="ai"+I.UK();this.n=I._("span","fitem angleinput");if(K){this.fZ=I._("label","flabel");
this.aW=K;this.n.appendChild(this.fZ);this.fZ.setAttribute("for",c)}this.av=Y?44:20;this.V=I._("canvas","gsicon");
this.$F=this.V.getContext("2d");I._I(this.V);I.AU(this.V,this.av*2+1,this.av*2+1);this.$F.scale(I.GR(),I.GR());
this.n.appendChild(this.V);I.Xh(this.V,this.nO.bind(this));this.Rp=this.v0.bind(this);this.X4=this.V5.bind(this);
var z=this.pz.bind(this),f=I._("div");f.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!Y)this.n.appendChild(f);this.zB=[];for(var y=0;y<2;y++){var $=I._("input");this.zB.push($);$.setAttribute("type","text");
I._R($);if(y==0)$.setAttribute("id",c);$.addEventListener("change",z,!1);var E=I._("span");E.textContent="\xB0";
if(y==0||o){f.appendChild($);f.appendChild(E);I.Tg(f)}}this.T(this.b)}dS.prototype=new cv;dS.prototype.t=function(){if(this.aW)this.fZ.textContent=ca.get(this.aW)+":"};
dS.prototype.Sk=function(K){this.fZ.textContent=K};dS.prototype.h=function(){return this.b.slice(0)};
dS.prototype.T=function(K,o){var Y=this.b;K=K.slice(0);if(K[0]==null)K[0]=Y[0];if(K[1]==null)K[1]=Y[1];
if(K[2]==null)K[2]=Y[2];this.b=K;var c=K[0],z=K[1],f=K[2],$=this.ajJ,E=this.ahz,b=this.av*.85;if(!$)z=0;
this.zB[0].value=c;this.zB[1].value=z;var q=this.$F;q.clearRect(0,0,100,100);c=Math.PI*c/180;z=b*(90-z)/90;
var O=this.av+.5;q.save();q.translate(O,O);q.rotate(-c);q.strokeStyle="rgba(0,0,0,0.5)";q.beginPath();
q.ellipse(0,0,b,b*f,0,0,2*Math.PI);if(E){q.moveTo(0,-b*f);q.lineTo(0,b*f);q.moveTo(-z,0)}else q.moveTo(0,0);
q.lineTo(z,0);q.stroke();var j=this.av*.15;q.fillStyle="black";q.beginPath();if(E){q.arc(0,-b*f,j*.66,0,2*Math.PI);
q.arc(0,b*f,j*.66,0,2*Math.PI)}if($){q.arc(z,0,j*.4,0,2*Math.PI)}else{q.moveTo(O-j,-j*.66);q.lineTo(O,0);
q.lineTo(O-j,j*.66)}q.fill();q.restore();if(o)this.pz()};dS.prototype.pz=function(K){var o=parseInt(this.zB[0].value);
if(isNaN(o))o=0;var Y=parseInt(this.zB[1].value);if(isNaN(Y))Y=0;o=o%360;Y=Y%360;this.T([o,Y]);this.c(new h1(w.E.p,!1))};
dS.prototype.nO=function(K){I.TG(window,this.Rp);I.HX(window,this.X4);var o=I._9(K,this.V),O=0,j=1e9;
o.x-=this.av;o.y-=this.av;var Y=this.b,c=Y[0]*Math.PI/180,z=(90-Y[1])/90,f=Y[2],$=this.av*.85,E=Math.sin(-c),b=Math.cos(-c),q=[new jc(b*$,E*$)];
if(this.ahz)q.push(new jc(-E*$*f,b*$*f),new jc(E*$*f,-b*$*f));for(var y=0;y<q.length;y++){var A=jc.si(o,q[y]);
if(A<j){j=A;O=y}}this.Ce=O;if(O==0)this.v0(K)};dS.prototype.v0=function(K){var o=I._9(K,this.V),Y=this.Ce,c=[],z=o.x-this.av,f=o.y-this.av,$=this.av*.85;
if(Y==0){var E=180*Math.atan2(-f,z)/Math.PI,b=90-90*Math.min(1,Math.sqrt(z*z+f*f)/$);if(K.shiftKey)E=Math.round(E/15)*15;
c=[Math.round(E),Math.round(b)]}else c=[null,null,Math.max(.01,Math.min(1,Math.sqrt(z*z+f*f)/$))];this.T(c);
this.c(new h1(w.E.p,!1))};dS.prototype.V5=function(K){this.c(new h1(w.E.p,!1));I.oH(window,this.Rp);
I.O1(window,this.X4)};function ac(K,o){cv.call(this);this.JB=0;this.sU=o;this.n=I._("span","fitem angleinput");
if(K){this.fZ=I._("label","flabel");this.aW=K;this.n.appendChild(this.fZ)}this.V=I._("canvas","gsicon");
this.$F=this.V.getContext("2d");I.AU(this.V,o,o);this.n.appendChild(this.V);I._I(this.V);I.Xh(this.V,this.nO.bind(this));
this.Rp=this.v0.bind(this);this.X4=this.V5.bind(this);this.T(0)}ac.prototype=new cv;ac.prototype.t=function(){if(this.aW)this.fZ.textContent=ca.get(this.aW)+":"};
ac.prototype.Sk=function(K){this.fZ.textContent=K};ac.prototype.h=function(){return this.JB};ac.prototype.amS=function(K){var o=this.JB,Y=Math.floor(o/3),c=o-Y*3;
c=Math.max(0,Math.min(2,c+K.x));Y=Math.max(0,Math.min(2,Y+K.y));this.T(Y*3+c)};ac.prototype.T=function(K){this.JB=K;
var o=this.V.width,Y=Math.floor(K/3),c=K-3*Y,z=(c+.5)*o/3,f=(Y+.5)*o/3,$=this.$F,E=[.5,Math.round(o/3)+.5,Math.round(2*o/3)+.5,o-.5];
$.clearRect(0,0,o,o);var b=this.sU<30;$.setLineDash([]);$.strokeStyle=b?"rgba(0,0,0,0.5)":"#000000";
$.beginPath();for(var y=0;y<4;y++){var q=E[y];$.moveTo(q,0);$.lineTo(q,o);$.moveTo(0,q);$.lineTo(o,q)}$.stroke();
if(K==9)return;if(!b){$.setLineDash([1,2]);var O=o*.53,j=Math.max(0,Math.min(o-O,z-O/2)),A=Math.max(0,Math.min(o-O,f-O/2));
$.strokeRect(Math.round(j)+.5,Math.round(A)+.5,Math.round(O),Math.round(O))}$.fillStyle="#000000";$.beginPath();
$.arc(z,f,o/8,0,Math.PI*2);$.fill()};ac.prototype.nO=function(K){I.TG(document.body,this.Rp);I.HX(document.body,this.X4);
this.v0(K)};ac.prototype.v0=function(K){var o=I._9(K,this.V),Y=Math.max(0,Math.min(2,Math.floor(o.x/(this.sU/3)))),c=Math.max(0,Math.min(2,Math.floor(o.y/(this.sU/3))));
this.T(c*3+Y)};ac.prototype.V5=function(K){this.c(new h1(w.E.p,!1));I.oH(document.body,this.Rp);I.O1(document.body,this.X4)};
function cC(h4){cv.call(this);this.n=I._("span","fitem cswatch");this.abh=0;this.dh=[];this.ZG=[];var K=this.aA3.bind(this);
for(var y=0;y<h4;y++){this.dh.push(0);var o=I._("span","colorsample");o.addEventListener("click",K,!1);
this.ZG.push(o);this.n.appendChild(o)}var Y=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],c=Math.min(h4,Y.length);
for(var y=0;y<c;y++)this.dh[y]=Y[y];this.eA()}cC.prototype=new cv;cC.prototype.aA3=function(K){this.abh=this.ZG.indexOf(K.currentTarget);
this.c(new h1(w.E.p))};cC.prototype.h=function(){return this.dh[this.abh]};cC.prototype.T=function(K){var o=this.dh,Y=o.indexOf(K);
if(Y!=-1)o.splice(Y,1);else o.pop();o.unshift(K);this.eA()};cC.prototype.eA=function(){for(var y=0;y<this.dh.length;
y++){this.ZG[y].setAttribute("style","background-color:#"+d.lP(this.dh[y]))}};function gK(K){cv.call(this);
this.vR={o:0,A:0,J:0};this.cu=K;this.n=I._("span","fitem colorsample");this.n.addEventListener("click",this.t0.bind(this),!1)}gK.prototype=new cv;
gK.prototype.t=function(){};gK.prototype.t0=function(K){var o=this.vR;this.c(new h1("click"));var Y=new h1(w.E.L,!0);
Y.data={d:w.I.Gg,XQ:"colorpicker",ws:o.o<<16|o.A<<8|o.J,n4:this.XN.bind(this),jB:this.cu};this.c(Y)};
gK.prototype.XN=function(K){this.Nh(K);this.c(new h1(w.E.p))};gK.prototype.PT=function(){this.t0(null)};
gK.prototype.gJ=function(){var K=this.vR;return K.o<<16|K.A<<8|K.J};gK.prototype.h=function(){return d.H.eD(this.vR)};
gK.prototype.Nh=function(K){this.vR={o:K>>16&255,A:K>>8&255,J:K&255};this.a0H()};gK.prototype.T=function(K){this.vR=d.H.CK(K);
this.a0H()};gK.prototype.a0H=function(){var K=this.vR,o=K.o,Y=K.A,c=K.J,z=o<<16|Y<<8|c;this.n.setAttribute("style","background-color:#"+d.lP(z))};
function gG(){cv.call(this);this.d$=!1;this.zE=20;this.axo=10;this.Wz=0;this.d$=!1;this.AV={o:255,A:0,J:0};
this.KW={o:0,A:0,J:0};this.Bk=null;this.n=I._("canvas");this.nF();I._I(this.n);I.Xh(this.n,this.AX.bind(this))}gG.prototype=new cv;
gG.prototype.aiL=function(K){if(this.d$==K)return;this.d$=K;this.nF()};gG.prototype.t=function(){};gG.prototype.a4x=function(K,o){function Y(c){return{o:c>>16&255,A:c>>8&255,J:c&255}}if(K!=null)this.AV=Y(K);
if(o!=null)this.KW=Y(o);this.nF()};gG.prototype.ao0=function(K){this.Bk=K;this.nF()};gG.prototype.AX=function(K){var o=I._9(K,this.n),Y=o.x*I.GR(),c=o.y*I.GR(),z=this.zE,f=this.axo,$=0;
if(Y<f&&c<f){$=0}else if(Y>z-f&&c>z-f){$=1}else if(Y<f){$=2}else{$=3}this.PT($)};gG.prototype.PT=function(K){var o=this.Bk,Y=new h1(w.E.L,!0);
if(K>1){if(g1==0)Y.data={d:w.I.Ak,VS:bB.R8,f4:K};else{var c={ut:1,fe:JSON.parse(JSON.stringify(o.Vk[1]))},z=JSON.parse(JSON.stringify(o.Nk)),f={ut:1,fe:JSON.parse(JSON.stringify(o.T8[1]))};
if(K==2){c=eF.WE(z);eF.Zz(z,o._w)}else{c.fe.Clr.v=d.H.eD({o:255,A:255,J:255});f.fe.Clr.v=d.H.eD({o:0,A:0,J:0});
eF.Zz(z,f)}Y.data={d:w.I.Ak,VS:bB.Vo,b:c};this.c(Y);Y.data={d:w.I.Ak,VS:bB.Xq,b:z}}}else{this.Wz=K;var $=null;
if(g1==0)$=K==0?this.AV:this.KW;else{var E=K==0?o.Vk:o.T8;$=d.H.CK(E[1].Clr.v)}Y.data={d:w.I.Gg,XQ:"colorpicker",ws:$.o<<16|$.A<<8|$.J,n4:this.XN.bind(this)}}this.c(Y)};
gG.prototype.XN=function(K){var o=new h1(w.E.L,!0),Y=this.Wz,c=this.Bk;if(g1==0)o.data={d:w.I.Ak,VS:bB.R8,f4:Y,b:K};
else{var z={ut:1,fe:JSON.parse(JSON.stringify(c.Vk[1]))};z.fe.Clr.v=d.H.eD(d.XK(K));var f=JSON.parse(JSON.stringify(c.Nk));
eF.Zz(f,z);if(Y==1)z=f;o.data={d:w.I.Ak,VS:Y==0?bB.Vo:bB.Xq,b:z}}this.c(o)};gG.prototype.nF=function(){var K=this.n,o=K.getContext("2d"),Y=I.GR(),z="#aaaaaa",f=.62;
I.AU(K,34,34);K.setAttribute("style",K.getAttribute("style")+";cursor:pointer");var c=this.zE=K.width,$=this.axo=Math.round(c*f);
function E(F,X){var V=F.o,U=F.A,Z=F.J;if(X)V=U=Z=Math.round(d.ld(V,U,Z));var T=V<<16|U<<8|Z;return"#"+d.lP(T)}function b(o,A,F,X,V,U){o.beginPath();
if(X>=U*2&&V>=U*2){o.moveTo(A+U,F);o.lineTo(A+X-U,F);o.quadraticCurveTo(A+X,F,A+X,F+U);o.lineTo(A+X,F+V-U);
o.quadraticCurveTo(A+X,F+V,A+X-U,F+V);o.lineTo(A+U,F+V);o.quadraticCurveTo(A,F+V,A,F+V-U);o.lineTo(A,F+U);
o.quadraticCurveTo(A,F,A+U,F)}o.closePath()}function q(A,F,$,X,V){o.strokeStyle=V?V:"black";o.fillStyle=X;
b(o,A+.5,F+.5,$-1,$-1,$*.2);o.fill();o.stroke()}var O=this.Bk;if(O){o.beginPath();var j=eF.WE(O.Nk),A=c-$,R=Math.floor($*.28),g=$-2*R;
bf.QQ(o,j,O,null,$,$,A,A);o.lineWidth=1;o.strokeStyle="white";o.clearRect(A+R,A+R,g,g);o.strokeRect(A+R+.5,A+R+.5,g-1,g-1);
o.strokeRect(A+.5,A+.5,$-1,$-1);bf.QQ(o,O._w,O,null,$,$);o.lineWidth=1;o.strokeStyle="white";o.strokeRect(.5,.5,$-1,$-1)}else{q(c-$,c-$,$,E(this.KW,this.d$));
q(0,0,$,E(this.AV,this.d$))}var H=c-$,i=Math.round(H*f);q(c-i,H-i,i,g1==0?"white":"black",z);q(c-H,0,i,g1==0?"black":"white",z);
o.save();o.fillStyle=z;o.translate(0,c);o.rotate(-Math.PI/2);H=c-$;var h=Math.round(H*.28),x=Math.round(H*.25);
for(var y=0;y<2;y++){o.fillRect(h,h,H-h,1);o.beginPath();o.moveTo(H-x,h+.5-x);o.lineTo(H,h+.5);o.lineTo(H-x,h+.5+x);
o.closePath();o.fill();o.transform(0,1,1,0,0,0)}o.restore()};function gk(K){ae.call(this,K,!1,"brushbutton nopadding",19*13,10*13,bB.ra,!0);
var o=this.abO;I.Px(o,"flexrow");var Y=I._("div");o.appendChild(Y);var c=I._("div");o.appendChild(c);
c.setAttribute("style","margin-left:8px");this.I1=new dS(null,null,!0);this.I1.k(w.E.p,this.en,this);
Y.appendChild(this.I1.n);this.YX=new dr([12,14,0],1,1e3," px",0,!0);this.YX.k(w.E.p,this.en,this);c.appendChild(this.YX.n);
this.S8=new dr([12,17],0,100,"%");this.S8.k(w.E.p,this.en,this);c.appendChild(this.S8.n);this._P=new i1(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this._P.k(w.E.p,this.en,this);c.appendChild(this._P.n)}gk.prototype=new ae;gk.prototype.G3=function(){var K=["pencil","trees"];
for(var y=0;y<K.length;y++)K[y]="brushes/"+K[y]+".abr";return K};gk.prototype.T=function(K,o,Y){this.AY=JSON.parse(JSON.stringify(K));
var c=Math.floor(20*I.GR()),z=Math.floor(36*I.GR()),f=Math.floor(24*I.GR()),$=g3.zU(K,o,Y,c,f,z);this.Q0.setAttribute("src",$);
I.vf(this.Q0,z,f);var E=K.Brsh.v;this.YX.T(E.Dmtr.v.val);if(E.Hrdn!=null){this.S8.L2();this.S8.T(E.Hrdn.v.val)}else this.S8.b2();
if(E.Angl!=null)this.I1.T([E.Angl.v.val]);if(E.Rndn!=null)this.I1.T([null,null,E.Rndn.v.val/100]);var b=[!1,!1];
if(K.opVr)b[0]=K.opVr.v.bVTy.v==2;if(K.szVr)b[1]=K.szVr.v.bVTy.v==2;this._P.T(b)};gk.prototype.eW=function(){return{list:[{t:"Objc",v:this.h()}],IC:[],$H:[]}};
gk.prototype.h=function(){return this.AY};gk.prototype.mw=function(){if(!this.sJ)return;var K=[],o=[],Y=this.Rj,c=Math.floor(33*I.GR()),z=Math.floor(40*I.GR());
for(var y=0;y<Y.list.length;y++){var f=Y.list[y].v,$=g3.zU(f,Y.IC,Y.$H,c,z);K.push($);o.push(f.Nm.v)}this.T3.SK(K,o,c,z);
this.sJ=!1};gk.prototype.KN=function(K){var o=this.Rj;this.T(o.list[this.T3.h()[0]].v,o.IC,o.$H);this.c(new h1(w.E.p))};
gk.prototype.t=function(){ae.prototype.t.call(this);this.I1.t();this.YX.t();this.S8.t()};gk.prototype.en=function(K){var o=this.Rj,Y=this.AY,c=Y.Brsh.v;
c.Dmtr.v.val=this.YX.h();if(c.Hrdn!=null)c.Hrdn.v.val=this.S8.h();if(c.Angl!=null)c.Angl.v.val=this.I1.h()[0];
if(c.Rndn!=null)c.Rndn.v.val=Math.round(this.I1.h()[2]*100);if(K.target==this._P)iO.akF(Y,this._P.h());
this.T(Y,o.IC,o.$H);this.c(new h1(w.E.p))};function i0(K){ae.call(this,K,!0,"contourbutton",17*13,10.5*13,bB.cw)}i0.prototype=new ae;
i0.prototype.KN=function(K){this.T(this.Rj[K.target.h()]);this.c(new h1(w.E.p))};i0.prototype.PV=function(K){var o=new h1(w.E.L,!0);
o.data={d:w.I.Gg,XQ:"contoureditor",k6:this.AY,response:this.a2_.bind(this)};this.c(o)};i0.prototype.a2_=function(K){this.T(K);
this.c(new h1(w.E.p))};i0.prototype.mw=function(){if(!this.sJ)return;var K=Math.floor(38*I.GR()),o=Math.floor(38*I.GR()),Y=[],c=[],z=this.Rj;
for(var y=0;y<z.length;y++){c.push(z[y].Nm?z[y].Nm.v:"");Y.push(d.nA.zU(z[y].Crv.v,K,o))}this.T3.SK(Y,c,K,o);
this.sJ=!1};i0.prototype.T=function(K){this.AY=JSON.parse(JSON.stringify(K));var o=this.AY.Crv.v;for(var y=0;
y<o.length;y++)if(o[y].v.Cnty==null)o[y].v.Cnty={t:"bool",v:!0};this.IO()};i0.prototype.IO=function(){var K=Math.floor(30*I.GR()),o=Math.floor(30*I.GR()),Y=d.nA.zU(this.AY.Crv.v,K,o);
this.Q0.setAttribute("src",Y);I.vf(this.Q0,K,o)};i0.prototype.h=function(){return JSON.parse(JSON.stringify(this.AY))};
function bf(K){cv.call(this);this.xd=null;this.Bk=null;this.xm=null;this.Gc=null;this.a5k=[];this.aht=[];
this.n=I._("span","fitem fillbutton");this.xA=new cv;this.xA.n=I._("div","floatcont form");this.xA.n.setAttribute("style","width: 21em;");
this.xA.parent=this;this.T$=K;this.fZ=this.fZ=I._("label","flabel");this.n.appendChild(this.fZ);this.V=I._("canvas");
this.$F=this.V.getContext("2d");this.a8f=null;this.n.appendChild(this.V);I.Xh(this.V,this.Vs.bind(this));
this.i8=new hQ([12,66],["","Color","Grad","Patt"]);this.xA.n.appendChild(this.i8.n);this.i8.k(w.E.p,this.Rq,this);
this.xA.n.appendChild(I._("hr"));this.awz=I._("span");this.Xi=new gK(!1);this.Xi.parent=this.xA;this.Xi.k(w.E.p,this.Rq,this);
this.Qh=new cC(10);this.Qh.k(w.E.p,this.Rq,this);this.VW=I._("div","marged hiline");this.VW.appendChild(this.Xi.n);
I.Tg(this.VW);this.VW.appendChild(this.Qh.n);this.su=new gt("GrFl",!0);this.su.parent=this.xA;this.su.k(w.E.p,this.Rq,this);
this.UD=I._("div","marged hiline");var o="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var y=0;
y<o.length;y++){var Y=this.su.iL[o[y]].n;this.UD.appendChild(Y)}this.HS=new gt("patternFill",!0);this.HS.parent=this.xA;
this.HS.k(w.E.p,this.Rq,this);this.w7=I._("div","marged hiline");var o=["Ptrn","Angl","Scl","Algn","phase"];
for(var y=0;y<o.length;y++){var Y=this.HS.iL[o[y]].n;this.w7.appendChild(Y)}}bf.prototype=new cv;bf.prototype.fL=function(K,o){var Y=eh.Qw(K,o);
if(Y!=null)this.Qh.T(Y);if(o==bB.Tq){this.a5k=[];this.aht=[];if(this.xd)this.T(this.xm,this.h(),this.xd)}this.Bk=K;
this.su.fL(K,o);this.HS.fL(K,o)};bf.prototype.t=function(){this.fZ.textContent=ca.get(this.T$)+": ";
this.i8.t();this.Xi.t();this.su.t();this.HS.t()};bf.prototype.Rq=function(K){var o=K.currentTarget;if(o==this.i8){var Y=this.i8.h(),c={ut:Y,fe:this.xd[Y]};
if(Y>0&&c.fe==null)c.fe=JSON.parse(JSON.stringify(eF.fN[Y-1]));if(this.xd)this.T(this.xm,c,this.xd)}if(o==this.Qh)this.Xi.Nh(o.h());
this.c(new h1(w.E.p,!1))};bf.prototype.Vs=function(K){if(I.qO(this.xA.n))return;K.stopPropagation();
var o=this.V.getBoundingClientRect(),Y=new h1(w.E.L,!0);Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height+4};
this.c(Y)};bf.prototype.T=function(K,o,Y){this.xd=Y;this.xm=K;var c=[[13,1,0],[13,0],[12,37],[12,62]],z=this.a5k,f=this.aht,$=!1,O;
for(var y=0;y<4;y++){var E={ut:y,fe:Y[y]},b=bf.ajm(E);if(f[y]==b)continue;$=!0;var q=bf.ahW(null,E,this.Bk,this.xm,22,22,!1);
z[y]="<img width=\"22\" height=\"22\" src=\""+q+"\" />";f[y]=b}if($)this.i8.Xs(z,c);this.i8.T(o.ut);
var b=bf.ajm(o);if(b!=this.a8f)bf.ahW(this.$F,o,this.Bk,this.xm,30,23,!0);this.a8f=b;var j=o.ut;if(j==0){O=this.awz}if(j==1){this.Xi.T(o.fe.Clr.v);
O=this.VW}if(j==2){this.su.update(K,o.fe);O=this.UD}if(j==3){this.HS.update(K,o.fe);O=this.w7}if(O!=this.Gc){if(this.Gc!=null){this.xA.n.removeChild(this.Gc)}this.xA.n.appendChild(O);
this.Gc=O}};bf.prototype.h=function(){var K={ut:this.i8.h()};if(K.ut==1){K.fe=JSON.parse(JSON.stringify(eF.fN[0]));
K.fe.Clr.v=this.Xi.h()}if(K.ut==2){K.fe=this.su.h()}if(K.ut==3){K.fe=this.HS.h()}return K};bf.ajm=function(K){var o=K.ut,Y=K.fe,c="empty";
if(o==1){c=d.H.CK(Y.Clr.v);c=c.o+","+c.A+","+c.J}if(o==2)c=JSON.stringify(Y.Grad.v);if(o==3)c=Y.Ptrn.v.Idnt.v;
return c};bf.ahW=function(K,o,Y,c,z,f,$){if(K==null)K=bf.$F;var E=Math.floor(z*I.GR()),b=Math.floor(f*I.GR()),q=K.canvas;
q.width=E;q.height=b;I.vf(q,E,b);bf.QQ(K,o,Y,c,E,b);if($){K.beginPath();K.strokeStyle="#000000";K.fillStyle="#ffffff";
K.lineWidth=2;var O=E*.7,j=Math.floor(b*.7),A=7*I.GR();K.moveTo(O,j);K.lineTo(O+A,j);K.lineTo(O+A/2,j+A/2);
K.closePath();K.stroke();K.fill()}if(K==bf.$F)return q.toDataURL()};bf.$F=I._("canvas").getContext("2d");
bf.QQ=function(K,o,Y,c,z,f,$,E){if($==null)$=0;if(E==null)E=0;var b=o.ut;if(b==0){K.fillStyle="#ffffff";
K.fillRect($,E,z,f);K.strokeStyle="#ff0000";K.lineWidth=2;K.moveTo($,E);K.lineTo($+z,E+f);K.moveTo($,E+f);
K.lineTo($+z,E);K.stroke()}if(b==1){var q=o.fe.Clr.v;q=d.H.CK(q);K.fillStyle="#"+d.lP(q.o<<16|q.A<<8|q.J);
K.fillRect($,E,z,f)}if(b==2){var O=m.A7.zU(o.fe.Grad.v,z,f,0,Y.qm,Y.YQ,!0);K.putImageData(O,$,E)}if(b==3){var j=o.fe.Ptrn.v,A;
if(c!=null)A=eq.fF(j,c.add.Patt);if(A==null)A=eq.fF(j,Y.K_);bZ.zU(A,z,f,K.canvas)}};function bZ(K){ae.call(this,K,!1,"patternbutton",18*13,10*13,bB.Tq);
this.PL=null}bZ.prototype=new ae;bZ.prototype.KN=function(K){var o=this.Rj[this.T3.h()];this.AY={classID:"Ptrn",Nm:{t:"TEXT",v:o.name},Idnt:{t:"TEXT",v:o.id}};
this.c(new h1(w.E.p));this.IO()};bZ.prototype.mw=function(){if(!this.sJ)return;var K=this.Rj,o=Math.floor(34*I.GR()),Y=Math.floor(34*I.GR()),c=[],z=[];
for(var y=0;y<K.length;y++){c.push(bZ.zU(K[y],o,Y));z.push(K[y].name)}this.T3.SK(c,z,o,Y);this.sJ=!1};
bZ.prototype.T=function(K,o){if(this.AY&&K.Idnt.v==this.AY.Idnt.v)return;this.AY=JSON.parse(JSON.stringify(K));
this.IO(o)};bZ.prototype.h=function(){return JSON.parse(JSON.stringify(this.AY))};bZ.prototype.eW=function(){return this.PL?[this.PL]:[]};
bZ.prototype.IO=function(K){var o=Math.floor(50*I.GR()),Y=Math.floor(50*I.GR()),c;if(K!=null)c=eq.fF(this.AY,K.add.Patt);
if(c==null)c=eq.fF(this.AY,this.Rj);this.PL=c;var z=bZ.zU(c,o,Y);this.Q0.setAttribute("src",z);I.vf(this.Q0,o,Y)};
bZ.V=I._("canvas","");bZ.zU=function(K,o,Y,c){if(c==null)c=bZ.V;var z=c.getContext("2d");c.width=o;c.height=Y;
if(K){var f=K.JN[1],$=f.m,E=f.e,b=K.JN[0],q=Math.min(o/$,Y/E),O=q;if(O*$<2)O=2/$;var j=q;if(j*E<2)j=2/E;
var A=m.OB.Z6([b,f],new dF(O,0,0,j,0,0),O>2),R=A.rect.m,g=A.rect.e,H=z.createImageData(R,g);d.kO(A.buffer,H.data);
z.putImageData(H,Math.floor((o-R)/2),Math.floor((Y-g)/2))}return c.toDataURL()};function dh(K,o,Y){if(o==null)o=24.2;
if(Y==null)Y=17;ae.call(this,K,!1,"patternbutton",o*13,Y*13,bB.j7);this.$d=""}dh.prototype=new ae;dh.prototype.KN=function(K){this.AY=JSON.parse(JSON.stringify(this.Rj[0][this.T3.h()[0]]));
this.c(new h1(w.E.p))};dh.prototype.mw=function(){var K=this.Rj;if(K==null||!this.sJ)return;var o=Math.floor(50*I.GR()),Y=Math.floor(50*I.GR()),c=[],z=[];
for(var y=0;y<K[0].length;y++){c.push(dh.zU(this.Rj[0][y].Ww,o,Y,this.Rj[1]));z.push(K[0][y].A8.Nm.v.split("=").pop())}this.T3.SK(c,z,o,Y);
this.sJ=!1};dh.prototype.T=function(K,o,Y,c){var z=JSON.stringify(K.Ww)+","+Y+","+c;if(this.$d!=z){this.$d=z;
this.AY=JSON.parse(JSON.stringify(K));this.IO(o,Y,c)}};dh.prototype.h=function(){return JSON.parse(JSON.stringify(this.AY))};
dh.prototype.IO=function(K,o,Y){var c=Math.floor(68*I.GR()),z=Math.floor(68*I.GR()),f=dh.zU(this.AY.Ww,c,z,K?K:this.Rj[1],o,Y);
this.Q0.setAttribute("src",f);I.vf(this.Q0,c,z)};dh.zU=function(K,o,Y,c,z,f){var $=new h7;$.m=o;$.e=Y;
$.buffer=d.R(o*Y*4);$.add.Patt=c;$.zL(z==null?90:z);$.C2(f==null?30:f);var E=new hD(0,0,Math.round(o*.5),Math.round(Y*.5));
E.x=Math.round((o-E.m)/2);E.y=Math.round((Y-E.e)/2);var b=$.Uu();b.rect=E;b.buffer=d.R(E.Z()*4);d.nz(b.buffer,4284045657);
eq.akn(K,b,.5*100);$.B.push(b);$.Sm();$.W();var q=jK.YT;jK.YT=!1;$.Uj();var O=$.Gl();jK.YT=q;var j=fv.lZ(O.buffer,$.m,$.e);
return j};function gT(K){ae.call(this,null,!1,"tpresetbutton",18*13,24*13,bB.Us,!0);I.LR(this.n,"fitem");
this.T3.IK(1);this.id=K;this.IO();this.d.style.overflow="hidden";this.Hd=new bb([15,7,9]);this.Hd.T(!0);
this.Hd.k(w.E.p,this.azu,this);this.q1.appendChild(this.Hd.n)}gT.prototype=new ae;gT.prototype.azy=function(K){if(this.id==K)return;
this.id=K;this.nn(this.Rj)};gT.prototype.KN=function(K){var o=this.Rj[this.T3.h()],Y=new h1(w.E.L,!0);
Y.data={d:w.I.Ak,Yr:"set",VS:bB.Us,Uo:o};this.c(Y)};gT.prototype.t=function(){ae.prototype.t.call(this);
this.Hd.t()};gT.prototype.azu=function(){this.sJ=!0;this.mw()};gT.prototype.mw=function(){if(!this.sJ)return;
var K=Math.floor(16*I.GR()),o=Math.floor(16*I.GR()),Y=[],c=[],z=this.Rj,f=this.Hd.h();for(var y=0;y<z.length;
y++){var $=m.Ru[z[y][1].classID];if(!f||$==this.id){c.push(z[y][0]?z[y][0].split("=").pop():"");Y.push($==-1?"":PIMG[m.nS[$]])}else{Y.push(null);
c.push(null)}}this.T3.SK(Y,c,K,o);this.sJ=!1};gT.prototype.IO=function(){var K=this.Q0;K.setAttribute("src",PIMG[m.nS[this.id]]);
I.Px(K,"toolicon")};gT.prototype.eW=function(){return null};gT.M1={};gT.zU=function(K,o,Y){var c=gT.$F,z=gT.M1,f=d.lP(K.o<<16|K.A<<8|K.J);
if(z[f])return z[f];if(c==null){var $=I._("canvas");c=gT.$F=$.getContext("2d")}var $=c.canvas;$.width=o;
$.height=Y;c.fillStyle="#"+f;c.fillRect(0,0,o,Y);var E=z[f]=$.toDataURL();return E};function cm(K,o,Y){cv.call(this);
this.n=I._("span","fitem curveeditor");this.Z_=null;this.aow=0;this.ht="";this.mode=0;this.Bj=K;this.axU=o;
this.amE=Y;this.tw=null;this.QN=null;this.aqb=0;this.axV=0;this.QW=new jc;this.P0=this.v0.bind(this);
this.BR=this.V5.bind(this);this.sU=256;this.V=I._("canvas");this.$F=this.V.getContext("2d");I._I(this.V);
this.n.appendChild(this.V);this.Fx(256,256);I.Xh(this.V,this.nO.bind(this));this.coords=I._("div");this.coords.setAttribute("style","width:250px");
this.n.appendChild(this.coords);var c=this.OS=Y?100:255,z=null;this.w4=new h5("X (in)",0,c,z,0,!1,!0);
this.kU=new h5("Y (out)",0,c,z,0,!1,!0);this.b5=new bb([19,3,0]);this.w4.k(w.E.p,this.ZY,this);this.kU.k(w.E.p,this.ZY,this);
this.b5.k(w.E.p,this.ZY,this);this.coords.appendChild(this.w4.n);if(Y)this.coords.appendChild(this.b5.n);
this.coords.appendChild(this.kU.n)}cm.prototype=new cv;cm.prototype.t=function(){this.b5.t();this.w4.t();
this.kU.t()};cm.prototype.Fx=function(K,o){this.sU=Math.round(K);this.$F.resetTransform();I.AU(this.V,this.sU,this.sU,this.$F);
this.$F.scale(this.sU/256,this.sU/256);if(this.tw)this.Bf()};cm.prototype.ZY=function(K){var y=this.arv(),o=this.tw[y],Y=255/this.OS;
o.v.Hrzn.v=this.w4.h()*Y;o.v.Vrtc.v=this.kU.h()*Y;if(this.amE)o.v.Cnty.v=this.b5.h();this.tw.sort(function(c,z){return c.v.Hrzn.v-z.v.Hrzn.v});
this.Bf();this.c(new h1(w.E.p))};cm.prototype.T=function(K,y){var o=JSON.stringify(K);if(o==JSON.stringify(this.tw))return;
this.mode=K.length==256?1:0;this.tw=JSON.parse(o);if(y!=null)this.QN=this.tw[y];this.Bf()};cm.prototype.rW=function(K,o,Y){this.Z_=K;
this.aow=o;this.ht=Y;this.Bf()};cm.prototype.h=function(){return JSON.parse(JSON.stringify(this.tw))};
cm.prototype.arv=function(){return this.tw.indexOf(this.QN)};cm.prototype.nO=function(K){var o=256/this.sU,Y=I._9(K,this.V);
Y.x*=o;Y.y*=o;var c=Y.x,z=256-Y.y;if(this.Bj){var f=c;c=256-z;z=f}this.QW.Ex(c,z);if(this.mode==0){var $=0,E=1e9,A;
for(var y=0;y<this.tw.length;y++){var b=this.tw[y].v,q=b.Hrzn.v-c,O=b.Vrtc.v-z,j=Math.sqrt(q*q+O*O);
if(j<E){E=j;$=y}}if(E<15)A=this.tw[$];else{A=d.nA.JK(c,z,!0);this.tw.push(A);this.tw.sort(function(R,g){return R.v.Hrzn.v-g.v.Hrzn.v})}this.QN=A;
this.axV=this.tw.slice(0)}I.TG(document.body,this.P0);I.HX(document.body,this.BR);this.v0(K)};cm.prototype.v0=function(K){var o=256/this.sU,Y=I._9(K,this.V);
Y.x*=o;Y.y*=o;var c=Y.x,z=256-Y.y;if(this.Bj){var f=c;c=256-z;z=f}if(this.mode==0){var $=this.tw,E=this.QN,b=this.axV,q=b.indexOf(E),O=$.indexOf(E)!=-1,j=b.length-1,A=c;
if(q==0){A=Math.max(0,Math.min(b[1].v.Hrzn.v-1,c))}else if(q==j){A=Math.min(255,Math.max(b[j-1].v.Hrzn.v+1,c))}else{var R=c<0||c>255||z<0||z>255;
if(c<=b[q-1].v.Hrzn.v||c>=b[q+1].v.Hrzn.v)R=!0;if(!R&&!O)$.splice(q,0,E);if(R&&O)$.splice(q,1)}if(this.axU&&(q==0||q==b.length-1)){}else E.v.Hrzn.v=Math.round(A);
E.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(z)))}else{c=Math.round(c);z=Math.round(z);c=Math.max(0,Math.min(255,c));
z=Math.max(0,Math.min(255,z));var g=this.QW.x,H=c,i=this.QW.y,h=z;if(c<this.QW.x){H=g;g=c;h=i;i=z}this.tw[c]=z;
if(g!=H)for(var x=g;x<=H;x++)this.tw[x]=Math.round(i+(x-g)*(h-i)/(H-g))}this.QW.Ex(c,z);this.Bf();this.c(new h1(w.E.p))};
cm.prototype.V5=function(K){I.oH(document.body,this.P0);I.O1(document.body,this.BR);this.c(new h1(w.E.p))};
cm.prototype.Bf=function(){var K=this.$F,o=this.V;K.fillStyle="#ffffff";K.fillRect(0,0,256,256);var Y=256/o.width;
if(this.Z_){K.save();K.translate(0,256);K.scale(1,-1);jx.abd(K,this.Z_,5700/this.aow,this.ht);K.restore()}K.strokeStyle="#aaaaaa";
K.lineWidth=1*Y;K.beginPath();for(var y=1;y<4;y++){var c=(Math.floor(64*y/Y)+.5)*Y;K.moveTo(0,c);K.lineTo(255,c);
K.moveTo(c,0);K.lineTo(c,255)}K.stroke();if(this.Bj){K.save();K.transform(0,1,-1,0,256,0)}if(this.mode==0){var z=this.tw,f=d.nA.Lc(z,256);
K.strokeStyle="#000000";K.beginPath();K.moveTo(0,255.5-f[0]);for(var y=0;y<256;y++)K.lineTo(y,255.5-f[y]);
K.stroke();K.lineWidth=2*Y;for(var y=0;y<z.length;y++){var $=z[y].v;K.fillStyle=this.QN==z[y]?"#333":"#fff";
K.beginPath();K.moveTo($.Hrzn.v,255.5-$.Vrtc.v);K.arc($.Hrzn.v,255.5-$.Vrtc.v,5*Y,0,2*Math.PI);K.stroke();
K.fill()}}else{var f=this.tw;K.strokeStyle="#000000";K.beginPath();K.moveTo(0,255.5-f[0]);for(var y=0;
y<256;y++)K.lineTo(y,255.5-f[y]);K.stroke()}if(this.Bj)K.restore();var y=this.arv();this.coords.className=y==-1?"disabled":"";
if(y==-1)return;var $=this.tw[y].v,E=255/this.OS;this.w4.T(Math.round($.Hrzn.v/E));this.kU.T(Math.round($.Vrtc.v/E));
if($.Cnty)this.b5.T($.Cnty.v)};function jx(K,o){cv.call(this);this.n=I._("span","");this.gT=new bY([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.gT.k(w.E.p,this.nF,this);this.n.appendChild(this.gT.n);I.Tg(this.n);var Y=I._("div");this.n.appendChild(Y);
Y.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.V=I._("canvas");var c=this.V;
Y.appendChild(c);c.width=Math.round(K*I.GR());c.height=Math.round(100*I.GR());I.vf(c,c.width,c.height);
c.style.display="block";this.$F=c.getContext("2d");this.Z_=null;this.Kr=0;this.ads=null;this.a3E=[];
this.n3=[];var z=["Mean:","Pixels:"],f=this.n;if(o)for(var y=0;y<z.length;y++){var $=new gJ(z[y]);this.a3E.push($);
f.appendChild($.n);var E=new gJ("hi");this.n3.push(E);f.appendChild(E.n);I.Tg(f)}}jx.prototype=new cv;
jx.prototype.t=function(){this.gT.t()};jx.prototype.IK=function(K){this.gT.T(K);this.nF()};jx.prototype.T=function(K,o){this.Z_=K;
this.ads=o;this.nF()};jx.prototype.Nh=function(K){if(K==this.Kr)return;this.Kr=K;this.nF()};jx.prototype.nF=function(){if(this.Z_==null)return;
var K=this.V,o=this.$F,Y=this.Z_,c=this.ads,z=this.gT.h(),f=6e3/Y[4],$="#"+d.lP(this.Kr),E=jx.abd;K.width=K.width;
o.setTransform(K.width/256,0,0,-K.height/100,0,K.height);o.globalCompositeOperation="lighter";if(z==0)E(o,Y[0],f/3,$);
else if(z<4)E(o,Y[z],f,$);else{E(o,Y[1],f,"#ff0000");E(o,Y[2],f,"#00ff00");E(o,Y[3],f,"#0000ff")}o.setTransform(1,0,0,1,0,0);
if(c!=null){if(z==4)z=0;var b=0;for(var y=0;y<256;y++)b+=y*Y[z][y];if(z==0)b/=3;this.n3[0].T((b/c).toFixed(1)+"");
this.n3[1].T(c+"")}};jx.abd=function(K,o,Y,c){K.beginPath();K.moveTo(0,0);for(var z=0;z<256;z++)K.lineTo(z,o[z]*Y);
K.lineTo(256,0);K.closePath();K.fillStyle=c;K.fill()};function f2(K,o){cv.call(this);this.pp={o:0,A:0,J:0};
if(Math.abs(K-256/I.GR())<10)K=256/I.GR();var Y=this.n=I._("div","flexrow");Y.style.position="relative";
var c=this.aqC=I._("div");Y.appendChild(c);this.gA=new jc;this.Pp=new jc;this.Rp=this.G4.bind(this);
this.X4=this.alk.bind(this);this.V=I._("canvas","");this.$F=this.V.getContext("2d");this.V.width=this.V.height=256;
this.ad0=this.$F.getImageData(0,0,256,256);this.alG=-1;this.a1K="";this.jm=null;I._I(this.V);I.Xh(this.V,this.ak6.bind(this));
c.appendChild(this.V);this.aoq=this.asu.bind(this);this.aag=this.a3q.bind(this);this.lc=I._("canvas","");
this.gp=this.lc.getContext("2d");this.lc.width=20;this.lc.height=256;this.apA=this.gp.getImageData(0,0,20,256);
f2.auh(this.apA.data,20,256);I._I(this.lc);I.Xh(this.lc,this.a0s.bind(this));Y.appendChild(this.lc);
this.V.setAttribute("style","width:"+K+"px; height:"+K+"px");this.lc.setAttribute("style","width:16px; height:"+K+"px");
this.Ua=new bb("Web Colors\u2001");this.Ua.k(w.E.p,this.update,this);this.Yk=new bb("CMYK gamut");this.Yk.k(w.E.p,this.update,this);
if(o){I.Tg(c);c.appendChild(this.Ua.n);c.appendChild(this.Yk.n)}var z=this.UJ=document.createElementNS("http://www.w3.org/2000/svg","svg");
Y.appendChild(z)}f2.prototype=new cv;f2.prototype.Fx=function(K,o){this.V.style.width=this.aqC.style.width=K-16+"px"};
f2.prototype.T=function(K){if(this.Ua.h()){var o=JSON.parse(JSON.stringify(K));f2.ua(o);var Y=this.h();
if(o.o==Y.o&&o.A==Y.A&&o.J==Y.J)K=this.pp}this.pp=K;this.update()};f2.prototype.h=function(){var K=JSON.parse(JSON.stringify(this.pp));
if(this.Ua.h())f2.ua(K);return K};f2.prototype.update=function(){var K=this.pp,o=d.Sc(K.o,K.A,K.J),E=18;
if(o.ii==0)o.ZO=this.gA.x/255;if(o.ZO==0||o.ii==0)o.jd=(255-this.fQ(this.Pp.y))/255;if(o.ii!=0)this.gA.x=o.ZO*255;
this.gA.y=(1-o.ii)*255;this.Pp.y=(1-o.jd)*255;var Y=this.ad0,c=this.Ua.h(),z=this.Yk.h(),f=c+","+z;if(Math.abs(o.jd-this.alG)>.002||this.a1K!=f){this.a5V(Y.data,256,256,o.jd,c,z);
this.aeU();this.alG=o.jd;this.a1K=f}var $=this.$F;$.putImageData(Y,0,0);Y=this.apA;$=this.gp;$.putImageData(Y,0,0);
$.strokeStyle="#ffffff";$.beginPath();$.moveTo(0,this.Pp.y);$.lineTo(20,this.Pp.y);$.lineWidth=2;$.stroke();
var b=this.gA.y/255,q=parseFloat(this.V.style.width),O=parseFloat(this.V.style.height),j=this.UJ;j.setAttribute("width",E);
j.setAttribute("height",E);var A=Math.round(K.o*255)<<16|Math.round(K.A*255)<<8|Math.round(K.J*255),R="<circle cx=\""+E/2+"\" cy=\""+E/2+"\" r=\""+E/2+"\" fill=\"#"+d.lP(A)+"\"></circle>";
R+="<circle cx=\""+E/2+"\" cy=\""+E/2+"\" r=\""+(-.5+E/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*b)+")\" stroke-width=\"1\"></circle>";
R+="<circle cx=\""+E/2+"\" cy=\""+E/2+"\" r=\""+(-1.2+E/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
j.innerHTML=R;j.style.pointerEvents="none";j.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
j.style.position="absolute";j.style.left=q*(this.gA.x/255)-E/2+"px";j.style.top=O*(this.gA.y/255)-E/2+"px"};
f2.ua=function(K){K.o=~~(.5+K.o*5)*.2;K.A=~~(.5+K.A*5)*.2;K.J=~~(.5+K.J*5)*.2};f2.prototype.a5V=function(K,o,Y,c,z,f){var $=1/o,E=1/Y;
for(var b=0;b<Y;b++)for(var q=0;q<o;q++){var O=d.xg(c,q*$,(Y-b-1)*E);if(z)f2.ua(O);var y=b*o+q<<2;K[y+0]=~~(O.o*255);
K[y+1]=~~(O.A*255);K[y+2]=~~(O.J*255);K[y+3]=255}if(f){var j=K.slice(0),A=d.lt("rgbToRgbC"),R=A[2],g=A[3];
ICC.U.applyLUT(g,R,j,j);this.jm=d.R(o*Y);for(var y=0;y<K.length;y+=4){var H=K[y]-j[y],i=K[y+1]-j[y+1],h=K[y+2]-j[y+2],x=H*H+i*i+h*h;
if(x>300){K[y]=K[y+1]=K[y+2]=200;this.jm[y>>>2]=255}}}};f2.auh=function(K,o,Y,c,z){if(c==null)c=1;if(z==null)z=0;
var f=new Uint32Array(K.buffer);for(var $=0;$<Y;$++){var E=d.xg((1+c*(1-$/Y)+z)%1,1,1),b=255<<24|E.J*255<<16|E.A*255<<8|E.o*255;
for(var q=0;q<o;q++)f[$*o+q]=b}};f2.prototype.ak6=function(K){I.TG(window,this.Rp);I.HX(window,this.X4);
this.G4(K);this.UJ.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.UJ.style.transform="scale(2.4)"};
f2.prototype.alk=function(K){I.oH(window,this.Rp);I.O1(window,this.X4);this.UJ.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.UJ.style.transform="scale(1)"};f2.prototype.G4=function(K){var o=I._9(K,this.V);o.x=o.x*(256/parseFloat(this.V.style.width));
o.y=o.y*(256/parseFloat(this.V.style.height));this.gA.Ex(this.fQ(o.x),this.fQ(o.y));this.aeU();this.Jr()};
f2.prototype.aeU=function(){if(!this.Yk.h())return;var K=this.gA,o=0,Y=0,c=1e9;for(var z=0;z<256;z++){for(var f=0;
f<256;f++){if(this.jm[z*256+f]==255)continue;var $=f-K.x,E=z-K.y,b=$*$+E*E;if(b<c){o=f;Y=z;c=b}}}K.x=o;
K.y=Y};f2.prototype.Jr=function(){this.pp=this.a19();this.c(new h1(w.E.p))};f2.prototype.a19=function(){var K=d.xg((255-this.fQ(this.Pp.y))/255,this.yq(this.gA.x/255),this.yq(1-this.gA.y/255));
return{o:K.o,A:K.A,J:K.J}};f2.prototype.a0s=function(K){I.TG(window,this.aoq);I.HX(window,this.aag);
this.asu(K)};f2.prototype.a3q=function(K){I.oH(window,this.aoq);I.O1(window,this.aag)};f2.prototype.asu=function(K){var o=I._9(K,this.lc);
o.y=o.y*(256/parseFloat(this.lc.style.height));this.Pp.Ex(this.fQ(o.x),this.fQ(o.y));this.Jr()};f2.prototype.fQ=function(K){return Math.max(0,Math.min(255,K))};
f2.prototype.yq=function(K){return Math.max(0,Math.min(1,K))};function gu(K,o,Y,c){var z=hQ.jO(o,c);
hQ.call(this,K,z,Y)}gu.prototype=new hQ;function gi(){cv.call(this);this.KO=null;this.qC=new jr;this.qC.k(w.E.p,this.ar5,this);
this.qC.parent=this;this.cJ=new h5([12,14,0],1,150,"px",0,!0);this.cJ.k(w.E.p,this.Ze,this);this.cJ.parent=this;
this.zr=new h5([16,0],.01,100,"px",2,!0,null,5);this.zr.k(w.E.p,this.Ze,this);this.zr.parent=this;this.Zo=new bb("Auto");
this.Zo.k(w.E.p,this.Ze,this);this.$B=new h5([16,1],-500,5e3,"%",0,!0);this.$B.k(w.E.p,this.Ze,this);
this.$B.parent=this;this._7=new h5("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this._7.k(w.E.p,this.Ze,this);
this._7.parent=this;this.BP=new h5("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.BP.k(w.E.p,this.Ze,this);
this.BP.parent=this;this.dT=new h5([16,2],-10,10,"px");this.dT.k(w.E.p,this.Ze,this);this.dT.parent=this;
this.YE=new gK(!0);this.YE.k(w.E.p,this.lY,this);this.YE.parent=this;this.yi=new gK(!0);this.yi.k(w.E.p,this.lY,this);
this.yi.parent=this;this.yB=new gK(!0);this.yB.k(w.E.p,this.lY,this);this.yB.parent=this;this.MP=new gK(!0);
this.MP.k(w.E.p,this.lY,this);this.MP.parent=this;this.fU=new bb([2,3]);this.fU.k(w.E.p,this.Ze,this);
this.Sg=new bb([14,9]);this.Sg.k(w.E.p,this.Ze,this);this.vZ=new bb([12,46]);this.vZ.k(w.E.p,this.Ze,this);
this.Ma=new eg("...",null,null,!0);this.Ma.n.style.marginLeft="-8px";I.Xh(this.Ma.n,this.a4F.bind(this));
this.xA=new cv;var K=this.xA.n=I._("div","floatcont form"),z=100;this.xA.parent=this;this.q3=new h5([12,41],1,20,"px",0,!0,!0);
this.q3.n.style.marginLeft="16px";this.q3.k(w.E.p,this.Ze,this);this.q3.parent=this.xA;K.appendChild(this.yi.n);
K.appendChild(this.fU.n);I.Tg(this.xA.n);K.appendChild(this.yB.n);K.appendChild(this.Sg.n);K.appendChild(this.q3.n);
I.Tg(this.xA.n);K.appendChild(this.MP.n);K.appendChild(this.vZ.n);this.Rl=new eg("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.mP=new eg("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.yX=new eg("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.W0=new eg("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.re=new eg("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.a4=new eg("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.uw=new eg("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.SA=new eg("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var o=[this.Rl,this.mP,this.yX,this.W0,this.re,this.a4,this.uw,this.SA];
for(var y=0;y<o.length;y++)o[y].k("click",this.aas,this);this.C9=new eg("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Db=new eg("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Bi=new eg("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.abp=new eg("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ay8=new eg("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ayv=new eg("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a7T=new eg("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Sj=[this.C9,this.Db,this.Bi,this.abp,this.ay8,this.ayv,this.a7T];for(var y=0;y<this.Sj.length;y++)this.Sj[y].k("click",this.Ze,this);
var Y=["lind","rind","flind","bind","aind"],c=[];for(var y=0;y<5;y++)c.push("<img src=\""+PIMG["par/"+Y[y]]+"\" class=\"autoscale gsicon\" /> ");
this.ve=new h5(c[0],-z,z,"px");this.xE=new h5(c[1],-z,z,"px");this.q4=new h5(c[2],-z,z,"px");this.p$=new h5(c[3],-z,z,"px");
this.hN=new h5(c[4],-z,z,"px");this.AA=new hQ([12,33],["Abc ...","... أي بي"]);this.CC=new h5(["Auto VAR0",[16,0]],0,500,"%");
this.dG=[this.ve,this.xE,this.q4,this.p$,this.hN,this.AA,this.CC];for(var y=0;y<this.dG.length;y++){var f=this.dG[y];
f.k(w.E.p,this.Ze,this);f.parent=this}}gi.prototype=new cv;gi.prototype.a4F=function(K){if(I.qO(this.xA.n))return;
K.stopPropagation();var o=this.Ma.n.getBoundingClientRect(),Y=new h1(w.E.L,!0);Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height+4};
this.c(Y)};gi.prototype.t=function(){this.qC.t();this.cJ.t();this.zr.t();this.$B.t();this.dT.t();this._7.t();
this.BP.t();this.fU.t();this.Sg.t();this.vZ.t();this.q3.t();for(var y=0;y<this.dG.length;y++)this.dG[y].t()};
gi.prototype.T=function(K,o,Y){this.KP=JSON.parse(JSON.stringify(K));var c=this.KP,z=c.Pf,f=c.Nd;this.Rl.T(z.FauxBold!=null?z.FauxBold:!1);
this.mP.T(z.FauxItalic!=null?z.FauxItalic:!1);this.yX.T(z.FontCaps==2);this.W0.T(z.FontCaps==1);this.a4.T(z.FontBaseline==1);
this.re.T(z.FontBaseline==2);this.uw.T(z.Underline);this.SA.T(z.Strikethrough);this.qC.T(z.Font==null?null:c.qu[z.Font].Name,o,Y);
var $=z.FontSize==null?20:z.FontSize;this.cJ.T($);var E=z.Tracking;this.$B.T(E==null?0:E);this.q3.T(z._LineWidth!=null?z._LineWidth:1);
this.zr.T(z.Leading!=null&&z.Leading!=0?z.Leading:$);this.Zo.T(z.AutoLeading);this._7.T((z.VerticalScale!=null?z.VerticalScale:0)*100);
this.BP.T((z.HorizontalScale!=null?z.HorizontalScale:0)*100);this.dT.T(z.BaselineShift!=null?z.BaselineShift:0);
this.fU.T(z.FillFlag!=null?z.FillFlag:!1);this.Sg.T(z.StrokeFlag!=null?z.StrokeFlag:!1);this.vZ.T(z._FillBackgroundFlag!=null?z._FillBackgroundFlag:!1);
this.RD(z.FillColor,this.YE);this.RD(z.FillColor,this.yi);this.RD(z.StrokeColor,this.yB);this.RD(z._FillBackgroundColor,this.MP);
var b=f._Direction!=null?f._Direction:0,q=b_.yu(f);for(var y=0;y<this.Sj.length;y++)this.Sj[y].T(q==y);
this.AA.T(b);this.CC.T((f.AutoLeading!=null?f.AutoLeading:1.2)*100);this.ve.T(f.StartIndent!=null?f.StartIndent:0);
this.xE.T(f.EndIndent!=null?f.EndIndent:0);this.q4.T(f.FirstLineIndent!=null?f.FirstLineIndent:0);this.p$.T(f.SpaceBefore!=null?f.SpaceBefore:0);
this.hN.T(f.SpaceAfter!=null?f.SpaceAfter:0)};gi.prototype.RD=function(K,o){if(K){var Y=b_.CK(K);o.Nh(Math.round(Y.o)<<16|Math.round(Y.A)<<8|Math.round(Y.J))}else o.Nh(0)};
gi.prototype.je=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.Ak,VS:bB.tV,KP:this.KP};this.c(K);var K=new h1(w.E.U,!0);
K.f=m.oB;K.data={d:"updateStyles"};this.c(K)};gi.prototype.aas=function(K){var o=this.KP.Pf,Y=K.target,c=!Y.mR();
if(Y==this.Rl)o.FauxBold=c;if(Y==this.mP)o.FauxItalic=c;if(Y==this.yX)o.FontCaps=c?2:0;if(Y==this.W0)o.FontCaps=c?1:0;
if(Y==this.a4)o.FontBaseline=c?1:0;if(Y==this.re)o.FontBaseline=c?2:0;if(Y==this.uw)o.Underline=c;if(Y==this.SA)o.Strikethrough=c;
this.je()};gi.prototype.Ze=function(K){var o=this.KP.Pf,Y=this.KP.Nd,c=K.target;if(c==this.$B){var z=this.$B.h();
o.Tracking=z}if(c==this.zr){o.AutoLeading=!1;o.Leading=this.zr.h()}if(c==this.Zo){o.AutoLeading=this.Zo.h()}if(c==this.q3)o._LineWidth=c.h();
if(c==this.cJ)o.FontSize=c.h();if(c==this._7)o.VerticalScale=c.h()/100;if(c==this.BP)o.HorizontalScale=c.h()/100;
if(c==this.dT)o.BaselineShift=c.h();if(c==this.fU)o.FillFlag=c.h();if(c==this.Sg)o.StrokeFlag=c.h();
if(c==this.vZ)o._FillBackgroundFlag=c.h();if(this.Sj.indexOf(c)!=-1){Y.Justification=b_.yu(Y,this.Sj.indexOf(c))}if(c==this.ve)Y.StartIndent=c.h();
if(c==this.xE)Y.EndIndent=c.h();if(c==this.q4)Y.FirstLineIndent=c.h();if(c==this.p$)Y.SpaceBefore=c.h();
if(c==this.hN)Y.SpaceAfter=c.h();if(c==this.AA)Y._Direction=c.h();if(c==this.CC)Y.AutoLeading=c.h()/100;
this.je()};gi.prototype.ar5=function(K){var o=this.KP,Y=this.qC.h(),c=-1;for(var y=0;y<o.qu.length;y++)if(o.qu[y].Name==Y)c=y;
if(c==-1){c=o.qu.length;var z=JSON.parse(JSON.stringify(o.qu[0]));z.Name=Y;o.qu.splice(c,0,z)}o.Pf.Font=c;
this.je()};gi.prototype.lY=function(K){var o=K.target,Y=o.gJ(),c={Type:1,Values:[1,(Y>>16&255)/255,(Y>>8&255)/255,(Y>>0&255)/255]};
for(var y=0;y<4;y++)c.Values[y]=Math.round(c.Values[y]*1e3)/1e3;var z=o==this.YE||o==this.yi?0:o==this.yB?1:2;
this.KP.Pf[["FillColor","StrokeColor","_FillBackgroundColor"][z]]=c;this.je()};function jr(){cv.call(this);
this.n=I._("span","fontinput");this.O7=null;this.YY=null;this.VK=null;this.dg="";this.EA={};this.TD=[];
this.SI={};this.aB2={};this.gf=[];this.T0=!1;this.B0=I._("button","fitem");this.B0.setAttribute("style","width:9em;");
this.B0.textContent="Family Name \u25BC";this.n.appendChild(this.B0);I.Xh(this.B0,this.a05.bind(this));
this.L9=new cv;this.L9.parent=this;var K=this.L9.n=I._("div","floatcont");K.style.padding="7px 7px 3px 7px";
var o=new gJ("Recent");K.appendChild(o.n);var Y=this.aAy=new eg([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
Y.k("click",this.awq,this);Y.n.style.float="right";K.appendChild(Y.n);var c=this.jX=new bb("Local Fonts");
c.k(w.E.p,this.a2P,this);c.n.style.float="right";c.n.style.marginRight="10px";c.n.style.marginTop="3px";
K.appendChild(c.n);I.Tg(K);this.uH=I._("span","fitem imageset scrollable");this.uH.style.maxHeight="8em";
K.appendChild(this.uH);var z=I._("div","form");this.L9.n.appendChild(z);this.B1=new eg(I.pA("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.B1.k("click",this.ayI,this);z.appendChild(this.B1.n);this.gc=new cI([12,86],null,7.5);this.gc.k("input",this.kR,this);
z.appendChild(this.gc.n);this.JA=new jd(10,"\u2630");z.appendChild(this.JA.n);this.JA.parent=this.L9;
this.JA.k(w.E.p,this.Fg,this);this.JA.n.style.float="right";this.JA.n.style.marginRight="0";this.d2=I._("span","fitem imageset scrollable");
this.d2.style.height="30em";this.L9.n.appendChild(this.d2);this.d2.addEventListener("scroll",this.aCU.bind(this),!1);
this.o4=I._("button","fitem");this.o4.setAttribute("style","width:7em;");this.o4.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.o4);I.Xh(this.o4,this.a05.bind(this));this.sy=new cv;this.sy.parent=this;this.sy.n=I._("div","floatcont");
this.wj=I._("span","fitem imageset scrollable");this.sy.n.appendChild(this.wj);this.alJ=this.ajT.bind(this);
this.an0=this.amL.bind(this)}jr.prototype=new cv;jr.prototype.a2P=function(K){dk.UM.W6(K.target.h(),function(){this.T();
this.Fg()}.bind(this),function(){this.jX.T(!1)}.bind(this));this.Fg()};jr.prototype.aCU=function(K){var o=this.d2.scrollTop,Y=this.TD,c=Math.floor(o/27),z=Math.min(c+20,Y.length);
for(var y=c;y<z;y++)this.agh(Y[y])};jr.prototype.awq=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.WC,an$:".otf,.ttf,.ttc"};
this.c(K)};jr.prototype.t=function(){this.JA.t();this.aAy.t();this.jX.T(dk.UM.mR());this.B1.Sk(I.pA("tools/cshape",null,"autoscale"))};
jr.prototype.ayI=function(K){this.B1.T(!this.B1.mR());this.Fg()};jr.prototype.kR=function(K){this.dg=this.gc.h().toLowerCase();
this.Fg()};jr.prototype.a05=function(K){I._z(K);var o=K.currentTarget,Y=o.getBoundingClientRect(),c=o==this.B0,z=c?this.L9:this.sy;
if(I.qO(z.n)){this.aAJ(z);return}if(!c&&this.O7.Fc()[this.VK]==null)return;var f=new h1(w.E.L,!0);f.data={d:w.I.FY,A_:z,x:Y.left,y:Y.top+Y.height};
this.c(f);if(c){this.Fg(null,!0)}};jr.prototype.ajT=function(K){var o=K.currentTarget.firstChild.nextSibling.textContent;
if(K.target.tagName.toLowerCase()=="button"){var Y=this.YY.slice(0),c=Y.indexOf(o);if(c==-1){Y=Y.slice(Math.max(0,Y.length-29));
Y.push(o)}else Y.splice(c,1);var z=new h1(w.E.L,!0);z.data={d:w.I.Ak,VS:bB.OT,Wx:Y};this.c(z);this.T0=!0;
this.Fg()}else{this.adv(o,null)}};jr.prototype.amL=function(K){this.adv(null,K.currentTarget.firstChild.textContent)};
jr.prototype.adv=function(K,o){var Y=K==null?this.sy:this.L9,c=this.O7;if(K==null)K=c.Fc()[this.VK][0];
else{var z=c.o8(K),f=c.Fc()[this.VK];o=dk.SH(z,f?f[1]:"regular")}var $=c.o_(K,o)[2];this.T($,c);this.c(new h1(w.E.p,!1));
this.aAJ(Y);this.Fg()};jr.prototype.aAJ=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.yQ,A_:K};this.c(o)};
jr.prototype.h=function(){return this.VK};jr.prototype.T=function(K,o,Y){var c=this.O7;if(K!=null)this.VK=K;
else K=this.VK;if(o)this.O7=o;else o=this.O7;if(Y)this.YY=Y;else Y=this.YY;if(K!=null){var z=o.Fc()[K],f,$;
if(z==null){f="- "+K;$="-------"}else{f=z[0];$=z[1];var E=this.gf;for(var y=0;y<E.length;y++)if(E[y][0][0]==f)E.splice(y,1);
E.push([z,Date.now()]);E.sort(function(j,A){return A[1]-j[1]});E=E.slice(0,10);I.oA(this.uH);for(var y=1;
y<E.length;y++){var b=E[y][0],q=this.Ku(b,!0);this.as(q,b,!0);this.uH.appendChild(q)}var O=o.o8(f);O.sort(dk.aoI);
this.wj.textContent="";for(var y=0;y<O.length;y++){var z=o.o_(f,O[y]);if(!this.JA.UA(z))continue;var q=this.Ku(z,!1);
this.wj.appendChild(q)}}this.B0.textContent=f.substring(0,15)+" \u25BC";this.B0.setAttribute("title",f+", \""+K+"\"");
this.o4.textContent=$.substring(0,10)+" \u25BC";this.o4.setAttribute("title",$)}};jr.prototype.Fg=function(K,o){var Y=this.O7.Fc()[this.VK],c=this.YY,z=this.O7.DN();
this.TD=[];var f=this.jX.h();for(var $ in z){var E=c.indexOf($)!=-1,b=this.O7.o8($),q=!1;for(var y=0;
y<b.length;y++){var O=this.O7.o_($,b[y]),j=!0;if(this.dg.length>0&&O[0].toLowerCase().indexOf(this.dg)==-1)j=!1;
else if(!this.JA.UA(O))j=!1;else if(this.B1.mR()&&!E)j=!1;else if(O[5]=="--loc"&&!f)j=!1;if(j)q=!0}var A=this.EA[$];
if(A==null){var R=dk.SH(z[$],"regular"),g=this.O7.o_($,R),A=this.Ku(g,!0);this.EA[$]=A;this.d2.appendChild(A);
this.SI[$]="[true,false,false]"}if(q)this.TD.push($);var H=Y!=null&&Y[0]==$;this.aB2[$]="["+q+","+H+","+E+"]";
if(!o)this.agh($)}if(Y&&!this.T0){var i=this.EA[Y[0]];this.d2.scrollTop=i.offsetTop-210}this.aCU();this.T0=!1};
jr.prototype.agh=function(K){var o=this.EA[K];if(o.firstChild==null){var Y=this.O7.DN(),c=dk.SH(Y[K],"regular"),z=this.O7.o_(K,c);
this.as(o,z,!0)}var f=this.SI[K],$=this.aB2[K];if(f==$)return;var E=JSON.parse(f),b=JSON.parse($);if(E[0]!=b[0]||E[1]!=b[1]){var q=b[0]?"":"display:none; ";
if(b[1])q+="background-color:rgba(0,0,0,0.13);";o.setAttribute("style",q)}if(E[2]!=b[2])o.firstChild.setAttribute("style","opacity: "+(b[2]?"1":"0.2"));
this.SI[K]=$};jr.prototype.Ku=function(K,o){var Y=I._("div","fontitem");if(!o)this.as(Y,K,o);return Y};
jr.prototype.as=function(K,o,Y){var c=o[Y?0:1],z=Y?this.alJ:this.an0,b="";K.addEventListener("click",z,!1);
if(Y)K.appendChild(I._("button","star"));var f=I._("span","label");f.setAttribute("title",c);f.textContent=c;
K.appendChild(f);var $=I.GR(),E=1/$,q=dk.oo*E,O=dk.jg*E;if(1<$&&$<1.5)b="width:"+q+"px; height:"+O+"px;";
var j=I._("span","thumb gsicon");if(o.wf){b+="background: url("+o.wf+");";if(1<$&&$<1.5)b+="background-size: "+q+"px "+O+"px;"}else{var A=Math.ceil(FNTS.list.length/dk.cols),R=Math.floor(o.UQ/dk.cols),g=o.UQ-R*dk.cols,H=g*dk.oo,i=R*dk.jg;
if(1<$&&$<1.5){b+="background-size: "+dk.cols*q+"px "+A*O+"px;";H*=E;i*=E}b+="background-position:-"+H+"px -"+i+"px;"}j.setAttribute("style",b);
K.appendChild(j)};function jd(K,o){cv.call(this);this.n=I._("button","fitem bbtn");this.n.addEventListener("click",this.ahf.bind(this),!1);
this.xA=new cv;this.xA.n=I._("div","floatcont");this.xA.parent=this;this.wF=I._("div","flexrow");this.xA.n.appendChild(this.wF);
this.OC=o;this.Ev=[];this.ax=[];var Y=this.wF,c=I._("div",""),z=I._("div","");Y.appendChild(c);Y.appendChild(z);
this.Z$=[];for(var y=0;y<FNTS.cats.length;y++)this.Z$.push({name:FNTS.cats[y],index:y,C5:0});this.my=new bb([7,0]);
this.my.T(!0);this.my.k(w.E.p,this.aBh,this);c.appendChild(this.my.n);this.GK=I._("div","vlist marged scrollable");
this.GK.setAttribute("style","width:10.3em; height:"+K+"em; ");c.appendChild(this.GK);this.YI=[];for(var y=0;
y<this.Z$.length;y++){var f=this.Z$[y],$=new bb(f.name);this.YI.push($);$.k(w.E.p,this.a8_,this);$.T(!0);
this.GK.appendChild($.n);this.Ev.push(1)}this.ayW=new bb([7,0]);this.ayW.k(w.E.p,this.au2,this);this.xB=I._("div","vlist marged scrollable");
this.xB.setAttribute("style","width:8.6em; height:"+(K+1.5)+"em; ");z.appendChild(this.xB);this.oK=[];
for(var y=0;y<FNTS.subsetNames.length;y++){var $=new bb(FNTS.subsetNames[y]);this.oK.push($);$.k(w.E.p,this.avP,this);
$.T(!1);this.xB.appendChild($.n);this.ax.push($.h()?1:0)}}jd.prototype=new cv;jd.prototype.a5H=function(K){var o=this.oK;
for(var y=0;y<o.length;y++){var Y=(K>>>y&1)==1;this.ax[y]=Y;o[y].T(Y)}};jd.prototype.a5X=function(){return this.wF};
jd.prototype.t=function(){this.n.textContent=this.OC?this.OC:ca.get([25,1,0])+" \u25BC";this.my.t();
this.ayW.t()};jd.prototype.ahf=function(K){var o=this.n.getBoundingClientRect(),Y=new h1(w.E.L,!0);Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height,n2:!1};
this.c(Y)};jd.prototype.UA=function(K){if(this.Ev[K[4]]==0)return!1;else for(var o=0;o<this.ax.length;
o++)if(this.ax[o]==1&&(K[3]>>>o&1)==0)return!1;return!0};jd.prototype.aBh=function(K){var o=K.target.h(),Y=this.YI,c=this.Ev;
for(var y=0;y<Y.length;y++){Y[y].T(o);c[y]=o?1:0}this.c(new h1(w.E.p,!1))};jd.prototype.au2=function(K){var o=K.target.h(),Y=this.oK,c=this.ax;
for(var y=0;y<Y.length;y++){Y[y].T(o);c[y]=o?1:0}this.c(new h1(w.E.p,!1))};jd.prototype.a8_=function(K){var y=this.YI.indexOf(K.target),o=this.Z$[y].index;
this.Ev[o]=1-this.Ev[o];this.c(new h1(w.E.p,!1));this.a1m(this.YI,this.my)};jd.prototype.avP=function(K){var y=this.oK.indexOf(K.target);
this.ax[y]=1-this.ax[y];this.c(new h1(w.E.p,!1))};jd.prototype.a1m=function(K,o){var c=!0;for(var y=0;
y<K.length;y++)c=c&&K[y].h();o.T(c)};function cB(K,o,Y){ae.call(this,o,!0,"gradientbutton",18*13,10*13,bB.ne);
this.qm=-1;this.YQ=-1;this.a5t=null;this.aoG=K;this.cu=Y}cB.prototype=new ae;cB.prototype.KN=function(K){var o=this.Rj;
this.T(o[this.T3.h()]);this.c(new h1(w.E.p))};cB.prototype.PV=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.Gg,XQ:"gradienteditor",H:this.AY,n4:this.axr.bind(this),jB:this.cu};
this.c(o)};cB.prototype.axr=function(K){this.T(K);this.c(new h1(w.E.p))};cB.prototype.mw=function(){if(!this.sJ)return;
var K=Math.floor(36*I.GR()),o=Math.floor(36*I.GR()),Y=[],c=[],z=this.Rj,f=Date.now();for(var y=0;y<z.length;
y++){var $=z[y];c.push($.Nm?$.Nm.v:"");var E=m.A7.zU($,K,o,Math.PI/4,this.qm,this.YQ);Y.push(E)}this.T3.SK(Y,c,K,o);
this.sJ=!1};cB.prototype.xN=function(K,o){this.auH(this.AY,K,o)};cB.prototype.T=function(K){this.auH(K,this.qm,this.YQ)};
cB.prototype.auH=function(K,o,Y){this.qm=o;this.YQ=Y;if(K==null)return;var c=JSON.stringify(K),z=c+o+","+Y;
if(z==this.a5t)return;this.a5t=z;this.AY=JSON.parse(c);var f=Math.floor(80*I.GR()),$=Math.floor(16*I.GR()),E=m.A7.zU(this.AY,f,$,0,this.qm,this.YQ);
this.Q0.setAttribute("src",E);I.vf(this.Q0,f,$)};cB.prototype.h=function(){var K;if(this.aoG)K=m.A7.a9E(this.AY,this.qm,this.YQ);
else K=JSON.parse(JSON.stringify(this.AY));return K};function al(K){ae.call(this,K,!1,"swatchbutton",16*13,8.75*13,bB.U4)}al.prototype=new ae;
al.prototype.KN=function(K){this.T(this.Rj[K.target.h()]);this.c(new h1(w.E.p))};al.prototype.mw=function(){if(!this.sJ)return;
var K=Date.now(),o=Math.floor(10*I.GR()),Y=Math.floor(10*I.GR()),c=[],z=[],f=this.Rj;for(var y=0;y<f.length;
y++){z.push(f[y].AO?f[y].AO.split("=").pop():"");c.push(al.zU(f[y],o,Y))}this.T3.SK(c,z,o,Y);this.sJ=!1};
al.prototype.T=function(K){this.AY=JSON.parse(JSON.stringify(K));this.IO()};al.prototype.IO=function(){var K=Math.floor(24*I.GR()),o=Math.floor(20*I.GR()),Y=al.zU(this.AY,K,o);
this.Q0.setAttribute("src",Y);I.vf(this.Q0,K,o)};al.prototype.h=function(){return JSON.parse(JSON.stringify(this.AY))};
al.M1={};al.zU=function(K,o,Y){var c=255<<24|d.NQ(K),z=":"+c,f=al.M1;if(f[z])return f[z];var $=new Uint32Array(o*Y);
$.fill(c);var E=UPNG.encode([$.buffer],o,Y),b=f[z]="data:image/png;base64,"+fv.zj(E);return b};function eO(K,o,Y){cv.call(this);
this.n=I._(Y?"div":"span");var c=this.Zm=I._("input");this.Zm.setAttribute("type","file");if(o)c.setAttribute("multiple","");
this.Zm.addEventListener("change",this.awG.bind(this),!1);this.a2I=this.asP.bind(this);this.Z4={};this.LX=0;
this.UW=K;var z=this.a7L=new eg(ca.get(K)+" (0)",null,null,!0);this.n.appendChild(z.n);z.addEventListener("click",function(f){c.click()});
if(Y){this.U2=I._("div","scrollable");this.U2.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.U2);this.nF()}}eO.prototype=new cv;eO.prototype.T=function(K){};eO.prototype.h=function(K){return this.Z4};
eO.prototype.awG=function(K){var o=K.target.files;this.LX=o.length;this.Z4={};for(var y=0;y<o.length;
y++){var Y=o[y],c=new FileReader;c.onload=this.a2I;c.aW=Y.name;c.readAsArrayBuffer(Y)}this.a7L.Sk(ca.get(this.UW)+" ("+o.length+")")};
eO.prototype.asP=function(K){var o=this.Z4[K.target.aW]=new Uint8Array(K.target.result);this.LX--;if(this.LX==0){if(this.U2)this.nF();
this.c(new h1(w.E.p));this.Zm.value=null}};eO.prototype.nF=function(){var K=this.U2;I.oA(K);var o=[];
for(var Y in this.Z4)o.push(Y);o.sort();for(var y=0;y<o.length;y++){var c=I._("div");c.textContent=o[y];
K.appendChild(c)}};function cY(K,o,Y,c,z){if(K==null)K=!1;if(o==null)o=!1;if(Y==null)Y=!1;cv.call(this);
this.kn=new jc;this.Ea=new jc;this.wI=72;this.ft=72;this.zD=!0;this.Hb=!1;this.n=I._("span");this.oQ=new h5([12,41],0,0,null,0,!1,!0,4);
this.n.appendChild(this.oQ.n);this.oQ.k(w.E.p,this.Rq,this);var f=["px","%"];if(K)f=f.concat(["cm","mm","in"]);
if(z){f=[[12,76,2],[12,76,6]];if(K)f=f.concat([[12,76,4],[12,76,5],[12,76,3]])}this.st=new bY(null,f);
this.n.appendChild(this.st.n);I.Tg(this.n);this.st.k(w.E.p,this.Rq,this);this.g0=new h5([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.g0.n);this.g0.k(w.E.p,this.Rq,this);var $=new eg("\u21F5",!1,null,!0);$.k("click",this.e1,this);
this.L6=new eg("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.L6.k("click",this.Rq,this);
this.rV=new gJ("");this.rV.n.style.margin="0";this.rV.n.style.padding="0";if(o){this.n.appendChild(this.L6.n);
this.n.appendChild(this.rV.n);this.L6.Fo()}else this.n.appendChild($.n);this.ZQ=new h5("DPI",0,0,null,3,!1,!0,4);
this.lL=new bY(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(K&&!c){I.Tg(this.n);this.n.appendChild(this.ZQ.n);
this.n.appendChild(this.lL.n)}this.lL.k(w.E.p,this.Rq,this);this.ZQ.k(w.E.p,this.Rq,this);this.jC=new bb([12,23,1]);
this.jC.k(w.E.p,this.Rq,this);if(Y){I.Tg(this.n);this.n.appendChild(this.jC.n)}I.Tg(this.n)}cY.prototype=new cv;
cY.prototype.Fx=function(K,o){this.oQ.B5.style.width=this.g0.B5.style.width=(K-78-this.L6.iW())/2+"px"};
cY.prototype.d1=function(){this.oQ.d1();this.g0.d1();this.st.d1();var K=this.n;I.oA(K);this.st.n.style.marginRight="0";
K.appendChild(this.oQ.n);K.appendChild(this.L6.n);K.appendChild(this.g0.n);K.appendChild(this.st.n)};
cY.prototype.Qj=function(){this.oQ.Qj()};cY.prototype.anP=function(K,o){this.zD=K;if(o!=null)this.Hb=o;
if(!this.zD&&!this.Hb&&this.st.h()==0){this.st.T(4);this.N2()}};cY.prototype.aAa=function(K){this.L6.T(K)};
cY.prototype.t=function(){this.oQ.t();this.g0.t();this.ZQ.t();this.lL.t();this.L6.t();this.jC.t();this.st.t()};
cY.prototype.e1=function(K){var o=this.Ea.x;this.Ea.x=this.Ea.y;this.Ea.y=o;this.N2();this.c(new h1(w.E.p,!1))};
cY.prototype.Rq=function(K){if(K.target==this.st&&!this.zD&&!this.Hb&&this.st.h()==0)this.st.T(4);if(K.target==this.st||K.target==this.jC){this.N2();
return}if(K.target==this.L6)K.target.T(!K.target.h());var o=this.kn,Y=parseFloat(this.oQ.h());if(isNaN(Y))Y=1;
var c=parseFloat(this.g0.h());if(isNaN(c))c=1;var z=this.ZQ.h()*[1,2.54][this.lL.h()],f=this.st.h();
if(this.zD){var $=this.ft;if(f==1){Y=this.kn.x*(Y/100);c=this.kn.y*(c/100)}var E=[1,1,2.54/$,25.4/$,1/$][f];
Y/=E;c/=E;if(this.jC.h()){Y+=this.kn.x;c+=this.kn.y}if(K.target==this.ZQ){var b=z;if(!this.Hb){var q=b/$;
Y*=q;c*=q}$=b}if(this.L6.h()){if(K.target==this.oQ)c=Y*(o.y/o.x);else Y=c*(o.x/o.y)}Y=Math.max(Math.abs(Y),1);
c=Math.max(Math.abs(c),1)}else{var $=this.wI;if(K.target==this.ZQ)$=z;else{if(this.L6.h()){if(K.target==this.oQ)c=Y*(o.y/o.x);
else Y=c*(o.x/o.y)}var E=[1,1,2.54/$,25.4/$,1/$][f],O=Y/(f==1?100:o.x*E);$=$/O}Y=o.x;c=o.y}this.Ea=new jc(Math.round(Y),Math.round(c));
this.ft=$;this.N2();this.c(new h1(w.E.p,!1))};cY.prototype.apF=function(y){this.st.T(y);this.N2()};cY.prototype.T=function(K,o,Y){if(Y!=!0)this.kn=K.clone();
this.Ea=K.clone();if(o!=null){this.wI=o;this.ft=o}this.N2()};cY.prototype.N2=function(){var K=this.Ea.x,o=this.Ea.y,Y=this.ft,c=(K/o).toFixed(3);
while(c.charAt(c.length-1)=="0")c=c.substring(0,c.length-1);if(c.charAt(c.length-1)==".")c=c.substring(0,c.length-1);
var z="  "+c+" : 1",f=function(O,j){while(j!=0){var A=j;j=O%j;O=A}return O},$=f(K,o);if(Math.min(K,o)/$<10)z="  "+Math.round(K/$)+" : "+Math.round(o/$);
this.rV.T(z);if(this.jC.h()){K-=this.kn.x;o-=this.kn.y}var E=this.st.h();if(E==1){if(this.zD){K=100*K/this.kn.x;
o=100*o/this.kn.y}else{K=o=100*this.wI/this.ft}}else{K=Math.round(K);o=Math.round(o)}var b=[1,1,2.54/Y,25.4/Y,1/Y][E];
K*=b;o*=b;var q=E==1||E==2||E==4?2:0;this.oQ.KG(q);this.g0.KG(q);this.oQ.T(K);this.g0.T(o);this.ZQ.T(Y*[1,1/2.54][this.lL.h()])};
cY.prototype.h=function(){return this.Ea.clone()};cY.prototype.gv=function(){return this.ft};function h6(K,o,Y){cv.call(this);
var c=K==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.ji=K;this.az7=o;this.t_=1;this.Ti=[1,1,0];
var z=this.n=I._("div","numlist"),f=this.$f=[];for(var y=0;y<4;y++){var $=new h5(c[y],0,0,null,2,!1,!0,4,null,Y&&(y==0||y==2));
$.k(w.E.p,this.Rq,this);z.appendChild($.n);f[y]=$;if(y==1||y==3)I.Tg(z)}f[4]=new bb(K==0?[12,51]:[12,91,2]);
f[4].T(!0);z.appendChild(f[4].n)}h6.prototype=new cv;h6.prototype.t=function(){var K=this.$f;for(var y=0;
y<5;y++)K[y].t();if(this.ji==0)I.IJ(K[0],K[2])};h6.prototype.T=function(K,o,Y){if(o)this.Ti=o;o=this.Ti;
var c=Y?K:this.ji==0?[K[2],K[0],K[3],K[1]]:[K[0],K[1],K[3],K[2]];this.t_=c[0]/c[2];for(var y=0;y<4;y++){var z=this.$f[y];
z.KG(o[2]==0&&this.az7?0:2);z.T(d.Rf.aBB(c[y],o[0],o[1],o[2]))}};h6.prototype.h=function(K){var o=[],Y=this.Ti;
for(var y=0;y<4;y++){var c=d.Rf.iI(this.$f[y].h(),Y[0],Y[1],Y[2]);o[y]=this.az7?Math.round(c):c}return K?o:this.ji==0?[o[1],o[3],o[0],o[2]]:[o[0],o[1],o[3],o[2]]};
h6.prototype.Rq=function(K){var o=this.ji,Y=this.$f.indexOf(K.currentTarget),c=this.h(!0),z=this.$f[4].h();
if(o==0){c[0]=Math.max(1,c[0]);c[2]=Math.max(1,c[2]);if(z&&Y==0)c[2]=c[0]/this.t_;if(z&&Y==2)c[0]=c[2]*this.t_}if(o==1){c[Y]=Math.max(0,c[Y]);
if(z)for(var y=0;y<4;y++)c[y]=c[Y]}this.T(c,null,!0);this.c(new h1(w.E.p,!1))};function br(){cv.call(this);
this.OG=0;this.n3=[0,0,1,1,100,100];this.UU=[10,5,1,1,4,3,3,2,16,9];this.n=I._("span","fitem");this.MC=new bY(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.MC.n);this.MC.k(w.E.p,this.Rq,this);this.oQ=new h5("W",0,0,null,0,!1,!0);this.n.appendChild(this.oQ.n);
this.oQ.k(w.E.p,this.Rq,this);var K=this.NU=new eg("\u21C4",!1,null,!0);K.k("click",this.e1,this);this.n.appendChild(K.n);
this.g0=new h5("H",0,0,null,0,!1,!0);this.n.appendChild(this.g0.n);this.g0.k(w.E.p,this.Rq,this);this.T({xu:0,x:0,y:0})}br.prototype=new cv;
br.prototype.avY=function(K,o){this.UU[0]=K;this.UU[1]=o};br.prototype.t=function(){I.IJ(this.oQ,this.g0);
this.MC.t()};br.prototype.e1=function(K){var o=this.g0.h();this.g0.T(this.oQ.h());this.oQ.T(o);this.Rq(K)};
br.prototype.Rq=function(K){if(K.target==this.MC){var y=this.MC.h(),o=this.n3;if(y>2){y-=3;var Y=this.UU[2*y],c=this.UU[2*y+1];
o[2]=Y;o[3]=c;this.oQ.T(Y);this.g0.T(c);this.MC.T(1)}var z=this.h();o[this.OG*2]=z.x;o[this.OG*2+1]=z.y;
this.OG=z.xu;this.T({xu:z.xu,x:o[z.xu*2],y:o[z.xu*2+1]})}if(this.oQ.h()<1)this.oQ.T(1);if(this.g0.h()<1)this.g0.T(1);
this.c(new h1(w.E.p,!1))};br.prototype.T=function(K){this.MC.T(K.xu);this.oQ.T(K.x);this.g0.T(K.y);if(K.xu==0){this.oQ.b2();
this.g0.b2();this.NU.b2()}else{this.oQ.L2();this.g0.L2();this.NU.L2()}};br.prototype.h=function(){return{xu:this.MC.h(),x:this.oQ.h(),y:this.g0.h()}};
function ep(K){cv.call(this);this.n=I._("span","");this.anT=K;this.k_=new hB("Off X",-100,100,K?"%":"px",0,!1);
this.wt=new hB("Off Y",-100,100,K?"%":"px",0,!1);this.k_.k(w.E.p,this.Rq,this);this.wt.k(w.E.p,this.Rq,this);
this.n.appendChild(this.k_.n);this.n.appendChild(this.wt.n)}ep.prototype=new cv;ep.prototype.t=function(){this.k_.t();
this.wt.t()};ep.prototype.Rq=function(K){this.c(new h1(w.E.p,!1))};ep.prototype.abV=function(K){this.k_.T(K.x);
this.wt.T(K.y)};ep.prototype.adp=function(){return new jc(this.k_.h(),this.wt.h())};ep.prototype.T=function(K,o){var Y=K.Hrzn.v,c=K.Vrtc.v;
if(this.anT){Y=Y.val;c=c.val}this.k_.T(Y);this.wt.T(c);if(o==!0)this.Rq()};ep.prototype.h=function(){var K=this.k_.h(),o=this.wt.h();
if(this.anT)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:K}},Vrtc:{t:"UntF",v:{type:"#Prc",val:o}}};
else return{classID:"Pnt",Hrzn:{v:K,t:"doub"},Vrtc:{v:o,t:"doub"}}};function b3(){cv.call(this);this.n=I._("span","fitem strokebutton");
this.pq=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.pJ=eF.oc.Ta();this.$c=I._("button");
this.n.appendChild(this.$c);I.Xh(this.n,this.Vs.bind(this));var K=I._("canvas","gsicon");this.$F=K.getContext("2d");
this.$c.appendChild(K);var o=I._("span");o.textContent=" \u25BC";this.$c.appendChild(o);this.xA=new cv;
this.xA.parent=this;this.xA.n=I._("div","floatcont form");var Y=this.xA.n;Y.setAttribute("style","width: 16.7em;");
this.EA=[new bY([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new hQ([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new hQ([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new h5("Limit",0,50,null,null,null,!0,2.5),new cI([19,9,2])];
for(var y=0;y<this.EA.length;y++){var c=this.EA[y];Y.appendChild(c.n);c.k(w.E.p,this.Rq,this)}I.Tg(Y);
this.ZG=[];var z=this.m7.bind(this);this.pJ.strokeStyleLineWidth.v.val=3;for(var y=0;y<this.pq.length;
y++){var f=I._("button","fitem");this.ZG.push(f);Y.appendChild(f);f.addEventListener("click",z,!1);var K=I._("canvas","gsicon"),$=K.getContext("2d");
f.appendChild(K);this.azM($,40,20,this.pq[y])}this.pJ.strokeStyleLineWidth.v.val=1}b3.prototype=new cv;
b3.prototype.Vs=function(K){if(I.qO(this.xA.n))return;K.stopPropagation();var o=this.$c.getBoundingClientRect(),Y=new h1(w.E.L,!0);
Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height+4};this.c(Y)};b3.prototype.Rq=function(K){var o=this.EA,Y=[];
for(var y=0;y<5;y++)Y.push(o[y].h());this.pJ=this.afn(Y);this.c(new h1(w.E.p,!1))};b3.prototype.m7=function(K){var o=this.ZG.indexOf(K.currentTarget);
this.T(this.afn(this.pq[o]));this.c(new h1(w.E.p,!1))};b3.prototype.afn=function(K){var o=JSON.parse(JSON.stringify(this.pJ)),Y=K[0],c=K[1],z=K[2],f=K[3],$=K[4];
if(Y!=null)o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eF.oc.Nv[Y];if(c!=null)o.strokeStyleLineCapType.v.strokeStyleLineCapType=eF.oc.Gu[c];
if(z!=null)o.strokeStyleLineJoinType.v.strokeStyleLineJoinType=eF.oc.join[z];o.strokeStyleMiterLimit.v=f;
var E=o.strokeStyleLineDashSet.v=[];$=$.split(" ");while(($.length&1)!=0)$.pop();for(var y=0;y<$.length;
y++)E.push({t:"UntF",v:{type:"#Nne",val:parseInt($[y])}});return o};b3.prototype.t=function(){for(var y=0;
y<this.EA.length;y++)this.EA[y].t()};b3.prototype.T=function(K){this.pJ=JSON.parse(JSON.stringify(K));
var o=eF.oc.Nv.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment),Y=eF.oc.Gu.indexOf(K.strokeStyleLineCapType.v.strokeStyleLineCapType),c=eF.oc.join.indexOf(K.strokeStyleLineJoinType.v.strokeStyleLineJoinType),z=K.strokeStyleMiterLimit.v,f=[],$=K.strokeStyleLineDashSet.v;
for(var E=0;E<$.length;E++)f.push($[E].v.val);var b=this.EA;b[0].T(o);b[1].T(Y);b[2].T(c);b[3].T(z);
b[3].W6(c==0);b[4].T(f.join(" "));var q=[];for(var y=0;y<5;y++)q.push(b[y].h());this.azM(this.$F,40,16,q)};
b3.prototype.h=function(){return JSON.parse(JSON.stringify(this.pJ))};b3.prototype.azM=function(K,o,Y,c){var z=c[0],f=c[1],$=c[2],E=c[3],b=c[4].split(" ").map(parseFloat);
I.AU(K.canvas,o,Y);var q=Math.min(5,this.pJ.strokeStyleLineWidth.v.val);for(var y=0;y<b.length;y++)b[y]*=q;
K.clearRect(0,0,o,Y);K.setLineDash(b);K.lineCap=["butt","round","square"][f];K.lineJoin=["miter","round","bevel"][$];
K.lineWidth=q;K.beginPath();K.moveTo(0,Y/2);K.lineTo(o*2,Y/2);K.stroke()};function bl(K){ae.call(this,K,!1,"contourbutton",34*13,16*13,bB.mI,!0);
this.gc=new cI([12,86],null,16);this.gc.k("input",this.kR,this);this.xA.n.appendChild(this.gc.n);this.Qr=null;
this.dg="";this.Rh=null;this.T(a_.Ta())}bl.prototype=new ae;bl.prototype.t=function(){ae.prototype.t.call(this);
this.gc.t()};bl.prototype.KN=function(K){this.T(this.Qr[K.target.h()[0]]);this.c(new h1(w.E.p))};bl.prototype.kR=function(K){this.dg=this.gc.h().toLowerCase();
this.a4D()};bl.al1=!1;bl.prototype.mw=function(){if(!this.sJ)return;var K=this.Rj;if(K==null||!bl.al1){var o=new h1(w.E.L,!0);
o.data={d:w.I.vO,VS:{url:"rsrc/basic/Default.csh"}};this.c(o);bl.al1=!0}else{var Y=Math.floor(38*I.GR()),c=Math.floor(38*I.GR());
this.Rh=[];for(var y=0;y<K.length;y++)this.Rh.push(bl.aiC(K[y],Y,c));this.a4D();this.sJ=!1}};bl.prototype.a4D=function(){var K=Math.floor(38*I.GR()),o=Math.floor(38*I.GR());
this.Qr=[];var Y=[],c=[],z=this.Rj;for(var y=0;y<z.length;y++){if(z[y].gK.toLowerCase().indexOf(this.dg)==-1)continue;
this.Qr.push(z[y]);Y.push(this.Rh[y]);c.push(z[y].gK)}this.T3.SK(Y,c,K,o)};bl.prototype.T=function(K){this.AY=bl.clone(K);
this.IO()};bl.prototype.IO=function(){var K=Math.floor(23*I.GR()),o=Math.floor(23*I.GR()),Y=bl.aiC(this.AY,K,o);
this.Q0.setAttribute("src",Y);I.vf(this.Q0,K,o)};bl.prototype.h=function(){return bl.clone(this.AY)};
bl.clone=function(K){return{gK:K.gK,A8:K.A8,$:S.kZ.ge(K.$),BA:K.BA.clone()}};bl.V=null;bl.eU=null;bl.aiC=function(K,o,Y){var c=S.kZ.ge(K.$),z=K.BA,f=Math.min(o/z.m,Y/z.e)*.9,$=new dF;
$.translate(-.5,-.5);$.scale(.95,.95);$.translate(.5,.5);$.scale(f*z.m,f*z.e);d.j.k3(c,$);var E=new S.kZ;
E.$=c;var b=E.ue();b.rect.x=Math.floor((o-b.rect.m)/2);b.rect.y=Math.floor((Y-b.rect.e)/2);var q=d.R(b.rect.Z()*4);
d.cb(b.channel,q,3);var O=bl;if(O.V==null)O.V=I._("canvas");var j=O.V,A=j.getContext("2d");if(j.width!=o||j.height!=Y||O.eU==null){j.width=o;
j.height=Y;O.eU=A.createImageData(o,Y)}var R=O.eU;R.data.fill(0);d.iF(q,b.rect,R.data,new hD(0,0,o,Y));
A.putImageData(R,0,0);return j.toDataURL()};function h9(K){ae.call(this,K,!1,"ICCButton",16*13,12*13,bB.wb,!0);
this.T3.IK(1)}h9.prototype=new ae;h9.prototype.G3=function(){var K="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var y=0;y<K.length;y++)K[y]="luts/"+K[y]+".CUBE";return K};h9.prototype.KN=function(K){this.T(this.Rj[K.target.h()]);
this.c(new h1(w.E.p))};h9.prototype.mw=function(){if(!this.sJ)return;var K=Math.floor(1*I.GR()),o=Math.floor(1*I.GR()),Y=[],c=[],z=this.Rj;
for(var y=0;y<z.length;y++){var f=z[y].Nm.v.split("\\").pop().split("/").pop();c.push(f);Y.push(h9.zU(z[y],K,o))}this.T3.SK(Y,c,K,o);
this.sJ=!1};h9.prototype.T=function(K){this.AY=JSON.parse(JSON.stringify(K));this.IO()};h9.zU=function(K,o,Y){var c=I._("canvas"),$="ICC / 3DL / look / cube";
c.width=o;c.height=Y;var z=c.getContext("2d"),f=Math.floor(14*I.GR());z.font=f+"px sans-serif";if(K.Nm)$=K.Nm.v.split("\\").pop().split("/").pop();
z.fillText($,10,f);return c.toDataURL()};h9.prototype.IO=function(){var K=Math.floor(120*I.GR()),o=Math.floor(20*I.GR());
this.Q0.setAttribute("src",h9.zU(this.AY,K,o));I.vf(this.Q0,K,o)};h9.prototype.h=function(){return JSON.parse(JSON.stringify(this.AY))};
function aT(){cv.call(this);this.pp=null;this.n=I._("span","fitem");this.pj=new bf([14,9]);this.r6=new h5(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.ee=new b3;this.Ow=[this.pj,this.r6,this.ee];for(var y=0;y<this.Ow.length;y++){var K=this.Ow[y];
this.n.appendChild(K.n);K.parent=this;K.k(w.E.p,this.Rq,this)}}aT.prototype=new cv;aT.prototype.t=function(){for(var y=0;
y<this.Ow.length;y++)this.Ow[y].t()};aT.prototype.fL=function(K,o){this.pj.fL(K,o)};aT.prototype.Rq=function(K){var o=this.pp,Y=this.pj.h();
eF.Zz(o,Y);o.strokeStyleLineWidth.v.val=this.r6.h();if(K.target==this.ee)o=this.ee.h();this.pp=o;this.c(new h1(w.E.p,!1))};
aT.prototype.T=function(K,o,Y){this.pp=JSON.parse(JSON.stringify(o));var c=eF.WE(o);this.pj.T(K,c,Y);
this.r6.T(o.strokeStyleLineWidth.v.val);this.ee.T(o)};aT.prototype.h=function(){return JSON.parse(JSON.stringify(this.pp))};
function he(K){var o=[[18,0],[18,1],[18,2],[18,3]],Y=hQ.jO(["set/front","set/union","set/difference","set/intersection"]);
hQ.call(this,K?[12,36]:null,Y,o)}he.prototype=new hQ;function kt(){cv.call(this);this.n=I._("button","fitem bbtn");
I.Xh(this.n,this.Vs.bind(this));this.xA=new cv;this.xA.n=I._("div","floatcont form");this.xA.n.setAttribute("style","max-width: 200px;");
this.xA.parent=this;var K=dr;this.u6=[new bb("Start"),new bb("End"),new K([12,41],0,100,"px",null,!0,null,!0),new K([12,80,0],0,100,"px",null,!0,null,!0),new K("Concavity",-50,50,"%",null,null,null,!0)];
for(var y=0;y<this.u6.length;y++){var o=this.u6[y];o.parent=this;o.k(w.E.p,this.Jr,this);this.xA.n.appendChild(o.n)}this.ak4=I._("div");
this.xA.n.appendChild(this.ak4)}kt.prototype=new cv;kt.prototype.T=function(K){for(var y=0;y<5;y++)this.u6[y].T(K[y]);
this.nF()};kt.prototype.h=function(K){var o=[];for(var y=0;y<5;y++)o[y]=this.u6[y].h();return o};kt.prototype.t=function(){this.n.textContent=ca.get([12,93,4]);
for(var y=0;y<this.u6.length;y++)this.u6[y].t()};kt.prototype.Jr=function(K){this.c(new h1(w.E.p,!1));
this.nF()};kt.prototype.nF=function(K){var o=this.h(),Y=200,c=60;o[2]/=I.GR();o[3]/=I.GR();var z=d.j.OJ.bM(0,c/2,Y,c/2,5,o),f=d.j.Gn(z);
this.ak4.innerHTML="<svg width=\""+Y+"\" height=\""+c+"\" class=\"gsicon\">\t\t\t<path d=\""+f.CV+"\" />\t\t\t</svg>"};
kt.prototype.Vs=function(K){if(I.qO(this.xA.n))return;K.stopPropagation();var o=this.n.getBoundingClientRect(),Y=new h1(w.E.L,!0);
Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height,n2:!0};this.c(Y)};function iy(){cv.call(this);
this.n=I._("div");this.$f=[];this.aty=[];var K=this.C$=I._("div"),o=I._("h2");o.textContent="Create Teams";
K.appendChild(o);o.style.margin="26px 0 16px 0";var Y=new eg("More about Teams",!1,null,!0);o.appendChild(Y.n);
Y.n.style.float="right";Y.k("click",this.agf,this);this.k0=I._("div");K.appendChild(this.k0);this.a4h=new cI("Team Name",null,10);
K.appendChild(this.a4h.n);var c=this.a1h=new eg("Create Team",null,null,!0);K.appendChild(c.n);c.k("click",this.ar7,this);
var o=I._("h2");o.textContent="Join Teams";K.appendChild(o);o.style.margin="26px 0 16px 0";this.aK=I._("div");
K.appendChild(this.aK);this.apT=new cI("Team ID",null,10);K.appendChild(this.apT.n);var c=new eg("Join Team",null,null,!0);
K.appendChild(c.n);c.k("click",this.ar7,this);this.a64;this.aua=this.ic.bind(this);this.amZ=this.au6.bind(this);
this.cM=!1;this.Fb();this.fo=null;this.aCR=""}iy.prototype=new cv;iy.prototype.agf=function(K){var o=new h1(w.E.L,!0);
o.data={d:w.I.IE,link:"https://www.photopea.com/api/accounts#teams"};this.c(o)};iy.prototype.Fb=function(){clearTimeout(this.azQ);
this.azQ=setTimeout(this.amZ,this.fo?10:3e3)};iy.prototype.au6=function(){var K=es.DH();if(document.hidden||!I.qO(this.n)||K==null){this.Fb();
return}var o=es.Tu();if(this.fo==null&&o==null)return;es.y8(this.fo?this.fo:o,this.aua);this.cM=!0;this.fo=null};
iy.prototype.a0K=function(K){K.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.cM)this.fo=K;else{clearTimeout(this.azQ);es.y8(K,this.aua)}};iy.prototype.$U=function(K){var o=typeof K=="string"?this.a64:this.$f.indexOf(K.target),Y=this.aty[o],c=Y[0],z=es.Tu();
if(z==null)z={};var f=z.acc,$=f.tjoin,E=f.tstart;if(c=="leave"){$.splice($.indexOf(Y[1]),1)}if(c=="add"||c=="remove"||c=="delTeam"||c=="showRename"||c=="rename"){var b=-1,q=0;
for(var y=0;y<E.length;y++){q+=E[y][1].length;if(E[y][2]==Y[1])b=y}var O=E[b];if(c=="add"){var j=es.YP();
if(j&&j[0]==0&&j[1][2]<=q){alert("You can have at most "+j[1][2]+" members in your Premium.");return}O[1].push(Y[2])}if(c=="remove")O[1].splice(O[1].indexOf(Y[2]),1);
if(c=="delTeam"){if(O[1].length!=0){alert("Remove members first.");return}E.splice(b,1)}if(c=="showRename"){var R=new h1(w.E.L,!0);
R.data={d:w.I.Gg,XQ:"namewindow",UZ:O[0],gb:this.$U.bind(this)};this.c(R);this.a64=o;Y[0]="rename";return}if(c=="rename")O[0]=K}this.a0K(z)};
iy.prototype.ar7=function(K){var o=this.a1h==K.target,Y=(o?this.a4h:this.apT).h().trim();if(Y==""){alert("The Team "+(o?"Name":"ID")+" is empty.");
return}if(!o){Y=parseInt(Y);if(isNaN(Y)){alert("The ID must be a number");return}}var c=es.Tu();if(c==null)c={};
var z=c.acc;if(z==null)z=c.acc={};var f=z.tstart,$=z.tjoin;if(o){if(f==null)f=z.tstart=[];if(f.length>5){alert("You can have at most 5 teams");
return}f.push([Y,[]])}else{if(f)for(var y=0;y<f.length;y++)if(f[y][2]==Y){alert("You are the owner of this team");
return}if($==null)$=z.tjoin=[];if($.indexOf(Y)!=-1){alert("You already asked to join this team.");return}z.tjoin.push(Y)}z.update=!0;
this.a0K(c)};iy.prototype.ic=function(){this.cM=!1;var K=es.DH(),o=K!=null,Y=this.C$.parentNode!=null;
if(o!=Y){I.oA(this.n);if(o)this.n.appendChild(this.C$);else this.n.textContent="Log In to access Team Settings."}if(!o)return;
var c=es.Tu();if(c==null)c={};var z=c.acc;if(z==null)z={};var f=JSON.stringify(z)+"===="+JSON.stringify(K);
if(f!=this.aCR){this.aCR=f;var $=this.k0,E=this.aK;I.oA($);I.oA(E);var b=this.$f=[],q=this.aty=[],O=this.$U.bind(this);
function j(n,N){n.addEventListener("click",O);b.push(n);q.push(N)}function A(X,n){var Z=I._("div"),N="rgba(255,255,255,0.15)";
Z.appendChild(g("ID: "+X[2],54,N));Z.appendChild(g(X[0],160,null,!0));if(n){Z.appendChild(g(X[1].length+" members",80,null,!0))}else{Z.appendChild(g(X[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<X[1]*1e3)Z.appendChild(g("Premium",80,"rgba(0,140,0,1)"))}var W=g("",120);Z.appendChild(W);
W.setAttribute("style","float:right;text-align:right");if(n){var G=new eg("Rename",null,null,!0);j(G,["showRename",X[2]]);
W.appendChild(G.n)}var G=new eg(n?"Delete":"Leave",null,null,!0);j(G,[n?"delTeam":"leave",X[2]]);W.appendChild(G.n);
return Z}function R(n,N,D){var Z=I._("div");Z.style.paddingLeft="46px";Z.appendChild(g(N?"\u2713":"...",8,N?"#229922":"#aa7700"));
Z.appendChild(g(n[1],200));Z.appendChild(g(n[2],240));var W=g("",120);Z.appendChild(W);W.setAttribute("style","float:right;text-align:right");
var G=new eg(N?"Remove":"Add",null,null,!0);j(G,[N?"remove":"add",D,n[0]]);W.appendChild(G.n);return Z}function g(n,N,W,G){var l=I._("span");
l.textContent=n;l.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+N+"px;  "+(W!=null?"background-color:"+W+";":"")+(G?"font-weight:bold;":""));
return l}var H=z.tstart,i=z.tjoin,h=K.wantToJoin,x=K.inTeams;if(H)for(var F=0;F<H.length;F++){var X=H[F],V=h["t"+X[2]];
if(V==null)V=[];var U={};for(var y=0;y<V.length;y++)U["u"+V[y][0]]=V[y];var Z=A(X,!0);$.appendChild(Z);
Z.style.marginTop="10px";for(var y=0;y<X[1].length;y++){var T=X[1][y],v=U["u"+T];if(v==null)v=[T,"========","... user has left your team"];
delete U["u"+T];var P=R(v,!0,X[2]);$.appendChild(P)}for(var p in U){var v=U[p],P=R(v,!1,X[2]);$.appendChild(P)}}if(i){var a={};
for(var y=0;y<x.length;y++)a["t"+x[y][2]]=x[y];for(var F=0;F<i.length;F++){var D=i[F],X=a["t"+D],Z=A(X?X:["==========",-1,D],!1);
E.appendChild(Z)}}this.c(new h1(w.E.p))}if(this.fo==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.Fb()};
function id(){cv.call(this);this.U5=[16,!0,!0];this.n=I._("span","");this.Uh=[new h5([12,24],0,255),new bb([12,25,1]),new bb([12,25,0])];
for(var y=0;y<3;y++){var K=this.Uh[y];K.parent=this;K.T(this.U5[y]);this.n.appendChild(K.n);K.k(w.E.p,this.Rq,this)}}id.prototype=new cv;
id.prototype.Rq=function(){for(var y=0;y<3;y++)this.U5[y]=this.Uh[y].h();this.c(new h1(w.E.p,!1))};id.prototype.T=function(K){this.U5=K.slice(0);
for(var y=0;y<3;y++)this.Uh[y].T(K[y])};id.prototype.h=function(){return this.U5.slice(0)};id.prototype.t=function(){for(var y=0;
y<3;y++)this.Uh[y].t()};function fE(K,o){cv.call(this);if(o==null)o=!1;this.Rh=[];this.X2=Math.floor(120*I.GR());
this.a3C=Math.floor(23*I.GR());this.KY=0;this.sv=[];this.Y9=[];for(var Y in d.qN.type){if(Y=="warpCustom"&&!o)continue;
this.sv.push(Y);this.Y9.push(d.qN.type[Y])}this.n=I._("span","fitem warpbutton");this.xA=new cv;this.xA.n=I._("div","floatcont");
if(K){this.UW=K;this.fZ=I._("label","flabel");this.n.appendChild(this.fZ)}this.d=I._("button");this.n.appendChild(this.d);
I.Xh(this.d,this.Vs.bind(this));this.XM=new cW(!0);this.xA.n.appendChild(this.XM.n);this.XM.k(w.E.p,this.aoD,this);
this.xA.n.setAttribute("style","width:"+Math.floor(8+this.X2/I.GR())+"px;");this.t()}fE.prototype=new cv;
fE.prototype.Sk=function(K){this.fZ.textContent=K};fE.prototype.t=function(){if(this.UW)this.fZ.innerHTML=ca.get(this.UW)+":";
this.IO()};fE.auP={};fE.a0c=function(K,o,Y){var c=ca.get(d.qN.type[K]),z=c+"-"+K+"-"+o+"-"+Y,f=fE.auP[z];
if(f)return f;var $=fE.$F;if(E==null){var E=I._("canvas");$=fE.$F=E.getContext("2d")}var E=$.canvas;
if(E.width!=o||E.height!=Y){E.width=o;E.height=Y}$.font=Math.floor(13*I.GR())+"px sans-serif";$.lineWidth=1;
$.strokeStyle="#000000";var b=Math.floor(16*I.GR()),q=new hD(0,0,b,b);$.clearRect(0,0,E.width,E.height);
var O=[4,4,[[0,1],[0,1]],d.qN.qN(q,K,!0,.3,0,0)],j=d.M.Yq(q);j.G.push("M","L","M","L");j.z.push(0,b/2,b,b/2);
j.z.push(b/2,0,b/2,b);j=d.M.dY(j);j=d.M.GF(j,b/5);d.vo.i(O,j.z,q);d.M.i(j.z,new dF(1,0,0,1,Math.floor(8*I.GR())+.5,Math.floor(3*I.GR())+.5),j.z);
$.beginPath();Typr.U.pathToContext({cmds:j.G,crds:j.z},$);$.stroke();$.fillText(c,Math.floor(40*I.GR()),Math.floor(16*I.GR()));
f=fE.auP[z]=E.toDataURL();return f};fE.prototype.Vs=function(K){if(I.qO(this.xA.n))return;K.stopPropagation();
var o=this.X2,Y=this.a3C;for(var y=0;y<this.sv.length;y++)this.Rh[y]=fE.a0c(this.sv[y],o,Y);this.XM.SK(this.Rh,null,o,Y);
var c=this.d.getBoundingClientRect(),z=new h1(w.E.L,!0);z.data={d:w.I.FY,A_:this.xA,x:c.left,y:c.top+c.height+4};
this.c(z)};fE.prototype.aoD=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.yQ,A_:this.xA};this.c(o);
this.KY=K.target.h()[0];this.IO();this.c(new h1(w.E.p))};fE.prototype.IO=function(){var K=this.X2,o=this.a3C;
this.XM.T([this.KY]);this.d.innerHTML="<img src=\""+fE.a0c(this.sv[this.KY],K,o)+"\" class=\"gsicon\" />";
I.vf(this.d.firstChild,K,o)};fE.prototype.h=function(){return this.sv[this.KY]};fE.prototype.T=function(K){this.KY=this.sv.indexOf(K);
this.IO()};function fw(K,o,Y){cv.call(this);if(K==null)K=!1;if(o==null)o=!1;if(Y==null)Y=!1;this.au9=o;
this.qN=null;this.LQ=new fE([12,22],Y);this.LQ.parent=this;this.LQ.k(w.E.p,this.je,this);this.Hj=new bY([22,0],[[22,4,0],[22,4,1]]);
this.Hj.k(w.E.p,this.je,this);var c=K?h5:dr;this.vy=new c([22,1],-100,100,"%");this.Mj=new c("Horizontal Distortion:",-100,100,"%");
this.bn=new c("Vertical Distortion:",-100,100,"%");this.vy.parent=this.Mj.parent=this.bn.parent=this;
this.vy.k(w.E.p,this.je,this);this.Mj.k(w.E.p,this.je,this);this.bn.k(w.E.p,this.je,this)}fw.prototype=new cv;
fw.prototype.t=function(){this.LQ.t();this.Hj.t();this.vy.t();var K=this.au9?1:100;this.Mj.Sk(ca.get([22,2]).substring(0,K)+":");
this.bn.Sk(ca.get([22,3]).substring(0,K)+":")};fw.prototype.je=function(){var K=this.qN,o=this.LQ.h(),Y=K.warpStyle.v.warpStyle;
if(o=="warpCustom")d.qN.Ks(K,d.qN.Mu(K));else delete K.customEnvelopeWarp;K.warpStyle.v.warpStyle=this.LQ.h();
K.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Hj.h()];K.warpValue.v=this.vy.h();K.warpPerspective.v=this.Mj.h();
K.warpPerspectiveOther.v=this.bn.h();if(o=="warpNone"||o=="warpCustom"){K.warpValue.v=0;K.warpPerspective.v=0;
K.warpPerspectiveOther.v=0}else if(Y=="warpNone"||Y=="warpCustom")K.warpValue.v=50;this.c(new h1(w.E.p,!1));
this.T(K)};fw.prototype.h=function(K){return JSON.parse(JSON.stringify(this.qN))};fw.prototype.T=function(K){this.qN=JSON.parse(JSON.stringify(K));
this.LQ.T(K.warpStyle.v.warpStyle);this.Hj.T(K.warpRotate.v.Ornt=="Hrzn"?0:1);this.vy.T(K.warpValue.v);
this.Mj.T(K.warpPerspective.v);this.bn.T(K.warpPerspectiveOther.v);var o=K.warpStyle.v.warpStyle,Y=o=="warpNone"||o=="warpCustom",c=[this.Hj,this.vy,this.Mj,this.bn];
for(var y=0;y<c.length;y++)if(Y)c[y].b2();else c[y].L2()};function kB(K){cv.call(this);this.Qy={};this.n=I._("div");
this.tf=K;this.Wr=null;this.$a=new jc(0,0);this.H4="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.wU=null;this.aS=new I.fS(this.n);this.RL("grab");this.V=I._("canvas","canv");this.n.appendChild(this.V);
this.$F=this.V.getContext("2d",{willReadFrequently:!0});this.a9b=null;this.tq=null;this.u0=null;this.tj=0;
this.gQ=0;this.rx=0;this.D2=0;this.auM=this.apa.bind(this);this.aeg=null;this.Q=new e$({m:1,e:1});this._h=null;
this.UL=null;this.x3=[];this.a2z=0;this.gX=0;this.agQ=this.dl.bind(this);this.aej=this.iM.bind(this);
this.apb=this.hz.bind(this);this.ar3=this.mg.bind(this);this.auJ=0;this.qY=null;this.axA(this.V);this.Fp(this)}kB.prototype=new cv;
kB.prototype.a0F=function(K){this.Qy=K;this.Bf()};kB.EP=function(K){var o=new a1(!0);if(K>=0)o.EN("Space");
if(K>=1){o.EN("ControlLeft");if(K==2)o.EN("AltLeft")}return o};kB.prototype.Ed=function(K){var o=this.wU,Y=null;
if(K.S(a1._e)){Y="grab";if(K.S(a1.rK)){Y="zoom-in";if(K.S(a1.cV))Y="zoom-out"}}this.Wr=Y;if(Y)o=Y;this.aS.ic(o,this.H4);
if(K.S(a1.rK)){var c=0;if(K.S(a1.U1))c=1;if(K.S(a1.VV))c=-1;if(c!=0){this.PN(new jc(this.V.width/2,this.V.height/2),c==1)}}};
kB.prototype.RL=function(K){this.wU=K;if(this.Wr)return;this.aS.ic(K,this.H4)};kB.prototype.axA=function(K){I.Xh(K,this.agQ);
I._I(K);K.addEventListener("wheel",this.ar3,!1)};kB.prototype.Fp=function(K){K.k("viewchange",this.a8p,this)};
kB.prototype.a8p=function(K){var o=this.Q.O,Y=K.currentTarget.gW();this.Q.O=Y.O;this.Q.w=Y.w.clone();
if(o!=Y.O)this.P$();this.Bf()};kB.prototype.gW=function(){return{O:this.Q.O,w:this.Q.w}};kB.prototype.T=function(K,o,Y,c){var z=K[0].eQ;
if(this.tq!=null&&this.tq[0].eQ.BV(z)){}else{this.Q.l_={m:z.m,e:z.e};this.Q.O=1;this.Q.w=new jc(0,0)}this.tq=K;
this.P$(c);this.gC();this.tj=0;this.gQ=Date.now();this.rx=0;this.D2=o==null?0:o;if(Y)this.Qy=Y;this.apa()};
kB.prototype.mg=function(K){K.preventDefault();if(K.deltaY==0||Date.now()-this.auJ<100)return;var o=I._9(K);
o.x=I.GR()*o.x;o.y=I.GR()*o.y;this.auJ=Date.now();this.PN(o,K.deltaY<0)};kB.prototype.PN=function(K,o){m.w8.GX(this.Q,K,o);
this.acQ()};kB.prototype.Dj=function(K){var o=this.Q,Y=o.l_;this.Q.O=m.w8.x9(Y.m,Y.e,o.k6.m,o.k6.e);
if(K)this.Q.w=new jc(0,0);this.acQ()};kB.prototype.acQ=function(){this.P$();this.c(new h1("viewchange"));
this.c(new h1("zoom"))};kB.prototype.P$=function(K){var o=this.u0;this.u0=[];var Y=this.Q.O;if(this.tq==null)return;
if(K){var c=d.Qk(Y),z=1;for(var f=0;f<c.length;f++)z*=c[f];var $=K.x,E=K.y,b=$+K.m,q=E+K.e;$=Math.floor($/z)*z;
b=Math.ceil(b/z)*z;E=Math.floor(E/z)*z;q=Math.ceil(q/z)*z;K=new hD($,E,b-$,q-E)}for(var y=0;y<this.tq.length;
y++){var O=this.tq[y],j=new Uint8Array(O.data),A;if(Y>=1)A={y3:j,rect:O.eQ};else{if(o&&o[y]&&K){var R=d.R(K.Z()*4);
d.iF(j,O.eQ,R,K);var g=d.PC(R,K,Y),H=g.rect;H.x=Math.floor(H.x*Y);H.y=Math.floor(H.y*Y);A=o[y];d.iF(g.y3,g.rect,A.y3,A.rect)}else A=d.PC(j,O.eQ,Y)}this.u0[y]=A}};
kB.prototype.gC=function(){clearTimeout(this.aeg)};kB.prototype.Bf=function(){if(this.tq==null||!I.qO(this.V))return;
var K=this.a9b,o=this.V.width,Y=this.V.height,g,H;if(K==null||K.width!=o||K.height!=Y){K=this.a9b=this.$F.createImageData(o,Y);
console.log("creating image data")}var c=this.tq[this.tj],z=this.u0[this.tj],f=this.Q,$=f.l_,E=f.k6,b=E.m,q=E.e,O=$.m*f.O,j=$.e*f.O,A=Math.round((b-O)/2+f.w.x),R=Math.round((q-j)/2+f.w.y);
if(f.O<=1){H=z.rect.clone();H.x=A;H.y=R;O=H.m;j=H.e;g=z.y3}else{var i=1/f.O,h=new hD(Math.floor((E.x-A)*i),Math.floor((E.y-R)*i),Math.ceil(E.m*i)+1,Math.ceil(E.e*i)+1),x=new hD(0,0,h.m*f.O,h.e*f.O);
x.x=h.x*f.O+A;x.y=h.y*f.O+R;if(f.Iv==null||f.Iv.length!=h.Z()*4){f.Iv=d.R(h.Z()*4)}if(f.Ys==null||f.Ys.length!=x.Z()*4){f.Ys=d.R(x.Z()*4)}d.nz(f.Iv,0);
d.iF(z.y3,z.rect,f.Iv,h);d.scale.c4(f.Iv,h.m,h.e,f.Ys,x.m,x.e,f.O);g=f.Ys;H=x}var F=new Uint8Array(K.data.buffer);
d.uD(F,b,q,8,-A,-R);d.l.To("norm",g,H,F,E,E,1);var X=this.$F;X.setTransform(1,0,0,1,0,0);X.putImageData(K,0,0);
X.clearRect(A-4e3,R,4e3,j);X.clearRect(A+O,R,4e3,j);X.clearRect(A-4e3,R-4e3,O+8e3,4e3);X.clearRect(A-4e3,R+j,O+8e3,4e3);
var V=kB.awD(f.O,"#ffffff");X.putImageData(V,0,f.k6.e-V.height);var U=this.Qy,f=this.Q;if(U){var Z=fH.nN([.1,.5,1,1]),T=fH.nN([1,0,0,1]),v=fH.nN([1,1,1,1]),P=fH.nN([0,0,0,1]),p=f.HI(!1);
p.oD();X.save();X.setTransform(p.g,p.J,p.b0,p.gG,p.B3,p.Z7);X.strokeStyle=T;if(U.ask){fH.iB(U.ask,null,X);
X.lineWidth=1/f.O;X.stroke()}X.strokeStyle=v;if(U.akU){fH.iB(U.akU,null,X);X.lineWidth=1/f.O;X.stroke();
X.strokeStyle=P;X.setLineDash([4/f.O,4/f.O]);X.stroke();X.setLineDash([])}X.strokeStyle=Z;X.fillStyle=fH.nN([1,1,1,1]);
if(U.AE){fH.iB(U.AE,null,X);X.lineWidth=1/f.O;X.stroke()}if(U.HJ){fH.K3(U.HJ,X,f,.5);X.lineWidth=2/f.O;
X.stroke();X.fill()}if(U.Sb){X.font=16/f.O+"px sans-serif";var a=1/f.O;for(var y=0;y<U.Sb.length;y++){var D=U.Sb[y],n=D[0],N=D[1]+6/f.O,W=D[2];
X.fillStyle="black";X.fillText(W,n-a,N);X.fillText(W,n+a,N);X.fillStyle="white";X.fillText(W,n,N)}}X.restore()}X.getImageData(0,0,1,1)};
kB.asr="";kB.a4m=null;kB.awD=function(K,o,Y,c){if(Y==null){Y=0;c=0}var z=Y+" \xD7 "+c,f="z"+K+","+o+","+Y+","+c;
if(f==kB.asr)return kB.a4m;var $=Math.round(50*I.GR()),E=Math.round(18*I.GR()),b=Y==0?0:Math.round((z.length+2)*E*.35),q=I._("canvas"),O=q.getContext("2d");
q.width=$+b;q.height=E;O.fillStyle="rgba(1,1,1,1)";O.fillRect(0,0,$,E);if(Y!=0)O.fillRect($+2,0,b,E);
O.font=Math.round(11*I.GR())+"px monospace";O.fillStyle=o;var j=K*100;if(j<100)j=j.toFixed(2);else j=Math.round(j);
j=j+"%";var A=O.measureText(j).width;O.fillText(j,($-A)/2,Math.round(E*.7));if(Y!=0){var R=O.measureText(z).width;
O.fillText(z,$+(b-R)/2+1,Math.round(E*.7))}var H=O.getImageData(0,0,$+b,E);kB.asr=f;kB.a4m=H;return H};
kB.prototype.apa=function(){var K=this.tq,o=K.length,Y=this.tj,c=this.tq[Y],z=(Y+1)%o;this.Bf();var f=Date.now();
if(o!=1&&K[z].eQ.BV(c.eQ)){var $=c.ux?parseInt(c.ux.split(",").pop()):30;if($==0)$=16;$-=Math.floor((f-this.gQ)*.4);
if(z==0)this.rx++;if(this.D2==0||this.rx<this.D2)this.aeg=setTimeout(this.auM,$)}this.tj=z;this.gQ=f};
kB.prototype.Fx=function(K,o){if(K<=0||o<=0)return;var Y=Math.floor(K*I.GR()),c=Math.floor(o*I.GR());
this.Q.k6=new hD(0,0,Y,c);this.V.width=Y;this.V.height=c;this.V.setAttribute("style","width:"+Y/I.GR()+"px; height:"+c/I.GR()+"px; display:block;");
this.Bf()};kB.prototype.MF=function(K){var o=-1,Y=this.x3;for(var y=0;y<Y.length;y++)if(Y[y].pointerId==K.pointerId)o=y;
return o};kB.prototype.dl=function(K){var o=this.MF(K),Y=this.x3;if(o!=-1)Y[o]=K;else Y.push(K);if(Y.length==1){this.qY=K.target;
I.TG(window,this.aej);I.HX(window,this.apb);this._h=I._9(K,this.V);this._h.x*=I.GR();this._h.y*=I.GR();
this.$a=this._h;this.UL=this.Q.w.clone();if(this.tf&&this.qY==this.V&&!this.Wr)this.c(new h1("mousedown"))}else this.a2z=this.gX=jc.si(I._9(Y[0],this.V),I._9(Y[1],this.V))};
kB.prototype.iM=function(K){var o=this.MF(K),Y=this.x3;if(o!=-1)Y[o]=K;var c=this.Q,z=this.Wr,f=this.tq[this.tj].eQ.clone();
f.m*=c.O;f.e*=c.O;var $=I._9(K,this.V);$.x*=I.GR();$.y*=I.GR();this.$a=$;if(this.tf&&this.qY==this.V&&!z)this.c(new h1("mousemove"));
else if(z=="grab"||z==null){if(Y.length>1){var E=I._9(Y[0],this.V),b=I._9(Y[1],this.V),q=new jc(I.GR()*(E.x+b.x)/2,I.GR()*(E.y+b.y)/2),O=jc.si(E,b),j=null;
if(O>this.gX+50){this.gX+=50;j=!0}if(O<this.gX-50){this.gX-=50;j=!1}if(j!=null)this.PN(q,j);return}else{var A=$.x-this._h.x,R=$.y-this._h.y;
c.w.x=this.UL.x+Math.round(A);c.w.y=this.UL.y+Math.round(R)}this.c(new h1("viewchange"))}};kB.prototype.hz=function(K){var o=this.MF(K),Y=this.x3;
Y.splice(o,1);if(Y.length==0){I.oH(window,this.aej);I.O1(window,this.apb);var c=this.Wr;if(K.detail>1){this.Q.O=1;
this.Q.w.Ex(0,0);this.Bf()}if(this.tf&&this.qY==this.V&&!this.Wr)this.c(new h1("mouseup"));else{if(c=="zoom-in"||c=="zoom-out")this.PN(this.$a,c=="zoom-in")}}else{var z=this._h=I._9(Y[0],this.V);
z.x*=I.GR();z.y*=I.GR()}};kB.prototype.rB=function(K){var o=this.$a;if(K){o=I._9(K,this.V);o.x*=I.GR();
o.y*=I.GR()}return this.Q.oh(o.x,o.y)};function fS(){cv.call(this);this.i4=null;this.zE=null;this.sg=null;
this.eH=null;this.atb="";this.Po=[];this.Il=0;this.XW=[];this.Hy=0;this.Bk=null;var K=this.n=I._("div",""),o=this.afw=I._("div","form");
o.setAttribute("style","line-height:0; margin-bottom:0.5em;");K.appendChild(o);var Y=this.UW=I._("span");
o.appendChild(Y);Y.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var c=this.ak_=new bb([25,2,0]);
c.T(!0);o.appendChild(c.n);c.k(w.E.p,this.eA,this);var z=this.p9=new bb([25,2,1]);z.T(!0);o.appendChild(z.n);
z.k(w.E.p,this.eA,this);var f=new gJ(" ");o.appendChild(f.n);var $=this.Yt=new cI([25,1,1]);o.appendChild($.n);
$.k(w.E.p,this.eA,this);this.JA=new jd(14);this.JA.a5H(3);o.appendChild(this.JA.n);this.JA.parent=this;
this.JA.k(w.E.p,this.ap0,this);var E=this.a02=new eg([25,1,2],null,null,!0);o.appendChild(E.n);E.k("click",this.a0,this);
var b=new eg("?",null,null,!0);o.appendChild(b.n);b.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a9L=this.avL.bind(this);this.RO=I._("div","svggallery scrollable");K.appendChild(this.RO);this.RO.addEventListener("scroll",this.aBX.bind(this))}fS.prototype=new cv;
fS.prototype.fL=function(K){this.akI=K};fS.prototype.t=function(){this.UW.textContent=ca.get([25,0]);
this.JA.t();this.ak_.t();this.p9.t();this.Yt.t();this.a02.t()};fS.prototype.Fx=function(K,o){this.i4=new jc(K,o);
this.afw.setAttribute("style","width:"+K+"px");var Y=this.afw.getBoundingClientRect();o-=Y.height;this.RO.setAttribute("style","width:"+K+"px; height:"+o+"px");
if(I.qO(this.n))this.eA()};fS.prototype.T=function(K){this.zE=K;this.eA()};fS.prototype.aBX=function(K){var o=this.RO;
if(o.scrollTop+o.clientHeight+10>=o.scrollHeight){this.eA(!0)}};fS.prototype.ap0=function(K){this.sg=null;
this.eA()};fS.prototype.avL=function(K){if(Date.now()-this.Hy<2e3)return;this.Hy=Date.now();this.Il=this.XW.indexOf(K.currentTarget);
var o=this.Xp(this.zE.x,this.zE.y);if(o[1]){var Y=o[1].largeImageURL,c=new XMLHttpRequest;c.responseType="arraybuffer";
c.open("GET",Y,!0);c.onload=this.a7c.bind(this);c.send();return}this.aoV(o)};fS.prototype.a7c=function(K){var o=K.target.response,Y=fv.sR(o),c=fv.WD(Y),z=c.MW(o),f=this.Xp(this.zE.x,this.zE.y,[o,z[0].eQ.m,z[0].eQ.e]);
this.aoV(f)};fS.prototype.aoV=function(K){var o=K[0],Y=fv.sR(o),c=fv.WD(Y),z=new h7("template.psd");
c.MW(o,z);var f=new h1("tempready",!0);f.data={l_:z};this.c(f)};fS.prototype.a0=function(K){var o=K.target;
this.Po=[];this.sg=null;this.eA()};fS.prototype.aA2=function(K){var o=JSON.parse(K.target.response),Y=this.eH=o.hits;
for(var y=0;y<Y.length;y++)if(Y[y].user_id==6314823)Y.splice(y,1);this.eA()};fS.prototype.eA=function(K){if(this.zE==null||this.i4==null||this.akI==null)return;
if(this.i4.x<=0)return;var o=this.zE.x,Y=this.zE.y;if(Math.min(o,Y)<50)return;if(K!=!0){this.XW=[];I.oA(this.RO);
this.RO.scrollTop=0}if(this.XW.length>300)return;var c=Math.min(1,300/Math.max(o,Y)),z=this.i4.clone();
z.x-=20;var f=Math.max(1,Math.floor(z.x/(o*c))),$=Math.max(1,Math.ceil(z.y/(Y*c)));c=z.x/f/o;var E=f*$;
if(this.sg==null){var b=this.akI.zl.Fc(),q=[];for(var O in b){var j=b[O],A=j[3];if(!this.JA.UA(j))continue;
if(j[5]==null||j[5].slice(0,2)=="gf")continue;q.push(j)}if(q.length==0)q.push(b.DejaVuSans);var R=q.length;
for(var y=0;y<R*10;y++){var g=Math.floor(Math.random()*R),H=Math.floor(Math.random()*R),i=q[g];q[g]=q[H];
q[H]=i}q=q.slice(0,10);this.sg=q}var h=this.p9.h(),x=this.Yt.h().trim();this.Yt.W6(h);if(h&&(this.eH==null||x!=this.atb)){var F=new XMLHttpRequest,X="https://pixabay.com/api/?image_type=photo"+(x==""?"":"&q="+encodeURIComponent(x))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(x=="")X="plugins/gallery.json";F.open("GET",X,!0);F.onload=this.aA2.bind(this);F.onerror=function(P){console.log(P.target.response)};
F.send();this.atb=x;return}c*=(o*c-5)/(o*c);var V=this.XW.length;for(var y=0;y<E;y++){var U=this.Il=V+y;
if(this.Po[U]==null)this.Po[U]=Math.floor(Math.random()*4294967295);var Z=this.Xp(Math.round(o*c),Math.round(Y*c)),T=Z[0];
T=_.DI(new Uint8Array(T));var v=I._("span");v.innerHTML=T;this.XW.push(v);this.RO.appendChild(v);v.addEventListener("click",this.a9L,!1)}};
fS.prototype.Xp=function(K,o,Y){var c=this.p9.h(),z=this.ak_.h(),f=c&&this.eH.length!=0?this.eH:null;
if(z&&!c)f=null;if(z&&c&&(this.Il&1)==0)f=null;return iT.OJ(K,o,this.Po[this.Il],this.sg,Y?Y:f)};function kh(){cv.call(this);
this.n=I._("div");this.C$=null;this.ajQ=null;this.qa=-1;this.WQ={JPG:[{v9:new dr([12,52,0],0,100,"%",null,null,!0),AD:70},{v9:new bb("attach metadata"),AD:!1}],TIFF:[{v9:new bb("attach metadata"),AD:!1}],WEBP:[{v9:new dr([12,52,0],0,100,"%",null,null,!0),AD:70},{v9:new bb("attach metadata"),AD:!1}],GIF:[{v9:new dr([12,52,0],0,100,"%",null,null,!0),AD:100},{v9:new bb([12,23,3]),AD:!1}],PNG:[{v9:new dr([12,52,0],0,100,"%",null,null,!0),AD:100},{v9:new bb("don't use palettes"),AD:!1}],BMP:[{v9:new bb("don't use palettes"),AD:!1}],PDF:[{v9:new cI([12,52,1]),AD:""},{v9:new dr([12,52,0],0,100,"%",null,null,!0),AD:100},{v9:new bb("reverse pages"),AD:!1},{v9:new bb("rasterize all"),AD:!1},{v9:new bb("vectorize text"),AD:!1},{v9:new dr("Add Margin",0,5,"in",2),AD:0},{v9:new bb("add crop marks"),AD:!1}],EMF:[{v9:new cI([12,52,1]),AD:""},{v9:new dr([12,52,0],0,100,"%",null,null,!0),AD:100},{v9:new bb("reverse pages"),AD:!1},{v9:new bb("rasterize all"),AD:!1},{v9:new bb("vectorize text"),AD:!1},{v9:new dr("Add Margin",0,5,"in",2),AD:0}],SVG:[{v9:new bb("add raster graphics"),AD:!0},{v9:new bb("add hidden layers"),AD:!1},{v9:new bb("vectorize text"),AD:!1},{v9:new bb("rasterize text"),AD:!1},{v9:new bb("minify"),AD:!1}],RAW:[{v9:new hQ([12,72],["1","3","4"]),AD:2},{v9:new hQ([12,34],["8 Bits","16 Bits"]),AD:0},{v9:new hQ("Byte Order",["12-34","34-12"]),AD:0}],DDS:[{v9:new bY("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),AD:0},{v9:new bb("Add Mipmaps"),AD:!0}],MP4:[],anim:[{v9:new dr("Speed",10,800,"%",null,!0,!0),AD:100},{v9:new h5("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),AD:0},{v9:new bb("reverse frames"),AD:!1},{v9:new bb("boomerang"),AD:!1}],slcs:[{v9:new bb([8,11,0]),AD:!0}],artb:[{v9:new bb([1,16,1]),AD:!0}],hicc:[{v9:new bb("convert to sRGB"),AD:!0}]};
for(var K in this.WQ){var o=this.WQ[K];for(var y=0;y<o.length;y++){o[y].v9.T(o[y].AD);o[y].v9.k(w.E.p,this.Ep,this)}}}kh.prototype=new cv;
kh.prototype.alQ=function(){this.qa=-1};kh.prototype.t=function(){for(var K in this.WQ)for(var y=0;y<this.WQ[K].length;
y++)this.WQ[K][y].v9.t()};kh.prototype.Ep=function(){this.eA();this.c(new h1(w.E.p,!1))};kh.prototype.eA=function(){var K=this.C$,o=K[0],Y=K[1],c=K[2],z=K[3],f=K[4],$=this.WQ[o];
if($==null)$=[];else $=$.slice(0);if(Y)$=$.concat(this.WQ.anim);if(["GIF","PNG","JPG"].indexOf(o)!=-1&&c)$=$.concat(this.WQ.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(o)!=-1&&z)$=$.concat(this.WQ.artb);if(f)$=$.concat(this.WQ.hicc);
var E=K.join(",");if(E!=this.qa){this.qa=E;I.oA(this.n);for(var y=0;y<$.length;y++){if(o=="PDF"&&!z&&(y==0||y==2))continue;
this.n.appendChild($[y].v9.n);I.Tg(this.n)}}var b=this.ajQ=[];for(var y=0;y<$.length;y++)b.push($[y].v9.h())};
kh.prototype.u3=function(K,o,Y,c,z){this.C$=[K,o,Y,c,z];this.eA()};kh.prototype.h=function(){return this.ajQ.slice(0)};
kh.prototype.T=function(K,o){var Y=this.C$,c=Y[0],z=this.WQ[c],f=Math.min(z.length,K.length);for(var y=0;
y<f;y++)z[y].v9.T(K[y]);this.eA();if(o!=!0)this.Ep()};function aa(){cv.call(this);this.n=I._("span","fitem");
this.JB=!1;this.iS=new eg("No",!1,"Cancel");this.nW=new eg("Yes",!1,"Confirm");this.n.appendChild(this.iS.n);
this.n.appendChild(this.nW.n);this.iS.k("click",this.hc,this);this.nW.k("click",this.hc,this);this.t()}aa.prototype=new cv;
aa.prototype.t=function(){this.iS.Sk(I.pA("cross",null,"autoscale"));this.nW.Sk(I.pA("checkmark",null,"autoscale"))};
aa.prototype.hc=function(K){this.JB=K.target==this.nW;this.c(new UIEvent("click"))};aa.prototype.h=function(){return this.JB};
function cy(K){cv.call(this);this.n=I._("span","fitem");this.TZ=new eg("\u25BC",null,"Auto Options",!0);
I.Xh(this.TZ.n,this.aiJ.bind(this));this.n.appendChild(this.TZ.n);this.gU=new eg("Auto",null,null,!0);
this.gU.k("click",this.Jr,this);this.n.appendChild(this.gU.n);this.Nm=new i1("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.Nm.k(w.E.p,this.Jr,this);this.Nm.T([!1,!1,!1,!0]);this.xA=new cv;var o=this.xA.n=I._("div","floatcont form");
o.setAttribute("style","width: 250px;");this.xA.parent=this;o.appendChild(this.Nm.n);this.CT=[];for(var y=0;
y<2;y++){var Y=new h5((y==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);Y.T(.1);Y.k(w.E.p,this.Jr,this);
this.CT.push(Y);o.appendChild(Y.n)}}cy.prototype=new cv;cy.prototype.Jr=function(K){this.c(new h1(w.E.p,!1))};
cy.prototype.t=function(){};cy.prototype.h=function(){return[this.Nm.h().indexOf(!0),this.CT[0].h(),this.CT[1].h()]};
cy.prototype.aiJ=function(K){if(I.qO(this.xA.n))return;K.stopPropagation();var o=this.TZ.n.getBoundingClientRect(),Y=new h1(w.E.L,!0);
Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height+4};this.c(Y)};function gU(){cv.call(this);var K=this.n=I._("div","fitem");
this.$V=new bY([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.$V.k(w.E.p,this.Rq,this);K.appendChild(this.$V.n);
this.gt=new gK(!1);this.gt.parent=this;this.gt.Nh(16777215);this.gt.k(w.E.p,this.Rq,this);K.appendChild(this.gt.n)}gU.prototype=new cv;
gU.prototype.t=function(){this.$V.t();this.gt.t()};gU.prototype.ag9=function(K){var o=[K.artboardBackgroundType.v-1];
if(K.Clr)o.push(K.Clr.v);this.T(o)};gU.prototype.ajy=function(){var K=this.h();return{classID:"artboard",Clr:{t:"Objc",v:K[1]},artboardBackgroundType:{t:"long",v:K[0]+1}}};
gU.prototype.T=function(K){this.$V.T(K[0]);if(K[1])this.gt.T(K[1])};gU.prototype.h=function(){return[this.$V.h(),this.gt.h()]};
gU.prototype.Rq=function(K){if(K.target==this.gt)this.$V.T(3);this.c(new h1(w.E.p,!1))};function hx(K){cv.call(this);
this.tc=K;this.G2=0;this.a6e=!1;this.EQ=K?new hx.oY:null;this.n=I._("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.gw=I._("div");this.n.appendChild(this.gw);this.Nw=I._("div");this.n.appendChild(this.Nw);this.ZG=[];
var o=Storage.list.length;if(K)o++;var Y=this.q$.bind(this);for(var y=0;y<o;y++){var c=I._("div");this.ZG.push(c);
this.gw.appendChild(c);c.addEventListener("click",Y,!1)}this.q$(null,0)}hx.prototype=new cv;hx.U2=[];
hx.V1=function(K){hx.U2.push(K);K.nF()};hx.MM=function(){var K=hx.U2;K.pop();K[K.length-1].nF()};hx.prototype.nF=function(){console.log(this.G2);
this.q$(null,this.G2)};hx.prototype.fL=function(K,o){if(!K.EK&&!this.a6e){var Y=this.tc?2:1;for(var y=Y;
y<this.ZG.length;y++)this.gw.removeChild(this.ZG[y]);this.a6e=!0;if(this.tc)this.EQ.fL(K,o)}if(this.o2)this.o2.fL(K,o)};
hx.prototype.t=function(){if(this.tc)this.EQ.t();if(this.o2)this.o2.t()};hx.prototype.q$=function(K,o){var Y=this.ZG,c;
if(o==null)o=Y.indexOf(K.currentTarget);this.G2=o;for(var y=0;y<Y.length;y++)I.LR(Y[y],"active");I.Px(Y[o],"active");
if(this.tc)o--;I.oA(this.Nw);if(o==-1)c=this.EQ;else c=Storage.I3(o);this.o2=c;c.parent=this;this.Nw.appendChild(c.n);
this.Fx(this.Fv,this.jd);this.t()};hx.prototype.Fx=function(K,o){this.Fv=K;this.jd=o;var Y=K<850,c=Y?50:200,z=Storage.list;
if(this.tc)z=[["Home",null,"strg/home"]].concat(z);for(var y=0;y<z.length;y++){var f=this.ZG[y],$="padding: 8px "+(Y?13:36)+"px; cursor:pointer;";
f.setAttribute("style",$);f.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[z[y][2]]+"\" /> "+(Y?"":z[y][0])}this.n.style.width=K+"px";
this.n.style.height=o+"px";this.gw.style.width=c+"px";this.gw.style.paddingTop="32px";if(this.o2)this.o2.Fx(K-c,o)};
hx.oY=function(){this.HG=null;var K=this.n=I._("div");K.style.background="var(--bg-canvas)";var o=this.H$=I._("div");
K.appendChild(o);var Y=I._("style");K.appendChild(Y);Y.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var y=0;y<2;y++){var c=I._("div"),Y="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";o.appendChild(c);
if(y==0)Y+="padding: 12px 0px";if(y==1)Y+="position:absolute;  bottom:0;";c.setAttribute("style",Y);
var z=I._("img");c.appendChild(z);z.setAttribute("src",PIMG[y==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(y==0)this.eY=z;else this.a8e=z;if(y==0)this.a0p=c;else this.adY=c}this.ZG=[];Y="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var f=this.Cp.bind(this),$=I._("div");o.appendChild($);$.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var y=0;y<4;y++){var E=I._("span","bhover");this.ZG.push(E);E.setAttribute("style",Y+"cursor:pointer; padding:12px;");
E.addEventListener("click",f,!1);$.appendChild(E)}I.Tg(o);var c=I._("div");c.setAttribute("style",Y+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
c.textContent="Drop any files here";o.appendChild(c);this.V=I._("canvas");this.V.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.$F=this.V.getContext("2d");this.a5o=d.R(4);K.appendChild(this.V);var b=new Date().getDate(),q=new Date().getMonth();
if(q==11&&b>20||q==0&&b<10){var O=Math.random()<.5,j={o:255,A:255,J:255};if(!O){j=d.xg(Math.random(),Math.random()*.7,1);
j.o*=255;j.A*=255;j.J*=255}this.jQ=[Math.round(1048575*Math.random()),O?.05:.02,Math.round(4+Math.random()*8),1,O?3:15,j,0,!0,O,O?1:.2,3];
this.a6F=O?.1:.2;this.tH=this.Gk.bind(this);window.requestAnimationFrame(this.tH)}};hx.oY.prototype=new cv;
hx.oY.prototype.Gk=function(){window.requestAnimationFrame(this.tH);if(!I.qO(this.n))return;var K=this.a5o,o=this.V,Y=this.$F,c=o.width,z=o.height;
this.jQ[6]=Date.now()*.001*this.a6F;d.Py.S1(K,c,z,this.jQ,!0);Y.putImageData(new ImageData(new Uint8ClampedArray(K.buffer),c,z),0,0)};
hx.oY.prototype.Cp=function(K){var y=this.ZG.indexOf(K.currentTarget),o=new h1(w.E.L,!0);if(y==0)o.data={d:w.I.Gg,XQ:"newproject"};
if(y==1)o.data={d:w.I.WC};if(y==2)o.data={d:w.I.Gg,XQ:"res0"};if(y==3)o.data={d:w.I.vv};this.c(o)};hx.oY.prototype.t=function(){var K=this.ZG,o=[[11,7],[1,6],[25,0],[0,17,6]],Y=["\u2605","\uD83E\uDC7F","\u25A3"],Y=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var y=0;y<K.length;y++)K[y].innerHTML="<span style=\"vertical-align:middle\">"+I.pA(Y[y],null,"autoscale")+"</span>\u2000"+ca.get(o[y]);
var c="l"+"o"+"g"+"o_"+["pp","vp"][g1],z=new Date;if(z.getMonth()==3&&z.getDate()==1)c="lo"+"go_cuc"+"umber";
this.eY.setAttribute("src",PIMG[c]);this.a8e.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};hx.oY.prototype.Fx=function(K,o){var Y=Math.min(o*1.5,Math.min(K,600));
I.AU(this.V,K,Y*.26);var c=this.V.width,z=this.V.height;this.a5o=d.R(c*z*4);this.n.style.width=K+"px";
this.n.style.height=o+"px";this.adY.style.width=K+"px";this.H$.style.marginLeft=Math.max(0,Math.round((K+200-600)/2)-200)+"px";
this.eY.style.width=Y+"px";this.a8e.style.width=Y+"px"};hx.oY.prototype.fL=function(K,o){var Y=K;if(K==null)K=this.Bk;
this.Bk=K;if(!K.EK&&this.ZG[2].parent){this.H$.removeChild(this.ZG[2]);this.H$.removeChild(this.ZG[3])}this.ZG[3].style.display=K.Xw?"inline-block":"none";
if(Y)this.HG=setTimeout(this.fL.bind(this),100)};function Storage(K){cv.call(this);var o=this.n=I._("div","storage");
I._R(o);o.addEventListener("drop",this.a8u.bind(this),!1);var Y=this.awY=I._("style");o.appendChild(Y);
o.setAttribute("tabindex","0");o.style.outline="none";o.addEventListener("keydown",this.avi.bind(this),!1);
this.eK=this.abv.bind(this);this._l=0;this.qA=0;var c=I._("div");o.appendChild(c);var z=this.awN.bind(this);
this.Zq=I._("div","bar");c.appendChild(this.Zq);this.el=I._("div","fls scrollable");c.appendChild(this.el);
this.u1=I._("div");c.appendChild(this.u1);this.u1.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.d9=I._("div","bar");this.d9.textContent="Name: ";var f=this.LC=I._("input");f.setAttribute("type","text");
this.d9.appendChild(f);var $=this.BB=I._("div","btn");$.textContent="Save";this.d9.appendChild($);I.HX($,z);
I.Xh(this.el,this.eK);this.Jc=0;this.Q_=K;var E=this.azs.bind(this),b=this.a3K=I._("div");b.setAttribute("style","text-align:center; font-size:1.6em");
var q=I._("img");b.appendChild(q);I.Tg(b);q.setAttribute("src",PIMG[Storage.list[this.Q_][2]]);q.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
I.HX(q,E);this.LY=I._("div","btn");b.appendChild(this.LY);I.HX(this.LY,E);this.vD=new gq([{name:[6,20]},{name:[5,2],aL:[a1.rK,a1.MD],u:function(){return{u:Storage.xi!=null}}}]);
this.vD.parent=this;this.vD.k("select",this.i9,this);this.el.addEventListener("contextmenu",this.eK);
this.as1=I._("span");this.cg=I._("span");this.cg.setAttribute("style","position:absolute; right:0; top:5px;");
this.a7=[];this.sD=[];for(var y=0;y<3;y++){var O=I._("div","btn");this.a7.push(O);this.as1.appendChild(O);
I.HX(O,z);O.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][y]}for(var y=0;y<5;y++){var O=I._("div","btn");
this.sD.push(O);this.cg.appendChild(O);I.HX(O,z)}window.addEventListener("message",this.a5b.bind(this),!1);
this.a6A=!1;this.m1=0;setInterval(this.a11.bind(this),300);this.ro();var j=this.abq=document.createElement("input");
j.setAttribute("type","file");j.addEventListener("change",this.a8u.bind(this),!1);document.body.appendChild(j);
j.setAttribute("style","display:none");j.setAttribute("multiple","")}Storage.prototype=new cv;Storage.Pz=!1;
Storage.prototype.a8u=function(K){K.stopPropagation();K.preventDefault();var o=K.dataTransfer?K.dataTransfer.files:K.target.files;
this.a1_=o.length;Storage.xi={};for(var y=0;y<o.length;y++){var Y=o[y],c=new FileReader;c.cf=Y;c.onload=this.ajG.bind(this);
c.readAsArrayBuffer(Y)}};Storage.prototype.ajG=function(K){var o=Storage.xi;o[K.target.cf.name]=K.target.result;
this.a1_--;if(this.a1_==0)this.Rt()};Storage.prototype.fL=function(K,o){var Y=Storage.list[this.Q_][3],c=es.DH();
if(Y){if(this.m1==1&&I.qO(this.n)&&c!=null){this.ro()}if(this.m1==2&&c==null){this.JR("forget","")}}};
Storage.prototype.a11=function(){var K=I.qO(this.n),o=this.a6A;if(K&&!o){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!K&&o){window.onpopstate=function(){};history.go(-1)}this.a6A=K};
Storage.prototype.ro=function(){if(this.xG)document.body.removeChild(this.xG);this.QD=[[]];this.S7=0;
this.arX={"/":[]};this.a6O="";this.Ip=null;this.Uh=[];this.R$=[];this.anp=[];this.aAz=null;var K="code/storages/"+Storage.list[this.Q_][1],o=this.xG=I._("iframe");
o.setAttribute("src",K);o.setAttribute("style","display:none");document.body.appendChild(o)};Storage.prototype.VZ=function(){return this.arX[this.ET()]};
Storage.prototype.Hv=function(K){this.arX[this.ET()]=K};Storage.I3=function(y){var K=Storage.Ry[y];if(K==null)K=Storage.Ry[y]=new Storage(y);
return K};Storage.Ry=[];Storage.ji=0;Storage.a42="";Storage.IK=function(K,o){Storage.ji=K;Storage.a42=o;
var Y=Storage.Ry;for(var y=0;y<Y.length;y++)if(Y[y])Y[y].nF()};Storage.aqI=[500*(1<<20),5e3*(1<<20)];
Storage._K=0;Storage.T4=2;Storage.Sf=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.aD3=function(K){for(var y=0;y<Storage.Ry.length;y++){if(Storage.Ry[y]&&Storage.Ry[y].xG.contentWindow==K)return!0}return!1};
Storage.prototype.avi=function(K){if(K.target.tagName=="INPUT")return;var o=a1;if(o.Ik(K.code,o.v1)&&this.ET().length!=0)this.aCO();
else if(K.ctrlKey){if(o.Ik(K.code,o.I)){var Y=[];this.Hv(Y);for(var y=0;y<this.Ip.length;y++)Y.push(y);
this.iZ()}if(o.Ik(K.code,o.bY))this.ZB(2);if(o.Ik(K.code,o.MD))this.Rt()}else if(o.Ik(K.code,o.C4)){var c=this.VZ();
if(c.length!=0)this.a03(c[0])}else if(o.Ik(K.code,o.QC)){this.S7=Math.max(this.S7-1,0);this._u()}else{var z=0;
for(var y=65;y<=90;y++)if(K.code=="Key"+String.fromCharCode(y))z=y;if(z!=0){var f=String.fromCharCode(z).toLowerCase(),$=[],E=this.Ip,b;
for(var y=0;y<E.length;y++)if(E[y][0][0].toLowerCase()==f)$.push(y);if($.length==0)return;var c=this.VZ();
if(c.length==0)b=$[0];else{var q=$.indexOf(c[0]);if(q==-1){b=$[0];for(var y=0;y<$.length;y++)if($[y]>c[0]){b=$[y];
break}}else b=$[(q+1)%$.length]}this.Hv([b]);this.iZ(!0)}}};Storage.prototype.Fx=function(K,o){this.Fv=K;
this.jd=o;this.n.style.width=K+"px";this.n.style.height=o+"px";var Y=K-30,c=Math.floor(Y/230),Y=Math.floor(Y/c)-70;
this.awY.textContent=".storage .tile .name {  width:"+Y+"px;  }";this.LC.style.width=K-140+"px";this.el.style.width=this.Zq.style.width=K-20+"px";
this.el.style.height=o-70-(Storage.ji==0?0:45)+"px"};Storage.prototype.azs=function(){this._u()};Storage.prototype._u=function(){this.qA=1;
this.JR("show",this.ET())};Storage.prototype.ET=function(K){var o=this.QD[this.S7],Y="/"+o.join("/");
if(K&&o.length!=0)Y+="/";return Y};Storage.prototype.awN=function(K){var o=K.currentTarget,Y=this.S7,c=this.a7.indexOf(o),z=this.sD.indexOf(o);
if(c>=0&&!this.a17(c))return;if(c==0){this.S7=Math.max(Y-1,0);this._u()}if(c==1){this.S7=Math.min(Y+1,this.QD.length-1);
this._u()}if(c==2){var f=this.QD[Y+1]=this.QD[Y].slice(0);f.pop();this.S7++;this.QD=this.QD.slice(0,this.S7+1);
this._u()}if(z==0){var $=document.createEvent("MouseEvents");$.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.abq.dispatchEvent($)}if(z==1){Storage._K=(Storage._K+1)%2;this.nF()}if(z==2){Storage.T4=(Storage.T4+1)%3;
this.nF()}if(z==3){Storage.Sf=(Storage.Sf+1)%3;this.nF()}if(z==4){this.JR("forget","")}if(o==this.BB){var E=this.LC.value.trim(),b=this.Ip,q=-1;
if(!E.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var y=0;
y<b.length;y++)if(b[y][0]==E)q=y;if(q!=-1){this.mm("Do you really want to replace \""+E+"\"?",this.aCs.bind(this))}else this.aCs()}};
Storage.prototype.aCs=function(){var K=this.LC.value.trim(),o=[this.Q_,this.ET(!0)+K];this.sn({d:w.I.ahN,yt:o});
this.c(new h1("canclose",!0))};Storage.prototype.Rt=function(){if(Storage.xi==null)return;this.sn({d:w.I.Cj,vU:ca.get("Uploading ...")});
this._l=4;iL.I3(2,this.xG,[this.ET(),Storage.xi,this.Ip],null,this.afi.bind(this))};Storage.prototype.afi=function(K){this._l=0;
this.sn({d:w.I.fy,vU:ca.get("Uploading ...")});this._u()};Storage.prototype.i9=function(K){var o=K.target.kW();
if(K.target==this.vD){if(o[0]==0){var Y=[ca.get([6,20]),-1,0];this.Ip.push(Y);this.nF();var y=this.Ip.indexOf(Y),c=this.Uh[y].querySelector(".name");
console.log(c);var z=new fW.n5(c,function(j){this.sn({d:w.I.Cj,vU:ca.get([1,2])+" ..."});var A=this.ET(!0)+j+"/";
console.log(A);this.JR("save",A)}.bind(this),!0)}else this.Rt()}else{if(o[0]==0){this.ZB(2)}else if(o[0]==1){var y=this.VZ()[0],f=this.Ip[y],c=this.Uh[y].querySelector(".name");
console.log(c);c.innerHTML=f[0];var z=new fW.n5(c,function(j){j=j.trim();var A=this.Ip;for(var y=0;y<A.length;
y++)if(A[y][0]==j){alert("Item with such name already exists.");this.nF();return}var R=this.ET(!0)+f[0]+":"+j;
console.log(R);this.JR("rename",R)}.bind(this))}else if(o[0]==2){this.ZB(3)}else if(o[0]==3)this.aCO();
else if(o[0]==4){this.ZB(1)}else{var $=this.Ip[this.VZ()[0]],E=Storage.Y3($),b=E[o[1]],q=b[0],O=this.MB().pop()[1];
if(Storage.aAO($,q)!=-1){this.JR("share",O+":"+q+":-1");alert("Unshared.")}else{this.JR("share",O+":"+q+":"+o[2]);
alert("Shared.")}}}};Storage.aAO=function(K,o){var Y=K[4];if(Y==null)return-1;if(Y.indexOf(o+":0")!=-1)return 0;
if(Y.indexOf(o+":1")!=-1)return 1;return-1};Storage.prototype.aCO=function(){var K=this.VZ();this.mm("Do you really want to delete "+(K.length==1?"\""+this.Ip[K[0]][0]+"\"":"these files")+"?",this.bO.bind(this))};
Storage.prototype.mm=function(K,o){var Y={d:w.I.Gg,XQ:"confirm",b:K,gb:o};this.sn(Y)};Storage.prototype.ZB=function(K){this._l=K;
if(1<K)this.sn({d:w.I.Cj,vU:ca.get("Downloading ...")});else this.sn({d:w.I.Cj,vU:ca.get("Getting info ...")});
iL.I3(0,this.xG,this.ET(),this.MB(!0),this.agS.bind(this))};Storage.prototype.agS=function(K){if(this._l==1){var o=0,Y=0;
for(var c in K){var z=K[c];o+=z[1];Y++}this.mm(Y+" files, "+gO.Es(o)+" in total.",function(){});this.sn({d:w.I.fy,vU:ca.get("Getting info ...")});
this._l=0}if(1<this._l)iL.I3(1,this.xG,K,null,this.ad$.bind(this))};Storage.prototype.ad$=function(K){if(1<this._l){if(1<this._l)this.sn({d:w.I.fy,vU:ca.get("Downloading ...")});
var o={},Y=this.ET(!0);for(var c in K)o[c.slice(Y.length)]=K[c];if(this._l==2){Storage.xi=o;alert("Copied to a clipboard")}if(this._l==3){var z=Object.keys(K);
if(z.length==1)jm.save(K[z[0]].buffer,z[0].split("/").pop());else jm.save(UZIP.encode(o),Y=="/"?"files.zip":this.ET().split("/").pop()+".zip")}}this._l=0};
Storage.xi=null;Storage.prototype.bO=function(){this.sn({d:w.I.Cj,vU:ca.get([5,4])+" ..."});this.R$=this.MB();
this.dV()};Storage.prototype.dV=function(){if(this.R$.length==0){this.sn({d:w.I.fy,vU:ca.get([5,4])+" ..."});
this.Hv([]);this._u()}else this.JR("delete",this.R$.pop()[1])};Storage.prototype.MB=function(K){var o=[],Y=this.ET(!0),c=this.VZ();
for(var y=0;y<c.length;y++){var z=this.Ip[c[y]];if(K)o.push(z[0]);else o.push([this.Q_,Y+z[0]])}return o};
Storage.prototype.JR=function(K,o){I.Px(this.n,"disabled");this.a6O=K;if(Storage.Pz)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+K+"\", \"prm\": "+JSON.stringify(o)+"  }");
this.xG.contentWindow.postMessage("{\"code\": \""+K+"\", \"prm\": "+JSON.stringify(o)+"  }","*")};Storage.prototype.a5b=function(K){if(K.source!=this.xG.contentWindow||this._l!=0)return;
I.LR(this.n,"disabled");if(typeof K.data=="string"){if(Storage.Pz)console.log("==",Math.floor(Date.now()/1e3),K.data);
var o=JSON.parse(K.data),Y=o.code,c=o.prm,z=this.a6O,f=Storage.list[this.Q_][3];if(Y=="ready"){if(f&&!c){var $=es.DH();
console.log($);var E=es.Tu(),b=E.acc;if($==null){this.m1=1;alert("Log in to use this storage (press Account at the top).");
this.Ws();return}var q=[],O=$.wantToJoin;for(var j in O)q.push(parseInt(j.slice(1)));var A=[],R=$.inTeams;
for(var y=0;y<R.length;y++)A.push(R[y][2]);var g={uid:$.id,limit:Storage.aqI[es.YP()?1:0],inTeams:A,myTeams:q};
g.secret=b&&b.pds?b.pds:"";this.JR("login",g);return}if(f)this.m1=2;if(f&&o.secret){var E=es.Tu(),b=E.acc;
if(b==null)b=E.acc={};b.pds=o.secret;es.y8(E)}if(c)this._u();else this.Ws()}else if(Y!="0"){if(z=="save")this.sn({d:w.I.fy,vU:ca.get([1,2])+" ..."});
if(z=="delete")this.dV();alert(c);this.nF()}else if(z=="show"){this.qA=0;this.Ip=c;this.nF()}else if(z=="save"){this.qA=0;
this.sn({d:w.I.fy,vU:ca.get([1,2])+" ..."});this._u()}else if(z=="delete"){this.dV()}else if(z=="forget"){if(f)this.Ws();
else this.ro()}else if(z=="rename"||z=="share"){this._u()}else throw Y}else{if(Storage.Pz)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.sn({d:w.I.azr,yt:this.MB()[0],r4:K.data});this.sn({d:w.I.fy,vU:"Opening ..."})}};Storage.prototype.Ws=function(){I.oA(this.Zq);
I.oA(this.el);I.oA(this.u1);this.el.appendChild(this.a3K)};Storage.prototype.a17=function(y){if(y==0)return this.S7>0;
if(y==1)return this.S7<this.QD.length-1;if(y==2)return this.ET()!="/"};Storage.prototype.nF=function(){var K=Storage.list[this.Q_][3],o=this.Ip,Y=Storage.T4,c=Storage._K,z=Storage.Sf;
if(o==null)return;o.sort(function(D,n){var N=D[1]==-1?1:5,W=n[1]==-1?1:5,G=0;if(Math.min(N,W)==1&&N!=W)return N-W;
else if(N==1||Y==0)G=D[0].toLowerCase()<n[0].toLowerCase()?-1:1;else if(Y==1)G=D[1]-n[1];else if(Y==2)G=D[2]-n[2];
if(c==1)G=-G;if(D[0]=="Shared")G=-1;if(n[0]=="Shared")G=1;return G});var f=this.el,$=this.Zq,E=this.QD[this.S7];
I.oA(f);I.oA($);this.Uh=[];for(var y=0;y<3;y++)if(this.a17(y))I.LR(this.a7[y],"disabled");else I.Px(this.a7[y],"disabled");
$.appendChild(this.as1);$.appendChild(this.cg);var b=I._("span");b.textContent="/";$.appendChild(b);
for(var y=0;y<E.length;y++){var b=I._("span");b.textContent=E[y];$.appendChild(b);var b=I._("span");
b.textContent="/";$.appendChild(b)}var q=["tile","icon","litm"][z];for(var y=0;y<o.length;y++){var O=o[y],j=O[1]==-1,A=j?"":gO.Es(O[1]),R=I._("div","cont "+q),Z=!1;
f.appendChild(R);this.Uh.push(R);R.setAttribute("title",O[0]+(j?"":"\nSize: "+A+"\nDate Modified: "+new Date(O[2]*1e3).toLocaleString().replaceAll(". ",".")));
var g=I._("img");g.setAttribute("src",j?Storage.aak:O[3]?O[3]:Storage.cf);if(!j&&O[3])g.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var H=I._("span","name"),i=O[0];if(q=="icon"&&i.length>30)i=i.slice(0,24)+".."+i.slice(i.length-5);if(K&&E.length==1&&E[0]=="Shared"){var h=Storage.Y3(),x=parseInt(i.slice(5));
for(var F=0;F<h.length;F++)if(h[F][0]==x)i=h[F][1]}H.textContent=i;R.appendChild(g);R.appendChild(H);
if(q!="icon"&&!j){if(q=="tile")I.Tg(H);var X=I._("span");X.textContent=A;X.style.opacity="0.8";(q=="tile"?H:R).appendChild(X)}var V=O[0].split("."),U=(V.length==1?"":V.pop()).toUpperCase();
if(K&&O[0]=="Shared"&&E.length==0){Z=!0;U="\u21E7"}if(q!="litm"&&(!j&&O[3]==null||Z)){var T=I._("span","ext");
T.textContent=U;var v=Storage.B9[U];T.style.backgroundColor=v?v:Storage.aq1(U);R.appendChild(T)}I.Xh(R,this.eK);
R.addEventListener("contextmenu",this.eK)}this.iZ();var P=this.d9.parentNode!=null,p=Storage.ji,a=this.n;
if(P&&p==0)a.removeChild(this.d9);if(!P&&p==1)a.appendChild(this.d9);this.Fx(this.Fv,this.jd);this.t()};
Storage.prototype.iZ=function(K){var o=this.Uh,Y=this.Ip,c=this.VZ(),z=!1,f=0;for(var y=0;y<o.length;
y++){var $=Y[y],E=$[1]==-1,b=o[y];if(Storage.ji==1&&!E&&!$[0].toLowerCase().endsWith(".psd"))b.style.display="none";
else b.style.display="auto";if(c.indexOf(y)==-1)I.LR(b,"active");else{if(E)z=!0;else f+=$[1];I.Px(b,"active");
if(K)b.scrollIntoView({block:"center",behavior:"smooth"})}}var q=z?"":gO.Es(f);this.u1.textContent=c.length==0?"":c.length+" item"+(c.length==1?"":"s")+" selected\u2001"+q;
this.LC.value=c.length==1&&!z?Y[c[0]][0]:Storage.a42};Storage.prototype.a03=function(y){var K=this.Ip[y];
if(K[1]==-1){var o=this.QD[this.S7].slice(0);o.push(K[0]);this.S7++;this.QD[this.S7]=o;this.QD=this.QD.slice(0,this.S7+1);
this.Hv([]);this._u()}else if(Storage.ji==0){this.sn({d:w.I.Cj,vU:"Opening ..."});this.c(new h1("canclose",!0));
var Y=this.ET(!0)+K[0];this.JR("load",Y)}};Storage.prototype.t=function(){var K=Storage.T4,o=Storage._K,Y=Storage.Sf;
this.sD[0].textContent="Upload";this.sD[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][o];this.sD[2].textContent=ca.get([[12,48],[12,14,0],"Date"][K]);
this.sD[3].textContent=ca.get(["Tiles","Icons",[25,3,1]][Y]);this.sD[4].textContent="\u2716";this.LY.innerHTML=ca.get([[23,6],Storage.list[this.Q_][0]])+"<br/><small><small>"+Storage.list[this.Q_][4]+"</small></small>";
this.fL()};Storage.prototype.abv=function(K){this.sn({d:w.I.Q2});if(I.qO(this.a3K))return;if(K.button==3||K.button==4){if(Date.now()-this.arB>50){var o=this.S7;
if(K.button==3)this.S7=Math.max(o-1,0);else this.S7=Math.min(o+1,this.QD.length-1);this._u()}this.arB=Date.now();
return}K.stopPropagation();var y=this.Uh.indexOf(K.currentTarget);if(K.type=="contextmenu"){if(this.Ip==null)return;
K.preventDefault();var Y=this.vD;if(y!=-1){var c=[{name:[5,1],aL:[a1.rK,a1.bY]},{name:[6,37]},{name:"Download",M_:!0},{name:[5,4],aL:[a1.v1]},{name:[9,2]}];
if(Storage.list[this.Q_][3]){var z=this.Ip[y],f=Storage.Y3(z);if(f.length!=0){var $=[];for(var E=0;E<f.length;
E++){var b=[],q=f[E],O=Storage.aAO(z,q[0]);if(O!=-1)b.push({name:"Unshare"});else b.push({name:"Allow Read"},{name:"Allow Read & Write"});
$.push({name:q[1]+[""," (R)"," (R,W)"][O+1],sub:b})}c.push({name:"Share With",sub:$})}}Y=new gq(c);Y.parent=this;
Y.k("select",this.i9,this)}Y.parent=this;Y.t();Y.update();this.sn({d:w.I.FY,A_:Y,x:K.clientX+4,y:K.clientY});
return}var j=this.VZ(),A=j.indexOf(y);if(K.button!=0&&A!=-1)return;if(K.target==this.el)this.Hv([]);
else{if(K.ctrlKey){if(A==-1)j.push(y);else j.splice(A,1)}else if(K.shiftKey&&j.length!=0){var E=j[0];
if(E<y){var R=y;y=E;E=R}j=[];this.Hv(j);for(var g=y;g<=E;g++)j.push(g)}else{this.Hv([y]);if(Date.now()-this.Jc<300&&j.length!=0&&j[0]==y){this.a03(y);
this.Jc=0}}}this.Jc=Date.now();this.iZ()};Storage.prototype.sn=function(K){var o=new h1(w.E.L,!0);o.data=K;
this.c(o)};Storage.Y3=function(K){var o=[],Y=[],c=es.Tu(),z=c.acc.tstart;if(z)for(var y=0;y<z.length;
y++){o.push([z[y][2],z[y][0]]);Y.push(z[y][2])}var f=es.DH();z=f.inTeams;if(z)for(var y=0;y<z.length;
y++){o.push([z[y][2],z[y][0]]);Y.push(z[y][2])}if(K&&K[4]){for(var y=0;y<K[4].length;y++){var $=parseInt(K[4][y].split(":")[0]);
if(Y.indexOf($)==-1)o.push([$,"Team "+$])}}return o};Storage.prototype.ak3=function(K,o){if(this.qA!=0)return 1;
this.qA=2;this.sn({d:w.I.Cj,vU:ca.get([1,2])+" ..."});this.JR("save",K);if(Storage.Pz)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.xG.contentWindow.postMessage(o,"*")};Storage.B9={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aq1=function(K){K=K.toLowerCase();
var o=0;for(var y=0;y<K.length;y++)o+=K.charCodeAt(y)*613<<8*y;return"#"+d.lP(o&16777215)};Storage.aak="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.cf="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var iL=function(){var K,o,Y,c,z,f,$,E;function b(R,g,H,i,h){o=g;c=i;$=h;K=R;f={};if(K==0){Y=[H]}if(K==1){Y=[];
for(var x in H)Y.push(x)}if(K==2){var F=H[0],X=H[1],V=H[2],U={};for(var y=0;y<V.length;y++)U[V[y][0]]=!0;
var Z={};for(var x in X){var T=x.split("/"),v=T[0],P=v.split("."),p="";if(P.length!=1){p="."+P.pop();
v=P.join(".")}while(U[v+p])v+=" - Copy";T[0]=v+p;Z[T.join("/")]=X[x]}var a={};Y=[];for(var x in Z){var T=x.split("/");
for(var y=0;y<T.length-1;y++){var D=F+T.slice(0,y+1).join("/")+"/";if(a[D]==null){a[D]=!0;Y.push([D])}}var n=F.endsWith("/")||x.startsWith("/")?"":"/";
Y.push([F+n+x,Z[x]])}}window.addEventListener("message",O,!1);E=Date.now();q()}function q(){if(Y.length==0){A();
return}z=Y.shift();if(K==0)j("show",z);if(K==1)j("load",z);if(K==2){j("save",z[0]);if(z.length==2)o.contentWindow.postMessage(z[1],"*")}}function O(R){if(R.source!=o.contentWindow)return;
if(K==0){var g=JSON.parse(R.data),H=g.code,i=g.prm;for(var y=0;y<i.length;y++){var h=i[y];if(c&&c.indexOf(h[0])==-1)continue;
var x=z+(z=="/"?"":"/"),F=x+h[0];if(h[1]==-1)Y.push(F);else f[F]=h}c=null}else if(K==1){f[z]=new Uint8Array(R.data)}q()}function j(R,g){var H=R=="show"?", \"nothumbs\": true":"",i="{\"code\": \""+R+"\", \"prm\": "+JSON.stringify(g)+H+"  }";
o.contentWindow.postMessage(i,"*")}function A(){console.log(Date.now()-E);window.removeEventListener("message",O,!1);
$(f)}return{I3:b}}();function dP(K){cv.call(this);var o=this.n=I._("div","form scrollable padded label12");
this.Vq=K;this.Ea=null;var Y=[],c=dP.Z$[K];this.lC=[];for(var z in c){var f=parseInt(z.slice(1)),$=f%10==0?"":"\u2800\u2800- ";
Y.push($+c[z]);this.lC.push(f)}this.Kq=[new cI("Name",null,30),new cI("Description",null,30,4),K==0?new cI("File"," www.Photopea.com#i...",17):new eO("File",!1,!1),new cI("Thumbnail URL","* Use Imgur.com etc.",17),new bY("Category",Y),new bb("Make Public"),new eg("<< Back",null,null,!0),new eg("Save",null,null,!0)];
if(K==0)this.Kq.push(new gJ("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new gJ("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(K==1)this.Kq.push(new gJ("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(K!=0)this.Kq.push(new gJ("Do not load any file to preserve the old version."));for(var y=0;y<this.Kq.length;
y++){var E=this.Kq[y];o.appendChild(E.n);E.parent=this;if(y!=4&&y!=6)I.Tg(o);if(E instanceof eg)E.k("click",this.acG,this)}}dP.prototype=new cv;
dP.prototype.acG=function(K){if(K.target==this.Kq[6]){this.c(new h1("back"));return}var o=this.Kq[3].h().trim(),Y=o.startsWith("http")&&(o.endsWith(".jpeg")||o.endsWith(".jpg")||o.endsWith(".png")||o.endsWith(".gif"));
if(!Y){alert("Thumbnail URL is incorrect.");return}var c=new XMLHttpRequest,z="mirror.php?url="+encodeURIComponent(o);
c.open("GET",z);c.responseType="arraybuffer";c.onload=this.a1X.bind(this);c.send()};dP.prototype.a1X=function(K){var o=K.target.response,Y=o.byteLength;
if(Y>2e5&&fv.sR(o)!="gif"){alert("Thumbnail is too large ("+gO.Es(Y)+"). Make it under 200 kB.");return}var c=this.Kq[2].h(),z=Object.keys(c);
if(this.Vq!=0&&z.length!=0){console.log(c);jm.C$.a6M(c[z[0]].buffer,z[0],this.a1j.bind(this),"pp-resources");
return}this.a1j()};dP.prototype.a1j=function(K){var o=this.Vq,Y="name desc file thmb catg publ".split(" "),c=this.Ea;
for(var y=0;y<6;y++){if(o!=0&&y==2)continue;var z=this.Kq[y].h();if(y<=3){z=z.trim();if(z.length==0){alert("One of values is empty.");
return}}if(y==2){var f=z.split("#i");if(f.length!=2||f[1].length!=8){alert("File ID is incorrect.");
return}z=f.pop()}if(y==4)z=this.lC[z];c[Y[y]]=z}if(o!=0){if(K)c.file=K;else if(c.file==null){alert("Select a file from your computer.");
return}}if(c.utme.length==0)c.utme=""+Math.round(Date.now()/1e3);c.type=o;this.c(new h1("save"))};dP.prototype.t=function(){};
dP.prototype.T=function(K){var o=this.Ea=JSON.parse(JSON.stringify(K)),Y="name desc file thmb catg publ".split(" ");
for(var y=0;y<6;y++){var c=o[Y[y]];if(c!=""&&y==2)c="https://photopea.com#i"+c;if(y==4)c=this.lC.indexOf(c);
if(y==5&&c==null)c=!0;this.Kq[y].T(c)}};dP.prototype.h=function(){return JSON.parse(JSON.stringify(this.Ea))};
dP.Z$=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function dD(K){cv.call(this);this.Fn=K;this.n=I._("div","");this.lS=[];this.s1=null;this.adq=[]}dD.prototype=new cv;
dD.prototype.TI=function(K){};dD.prototype.l1=function(){return!1};dD.prototype.Fx=function(K,o){};dD.prototype.fL=function(K,o){};
dD.prototype.rW=function(K){};dD.prototype.T=function(K,o,Y,c,z,f){var $=[],E=this.lS,b=0,q=fn.qy["s"+this.Fn];
if(this.Fn=="Dspl")this.py(K,$,f);else q?q(K,$,f):this.py(K,$,f);for(var y=0;y<E.length;y++)if(!(E[y]instanceof gJ))E[y].T($[b++]);
if(K.RndS)this.s1=K.RndS.v};dD.prototype.h=function(){var K=fn.Ta(this.Fn),o=[],Y=this.lS,c=0;for(var y=0;
y<Y.length;y++)if(!(Y[y]instanceof gJ))o[c++]=Y[y].h();var z=fn.qy["g"+this.Fn];if(this.Fn=="Dspl")this.RJ(K,o);
else z?z(K,o):this.RJ(K,o);if(K.RndS)K.RndS.v=this.s1;return K};dD.prototype.Ed=function(K){};dD.prototype.je=function(K){if(K&&K.target instanceof eg){this.s1=Math.floor(Math.random()*4294967295)}var o=this.adq;
for(var y=0;y<o.length;y+=2){var Y=this.lS[o[y]],c=this.lS[o[y+1]],z=Y.h(),f=c.h();if(K.target==Y)c.T(Math.max(z,f));
else Y.T(Math.min(z,f))}this.c(new h1(w.E.p))};dD.prototype.t=function(){for(var y=0;y<this.lS.length;
y++)this.lS[y].t();var K=this.ab3;if(K)K.t()};dD.prototype.JC=function(K){I.Px(this.n,"form");var o=this.lS;
for(var y=0;y<o.length;y++){var Y=o[y];Y.parent=this;Y.k(w.E.p,this.je,this);this.n.appendChild(Y.n);
if(Y instanceof bb&&o[y+1]instanceof gK)continue;if(K&&K.indexOf(y)!=-1)I.Ud(this.n);else I.Tg(this.n)}var c=fn.Ta(this.Fn);
if(c.RndS){var z=this.ab3=new eg([25,1,2],null,null,!0);this.n.appendChild(z.n);z.k("click",this.je,this)}};
dD.prototype.rC=function(K){return!1};dD.prototype.t1=function(){return!1};dD.prototype.tx=function(K,o,Y,c,z){};
dD.prototype.D3=function(K,o,Y,c,z){};dD.prototype.pt=function(K,o,Y,c,z){};dD.prototype.RJ=function(K,o){};
dD.prototype.py=function(K,o){};dD.prototype.Jf=function(K){var o=K.target.h().indexOf(!0)!=-1,Y=new h1(w.E.L,!0);
Y.vk=!0;Y.data={d:o?w.I.NR:w.I.LS,f:m.OL};this.c(Y);Y=new h1(w.E.U,!0);Y.f=m.OL;Y.vk=!0;Y.data={d:"supertool",f:o?this:null};
this.c(Y)};dD.a9j=function(K){K.t1=function(){return!0};K.tx=function(o,Y,c,z,f){this.SG=!0;this.a5O(o,f)};
K.D3=function(o,Y,c,z,f){if(!this.SG)return;this.a5O(o,f)};K.pt=function(o,Y,c,z,f){this.SG=!1};K.a5O=function(o,Y){var c=new hD(0,0,o.m,o.e);
if(o.r)c=o.r.rect;var z=o.Q.oh(Y.x,Y.y);z.x-=c.x;z.y-=c.y;function f($,E){return Math.round(Math.max(0,Math.min(100,100*$/E)))}this.lS[2].T(f(z.x,c.m));
this.lS[3].T(f(z.y,c.e));this.je()}};dD.Bokh=function(){dD.call(this,"Bokh");this.lS=[new bY("Depth Map",["A","b"]),new dr("Focal Distance",0,255),new bb([4,11]),new bY([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new dr([12,56],0,100),new dr([12,15],0,360),new dr([12,2],0,100),new dr([4,13],0,255),new dr([24,6],0,100),new hQ([12,58],[[12,59,0],[12,59,1]]),new bb([12,60])];
this.JC([5,7])};dD.Bokh.prototype=new dD;dD.Bokh.prototype.py=function(K,o,Y){var c=[[22,5,0],[6,5,3],[6,2]],z=K.BkDi.v.BtDi,f=K.BkDc,$=0;
if(z=="BeIn")$=0;else if(z=="BeIt"&&f.v.BtDc=="BeCt")$=1;else if(z=="BeIt"&&f.v.BtDc=="BeCm")$=2;else $=3+f.v;
for(var y=0;y<Y[1].length;y++)c.push(Y[1][y].name);this.lS[0].Xs(c,[3]);o[0]=$;o[1]=K.BkDp.v;o[2]=K.BkDs.v;
o[3]=parseInt(K.BkIs.v.BtIs.slice(3))-3;o[4]=K.BkIb.v;o[5]=K.BkIr.v;o[6]=K.BkSb.v;o[7]=K.BkSt.v;o[8]=K.BkNa.v;
o[9]=K.BkNt.v.BtNt=="BeNu"?0:1;o[10]=K.BkNm.v};dD.Bokh.prototype.RJ=function(K,o){var Y;if(o[0]==0){Y="BeIn";
delete K.BkDc}else if(o[0]<3){Y="BeIt";K.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][o[0]-1]}}}else{Y="BeIa";
K.BkDc={t:"long",v:o[0]-3}}K.BkDi.v.BtDi=Y;K.BkDp.v=o[1];K.BkDs.v=o[2];K.BkIs.v.BtIs="BeS"+(3+o[3]);
K.BkIb.v=o[4];K.BkIr.v=o[5];K.BkSb.v=o[6];K.BkSt.v=o[7];K.BkNa.v=o[8];K.BkNt.v.BtNt=["BeNu","BeNg"][o[9]];
K.BkNm.v=o[10]};dD.oilPaint=function(){dD.call(this,"oilPaint");this.lS=[new dr([12,56],.1,10,"px",!0),new dr("Cleanliness",0,10,"px",!0),new dr([12,38],.1,10,null,!0),new dr("Bristle Detail",0,10,null,!0),new bb("Lighting"),new dr("Shine",0,10,null,!0),new dS([12,15])];
this.JC()};dD.oilPaint.prototype=new dD;dD.oilPaint.prototype.py=function(K,o){var Y="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var y=0;y<Y.length;y++)o[y]=K[Y[y]].v;o[6]=[K.LghD.v]};dD.oilPaint.prototype.RJ=function(K,o){var Y="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var y=0;y<Y.length;y++)K[Y[y]].v=o[y];K.LghD.v=o[6][0]};dD.TrcC=function(){dD.call(this,"TrcC");
this.lS=[new dr("Level",0,255),new hQ([12,69],[[19,4,1],[19,4,0]])];this.JC()};dD.TrcC.prototype=new dD;
dD.TrcC.prototype.py=function(K,o){o[0]=K.Lvl.v;o[1]=["Lwr","Upr"].indexOf(K.Edg.v.CntE)};dD.TrcC.prototype.RJ=function(K,o){K.Lvl.v=o[0];
K.Edg.v.CntE=["Lwr","Upr"][o[1]]};dD["Dfs "]=function(){dD.call(this,"Dfs ");this.lS=[new hQ([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.JC()};dD["Dfs "].prototype=new dD;dD["Dfs "].prototype.py=function(K,o){o[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(K.Md.v.DfsM)};
dD["Dfs "].prototype.RJ=function(K,o){K.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][o[0]]};dD.Embs=function(){dD.call(this,"Embs");
this.lS=[new dS([12,15]),new dr([12,42],1,100,"px"),new dr([12,57],1,500,"%")];this.JC()};dD.Embs.prototype=new dD;
dD.Embs.prototype.py=function(K,o){o[0]=[K.Angl.v];o[1]=K.Hght.v;o[2]=K.Amnt.v};dD.Embs.prototype.RJ=function(K,o){K.Angl.v=o[0][0];
K.Hght.v=o[1];K.Amnt.v=o[2]};dD["Wnd "]=function(){dD.call(this,"Wnd ");this.lS=[new hQ([12,32],["Wind","Blast","Stagger"]),new hQ([12,33],["From the Right","From the Left"])];
this.JC()};dD["Wnd "].prototype=new dD;dD["Wnd "].prototype.py=function(K,o){o[0]=["Wnd","Blst","Stgr"].indexOf(K.WndM.v.WndM);
o[1]=["Left","Rght"].indexOf(K.Drct.v.Drct)};dD["Wnd "].prototype.RJ=function(K,o){K.WndM.v.WndM=["Wnd","Blst","Stgr"][o[0]];
K.Drct.v.Drct=["Left","Rght"][o[1]]};dD.denoise=function(){dD.call(this,"denoise");this.lS=[new dr([12,64],0,10),new dr([12,65],0,100,"%")];
this.JC()};dD.denoise.prototype=new dD;dD.denoise.prototype.py=function(K,o){var Y=K.channelDenoise.v[0].v;
o[0]=Y.Amnt.v;o[1]=Y.EdgF.v};dD.denoise.prototype.RJ=function(K,o){var Y=K.channelDenoise.v[0].v;Y.Amnt.v=o[0];
Y.EdgF.v=o[1]};dD.lightFilterGradient=function(){dD.call(this,"lightFilterGradient");this.lS=[new dr([24,3,1],0,100,"px",1,!0),new dr([12,38],0,200,"%"),new bb([4,11]),new dr("High",0,100,"%"),new dr("Medium",0,100,"%"),new dr("Low",0,100,"%")];
this.JC()};dD.lightFilterGradient.prototype=new dD;dD.lightFilterGradient.prototype.py=function(K,o){o[0]=K.blur.v;
o[1]=K.textureScale.v*100;o[2]=K.Scl.v==-1;var Y=K.Dtl.v;o[3]=Y[0].v*100;o[4]=Y[1].v*100;o[5]=Y[2].v*100};
dD.lightFilterGradient.prototype.RJ=function(K,o){K.blur.v=o[0];K.textureScale.v=o[1]/100;K.Scl.v=o[2]?-1:1;
var Y=K.Dtl.v;Y[0].v=o[3]/100;Y[1].v=o[4]/100;Y[2].v=o[5]/100};dD.Fbrs=function(){dD.call(this,"Fbrs");
this.lS=[new dr("Variance",1,64),new dr([12,64],1,64)];this.JC()};dD.Fbrs.prototype=new dD;dD.Fbrs.prototype.py=function(K,o){o[0]=K.Vrnc.v;
o[1]=K.Strg.v};dD.Fbrs.prototype.RJ=function(K,o){K.Vrnc.v=o[0];K.Strg.v=o[1]};dD.LnsF=function(){dD.call(this,"LnsF");
this.lS=[new dr([12,2],10,300,"%"),new hQ([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new dr("Position X",0,100,"%"),new dr("Position Y",0,100,"%")];
this.JC()};dD.LnsF.prototype=new dD;dD.LnsF.prototype.py=function(K,o){o[0]=K.Brgh.v;o[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(K.Lns.v.Lns);
var Y=K.FlrC.v;o[2]=Math.round(Y.Hrzn.v*100);o[3]=Math.round(Y.Vrtc.v*100)};dD.LnsF.prototype.RJ=function(K,o){K.Brgh.v=o[0];
K.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][o[1]];var Y=K.FlrC.v;Y.Hrzn.v=o[2]/100;Y.Vrtc.v=o[3]/100};dD.a9j(dD.LnsF.prototype);
dD.blendOptions=function(){dD.call(this,"blendOptions");this.lS.push(new bY([12,19,0],jw.Y9,jw.AJ));
this.lS.push(new dr([12,0],0,100,"%"));this.JC()};dD.blendOptions.prototype=new dD;dD.blendOptions.prototype.py=function(K,o){o[0]=jw.$R.indexOf(K.Md.v.BlnM);
o[1]=K.Opct.v.val};dD.blendOptions.prototype.RJ=function(K,o){K.Md.v.BlnM=jw.$R[o[0]];K.Opct.v.val=o[1]};
dD.LnCr=function(){dD.call(this,"LnCr");this.lS=[new dr([12,57],-100,100),new dr([12,38],10,150,"%")];
this.JC()};dD.LnCr.prototype=new dD;dD.LnCr.prototype.py=function(K,o){o[0]=K.LnIa.v;o[1]=K.LnSi.v};
dD.LnCr.prototype.RJ=function(K,o){K.LnIa.v=o[0];K.LnSi.v=o[1]};dD.adaptCorrect=function(){dD.call(this,"adaptCorrect");
var K=hB;this.lS=[new gJ([19,6,0]),new K([12,57],0,100,"%"),new K("Tone",0,100,"%"),new K([12,56],0,200,"px"),new gJ([19,6,2]),new K([12,57],0,100,"%"),new K("Tone",0,100,"%"),new K([12,56],0,200,"px"),new gJ([3]),new K([13,0],-100,100)];
this.JC([3,7])};dD.adaptCorrect.prototype=new dD;dD.adaptCorrect.prototype.py=function(K,o){var Y=K.sdwM.v;
o[0]=Y.Amnt.v.val;o[1]=Y.Wdth.v.val;o[2]=Y.Rds.v;var Y=K.hglM.v;o[3]=Y.Amnt.v.val;o[4]=Y.Wdth.v.val;
o[5]=Y.Rds.v;o[6]=K.ClrC.v};dD.adaptCorrect.prototype.RJ=function(K,o){var Y=K.sdwM.v;Y.Amnt.v.val=o[0];
Y.Wdth.v.val=o[1];Y.Rds.v=o[2];var Y=K.hglM.v;Y.Amnt.v.val=o[3];Y.Wdth.v.val=o[4];Y.Rds.v=o[5];K.ClrC.v=o[6]};
dD.Flam=function(){dD.call(this,"Flam");var K=this.lS=[new bY([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new dr([12,80,0],20,1e3,"px"),new bb("Randomize Length"),new dr([12,41],5,600,"px"),new dr([12,15],0,360,"\xB0"),new dr("Interval",10,200,"px"),new bb("Adapt Interval for Loops"),new gK(!1),new bY([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new dr("Turbulent",0,100),new dr("Jag",0,100),new dr([12,0],0,100),new dr("Lines",2,30),new dr("Bottom",0,100),new bY([12,22],["Normal","Violent","Flat"]),new bY([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new bb("Randomize Shape"),new dr("Random Seed",0,100)];
this.JC();var o=this.n;I.oA(o);var Y=new hQ(null,["Basic","Advanced"]);Y.k(w.E.p,this.aD7,this);o.appendChild(Y.n);
I.Ud(o);var c=I._("div"),z=I._("div");this.arL=[c,z];o.appendChild(c);for(var y=0;y<K.length;y++){(y<9?c:z).appendChild(K[y].n);
if(y==6)I.Tg(c)}K[0].k(w.E.p,this.a9y,this);this.a9y()};dD.Flam.prototype=new dD;dD.Flam.prototype.a9y=function(K){var o=this.lS,y=o[0].h();
o[1].W6(y!=0&&y!=5);o[2].W6(y!=0&&y!=5);o[4].W6(y!=0&&y!=5&&y!=1);o[5].W6(y!=0&&y!=5);o[6].W6(y!=0&&y!=5)};
dD.Flam.prototype.aD7=function(K){var y=K.target.h(),o=this.arL,Y=this.n;Y.removeChild(o[1-y]);Y.appendChild(o[y])};
dD.boxblur=function(){dD.call(this,"boxblur");this.lS=[new dr([12,56],1,200," px")];this.JC()};dD.boxblur.prototype=new dD;
dD.boxblur.prototype.py=function(K,o){o[0]=K.Rds.v.val};dD.boxblur.prototype.RJ=function(K,o){K.Rds.v.val=o[0]};
dD.GsnB=function(){dD.call(this,"GsnB");this.lS=[new dr([12,56],.1,400,"px",1,!0)];this.JC()};dD.GsnB.prototype=new dD;
dD.Dila=function(){dD.call(this,"Dila");this.lS=[new dr([11,12,1],0,20,"px",0),new dr([12,56],0,400,"px",0,!0)];
this.JC()};dD.Dila.prototype=new dD;dD.MtnB=function(){dD.call(this,"MtnB");this.lS=[new dS([12,15]),new dr([12,28],1,100," px")];
this.JC()};dD.MtnB.prototype=new dD;dD.RdlB=function(){dD.call(this,"RdlB");this.lS=[new dr([12,57],1,100),new hQ([12,36],["Spin","Zoom"]),new dr("Position X",0,100,"%"),new dr("Position Y",0,100,"%")];
this.JC()};dD.RdlB.prototype=new dD;dD.RdlB.prototype.py=function(K,o){o[0]=K.Amnt.v;o[1]=["Spn","Zm"].indexOf(K.BlrM.v.BlrM);
o[2]=K.Cntr.v.Hrzn.v*100;o[3]=K.Cntr.v.Vrtc.v*100};dD.RdlB.prototype.RJ=function(K,o){K.Amnt.v=o[0];
K.BlrM.v.BlrM=["Spn","Zm"][o[1]];K.Cntr.v.Hrzn.v=o[2]/100;K.Cntr.v.Vrtc.v=o[3]/100};dD.a9j(dD.RdlB.prototype);
dD.Dspl=function(){dD.call(this,"Dspl");this.lS=[new bY([6,36,3],["a","b"]),new dr([22,4,0],-100,100,"px"),new dr([22,4,1],-100,100,"px"),new bY([24,18,0],[[24,18,3],[24,18,2]])];
this.JC()};dD.Dspl.prototype=new dD;dD.Dspl.prototype.py=function(K,o,Y){this.acj=[];this.ln=[];var c=-1,z=Y?Y[0]:null;
if(z==null)z=this.aeR;else this.aeR=z;if(z)for(var y=0;y<z.length;y++){var f=z[y];this.acj.push(f.oF.trim());
this.ln.push(f.YH);if(f.YH==K.DspF.v.pth)c=y}this.lS[0].Xs(this.acj);o[0]=c==-1?0:c;o[1]=K.HrzS.v;o[2]=K.VrtS.v;
o[3]=["WrpA","RptE"].indexOf(K.UndA.v.UndA)};dD.Dspl.prototype.RJ=function(K,o){if(this.ln.length==0)return;
K.DspF.v.pth=this.ln[o[0]];K.HrzS.v=o[1];K.VrtS.v=o[2];K.UndA.v.UndA=["WrpA","RptE"][o[3]]};dD.Pnch=function(){dD.call(this,"Pnch");
this.lS=[new dr([12,57],-100,100,"%")];this.JC()};dD.Pnch.prototype=new dD;dD["Plr "]=function(){dD.call(this,"Plr ");
this.lS=[new hQ(null,["Rect to Polar","Polar to Rect"])];this.JC()};dD["Plr "].prototype=new dD;dD.Rple=function(){dD.call(this,"Rple");
this.lS=[new dr([12,57],-999,999),new bY([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.JC()};dD.Rple.prototype=new dD;
dD["Shr "]=function(){dD.call(this,"Shr ");this.lS=[new cm(!0,!0),new bY([24,18,0],[[24,18,3],[24,18,2]])];
this.JC()};dD["Shr "].prototype=new dD;dD["Shr "].prototype.py=function(K,o){var Y=new dF(0,255/127,255/127,0,-2,128),c=JSON.parse(JSON.stringify(K.ShrP.v));
d.nA.i(c,Y);o[0]=c;o[1]=["WrpA","RptE"].indexOf(K.UndA.v.UndA)};dD["Shr "].prototype.RJ=function(K,o){var Y=new dF(0,255/127,255/127,0,-2,128);
Y.oD();d.nA.i(o[0],Y);K.ShrP.v=o[0];K.ShrE.v=o[0].length-1;K.UndA.v.UndA=["WrpA","RptE"][o[1]]};dD.Sphr=function(){dD.call(this,"Sphr");
this.lS=[new dr([12,57],-100,100),new bY([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.JC()};dD.Sphr.prototype=new dD;
dD.Sphr.prototype.py=function(K,o){o[0]=K.Amnt.v;o[1]=["Nrml","HrzO","VrtO"].indexOf(K.SphM.v.SphM)};
dD.Sphr.prototype.RJ=function(K,o){K.Amnt.v=o[0];K.SphM.v.SphM=["Nrml","HrzO","VrtO"][o[1]]};dD.Dthr=function(){dD.call(this,"Dthr");
this.lS=[new bY("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new hQ("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.JC()};dD.Dthr.prototype=new dD;dD.Dthr.prototype.py=function(K,o){o[0]=K.Plte.v;o[1]=K.Mthd?K.Mthd.v:1};
dD.Dthr.prototype.RJ=function(K,o){K.Plte.v=o[0];K.Mthd.v=o[1]};dD.Part=function(){dD.call(this,"Part");
this.lS=[new dr([15,5,1],0,100,"%"),new dr([12,14,0],1,50,"px"),new dr([12,34],0,100,"%"),new dr([12,2],10,1e3,"%"),new gK(!0),new dr("Time",0,1,null,3),new dr("Turbulence",0,100,"%"),new bb("Blink"),new bb("Fall")];
this.JC([4])};dD.Part.prototype=new dD;dD.Part.prototype.py=function(K,o){o[0]=K.Cont.v;o[1]=K.Size.v;
o[2]=K.Dpth.v;o[3]=K.Brgh.v;o[4]=K.Clr.v;o[5]=K.Time.v;o[6]=K.Turb.v;o[7]=K.Blnk.v;o[8]=K.Fall.v};dD.Part.prototype.RJ=function(K,o){K.Cont.v=o[0];
K.Size.v=o[1];K.Dpth.v=o[2];K.Brgh.v=o[3];K.Clr.v=o[4];K.Time.v=o[5];K.Turb.v=o[6];K.Blnk.v=o[7];K.Fall.v=o[8]};
dD.Twrl=function(){dD.call(this,"Twrl");this.lS=[new dr([12,15],-999,999)];this.JC()};dD.Twrl.prototype=new dD;
dD.Wave=function(){dD.call(this,"Wave");this.adq=[1,2,3,4];this.lS=[new dr("Number of Generators",1,100),new hB("Min Length",1,999),new hB("Max Length",1,999),new hB("Min Ampl.",1,999),new hB("Max Ampl.",1,999),new hB("Scale X",1,100,"%"),new hB("Scale Y",1,100,"%"),new hQ([12,44],["Sine","Triangle",[12,93,3]]),new bY([24,18,0],[[24,18,3],[24,18,2]])];
this.JC()};dD.Wave.prototype=new dD;dD.ZgZg=function(){dD.call(this,"ZgZg");this.lS=[new dr([12,57],-100,100),new dr("Ridges",0,20),new bY([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.JC()};dD.ZgZg.prototype=new dD;dD.surfaceBlur=function(){dD.call(this,"surfaceBlur");this.lS=[new dr([12,56],1,200," px"),new dr([4,13],1,255," px")];
this.JC()};dD.surfaceBlur.prototype=new dD;dD.surfaceBlur.prototype.py=function(K,o){o[0]=K.Rds.v.val;
o[1]=K.Thsh.v};dD.surfaceBlur.prototype.RJ=function(K,o){K.Rds.v.val=o[0];K.Thsh.v=o[1]};dD.AdNs=function(){dD.call(this,"AdNs");
this.lS=[new dr([12,57],0,200," %"),new bY([12,58],[[12,59,1],[12,59,0]]),new bb([12,60])];this.JC()};
dD.AdNs.prototype=new dD;dD.DstS=function(){dD.call(this,"DstS");this.lS=[new dr([12,56],1,200," px"),new dr([4,13],1,255," px")];
this.JC()};dD.DstS.prototype=new dD;dD["Mdn "]=function(){dD.call(this,"Mdn ");this.lS=[new dr([12,56],1,200," px")];
this.JC()};dD["Mdn "].prototype=new dD;dD["Mdn "].prototype.py=function(K,o){o[0]=K.Rds.v.val};dD["Mdn "].prototype.RJ=function(K,o){K.Rds.v.val=o[0]};
dD.ClrH=function(){dD.call(this,"ClrH");this.lS=[new dr([12,56],4,100," px")];for(var y=1;y<4;y++)this.lS.push(new dr("Angle "+y,0,90," \xB0"));
this.JC()};dD.ClrH.prototype=new dD;dD.ClrH.prototype.py=function(K,o){o[0]=K.Rds.v;for(var y=1;y<4;
y++)o[y]=K["Ang"+y].v};dD.ClrH.prototype.RJ=function(K,o){K.Rds.v=o[0];for(var y=1;y<4;y++)K["Ang"+y].v=o[y]};
dD.ClrH.prototype.t=function(){var K=this.lS;K[0].t();for(var y=1;y<4;y++)K[y].Sk(ca.get([12,15])+" "+y)};
dD.Crst=function(){dD.call(this,"Crst");this.lS=[new dr([12,61],3,100," px")];this.JC()};dD.Crst.prototype=new dD;
dD.Crst.prototype.py=function(K,o){o[0]=K.ClSz.v};dD.Crst.prototype.RJ=function(K,o){K.ClSz.v=o[0]};
dD.Mztn=function(){dD.call(this,"Mztn");this.lS.push(new bY([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.ln="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.JC()};dD.Mztn.prototype=new dD;
dD.Mztn.prototype.py=function(K,o){o[0]=this.ln.indexOf(K.MztT.v.MztT)};dD.Mztn.prototype.RJ=function(K,o){K.MztT.v.MztT=this.ln[o[0]]};
dD["Msc "]=function(){dD.call(this,"Msc ");this.lS=[new dr([12,61],2,200," px")];this.JC()};dD["Msc "].prototype=new dD;
dD["Msc "].prototype.py=function(K,o){o[0]=K.ClSz.v.val};dD["Msc "].prototype.RJ=function(K,o){K.ClSz.v.val=o[0]};
dD.Pntl=function(){dD.call(this,"Pntl");this.lS=[new dr([12,61],3,100," px")];this.JC()};dD.Pntl.prototype=new dD;
dD.Pntl.prototype.py=function(K,o){o[0]=K.ClSz.v};dD.Pntl.prototype.RJ=function(K,o){K.ClSz.v=o[0]};
dD.smartSharpen=function(){dD.call(this,"smartSharpen");this.lS=[new dr([12,57],1,200,"%"),new dr([12,56],0,200,"px",1,!0)];
this.JC()};dD.smartSharpen.prototype=new dD;dD.smartSharpen.prototype.py=function(K,o){o[0]=K.Amnt?K.Amnt.v.val:200;
o[1]=K.Rds?K.Rds.v.val:1};dD.smartSharpen.prototype.RJ=function(K,o){K.Amnt.v.val=o[0];K.Rds.v.val=o[1]};
dD.UnsM=function(){dD.call(this,"UnsM");this.lS=[new dr([12,57],1,200," %"),new dr([12,56],.1,400,"px",1,!0),new dr([4,13],0,255," ")];
this.JC()};dD.UnsM.prototype=new dD;dD.HghP=function(){dD.call(this,"HghP");this.lS=[new dr([12,56],.1,400,"px",1,!0)];
this.JC()};dD.HghP.prototype=new dD;dD.HsbP=function(){dD.call(this,"HsbP");this.lS=[new hQ("Input",["RGB","HSB","HSL"]),new hQ("Output",["RGB","HSB","HSL"])];
this.JC()};dD.HsbP.prototype=new dD;dD["Mxm "]=function(){dD.call(this,"Mxm ");this.lS=[new dr([12,56],.1,200," px",1,!0),new bY([12,76,1],[[12,93,3],"Circle"])];
this.JC()};dD["Mxm "].prototype=new dD;dD["Mnm "]=function(){dD.call(this,"Mnm ");this.lS=[new dr([12,56],.1,200," px",1,!0),new bY([12,76,1],[[12,93,3],"Circle"])];
this.JC()};dD["Mnm "].prototype=new dD;dD.Ofst=function(){dD.call(this,"Ofst");this.lS=[new dr([22,4,0],-1024,1024," px"),new dr([22,4,1],-1024,1024," px"),new bY([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.JC()};dD.Ofst.prototype=new dD;dD.Kale=function(){dD.call(this,"Kale");this.lS=[new hB("Mirrors",2,20),new hB([12,15],0,360,"\xB0")];
this.JC()};dD.Kale.prototype=new dD;dD.Kale.prototype.py=function(K,o){o[0]=K.Mirr.v;o[1]=K.MRot.v};
dD.Kale.prototype.RJ=function(K,o){K.Mirr.v=o[0];K.MRot.v=o[1]};dD.Rept=function(){dD.call(this,"Rept");
this.lS=[new hB([12,38],1,300," %"),new hB("Row Shift",-50,50," %"),new hB("Space X",-99,200," %"),new hB("Space Y",-99,200," %"),new bb([4,16,2]),new dS([12,15])];
this.JC()};dD.Rept.prototype=new dD;dD.Rept.prototype.py=function(K,o){o[0]=K.Scl.v.val;o[1]=K.Rsft.v.val;
o[2]=K.SpcX.v.val;o[3]=K.SpcY.v.val;o[4]=K.SpcC.v;o[5]=[K.Angl.v]};dD.Rept.prototype.RJ=function(K,o){K.Scl.v.val=o[0];
K.Rsft.v.val=o[1];K.SpcX.v.val=o[2];K.SpcY.v.val=o[3];K.SpcC.v=o[4];K.Angl.v=o[5][0];return K};dD.Ctoa=function(){dD.call(this,"Ctoa");
this.lS=[new gJ([13,0]),new gK(!0),new dr(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new dr(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.JC()};dD.Ctoa.prototype=new dD;dD.Ctoa.prototype.py=function(K,o){o[0]=K.Clr.v;o[1]=K.Trsp.v.val;
o[2]=K.Opct.v.val};dD.Ctoa.prototype.RJ=function(K,o){K.Clr.v=o[0];K.Trsp.v.val=o[1];K.Opct.v.val=o[2]};
dD.LqFy=function(){dD.call(this,"LqFy");this.nQ=!1;this.LB=!1;this.wL=null;this.ar$=null;this.f=0;this.AL=-1;
this.q={yw:[[{f:{id:0,name:[24,1,0,1,0],hF:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],hF:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],hF:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],hF:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],hF:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],hF:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],hF:"liq/pleft"}}],[{f:{id:7,name:"Hand",hF:"tools/hand"}}],[{f:{id:8,name:"Zoom In",hF:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",hF:"zoomOut"}}]],keys:[]};
this.NY=new hi(this.q,!1);this.NY.k5(0);this.NY.k(w.E.L,this.lh,this);this.NK=iO.EL();this.M1=null;this.U6=[];
this.Dg=-1;this.jP=null;this.a3W=null;this.Nu=null;this.OE=null;this.hO=null;var K=I._("div","flexrow");
this.Ek=K;this.n.appendChild(K);K.appendChild(this.NY.n);this.view=new kB(!0);this.view.Fx(100,100);
this.view.k("mousedown",this.dl,this);this.view.k("mousemove",this.iM,this);this.view.k("mouseup",this.hz,this);
this.view.k("zoom",this.WJ,this);K.appendChild(this.view.n);var o=I._("div","form");K.appendChild(o);
this.az=o;o.style.width="230px";this.Mq=[new dr([12,14,0],0,1e3,null,!1,!0),new dr([12,74],0,100,null,!1,!1),new dr([12,84],0,100,null,!1,!1),new bb([12,46]),new dr([12,0],0,100,null,!1,!1),new bb([24,18,5])];
var Y=this.NK.Brsh.v;Y.Dmtr.v.val=100;var c=[100,50,100,!1,100,!0];for(var y=0;y<this.Mq.length;y++){var z=this.Mq[y];
z.T(c[y]);if(y==4)z.b2();z.k(w.E.p,this.a1T,this);o.appendChild(z.n)}var f=this.ady=new eg([1,12,2],!0,null,!0);
f.k("click",this.a0,this);o.appendChild(f.n);this.akP=this.Ot.bind(this);this.Cq=new cv;this.Cq.n=I._("div","floatcont");
this.tK=new eg("Menu",!1,null,!0);var $=this.tK.n;$.setAttribute("style","position:absolute; right:13px; top:47px");
I.Xh($,this.a4X.bind(this))};dD.LqFy.prototype=new dD;dD.LqFy.prototype.l1=function(){return!0};dD.LqFy.prototype.TI=function(K){this.az.appendChild(K)};
dD.LqFy.prototype.a4X=function(K){if(I.qO(this.Cq.n))return;K.stopPropagation();var o=this.tK.n.getBoundingClientRect();
this.Cq.n.appendChild(this.az);var Y=new h1(w.E.L,!0);Y.data={d:w.I.FY,A_:this.Cq,x:o.right+o.width-290,y:o.top+o.height};
this.c(Y)};dD.LqFy.prototype.Ed=function(K){this.nQ=K.S(a1.cV);var o=m.oC.kr(this.NK,K);if(o!=null){this.NK=o;
this.WJ();this.Mq[0].T(o.Brsh.v.Dmtr.v.val)}else if(K.S(a1.rK)&&K.S(a1.VI)){var Y=this.U6;if(K.S(a1.jR)){if(this.Dg+1<Y.length)this.Dg++}else if(this.Dg>0)this.Dg--;
this.M1.map=Y[this.Dg].slice(0);this.nF(null)}else if(this.f<=6)this.view.Ed(K);var c=this.f,z=-1,f=K.S(a1.cV);
if(f&&this.AL==-1){if(c==0)z=1;if(c==4)z=5;if(c==5)z=4;if(z!=-1)this.AL=c}if(!f&&this.AL!=-1){z=this.AL;
this.AL=-1}if(z!=-1){this.f=z;this.NY.k5(this.f)}};dD.LqFy.prototype.lh=function(K){if(K.data.d==w.I.NR){var o=this.f=K.data.f;
this.NY.k5(this.f);this.view.Ed(o>6?kB.EP(o-7):new a1)}};dD.LqFy.prototype.a1T=function(K){var o=K.currentTarget,y=this.Mq.indexOf(o),Y=this.NK.Brsh.v;
if(y==0){Y.Dmtr.v.val=o.h();this.WJ()}this.Mq[4].W6(this.Mq[3].h());if(y>2)this.nF(null)};dD.LqFy.prototype._j=function(){var K=this.U6;
this.Dg++;K[this.Dg]=this.M1.map.slice(0);while(K.length>this.Dg+1)K.pop();while(K.length>50){K=K.slice(1);
this.Dg--}};dD.LqFy.prototype.dl=function(K){this.wL=this.view.rB();this.ar$=new jc(0,0);this.LB=!0;
window.requestAnimationFrame(this.akP)};dD.LqFy.prototype.iM=function(K){var o=this.view.rB(),Y=new jc(o.x-this.wL.x,o.y-this.wL.y);
if(this.f==0||this.f==6)this.arq(Y);this.wL=o};dD.LqFy.prototype.hz=function(K){this._j();this.LB=!1};
dD.LqFy.prototype.Ot=function(K){if(this.f!=0&&this.f!=6)this.arq(new jc(0,0));if(this.LB)window.requestAnimationFrame(this.akP)};
dD.LqFy.prototype.arq=function(K){var o=this.M1,Y=o.Fv/this.jP.m,c=this.wL,z=this.NK.Brsh.v,f=z.Dmtr.v.val,$=Date.now(),E=o.Fv,b=o.jd,q=Math.sqrt(K.x*K.x+K.y*K.y),O=Math.max(1,Math.ceil(q/2)),j=K.x/O,A=K.y/O,R=c.clone(),g=this.f,H=this.Mq[1].h()/100,i=this.Mq[2].h()/100,h=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],x=h[g*2],F=h[g*2+1],X=(1-H)*x+H*F,V=f*Y/2;
for(var y=0;y<O;y++){var U=[];R.x+=j;R.y+=A;d._v.afv(o.map,E,b,g,R.x*Y,R.y*Y,V,H,i,j*Y,A*Y,U,this.nQ);
d._v.age(E,b,o.map,U,2*X*i)}var Z=new hD(0,0,E,b),T=new hD(c.x*Y,c.y*Y,0,0);T.VC(f*Y*.5,f*Y*.5);var v=T.clone();
v.offset(K.x*Y,K.y*Y);T=T.Bb(v);var P=new hD(T.x/Y,T.y/Y,T.m/Y,T.e/Y);P=d.M.tS(P).wu(this.jP);this.Mq[5].T(!0);
this.nF(P)};dD.LqFy.prototype.WJ=function(){var K=g3.V8(this.NK,null,this.view.gW().O);this.view.RL(K)};
dD.LqFy.prototype.T=function(K,o,Y,c,z){Y=Y.clone();if(o==null)return;if(!c.BV(Y)){var f=Y.Bb(c),$=d.R(f.Z()*4);
d.iF(o,Y,$,f);o=$;Y=f;var E=d.R(f.Z()*4);d.iF(z,c,E,f);z=E}Y.x=Y.y=0;this.Nu=o;this.a3W=z;this.hO=o.slice(0);
this.OE=o.slice(0);this.jP=Y;this.M1=hR.qz(new Uint8Array(K.LqMe.v).buffer);var b=Y.m,q=Y.e;if(this.M1.Fv/b<.22){this.M1={Fv:Math.floor(b/4),jd:Math.floor(q/4)};
this.M1.map=new Float32Array(this.M1.Fv*this.M1.jd*2)}this.U6=[];this.Dg=-1;this._j();this.nF(null);
this.view.Dj(!0);this.WJ()};dD.LqFy.prototype.h=function(){var K=fn.Ta("LqFy"),o=new Uint8Array(hR.ol(this.M1)),Y=[];
for(var y=0;y<o.length;y++)Y.push(o[y]);K.LqMe.v=Y;return K};dD.LqFy.prototype.Fx=function(K,o){this.NY.Fx(K,o);
var Y=this.tK.n,c=this.az;this.Ek.appendChild(c);this.Ek.appendChild(Y);if(K>450&&K-o>200){c.style.marginLeft="1em";
this.Ek.removeChild(Y);this.view.Fx(K-238-45,o)}else{c.style.marginLeft="";this.Ek.removeChild(c);this.view.Fx(K-40,o)}};
dD.LqFy.prototype.t=function(){this.NY.t();this.ady.t();for(var y=0;y<this.Mq.length;y++)this.Mq[y].t()};
dD.LqFy.prototype.a0=function(){this.M1.map.fill(0);this._j();this.nF(null)};dD.LqFy.prototype.nF=function(K){var o=this.jP,Y=this.Nu,c=this.hO,z=this.M1;
if(this.Mq[5].h())d._v.CN(Y,this.OE,o.m,o.e,K,z.map,z.Fv,z.jd,0);else this.OE.set(Y);if(this.Mq[3].mR()){d.iF(this.a3W,o,c,o,K?K:o);
d.l.To("norm",this.OE,o,c,o,K?K:o,this.Mq[4].h()/100)}else d.kO(this.OE,c);this.view.T([{eQ:o,data:c.buffer}])};
dD.GEfc=function(){dD.call(this,"GEfc");this.bo=0;this.hL=0;this.Nu=null;this.hO=null;this.jP=null;this.Bk=null;
this.Ea=null;this.Xb=0;this.Uw=null;this.i6=null;var K=I._("div","flexrow");this.Ek=K;this.n.appendChild(K);
this.view=new kB(null);this.view.Fx(100,100);K.appendChild(this.view.n);this.QB="";this.RI=270;var o=this.xn=I._("div","form scrollable");
K.appendChild(o);o.setAttribute("style","width:"+this.RI+"px;");var Y=this.cg=I._("div","form");K.appendChild(Y);
Y.setAttribute("style","width:230px;  margin:0 10px");this.B6={};for(var c in fU.names){var z=new dD.GEfc.SV(c);
z.parent=this;this.B6[c]=z;z.k(w.E.p,this.a18,this)}this.oj=!0;this.tK=new eg("Menu",null,null,!0);this.tK.k("click",this.a33,this);
K.appendChild(this.tK.n);this.dL=new eg(">>",null,null,!0);this.dL.k("click",this.a09,this);Y.appendChild(this.dL.n);
this.Fs=I._("div");this.Fs.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
Y.appendChild(this.Fs);this.ND=I._("div");this.ND.style.minHeight="14em";this.ND.style.marginBottom="1em";
Y.appendChild(this.ND);this.Hg=I._("div","lpbody scrollable");this.D5=I._("div","lpfoot");Y.appendChild(this.Hg);
Y.appendChild(this.D5);this.k("click",this.amn,this);this.cQ=[];dY.Od([[5,3],[5,4]],this.cQ,this.D5,this.pQ.bind(this))};
dD.GEfc.prototype=new dD;dD.GEfc.prototype.l1=function(){return!0};dD.GEfc.prototype.TI=function(K){this.Fs.appendChild(K)};
dD.GEfc.prototype.fL=function(K,o){this.Bk=K};dD.GEfc.prototype.a09=function(K){var o=this.xn.style.display!="none";
this.xn.style.display=o?"none":"";this.dL.Sk(o?"<<":">>");this.Fx()};dD.GEfc.prototype.a33=function(K){this.oj=!this.oj;
this.Fx()};dD.GEfc.prototype.Fx=function(K,o){var Y=this.xn.style.display!="none";if(K!=null){this.bo=K;
this.hL=o;if(K<1e3&&Y||K>=1e3&&!Y){this.a09();Y=!Y}this.oj=K>600}else{K=this.bo;o=this.hL}var c=this.oj?250+(Y?this.RI:0):0;
if(I.qO(this.cg)&&!this.oj){this.Ek.removeChild(this.xn);this.Ek.removeChild(this.cg)}if(!I.qO(this.cg)&&this.oj){this.Ek.appendChild(this.xn);
this.Ek.appendChild(this.cg)}this.xn.style.height=o+"px";this.view.Fx(K-c,o);this.Hg.style.height=o-Math.max(this.ND.getBoundingClientRect().height,186)-96+"px";
this.tK.n.setAttribute("style","position:absolute; top:46px;  right:"+(c+16)+"px")};dD.GEfc.prototype.a2G=function(){var K=fv.ZK.get("img/beach",!0)[0],o=K.eQ,Y=this.xn,c=Math.floor(I.GR()*(this.RI-40)/3),z=~~(c*.7),f=new hD(0,0,c,z),$=d.R(c*z*4),E=$.slice(0),b=Math.round(10*I.GR()),q=new ImageData(new Uint8ClampedArray(E.buffer),c,z);
d.iF(new Uint8Array(K.data),o,$,new hD(Math.round((o.m-c)/2),Math.round((o.e-z)/2),c,z));var O=I._("canvas"),j=O.getContext("2d");
O.width=c;O.height=z+Math.round(b*1.5);j.font=b+"px sans-serif";this.Uw={};I.oA(Y);var A=this.aiy.bind(this);
for(var y=0;y<fU.Z$.length;y++){var R=fU.Z$[y],g=I._("div");Y.appendChild(g);g.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
g.textContent=ca.get(R);for(var H in fU.names){var i=fU.names[H];if(i[0]!=y)continue;fU.kf(H,{rect:f,buffer:$},fU.Ta(H),{o:0,A:0,J:0},{o:255,A:255,J:255},{rect:f,buffer:E},{});
j.fillStyle="black";j.fillRect(0,0,500,500);j.putImageData(q,0,0);var h=ca.get(i[1]);j.fillStyle="white";
j.fillText(h,(c-j.measureText(h).width)/2,z+Math.round(b*1.1));var x=I._("div");Y.appendChild(x);x.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
x.addEventListener("click",A,!1);var g=I._("img");x.appendChild(g);g.setAttribute("src",O.toDataURL());
g.setAttribute("style","width:"+c/I.GR()+"px; margin-bottom:0px;");this.Uw[H]=x}}};dD.GEfc.prototype.aiy=function(K){var o;
for(var Y in this.Uw)if(this.Uw[Y]==K.currentTarget)this.QB=Y;this.a18()};dD.GEfc.prototype.pQ=function(K){var o=dY.OX(this.cQ,K),Y=this.Ea.GEfs.v,c=Y[this.Xb].v;
if(o==0){Y.push(JSON.parse(JSON.stringify(Y[this.Xb])));this.Xb=Y.length-1}else if(Y.length>1){Y.splice(this.Xb,1);
if(this.Xb==Y.length)this.Xb--}this.o$();this.nF()};dD.GEfc.prototype.a18=function(K){var o=this.QB,Y;
if(K==null)Y=fU.Ta(o);else Y=this.B6[o].h();this.Ea.GEfs.v[this.Xb].v=Y;this.o$();this.nF()};dD.GEfc.prototype.T=function(K,o,Y,c,z){var f=ca.get([24,0]);
if(this.Uw==null||f!=this.i6)this.a2G();this.i6=f;K=this.Ea=JSON.parse(JSON.stringify(K));if(K.GEfs==null)K=this.Ea={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:K}]}};
var $=K.GEfs.v;for(var y=0;y<$.length;y++)if($[y].v.GELv==null)$[y].v.GELv={t:"bool",v:!0};this.Xb=$.length-1;
this.o$();Y=Y.clone();if(o==null)return;if(!c.BV(Y)&&fU.mA(K).x!=0){var E=Y.Bb(c),b=d.R(E.Z()*4);d.iF(o,Y,b,E);
o=b;Y=E}Y.x=Y.y=0;this.Nu=o;this.hO=o.slice(0);this.jP=Y;this.nF();this.view.Dj()};dD.GEfc.prototype.amn=function(K){var o=K.data,y=o.UQ,Y=this.Ea.GEfs.v;
if(o.yI){Y[y].v.GELv.v=!Y[y].v.GELv.v;this.nF()}else this.Xb=y;this.o$()};dD.GEfc.prototype.o$=function(){var K=this.Ea.GEfs.v,o=K[this.Xb].v,Y=o.GEfk.v.GEft,c=this.ND;
if(fU.names[Y]==null){alert("Unsupported gallery filter");I.oA(c)}else{this.QB=Y;for(var z in this.Uw)I.LR(this.Uw[z],"selected");
I.Px(this.Uw[Y],"selected");var f=this.B6[Y];f.T(o);if(c.firstChild!=f.n){I.oA(c);c.appendChild(f.n)}}var $=[];
for(var y=0;y<K.length;y++){var E=K[y].v,b=fU.names[E.GEfk.v.GEft],q=new il(y,!0,!0,null,b?b[1]:"Filter",y==this.Xb,E.GELv.v);
q.parent=this;$.push(q.n)}I.oA(this.Hg);$.reverse();for(var y=0;y<$.length;y++)this.Hg.appendChild($[y]);
this.Fx()};dD.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.Ea))};dD.GEfc.prototype.nF=function(K){var o=this.jP,Y=this.Nu,c=this.hO,z=this.QB,f=this.Ea,$=this.Bk;
function E(b){return{o:b>>>16,A:b>>>8&255,J:b&255}}fn.kf("GEfc",{rect:this.jP,buffer:this.Nu},f,E($.qm),E($.YQ),{rect:this.jP,buffer:this.hO},null);
this.view.T([{eQ:o,data:c.buffer}])};dD.GEfc.prototype.t=function(){for(var K in this.B6)this.B6[K].t();
dY.Sl(this.cQ,["lrs/newlayer","lrs/bin"])};dD.GEfc.SV=function(K){cv.call(this);this.OV=K;this.n=I._("div");
this.m3={};var o=fU.Ta(K);for(var Y in o){var c=null;if(Y=="__name"||Y=="classID"||Y=="GEfk"||Y=="GELv"||["FlRs"].indexOf(Y)!=-1)continue;
else if(Y=="EdgW")c=new dr("Edge Width",1,14);else if(Y=="EdgB")c=new dr("Edge Brightness",0,K=="AccE"?50:20);
else if(Y=="Smth")c=new dr([19,3,3],1,K=="Stmp"?50:15);else if(Y=="ClSz")c=new dr([12,61],3,100);else if(Y=="BrdT")c=new dr([7,9],1,20);
else if(Y=="HghS")c=new dr([12,64],0,20);else if(Y=="HlSz")c=new dr([12,14,0],1,15);else if(Y=="Cntr")c=new dr([12,3,0],0,K=="WtrP"?100:50);
else if(Y=="Shrp")c=new dr("Sharpness",0,40);else if(Y=="SprR")c=new dr("Spray Radius",0,25);else if(Y=="LgDr")c=new dr("Light/Dark Balance",0,K=="Stmp"?50:100);
else if(Y=="Drkn")c=new dr("Darkness",1,50);else if(Y=="Dstr")c=new dr("Distortion",0,20);else if(Y=="Scln")c=new dr([12,38],50,200);
else if(Y=="Rlf")c=new dr("Relief",0,K=="Ptch"||K=="NtPr"?25:50);else if(Y=="ChAm")c=new dr("Thickness",1,7);
else if(Y=="Pncl")c=new dr([19,2,5],1,30);else if(Y=="StrP")c=new dr("Stroke Pressure",0,15);else if(Y=="PprB")c=new dr("Paper Brightness",0,50);
else if(Y=="BrsS")c=new dr("Brush Size",0,10);else if(Y=="BrsD")c=new dr("Brush Detail",0,10);else if(Y=="Txtr")c=new dr([12,67],1,3);
else if(Y=="Grn")c=new dr("Grain",0,20);else if(Y=="HghA")c=new dr("Highlight Area",0,20);else if(Y=="Intn")c=new dr("Intensity",0,10);
else if(Y=="Brgh")c=new dr("Glow Brightness",0,K=="WtrP"?100:50);else if(Y=="StrS")c=new dr("Stroke Size",1,50);
else if(Y=="StDt")c=new dr("Stroke Detail",1,3);else if(Y=="Sftn")c=new dr("Softness",0,10);else if(Y=="EdgT")c=new dr("Edge Thickness",0,10);
else if(Y=="EdgI")c=new dr("Edge Intensity",0,10);else if(Y=="Pstr")c=new dr("Posterization",0,6);else if(Y=="Dfnt")c=new dr("Definition",0,25);
else if(Y=="TxtC")c=new dr("Texture Coverage",0,50);else if(Y=="ShdI")c=new dr("Shadow Intensity",0,10);
else if(Y=="DrcB")c=new dr("Direction Balance",0,100);else if(Y=="Strg")c=new dr([12,64],1,3);else if(Y=="Blnc")c=new dr("Balance",0,10);
else if(Y=="BlcI")c=new dr("Black Intensity",0,10);else if(Y=="WhtI")c=new dr("White Intensity",0,10);
else if(Y=="DrkI")c=new dr("Dark Intensity",0,50);else if(Y=="LghI")c=new dr("Light Intensity",0,50);
else if(Y=="StrW")c=new dr("Stroke Width",3,15);else if(Y=="Grns")c=new dr("Graininess",0,K=="NtPr"?20:10);
else if(Y=="GlwA")c=new dr("Glow Amount",0,20);else if(Y=="ClrA")c=new dr("Clear Amount",0,20);else if(Y=="ChrA")c=new dr("Charcoal Area",0,20);
else if(Y=="ChlA")c=new dr("Chalk Area",0,20);else if(Y=="FrgL")c=new dr("Foreground Level",1,15);else if(Y=="BckL")c=new dr("Background Level",1,15);
else if(Y=="WhtL")c=new dr("Background Level",0,50);else if(Y=="BlcL")c=new dr("Foreground Level",0,50);
else if(Y=="ImgB")c=new dr("Image Balance",0,50);else if(Y=="Dnst")c=new dr([12,74],0,50);else if(Y=="FbrL")c=new dr("Fiber Length",3,50);
else if(Y=="CrcS")c=new dr("Crack Spacing",2,100);else if(Y=="CrcD")c=new dr("Crack Depth",0,10);else if(Y=="CrcB")c=new dr("Crack Brightness",0,10);
else if(Y=="TlSz")c=new dr("Tile Size",2,100);else if(Y=="GrtW")c=new dr("Grout Width",1,15);else if(Y=="LghG")c=new dr("Lighten Grout",0,10);
else if(Y=="SqrS")c=new dr("Square Size",0,10);else if(Y=="RplS")c=new dr("Ripple Size",1,15);else if(Y=="RplM")c=new dr("Ripple Magnitude",0,20);
else if(Y=="NmbL")c=new dr("Number of Levels",2,8);else if(Y=="EdgS")c=new dr("Edge Simplicity",0,10);
else if(Y=="EdgF")c=new dr("Edge Fidelity",1,3);else if(Y=="Sz")c=K=="NGlw"?new dr("Glow Size",-24,24):new dr("Brush Size",1,50);
else if(Y=="Dtl")c=K=="Chrc"?new dr("Detail",0,5):new dr("Detail",1,15);else if(Y=="StrL")c=K=="InkO"?new dr("Stroke Length",1,50):new dr("Stroke Length",0,20);
else if(Y=="TxtT")c=new bY([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(Y=="BrsT")c=new bY("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(Y=="Grnt")c=new bY("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(Y=="SDir")c=new bY([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(Y=="ScrT")c=new bY([12,62],["Circle","Dot",[10,35]]);
else if(Y=="LghD"||Y=="LghP")c=new bY("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(Y=="Clr")c=new gK("Glow Color");else if(Y=="InvT")c=new bb([4,11]);else console.log(Y);c.k(w.E.p,this.Jr,this);
c.parent=this;this.m3[Y]=c;this.n.appendChild(c.n)}};dD.GEfc.SV.prototype=new cv;dD.GEfc.SV.prototype.Jr=function(K){this.c(new h1(w.E.p,!1))};
dD.GEfc.a67="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
dD.GEfc.SV.prototype.T=function(K){for(var o in this.m3){var Y;if(dD.GEfc.a67.indexOf(o)!=-1)Y=K[o].v;
else if(o=="TxtT")Y=fU.hH.indexOf(K[o].v[o]);else if(o=="BrsT")Y=fU.asi.indexOf(K[o].v[o]);else if(o=="LghD")Y=fU.HU.indexOf(K[o].v[o]);
else if(o=="LghP")Y=fU.FP.indexOf(K[o].v[o]);else if(o=="Grnt")Y=fU.yZ.indexOf(K[o].v[o]);else if(o=="ScrT")Y=fU.AN.indexOf(K[o].v[o]);
else if(o=="SDir")Y=fU.mQ.indexOf(K[o].v.StrD);this.m3[o].T(Y)}};dD.GEfc.SV.prototype.h=function(){var K=fU.Ta(this.OV);
for(var o in this.m3){var Y=this.m3[o].h();if(dD.GEfc.a67.indexOf(o)!=-1)K[o].v=Y;else if(o=="TxtT")K[o].v[o]=fU.hH[Y];
else if(o=="BrsT")K[o].v[o]=fU.asi[Y];else if(o=="LghD")K[o].v[o]=fU.HU[Y];else if(o=="LghP")K[o].v[o]=fU.FP[Y];
else if(o=="Grnt")K[o].v[o]=fU.yZ[Y];else if(o=="ScrT")K[o].v[o]=fU.AN[Y];else if(o=="SDir")K[o].v.StrD=fU.mQ[Y]}return K};
dD.GEfc.SV.prototype.t=function(){for(var K in this.m3)this.m3[K].t()};dD["Adobe Camera Raw Filter"]=function(K){dD.call(this,"Adobe Camera Raw Filter");
var o=this.n;this.a56=K;this.Ko=null;this.vs=null;this.y2=1e3;this.rv=null;this.eY=null;I.Px(o,"flexrow");
var Y=I._("div"),c=I._("div","padded");o.appendChild(Y);o.appendChild(c);this.q2=new kB;this.q2.k("zoom",this.nF,this);
Y.appendChild(this.q2.n);this.Z_=new jx(225);this.Z_.IK(4);c.appendChild(this.Z_.n);this.BC=I._("div");
this.BC.setAttribute("style","width:18em;");c.appendChild(this.BC);this.a6P=new gJ("Hi",!0);this.BC.appendChild(this.a6P.n);
this.xz=I._("div","scrollable");this.BC.appendChild(this.xz);this.m3=[new dr("Temperature",-100,100),new dr("Tint",-100,100),new dr([4,3],-4,4,null,!0),new dr([12,3,0],-100,100),new dr([4,4],-100,100),new dr([12,9],-100,100)];
this.mj="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var y=0;y<this.m3.length;y++){var z=this.m3[y];
z.T(0);z.k(w.E.p,this.nF,this);this.xz.appendChild(z.n);if(y==1||y==3)this.xz.appendChild(I._("hr"))}};
dD["Adobe Camera Raw Filter"].prototype=new dD;dD["Adobe Camera Raw Filter"].prototype.l1=function(){return!0};
dD["Adobe Camera Raw Filter"].prototype.TI=function(K){this.BC.appendChild(K)};dD["Adobe Camera Raw Filter"].prototype.fL=function(K,o){this.Z_.Nh(j1.YA[K.fi]["--text-color"])};
dD["Adobe Camera Raw Filter"].prototype.T=function(K,o,Y,c,z){this.Ea=K;var f=Y.m,$=Y.e,E=f*$;this.a6P.T(f+" x "+$+", "+(f*$/1e6).toFixed(1)+" MPx");
this.jP=Y;this.rv=new Float32Array(f*$*3);this.eY=new Uint8Array(f*$*4);this.eY.fill(255);if(o instanceof Float32Array)this.Ko=o;
else{var b=this.Ko=new Float32Array(f*$*3);for(var y=0;y<E;y++){var q=y*3,O=y*4;b[q+0]=o[O+0]*(1/255);
b[q+1]=o[O+1]*(1/255);b[q+2]=o[O+2]*(1/255)}}this.vs=[{y3:this.Ko,rect:Y.clone()}];this.y2=1e3;var j=this.Ko;
while(f>1&&$>1){var A=f,R=A*3;f=f>>>1;$=$>>>1;var g=j,j=new Float32Array(f*$*3);this.vs.push({y3:j,rect:new hD(0,0,f,$)});
for(var H=0;H<$;H++)for(var i=0;i<f;i++){var q=(H*f+i)*3,h=(H*2*A+i*2)*3,x=h+R;j[q]=.25*(g[h]+g[h+3]+g[h+R]+g[h+R+3]);
j[q+1]=.25*(g[h+1]+g[h+4]+g[h+R+1]+g[h+R+4]);j[q+2]=.25*(g[h+2]+g[h+5]+g[h+R+2]+g[h+R+5])}}var F=this.mj;
for(var y=0;y<F.length;y++){var X=F[y];this.m3[y].T(K[X]?K[X].v:0)}this.q2.T([{eQ:Y,data:this.eY.buffer}]);
this.q2.Dj();this.nF(null)};dD["Adobe Camera Raw Filter"].prototype.h=function(K){if(K){this.nF(null,!0);
return this.eY}return JSON.parse(JSON.stringify(this.Ea))};dD["Adobe Camera Raw Filter"].prototype.agP=function(){this.Ko=null;
this.rv=null;this.vs=null;this.eY=null};dD["Adobe Camera Raw Filter"].prototype.nF=function(K,o){if(K&&this.m3.indexOf(K.target)!=-1){this.y2=1e3;
var Y=this.mj;for(var y=0;y<Y.length;y++){var c=Y[y];this.Ea[c]={t:c=="Ex12"?"doub":"long",v:this.m3[y].h()}}}var z=this.q2.gW().O,f=0;
while(z*2<=1&&!o){z*=2;f++}if(this.y2<=f)return;this.y2=f;var $=this.jP,E=this.ayD(this.Ko,$,this.rv,this.Ea,this.a56,this.eY,f);
this.Z_.T(E);this.q2.T([{eQ:$,data:this.eY.buffer}])};dD["Adobe Camera Raw Filter"].prototype.ayD=function(K,o,Y,c,z,f,$){var E=K,b=Y,q=f,O=o.m,j=o.e,A=$!=0;
if(A){var R=this.vs[$];E=R.y3;O=R.rect.m;j=R.rect.e;b=new Float32Array(O*j*3);q=d.R(O*j*4)}bA(E,O,j,b,c,z);
var g=Date.now(),H=O*j;for(var y=0;y<H;y++){var i=y*3,h=y*4;q[h+0]=~~(.5+b[i+0]*255);q[h+1]=~~(.5+b[i+1]*255);
q[h+2]=~~(.5+b[i+2]*255);q[h+3]=255}console.log(Date.now()-g,"integer conversion");g=Date.now();var x=d.$w(q,Math.max(1,Math.floor(H/2e5)));
console.log(Date.now()-g,"histogram done");g=Date.now();if(A){var F=new Uint32Array(q.buffer),X=new Uint32Array(f.buffer),V=o.m,U=o.e;
for(var Z=0;Z<U;Z+=2)for(var T=0;T<V;T+=2){var i=Z*V+T,v=F[(Z>>>$)*O+(T>>>$)];X[i]=v;X[i+1]=v;X[i+V]=v;
X[i+V+1]=v}console.log(Date.now()-g,"upscale");g=Date.now()}return x};dD["Adobe Camera Raw Filter"].prototype.Fx=function(K,o){this.aBV=K-248;
this.a4A=o;this.q2.Fx(this.aBV,this.a4A);this.xz.style.height=o-236+"px"};dD["Adobe Camera Raw Filter"].prototype.t=function(){for(var y=0;
y<this.m3.length;y++)this.m3[y].t()};dD.VaPo=function(){dD.call(this,"VaPo");this.f=-1;this.Ce=null;
this.SG=!1;this.Jq=null;this.cP=null;this.P2=null;this.nC=null;this.KF=null;this.t7=null;this.yb=null;
this.aa=null;this.LO=null;this.JF=null;this.MO=null;this.U6=[];this.Dg=-1;this.Y=null;this.q={yw:[[{f:{id:0,name:"Move",hF:"tools/move"}}],[{f:{id:1,name:"Create Plane",hF:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",hF:"tools/rselect"}}],[{f:{id:3,name:"Stamp",hF:"tools/clone"}}],[{f:{id:4,name:"Brush",hF:"tools/brush"}}],[{f:{id:5,name:"Transform",hF:"tools/transform"}}],[{f:{id:6,name:"Hand",hF:"tools/hand"}}],[{f:{id:7,name:"Zoom In",hF:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",hF:"zoomOut"}}]],keys:[a1.MD,a1.bY,a1.$L,a1.rQ,a1.Wi,a1.DM,a1.y$,a1.VI]};
this.NY=new hi(this.q,!1);this.NY.k(w.E.L,this.lh,this);this.uy=null;this.jP=null;this.Nu=null;this.at7=null;
this.hO=null;this.kF=null;var K=I._("div","flexrow"),c=0;this.Ek=K;this.n.appendChild(K);K.appendChild(this.NY.n);
var o=I._("div");K.appendChild(o);var top=I._("div","form");o.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.zu=I._("span");top.appendChild(this.zu);this.Z0=[[new h5([12,80,5],1,1e3)],[new h5([7,6],0,30)],[new h5([12,14],1,200),new h5([12,17],0,100),new h5([12,0],0,100),new bb([12,75])],[new h5([12,14],1,200),new h5([12,17],0,100),new h5([12,0],0,100),new gK],[new bb("Flip"),new bb("Flop")],[]];
var Y=[100,0,100,100,100,!1,100,100,100,JSON.parse(eF.tG.$k.slice(6)).v];this.gz=[];for(var y=0;y<6;
y++){var z=I._("span"),f=this.Z0[y];this.gz.push(z);for(var $=0;$<f.length;$++){var E=f[$];E.parent=this;
E.T(Y[c++]);E.k(w.E.p,this.arR,this);z.appendChild(E.n)}}this.KS=I._("div");this.KS.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.KS);this.view=new kB(!0);this.view.Fx(100,100);this.view.RL("auto");this.view.k("mousedown",this.dl,this);
this.view.k("mousemove",this.iM,this);this.view.k("mouseup",this.hz,this);I.TG(this.view.V,this.G4.bind(this));
o.appendChild(this.view.n)};dD.VaPo.prototype=new dD;dD.VaPo.prototype.l1=function(){return!0};dD.VaPo.prototype.TI=function(K){this.KS.appendChild(K)};
dD.VaPo.prototype.arR=function(K){if(K.target==this.Z0[0][0]){var o=this.S6(),Y=K.target.h();for(var y=0;
y<this.Y.length;y++)if(this.Y[y].length!=0&&o[y])o[y][0]=Y;this.sS(o)}if(this.f==5){this.uy=this.hu();
this.nF(!0)}this.nF()};dD.VaPo.prototype.Ed=function(K){var o=this.f,Y=this.cP;if(o==3||o==4){var c=this.Z0[o-1],z=iO.EL(),f=z.Brsh.v;
f.Dmtr.v.val=c[0].h();f.Hrdn.v.val=c[1].h();z=m.oC.kr(z,K);if(z){f=z.Brsh.v;c[0].T(f.Dmtr.v.val);c[1].T(f.Hrdn.v.val)}this.WJ()}if(o==1&&Y&&(K.S(a1.v1)||K.S(a1.QC))){Y.pop();
Y.pop();if(Y.length==0)Y=this.cP=null;this.nF()}function $(O,y,g){d.iF(O[y],O[0],g.Nu,g.jP);g.Va(O[0])}this.Jq=K;
if(o<6)this.view.Ed(K);var E=K.S(a1.rK);if(E){var b=this.Dg,q=0;if(K.S(a1.VI)){if(K.S(a1.jR))q=1;else q=-1}else if(K.S(a1.QR))q=1;
if(q!=0&&o!=5){console.log(this.Dg,q,this.U6);var O=this.U6[this.Dg],j=!1;if(O.length==3&&q==-1){$(O,1,this);
j=!0}b+=q;this.Dg=Math.max(0,Math.min(this.U6.length-1,b));O=this.U6[this.Dg];if(O.length==3&&q==1){$(O,2,this);
j=!0}this.nF(j)}if(K.S(a1.MD)){if(I.ql())jm.aCW(this.cI.bind(this))}if(K.S(a1.dc)){this.KF=null;this.nF()}}else{var A=this.q.keys;
for(var y=0;y<A.length;y++)if(K.S(A[y]))this.k5(y)}if(K.S(a1.QC)||K.S(a1.v1)){var R=this.S6();R=d.jr.aAZ(R,this.Y);
this.Y=[];for(var y=0;y<R.length;y++)this.Y[y]=[];this.sS(R);this.nF()}};dD.VaPo.prototype.cI=function(K){if(K=="granted")jm.YD(this,this.gu.bind(this))};
dD.VaPo.prototype.gu=function(K,o){if(this.nC==null)this.nC=[0,0];if(this.f==5)this.k5(0);this.k5(5,{r4:K,oJ:o})};
dD.VaPo.prototype.lh=function(K){if(K.data.d==w.I.NR){this.k5(K.data.f)}};dD.VaPo.prototype.aoo=function(K){var o=this.view.rB(K),Y=d.jr.ni(this.S6(),this.Y),c=1e9,z=0;
for(var y=0;y<Y.length;y++){var f=Y[y][0],$=o.x-f[0],E=o.y-f[1],b=Math.sqrt($*$+E*E);if(b<c){c=b;z=y}}if(c>4*I.GR()/this.view.gW().O)return null;
return Y[z]};dD.VaPo.prototype.G4=function(K){var o=this.f,Y=this.cP;if(o<2&&!this.SG){var c=this.Ce=this.aoo(K),z=this.S6(),f="auto";
if(o==0&&d.jr.EH(z,c)){var $=z[c[1]][1][c[2]],E=$[5+{1:0,5:1,7:2,3:3}[c[3]]],b=E[0],q=E[1];f=cD.afs(b[1]-q[1],-b[0]+q[0])}if(d.jr.aqg(z,c))f="crosshair";
this.view.RL(f)}if(Y){var O=this.view.rB(K),j=Y.slice(0);Y[Y.length-2]=O.x;Y[Y.length-1]=O.y;this.nF()}this.WJ(K);
if(o==5&&!this.SG&&this.z4){var O=this.view.rB(K),z=this.S6(),A=d.jr.$Y(z,O.x,O.y,this.gd());if(A){var R=new jc(A[2][0],A[2][1]),g=d.jr._S(z,z[A[0]][1][A[1]],this.gd()),H=g[1],i=d.D.P_(g[0],H),h=[H.x+H.m/2,H.y+H.e/2];
d.D.i(i,h);var x=O.x-h[0],F=O.y-h[1],X=this.z4.xC(R,this.view.gW().O,null,null,Math.atan2(-F,-x));this.view.RL(X?X:"default")}}};
dD.VaPo.prototype.WJ=function(K){var o=this.f,Y=this.Jq;if((o==3||o==4)&&!this.SG){var c=K?this.view.rB(K):this.DX,z=this.S6();
this.DX=c;if(c==null)return;var f=d.jr.$Y(z,c.x,c.y,this.gd());if(f){if(o==3&&this.MO&&this.Z0[2][3].h()){var $=new jc(f[2][0],f[2][1]);
this.JF=$.km(this.MO);this.nF()}if(o==3&&(this.JF==null||Y&&(Y.S(a1.cV)||Y.S(a1.kl)))){if(this.uy){this.kF=null;
this.Va(this.uy);this.nF(!0,this.uy)}return}this.aC_(f,this.uy)}}};dD.VaPo.prototype.gd=function(){return[this.jP.m/2,this.jP.e/2]};
dD.VaPo.prototype.dl=function(K){this.SG=!0;var o=this.f,Y=this.cP,c=this.S6(),z=this.Jq,f=this.Ce=this.aoo(null),$=this.view.rB(),E=d.jr.$Y(c,$.x,$.y,this.gd()),b=E?new jc(E[2][0],E[2][1]):null;
if(d.jr.aqg(c,f)){var q=c[f[1]][1][f[2]];c.splice(f[1],1);this.Y.splice(f[1],1);Y=d.jr.aoA(q);var O=-1,$=f[0];
for(var y=0;y<8;y+=2){var j=Y[y]-$[0],A=Y[y+1]-$[1];if(j*j+A*A<1e-5)O=y}O=O+2&7;Y=this.cP=Y.slice(O).concat(Y.slice(0,O));
this.sS(c)}else if(d.jr.EH(c,f)){if(o==1||z&&z.S(a1.rK)){c=d.jr.awc(c,f,this.gd());this.sS(c);f[2]=c[f[1]][1].length-1;
f[3]=8+(f[3]+4&7);this.Y[f[1]].push(f[2]);this.sS(c,!0);this.k5(0)}else this.sS(this.S6(c))}else if(o==0){var R=[];
for(var y=0;y<c.length;y++)R.push([]);if(E){if(z&&z.S(a1.jR))R=this.Y;var g=R[E[0]].indexOf(E[1]);if(g==-1)R[E[0]].push(E[1]);
else R[E[0]].splice(g,1)}this.Y=R;this.sS(c,!0);this.nF()}else if(o==2){if(E){var H=this.KF;if(H&&H.Tz(b)){if(z)if(z.S(a1.cV)||z.S(a1.rK)){this.k5(5);
this.dl(K);return}this.t7=new jc(b.x-H.x,b.y-H.y)}else{this.P2=E[2].concat(E[2]);this.nC=E}}}else if(o==3||o==4){if(o==3){if(z&&(z.S(a1.cV)||z.S(a1.kl))){if(E){this.JF=b;
this.aa=b.clone();this.MO=null;this.LO=E;this.nF()}else alert("You must click into a plane");this.SG=!1;
return}else if(this.JF==null){alert(ca.get([15,7,0]));this.SG=!1;return}else if(E){var i=this.MO=b.km(this.JF)}}if(E){this.aC_(E)}}else if(o==5){if(E){var h=new jc(E[2][0],E[2][1]),x=this.z4.tx({Q:this.view.gW()},{},z,h)}}};
dD.VaPo.prototype.aC_=function(K,o){var Y=this.kF;if(Y==null)this.kF=Y=d.R(this.jP.Z()*4);else Y.fill(0);
var c=this.f;this.nC=K;var z=this.Z0[c-1],f=d.af2.am3(z[0].h(),z[1].h()/100,1),$=d.R(f[1].Z()*4);d.cb(f[0],$,3);
if(c==4){var E=d.H.CK(z[3].h());d.nz($,Math.round(E.J)<<16|Math.round(E.A)<<8|Math.round(E.o)<<0,4278190080)}this.yb={ae0:f[0],r4:$,oJ:f[1]};
var b=this.uy=this.qi(K[2],K[2]),q=o?o.Bb(b):b;this.Va(q);this.nF(!0,q)};dD.VaPo.prototype.iM=function(K){var o=this.Ce,Y=this.f,c=this.S6();
if(Y==0&&d.jr.EH(c,o)){c=d.jr.awf(c,o,this.view.rB());this.sS(c,!0);this.nF()}var z=this.t7;if(Y==2&&this.SG&&(this.P2||z)){var f=this.view.rB(),$=d.jr.$Y(c,f.x,f.y,this.gd());
if($){this.nC=$;if(z){this.KF.x=$[2][0]-z.x;this.KF.y=$[2][1]-z.y}else{this.P2=this.P2.slice(0,2).concat($[2]);
this.KF=d.M.MN(this.P2)}this.nF()}}if((Y==3||Y==4)&&this.SG){var f=this.view.rB(),$=d.jr.$Y(c,f.x,f.y,this.gd());
if($){if(Y==3){var E=this.MO;this.JF=new jc($[2][0]-E.x,$[2][1]-E.y)}var b=this.qi(this.nC[2],$[2]);
this.uy=this.uy.Bb(b);this.nC=$;this.Va(b);this.nF(!0,b)}}if(Y==5&&this.SG){var f=this.view.rB(),$=d.jr.$Y(c,f.x,f.y,this.gd(),this.nC);
if($){var q=new jc($[2][0],$[2][1]);this.z4.D3({Q:this.view.gW()},{},this.Jq,q);this.nC=$;var b=this.uy;
if(b)this.Va(b);else b=new hD;this.uy=this.hu(null,null,!0);this.nF(!0,b.Bb(this.uy))}}};dD.VaPo.prototype.qi=function(K,o){K=new jc(K[0],K[1]);
o=new jc(o[0],o[1]);var Y=Math.max(1e-5,jc.si(K,o)),c=this.yb.oJ.m*.2,z=new hD;for(var f=0;f<Y;f+=c){var $=1-f/Y,E=$*K.x+(1-$)*o.x,b=$*K.y+(1-$)*o.y,q=this.yb.oJ.clone();
q.x=Math.round(E-q.m/2);q.y=Math.round(b-q.e/2);if(this.f==3){var O=this.MO;if(O==null)O=new jc(E,b).km(this.JF);
var j=this.KF=q.clone();j.x=Math.round(j.x-O.x);j.y=Math.round(j.y-O.y);var A=this.yb.ae0;this.yb=this.ayp(this.LO);
this.KF=null;d.Ym(A,this.yb.r4);this.yb.ae0=A}var R=this.hu(this.kF,q);z=z.Bb(R)}return z};dD.VaPo.prototype.hz=function(K){var o=this.Ce;
if(o&&o[3]>=8){var Y=d.jr.aw3(this.S6(),o,this.gd());this.sS(Y,!0);this.nF();alert("new plane added")}var c=this.f,z=this.cP;
if(z||c==1){var f=this.view.rB();if(z==null)z=this.cP=[f.x,f.y];if(z.length==8&&cD.Ai(z)){var Y=this.S6();
Y.push([100,[d.jr.aqR(z,this.gd())]]);this.Y.push([0]);this.sS(Y,!0);z=this.cP=null;this.k5(0);this.nF()}else if(z.length<8){z.push(f.x,f.y);
if(z.length==8&&!cD.Ai(z)){var $=z[0],E=z[1];z[0]=z[4];z[1]=z[5];z[4]=$;z[5]=E}}}var b=this.P2;if(c==2&&b&&b[0]==b[2]&&b[1]==b[3]){this.KF=null;
this.nF()}if((c==3||c==4)&&this.SG){if(c==3&&!this.Z0[2][3].h()&&this.aa){this.JF=this.aa.clone();this.nF()}this.sS();
this.kF=null}if(!this.Z0[2][3].h())this.MO=null;this.SG=!1;this.t7=null;this.P2=null};dD.VaPo.prototype.k5=function(K,o){if(K==this.f)return;
var Y=this.uy,z=6;if(this.f==5){this.sS();this.Va(Y);this.z4=null;this.nF()}if(this.f==3||this.f==4){this.kF=null;
if(Y)this.Va(Y);this.nF(!0,Y)}if(K==5){if(o==null&&this.KF==null){alert("Select the area to be transformed");
return}this.a6Y(o)}if(K>1){var c=this.S6();this.i9();this.sS(c,!0);this.nF()}this.view.Ed(K>=z?kB.EP(K-z):new a1);
if(K<z)this.view.RL("auto");this.f=K;this.NY.k5(K);I.oA(this.zu);var f={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[K];
this.zu.appendChild(this.gz[f])};dD.VaPo.prototype.S6=function(){var y=this.Dg,K=this.U6;while(K[y].length==3)y--;
var o=K[y];this.Y=JSON.parse(o[1]);return JSON.parse(o[0])};dD.VaPo.prototype.sS=function(K,o){if(K==null&&this.uy==null)return;
var Y=this.U6,c=this.Dg,y=c;while(y>=0&&Y[y].length==3)y--;if(o==null)this.Dg=c=c+1;if(K!=null)Y[o?y:c]=[JSON.stringify(K),JSON.stringify(this.Y)];
else{var z=this.jP,f=this.uy,$=d.R(f.Z()*4),E=d.R(f.Z()*4);Y[c]=[f,$,E];d.iF(this.Nu,z,$,f);if(this.kF)d.l.To("norm",this.kF,z,this.Nu,z,z,this.a7C());
else this.hu(this.Nu);d.iF(this.Nu,z,E,f);this.uy=null}while(Y.length!=c+1)Y.pop()};dD.VaPo.prototype.a7C=function(){return this.Z0[this.f-1][2].h()/100};
dD.VaPo.prototype.i9=function(K,o){if(K==null)K=this.S6();this.Y=[];for(var y=0;y<K.length;y++){var Y=[];
this.Y.push(Y);if(o)for(var c=0;c<K[y][1].length;c++)Y.push(c)}};dD.VaPo.prototype.T=function(K,o,Y,c,z,f){var $=JSON.parse(JSON.stringify(f[2].jr));
this.Dg=-1;this.i9($);this.sS($);var E=d.R(c.Z()*4);d.iF(o,Y,E,c);this.aje=new hD;this.jP=c;this.at7=z;
this.Nu=E;this.hO=z.slice(0);this.Va(c);this.nF(!0);this.view.Dj();this.k5(0)};dD.VaPo.prototype.a6Y=function(K){this.yb=K?K:this.ayp();
var o=d.M.Yq(this.yb.oJ).z;if(K){var Y=this.S6(),c=d.jr._S(Y,Y[0][1][0],this.gd()),z=c[1],f=Math.min(z.m/K.oJ.m,z.e/K.oJ.e)*.9;
if(f<1)d.M.i(o,new dF(f,0,0,f,0,0),o)}this.z4=new cD(o,!0,!0);this.KF=null;this.uy=this.hu();this.nF(!0)};
dD.VaPo.prototype.ayp=function(K){var o=this.jP,Y=d.M.tS(this.KF),c=this.S6(),z=d.R(Y.Z()*4);if(K==null)K=this.nC;
var f=c[K[0]][1],$=d.jr.lx(c[K[0]][1],K[1],Y,this.gd());for(var E=0;E<$.length;E++){var b=f[$[E]],q=d.jr._S(c,b,this.gd()),O=q[0],j=q[1],A=j.wu(Y);
if(A.xf())continue;A=d.M.tS(A);var R=d.R(A.Z()*4),g=d.D.P_(O,j);g=d.D.mL([1/o.m,0,0,0,1/o.e,0,0,0],g);
g=d.D.oD(g);d.D.drawImage(g,this.hO,o.m,o.e,R,A);d.iF(R,A,z,Y)}var H=this.Z0[1][0].h(),i=Math.round(H*1.4),h=Y.clone();
h.VC(-i,-i);var x=d.R(h.Z());x.fill(255);var F=d.R(Y.Z());d.u_(x,h,F,Y);var X=d.R(Y.Z());d.Gq.r5(F,X,Y,H);
d.JI(z,F,3);d.dP.wu(F,X,X);d.cb(X,z,3);return{r4:z,oJ:Y}};dD.VaPo.prototype.Va=function(K,o){var Y=this.jP;
d.iF(this.at7,Y,this.hO,Y,K);d.l.To("norm",this.Nu,Y,this.hO,Y,K,1);if(this.kF)d.l.To("norm",this.kF,Y,this.hO,Y,K,this.a7C())};
dD.VaPo.prototype.hu=function(K,o,Y){var c=this.yb,z=c.oJ,f=this.jP,$,E=o?d.M.Yq(o).z:this.z4.ni(),b=d.M.OA(E),$=d.D.P_(E,z),q=this.Z0[4],O=new dF;
if(q[0].h()){O.g=-1;O.B3=2*z.x+z.m}if(q[1].h()){O.gG=-1;O.Z7=2*z.y+z.e}$=d.D.mL($,d.D.lK(O));function j(N,W){N.beginPath();
N.moveTo(W[0],W[1]);for(var y=1;y<4;y++)N.lineTo(W[y*2],W[y*2+1]);N.closePath()}var A=this.S6(),R=d.jr.lx(A[this.nC[0]][1],this.nC[1],b,this.gd()),g=A[this.nC[0]][1],H=new hD;
for(var i=0;i<R.length;i++){var h=g[R[i]],x=d.jr._S(A,h,this.gd()),F=x[0],X=x[1],V=X.wu(b);if(this.KF)V=V.wu(this.KF);
if(V.xf())continue;var U=d.D.P_(F,X),Z=d.M.Yq(V).z;d.D.i(U,Z);var T=E.slice(0);d.D.i(U,T);var v=d.M.MN(T).wu(d.M.MN(Z)),P=v.m,p=v.e;
if(v.xf())continue;U=d.D.mL(d.D.mL(U,$),[z.m,0,z.x,0,z.e,z.y,0,0]);var a=d.R(v.Z()*4);d.D.drawImage(U,c.r4,z.m,z.e,a,v,Y);
if(V.Z()!=b.Z()){var D=d.oN(P,p);D.save();D.clearRect(0,0,P,p);D.translate(-v.x,-v.y);j(D,Z);D.clip();
j(D,T);D.fill();D.restore();var n=new Uint8Array(D.getImageData(0,0,P,p).data.buffer);for(var y=3;y<a.length;
y+=4)if(n[y]<a[y])a[y]=n[y]}d.l.To("norm",a,v,K?K:this.hO,f,v,1);H=H.Bb(v)}return H};dD.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.S6()))};
dD.VaPo.prototype.acH=function(){if(this.f==5)this.k5(0);var K=new hD,o=this.U6;for(var y=0;y<=this.Dg;
y++)if(o[y].length==3)K=K.Bb(o[y][0]);var Y=d.R(K.Z()*4);d.iF(this.Nu,this.jP,Y,K);return[Y,K]};dD.VaPo.prototype.Fx=function(K,o){this.NY.Fx(K,o);
this.view.Fx(K-40,o-30)};dD.VaPo.prototype.t=function(){this.NY.t();for(var y=0;y<this.Z0.length;y++)for(var K=0;
K<this.Z0[y].length;K++)this.Z0[y][K].t()};dD.VaPo.prototype.nF=function(K,o){var Y=this.jP,c=[],z=[],f=[],$=this.S6(),E=d.jr.ni($,this.Y),b=0,q=null,i=null,h=null,x=null;
for(var y=0;y<E.length;y++)f.push(E[y][0][0],E[y][0][1]);for(var y=0;y<$.length;y++){var O=this.Y[y].length;
b+=O;if(O!=0)q=[y,this.Y[y][0]]}var j=this.Z0[0][0];j.W6(b!=0);if(b!=0)j.T(Math.round($[q[0]][0]));if(b==1){var A=$[q[0]][1]}var R=[];
if(this.KF&&$[this.nC[0]])R=d.jr.lx($[this.nC[0]][1],this.nC[1],this.KF,this.gd());var g=[];if(this.z4){g=this.z4.ax6();
g[4]=this.z4.Dd()}var H=[];if(this.z4&&$[this.nC[0]])H=d.jr.lx($[this.nC[0]][1],this.nC[1],d.M.MN(this.z4.ni()),this.gd());
for(var F=0;F<$.length;F++){var X=$[F][0],A=$[F][1],V=this.Y[F];for(var U=0;U<A.length;U++){var q=A[U],Z=d.jr._S($,q,this.gd()),T=Z[0],Y=Z[1],v=d.D.P_(T,Y);
if(Y.xf()){if(h==null)h={G:[],z:[]};d.M.concat(h,{G:["M","L","L","L","Z"],z:T});continue}var P=d.M.Yq(Y),p=P.z,a=P.G,D=this.JF;
if(D&&Y.Tz(D)&&this.LO&&this.LO[0]==F){i=[D.x,D.y];d.D.i(v,i)}if(R.indexOf(U)!=-1){var n=this.KF.wu(Y);
if(F==this.nC[0]&&!n.xf()){if(x==null)x={z:[],G:[]};var N=d.M.Yq(n);d.D.i(v,N.z);d.M.concat(x,N)}}if(H.indexOf(U)!=-1&&F==this.nC[0]){var W=[];
for(var y=0;y<g.length;y++)if(Y.Tz(g[y]))W.push(g[y].x,g[y].y);if(W.length!=0){d.D.i(v,W);f=f.concat(W)}}if(V&&V.indexOf(U)!=-1){var G=Math.ceil(Y.x/X)*X,l=Y.x+Y.m,u=Math.ceil(Y.y/X)*X,e=Y.y+Y.e;
for(var M=G;M<l;M+=X){p.push(M,Y.y,M,e);a.push("M","L")}for(var B=u;B<e;B+=X){p.push(Y.x,B,l,B);a.push("M","L")}}d.D.i(v,p);
c=c.concat(a);z=z.concat(p)}if(i&&this.f==3){var M=i[0],B=i[1],s=10/this.view.gW().O;z.push(M-s,B,M+s,B);
z.push(M,B-s,M,B+s);c.push("M","L","M","L")}}var T=this.cP,Y=this.jP;if(T){var t=["M"];for(var y=0;y<T.length-2;
y+=2)t.push("L");t.push("Z");var J=m.XX.Gd(T,Y.m/2,Y.e/2);if(isNaN(J)||J==Infinity||J==-Infinity||!cD.Ai(T)){if(h==null)h={G:[],z:[]};
d.M.concat(h,{G:t,z:T})}else{z=z.concat(T);c=c.concat(t)}}var L={AE:{G:c,z:z},ask:h,akU:x,HJ:f,Sb:null};
if(K){this.view.T([{eQ:Y,data:this.hO.buffer}],null,L,o)}else this.view.a0F(L)};dD.blnc=function(){dD.call(this);
var K=this.n;this.JB=null;this.ob=new bY([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.ob.k(w.E.p,this.nF,this);
K.appendChild(this.ob.n);this.kH=[];for(var y=0;y<3;y++){var o=new dr(["VAR0 - VAR1",jh.aCg[y],jh.gj[y]],-100,100);
o.k(w.E.p,this.je,this);this.kH.push(o);K.appendChild(o.n)}this.lg=new bb([13,4]);this.lg.k(w.E.p,this.je,this);
K.appendChild(this.lg.n)};dD.blnc.prototype=new dD;dD.blnc.prototype.t=function(){this.ob.t();for(var y=0;
y<3;y++)this.kH[y].t();this.lg.t()};dD.blnc.prototype.T=function(K){this.JB=JSON.parse(JSON.stringify(K));
this.nF()};dD.blnc.prototype.h=function(K){var o=["ShdL","MdtL","HghL"],Y=this.JB[o[this.ob.h()]].v;
for(var y=0;y<3;y++)Y[y].v=this.kH[y].h();this.JB.PrsL.v=this.lg.h();return JSON.parse(JSON.stringify(this.JB))};
dD.blnc.prototype.nF=function(K){var o=["ShdL","MdtL","HghL"],Y=this.JB[o[this.ob.h()]].v;for(var y=0;
y<3;y++)this.kH[y].T(Y[y].v);this.lg.T(this.JB.PrsL.v)};dD.brit=function(){dD.call(this,"brit");this.lS.push(new dr([12,2],-150,150,""));
this.lS.push(new dr([12,3,0],-100,100,""));this.lS.push(new bb([12,3,1]));this.JC()};dD.brit.prototype=new dD;
dD.curv=function(){dD.call(this);this.value=null;this.SY=null;this.Bk=null;var K=this.n;this.zO=new bY("Preset",["basic","advanced"]);
this.zO.k(w.E.p,this.aCG,this);K.appendChild(this.zO.n);I.Tg(K);this._J=new bY([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this._J.k(w.E.p,this.Bf,this);K.appendChild(this._J.n);this.MC=new bY(null,["Spline","Sketch"]);this.MC.k(w.E.p,this.aCG,this);
K.appendChild(this.MC.n);this.gU=new cy;this.gU.parent=this;this.gU.k(w.E.p,this.LT,this);K.appendChild(this.gU.n);
I.Tg(K);this.Cm=new cm;this.Cm.k(w.E.p,this.$W,this);K.appendChild(this.Cm.n);this.W9=null;this.a5D=0;
this.C7=0;I.Tg(K);this.cH=new i1("Sample from image",hQ.jO(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.cH.k(w.E.p,this.Jf,this);this.cH.n.style.marginRight="0";K.appendChild(this.cH.n)};dD.curv.prototype=new dD;
dD.curv.prototype.fL=function(K,o){if(o==bB.tk||o==bB.Cw){var Y=K.LU,c=["Default"];for(var y=0;y<Y.length;
y++)c.push(Y[y].presetFileName.v);c.push("Custom");this.zO.Xs(c,[1,Y.length,1]);this.Bk=K}};dD.curv.prototype.Fx=function(K,o){this.Cm.Fx(K,o)};
dD.curv.prototype.t=function(){this._J.t();this.Cm.t()};dD.curv.prototype.c6=function(){this.zO.T(this.Bk.LU.length+1)};
dD.curv.prototype.aCG=function(K){if(K.target==this.zO){var o=this.zO.h(),Y=this.Bk.LU,c;if(o==0)c=fn.Ta("curv");
else if(o-1<Y.length)c=JSON.parse(JSON.stringify(Y[o-1]));else return;this.T(c);this.je();return}this.c6();
var z=fK.Yb(this.value,0),f=z.length==256?1:0,$=this.MC.h();if(f==$)return;var c=fn.Ta("curv");if($==1){var E=[];
for(var y=0;y<256;y++)E.push(y);fK.ef(c,0,E)}this.T(c);this.je()};dD.curv.prototype.$W=function(){this.c6();
fK.ef(this.value,this._J.h(),this.Cm.h());this.je()};dD.curv.prototype.Bf=function(){var K=this._J.h(),o=fK.Yb(this.value,K),Y=o.length==256?1:0;
this.MC.T(Y);if(this.SY)this.Cm.rW(this.SY[K],this.SY[4]*[1,.33,.33,.33][K],["#ccc","#fcc","#cfc","#ccf"][K]);
this.Cm.T(o)};dD.curv.prototype.t1=function(){return!0};dD.curv.prototype.tx=function(K,o,Y,c,z){var f=this.value;
this.value=fn.Ta("curv");this.je();var $=m.XV.wD(K,z,1,null,!0),E=this.W9=[$>>>16&255,$>>>8&255,$&255];
this.a5D=z.y;var b=this.cH.h().indexOf(!0);if(b==0){var q=(E[0]+E[1]+E[2])/3,O=this._J.h(),j=fK.Yb(f,O),A=O==0?q:E[O-1],R=-1;
for(var y=0;y<j.length;y++)if(j[y].v.Hrzn.v==A)R=y;if(R==-1){var g=JSON.parse(JSON.stringify(j[0]));
g.v.Hrzn.v=A;g.v.Vrtc.v=A;j.push(g);j.sort(function(H,i){return H.v.Hrzn.v-i.v.Hrzn.v});fK.ef(f,O,j);
this.C7=j.indexOf(g)}else this.C7=R}this.T(f);this.je()};dD.curv.prototype.D3=function(K,o,Y,c,z){if(this.W9==null)return;
if(this.cH.h().indexOf(!0)==0){var f=this.value,$=this._J.h(),E=fK.Yb(f,$),b=E[this.C7];b.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(b.v.Hrzn.v+(this.a5D-z.y))));
fK.ef(f,$,E);this.T(f);this.je()}};dD.curv.prototype.pt=function(K,o,Y,c,z){var f=this.value,$=this.W9,E=($[0]+$[1]+$[2])/3,b=this.cH.h().indexOf(!0)-1;
if(b<=-1){}else for(var y=0;y<3;y++){var q=fK.Yb(f,1+y);if(b==0)q[0].v.Hrzn.v=$[y];if(b==1){var O=Math.log($[y]/255)/Math.log(E/255),j=Math.min(999,Math.max(10,Math.round(100*O)));
if(q.length==2)q.splice(1,0,JSON.parse(JSON.stringify(q[0])));q[1].v.Hrzn.v=127-Math.log(j/100)*127;
q[1].v.Vrtc.v=127}if(b==2)q[q.length-1].v.Hrzn.v=$[y];fK.ef(f,1+y,q)}this.T(f);this.je();this.c6();this.W9=null};
dD.curv.prototype.T=function(K){this.value=K;this.Bf()};dD.curv.prototype.rW=function(K){this.SY=K;this.Bf()};
dD.curv.prototype.h=function(K){return JSON.parse(JSON.stringify(this.value))};dD.curv.prototype.LT=function(){var K=this.gU.h(),o=this.SY,Y=this.value,c=d.pG(K,o);
for(var y=0;y<4;y++){var z=c[y][0],f=c[y][1],$=c[y][2],E=[d.nA.JK(z,0,!0),d.nA.JK(f,255,!0)];if($!=null)E.splice(1,0,d.nA.JK(128,$,!0));
fK.ef(Y,y,E)}this.Bf();this.je()};dD.expA=function(){dD.call(this,"expA");this.lS.push(new dr([12,5],-20,20,null,2,!0));
this.lS.push(new dr([12,6],-.5,.5,null,2));this.lS.push(new dr([12,7],.01,9.99,null,2,!0));this.JC()};
dD.expA.prototype=new dD;dD.expA.prototype.py=function(K,o){o[0]=K.Exps.v;o[1]=K.Ofst?K.Ofst.v:0;o[2]=K.gammaCorrection?K.gammaCorrection.v:1};
dD.expA.prototype.RJ=function(K,o){K.Exps={t:"doub",v:o[0]};K.Ofst={t:"doub",v:o[1]};K.gammaCorrection={t:"doub",v:o[2]}};
dD.grdm=function(){dD.call(this,"grdm");this.lS.push(new cB(!0,null,!0));this.lS.push(new bb([12,23,0]));
this.JC()};dD.grdm.prototype=new dD;dD.grdm.prototype.py=function(K,o){o[0]=K.Grad.v;o[1]=K.Rvrs?K.Rvrs.v:!1};
dD.grdm.prototype.RJ=function(K,o){K.Grad.v=o[0];K.Rvrs={t:"bool",v:o[1]}};dD.grdm.prototype.fL=function(K,o){this.lS[0].xN(K.qm,K.YQ);
if(o==bB.tk||o==bB.R8||o==bB.ne)this.lS[0].nn(K.aq)};dD.selc=function(){dD.call(this);var K=this.n;this.Rb=[];
this.Zg=null;this.ob=new bY([12,82],jh.Jn.concat([[13,1,8],[13,1,13],[13,1,10]]));this.ob.k(w.E.p,this.Jr,this);
K.appendChild(this.ob.n);I.Tg(K);for(var y=0;y<4;y++){var o=new dr(jh.aCg[y],-100,100,"%");o.k(w.E.p,this.Jr,this);
this.Rb.push(o);K.appendChild(o.n)}this.Qa=new bb([13,3]);K.appendChild(this.Qa.n);this.Qa.k(w.E.p,this.Jr,this)};
dD.selc.prototype=new dD;dD.selc.prototype.t=function(){this.ob.t();this.Qa.t();for(var y=0;y<4;y++)this.Rb[y].t()};
dD.selc.prototype.T=function(K){this.Zg=JSON.parse(JSON.stringify(K));this.nF()};dD.selc.prototype.h=function(K){return JSON.parse(JSON.stringify(this.Zg))};
dD.selc.prototype.Jr=function(K){if(K.target!=this.ob){var o=this.Zg,Y=[];for(var y=0;y<4;y++)Y[y]=this.Rb[y].h();
hX.ef(o,this.ob.h(),Y);o.Mthd={t:"enum",v:{CrcM:this.Qa.h()?"Absl":"Rltv"}}}this.nF();this.je()};dD.selc.prototype.nF=function(){var K=this.Zg,o=hX.Yb(K,this.ob.h());
for(var y=0;y<4;y++)this.Rb[y].T(o[y]);this.Qa.T(K.Mthd?K.Mthd.v.CrcM=="Absl":!1)};dD.blwh=function(){dD.call(this,"blwh");
this.lS.push(new bb([12,11]));this.lS.push(new gK(!0));for(var y=0;y<6;y++)this.lS.push(new dr(jh.Jn[y],-200,300));
this.JC()};dD.blwh.prototype=new dD;dD.blwh.prototype.py=function(K,o){o[0]=K.useTint.v;o[1]=K.tintColor.v;
var Y="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var y=0;y<6;y++)o[2+y]=K[Y[y]].v};dD.blwh.prototype.RJ=function(K,o){K.useTint.v=o[0];
K.tintColor.v=o[1];var Y="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var y=0;y<6;y++)K[Y[y]].v=o[2+y]};
dD.hue2=function(){dD.call(this);this.value=null;this.k_=null;this.ai5=null;this._f=[[0,0,0],[0,50,0]];
var K=this.n;this.cH=new i1(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.cH.k(w.E.p,this.adt,this);this.cH.k(w.E.p,this.Jf,this);K.appendChild(this.cH.n);var o=this.lS=[new bY([12,12],["Master"].concat(jh.Jn)),new dr([12,8],-180,180),new dr([12,9],-100,100),new dr([12,10],-100,100),new bb([12,11])];
for(var y=0;y<o.length;y++){var Y=o[y];Y.k(w.E.p,y==0?this.Bf:this.am2,this);K.appendChild(Y.n)}this.ob=o[0];
this.AS=o[1];this.yc=o[2];this.tR=o[3];this.PH=o[4];this.aM=new i1("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.aM.k(w.E.p,this.adt,this);this.aM.k(w.E.p,this.Jf,this);this.aM.n.style.marginLeft="20px";K.appendChild(this.aM.n);
this.Xt=I._("div");K.appendChild(this.Xt);this.P0=this.v0.bind(this);this.BR=this.V5.bind(this);this.V=I._("canvas");
this.$F=this.V.getContext("2d");this.lr=null;I._I(this.V);I.AU(this.V,282,18);K.appendChild(this.V);
I.Xh(this.V,this.nO.bind(this))};dD.hue2.prototype=new dD;dD.hue2.prototype.Fx=function(K,o){I.AU(this.V,Math.round(K),18);
if(this.value)this.Bf()};dD.hue2.prototype.adt=function(K){var o=K.target.h().indexOf(!0);if(o==-1)return;
if(K.target==this.cH)this.aM.T([!1,!1,!1]);else this.cH.T([!1,!1,!1])};dD.hue2.prototype.nO=function(K){if(this.ob.h()==0||this.PH.h())return;
var o=I._9(K,this.V).x/(this.V.width/I.GR()),f=1e6;function Y(j,A,R){return j<A&&A<R||R<j&&(j<A||A<R)}var c=this.Jt(),z=-1;
for(var y=0;y<4;y++){var $=Math.abs(o-(c[y]+y*1e-5));if($<f){f=$;z=y}}if(f>.025){z=-1;var E=c[0],b=c[1],q=c[2],O=c[3];
if(Y(E,o,b))z=4;if(Y(b,o,q))z=5;if(Y(q,o,O))z=6}if(z==-1)return;this.lr=z;I.TG(document.body,this.P0);
I.HX(document.body,this.BR)};dD.hue2.prototype.v0=function(K){var o=I._9(K,this.V).x/(this.V.width/I.GR()),Y=this.Jt(),c=this.lr;
for(var y=1;y<4;y++)if(Y[y]<Y[y-1]){Y[y]+=1}if(c<4){var z=1e6,f=0;for(var y=-20;y<20;y++){var $=Math.abs(Y[c]-(o+y));
if($<z){z=$;f=y}}o+=f;Y[c]=o;for(var y=c+1;y<4;y++)if(Y[y]<Y[y-1]){Y[y]=Y[y-1]}for(var y=c-1;y>=0;y--)if(Y[y]>Y[y+1]){Y[y]=Y[y+1]}}else{var E=o-(Y[c-4]+Y[c-3])/2;
if(E<-.5)E+=1;if(c==4){Y[0]+=E;Y[1]+=E;Y[2]=Math.max(Y[1],Y[2]);Y[3]=Math.max(Y[1],Y[3])}if(c==5)for(var y=0;
y<4;y++)Y[y]+=E;if(c==6){Y[2]+=E;Y[3]+=E;Y[0]=Math.min(Y[0],Y[2]);Y[1]=Math.min(Y[1],Y[2])}}for(var y=1;
y<4;y++)if(Y[y]<Y[y-1])throw"e";this.anF(Y);this.Bf();this.je()};dD.hue2.prototype.V5=function(K){I.oH(document.body,this.P0);
I.O1(document.body,this.BR)};dD.hue2.prototype.t=function(){for(var y=0;y<this.lS.length;y++)this.lS[y].t()};
dD.hue2.prototype.am2=function(K){var o=this.value.Clrz.v=this.PH.h();if(o)this.ob.T(0);if(K&&K.target==this.PH){var Y=o?1:0;
this._f[1-Y]=bh.Yb(this.value,0);var c=this._f[Y];bh.ef(this.value,0,c);if(this.ob.h()==0){this.AS.T(c[0]);
this.yc.T(c[1]);this.tR.T(c[2])}}var z=this.ob.h(),f=bh.Yb(this.value,z),c=z==0?f:f.kH;c[0]=this.AS.h();
var $=this.yc.h();c[1]=o?Math.max(0,$):$;c[2]=this.tR.h();bh.ef(this.value,z,f);this.Bf();this.je()};
dD.hue2.prototype.Bf=function(){var K=this.ob.h(),o=this.value.Clrz?this.value.Clrz.v:!1;this.PH.T(o);
this.ob.W6(!o);this.aM.W6(!o&&K!=0);var Y=bh.Yb(this.value,K),c=K==0?Y:Y.kH;this.AS.T(c[0]);this.yc.T(c[1]);
this.tR.T(c[2]);var z=this.V.width,f=this.V.height,$=this.$F;$.clearRect(0,0,z,f);if(o||K==0){this.Xt.innerHTML="";
return}var E=Y.Wg;this.Xt.innerHTML=E[0]+"\xB0 / "+E[1]+"\xB0<span style=\"float:right\">"+E[2]+"\xB0 \\ "+E[3]+"\xB0</span>";
var b=d.R(z*4);f2.auh(b,1,z,-1,.5);var q=new ImageData(new Uint8ClampedArray(b.buffer),z,1),O=Math.round(f/4);
for(var y=0;y<O;y++)$.putImageData(q,0,y);function j(h,x,F){$.fillStyle=F;var X=O*2;if(h<=x)$.fillRect(h*z,X,(x-h)*z,O);
else{$.fillRect(0,X,x*z,O);$.fillRect(h*z,X,(1-h)*z,O)}}var A=this.Jt();j(A[0],A[1],"#888888");j(A[1],A[2],"#cccccc");
j(A[2],A[3],"#888888");$.fillStyle="#ffffff";$.lineWidth=1;$.beginPath();var R=O+.5,g=4*O+.5;for(var y=0;
y<4;y++){var H=Math.floor(z*A[y])+.5,i=(y<2?-1:1)*O*(y==1||y==2?1:2);$.moveTo(H,R);$.lineTo(H,g);$.lineTo(H+i,g);
$.lineTo(H+i,O+O+.5);$.closePath()}$.fill();$.stroke()};dD.hue2.prototype.Jt=function(){var K=this.ob.h(),o=bh.Yb(this.value,K).Wg;
for(var y=0;y<4;y++)o[y]=(1000.5+o[y]/360)%1;return o};dD.hue2.prototype.anF=function(K){var o=this.ob.h(),Y=bh.Yb(this.value,o);
for(var y=0;y<4;y++)Y.Wg[y]=Math.round(36e3+(K[y]-.5)*360)%360;bh.ef(this.value,o,Y)};dD.hue2.prototype.t1=function(){return!0};
dD.hue2.prototype.a51=function(){var K=this.cH.h().indexOf(!0),o=this.aM.h().indexOf(!0);return K!=-1?K:o!=-1?o+1:-1};
dD.hue2.prototype.tx=function(K,o,Y,c,z){var f=this.a51();if(f==-1)return;var $=this.value;this.value=fn.Ta("hue2");
this.je();var E=m.XV.wD(K,z,1,null,!0);this.T($);var b=[E>>>16&255,E>>>8&255,E&255],q=d.Sc(b[0]/255,b[1]/255,b[2]/255);
if(f==0){this.ob.T(1+Math.round(q.jd*6)%6)}else{var O=this.Jt(),j=.5+q.jd,A=1/12,R=O[1],g=O[2];if(g<R){g++;
if(j<R&&j+1-g<R-j)j++}var H=R<=j&&j<=g;if(f==1){R=j-A/2;g=j+A/2}else if(f==2&&!H){R=Math.min(j,R);g=Math.max(j,g)}else if(f==3&&H){if(j-R<g-j)R=j;
else g=j}O=[R-A,R,g,g+A];this.anF(O)}this.je();this.k_=z.x;this.ai5=this.yc.h()};dD.hue2.prototype.D3=function(K,o,Y,c,z){var f=this.a51();
if(f==-1)return;if(f==0){if(this.k_!=null){var $=z.x-this.k_;$=Math.max(-100,Math.min(100,this.ai5+.5*$));
this.yc.T($);this.am2()}}};dD.hue2.prototype.pt=function(K,o,Y,c,z){this.k_=null};dD.hue2.prototype.T=function(K){this.value=JSON.parse(JSON.stringify(K));
var o=this.value.Clrz?this.value.Clrz.v:!1;this._f[o?1:0]=bh.Yb(this.value,0);this.Bf()};dD.hue2.prototype.h=function(K){return JSON.parse(JSON.stringify(this.value))};
dD.levl=function(){function K(){dD.call(this);this.value=null;this.SY=null;this.uv=[new jc(0,0),new jc(0,0),new jc(0,0),new jc(0,0),new jc(0,0)];
this.uE=-1;this.P0=this.v0.bind(this);this.BR=this.V5.bind(this);var o=this.n;this._J=new bY([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this._J.k(w.E.p,this.Bf,this);o.appendChild(this._J.n);this.gU=new cy;this.gU.parent=this;this.gU.k(w.E.p,this.LT,this);
o.appendChild(this.gU.n);var Y=I._("div","");o.appendChild(Y);var c=I._("div","");o.appendChild(c);this.V=I._("canvas");
Y.appendChild(this.V);this.$F=this.V.getContext("2d");this.Ig=new jc(256,120);this.V.setAttribute("style","display:block");
I._I(this.V);I.Xh(this.V,this.nO.bind(this));this.lc=I._("canvas","");c.appendChild(this.lc);this.gp=this.lc.getContext("2d");
this.rG=new jc(this.Ig.x,40);this.lc.setAttribute("style","display:block");I._I(this.lc);I.Xh(this.lc,this.a7q.bind(this));
var z=this.t9=[];for(var y=0;y<5;y++){var f=new cI(null,null,3);z.push(f);f.k(w.E.p,this.anM,this);(y<2||y==4?Y:c).appendChild(f.n)}Y.appendChild(z[1].n);
this.cH=new i1("Sample from image",hQ.jO(["#000000","#888888","#ffffff"]),!0,null,!0);this.cH.k(w.E.p,this.Jf,this);
o.appendChild(this.cH.n);this.Fx(250,100)}K.prototype=new dD;K.prototype.LT=function(){var o=this.gU.h(),Y=this.SY,c=this.value,z=d.pG(o,Y);
for(var y=0;y<4;y++){var f=z[y][0],$=z[y][1],E=z[y][2],b=[d.nA.JK(f,0,!0),d.nA.JK($,255,!0)];if(E!=null)b.splice(1,0,d.nA.JK(128,E,!0));
var q=[~~f,~~$,0,255,E==null?100:~~(100+.75*100*(E-128)/128)];jz.ef(c,y,q)}this.Bf();this.je()};K.prototype.Fx=function(o,Y){o+=6;
this.Ig.x=this.rG.x=o;I.AU(this.V,o,this.Ig.y,this.$F);I.AU(this.lc,o,this.rG.y,this.gp);var c=this.t9;
c[3].n.setAttribute("style","margin-left: "+(o-104)+"px");c[4].n.setAttribute("style","margin: 0 "+(o/2-74)+"px");
if(this.value)this.Bf()};K.prototype.t=function(){this._J.t()};K.prototype.anM=function(o){var Y=[];
for(var y=0;y<5;y++){var c=255,z=1;if(y==4){c=999;z=100}var f=parseFloat(this.t9[y].h());Y[y]=Math.max(0,Math.min(c,f*z))}jz.ef(this.value,this._J.h(),Y);
this.Bf();this.je()};K.prototype.Bf=function(o){var Y=this.Ig.x,c=this.Ig.y,z=this._J.h(),f=this.$F;
f.clearRect(0,0,Y,c);f.fillStyle="#cccccc";f.fillRect(8,8,Y-16,c-16-8);if(this.SY){var $=this.SY[0].slice(0),g=0;
if(z==0){$.fill(0);var E=JSON.parse(JSON.stringify(this.value));jz.ef(E,0,[0,255,0,255,100]);var b=jh.GA("levl",E),q=[b.SR,b.a9,b.C1];
for(var O=0;O<3;O++){var j=this.SY[1+O],A=q[O];for(var y=0;y<256;y++)$[A[y]]+=j[y]}}var R=z==0?$:this.SY[z];
for(var y=0;y<R.length;y++)g+=R[y];f.fillStyle="#333333";f.beginPath();f.moveTo(8,c-16);for(var y=0;
y<256;y++){var H=55*R[y]/g;f.lineTo(8+y/256*(Y-16),Math.max(8,c-16-c*H))}f.lineTo(Y-8,c-16);f.closePath();
f.fill()}var i=jz.Yb(this.value,z);for(var y=0;y<5;y++)this.t9[y].T(i[y]/(y==4?100:1));this.uv[0].Ex(8+i[0]/255*(Y-16),c-14);
this.uv[1].Ex(8+i[1]/255*(Y-16),c-14);var h=Math.log(i[4]/100)/Math.log(9.99);h=.5-h/2;this.uv[4].Ex(this.uv[0].x+h*(this.uv[1].x-this.uv[0].x),c-14);
this.Fm(f,this.uv[0],"#000000");this.Fm(f,this.uv[1],"#ffffff");this.Fm(f,this.uv[4],"#777777");var Y=this.rG.x,c=this.rG.y;
f=this.gp;f.clearRect(0,0,Y,c);var x=f.createLinearGradient(0,0,Y-16,0);x.addColorStop(0,"black");x.addColorStop(1,"white");
f.fillStyle=x;f.fillRect(8,8,Y-16,16);this.uv[2].Ex(8+i[2]/255*(Y-16),c-14);this.uv[3].Ex(8+i[3]/255*(Y-16),c-14);
this.Fm(f,this.uv[2],"#000000");this.Fm(f,this.uv[3],"#ffffff")};K.prototype.Fm=function(o,Y,c){o.fillStyle=c;
o.fillRect(Y.x-5,Y.y,10,10)};K.prototype.nO=function(o){var Y=I._9(o,this.V),c=this.aCP([0,1,4],Y);if(c!=-1)this.uE=c;
this.apZ()};K.prototype.a7q=function(o){var Y=I._9(o,this.lc),c=this.aCP([2,3],Y);if(c!=-1)this.uE=c;
this.apZ()};K.prototype.aCP=function(o,Y){var c=-1,z=1e9;for(var y=0;y<o.length;y++){var f=Math.abs(this.uv[o[y]].x-Y.x);
if(f<z){z=f;c=o[y]}}return z<16?c:-1};K.prototype.apZ=function(o){if(this.uE==-1)return;I.TG(document.body,this.P0);
I.HX(document.body,this.BR)};K.prototype.v0=function(o){var Y=jz.Yb(this.value,this._J.h()),c=I._9(o,this.uE==2&&this.uE==3?this.lc:this.V),z=255*(c.x-8)/(this.Ig.x-16);
z=Math.max(0,Math.min(255,z));if(this.uE==0)z=Math.min(z,Y[1]-2);if(this.uE==1)z=Math.max(z,Y[0]+2);
if(this.uE!=4)Y[this.uE]=Math.round(z);else{var f=(z-Y[0])/(Y[1]-Y[0]);f=1-2*f;f=Math.pow(9.99,f);Y[4]=Math.min(999,Math.max(10,Math.round(f*100)))}jz.ef(this.value,this._J.h(),Y);
this.Bf();this.je()};K.prototype.V5=function(o){I.oH(document.body,this.P0);I.O1(document.body,this.BR);
this.uE=-1};K.prototype.t1=function(){return!0};K.prototype.pt=function(o,Y,c,z,f){var $=this.value,E=this.cH.h().indexOf(!0);
if(E==-1)return;this.value=fn.Ta("levl");this.je();var b=m.XV.wD(o,f,1,null,!0),q=[b>>>16&255,b>>>8&255,b&255];
for(var y=0;y<3;y++){var O=jz.Yb($,1+y);if(E==0)O[0]=q[y];if(E==1){var j=Math.log(q[y]/255)/Math.log((q[0]+q[1]+q[2])*.333/255);
O[4]=Math.min(999,Math.max(10,Math.round(100*j)))}if(E==2)O[1]=q[y];jz.ef($,1+y,O)}this.T($);this.je()};
K.prototype.T=function(o){this.value=o;this.Bf()};K.prototype.rW=function(o){this.SY=o;this.Bf()};K.prototype.h=function(o){return JSON.parse(JSON.stringify(this.value))};
return K}();dD.phfl=function(){dD.call(this,"phfl");this.lS.push(new gK);this.lS.push(new dr([12,74],0,100,"%"));
this.lS.push(new bb([13,4]));this.JC()};dD.phfl.prototype=new dD;dD.phfl.prototype.py=function(K,o){o[0]=K.Clr.v;
o[1]=K.Dnst.v;o[2]=K.PrsL.v};dD.phfl.prototype.RJ=function(K,o){var Y=d.H.CK(o[0]),c=K.Clr.v,z=d.yM(Y.o,Y.A,Y.J);
c.Lmnc.v=z.Gi;c.A.v=z.g;c.B.v=z.J;K.Dnst.v=o[1];K.PrsL.v=o[2]};dD.vibA=function(){dD.call(this,"vibA");
this.lS.push(new dr([12,13],-100,100,null));this.lS.push(new dr([12,9],-100,100,null));this.JC()};dD.vibA.prototype=new dD;
dD.vibA.prototype.py=function(K,o){o[0]=K.vibrance?K.vibrance.v:0;o[1]=K.Strt?K.Strt.v:0};dD.vibA.prototype.RJ=function(K,o){K.vibrance.v=o[0];
K.Strt.v=o[1]};dD.thrs=function(){dD.call(this,"thrs");this.lS.push(new dr([4,13],1,255,null));this.JC()};
dD.thrs.prototype=new dD;dD.thrs.prototype.py=function(K,o){o[0]=K.Lvl.v};dD.thrs.prototype.RJ=function(K,o){K.Lvl.v=o[0]};
dD.mixr=function(){dD.call(this);var K=this.n;this.Rb=[];this.Zg=null;this.ob=new bY([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.ahw=!1;this.ob.k(w.E.p,this.Jr,this);K.appendChild(this.ob.n);I.Tg(K);this.w5=new bb([12,60]);K.appendChild(this.w5.n);
this.w5.k(w.E.p,this.Jr,this);for(var y=0;y<4;y++){var o=new dr([[13,1,1],[13,1,4],[13,1,5],[13,2]][y],-200,200,"%");
o.k(w.E.p,this.Jr,this);this.Rb.push(o);K.appendChild(o.n)}};dD.mixr.prototype=new dD;dD.mixr.prototype.t=function(){this.ob.t();
this.w5.t();for(var y=0;y<4;y++)this.Rb[y].t()};dD.mixr.prototype.T=function(K){this.Zg=JSON.parse(JSON.stringify(K));
this.nF()};dD.mixr.prototype.h=function(K){return JSON.parse(JSON.stringify(this.Zg))};dD.mixr.prototype.Jr=function(K){if(K.target!=this.ob){var o=jh.jt(this.Zg);
if(K.target==this.w5){o.w5=this.w5.h();if(o.w5)o.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else o.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var Y=(o.w5?0:this.ob.h())*5,y=this.Rb.indexOf(K.target);
o.b[Y+(y<3?y:4)]=K.target.h()}this.Zg=jh.a73(o)}this.nF();this.je()};dD.mixr.prototype.nF=function(){var K=jh.jt(this.Zg);
if(K.w5!=this.ahw)this.ob.Xs(K.w5?[[13,1,7]]:jh.gj);this.ahw=K.w5;this.w5.T(K.w5);var o=(K.w5?0:this.ob.h())*5;
for(var y=0;y<4;y++)this.Rb[y].T(K.b[o+(y<3?y:4)])};dD.post=function(){dD.call(this,"post");this.lS.push(new dr([4,1],2,255,null));
this.JC()};dD.post.prototype=new dD;dD.post.prototype.py=function(K,o){o[0]=K.Lvls.v};dD.post.prototype.RJ=function(K,o){K.Lvls.v=o[0]};
dD.clrL=function(){dD.call(this,"clrL");this.lS.push(new h9("LUTs"));this.JC()};dD.clrL.prototype=new dD;
dD.clrL.prototype.py=function(K,o){o[0]=K};dD.clrL.prototype.RJ=function(K,o){var Y=o[0];for(var c in Y)K[c]=Y[c]};
dD.clrL.prototype.fL=function(K,o){if(o==bB.tk||o==bB.wb)this.lS[0].nn(K.ag$)};dD.rplc=function(){dD.call(this,"rplc");
this.lS.push(new dr([12,92],0,200));this.lS.push(new gK);this.lS.push(new dr([12,8],-180,180));this.lS.push(new dr([12,9],-100,100));
this.lS.push(new dr([12,10],-100,100));this.JC()};dD.rplc.prototype=new dD;dD.rplc.prototype.py=function(K,o){o[0]=K.Fzns.v;
o[1]=K.Mxm.v;o[2]=K.H.v;o[3]=K.Strt.v;o[4]=K.Lght.v};dD.rplc.prototype.RJ=function(K,o){function Y(z,f){f.Lmnc.v=z.Gi;
f.A.v=z.g;f.B.v=z.J}K.Fzns.v=o[0];K.H.v=o[2];K.Strt.v=o[3];K.Lght.v=o[4];var c=d.H.CK(o[1]),z=d.yM(c.o,c.A,c.J);
Y(z,K.Mnm.v);Y(z,K.Mxm.v)};dD.fade=function(){dD.call(this,"fade");this.lS.push(new dr([12,0],0,100,"%"));
this.lS.push(new bY([12,19,0],jw.Y9,jw.AJ));this.JC()};dD.fade.prototype=new dD;dD.fade.prototype.py=function(K,o){o[0]=K.Opct.v.val;
o[1]=jw.$R.indexOf(K.Md.v.BlnM)};dD.fade.prototype.RJ=function(K,o){K.Opct.v.val=o[0];K.Md.v.BlnM=jw.$R[o[1]]};
dD.aply=function(){var K=jw.$R.concat(["Add","Sbtr"]);K.splice(21,1);var o=jw.Y9.concat([[15,10,28],[15,10,21]]);
o.splice(21,1);var Y=jw.AJ.slice(0);Y[4]--;function c(){dD.call(this,"aply");this.lS.push(new bY([0,3],[]));
this.lS.push(new bY([12,4],["RGB"].concat(jh.gj).concat(["Transparency"])));this.lS.push(new bb([4,11]));
this.lS.push(new bY([12,19,0],o,Y));this.lS.push(new dr([12,0],0,100,"%"));this.lS.push(new h5([12,38],1,2,null,2));
this.lS.push(new h5([12,6],-255,255));this.lS.push(new bb([13,5]));this.JC([2]);this.Wc=null}c.prototype=new dD;
c.prototype.py=function(z,f,$){if($){var E=$[2].B,b=this.Wc=[];for(var y=0;y<E.length;y++){var q=E[y].getName();
b.push(q.length<30?q:q.slice(0,27)+"...")}b.reverse();this.lS[0].Xs([[5,7]].concat(b),[1,b.length])}else var b=this.Wc;
z=z.With.v;var O=z.T.v;f[0]=O[1].t=="name"?1+b.indexOf(O[1].v.val):0;f[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(O[0].v.enum);
f[2]=z.Invr.v;var j=z.Clcl.v.Clcn;f[3]=K.indexOf(j);f[4]=z.Opct.v.val;f[5]=z.Scl.v;f[6]=z.Ofst.v;f[7]=z.PrsT.v};
c.prototype.RJ=function(z,f){z=z.With.v;var $=z.T.v;if(f[0]==0)$[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else $[1]={t:"name",v:{classID:"Lyr",val:this.Wc[f[0]-1]}};$[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][f[1]];
z.Invr.v=f[2];var E=z.Clcl.v.Clcn=K[f[3]];z.Opct.v.val=f[4];z.Scl.v=f[5];z.Ofst.v=f[6];z.PrsT.v=f[7];
var b=E=="Add"||E=="Sbtr";this.lS[5].W6(b);this.lS[6].W6(b)};return c}();dD.matc=function(){var K,o,Y=0;
function c(){dD.call(this,"matc");this.lS.push(new dr("Luminance",1,200));this.lS.push(new dr("Color Intensity",1,200));
this.lS.push(new dr([2,11],0,100,"%"));this.lS.push(new bb("Neutralize"));this.lS.push(new bY([12,70],[]));
this.lS.push(new bY([0,3],[]));this.JC([2])}function z(f,$){f.lS[5].Xs([[5,7]].concat($),[1,$.length])}c.prototype=new dD;
c.prototype.py=function(f,$,E){Y=0;$[0]=f.Lght.v;$[1]=f.ClrR.v;$[2]=f.Fade.v;$[3]=f.neutralizeColor?f.neutralizeColor.v:!1;
$[4]=$[5]=0;var b=f.Srce;if(b)b=b.v;if(E){K=[];o=[];var q=E[2],O=E[3];for(var y=0;y<O.length;y++){var j=O[y];
K.push(j.name);var A=j.B,R=[];o.push(R);for(var g=0;g<A.length;g++)R.push(A[g].getName());R.reverse()}this.lS[4].Xs([[13,1,0]].concat(K),[1,K.length]);
var H=O.indexOf(q);if(b)H=K.indexOf(b[1].v.val);z(this,o[H])}if(b){var i=K.indexOf(b[1].v.val);$[3]=Y=1+i;
if(b[0].t=="name")$[4]=1+o[i].indexOf(b[0].v.val)}};c.prototype.RJ=function(f,$){f.Lght.v=$[0];f.ClrR.v=$[1];
f.Fade.v=$[2];f.neutralizeColor.v=$[3];if($[4]==0){f.noReference={t:"bool",v:!0};delete f.Srce}else{if($[4]!=Y){Y=$[4];
z(this,o[$[4]-1])}delete f.noReference;var E={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},b=o[$[4]-1];
if($[5]!=0)E={t:"name",v:{classID:"Lyr",val:b[$[5]-1]}};f.Srce={t:"obj ",v:[E,{t:"name",v:{classID:"Dcmn",val:K[$[4]-1]}}]}}};
return c}();function gQ(K,o){cv.call(this);if(K==null)return;this.id=o;this.f1=K;this.mn=null;this.n=I._("div","window "+o);
this.awn=null;this.$E=I._("div","whead");this.azC=I._("span","wname");this.$E.appendChild(this.azC);
this.ajU=!1;this.n.appendChild(this.$E);this.AX=this.a2K.bind(this);this.VT=this.aca.bind(this);this.MH=this.aBq.bind(this);
I._I(this.$E);I.Xh(this.$E,this.AX);this.aAH=I._("span","cross gsicon");this.$E.appendChild(this.aAH);
gQ.prototype.t.call(this);I.HX(this.aAH,this.adT.bind(this));this.body=I._("div","body");this.n.appendChild(this.body)}gQ.prototype=new cv;
gQ.prototype.$l=function(){return!1};gQ.prototype.t1=function(){return!1};gQ.prototype.t=function(){if(this.f1==null)return;
this.azC.textContent=ca.get(this.f1)};gQ.prototype.tx=function(K,o,Y,c,z){};gQ.prototype.N8=function(K,o,Y,c,z){};
gQ.prototype.D3=function(K,o,Y,c,z){};gQ.prototype.pt=function(K,o,Y,c,z){};gQ.prototype.aj=function(K,o,Y,c,z){};
gQ.prototype.Ed=function(K,o,Y,c){if(c.S(a1.C4)&&this.Qq)this.Qq();if(c.S(a1.rK)){var z=new h1(w.E.U);
z.vk=!0;m.w8.a0A(c,z);if(z.data)o.c(z)}};gQ.prototype.rC=function(K){return!1};gQ.prototype.zR=function(K,o){return!0};
gQ.prototype.ic=function(K,o,Y,c){};gQ.prototype.fL=function(K,o){};gQ.prototype.uJ=function(K,o){return null};
gQ.prototype.akE=function(K){return this.awn};gQ.prototype.Fx=function(){};gQ.prototype.close=function(){this.c(new h1(w.E.qH))};
gQ.prototype.a2K=function(K){this.mn=I._9(K,this.n);I.TG(window,this.VT);I.HX(window,this.MH)};gQ.prototype.aca=function(K){var o=this.n.parentNode,Y=I._9(K,o),c=Math.round(Y.x-this.mn.x),z=o.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(Y.y-this.mn.y)));
this.awn=new jc(c,z);this.n.style.left=c+"px";this.n.style.top=z+"px"};gQ.prototype.aBq=function(K){I.oH(window,this.VT);
I.O1(window,this.MH)};gQ.prototype.adT=function(K){if(this.ajU){this.Qq();return}this.c(new h1("closebtn"));
this.close()};function em(){gQ.call(this,"About Photopea","aboutpp");var K=I._("div","flexrow");this.body.appendChild(K);
var o=this.alf=I._("img");K.appendChild(o);this.body.setAttribute("style","margin:0; padding:0");var Y=this.gz=I._("div");
Y.innerHTML=em.H$;K.appendChild(Y);var c=this.OC=I._("span");c.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(c)}em.prototype=new gQ;em.prototype.uJ=function(K,o){return new jc(0,0)};em.prototype.Fx=function(K,o){var Y=this.alf,c=this.gz,z=this.OC,f=(K+o-42-42)/110;
f=Math.sqrt((K-42)*(o-42))/50;Y.setAttribute("style","width:"+K/2+"px; height:"+o+"px; display:block; object-fit:cover;");
c.setAttribute("style","width:"+(K/2-42)+"px; height:"+(o-42)+"px; padding:20px; font-size:"+f+"px;");
z.setAttribute("style","position:absolute;  bottom:10px; right:"+(K/2+10)+"px")};em.prototype.t=function(){};
em.prototype.ic=function(K,o,Y,c){this.alf.setAttribute("src","promo/ivan_pp.webp")};em.H$="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function jP(){gQ.call(this,[0,13,0],"account");this.BC=I._("div","form scrollable");this.body.appendChild(this.BC);
this.body.style.padding="0";this.g8=[new jP.aG,new jP.wM("::privacy.html"),new jP.wM(jP.agd)];for(var y=0;
y<this.g8.length;y++)this.g8[y].parent=this;this.k("showpage",this.adu,this)}jP.prototype=new gQ;jP.prototype.zR=function(K,o){var Y=navigator.onLine;
if(!Y)alert("Go online first");return Y};jP.prototype.Fx=function(K,o){this.BC.setAttribute("style","width:"+Math.min(K-40,740)+"px;  height:"+(o-38)+"px;  padding:1.5em;");
this.g8[0].Fx(K,o)};jP.prototype.uJ=function(K,o){return new jc(Math.max(0,Math.min(150,(K-740)/2)),Math.max(0,Math.min(100,(o-500)/2)))};
jP.prototype.adu=function(K){I.oA(this.BC);this.BC.scrollTop=0;this.BC.appendChild(this.g8[K.data.UQ].n)};
jP.prototype.t=function(){gQ.prototype.t.call(this);for(var y=0;y<this.g8.length;y++)this.g8[y].t()};
jP.prototype.ic=function(K,o,Y){if(!navigator.onLine)return;I.oA(this.BC);var c=this.g8[0];this.BC.appendChild(c.n);
c.ic();this.t()};jP.prototype.fL=function(K,o){this.ic(null,null,null)};jP.aG=function(){cv.call(this);
this.n=I._("div");var K=this.n,E,b,O="font-size:1.25em;",j="text-align:center;",R="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",g="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",H="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",h=12;
this.Xo=I._("div");K.appendChild(this.Xo);this.fn=new eg([0,11],!1,null,!0);this.fn.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.fn.k("click",this.Sx,this);K.appendChild(this.fn.n);this.a1=new eg([0,13,1],!1,null,!0);this.a1.k("click",this.arp,this);
K.appendChild(this.a1.n);this.As=new eg("Business Terms",!1,null,!0);this.As.k("click",this.aoE,this);
K.appendChild(this.As.n);var o=I._("div");o.style.margin="20px 0";K.appendChild(o);var Y=["Account Types","Go Premium","Team Settings","Distributors"],c=this.VQ=[],z=this.auj=[],f=this.k6=I._("div");
K.appendChild(f);for(var y=0;y<Y.length;y++){var $=I._("span");$.textContent=Y[y];o.appendChild($);c.push($);
$.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
$.addEventListener("click",this.j6.bind(this));z.push(I._("div"))}this.j6(0);var q=this.a6u="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
K=z[0];var b=I._("table"),A="style=\" "+j+O+" padding-bottom:20px;\"";b.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+H+">\t\t\t\t\t<div "+A+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+g+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+g+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+H+">\t\t\t\t\t<div "+A+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+g+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+g+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+g+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+g+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+g+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
K.appendChild(b);var $=new eg("Go Premium");$.n.setAttribute("style",q+"padding:10px 0;");$.k("click",function(X){this.j6(1)},this);
b.children[0].children[1].children[1].appendChild($.n);this.up=I._("div");K.appendChild(this.up);K=z[1];
var i=this.acT=[[10,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.j2=[];for(var y=0;y<i.length;y++)this.j2.push(new eg("Buy: $"+i[y][0],!1,null,!0));for(var y=0;
y<this.j2.length;y++){this.j2[y].k("click",this.av7,this)}this.Zi=new eg("...",!0);this.Zi.n.setAttribute("style",q);
K.appendChild(this.Zi.n);b=this.am8(4,["Single user",this.j2[0],this.j2[1],this.j2[2],"Team of 5",this.j2[3],this.j2[4],this.j2[5],"Team of 20",this.j2[6],this.j2[7],this.j2[8],"Team of 50",this.j2[9],this.j2[10],this.j2[11]]);
K.appendChild(b);this.aan=new bb("I accept",!0,"");K.appendChild(this.aan.n);this.ZA=new eg([0,13,1],!1,null,!0);
this.ZA.k("click",this.arp,this);K.appendChild(this.ZA.n);this.IS=new eg("I have a key",!1,null,!0);
this.IS.n.setAttribute("style",q+" float:right; width:inherit;");this.IS.k("click",this.av7,this);K.appendChild(this.IS.n);
K=z[2];this.HG=new iy;this.HG.parent=this;this.HG.k(w.E.p,this.cE,this);K.appendChild(this.HG.n);K=z[3];
this.aw=new eg("...",!0);this.aw.n.setAttribute("style",q);K.appendChild(this.aw.n);b=this.am8(3,["1000 views/mo",this.j2[h++],this.j2[h++],this.j2[h++],"5000 views/mo",this.j2[h++],this.j2[h++],this.j2[h++],"20000 views/mo",this.j2[h++],this.j2[h++],this.j2[h++]]);
K.appendChild(b);var x=I._("p");x.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
K.appendChild(x);this.QU=new cI("Domain name (e.g. domain.com)",null,14);K.appendChild(this.QU.n);var F=new eg("Save Domain Settings",!1,null,!0);
F.Fo();K.appendChild(F.n);F.k("click",this.abg,this)};jP.aG.prototype=new cv;jP.aG.prototype.j6=function(K){var o=typeof K=="number"?K:this.VQ.indexOf(K.target);
for(var y=0;y<4;y++)this.VQ[y].style.opacity=.6;this.VQ[o].style.opacity=1;I.oA(this.k6);this.k6.appendChild(this.auj[o])};
jP.aG.prototype.Fx=function(K,o){var Y=K<600?"d":" days",c=["30 days","90 days","365 days"];if(K<600)c=["30d","90d","365d"];
var z=this.acT;for(var y=0;y<z.length;y++){this.j2[y].Sk("<span>"+c[y%3]+": <sup>$</sup><big><b>"+z[y][0]+"</b></big>"+"</span>");
this.j2[y].n.setAttribute("style",this.a6u)}};jP.aG.prototype.arp=function(K){var o=new h1("showpage",!0);
o.data={UQ:1};this.c(o)};jP.aG.prototype.aoE=function(K){var o=new h1("showpage",!0);o.data={UQ:2};this.c(o)};
jP.aG.prototype.t=function(){this.fn.Sk(es.T1()?ca.get([0,11]):ca.get([0,10]));this.ZA.t();this.a1.t();
this.As.t()};jP.aG.prototype.agf=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.IE,link:"https://www.photopea.com/api/accounts#"+(K.target==this.a4e?"teams":"distributors")};
this.c(o)};jP.aG.prototype.aB7=function(K){var o=K.currentTarget==this.aeS;this.aeS.T(o);this.ab6.T(!o)};
jP.aG.prototype.aAD=function(K){var o=this.aeS.h(),Y=this.ayj.h().trim().toLowerCase(),c=this.azj.value.trim().toLowerCase();
if(Y.length>60){alert("Too long email address");return}if(c.length>600){alert("Too many team members");
return}c=c.split(",").join(" ").trim();c=c.replace(/\s+/g," ");if(c=="")c=[];else c=c.split(" ");var z=es.Tu();
if(z==null)z={};if(z.acc==null)z.acc={};z.acc.team={jin:o,ldr:Y,mmb:c};es.y8(z,this.cE.bind(this));alert("Saved!");
this.ic()};jP.aG.prototype.abg=function(K){var o=this.QU.h().trim();if(!es.T1()){alert("You have to log in first.");
return}if(es.J8()==0){alert("Order a distributor account first.");return}var Y=es.Tu();if(Y==null)Y={};
if(Y.acc==null)Y.acc={};if(o=="")delete Y.acc.dname;else Y.acc.dname=o;es.y8(Y,this.cE.bind(this));alert("Saved!");
this.ic()};jP.aG.prototype.aAd=function(K){var o=es.DH(),y=this.ZX,Y=es.Tu();if(Y==null)Y={};if(Y.acc==null)Y.acc={};
Y.acc.bto=K;es.y8(Y,function(){});var c=jP.asm(K.split("\n"),o.pmnts[y]);jm.save(c,"photopea_invoice.pdf")};
jP.aG.prototype.adV=function(K){var o=es.DH(),Y=es.Tu(),c=Y.acc?Y.acc.bto:null;if(c==null)c=o.name+"\n"+o.email;
var y=-1,z=K.target.n.parentNode;while((z=z.previousSibling)!=null)y++;this.ZX=y;var f=new h1(w.E.L,!0);
f.data={d:w.I.Gg,XQ:"billto",UZ:c,gb:this.aAd.bind(this)};this.c(f)};jP.aG.prototype.ic=function(){this.Xo.innerHTML="";
I.oA(this.up);if(es.T1()){var K=es.DH(),o=K.pmnts;if(K==null)return;this.Xo.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+K.name+"</span> "+K.email+" <br/>";
if(o){var Y="<h2>Payments</h2>";for(var y=0;y<o.length;y++){var c=o[y],z=new Date(c[0]*1e3);Y+="<div style=\"font-size:1.2em\">"+z.getDate()+". "+(z.getMonth()+1)+". "+z.getFullYear()+" - "+jP.a4k(c)+"</div>"}this.up.innerHTML=Y;
for(var y=0;y<o.length;y++){var f=new eg("Get Invoice",!1,null,!0);f.n.setAttribute("style","float:right");
f.k("click",this.adV,this);this.up.children[y+1].appendChild(f.n)}}}else{}var $=es.T1()&&es.YP();this.Zi.n.style.display=$?"block":"none";
if($){var E,b,q=$;if(q[0]==0){E=es.ki(q[1])-Date.now()*(1/1e3);b=q[1][2]==1?"Single User":"Team Of "+q[1][2]}else{E=q[1][1]-Date.now()*(1/1e3);
b="Member of \""+q[1][0]+"\""}this.Zi.Sk("Premium active for "+Math.round(E/(60*60*24))+" more days! ("+b+")")}var O=es.T1()&&es.J8()*1e3>Date.now();
this.aw.n.style.display=O?"block":"none";if(O){var E=es.J8()-Date.now()/1e3;this.aw.Sk("Distributor active for "+Math.round(E/(60*60*24))+" more days!")}var j=es.Tu();
this.HG.ic();if(j&&j.acc&&j.acc.dname)this.QU.T(j.acc.dname);else this.QU.T("")};jP.aG.prototype.am8=function(K,o){var Y=I._("table");
if(!0){var c="<table><tr>";for(var y=0;y<K;y++)c+="<th>"+o[y*4]+"</th>";c+="</tr></table>";Y.innerHTML=c;
for(var y=0;y<3;y++){var z=I._("tr"),f;Y.appendChild(z);for(var $=0;$<K;$++){f=I._("td");f.style.width=Math.round(100/K)+"%";
z.appendChild(f);f.appendChild(o[$*4+1+y].n)}}}return Y};jP.aG.prototype.av7=function(K){var o=this.j2.indexOf(K.currentTarget),c=30,z=1;
if(!es.T1()){this.Sx();return}if(this.aan.h()==!1&&o<12){alert("You must accept Terms of Service");return}var Y=es.T1()&&es.YP();
if(o!=-1){var f=this.acT[o];c=f[1];z=f[2]}if(Y&&z<1e3){alert("You already have premium.");return}console.log(f,c,z);
if(o==-1){var $=prompt("Please enter your key");if($!=null){es.aap($,this.cE.bind(this));this.hZ()}return}if(c==30&&z==1){var E=confirm("You can have 90 days for $15. Do you still want a 30 days version for $10?");
if(!E)return}es.order(c,z,this.cE.bind(this));this.hZ()};jP.aG.prototype.cE=function(K){this.ic();this.hZ()};
jP.aG.prototype.Sx=function(K){if(es.T1()){es.amD();this.hZ();this.ic(null,null,null)}else es.Sx(this.anD.bind(this))};
jP.aG.prototype.anD=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.al4};this.c(K)};jP.aG.prototype.hZ=function(){var K=new h1(w.E.L,!0);
K.data={d:w.I.a3J};this.c(K)};jP.wM=function(K){cv.call(this);this.n=I._("div");var o=this.n,Y=this.az3=new eg([0,13,2],!1,null,!0),c;
Y.k("click",this.avM,this);o.appendChild(Y.n);if(K.startsWith("::")){c=I._("iframe");c.setAttribute("style","width:100%;height:1700px; background-color:white;");
c.setAttribute("src",K.slice(2))}else{c=I._("div");c.innerHTML=K}o.appendChild(c)};jP.wM.prototype=new cv;
jP.wM.prototype.avM=function(K){var o=new h1("showpage",!0);o.data={UQ:0};this.c(o)};jP.wM.prototype.t=function(){this.az3.t()};
jP.agd="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
jP.a4k=function(K){var o=K[1]+" days, ";if(K[2]<1e3)return"Photopea Premium ("+o+K[2]+" user"+(K[2]==1?"":"s")+")";
else return"Photopea Distributor ("+o+K[2]+" views/month)"};jP.asm=function(K,o){K=["Bill To:"].concat(K);
var Y=new ToPDF,c=595,z=842,f=40,$=18,E=12,b=500,q=100,O=400,H=0;function j(P,p,a,D,n){R.font.Tf=n?"Helvetica-Bold":"Helvetica";
R.ctm=[1,0,0,1,p,a];R.font.Tfs=D?D:E;Y.PutText(R,P,0)}function A(P,p,a,D){for(var y=0;y<P.length;y++){j(P[y],p,a-y*D,null,y==0)}}var R=UDOC.getState();
Y.StartPage(0,0,c,z);j("INVOICE",c-f-140,z-f-30,30,!0);A(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],f,z-f-40,$);
var g=new Date(o[0]*1e3);A(["Date: "+g.getDate()+". "+(g.getMonth()+1)+". "+g.getFullYear(),"Transaction ID: "+o[4]],c-f-140,z-f-40-$*2,$);
var i=K.join("");for(var y=0;y<i.length;y++)H=Math.max(H,i.charCodeAt(y));if(H>256){var h=4,x=I._("canvas"),F=x.getContext("2d"),X=0;
F.font=E*h+"px sans-serif";for(var y=0;y<K.length;y++)X=Math.max(X,F.measureText(K[y]).width);var V=Math.round(X)+20,U=K.length*h*$+20;
x.width=V;x.height=U;F.font=E*h+"px sans-serif";for(var y=0;y<K.length;y++){F.font=(y==0?"bold ":"")+E*h+"px sans-serif";
F.fillText(K[y],10,(y+1)*h*$)}document.body.appendChild(x);var Z=new Uint8Array(F.getImageData(0,0,V,U).data.buffer);
R.ctm=[V/h,0,0,U/h,f-10/h,z-f-40-100-U/h];Y.PutImage(R,Z,V,U);R.ctm=[1,0,0,1,0,0]}else A(K,f,z-f-40-100,$);
R.colr=[.8,.8,.8];R.pth={cmds:["M","L","L","L","Z"],crds:[f,b,c-f,b,c-f,b-$,f,b-$]};Y.Fill(R);R.colr=[0,0,0];
var T=[f,b,c-f,b,f,b-$,c-f,b-$,f,b-q,c-f,b-q,f,b,f,b-q,c-f,b,c-f,b-q,O,b,O,b-q],v=[];for(var y=0;y<T.length;
y+=4)v.push("M","L");R.pth={cmds:v,crds:T};Y.Stroke(R);j("Order details",f+4,b-14);j(jP.a4k(o),f+4,b-$-14);
j("TOTAL:",f+4,b-q-14,null,!0);j("Price",c-f-50,b-14);j(o[3]+" USD",c-f-60,b-$-14);j(o[3]+" USD",c-f-60,b-q-14,null,!0);
j("www.Photopea.com",f,f);j("support@photopea.com",c-f-130,f);Y.ShowPage();Y.Done();return Y.buffer};
function dL(){gQ.call(this,[11,14],"addguides");this.$S;this.Bk={EU:{hq:0}};this.YC=null;var K=I._("div","form");
this.body.appendChild(K);this.Ds=[];this.DG=new hQ(null,["Hi"]);K.appendChild(this.DG.n);I.Tg(K);this.DG.k(w.E.p,this.eA,this);
this.g0=new cI([22,4,0],null,16);this.g0.k(w.E.p,this.Mz,this);this.zH=new cI([22,4,1],null,16);this.zH.k(w.E.p,this.Mz,this);
this.Dq=new bY(null,d.Rf.Vl);this.Dq.k(w.E.p,this.Mz,this);K.appendChild(this.g0.n);K.appendChild(this.Dq.n);
I.Tg(K);K.appendChild(this.zH.n);this.nW=I.ZW(this,K);this.k("closebtn",this.Pt,this)}dL.prototype=new gQ;
dL.prototype.zR=function(K,o){return K!=null};dL.prototype.$l=function(){return!0};dL.prototype.t=function(){gQ.prototype.t.call(this);
this.g0.t();this.zH.t();this.Dq.t();this.nW.t()};dL.prototype.fL=function(K,o){var Y=K.EU.hq;this.Bk.EU.hq=Y;
this.Dq.T(Y)};dL.prototype.ic=function(K,o){this.$S=K;this.YC=JSON.stringify(K.Jm());this.Ds=[-1];var Y=["Global"],c=K.root.children,z=K.pH();
for(var y=0;y<c.length;y++){var f=c[y].a;if(f.add.artb){Y.push(f.getName());this.Ds.push(c[y].index)}}this.DG.Xs(Y);
this.DG.T(this.Ds.indexOf(z));this.eA()};dL.prototype.eA=function(){var K=this.$S,o=K.Jm(),Y=this.Ds[this.DG.h()],c=[0,0];
if(Y!=-1){var z=K.B[Y].Yv();c=[z.x,z.y]}var f=function($,E,K,b,q){var O=$[0],j=[];for(var y=0;y<O.length;
y++)if($[1][y]==Y&&O[y][0]==E)j.push(d.Rf.wk(O[y][1]-c[E],K.aE,b,q));j.sort(function(A,R){return A-R});
return j.join(", ")};this.g0.T(f(o,1,K,this.Bk,K.e));this.zH.T(f(o,0,K,this.Bk,K.m))};dL.prototype.Mz=function(K){if(K&&K.currentTarget==this.Dq)this.Bk.EU.hq=this.Dq.h();
else{var o=this.aaj(),Y=this.$S;Y.tg(o);Y.px=!0}this.eA()};dL.prototype.aaj=function(){var K=this.$S,o=K.Jm(),Y=this.Ds[this.DG.h()],c=[0,0];
if(Y!=-1){var z=K.B[Y].Yv();c=[z.x,z.y]}var f=[];for(var $=0;$<2;$++){var E=$==0?this.zH:this.g0,b=$==0?K.m:K.e,q=E.h().replace(/,/g," ").replace(/  +/g," ").trim(),O=q==""?[]:q.split(" ");
for(var y=0;y<O.length;y++)f.push([$,d.Rf.a0m(O[y],K.aE,this.Bk,b)+c[$]])}for(var y=0;y<o[0].length;
y++)if(o[1][y]==Y){o[0].splice(y,1);o[1].splice(y,1);y--}for(var y=0;y<f.length;y++){o[0].push(f[y]);
o[1].push(Y)}return o};dL.prototype.Pt=function(K){var o=this.$S;o.tg(JSON.parse(this.YC));o.px=!0;this.$S=null};
dL.prototype.Qq=function(K){this.Mz(K);var o=new h1(w.E.U,!0);o.f=m.Wh;o.data={d:"gids",CG:JSON.parse(this.YC),_s:this.$S.Jm()};
this.$S=null;this.close();this.c(o)};function eH(K){gQ.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch"}[K],K);
this.Bk=null;var o=I._("div","form");this.body.appendChild(o);o.setAttribute("style","width:300px");
this.Zm=new eO("Source Images",!0,!0);o.appendChild(this.Zm.n);this.qh=new bY([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.f0=new bb("Order images by name");this.f0.T(!0);var Y=this.azH=fv.L7();for(var y=0;y<Y.length;y++)if(fv.WD(Y[y]).MS){Y.splice(y,1);
y--}Y.push("SVG","PDF");this.O5=new bY([12,50],Y);this.PS=new kh;this.O5.k(w.E.p,this.Su,this);this.N7=new bY("Action Set",[]);
this.N7.k(w.E.p,this.fL,this);this.Mf=new bY("Action",[]);if(K=="pdfpres"){o.appendChild(this.qh.n);
o.appendChild(this.f0.n)}else{if(K=="batch"){o.appendChild(this.N7.n);I.Tg(o);o.appendChild(this.Mf.n);
I.Ud(o)}o.appendChild(this.O5.n);o.appendChild(this.PS.n)}var c=["VAR0 PDF",[1,8]];if(K=="cformat")c="Convert Images";
if(K=="batch")c="Process Images";var z=new eg(c,!0,null,!0);z.k("click",this.ME,this);o.appendChild(z.n);
this.Su()}eH.prototype=new gQ;eH.prototype.Su=function(K){var o=this.azH[this.O5.h()];this.PS.u3(o)};
eH.prototype.ME=function(K){var o=this.Zm.h(),Y=[],f=595,$=842;for(var c in o)Y.push(c);if(Y.length==0){alert("No images selected");
return}if(this.f0.h())Y.sort();var z=this.qh.h(),E=new ToPDF,b=UDOC.getState(),q=this.azH[this.O5.h()],O=fv.WD(q),j=this.PS.h(),A={};
for(var R=0;R<Y.length;R++){var c=Y[R],g=o[c],H=g[0]==255,i=fv.sR(g.buffer),h=fv.WD(i),x=[{eQ:new hD,data:new ArrayBuffer(0)}],F=null;
if(i=="psd"&&!O.MS)x=gA.aC0(g.buffer);else if(h.MS){F=new h7("file.psd");h.MW(g.buffer,F);F.Sm();if(!O.MS){if(F.$P)au.tF(F,this.Bk.zl,this);
F.W();F.Uj();x=[{eQ:new hD(0,0,F.m,F.e),data:F.Gl().buffer}]}}else x=h.MW(g.buffer);if(this.id=="batch"){var X=new h1(w.E.L,!0),V=this.Bk,U=V.TJ,Z=U[this.N7.h()];
for(var y=0;y<x.length;y++){F=fv.w_(c,[x[y]]);X.data={d:w.I.Pc,l_:F};this.c(X);if(F.B.length==3)F.Y=[1];
b0.ak9(F,U,Z.k6[this.Mf.h()].Mx,Z.Mx,this);F.W();F.Uj();x[y].eQ=new hD(0,0,F.m,F.e);x[y].data=F.Gl().buffer;
X.data={d:w.I.SM,zV:F};this.c(X)}}var T=x[0].eQ,v=new Uint8Array(x[0].data),P=T.m,p=T.e;if(this.id=="pdfpres"){var a=[[595,842],[842,595],[595,595],[595,0]][z];
if(z==3)a[1]=Math.round(a[0]*p/P);var f=a[0],$=a[1],D=Math.min(f/P,$/p);E.StartPage(0,0,f,$);b.ctm=[P*D,0,0,p*D,(f-P*D)/2,($-p*D)/2];
E.PutImage(b,H?g:v,P,p);E.ShowPage()}else{var n=c.split("."),N;n.pop();n.push(q.toLowerCase());if(O.MS)N=O.vc(F,F.m,F.e,j,this.Bk);
else{var W=[];for(var y=0;y<x.length;y++)W.push([x[y].data]);N=O.vc(W,P,p,j)}A[n.join(".")]=new Uint8Array(N)}}if(this.id=="pdfpres"){E.Done();
jm.save(E.buffer,"file.pdf")}else{jm.save(UZIP.encode(A),"images.zip")}};eH.prototype.fL=function(K,o){if(o!=null){this.Bk=K;
var Y=K.TJ,c=[];for(var y=0;y<Y.length;y++)c.push(Y[y].Mx);this.N7.Xs(c)}else K=this.Bk;var Y=K.TJ.length==0?[]:K.TJ[this.N7.h()].k6,c=[];
for(var y=0;y<Y.length;y++)c.push(Y[y].Mx);this.Mf.Xs(c)};eH.prototype.t=function(){gQ.prototype.t.call(this);
this.Zm.t();this.qh.t();this.f0.t()};function gr(K){var o=fn.names[K];if(o==null)o=jh.names[K];if(K=="aply")o=[2,12];
if(K=="fade")o=[2,11];if(K=="matc")o=[4,18];if(K=="blendOptions")o=[14,10];gQ.call(this,o,"afw_"+K);
this.pl=K;this.Qz=null;this.Vg=null;this.Cm=new dD[K];this.Cm.k(w.E.p,this.je,this);this.Cm.parent=this;
this.body.appendChild(this.Cm.n);this.ms=new bb([24,18,5]);this.ms.T(!0);this.ms.k(w.E.p,this.je,this);
this.X0=new eg([1,12,2],!0,null,!0);this.X0.k("click",this.a0,this);this.nW=I.ZW(this);if(this.Gv())this.Cm.TI(this.nW.n);
else{I.Px(this.Cm.n,"form");I.Px(this.body,"flexrow");this.Cm.n.setAttribute("style","width:312px");
var Y=I._("div");this.body.appendChild(Y);Y.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
Y.appendChild(this.nW.n);Y.appendChild(this.X0.n);Y.appendChild(this.ms.n)}this.k("closebtn",this.SF,this)}gr.prototype=new gQ;
gr.prototype.$l=function(){return!0};gr.prototype.Gv=function(){return this.Cm!=null&&this.Cm.l1()};
gr.prototype.uJ=function(){return this.Gv()?new jc(0,0):gQ.prototype.uJ()};gr.prototype.rC=function(K){return this.Cm.rC(K)};
gr.prototype.t1=function(){return this.Cm.t1()};gr.prototype.tx=function(K,o,Y,c,z){this.Cm.tx(K,o,Y,c,z)};
gr.prototype.D3=function(K,o,Y,c,z){this.Cm.D3(K,o,Y,c,z)};gr.prototype.pt=function(K,o,Y,c,z){this.Cm.pt(K,o,Y,c,z)};
gr.prototype.zR=function(K,o){if(this.pl=="fade")return gr.afH(K);return!0};gr.prototype.a0=function(K){this.Cm.T(fn.Ta(this.pl));
this.je()};gr.prototype.je=function(K){this.BU({d:"edit",ii:this.Cm.h(),BH:!this.ms.h()})};gr.prototype.SF=function(K){this.BU({d:"cancel"})};
gr.prototype.Qq=function(K){if(!this.ms.h()){this.ms.T(!0);this.je()}this.Vg=this.Cm.h();if(this.Gv())this.je();
this.BU({d:"confirm"});this.close()};gr.prototype.t=function(){gQ.prototype.t.call(this);this.ms.t();
if(this.Cm)this.Cm.t();this.nW.t()};gr.prototype.fL=function(K,o){if(this.Cm)this.Cm.fL(K,o)};gr.prototype.Ed=function(K,o,Y,c){if(this.Gv())this.Cm.Ed(c);
else gQ.prototype.Ed.call(this,K,o,Y,c)};gr.prototype.ic=function(K,o,Y,c){this.Qz=o.Qz;var z=K.add.lnk2?K.add.lnk2:[],f,$,E=new hD(0,0,K.m,K.e),b=K.B[K.Y[0]],q=null;
f=b.buffer;$=b.rect;if(this.Gv())q=K.Gl(K.Y[0]-1);var O=fn.Ta(this.pl),j=[z,K.Kl,K,Y];if(o.Qz==null){this.Cm.T(O,f,$,E,q,j);
if(jh.names[this.pl]){if(c.S(a1.cV)&&this.Vg)this.Cm.T(this.Vg);var A=m.rE.getData(K),R=d.$w(A[0].r4);
this.Cm.rW(R)}}else{var g=!1,b=K.B[this.Qz.a];if(b.Mn()){var H=b.wm(K);f=H.buffer;$=H.rect;var i=b.add.SoLd.filterFX.v.filterFXList.v;
if(i[this.Qz.index]){var h=i[this.Qz.index].v;this.Cm.T(this.pl=="blendOptions"?h.blendOptions.v:h.Fltr.v,f,$,E,q,j);
this.Cm.rW(d.$w(f));g=!0}}if(!g){this.Cm.T(O,f,$,E,q,j);this.Cm.rW(d.$w(f))}}if(!this.Gv()){this.je();
var x=this.Cm;if(x&&x.lS&&x.lS[0]&&x.lS[0].Qj)x.lS[0].Qj()}};gr.prototype.BU=function(K){var o=new h1(w.E.U,!0);
K.pl=this.pl;K.Qz=this.Qz;if(this.pl=="VaPo"){K.b=this.Cm.h();K.Ol=this.Cm.acH()}o.data=K;o.f=fn.names[this.pl]||this.Qz?m.lj:m.Ay;
o.vk=!0;this.c(o)};gr.prototype.Fx=function(K,o){if(!this.Cm.l1()){}else{this.body.style.padding="0";
this.Cm.Fx(K,o)}};gr.afH=function(K){if(K==null)return!1;var o=K.VE();if(o==null||!(o.data instanceof Array)||o.data.length!=K.Y.length)return!1;
for(var y=0;y<o.data.length;y++){var Y=o.data[y];if(Y.a<0&&K.Kl[-1-Y.a])return!0;if(Y.a==null||K.B[Y.a]==null||K.B[Y.a].xO!=Y.XJ)return!1;
if(K.Y.indexOf(Y.a)==-1)return!1}return!0};function k7(){gQ.call(this,[11,0],"camera");this.data=null;
this.cc=new jc(1,1);this.axS=[];var K=I._("div","form hbar");this.body.appendChild(K);this.ahu=new bY(null,[]);
this.zX=new bY([21,0],[[21,2],[21,1]]);K.appendChild(this.zX.n);this.PG=new bY(null,[]);this.PG.k(w.E.p,this.ae6,this);
K.appendChild(this.PG.n);this.qx=new eg([11,0],!1,null,!0);this.qx.k("click",this.ajn,this);K.appendChild(this.qx.n);
this.K1=new gJ("");K.appendChild(this.K1.n);this.stream=null;this.df=I._("video","");this.df.setAttribute("autoplay","true");
this.body.appendChild(this.df);this.agL=this.aqy.bind(this);this.a95=this.aw2.bind(this);this.auz=this.ard.bind(this);
this.k("closebtn",this.aqv,this)}k7.prototype=new gQ;k7.prototype.t=function(){gQ.prototype.t.call(this);
this.zX.t();this.qx.t();this.Fx(this.Fv,this.jd)};k7.prototype.Gl=function(){var K=this.df.videoWidth,o=this.df.videoHeight,Y=I._("canvas","");
Y.width=K;Y.height=o;var c=Y.getContext("2d");c.drawImage(this.df,0,0,K,o);var z=c.getImageData(0,0,K,o);
return{eQ:new hD(0,0,K,o),data:z.data.buffer}};k7.prototype.ajn=function(K){if(this.zX.h()==0)this.am9();
else this.aBd()};k7.prototype.aBd=function(){var K=this.Gl(),o={buffer:new Uint8Array(K.data),rect:K.eQ},Y=new h1(w.E.U,!0);
Y.vk=!0;Y.f=m._V;Y.data={d:S.fC,EZ:o};this.c(Y);alert(ca.get([21,4]))};k7.prototype.am9=function(){var K=this.Gl(),o=fv.w_("camera",[K]),Y=new h1(w.E.L,!0);
Y.data={d:w.I.Pc,l_:o};this.c(Y);alert(ca.get([21,5]))};k7.prototype.ic=function(K,o,Y){navigator.mediaDevices.enumerateDevices().then(this.aA$.bind(this))};
k7.prototype.aA$=function(K){var o=this.axS=[],Y=[];for(var y=0;y<K.length;y++)if(K[y].kind=="videoinput"){o.push(K[y]);
Y.push("Camera "+o.length)}this.PG.Xs(Y);this.PG.T(0);this.ae6()};k7.prototype.ae6=function(K){this.aqv();
var o={video:{deviceId:this.axS[this.PG.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(o).then(this.agL).catch(this.a95);
else navigator.webkitGetUserMedia(o,this.agL,this.a95)};k7.prototype.aqy=function(K){this.stream=K;this.df.srcObject=K;
this.df.addEventListener("loadedmetadata",this.auz,!1)};k7.prototype.ard=function(K){this.df.play();
this.Fx(this.Fv,this.jd)};k7.prototype.uJ=function(K,o){return new jc(0,0)};k7.prototype.Fx=function(K,o){var Y=this.df.videoWidth,c=this.df.videoHeight;
this.K1.T(Y+" x "+c+" px");this.K1.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.cc.Ex(Y,c);this.Fv=K;this.jd=o;var z=K-28,f=o-28-30,$=this.cc.x/this.cc.y;if(z/f>$)z=f*$;else f=z/$;
this.df.setAttribute("style","display: block; width: "+Math.round(z)+"px; height:"+Math.round(f)+"px;")};
k7.prototype.aw2=function(K){console.log("error",K);alert(ca.get([21,6]));this.close()};k7.prototype.aqv=function(K){if(this.stream!=null){var o=this.stream.getTracks();
for(var y=0;y<o.length;y++)o[y].stop();this.stream=null}};function bI(){gQ.call(this,[7,8],"crange");
this.$S=null;this.hv={Gi:73,g:4.45,J:4};this.V7={Gi:73,g:4.45,J:4};this.body.style.width="20em";this.ji=new bY([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.ji.k(w.E.p,this.anK,this);this.body.appendChild(this.ji.n);this.H$=I._("div","form");this.body.appendChild(this.H$);
var K=this.a9e=2,o=this.Uh=[new dr([12,92],0,200),new hQ([12,36],[[18,0],"\uFF0B","-"]),new dr([12,92],0,100,"%"),new h5("Min",0,255),new h5("Max",0,255)];
o[0].T(40);o[K].T(40);for(var y=0;y<o.length;y++){o[y].k(w.E.p,this.nF,this);o[y].parent=this}this.V=I._("canvas");
this.body.appendChild(this.V);this.nW=I.ZW(this,this.body)}bI.prototype=new gQ;bI.prototype.zR=function(K,o){return K!=null};
bI.prototype.t1=function(){return!0};bI.prototype.$l=function(){return!0};bI.prototype.anK=function(K){var o=this.ji.h(),Y=this.Uh,c=this.H$,z=0,f=Y.length,$=this.a9e;
if(o==0)f=$;else{z=$;Y[z+1].T([0,100,190][o-1]);Y[z+1].W6(o!=1);Y[z+2].T([60,150,255][o-1]);Y[z+2].W6(o!=3)}I.oA(c);
for(var y=z;y<f;y++){c.appendChild(Y[y].n)}this.nF()};bI.prototype.t=function(){gQ.prototype.t.call(this);
this.nW.t();this.ji.t();for(var y=0;y<this.Uh.length;y++)this.Uh[y].t()};bI.prototype.tx=function(K,o,Y,c,z){var f=K.Q.oh(z.x,z.y);
this.ava(f.x,f.y)};bI.prototype.ava=function(K,o){var Y=Math.min,c=Math.max,z=this.$S,f=c(0,Y(z.m-1,Math.floor(K))),$=c(0,Y(z.e-1,Math.floor(o))),E=z.Gl(),b=($*z.m+f)*4,q=E[b],O=E[b+1],j=E[b+2],A=d.yM(q,O,j),R=this.Uh[1].h(),g=this.hv,H=this.V7;
if(R==0){this.hv=JSON.parse(JSON.stringify(A));this.V7=A}else if(R==1){g.Gi=Y(g.Gi,A.Gi);g.g=Y(g.g,A.g);
g.J=Y(g.J,A.J);H.Gi=c(H.Gi,A.Gi);H.g=c(H.g,A.g);H.J=c(H.J,A.J)}else if(R==2){var i=(g.Gi+H.Gi)/2,h=(g.g+H.g)/2,x=(g.J+H.J)/2;
if(A.Gi<i)g.Gi=c(g.Gi,A.Gi+10);else H.Gi=Y(H.Gi,A.Gi-10);if(A.g<h)g.g=c(g.g,A.g+1);else H.g=Y(H.g,A.g-1);
if(A.J<x)g.J=c(g.J,A.J+1);else H.J=Y(H.J,A.J-1)}this.nF()};bI.prototype.Qq=function(K){var o=this.ji.h(),Y=this.Uh,c={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(o==0){var z=this.hv,f=this.V7;c.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:z.Gi},A:{t:"doub",v:z.g},B:{t:"doub",v:z.J}}};
c.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:f.Gi},A:{t:"doub",v:f.g},B:{t:"doub",v:f.J}}};c.Fzns={t:"long",v:Y[0].h()}}else{o--;
var $=["shadows","midtones","highlights"][o];c.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][o]}};if(0<o)c[$+"LowerLimit"]={t:"long",v:Y[3].h()};
if(o<2)c[$+"UpperLimit"]={t:"long",v:Y[4].h()};c[$+"Fuzziness"]={t:"long",v:Y[2].h()}}this.close();var E=new h1(w.E.hP,!0);
E.data={Rk:"colorRange",jU:c};this.c(E)};bI.prototype.ic=function(K,o){this.$S=K;this.ava(0,0);this.anK()};
bI.prototype.nF=function(){var K=this.$S,o=this.ji.h(),Y=this.hv,c=this.V7,z=this.Uh,f=z[0].h()/200,$=!1;
if(o>0){Y=z[3].h();c=z[4].h();if(Y>=c)Y=c-1;$=!0;f=z[2].h()/100}var E=m.PP.Zk(K,Y,c,f,$),b=E.rect,q=E.channel,O=this.V,j=O.getContext("2d"),A=Math.floor(230*I.GR()),R=Math.floor(A*(b.e/b.m));
O.width=A;O.height=R;I.vf(O,A,R);var g=d.R(q.length*4);d.nz(g,4294967295);for(var y=0;y<3;y++)d.cb(q,g,y);
var H=m.OB.Z6([g,b],new dF(A/b.m,0,0,R/b.e,0,0)),i=H.rect,h=new ImageData(new Uint8ClampedArray(H.buffer.buffer),i.m,i.e);
j.putImageData(h,0,0)};function dB(){gQ.call(this,[12,76,1],"createshape");this.U5=null;var K=I._("div","form");
K.setAttribute("style","width:20em");this.body.appendChild(K);this.N0=new cY(!0,!0,null,!0,!0);this.N0.T(new jc(100,100));
K.appendChild(this.N0.n);this.l0=new bb([19,5,3]);K.appendChild(this.l0.n);this.nW=I.ZW(this,K)}dB.prototype=new gQ;
dB.prototype.Qq=function(K){var o=this.N0.h();this.U5.amk(this.U5.ahG,o.x,o.y,this.l0.h());this.close()};
dB.prototype.t=function(){if(this.U5)this.f1=ca.get([5,3])+": "+ca.get(this.U5.asG);gQ.prototype.t.call(this);
this.nW.t();this.N0.t();this.l0.t()};dB.prototype.ic=function(K,o){this.U5=o;this.t();this.N0.T(this.N0.h(),K.aE)};
function h$(){gQ.call(this,[11,1],"colorpicker");this.ev=null;this.pp=null;this.dJ=null;this.XS=!1;this.cu=!1;
this.a2O=[.9642,1,.8249];var K=I._("div","flexrow"),$,E;this.body.appendChild(K);this.xc=new f2(256,!0);
this.xc.k(w.E.p,this.HB,this);K.appendChild(this.xc.n);var o=I._("div","form");o.setAttribute("style","width:14.5em; margin-left:1em;");
K.appendChild(o);var Y=I._("div","flexrow");o.appendChild(Y);var c=I._("div");Y.appendChild(c);c.style="width:95px; margin-right:14px";
this.ab5=I._("div","full");c.appendChild(this.ab5);this.a1c=I._("div","full");c.appendChild(this.a1c);
var c=I._("col");Y.appendChild(c);c.style.width="80px";this.nW=I.ZW(this,c);var Y=I._("div","flexrow");
o.appendChild(Y);var z=I._("div"),f=I._("div");Y.appendChild(z);Y.appendChild(f);z.style=f.style="margin-left:14px; max-width:80px;";
$=["H","S","B"];E=z;this.IB=[];for(var y=0;y<3;y++){var b=0,q=360,O="\xB0";if(y!=0){q=100;O="%"}var j=new h5($[y],b,q,O,0,!1,!0);
this.IB.push(j);j.k(w.E.p,this.aoR,this);E.appendChild(j.n);if(y==2)j.n.style.marginBottom="8px"}$=["R","G","B"];
E=z;this.W1=[];for(var y=0;y<3;y++){var j=new h5($[y],0,255,null,0,!1,!0);this.W1.push(j);j.k(w.E.p,this.axe,this);
E.appendChild(j.n)}$=["L","a","b"];E=f;this.rI=[];for(var y=0;y<3;y++){var b=[0,-128,-128][y],q=[100,127,127][y],j=new h5($[y],b,q,null,0,!1,!0);
j.T(0);this.rI.push(j);j.k(w.E.p,this.a8J,this);E.appendChild(j.n);if(y==2)j.n.style.marginBottom="8px"}$=["C","M","Y","K"];
E=f;this.nc=[];for(var y=0;y<4;y++){var j=new h5($[y],0,100,"%",0,!1,!0);j.T(0);this.nc.push(j);j.k(w.E.p,this.awS,this);
E.appendChild(j.n);if(y==3)j.n.style.marginBottom="8px"}this.g0=new cI("#",null,4.5);this.g0.k(w.E.p,this.P4,this);
z.appendChild(this.g0.n);this.g0.n.style.marginRight="0";this.Je=I._("input","fitem");this.Je.setAttribute("type","color");
this.Je.setAttribute("style","width:59px;  margin-left:19px;");this.Je.addEventListener("change",this.P4.bind(this),!1);
this._A=new cC(9);this._A.k(w.E.p,this.P4,this);o.appendChild(this._A.n);this.k("closebtn",this.SF,this);
this.cD=!1}h$.prototype=new gQ;h$.prototype.t1=function(){return!0};h$.prototype.uJ=function(K,o){if(Math.min(K,o)>500)return null;
return new jc(Math.max(0,Math.min(150,(K-484)/2)),Math.max(0,Math.min(150,(o-316)/2)))};h$.prototype.Fx=function(K,o){this.xc.Fx(Math.min(256,K-226),o)};
h$.prototype.t=function(K,o){gQ.prototype.t.call(this);for(var y=0;y<3;y++){this.W1[y].t();this.IB[y].t();
this.rI[y].t()}for(var y=0;y<4;y++)this.nc[y].t();this.nW.t()};h$.prototype.HB=function(K){this.pp=this.xc.h();
this.update()};h$.prototype.tx=function(K,o,Y,c,z){this.cD=!0;this.atk(K,z)};h$.prototype.D3=function(K,o,Y,c,z){if(!this.cD)return;
this.atk(K,z)};h$.prototype.pt=function(K,o,Y,c,z){this.cD=!1};h$.prototype.atk=function(K,o){var Y=m.XV.wD(K,o,1),c=Y&255,z=Y>>8&255,f=Y>>16&255;
this.pp={o:f/255,A:z/255,J:c/255};this.update()};h$.prototype.axe=function(K){var o=this.W1,Y=this.fQ(parseInt(o[0].h())),c=this.fQ(parseInt(o[1].h())),z=this.fQ(parseInt(o[2].h()));
this.pp={o:Y/255,A:c/255,J:z/255};this.update()};h$.prototype.aoR=function(K){var o=this.IB,Y=this.yq(parseInt(o[0].h())/360),c=this.yq(parseInt(o[1].h())/100),z=this.yq(parseInt(o[2].h())/100);
this.pp=d.xg(Y,c,z);this.update()};h$.prototype.awS=function(K){var o=this.nc,Y=[];for(var y=0;y<4;y++){var c=this.ag_(parseInt(o[y].h()));
o[y].T(c);Y.push(c/100)}var z=d.O6(Y);this.pp={o:z[0],A:z[1],J:z[2]};this.update(!0)};h$.prototype.a8J=function(K){var o=this.rI,Y=parseInt(o[0].h()),c=parseInt(o[1].h()),z=parseInt(o[2].h()),f=d.ui(Y,c,z);
this.pp={o:f.o/255,A:f.A/255,J:f.J/255};this.update()};h$.prototype.P4=function(K){var o;if(K.currentTarget==this._A)o=this._A.h();
else{o=K.currentTarget==this.g0?this.g0.h():this.Je.value;if(o.charAt(0)=="#")o=o.slice(1);if(o.length==3)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2];
o=d.po(o)}this.pp={o:(o>>16&255)/255,A:(o>>8&255)/255,J:(o&255)/255};this.update()};h$.prototype.NQ=function(K){var o=K.o,Y=K.A,c=K.J;
return Math.round(o*255)<<16|Math.round(Y*255)<<8|Math.round(c*255)};h$.prototype.Qq=function(K){this.aeC();
var o=this.NQ(this.pp);this.dJ(o);this.close();this.cu=!1;this.pp=null};h$.prototype.SF=function(K){this.aeC();
if(this.XS)this.dJ(this.NQ(this.ev));this.cu=!1;this.pp=null};h$.prototype.aeC=function(K){var o=new h1(w.E.L,!0);
o.data={d:w.I.aqk};this.c(o)};h$.prototype.fL=function(K,o){var Y=eh.Qw(K,o);if(Y!=null)this._A.T(Y);
if(o!=bB.R8)return;if(this.pp!=null){this.pp={o:(Y>>16&255)/255,A:(Y>>8&255)/255,J:(Y>>0&255)/255};this.update()}};
h$.prototype.ic=function(K,o){var Y=o.ws,c={o:(Y>>16&255)/255,A:(Y>>8&255)/255,J:(Y>>0&255)/255};if(this.pp==null){var z=new h1(w.E.L,!0);
z.data={d:w.I.eZ,gg:"crosshair",push:!0};this.c(z);this.cD=!1;this.dJ=o.n4;this.XS=!1;this.cu=o.jB;this.ev=JSON.parse(JSON.stringify(c));
this.a1c.setAttribute("style","height:2.3em;background-color:#"+d.lP(Y)+";")}this.pp=c;this.update()};
h$.prototype.update=function(K){var o=this.pp,Y=this.NQ(o);this.g0.T(d.lP(Y));this.Je.value="#"+d.lP(Y);
this.ab5.setAttribute("style","height:2.3em;background-color:#"+d.lP(Y)+";");var c=this.W1;c[0].T(Math.round(o.o*255));
c[1].T(Math.round(o.A*255));c[2].T(Math.round(o.J*255));var z=d.Sc(o.o,o.A,o.J);c=this.IB;c[0].T(Math.round(z.jd*360));
c[1].T(Math.round(z.ZO*100));c[2].T(Math.round(z.ii*100));var f=d.yM(o.o*255,o.A*255,o.J*255,this.a2O);
c=this.rI;c[0].T(Math.round(f.Gi));c[1].T(Math.round(f.g));c[2].T(Math.round(f.J));if(K==null){var $=d.fO([o.o,o.A,o.J]);
c=this.nc;c[0].T(Math.round($[0]*100));c[1].T(Math.round($[1]*100));c[2].T(Math.round($[2]*100));c[3].T(Math.round($[3]*100))}this.xc.T(o);
if(this.cu){this.dJ(this.NQ(this.pp));this.XS=!0}};h$.prototype.ag_=function(K){return Math.max(0,Math.min(100,K))};
h$.prototype.fQ=function(K){return Math.max(0,Math.min(255,K))};h$.prototype.yq=function(K){return Math.max(0,Math.min(1,K))};
function bU(){gQ.call(this,[11,2],"contoureditor");this.axt=null;this.j8=null;this.response=null;this.MJ=I._("div","cell");
this.body.appendChild(this.MJ);this.Bl=I._("div","cell padded");this.body.appendChild(this.Bl);var K=I._("div","bordered padded vmargin");
this.MJ.appendChild(K);this.Cm=new cm(null,null,!0);this.Cm.k(w.E.p,this.$W,this);K.appendChild(this.Cm.n);
this.nW=I.ZW(this,this.Bl);this.k("closebtn",this._z,this)}bU.prototype=new gQ;bU.prototype.Qq=function(){this.close()};
bU.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();this.Cm.t()};bU.prototype.$W=function(K){this.j8.Crv.v=this.Cm.h();
this.response(this.j8)};bU.prototype._z=function(K){this.response(this.axt)};bU.prototype.ic=function(K,o){this.axt=JSON.parse(JSON.stringify(o.k6));
this.j8=o.k6;this.response=o.response;this.Cm.T(this.j8.Crv.v)};function aZ(){gQ.call(this,[11,4],"duplinto");
this.zV=null;this.gl=null;this.vz=null;var K=I._("div","form");K.setAttribute("style","max-width:26em");
this.body.appendChild(K);this.UI=new bY([12,43],["abc","def"]);this.UI.k(w.E.p,this.Jr,this);K.appendChild(this.UI.n);
I.Tg(K);this.hT=new bY([1,16,0],["abc","def"]);this.hT.k(w.E.p,this.Jr,this);K.appendChild(this.hT.n);
I.Tg(K);this.tP=new cI([12,48],null,14);K.appendChild(this.tP.n);this.nW=I.ZW(this,K)}aZ.prototype=new gQ;
aZ.prototype.$l=function(){return!0};aZ.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();
this.UI.t();this.tP.t()};aZ.prototype.Jr=function(K){if(K&&K.target==this.hT)return;var o=this.UI.h(),Y=this.gl[o],c=this.zV,z=Y!=null&&Y.add.artd!=null;
for(var y=0;y<c.Y.length;y++)if(c.B[c.Y[y]].add.artb)z=!1;this.tP.W6(o==this.gl.length);this.hT.W6(z);
if(z){var f=Y.root.children,$=[],E=this.vz=[];for(var y=0;y<f.length;y++){var b=f[y].a;if(b.add.artb)$.push(b.getName());
E.push(f[y].index)}this.hT.Xs($);this.hT.T(0)}else this.vz=null};aZ.prototype.ic=function(K,o,Y){this.zV=K;
this.gl=Y;this.tP.T(K.Y.length==0?"Layer":K.B[K.Y[0]].getName());var c=[];for(var y=0;y<Y.length;y++){var z=Y[y].name;
c.push(z.length<30?z:z.slice(0,27)+"...")}c.push([11,7]);this.UI.Xs(c);this.UI.T(Y.indexOf(K));this.Jr(null)};
aZ.prototype.Qq=function(K){var o=this.UI.h();if(o==this.gl.length){var Y=new h7(this.tP.h()+".psd"),c=this.zV.m,z=this.zV.e,f=this.zV.pH();
if(f!=-1){var $=this.zV.B[f].Yv();c=$.m;z=$.e}Y.m=c;Y.e=z;Y.buffer=d.R(Y.m*Y.e*4);var E=Y.Uu();E.vd("Background");
Y.$p([E]);var b=new h1(w.E.L,!0);b.vk=!0;b.data={d:w.I.Pc,l_:Y};this.c(b)}var q=this.zV.be(null,this.zV!=this.gl[o]),b=new h1(w.E.U,!0);
b.data={d:S.Zn,B:q,lQ:this.zV,LZ:this.gl[o]};if(this.vz)b.data.Pv=this.vz[this.hT.h()];b.f=m._V;b.vk=!0;
this.c(b);this.close()};function fY(){gQ.call(this,[1,9],"eassets");this.Bk=null;this.L$=null;var K=this.body;
I.Px(K,"form");K.style.width="32em";this.ji=new hQ(null,["Layers","Combinations"]);this.ji.k(w.E.p,this.eA,this);
K.appendChild(this.ji.n);I.Ud(K);this.vU=I._("span");K.appendChild(this.vU);this.C6=I._("div");K.appendChild(this.C6);
var o=I._("div"),Y=I._("div","flexrow");this.aiu=[o,Y];this.KX=[new bb("Only layers / folders, whose name starts with \"-e-\""),new bb("Remove parts outside the canvas"),new bb("Trim transparent parts")];
for(var y=0;y<3;y++){var c=this.KX[y];c.T(!0);c.k(w.E.p,this.eA,this);o.appendChild(c.n);I.Tg(o)}this.nr=new i1([12,14,0],["1x","2x","3x","4x"]);
this.nr.T([!0,!1,!1,!1]);o.appendChild(this.nr.n);var z=I._("div");Y.appendChild(z);var f=I._("img");
f.setAttribute("src","img/nft.png");f.style.width="150px";Y.appendChild(f);var $=I._("span");$.textContent="File Names:";
z.appendChild($);this.aW=new i1(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
z.appendChild(this.aW.n);this.aW.T([!0,!1,!1]);I.Ud(K);this.ES=["PNG","JPG","SVG","TIFF","TGA"];this.$A=new bY([12,50],this.ES);
this.$A.k(w.E.p,this.Su,this);K.appendChild(this.$A.n);this.PS=new kh;K.appendChild(this.PS.n);this.nW=new eg([1,9],!0,null,!0);
this.nW.k("click",this.Qq,this);K.appendChild(this.nW.n);this.k("closebtn",this.wB,this)}fY.prototype=new gQ;
fY.prototype.Su=function(K){this.PS.u3(this.ES[this.$A.h()],!1,!1,!1,this.L$.ie()!=null)};fY.prototype.wB=function(K){this.L$=null};
fY.prototype.t=function(){gQ.prototype.t.call(this);this.$A.t();this.nr.t();this.nW.t();this.PS.t()};
fY.prototype.ic=function(K,o,Y){this.L$=K;this.eA()};fY.prototype.eA=function(K){var o=this.ji.h(),Y;
I.oA(this.C6);this.C6.appendChild(this.aiu[o]);if(o==0){var c=this.at8();Y=c.length+" exportable layers"}else{var c=this.a1V();
Y=c[1]+" combinations ("+c[0].join(" \xD7 ")+")"}this.vU.textContent="- - - "+Y;this.Su(null)};fY.prototype.at8=function(){var K=this.KX[0].h(),o=[],Y=this.L$;
for(var y=0;y<Y.B.length;y++){var c=Y.B[y],z=c.getName();if(!K&&!c.f$()&&!c.rect.xf()||z.startsWith("-e"))o.push(y)}return o};
fY.prototype.a1V=function(){var K=this.L$,o=K.root.children,Y=[],c=1,z=[];for(var y=0;y<o.length;y++){var f=o[y],$=f.a;
if($.f$()){var E=f.children.length;Y.push(E);c*=E;z.push(f.index)}$}return[Y,c,z]};fY.prototype.fL=function(K,o){this.Bk=K};
fY.prototype.Qq=function(K){var o=this.L$,Y=this.ji.h(),c=[this.ES[this.$A.h()]],z=[this.PS.h()],f={};
if(Y==0){var E=this.nr.h(),b={},q=this.at8();if(q.length==0){alert("No layers to export.");return}var O=[this.KX[1].h(),this.KX[2].h()];
for(var y=0;y<q.length;y++){var j=q[y],A=o.B[j],R=A.getName();if(b[R]!=null){b[R]++;R+=" "+b[R]}else b[R]=1;
var g=A.KL();A.dt(!0);for(var H=0;H<E.length;H++){if(!E[H])continue;var i=H+1,h=m.sq.a9D(o,c,i,this.Bk,j,z,O);
for(var x=0;x<c.length;x++){var F=c[x],X=R.slice(R.startsWith("-e-")?3:0)+(i==1?"":"@"+i+"x")+"."+F.toLowerCase();
if(h[x])f[X]=new Uint8Array(h[x])}}A.dt(g)}}else{var g=[];for(var y=0;y<o.B.length;y++)g.push(o.B[y].KL());
var V=this.a1V(),U=V[0],q=V[2],Z=[];function T(a,j,D,n){if(j==a.length){n.push(D.slice(0));return}var N=a[j];
for(var y=0;y<N;y++){D.push(y);T(a,j+1,D,n);D.pop(y)}}T(U,0,[],Z);var v=this.aW.h().indexOf(!0);this.u6=[Z,f,q,c,z,g,v,this.auY.bind(this),0,0];
this.auY();return}var P=UZIP.encode(f),p=new h1(w.E.L,!0);p.data={d:w.I.fv,data:P,name:"assets.zip"};
this.c(p)};fY.prototype.auY=function(){var K=this.u6,o=K[0],Y=K[1],c=this.L$,z=K[2],f=K[3],$=K[4],E=K[5],b=K[6],q=K[7],O=0;
while(o.length!=0&&O<1e3){var j=Date.now(),A=o.shift(),R=[];for(var y=0;y<A.length;y++){var g=c.root.w3(z[y]);
for(var H=0;H<g.children.length;H++)g.children[H].a.dt(!1);var i=g.children[A[y]].a;R.push(b==2?i.getName():g.a.getName()+A[y]);
i.dt(!0)}c.W();c.Uj();var h=(b==0?A:R).join("-")+"."+f[0].toLowerCase();Y[h]=new Uint8Array(fv.lU(c,f[0],c.m,c.e,$[0],this.Bk));
K[8]++;K[9]+=Y[h].length;O+=Date.now()-j}if(o.length!=0){alert(K[8]+" done, "+gO.Es(K[9])+".",800);setTimeout(q,35);
return}for(var y=0;y<c.B.length;y++)c.B[y].dt(E[y]);c.W();var x=UZIP.encode(Y),F=new h1(w.E.L,!0);F.data={d:w.I.fv,data:x,name:"assets.zip"};
this.c(F)};function jX(){gQ.call(this,"Export Color Lookup Tables","exlut");this.Bk=null;this.L$=null;
var K=I._("div","form");K.setAttribute("style","width:20em");this.body.appendChild(K);this.KX=[new h5("Grid Points",1,256),new hQ([12,50],[".CUBE"])];
var o=[16,0];for(var y=0;y<this.KX.length;y++){var Y=this.KX[y];Y.T(o[y]);Y.parent=this;Y.k(w.E.p,this.eA,this);
K.appendChild(Y.n);I.Tg(K)}this.nW=I.ZW(this,K);this.k("closebtn",this.wB,this)}jX.prototype=new gQ;
jX.prototype.zR=function(K,o){if(Math.min(K.m,K.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(K.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};jX.prototype.wB=function(K){this.L$=null};jX.prototype.fL=function(K,o){this.Bk=K};
jX.prototype.ic=function(K,o,Y){this.L$=K};jX.prototype.Qq=function(){var K=this.L$,o=this.KX[0].h(),Y=[],c=new hD(0,0,K.m,K.e),z=d.R(o*o*4),f=z.slice(0),$=new hD(K.m-o>>>1,K.e-o>>>1,o,o),E=K.B[0],b=E.buffer,q=E.rect;
E.rect=$;E.buffer=z;for(var O=0;O<o;O++){this.aiF(o,O,z);E.W($);K.W($);var j=K.Gl();d.iF(j,c,f,$);for(var A=0;
A<o;A++)for(var R=0;R<o;R++){var g=A*o+R<<2;Y.push(f[g]/255,f[g+1]/255,f[g+2]/255)}}var H=f1.aaa(Y,o,K.name);
jm.save(H,K.name.split(".")[0]+".CUBE");E.buffer=b;E.rect=q;E.W();K.W()};jX.prototype.aiF=function(K,o,Y){var c=255/(K-1),z=Math.round(o*c);
for(var f=0;f<K;f++)for(var $=0;$<K;$++){var E=f*K+$<<2;Y[E]=Math.round($*c);Y[E+1]=Math.round(f*c);
Y[E+2]=z;Y[E+3]=255}};jX.prototype.t=function(){gQ.prototype.t.call(this);for(var y=0;y<this.KX.length;
y++)this.KX[y].t();this.nW.t()};function ia(){gQ.call(this,[1,14],"finfo");this.n_=null;this.M1=null;
this.Uz=null;this.BC=I._("div","form scrollable label12");this.BC.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.BC);var K=I._("div","form");this.body.appendChild(K);this.pv=new bY(null,["Hello"]);
K.appendChild(this.pv.n);this.ahT=new eg("Add Parameter",!1,null,!0);K.appendChild(this.ahT.n);this.ahT.k("click",this.$V,this);
this.BB=new eg("=== S A V E ===",!1,null,!0);K.appendChild(this.BB.n);this.BB.k("click",this.qw,this);
this.a93=""}ia.prototype=new gQ;ia.prototype.uJ=function(K,o){return K<450||o<450?new jc(0,0):new jc(150,100)};
ia.prototype.$V=function(K){if(this.Uz.length==0)return;var o=this.Uz[this.pv.h()],Y=this.CZ();Y[o]=fT.jp[o][0];
this.ru(Y);this.M1[o].n.scrollIntoView();this.M1[o].Qj()};ia.prototype.nq=function(K){var o=this.CZ();
delete o[K.currentTarget.asS];this.ru(o)};ia.prototype.qw=function(K){var o=this.CZ(),Y=this.n_,c=!0;
for(var z in Y)if(JSON.stringify(Y[z])!=JSON.stringify(o[z]))c=!1;for(var z in o)if(JSON.stringify(Y[z])!=JSON.stringify(o[z]))c=!1;
if(c)return;var f=new h1(w.E.U,!0);f.f=m._V;f.data={d:S.ON,vi:o};this.c(f);this.n_=o;this.ru(o)};ia.ayq=function(K){function o(z){var f=z.toLowerCase();
return z==f}var Y=K.split(":").pop();for(var c=1;c<Y.length-1;c++){if(Y[c]==Y[c].toUpperCase()&&(o(Y[c+1])||o(Y[c-1]))){Y=Y.slice(0,c)+" "+Y.slice(c);
c++}}return Y};ia.prototype.ic=function(K,o){this.n_=K.Ou;this.ru(K.Ou)};ia.prototype.ru=function(K){var o=this.BC,z=0;
I.oA(o);var Y=this.M1={},c=["tiff","exif","exif:GPS"],f=this.Uz=[],$=[];for(var E in fT.jp){var b=ia.ayq(E),q=0,O=15,j=null;
if(K[E]==null){if(fT.jp[E].length!=1||E=="photoshop:Credit"||E=="photoshop:Source"){f.push(E);$.push(b)}continue}for(var y=0;
y<c.length;y++)if(E.startsWith(c[y]))q=y;if(q!=z){I.Ud(o);z=q}if(E=="tiff:ImageDescription"||E=="dc:Keywords"){O=18.5;
j=3}var A=new cI(b,null,O,j);Y[E]=A;var R=K[E];if(R instanceof Array)R=R[1]==0?"---":R[0]+"/"+R[1];var g=new eg("\u2716",null,ca.get([5,4]));
o.appendChild(g.n);g.k("click",this.nq,this);g.asS=E;A.T(R);o.appendChild(A.n);I.Tg(o);if(E=="exif:GPSLongitude"&&K["exif:GPSLatitude"]){this.a93=ia.ahS(K["exif:GPSLatitude"])+","+ia.ahS(K["exif:GPSLongitude"]);
var H=new eg("Show on map",!1,null,!0);o.appendChild(H.n);I.Tg(o);H.k("click",this.ajx,this)}}this.pv.Xs($);
this.pv.T(0)};ia.prototype.CZ=function(){var K=this.M1,o=fT.jp,Y={};for(var c in o){var z=o[c][0],f=typeof z;
if(z==null||K[c]==null)continue;var $=K[c].h(),E="The value of \""+ia.ayq(c)+"\" must ";if(f=="number"){$=parseFloat($);
if(isNaN($)){alert(E+"be a number.");$=z}}else if(z instanceof Array&&z.length==2){if($.indexOf("/")==-1){alert(E+"be a fraction.");
$=z.slice(0)}else{$=$.split("/").map(parseFloat);if(isNaN($[0])||isNaN($[1])){$=z.slice(0)}}}Y[c]=$}return Y};
ia.ahS=function(K){var o=K.length,Y=K.slice(0,o-1).split(",").map(parseFloat),c=K.slice(o-1),z=Y[0]+Y[1]/60+Y[2]/3600;
if(c!="N"&&c!="E")z=-z;return z};ia.prototype.ajx=function(K){window.open("https://maps.google.com?q="+this.a93,"Map")};
function dn(){gQ.call(this,[11,5],"gradienteditor");this.ev=null;this.pp=null;this.nE=null;this.dJ=null;
this.XS=!1;this.cu=!1;this.Aa=null;this.Z9=null;this.ju=-1;this.wv=-1;this.rS=0;this.P0=this.v0.bind(this);
this.BR=this.V5.bind(this);this.V=I._("canvas");this.$F=this.V.getContext("2d");this.V.setAttribute("style","display:block");
this.fm=null;I._I(this.V);I.Xh(this.V,this.nO.bind(this));this.vK=I._("div","form");this.k0=I._("div");
this.Zs=I._("div","form");this.aK=I._("div");this.Vq=new bY([12,44],[[15,10,0],[24,6]]);this.Vq.k(w.E.p,this.XH,this);
this.body.appendChild(this.Vq.n);I.Ud(this.body);var K=this.vK;this.vj=new h5([19,3,3],0,100,"%");this.vj.k(w.E.p,this.XH,this);
this.vj.parent=this;K.appendChild(this.vj.n);I.Tg(K);this.wg=new gJ([12,0]);K.appendChild(this.wg.n);
this.$Q=I._("div","bordered padded noalign");K.appendChild(this.$Q);this.al=new h5([12,0],0,100,"%");
this.al.parent=this;this.al.k(w.E.p,this.XH,this);this.$Q.appendChild(this.al.n);this.J2=new h5([12,40],0,100,"%");
this.J2.parent=this;this.J2.k(w.E.p,this.XH,this);this.$Q.appendChild(this.J2.n);this.pg=new eg([5,4],!1,null,!0);
this.pg.k("click",this.ayl,this);this.$Q.appendChild(this.pg.n);K.appendChild(this.k0);this.aun=new gJ([13,0]);
K.appendChild(this.aun.n);this.Y1=I._("div","bordered padded noalign");K.appendChild(this.Y1);this.Du=new bY([12,44],[[12,45],[12,46],[12,47]]);
this.Du.k(w.E.p,this.XH,this);this.Y1.appendChild(this.Du.n);this.lq=new gK(!0);this.lq.parent=this;
this.lq.k(w.E.p,this.XH,this);this.Y1.appendChild(this.lq.n);this.e6=new h5([12,40],0,100,"%");this.e6.parent=this;
this.e6.k(w.E.p,this.XH,this);this.Y1.appendChild(this.e6.n);this.q_=new eg([5,4],!1,null,!0);this.q_.k("click",this.aC5,this);
this.Y1.appendChild(this.q_.n);var K=this.Zs;this.qe=new h5("Roughness",0,100,"%");this.qe.k(w.E.p,this.XH,this);
this.qe.parent=this;K.appendChild(this.qe.n);K.appendChild(this.aK);this.zo=new eg([25,1,2],!1,null,!0);
this.zo.k("click",this.XH,this);K.appendChild(this.zo.n);this.nW=I.ZW(this);this.k("closebtn",this.SF,this)}dn.prototype=new gQ;
dn.prototype.SF=function(K){if(this.XS)this.dJ(this.ev)};dn.prototype.t=function(){gQ.prototype.t.call(this);
this.nW.t();this.vj.t();this.wg.t();this.aun.t();this.pg.t();this.q_.t();this.al.t();this.J2.t();this.Du.t();
this.e6.t();this.zo.t()};dn.prototype.fL=function(K,o){this.nE=K};dn.prototype.ic=function(K,o){this.pp=JSON.parse(JSON.stringify(o.H));
this.ev=JSON.parse(JSON.stringify(o.H));this.Aa=this.Z9=null;this.dJ=o.n4;this.XS=!1;this.cu=o.jB;this.Bf();
this.wr()};dn.prototype.Qq=function(K){var o=this.pp;this.dJ(o);this.close()};dn.prototype.rC=function(K){return K==a1.v1||K==a1.QC};
dn.prototype.Ed=function(K,o,Y,c){if(c.S(a1.v1)||c.S(a1.QC)){if(this.Z9)this.ayl();if(this.Aa)this.aC5()}};
dn.prototype.ayl=function(K){var o=this.pp.Trns.v;if(this.Z9==null||o.length==1)return;o.splice(o.indexOf(this.Z9),1);
this.Z9=null;this.Bf();this.wr()};dn.prototype.aC5=function(K){var o=this.pp.Clrs.v;if(this.Aa==null||o.length==1)return;
o.splice(o.indexOf(this.Aa),1);this.Aa=null;this.Bf();this.wr()};dn.prototype.Bf=function(){var K=this.V,o=this.$F,Y=I.GR();
K.width=Math.floor(410*Y);K.height=Math.floor(70*Y);I.vf(K,K.width,K.height);K.style.marginTop="8px";
this.fm=new hD(0,0,Math.floor(380*Y),Math.floor(32*Y));this.fm.x=Math.floor((K.width-this.fm.m)/2);this.fm.y=Math.floor((K.height-this.fm.e)/2);
var c=this.fm,z=c.m,f=c.e,$=c.x,E=c.y,b=new hD(0,0,z,f),q=o.getImageData(0,0,z,f),O=new Uint8Array(q.data.buffer);
d.uD(O,z,f,8);var j=d.R(z*f*4);d.H.EI(this.pp,j,b,[1/z,0,0,1/f],z/2,f/2,!1,0,this.nE.qm,this.nE.YQ);
d.l.To("norm",j,c,O,c,c,1);o.clearRect(0,0,K.width,K.height);o.putImageData(q,$,E);var A=this.pp;if(A.Clrs){var R=A.Trns.v,g=A.Clrs.v,H=d.H.JE(A,this.nE.qm,this.nE.YQ),i=Math.round(6*I.GR()),h=Math.round(14*I.GR()),x=this.Z9?this.Z9.v:null,F=this.Aa?this.Aa.v:null;
for(var y=0;y<R.length;y++){var X=R[y].v,V=Math.round(255-255*X.Opct.v.val/100);if((X==x||R[y-1]&&R[y-1].v==x||y==this.wv)&&y!=0){o.fillStyle="#000000";
o.fillRect($-3+z*(R[y-1].v.Lctn.v+(X.Lctn.v-R[y-1].v.Lctn.v)*X.Mdpn.v/100)/4096,E-6-2,6,6)}if(X==x){o.fillStyle="#ffffff";
o.fillRect($-i+z*(X.Lctn.v/4096)-2,E-2-h-2,2*i+4,h+4)}o.fillStyle="rgb("+V+","+V+","+V+")";o.fillRect($-i+z*(X.Lctn.v/4096),E-2-h,2*i,h)}for(var y=0;
y<g.length;y++){var U=g[y].v,Z=H[0][y][0];if((U==F||g[y-1]&&g[y-1].v==F||y==this.ju)&&y!=0){o.fillStyle="#000000";
o.fillRect($-3+z*(g[y-1].v.Lctn.v+(U.Lctn.v-g[y-1].v.Lctn.v)*U.Mdpn.v/100)/4096,E+f+2,6,6)}if(U==F){o.fillStyle="#ffffff";
o.fillRect($-i+z*(U.Lctn.v/4096)-2,E+f+2-2,2*i+4,h+4)}o.fillStyle="rgb("+Math.round(Z.o)+", "+Math.round(Z.A)+","+Math.round(Z.J)+")";
o.fillRect($-i+z*(U.Lctn.v/4096),E+f+2,2*i,h)}}if(this.cu){this.dJ(this.pp);this.XS=!0}};dn.prototype.wr=function(){var K=this.pp,o=K.Clrs?0:1;
this.Vq.T(o);if(I.qO(this.vK))this.body.removeChild(this.vK);if(I.qO(this.Zs))this.body.removeChild(this.Zs);
(o==0?this.k0:this.aK).appendChild(this.V);if(o==0){this.body.appendChild(this.vK);this.vj.T(Math.round(100*K.Intr.v/4096));
var Y=K.Trns.v,c=K.Clrs.v,z=this.Z9!=null,f=this.wv!=-1;this.al.W6(z);this.J2.W6(z||f);this.pg.W6(z);
if(z){this.$Q.setAttribute("style","");var $=this.Z9.v;this.J2.T(Math.round(100*$.Lctn.v/4096));this.al.T($.Opct.v.val)}if(f)this.J2.T(Y[this.wv].v.Mdpn.v);
var z=this.Aa!=null,f=this.ju!=-1;this.Du.W6(z);this.lq.W6(z);this.e6.W6(z||f);this.q_.W6(z);if(z){this.Y1.setAttribute("style","");
var E=this.Aa.v;this.e6.T(Math.round(100*E.Lctn.v/4096));var b=E.Type.v.Clry;this.Du.T(["FrgC","BckC","UsrS"].indexOf(b));
if(b=="FrgC")this.lq.Nh(this.nE.qm);if(b=="BckC")this.lq.Nh(this.nE.YQ);if(b=="UsrS")this.lq.T(E.Clr.v)}if(f)this.e6.T(c[this.ju].v.Mdpn.v)}else{this.body.appendChild(this.Zs);
this.qe.T(Math.round(100*K.Smth.v/4096))}this.body.appendChild(this.nW.n)};dn.prototype.XH=function(K){var o=this.pp,Y=o.Clrs?0:1;
if(K.target==this.Vq){var c=Y==0?JSON.parse(eF.tG.awM).v:fn.Ta("grdm").Grad.v;this.pp=c;this.wr();this.Bf();
return}if(Y==0){o.Intr.v=Math.round(4096*this.vj.h()/100);var z=o.Trns.v,f=o.Clrs.v;if(this.Z9!=null){var $=this.Z9.v;
$.Lctn.v=Math.round(4096*(this.J2.h()/100));$.Opct.v.val=this.al.h()}if(this.Aa!=null){var E=this.Aa.v;
E.Lctn.v=Math.round(4096*(this.e6.h()/100));if(K.target==this.lq)this.Du.T(2);var b=this.Du.h();E.Type.v.Clry=["FrgC","BckC","UsrS"][b];
if(b==2)E.Clr={t:"Objc",v:this.lq.h()};else if(E.Clr)delete E.Clr}if(this.wv!=-1)z[this.wv].v.Mdpn.v=this.J2.h();
if(this.ju!=-1)f[this.ju].v.Mdpn.v=this.e6.h()}else{o.Smth.v=Math.round(4096*this.qe.h()/100);if(K.target==this.zo)o.RndS.v=Math.floor(Math.random()*4294967295)}this.Bf()};
dn.prototype.nO=function(K){var o=I._9(K,this.V),Y=this.fm,c=(o.x*I.GR()-Y.x)/Y.m,z=(o.y*I.GR()-Y.y)/Y.e,f=this.pp.Trns.v,$=this.pp.Clrs.v,E=null,b=null,q=-1,O=-1;
if(z<1)for(var y=0;y<f.length;y++){var j=f[y].v;if(Math.abs(j.Lctn.v/4096-c)<.02)E=f[y];if(y>0)if(Math.abs((f[y-1].v.Lctn.v+(j.Lctn.v-f[y-1].v.Lctn.v)*j.Mdpn.v/100)/4096-c)<.01)q=y}if(z>0)for(var y=0;
y<$.length;y++){var A=$[y].v;if(Math.abs(A.Lctn.v/4096-c)<.02)b=$[y];if(y>0)if(Math.abs(($[y-1].v.Lctn.v+(A.Lctn.v-$[y-1].v.Lctn.v)*A.Mdpn.v/100)/4096-c)<.01)O=y}if(b==null&&E==null&&q==-1&&O==-1){if(z<0){var j={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
j.v.Lctn.v=Math.round(c*4096);f.push(j);f.sort(this.Ll);E=j}if(z>1){var $=this.pp.Clrs.v,R=d.H.JE(this.pp,this.nE.qm,this.nE.YQ),g=d.H.Ss(this.pp,R,c),A={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:d.H.eD({o:g&255,A:g>>8&255,J:g>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
A.v.Lctn.v=Math.round(c*4096);$.push(A);$.sort(this.Ll);b=A}}if(b!=null)O=-1;if(E!=null)q=-1;if(b!=null||E!=null||q>-1||O>-1){this.Z9=E;
this.Aa=b;this.wv=q;this.ju=O;this.wr();this.Bf();I.TG(window,this.P0);I.HX(window,this.BR)}};dn.prototype.v0=function(K){var o=I._9(K,this.V),Y=this.fm,c=(o.x*I.GR()-Y.x)/Y.m,z=(o.y*I.GR()-Y.y)/Y.e;
c=Math.max(0,Math.min(1,c));var f=this.pp.Trns.v,$=this.pp.Clrs.v;if(this.Z9!=null){var E=this.Z9.v;
E.Lctn.v=Math.round(4096*c);var b=f.indexOf(this.Z9);if(b!=-1&&z<-1&&f.length>1)f.splice(b,1);if(b==-1&&z>-1)f.push(this.Z9);
f.sort(this.Ll)}if(this.Aa!=null){var q=this.Aa.v;q.Lctn.v=Math.round(4096*c);var O=$.indexOf(this.Aa);
if(O!=-1&&z>2&&$.length>1)$.splice(O,1);if(O==-1&&z<2)$.push(this.Aa);$.sort(this.Ll)}if(this.wv>-1){var E=f[this.wv].v;
E.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-f[this.wv-1].v.Lctn.v)/(E.Lctn.v-f[this.wv-1].v.Lctn.v))))}if(this.ju>-1){var q=$[this.ju].v;
q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-$[this.ju-1].v.Lctn.v)/(q.Lctn.v-$[this.ju-1].v.Lctn.v))))}if(this.Z9!=null||this.Aa!=null||this.wv>-1||this.ju>-1){this.wr();
this.Bf()}};dn.prototype.V5=function(K){I.oH(window,this.P0);I.O1(window,this.BR);if(Date.now()-this.rS<300){if(this.ju!=-1||this.wv!=-1){var o=(this.ju!=-1?this.pp.Clrs.v[this.ju]:this.pp.Trns.v[this.wv]).v;
o.Mdpn.v=50;this.wr();this.Bf()}else if(this.Aa!=null)this.lq.PT()}this.rS=Date.now()};dn.prototype.Ll=function(K,o){return K.v.Lctn.v-o.v.Lctn.v};
function g$(K){gQ.call(this,K=="isize"?[11,10]:[11,3],K);this.aB8=K;var o=I._("div","form");o.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(o);var Y=K=="csize";this.arD=new gJ("Hi");o.appendChild(this.arD.n);I.Tg(o);this.N0=new cY(!0,!0,Y,Y,!0);
if(Y)this.N0.aAa(!1);o.appendChild(this.N0.n);this.ly=new bb([12,25,3]);this.ly.T(!0);this.ly.k(w.E.p,this.aab,this);
this.MC=new bY(null,[[12,14,2],[12,14,3],[12,14,4]]);this.MC.T(1);this.X8=new ac([12,23,2],41);this.X8.T(4);
if(K=="isize"){o.appendChild(this.ly.n);o.appendChild(this.MC.n)}else o.appendChild(this.X8.n);this.nW=I.ZW(this,this.body)}g$.prototype=new gQ;
g$.prototype.zR=function(K,o){return K!=null};g$.prototype.$l=function(){return!0};g$.prototype.rC=function(K){return this.aB8=="isize"?!1:[a1.ko,a1.Qt,a1.mc,a1.hb].indexOf(K)!=-1};
g$.prototype.Ed=function(K,o,Y,c){if(c.S(a1.C4))this.Qq();this.X8.amS(c.iV())};g$.prototype.t=function(){gQ.prototype.t.call(this);
this.N0.t();this.ly.t();this.MC.t();this.X8.t();this.nW.t()};g$.prototype.Qq=function(K){var o=this.N0.h(),Y=o.x,c=o.y,z=new h1(w.E.hP,!0),f=this.N0.jC.h();
if(this.aB8=="csize"){if(f){var $=this.N0.kn,E=this.N0.Ea;Y=E.x-$.x;c=E.y-$.y}z.data=m.XX.alZ(Y,c,this.X8.h(),f)}else{var b=this.MC.h();
if(!this.ly.h())b=null;z.data=m.XX.aAo(Y,c,this.N0.gv(),b)}this.close();this.c(z)};g$.prototype.ic=function(K,o){this.N0.T(new jc(K.m,K.e),K.aE);
this.N0.Qj();this.arD.T(ca.get(this.f1)+": "+(K.m*K.e/1e6).toFixed(2)+" MPx")};g$.prototype.aab=function(K){var o=this.ly.h(),Y=this.N0,c=this.MC;
if(o)c.L2();else c.b2();Y.anP(o)};function aL(){gQ.call(this,"Import RAW","importraw");var K=I._("div","flexrow"),o=I._("div");
o.setAttribute("style","margin-bottom: 1em");this.body.appendChild(K);this.body.appendChild(o);var Y=I._("div","form");
Y.setAttribute("style","width:18em");K.appendChild(Y);var c=I._("div","form");c.setAttribute("style","width:15em");
K.appendChild(c);this.U5=null;this.LC=null;this.Q0=null;this.My=null;this.az6=[];var z=[];for(var y=0;
y<aL.KZ.length;y++)z.push(aL.KZ[y]+" Bits");var f=this.u6=[new cY(!0,null,null,!0),new h5([12,72],1,8),new bb("Last one is Transparency"),new hQ([12,34],z),new hQ("Byte Order",["12-34","34-12"]),new bY("Guesses",[])];
for(var y=0;y<f.length;y++){var $=f[y];$.parent=this;$.k(w.E.p,y==5?this.a7m:this.Jr,this);var E=y==0?Y:y==5?o:c;
E.appendChild($.n)}this.V=I._("canvas");this.$F=this.V.getContext("2d");this.body.appendChild(this.V);
this.nW=I.ZW(this,this.body)}aL.prototype=new gQ;aL.prototype.t=function(){gQ.prototype.t.call(this);
var K=this.u6;this.nW.t();for(var y=0;y<K.length;y++)K[y].t()};aL.prototype.Qq=function(K){this.close();
var o=this.u6[0].h(),Y=fv.w_(this.LC,[{data:this.Q0,eQ:new hD(0,0,o.x,o.y)}]);if(this.My)Y.Kl=this.My;
var c=new h1(w.E.L,!0);c.data={d:!0?w.I.Pc:w.I.B7,l_:Y};this.c(c)};aL.KZ=[8,16];aL.prototype.ic=function(K,o){this.U5=new Uint8Array(o.Q3);
this.LC=o.oF;var Y=this.U5.length,c=[1,3,4],z=0,f=0,$=1,E=1,b=this.az6=[],q=Math.round(Math.sqrt(Y)*2);
q=Math.max(q,4e3);for(var O=0;O<3;O++){for(var j=0;j<2;j++){var A=aL.KZ[j],R=c[O],g=R*A,H=Math.round(Y*8/g);
if(H!=Y*8/g)continue;for(var i=0;i<=q;i++)for(var h=0;h<=q;h++)if(i*h==H){var x=0;if(i==h)x+=64;if(Math.round(i/100)==i/100&&Math.round(h/100)==h/100)x+=32;
if(Math.round(i/10)==i/10&&Math.round(h/10)==h/10)x+=16;if(Math.round(i/2)==i/2&&Math.round(h/2)==h/2)x+=8;
b.push([i,h,R,A,x])}}}var F=function(Z,T){if(T[4]!=Z[4])return T[4]-Z[4];var v=Math.max(Z[0],Z[1])/Math.min(Z[0],Z[1]),P=Math.max(T[0],T[1])/Math.min(T[0],T[1]);
if(v!=P)return v-P;return T[0]-Z[0]};b.sort(F);var X=this.u6,V=[];for(var y=0;y<b.length;y++){var U=b[y];
V.push(U[0]+" x "+U[1]+", "+U[2]+"ch, "+U[3]+"-bit")}X[5].Xs(V);X[5].T(0);this.a7m(null)};aL.prototype.a7m=function(K){var o=this.u6,Y=this.az6[this.u6[5].h()];
o[0].T(new jc(Y[0],Y[1]),72);o[1].T(Y[2]);o[3].T(aL.KZ.indexOf(Y[3]));this.Jr()};aL.prototype.Jr=function(K){var o=this.u6,Y=o[0].h(),c=Y.x,z=Y.y,f=aL.KZ[o[3].h()],$=this.U5;
if(f==16&&o[4].h()==1){$=$.slice(0);for(var y=0;y<$.length;y+=2){var E=$[y];$[y]=$[y+1];$[y+1]=E}}var b=this.Q0=this.MW($,c,z,o[1].h(),f,o[2].h()),q=this.V,O=this.$F,j=[b,new hD(0,0,c,z)];
d.pa(j);for(var y=0;y<j.length;y+=2)if(j[y+1].e<300){b=j[y];c=j[y+1].m;z=j[y+1].e;break}q.width=c;q.height=z;
I.vf(q,c,z);var A=new ImageData(new Uint8ClampedArray(b.buffer),c,z);O.putImageData(A,0,0)};aL.prototype.MW=function(K,o,Y,c,z,f){this.My=null;
var $=[],E=o*Y;for(var b=0;b<c;b++){var q=d.R(E);$.push(q);if(z==8)for(var y=0;y<E;y++)q[y]=K[y*c+b];
else if(z==16)for(var y=0;y<E;y++)q[y]=Math.round((K[(y*c+b)*2]<<8|K[(y*c+b)*2+1])*(255/65535))}var O=d.R(E*4);
new Uint32Array(O.buffer).fill(4278190080);if(f){d.cb($.pop(),O,3);c--}if(c==0){}else if(c==1)d.xI($[0],O);
else{d.cb($[0],O,0);d.cb($[1],O,1);if(c>2){d.cb($[2],O,2);if(c>3){this.My=[];for(var y=3;y<c;y++){var j=new S.tp;
j.name="Alpha "+(y-2);j.rect=new hD(0,0,o,Y);j.channel=$[y];this.My.push(j)}}}}return O};function gt(K,o,Y){cv.call(this);
this.n=I._("div","");this.$R=K;this.iL=null;this.er=o==null?!1:o;this.f_=null;this.QS=Y;this.nl=[];this.Rg=[];
this.zC=[];this.EA=[];this.nP=0;this.iL=this.alT(gt.EA[K]);this.JC();this.da=null;this.aeL;this.ama}gt.prototype=new cv;
gt.prototype.tx=function(K,o,Y,c,z){this.da=z;this.aeL=JSON.parse(JSON.stringify(this.f_));if(this.iL.lagl)this.ama=this.iL.lagl.h()[0]};
gt.prototype.D3=function(K,o,Y,c,z){var f=this.da,$=this.$R,E=this.aeL;if(f==null)return;var b=(z.x-f.x)/K.Q.O,q=(z.y-f.y)/K.Q.O;
if($=="GrFl"){var O=JSON.parse(JSON.stringify(E.Ofst.v));O.Hrzn.v.val+=b*.5;O.Vrtc.v.val+=q*.5;this.iL.Ofst.T(O,!0)}if($=="patternFill"){var O=JSON.parse(JSON.stringify(E.phase.v));
O.Hrzn.v+=b;O.Vrtc.v+=q;this.iL.phase.T(O,!0)}if($=="DrSh"||$=="IrSh"||$=="ChFX"){var j=E.Dstn.v.val,A=this.ama*Math.PI/180,R=-Math.cos(A)*j+b,g=Math.sin(A)*j+q;
this.iL.Dstn.T(Math.sqrt(R*R+g*g),!0);this.iL.lagl.T([Math.atan2(g,-R)*180/Math.PI],!0)}};gt.prototype.pt=function(K,o,Y,c,z){this.da=null};
gt.prototype.avp=function(){for(var y=0;y<this.EA.length;y++){I.LR(this.EA[y],"selected");if(this.zC[y]instanceof bb)this.zC[y].T(!1)}};
gt.prototype.aB$=function(K){var o=this.a3T.bind(this);for(var y=0;y<this.zC.length;y++){var Y=I._("div","listitem");
this.EA.push(Y);if(y>0)Y.textContent="\u2003";Y.appendChild(this.zC[y].n);if(eF.alm.indexOf(this.$R)!=-1){var c=new eg("+");
c.Fo();c.n.style.float="right";Y.appendChild(c.n);var z=new eg("\u2B0D");z.Fo();z.n.style.float="right";
z.n.style["margin-right"]="2px";Y.appendChild(z.n)}Y.addEventListener("click",o,!1);K.appendChild(Y)}};
gt.l4=function(K,o){var Y=o.getBoundingClientRect();return(K.clientY-Y.top)/Y.height};gt.prototype.a3T=function(K){var o=K.target.tagName.toLowerCase();
if(o=="input"){return}if(o=="button"){var Y=new h1(w.E.U,!0),c=K.target.textContent=="+",z=c?0:gt.l4(K,K.target)<.5?-1:1;
if(c)Y.data={d:"st_dupsingle",a:this.parent.data.a,Vp:this.QS};else Y.data={d:"st_movsingle",a:this.parent.data.a,Vp:this.QS,a4Y:z};
Y.f=m.la;Y.vk=!0;this.c(Y);Y=new h1("redrawall",!0);Y.data={a4Y:z};this.c(Y);return}I._z(K);this.m6();
this.nP=this.EA.indexOf(K.currentTarget);this.c(new h1("showme"))};gt.prototype.m6=function(){if(this.iL.enab&&this.iL.enab.h()==!1)this.BU({oV:"enab",b:!0})};
gt.prototype.afL=function(){var K=this.EA[this.nP];if(K)I.Px(K,"selected");return this.Rg[this.nP]};
gt.prototype.alT=function(K){var o={};for(var y=0;y<K.length;y++){var Y=K[y],c=null;if(Y=="----")c={n:I._("hr")};
if(Y=="\n")c={n:I._("br")};if(Y=="blOptions")c=new gJ([14,10]);if(Y=="brst")c=new i1([12,72],["R","G","B"]);
if(Y=="knko")c=new bY("Knockout",[[13,1,0],"Shallow","Deep"]);if(Y=="enab")c=new bb(eF.names[eF.order.indexOf(this.$R)]);
if(Y=="lrMd"||Y=="Md")c=new bY([12,19,0],jw.Y9,jw.AJ);if(Y=="Opct")c=new hB([12,0],0,100,"%");if(Y=="iOpa")c=new hB([12,26],0,100,"%");
if(Y=="blIf")c=new f4;if(Y=="ShdN")c=new hB([12,68],0,100,"%");var z=this.$R=="St3D"&&Y=="lagl";if(Y=="lagl"||Y=="Angl")c=new dS(z?"Light":[12,15],this.$R=="ebbl"||z);
if(Y=="uglg")c=new bb([12,27]);if(Y=="Dstn")c=new hB([12,28],0,200,"px");if(Y=="Ckmt")c=new hB([12,29],0,100,"%");
if(Y=="Srnk")c=new hB("Shrink",0,100,"%");if(Y=="Drkn")c=new hB("Darken",0,100,"%");if(Y=="blur")c=new hB([12,14,0],0,200,"px");
if(Y=="TrnS"||Y=="MpgS")c=new i0([12,21]);if(Y=="Nose")c=new hB([12,30],0,100,"%");if(Y=="layerConceals")c=new bb([12,31]);
if(Y=="Cntn")c=new bb([12,25,4]);if(Y=="AntA"||Y=="antialiasGloss")c=new bb([12,25,1]);if(Y=="GlwT")c=new bY([12,32],eF.xJ.names);
if(Y=="glwS")c=new bY([12,70],eF.xJ.a9r);if(Y=="Inpr")c=new hB([12,12],1,100,"%");if(Y=="bvlS")c=new bY([12,22],eF.Xz.style);
if(Y=="bvlT")c=new bY([12,32],eF.Xz.a6_);if(Y=="bvlD")c=new bY(null,eF.Xz.dir);if(Y=="srgR")c=new hB([12,34],0,1e3,"%");
if(Y=="Sftn")c=new hB([12,35],0,20,"px");if(Y=="Lald")c=o.lagl;if(Y=="hglM"||Y=="sdwM")c=new bY([12,36],jw.Y9,jw.AJ);
if(Y=="hglC"||Y=="sdwC")c=new gK;if(Y=="hglO"||Y=="sdwO")c=new hB([12,0],0,100,"%");if(Y=="Invr"||Y=="InvT")c=new bb([4,11]);
if(Y=="overprint")c=new bb("Overprint");if(Y=="Sz")c=new hB([12,14,0],1,200,"px");if(Y=="Styl")c=new bY([12,40],eF.stroke.names);
if(Y=="PntT")c=new bY([12,66],eF.stroke.a16);if(Y=="Clr")c=new gK(!0);if(Y=="Grad"){c=new cB(!0,[12,37],!0);
c.T(JSON.parse(eF.tG.aqi).v)}if(Y=="Rvrs")c=new bb([12,23,0]);if(Y=="Dthr")c=new bb([12,23,3]);if(Y=="Type")c=new bY([12,22],eF.H.names.slice(0,this.$R=="FrFX"?6:5));
if(Y=="Ptrn")c=new bZ([12,62]);if(Y=="Scl")c=new hB([12,38],5,500,"%",0,!0);if(Y=="Algn")c=new bb([12,39]);
if(Y=="Ofst")c=new ep(!0);if(Y=="phase")c=new ep(!1);if(Y=="useShape")c=new bb([12,21]);if(Y=="useTexture")c=new bb([12,67]);
if(Y=="textureDepth")c=new hB([12,34],-300,300,"%");var f=Y=="----"||Y=="\n"?Y+y:Y;if(c!=null)o[f]=c}return o};
gt.prototype.aeT=function(K){var o=this.Rg[this.nP];for(var y=0;y<K.length;y++){var Y=this.iL[K[y]];
if(Y&&o.contains(Y.n))o.removeChild(Y.n)}};gt.prototype.a06=function(K){var o=this.Rg[this.nP];for(var y=0;
y<K.length;y++){var Y=this.iL[K[y]];if(Y&&!o.contains(Y.n))o.appendChild(Y.n)}};gt.prototype.fL=function(K,o){if(this.iL==null)return;
var Y=o==bB.tk;if(this.iL.Grad){this.iL.Grad.xN(K.qm,K.YQ);if(Y||o==bB.R8||o==bB.ne)this.iL.Grad.nn(K.aq)}if(this.iL.Ptrn){if(Y||o==bB.Tq)this.iL.Ptrn.nn(K.K_)}if(this.iL.TrnS){if(Y||o==bB.cw)this.iL.TrnS.nn(K.$r)}if(this.iL.MpgS){if(Y||o==bB.cw)this.iL.MpgS.nn(K.$r)}};
gt.prototype.t=function(){for(var y=0;y<this.nl.length;y++)this.nl[y].t();for(var K in this.iL)if(this.iL[K]instanceof cv)this.iL[K].t()};
gt.prototype.JC=function(){for(var K in this.iL){var o=this.iL[K];o.parent=this;if(o instanceof cv)o.k(w.E.p,this.aff,this);
if(this.Rg.length==0||K=="useShape"||K=="useTexture"){var Y=new gJ(o.anN()),c=I._("div","bordered padded");
if(this.er==!1){c.appendChild(Y.n);c.appendChild(I._("hr",""))}this.nl.push(Y);this.Rg.push(c);this.zC.push(o)}else this.Rg[this.Rg.length-1].appendChild(o.n)}};
gt.prototype.update=function(K,o){if(this.iL==null)return;this.f_=JSON.parse(JSON.stringify(o));for(var Y in o){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(Y)!=-1)this.iL[Y].T(o[Y].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(Y)!=-1){this.iL[Y].T(o[Y].v,K)}if(["Md","hglM","sdwM"].indexOf(Y)!=-1)this.iL[Y].T(jw.$R.indexOf(o[Y].v.BlnM));
if(Y=="lrMd"){var c=(o.f$?[[15,10,27]]:[]).concat(jw.Y9),z=(o.f$?[1]:[]).concat(jw.AJ);this.iL[Y].Xs(c,z);
this.iL[Y].T(o[Y].v)}if(Y=="Angl")this.iL[Y].T([o[Y].v.val]);if(Y=="lagl"){var f=o.uglg&&o.uglg.v?K.S3():o.lagl.v.val;
this.iL[Y].T([f])}if(Y=="Lald"){var f=o.uglg&&o.uglg.v?K.qv():o.Lald.v.val;this.iL[Y].T([null,f])}if(Y=="Type")this.iL[Y].T(eF.H.types.indexOf(o.Type.v.GrdT));
if(Y=="Styl")this.iL[Y].T(eF.stroke.types.indexOf(o.Styl.v.FStl));if(Y=="PntT"){var $=eF.stroke.W5.indexOf(o.PntT.v.FrFl);
this.iL[Y].T($);if(!this.er){this.aeT(eF.u4.concat(eF.Eo.concat(eF.Jo)));this.a06([eF.u4,eF.Eo,eF.Jo][$])}}if(Y=="GlwT")this.iL[Y].T(eF.xJ.types.indexOf(o.GlwT.v.BETE));
if(Y=="glwS")this.iL[Y].T(eF.xJ.aBe.indexOf(o.glwS.v.IGSr));if(Y=="bvlS")this.iL[Y].T(eF.Xz.types.indexOf(o.bvlS.v.BESl));
if(Y=="bvlT")this.iL[Y].T(eF.Xz.awd.indexOf(o.bvlT.v.bvlT));if(Y=="bvlD")this.iL[Y].T(["In","Out"].indexOf(o.bvlD.v.BESs))}};
gt.prototype.aff=function(K){for(var o in this.iL){if(this.iL[o]!=K.target)continue;var Y=null,c=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(o)!=-1)Y={type:"#Prc",val:K.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(o)!=-1)Y={type:"#Pxl",val:K.target.h()};if(["Angl","lagl"].indexOf(o)!=-1)Y={type:"#Ang",val:K.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(o)!=-1)Y=K.target.h();
if(["Md","hglM","sdwM"].indexOf(o)!=-1)Y={BlnM:jw.$R[K.target.h()]};if(o=="uglg"){Y=K.target.h();c=!0}if(o=="PntT"){Y={FrFl:eF.stroke.W5[K.target.h()]};
c=!0}if(o=="Lald")Y={type:"#Ang",val:K.target.h()[1]};if(o=="Type")Y={GrdT:eF.H.types[K.target.h()]};
if(o=="Styl")Y={FStl:eF.stroke.types[K.target.h()]};if(o=="GlwT")Y={BETE:eF.xJ.types[K.target.h()]};
if(o=="glwS")Y={IGSr:eF.xJ.aBe[K.target.h()]};if(o=="bvlS")Y={BESl:eF.Xz.types[K.target.h()]};if(o=="bvlT")Y={bvlT:eF.Xz.awd[K.target.h()]};
if(o=="bvlD")Y={BESs:["In","Out"][K.target.h()]};this.BU({oV:o,b:Y});if(c){if(this.er)this.update(null,this.f_);
else{var z=this.parent,f=z.l_,$=this.QS,E=f.B[z.data.a].add.lmfx[eF.nk[$[0]]].v[$[1]].v;this.update(f,E)}}}};
gt.prototype.BU=function(K){if(this.f_&&this.f_[K.oV])this.f_[K.oV].v=K.b;if(this.er){this.c(new h1(w.E.p))}else{K.d="changeprop";
K.a=this.parent.data.a;K.UQ=this.QS;var o=new h1(w.E.U,!0);o.data=K;o.f=m.la;o.vk=!0;this.c(o);this.c(new h1("afterchange",!0))}};
gt.prototype.h=function(){return JSON.parse(JSON.stringify(this.f_))};gt.EA={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(eF.u4),GrFl:["enab","Md","Opct"].concat(eF.Eo),patternFill:["enab","Md","Opct"].concat(eF.Jo),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(eF.u4.concat(eF.Eo.concat(eF.Jo)))};
function cE(){gQ.call(this,[11,6],"layerstyle");this.a5K=-1;this.data={};this.l_=null;this.Bk=null;this.R1=[];
this.G_=[];I.Px(this.body,"flexrow");this.MJ=I._("div","bordered");this.MJ.setAttribute("style","min-width:13em;");
this.body.appendChild(this.MJ);this.O0=I._("div","");this.O0.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.O0);this.Bl=I._("div","form");this.Bl.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Bl);this.nW=I.ZW(this,this.Bl);this.kG=new eg([12,87],!0,null,!0);this.kG.k("click",this.aw6,this);
this.Bl.appendChild(this.kG.n);this.kq=new dh;this.kq.parent=this;this.kq.k(w.E.p,this.aCd,this);this.Bl.appendChild(this.kq.n);
this.k("closebtn",this.SF,this);this.k("redrawall",this.a0X,this)}cE.prototype=new gQ;cE.prototype.$l=function(){return!0};
cE.prototype.t1=function(){return!0};cE.prototype.tx=function(K,o,Y,c,z){var f=this.cj();if(f)f.tx(K,o,Y,c,z)};
cE.prototype.D3=function(K,o,Y,c,z){var f=this.cj();if(f)f.D3(K,o,Y,c,z)};cE.prototype.pt=function(K,o,Y,c,z){var f=this.cj();
if(f)f.pt(K,o,Y,c,z)};cE.prototype.cj=function(K){if(K==null)K=this.data.index;return K==null?null:K==0?this.R1[0]:this.G_[K[0]][K[1]]};
cE.prototype.aCd=function(K){var o=this.kq.h();this.BU({d:"setstl",b:o.Ww});this.a0X(null)};cE.prototype.aw6=function(K){var o=this.l_,Y=this.data.a;
if(Y==null)Y=o.Y[0];var c=this.l_.B[Y],z=eq.a6X(c),f=new h1(w.E.L,!0);f.data={d:w.I.Ak,Yr:"add",VS:bB.j7,Uo:[JSON.parse(JSON.stringify(z))]};
this.c(f)};cE.prototype.axy=function(K){this.data.index=K.currentTarget.QS;this.qt(K.currentTarget.QS)};
cE.prototype.a0X=function(K){this.ic(this.l_,this.data)};cE.prototype.qt=function(K,o){I.oA(this.O0);
for(var y=0;y<this.R1.length;y++)this.R1[y].avp();var Y=this.cj(K);this.O0.appendChild(Y.afL());if(o)Y.m6();
var c=this.l_;if(c){var z=c.B[this.data.a];this.R1[0].update(c,m.Pu.Bh(c,z));var f=z.add.lmfx;if(f==null)return;
for(var y=0;y<eF.order.length;y++){var $=f[eF.nk[y]].v;for(var E=0;E<$.length;E++)this.G_[y][E].update(c,$[E].v)}}if(o)Y.m6()};
cE.prototype.t=function(){gQ.prototype.t.call(this);this.kG.t();this.kq.t();this.nW.t();for(var y=0;
y<this.R1.length;y++)this.R1[y].t()};cE.prototype.ic=function(K,o){var Y=o.a==null;this.data.a=o.a;this.data.index=o.index;
o=this.data;this.l_=K;if(Y)o.a=K.Y.length==0?K.B.length-1:K.Y[0];I.oA(this.MJ);var c=K.B[o.a].add.lmfx;
this.Pq();this.R1=[new gt("bops",!1,0)];this.G_=[];for(var y=0;y<eF.order.length;y++){this.G_.push([]);
var z=c==null?[]:c[eF.nk[y]].v;for(var f=0;f<z.length;f++){var $=new gt(eF.order[y],!1,[y,f]);this.R1.push($);
this.G_[y].push($)}if(z.length==0){var $=new gt(eF.order[y],!1,[y,0]);this.R1.push($);this.G_[y].push($)}}this.t();
this.ax7(this.Bk,bB.tk);for(var y=0;y<this.R1.length;y++){this.R1[y].parent=this;this.R1[y].aB$(this.MJ);
this.R1[y].k("showme",this.axy,this)}if(o.index==null||o.index==0||!Y&&c[eF.nk[o.index[0]]].v.length==0){this.qt(0)}else this.qt(o.index,Y);
this.k("afterchange",this.Pq,this)};cE.prototype.Pq=function(K){var o=this.l_,Y=this.data.a;if(Y==null)Y=o.Y[0];
var c=this.l_.B[Y],z=eq.a6X(c);this.kq.T(z,o.add.Patt?o.add.Patt:[],o.S3(),o.qv())};cE.prototype.fL=function(K,o){this.Bk=K;
this.ax7(K,o);if(o==bB.j7||o==bB.tk){this.kq.nn([K.ck,K.K_])}if(o==bB.mI){}};cE.prototype.ax7=function(K,o){for(var y=0;
y<this.R1.length;y++)this.R1[y].fL(K,o)};cE.prototype.SF=function(K){this.BU({d:"cancel"})};cE.prototype.Qq=function(K){this.BU({d:"confirm"});
this.close()};cE.prototype.BU=function(K){K.a=this.data.a;var o=new h1(w.E.U,!0);o.data=K;o.f=m.la;o.vk=!0;
this.c(o);this.Pq()};cE.a3$=function(){var K=function(o){if(o==null||o.Y.length==0)return{u:!1};var Y=o.B[o.Y[0]];
return{u:Y.add.lmfx!=null}};return{name:[11,6],M_:!0,sub:[{name:[5,1],u:K},{name:[5,2]},{name:[2,2],u:K}]}};
cE.a9J=function(){return{sub:[{K:w.E.U,f:m.la,C:{d:"st_copy"}},{K:w.E.U,f:m.la,C:{d:"st_paste"}},{K:w.E.U,f:m.la,C:{d:"st_clear"}}]}};
cE.PY=function(K){var o=[{name:[14,10],M_:!0}];for(var y=0;y<eF.names.length;y++)o.push({name:eF.names[y]});
if(K){o[o.length-1].M_=!0;o.push(cE.a3$());o.push({name:[6,30,1],u:function(Y){return{u:Y!=null&&Y.Y.length!=0&&Y.B[Y.Y[0]].Ug()}}});
o.push({name:["VAR0 VAR1",[12,49],[9,1]],u:function(Y){return{u:Y!=null&&Y.Y.length!=0&&Y.B[Y.Y[0]].add.lmfx!=null}}})}return o};
cE.s_=function(K){var o=[{K:w.E.L,C:{d:w.I.Gg,XQ:"layerstyle"}}];for(var y=0;y<eF.names.length;y++)o.push({K:w.E.L,C:{d:w.I.Gg,XQ:"layerstyle",index:[y,0]}});
if(K){o.push(cE.a9J());o.push({K:w.E.L,C:{d:w.I.Gg,XQ:"scaleeffects",UZ:100,Wy:{K:w.E.U,f:m.la,C:{d:"scaleeffects"}}}});
var Y={classID:"Mk",null:b0.x2("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
o.push({K:w.E.hP,C:{Rk:"make",jU:Y}})}return o};cE.anY=function(K){var o=[];if(K)o.push({name:[6,48,0,0],j_:!0},{name:[6,48,0,1],j_:!0},{name:[6,48,0,2],j_:!0,M_:!0});
for(var Y in jh.names)o.push({name:jh.names[Y],M_:jh.ayg.indexOf(Y)!=-1,j_:dD[Y]!=null});return o};cE.sY=function(K){var o=[];
if(K){o.push({K:w.E.U,f:m.uO,C:{d:"newfill",tM:0}});for(var y=1;y<3;y++)o.push({K:w.E.hP,C:m.GU.Sz(y)})}for(var Y in jh.names){var c=fn.Ta(Y);
if(c==null)c={};for(var z in jh.Dz)if(jh.Dz[z]==Y)c.classID=z;var f={Rk:"make",jU:{classID:"Mk",null:b0.x2("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:c}}}}};
o.push({K:w.E.hP,C:f})}return o};function ap(){gQ.call(this,"Merge Channels","mergechannels");this.Eh=null;
var K=I._("div","form");this.body.appendChild(K);this.u6=[];for(var y=0;y<3;y++){var o=new bY(jh.gj[y],[]);
this.u6.push(o);K.appendChild(o.n);I.Tg(K)}this.nW=I.ZW(this,K)}ap.prototype=new gQ;ap.prototype.t=function(){gQ.prototype.t.call(this);
this.nW.t();for(var y=0;y<3;y++)this.u6[y].t()};ap.prototype.ic=function(K,o,Y,c){this.Eh=Y;var z=[];
for(var y=0;y<Y.length;y++)z.push(Y[y].name);for(var y=0;y<3;y++){var f=this.u6[y];f.Xs(z);f.T(Math.min(y,Y.length-1))}};
ap.prototype.Qq=function(K){var o=this.Eh,Y=o[0],c=new h1(w.E.hP,!0);c.data=h7.Hr(Y.m,Y.e,Y.aE,"Merged Document","Wht",!1);
this.c(c);var z=[];for(var y=0;y<3;y++)z.push(o[this.u6[y].h()].Gl());var Y=o[o.length-1],f=Y.B[0],$=f.buffer;
for(var y=0;y<$.length;y+=4){$[y]=z[0][y];$[y+1]=z[1][y];$[y+2]=z[2][y]}f.W();Y.W();this.close()};function k9(){gQ.call(this,[1,10],"script");
var K=I._("div","form");K.setAttribute("style","width:44em");this.body.appendChild(K);this.Bk=null;this.ZG=[];
this.nT=[];this.aq8;var o=this.BB=new eg([1,2],!1,null,!0);o.k("click",this.qw,this);K.appendChild(o.n);
var Y=new eg("JS Reference",!1,null,!0);Y.k("click",this.aem,this);K.appendChild(Y.n);K.appendChild(new gJ("Demos:").n);
this.aC6=[];var c=k9._M;for(var y=0;y<c.length;y++){var z=new eg(c[y].Ml,!1,null,!0);this.aC6.push(z);
K.appendChild(z.n);z.k("click",this.a2r,this)}this.q8=I._("textarea");I._R(this.q8);this.q8.setAttribute("rows",16);
this.q8.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");K.appendChild(this.q8);
var f=new eg("Run",!0,null,!0);f.k("click",this.Qq,this);K.appendChild(f.n);this.Mr=I._("div");K.appendChild(this.Mr)}k9.prototype=new gQ;
k9.prototype.t=function(){this.BB.t()};k9.prototype.qw=function(){var K=this.aq8;if(K==null)K="script.jsx";
var o=new h1(w.E.L,!0);o.data={d:w.I.Gg,XQ:"namewindow",UZ:K.slice(0,K.length-4),gb:this.a7s.bind(this)};
this.c(o)};k9.prototype.a7s=function(K){var o=this.q8.value,Y=_.tA(o),c=new h1(w.E.L,!0);c.data={d:w.I.g3,Q3:Y.buffer,S4:K+".jsx",axw:!0};
this.c(c)};k9.prototype.a9q=function(K){var y=this.ZG.indexOf(K.target),o=this.aq8=this.nT[y],Y=this.Bk.v5.om[o],c=new Uint8Array(Y),z=_.DI(c,0,c.length);
this.q8.value=z};k9.prototype.ic=function(K,o,Y){this.q8.value=k9._M[0].BK;this.avZ()};k9.prototype.avZ=function(){var K=this.Bk.v5,o=this.Mr;
I.oA(o);this.ZG=[];this.nT=[];o.textContent="Saved scripts: ";for(var Y in K.om){if(Y.endsWith(".jsx")){var c=new eg(Y,!1,null,!0);
this.ZG.push(c);this.nT.push(Y);c.k("click",this.a9q,this);o.appendChild(c.n)}}};k9.prototype.fL=function(K,o){this.Bk=K;
if(o==bB.Ap)this.avZ()};k9.prototype.aem=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.IE,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.c(o)};k9.prototype.Qq=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.nu,il:this.q8.value};this.c(o)};
k9.prototype.a2r=function(K){var o=this.aC6.indexOf(K.currentTarget);this.q8.value=k9._M[o].BK};k9._M=[{Ml:"Hello",BK:"\nalert(\"Hello Photopea!\");\n"},{Ml:"Process Layers",BK:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Ml:"Clone Layers",BK:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function gl(){gQ.call(this,[11,7],"newproject");this.data=null;this.Eh=null;this.jh=0;var K=I._("div","flexrow");
this.H$=K;this.body.appendChild(K);var o=I._("div","form");this.BC=o;K.appendChild(o);this.tP=new cI([12,48],null,10);
o.appendChild(this.tP.n);I.Tg(o);this.N0=new cY(!0,null,null,null,!0);this.N0.T(new jc(1280,720),72);
this.N0.anP(!0,!0);this.N0.k(w.E.p,this.__,this);o.appendChild(this.N0.n);this.Ia=new gU;this.Ia.parent=this;
o.appendChild(this.Ia.n);this.Ui=new eg("\u02C5",null,[0,14],!0);this.Ui.k("click",this.I7,this);o.appendChild(this.Ui.n);
var Y=this.arM=I._("span");o.appendChild(Y);Y.style.display="none";this.ae7=new bY([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
Y.appendChild(this.ae7.n);this.Nl=new bb([1,16,1]);Y.appendChild(this.Nl.n);this.nW=new eg([12,49],!0,null,!0);
this.nW.k("click",this.Qq,this);o.appendChild(this.nW.n);var c=gl.U5,z=[];for(var y=0;y<c.length;y++)z.push(c[y].name);
this.Qu=new hQ(null,z);this.Qu.k(w.E.p,this.a72,this);o.appendChild(this.Qu.n);this.Qu.n.style["margin-top"]="1em";
this.cv=new cW(!0);this.cv.k(w.E.p,this.a1l,this);o.appendChild(this.cv.n);this.a72();this.pe=new fS;
this.pe.parent=this;this.pe.n.setAttribute("style","margin-left:1em");this.pe.k("tempready",this.aC2,this)}gl.prototype=new gQ;
gl.prototype.I7=function(K){var o=this.arM,Y=o.style.display!="none";o.style.display=Y?"none":"";this.Ui.Sk(Y?"\u02C5":"\u02C4");
this.Fx(this.Fv,this.jd)};gl.prototype.fL=function(K,o){this.pe.fL(K)};gl.prototype.uJ=function(K,o){return new jc(Math.max(0,Math.min(70,(K-690)/2)),K>o?Math.max(0,Math.min(50,(o-400)/2)):0)};
gl.prototype.Fx=function(K,o){this.Fv=K;this.jd=o;this.BC.setAttribute("style","width:"+Math.min(K-24,338)+"px");
this.cv.n.style.height=o-248-(this.arM.style.display=="none"?0:28)+"px";var Y=this.pe.n,c=Y.parentNode;
if(K<500){if(c!=null)this.H$.removeChild(Y)}else{if(c==null)this.H$.appendChild(Y);this.pe.Fx(K-378,o-28)}};
gl.prototype.__=function(){this.pe.T(this.N0.h())};gl.prototype.a1l=function(K){var o=this.cv.h()[0],Y=gl.U5[this.Qu.h()].kH[o],c=Y[4];
if(c==0)c=72;var z=Y[1],f=Y[2],$=["px","%","mm","in"].indexOf(Y[3]),E=[1,1,25.4/c,1/c][$];z/=E;f/=E;
this.N0.T(new jc(Math.round(z),Math.round(f)),c);this.N0.apF($);this.__();if(Date.now()-this.jh<300)this.Qq();
this.jh=Date.now()};gl.prototype.a72=function(K){var o=gl.U5[this.Qu.h()].kH,Y=[],c=[],z=Math.round(106*I.GR()),f=Math.round(106*I.GR()),$=0;
for(var y=0;y<o.length;y++)$=Math.max($,o[y][1],o[y][2]);for(var y=0;y<o.length;y++){var E=o[y],b=E[1]+" x "+E[2]+" "+E[3];
if(E[3]=="in")b=(E[1]*25.4).toFixed(0)+" x "+(E[2]*25.4).toFixed(0)+" mm";if(E[3]=="mm")b=(E[1]/25.4).toFixed(1)+" x "+(E[2]/25.4).toFixed(1)+" in";
if(E[4])b=b+" @ "+E[4]+" ppi";c.push(b);Y.push(gl.zU(E,z,f,$))}this.cv.SK(Y,c,z,f)};gl.zU=function(K,o,Y,c){var z=I._("canvas",""),f=z.getContext("2d");
z.width=o;z.height=Y;var $=Math.round(o/8),E=Math.floor(11*I.GR()),b=K[1],q=K[2];f.fillStyle="#000000";
f.font=Math.round(E*.9)+"px \"Open Sans\", Sans-Serif";var O=b+" x "+q+" "+K[3],j=f.measureText(O);f.fillText(O,Math.round((o-j.width)/2),Y-Math.round($/2));
if(K[0]!=null){f.font="bold "+E+"px \"Open Sans\", Sans-Serif";var O=K[0],j=f.measureText(O);f.fillText(O,Math.round((o-j.width)/2),Y-Math.round($/2)-Math.round(E*1.3))}Y-=Math.round(2.5*E);
var A=Math.min((o-$)/b,(Y-$)/q);A*=.5+.5*(Math.max(b,q)/c);var R=(o-b*A)/2,g=(Y-q*A)/2;f.strokeRect(Math.round(R)+.5,Math.round(g)+.5,Math.round(b*A),Math.round(q*A));
return z.toDataURL()};gl.prototype.t=function(){gQ.prototype.t.call(this);this.N0.t();this.tP.t();this.Ia.t();
this.nW.t();this.tP.T(ca.get([11,7]));this.Qu.t();this.Nl.t();this.Ui.t();this.pe.t()};gl.prototype.Qq=function(K){var o=this.N0.h(),Y=o.x,c=o.y;
this.close();var z=this.Ia.h(),f=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.ae7.h()],$=new h1(w.E.hP,!0);
$.data=h7.Hr(Y,c,this.N0.gv(),this.tP.h(),["Wht","Blck","Trns","Clr"][z[0]],this.Nl.h(),z[1],f);this.c($);
this.aBm()};gl.prototype.aC2=function(K){var o=K.data.l_;o.aE=this.N0.gv();var Y=new h1(w.E.L,!0);Y.data={d:w.I.Pc,l_:o};
this.c(Y);this.close();this.aBm()};gl.prototype.aBm=function(){var K=this.Eh[this.Eh.length-1],o=this.data.ahl;
if(o)hP.Oo(function(){var Y=new XMLHttpRequest,c="https://www.googleapis.com/drive/v3/files?"+hP.GP();
Y.open("POST",c,!0);Y.setRequestHeader("Content-Type","application/json");Y.addEventListener("load",function(z){var f=JSON.parse(z.target.response);
K.ED={file:f,HT:"psd"};alert(K.name+" created in Google Drive")});Y.send(JSON.stringify({name:K.name,aoW:[o]}))})};
gl.prototype.ic=function(K,o,Y,c){this.Eh=Y;if(K!=null&&K.r!=null){var z=new hD(0,0,K.m,K.e).wu(K.r.rect);
this.N0.T(new jc(z.m,z.e))}this.data=o;this.__();if(I.ql())jm.aCW(this.cI.bind(this))};gl.prototype.cI=function(K){if(K=="granted")jm.YD(this,this.gu.bind(this))};
gl.prototype.gu=function(K,o){this.N0.T(new jc(o.m,o.e))};gl.U5=[{name:"Social",kH:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],kH:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],kH:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],kH:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],kH:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],kH:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",kH:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function en(K,o,Y){gQ.call(this,o,"sel_"+K);this.d=K;var c=I._("div","form");this.body.appendChild(c);
this.tP=new h5(o,0,255,null,0,!1,!0);c.appendChild(this.tP.n);this.tP.T(1);var z=I._("span");z.textContent=Y;
c.appendChild(z);I.Tg(c);this.a23=new bb("Apply at canvas bounds");if(K!="border")c.appendChild(this.a23.n);
this.nW=I.ZW(this,c)}en.prototype=new gQ;en.prototype.zR=function(K,o){if(K==null)return;if(K.r==null)alert("No selection!");
return K.r!=null};en.prototype.Qq=function(K){var o=new h1(w.E.hP,!0);o.data=m.PP.Bv(this.d,this.tP.h(),this.a23.h());
o.vk=!0;this.c(o);this.close()};en.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();if(this.tP)this.tP.t()};
en.prototype.ic=function(K,o){this.tP.Qj()};function eG(K,o,Y,c,z,f){gQ.call(this,Y,o);this.au1=f;this.cu=z;
this.U5=null;this.BC=I._("div","form");this.body.appendChild(this.BC);this.ajE=I._("div");this.BC.appendChild(this.ajE);
var $=500;if(c){var E=c.split(",");c=E[0];if(E[1])$=parseFloat(E[1])}this.tP=K==0?new cI(Y,null,10):K==1?new hB(Y,0,$,c,1):new cI(Y,null,24,5);
this.tP.k(w.E.p,this.Ep,this);this.BC.appendChild(this.tP.n);this.nW=I.ZW(this,this.BC);this.k("closebtn",this.SF,this)}eG.prototype=new gQ;
eG.prototype.uJ=function(K,o){return new jc(Math.max(0,Math.min(150,(K-250)/2)),Math.max(0,Math.min(150,(o-120)/2)))};
eG.prototype.$l=function(){return this.au1};eG.prototype.Ep=function(K){var o=this.tP.h();if(this.cu)this.KA(o)};
eG.prototype.SF=function(K){if(this.cu)this.KA("cancel")};eG.prototype.Qq=function(K){if(this.cu)this.KA("confirm");
else this.KA(this.tP.h());this.close()};eG.prototype.KA=function(K){if(this.U5.gb)this.U5.gb(K);else if(this.U5.Wy){var o=this.U5.Wy,Y=new h1(o.K,!0);
Y.f=o.f;Y.data=o.C;Y.data.b=K;Y.vk=!0;this.c(Y)}};eG.prototype.t=function(){gQ.prototype.t.call(this);
this.nW.t();if(this.tP)this.tP.t()};eG.prototype.ic=function(K,o){this.U5=o;this.tP.T(o.UZ);this.tP.Qj();
this.ajE.innerHTML=o.avX?o.avX:"";this.Ep(null)};function dX(){gQ.call(this,[1,5],"open_from_url");this.ZX=null;
var K=I._("div","form");this.body.appendChild(K);this._E=new cI("URL",null,22);K.appendChild(this._E.n);
I.Tg(K);this.ll=new hQ([21,0],[[21,2],[21,1]]);K.appendChild(this.ll.n);this.nW=I.ZW(this,K)}dX.prototype=new gQ;
dX.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();this.ll.t()};dX.prototype.ic=function(K,o,Y){this._E.Qj();
this.ZX=null;if(K&&Y.indexOf(K)!=-1)this.ZX=Y.indexOf(K)};dX.prototype.Qq=function(K){var o=new h1(w.E.L,!0),Y=this._E.h();
o.data={d:w.I.vO,VS:{url:Y,cF:!0,ZX:this.ll.h()==1?this.ZX:null}};this.c(o);this.close()};function fI(){gQ.call(this,[12,79],"preferences");
this.Bk=null;var K=I._("div","form");this.body.appendChild(K);this.EA=[new bb([8,2]),new gK,new bb([8,4]),new gK,new bY([12,80,3],[[12,93,3],[12,80,4]]),new hB([12,80,5],.02,100,null,2),new bY(null,d.Rf.Vl),new bY([12,80,6],d.Rf.Vl),new bb("Remind me to save"),new bb("Glass Menus"),new hB("Cursor Offset",0,200)];
for(var y=0;y<this.EA.length;y++){var o=this.EA[y];o.parent=this;o.k(w.E.p,this.Mz,this);if(y==8)continue;
K.appendChild(o.n);if(y!=0&&y!=2&&y!=3&&y!=5)I.Tg(K)}}fI.prototype=new gQ;fI.prototype.t=function(){gQ.prototype.t.call(this);
for(var y=0;y<this.EA.length;y++)this.EA[y].t()};fI.prototype.ic=function(K,o,Y){};fI.prototype.fL=function(K,o){this.Bk=K;
var Y=K.EU;this.EA[0].T(Y.xS);this.EA[1].Nh(Y.dA);this.EA[2].T(Y.WV);this.EA[3].Nh(Y.x$);this.EA[4].T(Y.uF);
this.EA[5].T(Y.jk);this.EA[6].T(Y.MU);this.EA[7].T(Y.hq);this.EA[8].T(K.DK==1);var c=window.locStor.getItem("__glm");
this.EA[9].T(c=="1");this.EA[10].T(K.g_)};fI.prototype.Mz=function(K){var o=this.EA;if(K.target==o[8])this.Bk.DK=1-this.Bk.DK;
var Y=JSON.parse(JSON.stringify(this.Bk.EU));Y.xS=o[0].h();Y.dA=o[1].gJ();Y.WV=o[2].h();Y.x$=o[3].gJ();
Y.uF=o[4].h();Y.jk=o[5].h();Y.MU=o[6].h();Y.hq=o[7].h();window.locStor.setItem("__glm",o[9].h()?"1":"0");
this.Bk.g_=o[10].h();var c=new h1(w.E.L,!0);c.data={d:w.I.Ak,VS:bB.gE,Wx:Y};this.c(c)};function gO(){gQ.call(this,[11,8],"saveforweb");
this.aaw="";this.k("closebtn",function(){this.sC.gC()},this);this.l_=null;this.uX=null;this.a0S=null;
this.Bk=null;I.Px(this.body,"flexrow");this.body.style.padding="0";var K=I._("div");K.setAttribute("style","position:relative;");
var o=I._("div");this.body.appendChild(K);this.body.appendChild(o);this.Y1=I._("div","imgcont");K.appendChild(this.Y1);
this.sC=new kB;this.sC.Fx(512,512);var Y=this.OU=I._("video");Y.setAttribute("controls","");Y.setAttribute("preload","auto");
Y.setAttribute("loop","");this.bc=I._("div");this.bc.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
K.appendChild(this.bc);var c=this.BC=I._("div","form cell");c.setAttribute("style","width:195px; padding:9px 13px;");
o.appendChild(c);this.aW=new cI([12,48],null,7.6);this.aW.d1();c.appendChild(this.aW.n);var z=fv.L7();
z[z.indexOf("WEBP")]="webP";this.nH=new bY([12,50],z);this.nH.n.style.marginRight="0";this.nH.d1();c.appendChild(this.nH.n);
this.nH.k(w.E.p,this.eA,this);I.Tg(c);this.N0=new cY(!0,!0,!1,!0);this.N0.d1();this.N0.k(w.E.p,this.eA,this);
this.N0.oQ.n.style.paddingBottom="8px";c.appendChild(this.N0.n);this.PS=new kh;this.PS.k(w.E.p,this.eA,this);
c.appendChild(this.PS.n);this.ZJ=new eg([1,2],!0,null,!0);this.ZJ.k("click",this.Qq,this);c.appendChild(this.ZJ.n)}gO.prototype=new gQ;
gO.prototype.zR=function(K,o){return K!=null};gO.prototype.t=function(){gQ.prototype.t.call(this);this.N0.t();
this.aW.t();this.nH.t();this.PS.t();this.ZJ.t()};gO.prototype.Qq=function(K){var o=this.aW.h().trim(),Y=fv.L7()[this.nH.h()],c=Y=="JPG"||Y=="PNG"||Y=="GIF"||Y=="SVG",z=fv.WD(Y),f="."+Y.toLowerCase(),$=this.uX,E=o+f,b=this.l_,q=b.FT,O=this.PS.h();
if(b.ie())O.pop();if(q.length!=0&&c&&O.pop()){var j="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",A=[],R={},g=new hD(0,0,b.m,b.e),H=b.Gl();
for(var y=0;y<q.length;y++)A.push(m.F$.nL(q,y));A.reverse();var i=d.rect.avN([0,0,b.m,b.e],A);for(var y=0;
y<i.length;y++){var h=i[y],x=new hD(h[0],h[1],h[2]-h[0],h[3]-h[1]),F=h.length==5?q[h[4]].v:null,X=d.R(x.Z()*4);
d.iF(H,g,X,x);var V="img/img"+(y+1)+f;R[V]=new Uint8Array(z.vc([[X.buffer,0,b.aE,b.Ou]],x.m,x.e,O));
j+="<div style=\"background-image:url('"+V+"'); left:"+x.x+"px; top:"+x.y+"px; width:"+x.m+"px; height:"+x.e+"px\">";
if(F&&F.url.v!="")j+="\n\t<a href=\""+F.url.v+"\" target=\""+F.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
j+="</div>\n"}j+="</body>\n</html>\n";var U=d.R(Math.round(j.length*1.5)),Z=_.dI(j,U,0);R["index.html"]=U.slice(0,Z);
$=UZIP.encode(R);E=o+".zip"}else if(b.add.artd&&b.add.artd.Cnt.v>1&&c&&O.pop()){var R={},g=new hD(0,0,b.m,b.e),H=b.Gl(),T=b.root.children;
for(var y=0;y<T.length;y++){var v=T[y].a,p;if(v.add.artb==null||!v.KL())continue;var P=v.Yv();if(Y=="SVG")p=new Uint8Array(z.vc(b,P.m,P.e,O,this.Bk,y));
else{var a=d.R(P.Z()*4);d.iF(H,g,a,P);p=new Uint8Array(z.vc([[a.buffer,0,b.aE,b.Ou]],P.m,P.e,O))}R[v.getName()+f]=p}$=UZIP.encode(R);
E=o+".zip"}var D=function(){if(b.hr)jm.OI("act=1&id="+b.hr);this.sC.gC();this.close();var N=new h1(w.E.L,!0);
N.data={d:w.I.fv,data:$,name:E};this.c(N)}.bind(this);if(!this.Bk.EK||es.YP()){D();return}if(ih.Dh==0&&Math.random()<.5){ih.aqr(D);
return}var n=ih.Gp()!=0;D();var N=new h1(w.E.L,!0),W=a9.I2("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),G=a9.I2(";QJXQ_*II9"),l=function(){N.data={d:w.I.Gg,XQ:"account"};
this.c(N)}.bind(this);if(n){W=a9.I2("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
l=function(){};G=null}N.data={d:w.I.Gg,XQ:a9.BT,b:W,gb:l,a32:G};if(Math.random()<.1||n)this.c(N)};gO.prototype.ic=function(K,o){if(o.ks!=null)this.nH.T(o.ks);
this.l_=K;var Y=this.l_.name,c=Y.lastIndexOf("."),Y=c==-1?Y:Y.slice(0,c);this.aW.T(Y);var z=K.m+","+K.e;
if(z!=this.aaw){this.aaw=z;this.N0.T(new jc(K.m,K.e),K.aE)}this.PS.alQ();if(o.axT){this.N0.apF(3);this.PS.WQ.PDF[2].v9.T(!0)}this.eA(null,!0)};
gO.prototype.a36=function(K,o){return K<o&&K<660};gO.prototype.uJ=function(K,o){return this.a36(K,o)?new jc(0,0):new jc(Math.max(0,Math.min(150,(K-770)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
gO.prototype.Fx=function(K,o,Y){this.Fv=K;this.jd=o;if(this.l_==null)return;var c=this.ZJ.n,z=this.a36(K,o),f,$,A="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(z){var E=this.BC.getBoundingClientRect().height;f=K;$=o-Math.max(E,252);I.LR(this.body,"flexrow")}else{f=Math.min(512,K-195-2*13);
$=Math.min(512,o-24);I.Px(this.body,"flexrow")}var b=z?K-2*13:195;this.BC.style.width=b+"px";this.aW.B5.style.width=b-77+"px";
this.N0.Fx(b);var q=fv.L7()[this.nH.h()],O=fv.WD(q);if(O.MS||O.BH)this.Y1.firstChild.setAttribute("style","display:block; width:"+f+"px; height:"+$+"px;");
else{this.sC.Fx(f,$);this.OU.width=f;this.OU.height=$}var j=this.uX.byteLength,g=A+64+"px;"+R+gO.Es(j)+"</span>";
if(f>400)g+=A+90+"px; opacity:"+.5+";"+R+j.toLocaleString()+" B</span>";this.bc.innerHTML=g;if(Y)setTimeout(function(){this.Fx(this.Fv,this.jd)}.bind(this),20)};
gO.Es=function(K){var o=K.toString(2),Y=0;while(Y+10<o.length)Y+=10;var c=(K/Math.pow(2,Y)).toFixed(1);
if(c.endsWith(".0"))c=c.slice(0,-2);var z="B KB MB GB TB PB".split(" ")[Math.floor(Y/10)];return c+" "+z};
gO.prototype.fL=function(K,o){this.Bk=K};gO.prototype.eA=async function(K,o){var Y=this.l_,c=this.N0.h(),z=c.x,f=c.y,$=this.nH.h(),E=fv.L7()[$],b=fv.Ae(Y)[0].length,q=["GIF","PNG","WEBP","MP4"].indexOf(E)!=-1&&b>1,h="";
if(q&&E!="MP4"&&o&&(b>4&&z*f>1024*1024||z*f*b>800*800*50)){var O=1;while(Math.max(z>>>O,f>>>O)>800)O++;
var j=window.confirm("Your animation is large ("+z+" x "+f+" px). Press \"OK\" to scale it to "+(100>>>O)+"%. Press \"Cancel\" to keep the size.");
if(j){this.N0.T(new jc(z>>>O,f>>>O),null,!0);z=z>>>O;f=f>>>O}}var A=Y.add.artd,R=A!=null&&A.Cnt.v>1,g=Y.ie();
this.PS.u3(E,q,Y.FT.length!=0,R,g!=null);var H=window.locStor.getItem("sfwPrms");if(H==null)H={};else H=JSON.parse(H);
var i=this.PS.h();if(K&&K.target==this.PS){H[E]=i;window.locStor.setItem("sfwPrms",JSON.stringify(H))}else if(H[E]){this.PS.T(H[E],!0);
i=this.PS.h()}this.uX=await fv.lU(Y,E,z,f,i,this.Bk);if(this.uX==null){this.l_=null;return}I.oA(this.Y1);
this.sC.gC();var x=fv.WD(E);if(x.BH){this.Y1.innerHTML="<div></div>"}else if(x.MS){var F=z,X=f,V;if(E=="PDF"||E=="AI"){V=URL.createObjectURL(new Blob([this.uX],{type:"application/pdf"}))}else{V=URL.createObjectURL(new Blob([this.uX],{type:"image/svg+xml"}))}this.Y1.innerHTML="<iframe src=\""+V+"\"></iframe>"}else if(E=="MP4"){var V=URL.createObjectURL(new Blob([this.uX]));
this.OU.setAttribute("src",V);this.Y1.appendChild(this.OU)}else{var U=this.a0S=x.MW(this.uX),Z=U[0],T=Z.eQ,F=T.m,X=T.e;
if(Z.Fa){var v=ICC.R(Z.Fa.buffer),P=17,p=ICC.U.sampleLUT(v,P);for(var y=0;y<U.length;y++){var a=new Uint8Array(U[y].data);
ICC.U.applyLUT(p,P,a,a)}}this.sC.T(U,U.length>1?i[i.length-3]:0);this.Y1.appendChild(this.sC.n);h="background: rgba(0,0,0,0);"}this.Y1.setAttribute("style","display:block; "+(x.BH?"background:rgba(0,0,0,0);":"background-size:"+16/I.GR()+"px;")+h);
this.Fx(this.Fv,this.jd,o)};function cH(){gQ.call(this,[11,13],"shortcuts");this.Bk=null;var K=this.H$=I._("div","scrollable");
K.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(K);
this.zb()}cH.prototype=new gQ;cH.prototype.t=function(){gQ.prototype.t.call(this);this.zb()};cH.prototype.fL=function(K,o){this.Bk=K};
cH.prototype.ic=function(K,o,Y,c){if(I.qO(this.n))this.zb()};cH.prototype.zb=function(){var K="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",o="",Y=a1,c=Y.rK,z=Y.jR,f=Y.cV;
o+="<h2 style=\"margin-top:0;\">Main Menu</h2>";o+=K;o+=this.zY([[0,0],"---",[1,0],[c,Y.Nf],[1,2],[c,Y.rQ],[1,3],[z,c,Y.rQ],[1,8],[f,z,c,Y.rQ],[0,1],"---",[2,0],[z,c,Y.VI],[2,1],[c,Y.VI],[5,0],[c,Y.zA],[5,1],[c,Y.bY],[5,2],[c,Y.MD],[2,2],"Delete",[2,3],[f,Y.QC],[10,16],[f,c,Y.DM],[12,79],[c,Y.kl],[3],"---",[4,1],[c,Y.Gi],[4,2],[c,Y.$L],[4,5],[c,Y.dN],[4,11],[c,Y.WL],[0,3],"---",[6,13],[z,c,Y.f8],[6,49,0],[c,Y.Om],[6,6,0],[f,c,Y.vH],[6,9],[c,Y.vH],[6,10],[c,Y.E],[0,5],"---",[7,0],[c,Y.I],[7,1],[c,Y.dc],[7,2],[z,c,Y.WL],[0,7],"---",[8,0],[c,Y.U1],[8,1],[c,Y.VV],[8,3],[c,Y.CL],[8,2],[c,Y.QT],[8,4],[c,Y.Id],[11,13],"?"]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";o+=K;o+=this.zY(["Vertical scroll","Wheel","Horizontal scroll",[c,"Wheel"],"Zooming",[f,"Wheel"]]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
o+=K;o+=this.zY([[10,11],[c],[10,7],"Space",[10,17],[c,Y._e]]);o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
o+=K;var $=[],E=this.Bk;if(E==null)return;var b=E.q;for(var y=0;y<b.yw.length;y++){var q=b.yw[y],O=b.keys[y];
for(var j=0;j<q.length;j++)$.push(q[j].f.name,O?O.Ml:null)}$=$.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[c,Y.Sd]]);
o+=this.zY($);o+="</div>";this.H$.innerHTML=o};cH.prototype.zY=function(K){var o="",Y=!0;for(var y=0;
y<K.length;y+=2){var c=K[y],z=a1.x8(K[y+1]);if(z==null){Y=!1;continue}var f=I.P9(ca.get(c));if(z=="---"){if(!Y)o+="<br/>";
o+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+f+"</div>"}else o+="<div>"+f+" <span style=\"float:right; font-weight:bold;\">"+z+"</span> </div>";
Y=!1}return o};function hp(){gQ.call(this,[8,11,1],"soptions");this.Ea=null;var K=I._("div","form");
K.style.width="20em";this.body.appendChild(K);this.$_={Nm:[12,48],url:"URL",null:[12,71]};this.EA={};
for(var o in this.$_){var Y=new cI(this.$_[o],null,15);this.EA[o]=Y;K.appendChild(Y.n)}this.avT=new gJ([12,14,0]);
K.appendChild(this.avT.n);this.jb=new h6(0,!0);K.appendChild(this.jb.n);this.nW=I.ZW(this,K)}hp.prototype=new gQ;
hp.prototype.ic=function(K,o,Y){var c=o.b;this.Ea=JSON.stringify(c);for(var z in this.$_){if(c[z])this.EA[z].T(c[z].v)}var f=c.bounds.v,$=f.Left.v,E=f.Top.v;
this.jb.T([$,E,f.Rght.v-$,f.Btom.v-E])};hp.prototype.Qq=function(K){var o=JSON.parse(this.Ea);for(var Y in this.$_){var c=this.EA[Y].h();
o[Y]={t:"TEXT",v:c}}var z=this.jb.h();console.log(z);var f=o.bounds.v,$=z[0],E=z[1];f.Left.v=$;f.Top.v=E;
f.Rght.v=$+z[2];f.Btom.v=E+z[3];var b=new h1(w.E.U,!0);b.f=m.YM;b.data=o;b.vk=!0;this.c(b);this.close()};
hp.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();this.avT.t();this.jb.t()};function c2(){gQ.call(this,[2,3],"fill");
this.Bk=null;this.$S=null;var K=I._("div","form padded");K.style.width="22em";this.body.appendChild(K);
this.Kv="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.i8=new bY([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.i8.k(w.E.p,this.agZ,this);K.appendChild(this.i8.n);this.Y1=I._("span");K.appendChild(this.Y1);this.$k=new gK;
this.$k.parent=this;this.$k.Nh(0);this.$H=new bZ;this.$H.parent=this;this.sP=new bY([12,19,0],jw.Y9,jw.AJ);
K.appendChild(this.sP.n);this.ex=new hB([12,0],0,100,"%",0,!1);this.ex.T(100);K.appendChild(this.ex.n);
this.T7=new bb([13,5]);this.T7.T(!1);K.appendChild(this.T7.n);this.nW=I.ZW(this,this.body)}c2.prototype=new gQ;
c2.prototype.zR=function(K,o){return K!=null};c2.prototype.$l=function(){return!0};c2.prototype.agZ=function(){var K=this.i8.h(),o=this.$k.n,Y=this.$H.n,c=this.Y1;
if(K==2)c.appendChild(o);else if(c.contains(o))c.removeChild(o);if(K==7)c.appendChild(Y);else if(c.contains(Y))c.removeChild(Y)};
c2.prototype.t=function(){gQ.prototype.t.call(this);this.i8.t();this.sP.t();this.ex.t();this.T7.t();
this.nW.t()};c2.prototype.Qq=function(K){if(!this.$S.WM())return;var o=new h1(w.E.hP,!0),Y=this.i8.h();
o.data=m.oC.Sz(this.Kv[Y],jw.iu[this.sP.h()],this.ex.h()/100,this.$k.h(),this.T7.h(),this.$H.h());this.close();
this.c(o)};c2.prototype.ic=function(K,o){this.$S=K};c2.prototype.fL=function(K,o){this.Bk=K;if(o==bB.tk||o==bB.Tq){this.$H.nn(K.K_);
this.$H.T({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function bM(){gQ.call(this,[14,9],"stroke");this.Bk=null;this.BC=I._("div","form");this.BC.setAttribute("style","width:24em");
this.body.appendChild(this.BC);this.ee=new gt("FrFX",!0);this.ee.parent=this;var K=["Sz","Styl","Md","Opct"].concat(eF.u4);
for(var y=0;y<K.length;y++){var o=this.ee.iL[K[y]].n;this.BC.appendChild(o)}this.Ms=!1;this.nW=I.ZW(this,this.body)}bM.prototype=new gQ;
bM.prototype.zR=function(K,o){return K!=null};bM.prototype.$l=function(){return!0};bM.prototype.t=function(){gQ.prototype.t.call(this);
this.nW.t();this.ee.t()};bM.prototype.Qq=function(K){var o=new h1(w.E.U,!0);o.f=m.by;o.data={d:"stroke",alX:this.ee.h()};
this.close();this.c(o)};bM.prototype.ic=function(K,o){if(!this.Ms){var Y=eF.NF[eF.order.indexOf("FrFX")];
Y=JSON.parse(Y);this.ee.update(K,Y);this.Ms=!0}var Y=this.ee.h(),c=this.Bk.qm;Y.Clr.v=d.H.eD({o:c>>16&255,A:c>>8&255,J:c&255});
this.ee.update(K,Y)};bM.prototype.fL=function(K,o){this.Bk=K};function c1(){gQ.call(this,[11,9],"textwarp");
this.EA=new fw;this.EA.k(w.E.p,this.je,this);this.EA.parent=this;this.BC=I._("div","form");this.BC.setAttribute("style","width:20em");
this.body.appendChild(this.BC);this.BC.appendChild(this.EA.LQ.n);this.BC.appendChild(this.EA.Hj.n);this.BC.appendChild(this.EA.vy.n);
this.BC.appendChild(this.EA.Mj.n);this.BC.appendChild(this.EA.bn.n);this.nW=I.ZW(this,this.BC);this.k("closebtn",this.SF,this)}c1.prototype=new gQ;
c1.prototype.$l=function(){return!0};c1.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();
this.EA.t()};c1.prototype.je=function(K){var o=this.EA.h();this.KA({d:"warp",qN:o})};c1.prototype.KA=function(K){var o=new h1(w.E.U,!0);
o.f=m.oB;o.data=K;o.vk=!0;this.c(o)};c1.prototype.SF=function(K){this.KA({d:"warpCancel"})};c1.prototype.Qq=function(K){this.KA({d:"warpConfirm"});
this.close()};c1.prototype.ic=function(K,o){var Y=K.B[K.Y[0]];this.EA.T(Y.add.TySh.PK)};function dC(){gQ.call(this,[11,12,0],"trim");
var K=this.BC=I._("div","form");this.BC.setAttribute("style","width:22em");this.body.appendChild(this.BC);
var o=new gJ("Color To Trim:");K.appendChild(o.n);this.ji=new i1(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.ji.T([!0]);this.BC.appendChild(this.ji.n);var o=new gJ("Sides:");K.appendChild(o.n);this.IR=new i1(null,["Top","Left","Bottom","Right"]);
this.IR.T([!0,!0,!0,!0]);this.BC.appendChild(this.IR.n);this.nW=I.ZW(this,this.body)}dC.prototype=new gQ;
dC.prototype.zR=function(K,o){return K!=null};dC.prototype.$l=function(){return!0};dC.prototype.t=function(){gQ.prototype.t.call(this);
this.ji.t();this.IR.t();this.nW.t()};dC.prototype.Qq=function(K){var o=this.ji.h().indexOf(!0),Y=this.IR.h(),c=new h1(w.E.hP,!0);
c.data=m.XX.Vc(o,Y);this.close();this.c(c)};function bJ(){gQ.call(this,"Raw Photopea","rawpea");this.Q0=null;
this.Ut=null;this.body.style.padding="0";var K=this.Ch=new dD["Adobe Camera Raw Filter"](!0),o="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(K.n);this.nW=new eg([1,0],!0,null,!0);this.nW.k("click",this.Qq,this);this.NU=new eg(o+" JPG",!0,null,!0);
this.NU.k("click",this.aCe,this);this.NU.n.style.marginTop="6px";K.TI(this.nW.n);K.TI(this.NU.n)}bJ.prototype=new gQ;
bJ.prototype.uJ=function(){return new jc(0,0)};bJ.prototype.Fx=function(K,o){this.Ch.Fx(K,o)};bJ.prototype.t=function(){gQ.prototype.t.call(this);
this.Ch.t()};bJ.prototype.aCe=function(K){var o=this.Q0,Y=this.Ut,c=fv.WD("JPG").vc([[this.Ch.h(!0).buffer]],Y.UB,Y.Ob,[85]),z=new h1(w.E.L,!0);
z.data={d:w.I.fv,data:c,name:"photo.jpg"};this.c(z)};bJ.prototype.Qq=function(K){var o=this.Q0,Y=this.Ut,c=fT.Wp(o),o={eQ:new hD(0,0,Y.UB,Y.Ob),data:this.Ch.h(!0).buffer,Ou:c},z=fv.w_("Raw Photo",[o]),f=new h1(w.E.L,!0);
f.data={d:w.I.Pc,l_:z};this.c(f);this.rX();this.close()};bJ.prototype.rX=function(){this.Q0=null;this.Ut=null;
this.Ch.agP()};bJ.prototype.ic=function(K,o,Y,c){this.Q0=o.Ol;var z=this.Ut=d.raw.ago(this.Q0),f=d.raw.agE(o.Ol),$=fs.awg(f);
d.raw.yO(z.y3,z.y3,o.Ol,[$.gZ,$.FF]);var E=fn.Ta("Adobe Camera Raw Filter");this.Ch.T(E,z.y3,new hD(0,0,z.UB,z.Ob))};
function hS(K){gQ.call(this,K?[11,11,0]:[11,11,1],K?"vbitmap":"rcolors");this.U5=null;this.$u=null;this.Hs=null;
this.NG=null;this.lz=null;this.azL=null;this.L$=null;this.u6="";this.dr=K;this.mr=this.Bf.bind(this);
this.N$=!1;this.body.style.padding="0";this.BC=I._("div","form hbar padded");this.body.appendChild(this.BC);
var o=this.zB={cnum:new h5([12,82],2,50,null),nois:new bb([12,81]),mode:new bY(null,["Cartoon","Photo"]),segm:new bb("Segmentize"),poly:new bb("Polygon"),merg:new bb("Merge colors"),polE:new h5("Roughness",2,30,null),dthr:new bb([12,23,3]),ok:I.ZW(this,null,!1)},f=16;
for(var Y in o){var c=o[Y];c.parent=this;if(Y!="ok")c.k(w.E.p,this.Bf,this)}var z=this.bT=I._("div","flexrow");
this.body.appendChild(z);z.setAttribute("style","background-color:var(--bg-canvas)");this.Qc=new kB;
this.Qc.k("viewchange",this.Dm,this);this.ia=new kB;this.V=I._("canvas");this.V.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.$F=this.V.getContext("2d");var $=d.R(16*16*4);d.uD($,f,f,8);this.bW=d.scale.SW($,f,f);this.Qc.axA(this.V);
this.Qc.Fp(this.ia);this.ia.Fp(this.Qc);z.appendChild(this.Qc.n);if(K)z.appendChild(this.V);else z.appendChild(this.ia.n)}hS.prototype=new gQ;
hS.prototype.uJ=function(){return new jc(0,0)};hS.prototype.$l=function(){return!0};hS.prototype.Fx=function(K,o){this.Fv=K;
this.jd=o;o=o-44;if(K<600)o-=29;if(this.U5==null)return;var Y=this.U5.eQ,c=kb.a7W(K,o,Y.m,Y.e);if(c==1)o-=3;
if(c==0){K=Math.floor(K/2);I.Px(this.bT,"flexrow")}else{o=Math.floor(o/2);I.LR(this.bT,"flexrow")}I.AU(this.V,K,o);
this.Qc.Fx(K,o);if(this.dr)this.Dm();else this.ia.Fx(K,o)};hS.prototype.Ed=function(K,o,Y,c){this.Qc.Ed(c)};
hS.prototype.t=function(){gQ.prototype.t.call(this);for(var K in this.zB)this.zB[K].t()};hS.prototype.ic=function(K,o){this.L$=K;
this.lz=null;var Y=K.B[K.Y[0]],c=d.RK.apU(Y.buffer.buffer,Y.rect.m,Y.rect.e).a2M,z=c/((Y.rect.m-2)*(Y.rect.e-2)),f=this.zB;
f.cnum.T(20);f.nois.T(z<.75);f.mode.T(z<.75?1:0);f.segm.T(!1);f.poly.T(!1);f.merg.T(!0);f.polE.T(1);
f.dthr.T(!1);var $=Y.rect.clone();$.x=$.y=0;this.U5={eQ:$,data:Y.buffer.buffer.slice(0)};this.$u=null;
this.Fx(this.Fv,this.jd);this.Qc.T([this.U5]);this.Qc.Dj();this.N$=!0;setTimeout(this.mr,20)};hS.prototype.Bf=function(){var K=!0,o=Date.now(),Y=this.U5,c=this.zB,z=c.cnum.h(),f=c.nois.h(),$=c.mode.h(),E=c.segm.h(),b=c.poly.h(),q=c.merg.h(),O=c.polE.h(),v=null;
if($==0)E=b=!1;var j=c.dthr.h(),A=["cnum","nois","mode"];if($==1){A.push("segm");if(this.dr){A.push("poly");
if(b)A.push("polE")}}if(this.dr)A.push("merg");else A.push("dthr");A.push("ok");I.oA(this.BC);for(var y=0;
y<A.length;y++)this.BC.appendChild(c[A[y]].n);if(K)console.log("---------------------------------------");
var R=f||E,g=f+","+E;if(R&&(this.$u==null||this.u6!=g)){this.u6=g;var H=new Uint8Array(Y.data),i=Y.eQ.m,h=Y.eQ.e;
if(f){if(this.lz==null){this.lz=H.slice(0);d.Pl.pW=35;d.Pl.Rn(this.lz,this.lz,i,h,15,1);if(K){console.log("denoise",Date.now()-o);
o=Date.now()}}H=this.lz.slice(0)}else H=H.slice(0);if(E){var x=d.RK.Xr(H,i,h,40,10),F=x.kl,X=new Uint8Array(F*4);
for(var y=0;y<F;y++){var V=y*4,U=y*6,Z=1/x._5[U+5];X[V]=x._5[U]*Z;X[V+1]=x._5[U+1]*Z;X[V+2]=x._5[U+2]*Z}for(var y=0;
y<H.length;y+=4){var T=x.HK[y>>>2]*4;H[y]=X[T];H[y+1]=X[T+1];H[y+2]=X[T+2]}if(K){console.log("segm",Date.now()-o);
o=Date.now()}}this.$u={eQ:Y.eQ.clone(),data:H.buffer}}if(R)Y=this.$u;var H=new Uint8Array(Y.data),i=Y.eQ.m,h=Y.eQ.e;
for(var y=0;y<H.length;y+=4){if(H[y+3]<10)H[y]=H[y+1]=H[y+2]=H[y+3]=0}if($==0){v=d.RK.aCF(H,i,h,z,R?.1:2e-4);
if(K){console.log("quantize",Date.now()-o);o=Date.now()}}if($!=0||v&&v._b.length<2){v=fU.auw(H.buffer,z,i,h)}if(this.dr){var P=v.HK.slice(0);
for(var y=0;y<P.length;y++)P[y]++;var p=new Uint8Array((i+2)*(h+2));d.u_(P,new hD(1,1,i,h),p,new hD(0,0,i+2,h+2));
if(!b){var a=Math.round((i+2)*(h+2)/1e4),D=c_.Xf(p.slice(0),i+2,h+2,Math.min(12,a)),n=c_.dK(D);if(K){console.log("trace smooth",Date.now()-o);
o=Date.now()}}else{var n=d.M.aza(p,i+2,h+2,O,K)}var N=n.length,W=new dF(1,0,0,1,-1,-1);for(var y=0;y<N;
y++)d.M.i(n[y].path.z,W,n[y].path.z);this.NG=n;this.Hs=v;for(var y=0;y<N;y++){var G=n[y];for(var l=y+1;
l<N;l++){var u=n[l];if(u.parent==y&&v._b[u.color-1].est.q[3]<.05){var e=u.path.G.slice(1),M=e.pop();
if(M!="Z")e.push(M);e.reverse();e=["M"].concat(e);if(M=="Z")e.push("Z");var B=[],D=u.path.z.length;for(var s=0;
s<D;s+=2){B[s]=u.path.z[D-2-s];B[s+1]=u.path.z[D-2-s+1]}d.M.concat(G.path,{z:B,G:e})}}}if(K){console.log("finding holes",Date.now()-o);
o=Date.now()}for(var y=0;y<n.length;y++){var t=n[y];if(t.parent!=-1){var J=n[t.parent];t.parent=J;if(J.b$==null)J.b$=[];
J.b$.push(t)}t.depth=t.parent==-1?0:t.parent.depth+1}if(q){function L(hM,r){var ds={},cp=0,eA=0;for(var y=0;
y<hM.length;y++){var j9=hM[y].color,s="c"+j9;if(j9==r)throw j9;if(ds[s]==null)ds[s]=0;ds[s]++;if(ds[s]>cp){cp=ds[s];
eA=j9}}return eA}var k=[],C=[],r=-1,Q=!0;for(var y=0;y<n.length;y++)if(n[y].parent==-1)C.push(n[y]);
while(C.length!=0){var j9=L(C,r);r=j9;for(var y=0;y<C.length;y++)if(C[y].color==j9){var a4=C[y];k.push(a4);
C.splice(y,1);y--;if(a4.b$)for(var l=0;l<a4.b$.length;l++){C.push(a4.b$[l]);if(a4.b$[l].color!=j9)Q=!1}}}if(Q)n=k;
else{var ar=[];for(var ez=0;ez<500;ez++){var ja=[],D=ar[ez-1];ar.push(ja);for(var y=0;y<n.length;y++){var t=n[y],J=t.parent;
if(ez==0&&J==-1||ez!=0&&D.indexOf(J)!=-1){ja.push(t);n.splice(y,1);y--}}ja.sort(function(hM,ds){return hM.color-ds.color});
if(n.length==0)break}for(var y=0;y<ar.length;y++)n=n.concat(ar[y])}}else{var k=[],c3=[];while(n.length!=0){c3.push(n.shift());
while(c3.length!=0){var hW=c3.pop();k.push(hW);if(hW.b$)for(var y=0;y<hW.b$.length;y++){var t=hW.b$[y];
n.splice(n.indexOf(t),1);c3.push(t)}}}n=k}this.NG=n;for(var y=0;y<n.length;y++){var G=n[y],fO=v._b[G.color-1].est.q;
if(fO[3]<=.05){n.splice(y,1);y--;continue}}for(var y=1;y<n.length;y++){var ei=n[y-1],G=n[y];if(ei.color==G.color&&(q||ei.parent==G.parent&&ei.depth>=2)){d.M.concat(ei.path,G.path);
n.splice(y,1);y--;continue}}if(K){console.log("reordering layers",Date.now()-o,N,n.length);o=Date.now()}this.Dm()}else{var fV=new Uint32Array(i*h),aW=i*h;
if(j){var ee=[];for(var y=0;y<v._b.length;y++)ee.push(v._b[y].est.rgba);var T=d.R(i*h);UPNG.encode.dither(new Uint8Array(Y.data),i,h,ee,new Uint8Array(fV.buffer),T)}else{for(var y=0;
y<aW;y++){var j9=v._b[v.HK[y]];fV[y]=j9.est.rgba}}this.azL=new Uint8Array(fV.buffer);this.ia.T([{eQ:Y.eQ,data:fV.buffer}]);
if(this.N$){this.ia.Dj();this.N$=!1}}};hS.prototype.Dm=function(K){if(this.NG==null)return;var o=this.U5.eQ.m,Y=this.U5.eQ.e,c=this.NG,z=this.Hs._b,f=this.V,$=this.$F,E=this.Qc.gW();
$.setTransform(1,0,0,1,0,0);$.clearRect(0,0,f.width,f.height);$.translate(f.width/2,f.height/2);$.scale(E.O,E.O);
$.translate(E.w.x/E.O-o/2,E.w.y/E.O-Y/2);$.scale(1/E.O,1/E.O);$.fillStyle=this.bW;$.fillRect(0,0,o*E.O,Y*E.O);
$.scale(E.O,E.O);var b=[];for(var y=0;y<z.length;y++){var q=z[y].est.q;b.push({o:Math.round(255*q[0]),A:Math.round(255*q[1]),J:Math.round(255*q[2]),g:Math.round(255*q[3])})}for(var y=0;
y<c.length;y++){var O=c[y],q=b[O.color-1];if(q.g==0)continue;$.fillStyle="rgba("+q.o+","+q.A+","+q.J+","+q.g/255+")";
$.beginPath();Typr.U.pathToContext({crds:O.path.z,cmds:O.path.G},$);$.fill()}};hS.prototype.Qq=function(K){var o=this.L$,Y=o.Y[0],c=o.B[Y],z=new h1(w.E.U,!0);
z.vk=!0;z.f=m._V;if(this.dr){var f=this.NG,$=f.length==1,E=o.B.slice(0,Y);if(!$)E.push(o.uR());for(var y=0;
y<f.length;y++){var b=f[y],q=this.Hs._b[b.color-1].est.q;d.M.i(b.path.z,new dF(1,0,0,1,c.rect.x,c.rect.y),b.path.z);
var O=o.Uu();O.vd("Path "+y);E.push(O);O.opacity=Math.round(q[3]*255);O.Gh|=16;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.H.eD({o:255*q[0],A:255*q[1],J:255*q[2]})}};
O.add.vmsk=new S.kZ;O.add.vstk=eF.oc.Ta(!0);O.add.vmsk.$=d.M.eX(b.path,!1);O.add.vogk=[];O.D8();O.WG(o)}var j=E[E.length-1];
if(!$){var O=o.Uu();O.vd(c.getName());O.add.lsct=eo.bl;O.YF="pass";O.Gh=24;E.push(O);j=O}var R=c.add.lmfx;
if(R)j.add.lmfx=JSON.parse(JSON.stringify(R));for(var y=Y+1;y<o.B.length;y++)E.push(o.B[y]);z.data={d:S.Tx,HH:E,HR:[Y+f.length+($?-1:1)],Mx:[11,11,0]}}else{var E=o.B.slice(0),O=o.Uu();
O.vd(c.getName());E.splice(o.Y[0]+1,0,O);O.rect=c.rect.clone();O.buffer=this.azL;O.W();z.data={d:S.Tx,HH:E,HR:[o.Y[0]+1],Mx:[11,11,1]}}this.c(z);
this.close()};function kb(K){gQ.call(this,[[7,11],[7,13]][K],["redge","magiccut"][K]);this.ji=K;this.U5={};
this.Ty=null;this.KO=null;this.L$=null;this.Jq=null;this.q6=null;this.body.style.padding="0";this.U6=[];
this.Dg=-1;this.BC=I._("div","form hbar padded");this.body.appendChild(this.BC);this.DG=new gk;this.DG.parent=this;
this.DG.k(w.E.p,this.WJ,this);this.BC.appendChild(this.DG.n);var o=K==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
o=o.concat("tools/hand","zoomIn","zoomOut");var Y=K==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.rP=new gu(null,o,Y,28);this.rP.k(w.E.p,this.Ed,this);this.BC.appendChild(this.rP.n);this.lR=new h5([7,9],0,50,null);
this.lR.parent=this;this.lR.k(w.E.p,[this.apc,this.Bf][K],this);this.BC.appendChild(this.lR.n);var c=this.ane=new eg([2,2],!1,null,!0);
c.k("click",this.rX,this);this.BC.appendChild(c.n);var z=this.Nw=I._("span","form");this.BC.appendChild(z);
var f=this.a9v=new eg([12,90],!1,null,!0);f.k("click",function(b){alert(K==0?ca.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
z.appendChild(f.n);var $=new eg("Tutorial",!1,null,!0);$.k("click",this.al5,this);z.appendChild($.n);
this.Wd=new gu([12,46],["checker","#ffffff","#000000"]);this.Wd.k(w.E.p,this.a4r,this);z.appendChild(this.Wd.n);
this.Ke=new bY(null,[[6,13],[6,2],[17,2]]);z.appendChild(this.Ke.n);this.nW=I.ZW(this,z,!1);var E=this.bT=I._("div","flexrow");
this.body.appendChild(E);this.gN=new kB(!0);this.WZ=new kB;this.gN.Fp(this.WZ);this.WZ.Fp(this.gN);this.gN.k("mousedown",this.dl,this);
this.gN.k("mousemove",this.iM,this);this.gN.k("mouseup",this.hz,this);this.gN.k("zoom",this.WJ,this);
this.WZ.k("zoom",this.WJ,this);E.appendChild(this.gN.n);E.appendChild(this.WZ.n)}kb.prototype=new gQ;
kb.prototype.zR=function(K,o){var Y=K!=null&&!K.B[K.Y[0]].rect.xf();if(!Y)alert("The layer is empty.");
return Y};kb.prototype.uJ=function(){return new jc(0,0)};kb.prototype.$l=function(){return!0};kb.prototype.Fx=function(K,o){this.Fv=K;
this.jd=o;o=o-12-33;if(K<900){this.Nw.setAttribute("style","display:block;  text-align:right;");o-=29}else{this.Nw.setAttribute("style","position:absolute;  right:0px")}this.Wd.Sk(K<440?null:[12,46]);
this.lR.Sk(K<470?null:[7,9]);var Y=this.U5.rect;if(Y){var c=kb.a7W(K,o,Y.m,Y.e);if(c==0){K=Math.floor(K/2);
I.Px(this.bT,"flexrow")}else{o=Math.floor(o/2);I.LR(this.bT,"flexrow")}this.gN.Fx(K,o);this.WZ.Fx(K,o)}};
kb.a7W=function(K,o,Y,c){var z=K/2,f=o/2,$=Math.min(z/Y,o/c),E=Math.min(K/Y,f/c);return $>E?0:1};kb.prototype.t=function(){gQ.prototype.t.call(this);
this.DG.t();this.lR.t();this.nW.t();this.Wd.t();this.Ke.t();this.ane.t();this.a9v.t()};kb.prototype.al5=function(K){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.ji],"_blank")};
kb.prototype.fL=function(K,o){this.KO=K;if(o==bB.ra||o==bB.tk){this.DG.nn(K.OD);this.DG.T(iO.EL(),K.OD.IC,K.OD.$H)}};
kb.prototype.Ed=function(K,o,Y,c){var z=this.rP.h();if(c==null){this.gN.Ed(kB.EP(z-3));return}this.Jq=c;
var f=m.oC.kr(this.DG.h(),c);if(f!=null){this.DG.T(f);this.WJ()}else if(c.S(a1.rK)&&c.S(a1.VI)){var $=this.U6,E=0;
if(c.S(a1.jR)){if(this.Dg+1<$.length)E=1}else if(this.Dg>0)E=-1;if(E!=0){this.Dg+=E;var b=this.Dg,q=this.U5;
if(E==1)d.iF($[b][2],$[b][0],q.bf,q.rect);else d.iF($[b+1][1],$[b+1][0],q.bf,q.rect);q.Pa=q.rect;this.Bf()}}else if(z<3)this.gN.Ed(c)};
kb.prototype._j=function(K){var o=this.U5,Y=this.U6,c=d.R(K.Z()*4);d.iF(o.DW,o.rect,c,K);o.DW=null;var z=d.R(K.Z()*4);
d.iF(o.bf,o.rect,z,K);this.Dg++;Y[this.Dg]=[K.clone(),c,z];while(Y.length>this.Dg+1)Y.pop();while(Y.length>50){Y=Y.slice(1);
this.Dg--}};kb.prototype.WJ=function(){var K=this.KO,o=g3.V8(this.DG.h(),K.OD.IC,this.gN.gW().O);this.gN.RL(o)};
kb.prototype.dl=function(K){var o=this.KO,Y=this.U5,c=this.Jq,z=this.DG.h(),f=this.gN.rB(),$=[16777215,8421504,0][this.rP.h()];
this.Ty=new g3(z,o.OD.IC,o.OD.$H,{al:1,cp:!0},$,o.YQ,Y.rect);Y.DW=Y.bf.slice(0);if(c!=null&&c.S(a1.jR)&&this.q6){this.Ty.moveTo(this.q6.x,this.q6.y);
this.Ty.lineTo(f.x,f.y)}else this.Ty.moveTo(f.x,f.y);this.atT()};kb.prototype.iM=function(K){var o=this.U5,Y=this.gN.rB();
this.Ty.lineTo(Y.x,Y.y);this.atT()};kb.prototype.hz=function(K){this.q6=this.gN.rB();this._j(this.Ty.kg());
this.Bf()};kb.prototype.atT=function(){var K=this.U5,o=this.Ty,Y=o.n0();if(Y.xf())return;K.Pa=Y;d.l.To("norm",o.SC(),o._U(),K.bf,K.rect,Y,1);
this.a5M()};kb.prototype.rX=function(K){var o=this.U5;o.DW=o.bf.slice(0);o.Pa=o.rect;d.nz(o.bf,[4278190080,4292730333][this.ji]);
this._j(o.rect);this.Bf()};kb.prototype.ic=function(K,o){this.L$=K;var Y=K.B[K.Y[0]],c=Y.rect.clone(),z=c.m,f=c.e;
this.lR.T(this.ji==0?3:z*f<3e6?3:0);this.rP.T(K.r==null?0:1);this.lR.b2();if(this.ji==0&&K.r!=null||this.ji==1)this.lR.L2();
var $=this.ji,E=d.R(c.Z()),b=new Float32Array(c.Z());if($==0&&K.r){d.u_(K.r.channel,K.r.rect,E,c);var q=d.R(c.Z());
for(var O=0;O<f;O++)for(var j=0;j<z;j++){var y=O*z+j,A=E[y];if(j>0&&E[y-1]!=A||j<z-1&&E[y+1]!=A||O>0&&E[y-z]!=A||O<f-1&&E[y+z]!=A)q[y]=255}d.style.kD(q,b,z,f)}else b.fill(1e9);
c.x=c.y=0;this.U5={rect:c,y3:Y.buffer,WB:E,s8:b,R_:d.R(c.Z()*4),C3:d.R(c.Z()*4),bf:d.R(c.Z()*4),DW:null,Wa:null,Pa:c,af7:{}};
if($==0)this.apc();else{this.U5.af7=m.u$.aCI(K);var R=this.U5.bf;d.nz(R,4287137928);var g=d.jw.getSelection(Y.buffer,z,f),H=Math.round(z/60),i=Math.round(.7*f);
for(var O=0;O<f;O++)for(var j=0;j<z;j++){var h=(O*z+j)*4,x=g[h>>>2];x=x>128?255:128;if(O<H||O<i&&(j<H||j>z-1-H))x=0;
R[h]=R[h+1]=R[h+2]=x}this.Bf()}this.U6=[1];this.Dg=0;var F=this.DG.h();F.Brsh.v.Dmtr.v.val=Math.round(c.m/($==0?10:20));
this.DG.T(F);this.WJ();this.Fx(this.Fv,this.jd);this.gN.Dj()};kb.prototype.apc=function(){var K=this.U5,o=K.rect.Z(),Y=this.lR.h(),c=K.WB.slice(0);
for(var y=0;y<o;y++)if(K.s8[y]<Y)c[y]=128;d.nz(K.bf,4294967295);d.cb(c,K.bf,0);d.cb(c,K.bf,1);d.cb(c,K.bf,2);
K.Pa=K.rect;this.Bf()};kb.prototype.Bf=function(){var K=this.U5,z,E,b=0,q=0,O=0;this.a5M();var o=K.rect,Y=o.m,c=o.e,f=d.R(o.Z()),$=K.y3;
d.JI(K.bf,f,0);for(var y=0;y<f.length;y++){if($[(y<<2)+3]!=255)continue;var j=f[y];if(j==0)b++;else if(j==255)q++;
else O++}if(b*q*O!=0){if(this.ji==0)E=d.yG.yG(o,$,f);else{var A=this.rP.h();for(var R=1;R<c;R++)for(var g=1;
g<Y;g++){var y=R*Y+g,H=f[y],i=f[y-1];if(H==0&&i==255||H==255&&i==0){z="The Red and Green should never touch! Erase it with Grey.";
break}}var h=Date.now(),x=this.U5.af7;d.kO(f,x.P6);m.u$.wG(x,!0,this.L$);var F=Math.ceil(this.lR.h()/2);
if(F==0){E=$.slice(0);d.cb(x.r,E,3)}else{var X=x.r.slice(0),V=x.r.slice(0);for(var U=0;U<F;U++){for(var R=1;
R<c-1;R++)for(var g=1;g<Y-1;g++){var y=R*o.m+g,Z=X[y];if(X[y-Y]!=Z||X[y-1]!=Z||X[y+1]!=Z||X[y+Y]!=Z)V[y]=128;
else V[y]=Z}var T=X;X=V;V=T}for(var R=0;R<c;R++)for(var g=0;g<Y;g++){var y=R*Y+g;if(f[y]==0||f[y]==255)X[y]=f[y]}E=d.yG.yG(o,$,X,20,!1)}}}else{E=$.slice(0);
d.cb(f,E,3)}for(var y=3;y<E.length;y+=4)if(E[y]>$[y])E[y]=$[y];if(o.BV(K.rect))K.Wa=E;else d.iF(E,o,K.Wa,K.rect);
this.a4r();if(z)alert(z,4e3)};kb.prototype.a5M=function(K){var o=this.U5,Y=o.Pa;d.iF(o.y3,o.rect,o.R_,o.rect,Y,!0);
var c=o.bf,z=o.rect,f=Date.now();if(this.ji==1){var $=new Uint32Array(256);$[0]=4278190335;$[255]=4278255360;
var E=d.R(Y.Z()*4),b=Y.Z();d.iF(c,z,E,Y);c=E;z=Y;var q=new Uint32Array(c.buffer);for(var y=0;y<b;y++)q[y]=$[q[y]&255]}console.log(Date.now()-f);
d.l.To("norm",c,z,o.R_,o.rect,Y,.3);this.gN.T([{eQ:o.rect,data:o.R_.buffer}],null,null,Y)};kb.prototype.a4r=function(K){var o=this.U5;
d.nz(o.C3,[0,4294967295,4278190080][this.Wd.h()]);d.l.To("norm",o.Wa,o.rect,o.C3,o.rect,o.rect,1);this.WZ.T([{eQ:o.rect,data:o.C3.buffer}])};
kb.prototype.Qq=function(K){var o=this.L$,Y=this.U5,c=this.Ke.h(),z=o.B[o.Y[0]],f=new h1(w.E.U,!0);f.vk=!0;
var $=z.rect.clone();if(c==0&&z.KL()||c!=0&&!z.KL()){f.f=m._V;f.data={d:S.WF,a:o.Y[0]};this.c(f)}if(o.r!=null){f.f=m.at;
f.data={d:"fromAction",Sv:m.PP.hE()};this.c(f)}if(c==0){var E=o.B.slice(0),b=o.Uu();b.vd(z.getName());
E.splice(o.Y[0]+1,0,b);b.rect=$;b.buffer=Y.Wa;b.W();f.f=m._V;f.data={d:S.Tx,HH:E,HR:[o.Y[0]+1],Mx:[7,11]};
this.c(f)}if(c==1){var q=z.ue();f.f=m._V;f.data={d:S.FO,a9R:!0};this.c(f);var O=z.ue();O.channel=d.R($.Z());
O.rect=$;O.color=0;O.dw=!0;d.JI(Y.Wa,O.channel,3);if(q){var j=O.mL(q);O.rect=j.rect;O.channel=j.channel;
O.color=j.color}O.sc();z.WG()}if(c==2){var R={rect:$,channel:d.R($.Z())};d.JI(Y.Wa,R.channel,3);f.f=m.at;
f.data={d:"setsel",r:R,Mx:this.f1};this.c(f)}this.close()};function hr(){gQ.call(this,[1,13],"locstor");
this.Bk=null;this.sv=[];var K=this.body,o=I._("p");o.textContent="These files are loaded every time you start Photopea.";
K.appendChild(o);this.al7=0;this.Ib=I._("span");K.appendChild(this.Ib);this.Ib.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var Y=I._("span","form");K.appendChild(Y);this.nq=new eg([5,4],!1,null,!0);this.nq.k("click",this.bO,this);
Y.appendChild(this.nq.n);this.Cl=new eg("Get all as ZIP",!1,null,!0);this.Cl.k("click",this.qw,this);
Y.appendChild(this.Cl.n);this.YN=new cW(!0);this.YN.parent=this;this.YN.IK(1);K.appendChild(this.YN.n);
this.YN.n.setAttribute("style","width: 40em; height: 25em")}hr.prototype=new gQ;hr.prototype.t=function(){gQ.prototype.t.call(this);
this.Ib.textContent=ca.get([13,2])+": "+gO.Es(this.al7);this.nq.t()};hr.prototype.fL=function(K,o){this.Bk=K;
if(o==bB.Ap)this.ic()};hr.prototype.ic=function(K,o){var Y=this.Bk.v5.om,b=0;this.sv=[];for(var c in Y)this.sv.push(c);
this.sv.sort(function(O,j){O=O.split(".");j=j.split(".");return O[1]==j[1]?O[0]<j[0]?-1:1:O[1]<j[1]?-1:1});
var z=Math.floor(100*I.GR()),f=Math.floor(16*I.GR()),$=[],E=[];for(var y=0;y<this.sv.length;y++){var c=this.sv[y],q=hr.zU(c,Y[c],z,f);
$.push(q);E.push(c);b+=Y[c].byteLength}this.YN.SK($,E,z,f);this.al7=b;this.t()};hr.prototype.bO=function(K){var o=this.YN.h();
if(o.length==0){alert("Select a file first.");return}this.YN.T([]);var Y=this.Bk.v5.om;for(var y=0;y<o.length;
y++)delete Y[this.sv[o[y]]];var c=new h1(w.E.L,!0);c.data={d:w.I.Ak,VS:bB.Ap};this.c(c)};hr.prototype.qw=function(K){var o=this.Bk.v5.om,Y={};
for(var c in o)Y[c]=new Uint8Array(o[c]);var z=UZIP.encode(Y);jm.save(z,"resources.zip")};hr.zU=function(K,o,Y,c){var z=I._("canvas"),E=0;
z.width=Y;z.height=c;var f=z.getContext("2d"),$=K.split(".").pop().toLowerCase();for(var y=0;y<$.length;
y++)E+=$.charCodeAt(y)*613<<8*y;f.fillStyle="#"+d.lP(E&16777215);f.fillRect(0,0,20,c);var b=Math.floor(14*I.GR());
f.fillStyle="#000000";f.font="bold "+b+"px sans-serif";var q=(c-b)/2,O=gO.Es(o.byteLength),j=f.measureText(O);
f.fillText(O,Y-12-j.width,c-q);return z.toDataURL()};function fg(){gQ.call(this,[1,15],"pmanager");this.Bk=null;
this.gT=new bY([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.gT.k(w.E.p,this.ic,this);
this.body.appendChild(this.gT.n);var K=I._("div","flexrow");this.body.appendChild(K);var o=this.a2J=I._("div");
K.appendChild(o);var Y=I._("div","form");K.appendChild(Y);Y.setAttribute("style","width:140px; margin-left:12px");
this.agD=[bB.ra,bB.ne,bB.Tq,bB.j7,bB.mI,bB.cw];this.ZG=[new gk,new cB,new bZ,new dh,new bl,new i0];for(var y=0;
y<this.ZG.length;y++)this.ZG[y].parent=this;this.gw=[];for(var y=0;y<4;y++){var c=new eg("Hello",!0,null,!0);
c.k("click",this.$U,this);this.gw.push(c);Y.appendChild(c.n)}this.ic()}fg.prototype=new gQ;fg.prototype.rC=function(K){return K==a1.v1||K==a1.QC};
fg.prototype.$U=function(K){var y=this.gw.indexOf(K.target);this.ZG[this.gT.h()].yx(y)};fg.prototype.t=function(){gQ.prototype.t.call(this);
this.gT.t();for(var y=0;y<this.ZG.length;y++)this.ZG[y].t();var K=this.gw,o=this.gT.h(),Y=bB.eq[this.agD[o]],c=Y[0].toUpperCase();
K[0].Sk([[23,6],"."+c]);K[1].Sk(["VAR0 ."+c,[1,8]]);K[2].Sk([6,37]);K[3].Sk([5,4])};fg.prototype.fL=function(K,o){this.Bk=K;
this.ic()};fg.prototype.ic=function(K,o){if(!I.qO(this.n))return;this.t();I.oA(this.a2J);this.a2J.appendChild(this.ZG[this.gT.h()].q1);
var Y=this.ZG,c=this.Bk;if(c==null)return;Y[0].nn(c.OD);Y[1].xN(c.qm,c.YQ);Y[1].nn(c.aq);Y[2].nn(c.K_);
Y[3].nn([c.ck,c.K_]);Y[4].nn(c.qr);Y[5].nn(c.$r)};function ea(K,o,Y){gQ.call(this,o,"cwindow");this.axD=new jc(Y[0],Y[1]-33);
this.BC=I._("div","form");this.BC.setAttribute("style","width:"+(Y[2]-Y[0])+"px; height:"+(Y[3]-Y[1])+"px");
this.body.appendChild(this.BC)}ea.prototype=new gQ;ea.prototype.uJ=function(K,o){return this.axD.clone()};
function ao(K){var o=ao.atF(K);gQ.call(this,o,"res"+K);var Y=this.acp.bind(this);window.addEventListener("message",function(z){if(typeof z.data=="string"&&z.data.startsWith("--et ")){console.log(z.data);
var f=this.ab_=z.data.slice(5).split(",");f[0]=parseFloat(f[0]);es.JU(f[0],f[1],Y)}}.bind(this));this.aW=o;
this.Vq=K;this.ao5=null;this.RO=null;this.X_=0;this.Zy=null;this.uU=null;this.ab_=null;this.Bk=null;
this.body.setAttribute("style","padding:0");this.uk=new eg("",null,null,!0);this.body.appendChild(this.uk.n);
this.uk.k("click",this.Y8,this);this.uk.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.SG=new eg("\u25BC",null,null,!0);this.SG.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.SG.k("click",this.avD,this);this.body.appendChild(this.SG.n);this.OR=I._("span","form");this.body.appendChild(this.OR);
this.gw=[];for(var y=0;y<9;y++){var c=new eg(ao.atF(y));this.gw.push(c);if(y==K)c.T(!0);this.OR.appendChild(c.n);
c.k("click",this.a2k,this)}this.jL=new eg([5,3],null,null,!0);this.jL.k("click",this.aiw,this);this.acm=new eg("Upload Current Document as a Template",null,null,!0);
this.acm.k("click",this.azl,this);this.td=new cI("Creator / Brand name");this.ZJ=new eg([1,2],null,null,!0);
this.ZJ.k("click",this.qw,this);this.Ix=I._("iframe","scrollable");this.Ix.setAttribute("style","border:none; margin:0; padding:0;");
this.xR=I._("div","form scrollable padded");this.Cm=new dP(K);this.Cm.k("back",this.rX,this);this.Cm.k("save",this.a2Z,this);
this.body.appendChild(this.Ix)}ao.prototype=new gQ;ao.atF=function(K){var o;if(K==0)o=[25,0];else if(K==1)o="Plugins";
else for(var Y in bB.eq)if(bB.eq[Y][4]==K)o=bB.eq[Y][3];return o};ao.prototype.avD=function(K){this.OR.style.display=this.OR.style.display=="none"?"":"none"};
ao.prototype.a2k=function(K){var y=this.gw.indexOf(K.target);if(y==this.Vq)return;this.close();var o=new h1(w.E.L,!0);
o.data={d:w.I.Gg,XQ:"res"+y};this.c(o)};ao.prototype.acp=function(K){this.Y8();this.uU=JSON.parse(K.target.response);
this.zh()};ao.prototype.uJ=function(K,o){return new jc(0,0)};ao.prototype.Fx=function(K,o){this.Fv=K;
this.jd=o;this.$S=null;o=o-4;K=K;var Y=K>820,c="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",z="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.OR.setAttribute("style",Y?c:z);this.OR.style.marginTop=(Y?-31:0)+"px";this.SG.n.style.display=Y?"none":"";
var f=this.xR;f.style.width=K-12+"px";f.style.height=o-12+"px";var f=this.Cm.n;f.style.width=K-12+"px";
f.style.height=o-12+"px";var f=this.Ix;f.style.width=K+"px";f.style.height=o+"px";this.Yl()};ao.prototype.fL=function(K,o){this.Bk=K};
ao.prototype.t=function(){gQ.prototype.t.call(this);for(var y=0;y<this.gw.length;y++)this.gw[y].t();
this.jL.t()};ao.prototype.ic=function(K,o,Y,c){this.$S=K;this.Y8(null,!1)};ao.prototype.Y8=function(K,o){var Y=o!=null?o:I.qO(this.Ix);
if(Y){if(!es.T1()){alert("You need to log in first!");return}var c=es.Tu();this.RO=c.tpl?c.tpl.list:[];
this.td.T(c.tpl&&c.tpl.brnd?c.tpl.brnd:"");this.Yl()}else{this.Ix.setAttribute("src","");this.Ix.setAttribute("src","templates/?type="+this.Vq+"&rsrc="+this.Bk.Uo.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(Y?this.xR:this.Ix);var z=ca.get(this.aW);this.uk.Sk(Y?"All "+z:"Add "+z)};ao.prototype.Yl=function(){var K=ca.get(this.aW),o=this.RO,Y=this.Vq,E=450;
if(o==null)return;var c=this.xR;I.oA(c);var z=I._("h1");c.appendChild(z);z.textContent="Share your "+K+" with the world!";
var f=I._("ul");c.appendChild(f);var $=I._("li");f.appendChild($);$.textContent="By publishing your "+K+", you agree to let others use them for all kinds of purposes, even commercially.";
c.appendChild(this.jL.n);if(Y==0)c.appendChild(this.acm.n);I.Tg(c);c.appendChild(this.td.n);c.appendChild(this.ZJ.n);
I.Tg(c);E=(this.Fv-20)/Math.max(1,Math.floor(this.Fv/E))-42;var b="display:inline-block; width:"+E+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var y=o.length-1;y>=0;y--){var q=o[y];if(q.type==null)q.type=0;if(q.type!=Y)continue;var O=I._("div");
c.appendChild(O);O.setAttribute("style",b);var j=I._("img");O.appendChild(j);j.setAttribute("src",q.thmb);
j.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var A=I._("h3");O.appendChild(A);A.textContent=q.name;A.setAttribute("style","margin:0 0 10px 0");var R=I._("p");
O.appendChild(R);R.textContent=q.desc;R.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var g=0;g<2;g++){var H=new eg(g==0?"Edit":"Delete",null,null,!0);H.a1W=y;H.zh=g==0;H.k("click",this.az0,this);
O.appendChild(H.n)}}};ao.prototype.azl=function(K){if(this.$S==null){alert("No document opened.");return}var o=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!o)return;var Y=new h1(w.E.L,!0);Y.data={d:w.I.xW,ks:"psd",F_:this.awi.bind(this)};this.c(Y)};ao.prototype.awi=function(K){this.a4$=K;
var o=new h1(w.E.L,!0);o.data={d:w.I.xW,ks:"jpg",F_:this.ape.bind(this),aq9:1400};this.c(o)};ao.prototype.ape=function(K){this.Zy={type:0,catg:0,desc:"",file:this.a4$,name:this.$S.name.split(".")[0],thmb:K,publ:!0,utme:""};
this.zh()};ao.prototype.aiw=function(K){this.Zy={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.zh()};ao.prototype.az0=function(K){this.X_=K.target.a1W;if(!K.target.zh){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.RO.splice(this.X_,1);this.qw();this.Yl();return}this.zh()};ao.prototype.zh=function(){if(I.qO(this.xR))this.body.removeChild(this.xR);
this.body.appendChild(this.Cm.n);var K=this.Zy?this.Zy:this.uU?this.uU:this.RO[this.X_];if(K.type==null)K.type=0;
this.Cm.T(K)};ao.prototype.a2Z=function(K){var o=this.Cm.h();if(this.Zy)this.RO.push(o);else if(this.uU){var Y=this.ab_;
es.JU(Y[0],Y[1],this.rX.bind(this),JSON.stringify(o));return}else this.RO[this.X_]=o;this.qw();this.rX()};
ao.prototype.rX=function(){var K=this.uU;this.Zy=null;this.uU=null;this.body.removeChild(this.Cm.n);
this.body.appendChild(this.xR);this.Yl();if(K)this.Y8()};ao.prototype.qw=function(){var K=es.Tu();if(this.RO.length==0)delete K.tpl;
else{K.tpl={list:JSON.parse(JSON.stringify(this.RO))};var o=this.td.h().trim();if(o!="")K.tpl.brnd=o}es.y8(K,function(){alert("Saved.")})};
function gL(){gQ.call(this,"Make Selection","makesel");this.Bk=null;var K=I._("div","form");this.body.appendChild(K);
this.wK=new bb([12,25,1]);this.wK.T(!0);K.appendChild(this.wK.n);I.Tg(K);this.AZ=new he(!0);K.appendChild(this.AZ.n);
this.nW=I.ZW(this,this.body)}gL.prototype=new gQ;gL.prototype.t=function(){gQ.prototype.t.call(this);
this.AZ.t();this.wK.t();this.nW.t()};gL.prototype.Qq=function(K){var o=new h1(w.E.U,!0);o.f=m.at;o.data={d:"frompath",$G:[null,0,this.AZ.h(),this.wK.h()]};
this.close();this.c(o)};function jT(){gQ.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.$S=null;this.tG=null;
this.cs=null;var K=this.a7g=I._("div","form");K.setAttribute("style","width:20em");this.body.appendChild(K);
this.O5=new hQ([12,50],["PSD","PSB"]);this.O5.k(w.E.p,this.eA,this);K.appendChild(this.O5.n);I.Ud(K);
var o=new gJ("Minify the file");K.appendChild(o.n);I.Tg(K);var Y=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.hy=[];for(var y=0;y<Y.length;y++){var c=new bb(Y[y]);this.hy.push(c);K.appendChild(c.n);c.k(w.E.p,this.eA,this)}I.Ud(K);
this.de=new gJ("aa.psd");this.hK=new gJ("10 kB");K.appendChild(this.hK.n);this.aoa=new gJ("1000 B");
K.appendChild(this.aoa.n);this.nW=new eg([1,2],!0,null,!0);this.nW.k("click",this.Qq,this);K.appendChild(this.nW.n);
this.sZ=new eg(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.sZ.k("click",this.Qq,this);K.appendChild(this.sZ.n);
this.k("closebtn",this.SF,this)}jT.prototype=new gQ;jT.prototype.ic=function(K,o,Y,c){var z=I.qO(this.sZ.n),f=K.ED!=null&&K.ED.HT=="psd";
if(f&&!z)this.a7g.appendChild(this.sZ.n);if(!f&&z)this.a7g.removeChild(this.sZ.n);for(var y=0;y<this.hy.length;
y++)this.hy[y].T(!1);this.$S=K;this.eA()};jT.prototype.Qq=function(K){if(K.target==this.nW)jm.save(this.tG,this.cs);
else{if(this.hy[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}dt.am$(this.$S,this.tG)}};
jT.prototype.SF=function(){this.$S=null;this.tG=null};jT.prototype.eA=function(){var K=this.$S,o=[!1,!1,!1,!1];
for(var y=0;y<3;y++)o[y]=this.hy[y].h();var Y=this.hy[3].h(),c=o[3]=this.O5.h()==1,z=K.name.slice(0,K.name.length-3),f=this.tG=fv.WD("PSD").vc(K,0,0,o),h4=this.cs=z+"ps"+(c?"b":"d");
if(Y){var $={};$[h4]=new Uint8Array(f);f=this.tG=UZIP.encode($);h4=this.cs=z+"zip"}this.de.T(h4);this.hK.T(gO.Es(f.byteLength));
this.hK.n.style["font-size"]="2em";this.aoa.T(" \u2001 "+f.byteLength+" B");this.nW.Sk(ca.get([1,2])+" \""+h4+"\"")};
jT.prototype.t=function(){gQ.prototype.t.call(this);this.O5.t();this.nW.t();this.sZ.t()};function kw(){gQ.call(this,"Confirm","confirm");
this.gb=null;var K=I._("div");K.setAttribute("style","margin-bottom:1em");this.body.appendChild(K);this.tP=I._("div");
this.tP.textContent="Hello";K.appendChild(this.tP);this.nW=I.ZW(this,this.body)}kw.prototype=new gQ;
kw.prototype.Qq=function(K){if(this.gb==null)return;console.log("okconfirm");this.close();this.gb();
this.gb=null};kw.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t()};kw.prototype.ic=function(K,o){if(o.a2e)this.tP.innerHTML=o.b;
else this.tP.textContent=o.b;if(o.a32)this.nW.Sk(o.a32);this.gb=o.gb;this.nW.n.focus();if(o.a2e!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.ajU=o.a2e!=null};kw.prototype.uJ=function(K,o){return new jc(Math.max(0,(K-500)/2),Math.max(0,Math.min(60,(o-100)/2)))};
kw.prototype.Fx=function(K,o){this.tP.style.width=K-30+"px"};function k4(){gQ.call(this,[1,16,2],"newartb");
this.ji=0;this.xZ=null;var K=I._("div","form");K.style.width="260px";this.body.appendChild(K);this.YN=new cY;
K.appendChild(this.YN.n);this.nW=I.ZW(this,K)}k4.prototype=new gQ;k4.prototype.zR=function(K,o){return K!=null};
k4.prototype.Qq=function(K){var o=this.YN.h();this.xZ.m=o.x;this.xZ.e=o.y;var Y=new h1(w.E.U,!0);Y.f=m.qd;
Y.data={a45:this.xZ,aZ:this.ji};this.c(Y);this.close()};k4.prototype.t=function(){gQ.prototype.t.call(this);
this.YN.t();this.nW.t()};k4.prototype.ic=function(K,o){this.ji=o.aZ;var Y=new hD(0,0,K.m,K.e);if(K.Y.length!=0){var c=K.B[K.Y[0]];
if(c.add.artb){Y=c.Yv();Y.x+=Y.m+100}if(o.aZ==1)Y=m.OB._U(K)}this.xZ=Y;this.YN.T(new jc(Y.m,Y.e))};function jU(){gQ.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.y2=null;this.k("closebtn",this.Pt,this);this.k("canclose",this.Pt,this)}jU.prototype=new gQ;
jU.prototype.fL=function(K,o){if(this.y2)this.y2.fL(K,o)};jU.prototype.uJ=function(K,o){return new jc(Math.max(0,Math.min(150,(K-980)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
jU.prototype.Fx=function(K,o){this.Fv=K;this.jd=o;K=Math.min(K,980);o=Math.min(o,590);if(this.y2)this.y2.Fx(K,o)};
jU.prototype.t=function(){gQ.prototype.t.call(this);if(this.y2)this.y2.t()};jU.prototype.ic=function(K,o,Y,c){this.f1=o.aZ==0?"Open from Storage":"Save to Storage";
this.t();if(this.y2==null){this.y2=new hx;this.y2.parent=this;this.body.appendChild(this.y2.n);this.t();
this.Fx(this.Fv,this.jd)}Storage.IK(o.aZ,K?K.name:"");hx.V1(this.y2)};jU.prototype.Pt=function(K){Storage.IK(0);
hx.MM();if(K.type=="canclose")this.close()};function kl(){gQ.call(this,[2,14],"varsdats");var K=this.BC=I._("div","form");
K.setAttribute("style","width:300px");this.body.appendChild(K);this.$S=null;this.JT=0;this.Bk=null;this.Hq=new hQ(null,[[2,14],"Data Sets",[1,8]]);
this.Hq.k(w.E.p,this.agi,this);this.pR=new kl.HC;this.NT=new kl.B2;this.x_=new kl.La;this.NT.k("activate",this.jz,this);
this.x_.k("export",this.ME,this);this.nW=I.ZW(this)}kl.prototype=new gQ;kl.prototype.agi=function(K){var o=this.Hq.h(),Y=this.BC;
I.oA(Y);Y.appendChild(this.Hq.n);I.Ud(Y);Y.appendChild([this.pR,this.NT,this.x_][o].n);Y.appendChild(this.nW.n)};
kl.prototype.Qq=function(K){var o=new h1(w.E.U,!0);o.f=m._V;o.data={d:S.b3,b:JSON.stringify([this.pR.h(),this.NT.h()])};
this.c(o);this.close()};kl.prototype.t=function(){gQ.prototype.t.call(this);this.nW.t();this.x_.t()};
kl.prototype.ic=function(K,o){this.$S=K;if(K==null)return;this.pR.ic(K,o);this.NT.ic(K,o);this.Hq.T(0);
this.agi();this.JT=0};kl.prototype.fL=function(K,o){this.Bk=K};kl.prototype.ME=function(K){var o=this.pR.h(),Y=this.NT.h(),c=this.x_.h();
if(o.length==0){alert("There are no variables.");return}if(Y.length==0){alert("There are no data sets.");
return}var z=fv.aui(this.$S,o,Y,this.NT.a7a(),c[0],c[1],c[2],this.Bk,this);if(z!=null)jm.save(z,"images.zip")};
kl.prototype.jz=function(K){var o=this.NT.Y,Y=this.pR.h(),c=this.NT.h();if(Y.length==0){alert("There are no variables.");
return}if(c.length==0){alert("There are no data sets.");return}this.KH();this.JT+=fv.e2(this.$S,this,Y,c,this.NT.a7a(),o)};
kl.prototype.KH=function(){var K=new h1(w.E.U,!0);K.f=m.s5;K.data={d:"h_stepbck"};while(this.JT>0){this.c(K);
this.JT--}};kl.La=function(){cv.call(this);var K=this.n=I._("div");this.VM=new cI("Variable for file names");
K.appendChild(this.VM.n);I.Ud(K);this.$A=["JPG","PNG","PDF"];this.O5=new hQ([12,50],this.$A);this.O5.k(w.E.p,this.a9H,this);
K.appendChild(this.O5.n);this.PS=new kh;K.appendChild(this.PS.n);this.a9H();this.Cl=new eg("Export all items",!0,null,!0);
this.Cl.k("click",this.ME,this);K.appendChild(this.Cl.n)};kl.La.prototype=new cv;kl.La.prototype.t=function(K){this.VM.t();
this.O5.t();this.Cl.t();this.PS.t()};kl.La.prototype.a9H=function(K){var o=this.$A[this.O5.h()];this.PS.u3(o)};
kl.La.prototype.ME=function(K){this.c(new h1("export"))};kl.La.prototype.h=function(){var K=this.$A[this.O5.h()];
return[K,this.PS.h(),this.VM.h().trim()]};kl.B2=function(){cv.call(this);this.wq=null;this.yF=[];this.Y=0;
var K=this.n=I._("div","form");this.OQ=new eO("Import a CSV file");K.appendChild(this.OQ.n);this.OQ.k(w.E.p,this.av3,this);
this.Mr=I._("div","scrollable");this.Mr.setAttribute("style","overflow:scroll;  height:234px;");K.appendChild(this.Mr);
this.ayJ=new eO("Source Images",!0);K.appendChild(this.ayJ.n)};kl.B2.prototype=new cv;kl.B2.prototype.av3=function(K){var o=this.OQ.h();
for(var Y in o){o=o[Y];break}this.wq=bt.qz(_.DI(o));this.nF()};kl.B2.prototype.a7a=function(){return this.ayJ.h()};
kl.B2.prototype.ic=function(K,o){var Y=this.wq=JSON.parse(JSON.stringify(K.Mv));this.nF()};kl.B2.prototype.h=function(){return this.wq};
kl.B2.prototype.nF=function(){var K=this.m7.bind(this),o=this.wq,c="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.yF=[];var Y=I._("table");Y.setAttribute("style","border-collapse: collapse;");for(var y=0;y<o.length;
y++){var z=I._("tr"),f=o[y],$=y==0?"th":"td";Y.appendChild(z);var E=I._($);z.appendChild(E);E.setAttribute("style",c+"cursor:pointer;");
if(y!=0)E.textContent="\u2713";this.yF.push(E);E.addEventListener("click",K,!1);for(var b=0;b<f.length;
b++){var E=I._($);E.textContent=f[b];z.appendChild(E);E.setAttribute("style",c);E.setAttribute("title",f[b])}}I.oA(this.Mr);
this.Mr.appendChild(Y)};kl.B2.prototype.m7=function(K){this.Y=this.yF.indexOf(K.currentTarget);this.c(new h1("activate"))};
kl.HC=function(){cv.call(this);var K=this.n=I._("div","form marged");this.iK=null;this.oW=[];this.nT=[];
this.rJ=null;this.v6=new bY([0,3],[]);this.v6.k(w.E.p,this.aAv,this);K.appendChild(this.v6.n);this.M4=[];
var o=["Visibility","Text Content","Pixel Content"];for(var y=0;y<o.length;y++){I.Ud(K);var Y=new bb(o[y]);
Y.k(w.E.p,this.Jr,this);K.appendChild(Y.n);I.Tg(K);var c=new cI("Variable Name");c.k(w.E.p,this.Jr,this);
K.appendChild(c.n);this.M4.push(Y,c)}};kl.HC.prototype=new cv;kl.HC.prototype.Jr=function(K){var o=this.v6.h(),Y=this.rJ[o],c=this.oW[o],z=this.iK["l"+Y],f=this.M4;
if(z==null)this.iK["l"+Y]=z=[];while(z.length!=0)z.pop();for(var y=0;y<3;y++){var $=f[2*y+1].h();if(!f[2*y].h())continue;
var E={varName:$,trait:["visibility","textcontent","fileref"][y]};z.push(E);if(y==2){E.align="center";
E.clip="false";E.placementMethod="fit";E.valign="middle"}}if(z.length==0)delete this.iK["l"+Y];this.ic()};
kl.HC.prototype.aAv=function(K){var o=this.v6.h(),Y=this.rJ[o],c=this.oW[o],z=this.iK["l"+Y],f=this.M4;
if(z==null)z=[];for(var y=0;y<3;y++){var $=y==0||y==1&&c==0||y==2&&c==1;f[2*y].W6($);f[2*y].T(!1);f[2*y+1].W6($);
f[2*y+1].T("")}for(var y=0;y<z.length;y++){var E=z[y],b=E.trait,q=["visibility","textcontent","fileref"].indexOf(b);
f[q*2].T(!0);f[q*2+1].T(E.varName)}};kl.HC.prototype.ic=function(K,o){if(K){var Y=JSON.parse(JSON.stringify(K.YK)),c=this.iK={};
for(var y=0;y<Y.length;y++){var z=Y[y],f=z.docRef;f="l"+f.slice(4,f.length-2);if(c[f]==null)c[f]=[];
c[f].push(z)}this.rJ=[];this.oW=[];this.nT=[];for(var y=K.B.length-1;y>=0;y--){var $=K.B[y],f=$.add.lyid;
if($.getName()=="</Layer group>")continue;this.rJ.push(f);this.oW.push($.add.TySh?0:1);this.nT.push($.getName())}}var E=[],b=this.nT;
for(var y=0;y<b.length;y++){E.push(b[y]+(this.iK["l"+this.rJ[y]]?" *":""))}var q=this.v6.h();this.v6.Xs(E);
this.v6.T(q);this.aAv()};kl.HC.prototype.h=function(){var K=this.iK,o=[];for(var Y in K){var c=K[Y];
for(var z=0;z<c.length;z++){c[z].docRef="id('"+Y.slice(1)+"')";o.push(c[z])}}return o};function cQ(){gQ.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.oU=!1;var K=this.yK=[],o=I._("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);
for(var y=0;y<2;y++){var Y=new bb([22,4,2+y]);o.appendChild(Y.n);I.Tg(o);var c=new hQ(null,[["N equal parts"],["N pixels per part"]]);
o.appendChild(c.n);I.Tg(o);var z=new h5("N",0,1e3);z.T(4);z.parent=this;o.appendChild(z.n);I.Tg(o);if(y==0)I.Ud(o);
K.push(Y,c,z)}for(var y=0;y<K.length;y++)K[y].k(w.E.p,this.Rq,this);K.push(I.ZW(this,o));this.k("closebtn",this.KH,this)}cQ.prototype=new gQ;
cQ.prototype.KH=function(){if(this.oU){var K=new h1(w.E.U,!0);K.f=m.s5;K.data={d:"h_stepbck"};this.c(K)}};
cQ.prototype.Rq=function(K){this.KH();this.oU=!0;var o=[];for(var y=0;y<6;y++)o.push(this.yK[y].h());
var Y={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var c=0;c<2;c++){if(!o[c*3])continue;var z=o[c*3+1],f=o[c*3+2];Y[["slices","pixels"][z]+["Across","Down"][c]]={t:"long",v:f}}var $=new h1(w.E.hP,!0);
$.data={Rk:"divide",jU:Y};this.c($)};cQ.prototype.Qq=function(K){this.close()};cQ.prototype.t=function(){gQ.prototype.t.call(this);
var K=this.yK;for(var y=0;y<K.length;y++)K[y].t()};cQ.prototype.ic=function(K,o){this.oU=!1};function hK(){gQ.call(this,"Stroke Path","strokepath");
this.Bk=null;this.mK=null;this.Oi=null;this.nW=null;this.HM=[m.gR,m.ra,m.by,m.i$,m.em,m.nG,m.Me,m.C0,m.Qe,m.GH,m.au,m.vn,m.oZ,m.rM,m.$x]}hK.prototype=new gQ;
hK.prototype.t=function(){gQ.prototype.t.call(this);if(this.nW){this.mK.t();this.nW.t()}};hK.prototype.Qq=function(K){var o=this.HM[this.mK.h()],Y=null;
for(var c in m.Ru)if(m.Ru[c]==o)Y=c;var z=new h1(w.E.hP,!0);z.data=m.xY.fB(Y,this.Oi.h());this.close();
this.c(z)};hK.prototype.fL=function(K,o){if(this.Bk==null){var Y=[];for(var y=0;y<this.HM.length;++y){Y.push(K.q.map[this.HM[y]].f.name)}var c=I._("div","form");
this.body.appendChild(c);this.mK=new bY("Tool",Y);this.mK.T(1);c.appendChild(this.mK.n);this.Oi=new bb("Simulate Pressure");
I.Tg(c);c.appendChild(this.Oi.n);this.nW=I.ZW(this,this.body)}this.Bk=K};function c4(){gQ.call(this,[1,18],"linkview");
I.Px(this.body,"form");var K=this.zB=[new cI(null,null,17),new eg([5,1],!1,null,!0),new eg([1,0],!1,null,!0)];
for(var y=0;y<3;y++){var o=K[y];this.body.appendChild(o.n);if(y!=0)o.k("click",this.a3x,this);if(y==0)I.Tg(this.body)}}c4.prototype=new gQ;
c4.prototype.ic=function(K,o){var Y=o.agJ;if(Y.startsWith("https://"))Y=Y.slice(8);this.zB[0].T(Y)};
c4.prototype.a3x=function(K){var o=this.zB,Y=o[0].h(),c=K.target==this.zB[1];if(c){navigator.clipboard.writeText(Y);
alert("Copied to a clipboard!")}else window.open("https://"+Y,"Shared")};function fW(K,o,Y,c){cv.call(this);
this.name=K;this.amK=Y;this.xx=c;this.mz=I._("div","");this.mz.setAttribute("draggable","true");this.NA=I._("div","pbody");
this.vx=new eg("",!1,"");this.vx.parent=this;this.aqh=I._("span","cross gsicon");this.T$=I._("span","label");
var z=this.aep.bind(this);this.mz.addEventListener("mousedown",this.awm.bind(this),!1);this.mz.addEventListener("contextmenu",z,!1);
this.vx.n.addEventListener("contextmenu",z,!1);this.aqh.addEventListener("mousedown",this.wB.bind(this),!1);
this.mz.appendChild(this.T$);if(o)this.mz.appendChild(this.aqh);this.Jx=!1;this.T$.textContent=K}fW.prototype=new cv;
fW.prototype.VL=function(){return null};fW.prototype.t=function(){var K=ca.get(this.name),o=!1,Y=this.Fv==0?22:Math.round(2+this.Fv/50);
if(K.endsWith(" *")){o=!0;K=K.slice(0,K.length-2);Y-=2}var c=K.length>Y;this.T$.textContent=c?K.slice(0,Y-2):K;
if(c)for(var z=0;z<2;z++){var f=I._("span");f.textContent=K.charAt(Y-2+z);f.setAttribute("style","opacity:"+(.6-z*.4));
this.T$.appendChild(f)}if(o){var f=I._("span");f.textContent=" *";this.T$.appendChild(f)}var $=K.split(" "),E=$.length==2?$[0].substring(0,2)+$[1][0]:K.substring(0,3);
if(E.charCodeAt(0)>=11776)E=E.substring(0,1);var b=this.amK;if(b==null)this.vx.Sk(E,K);else{var q;if(b.startsWith("---"))q="<img src=\""+PIMG[b.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(b.startsWith("==="))q="<img src=\""+b.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(b.indexOf("\"")==-1)q="<img src=\""+b+"\" alt=\""+I.P9(K).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.vx.Sk(q,K)}};fW.prototype.enable=function(){this.NA.className="pbody"};fW.prototype.disable=function(){this.NA.className="pbody disabled"};
fW.prototype.fL=function(K,o){};fW.prototype.ic=function(K,o,Y){};fW.prototype.qn=function(K){};fW.prototype.Fx=function(K,o){};
fW.prototype.eB=function(K){this.name=K;this.t()};fW.prototype.Lv=function(){};fW.prototype.awm=function(K){if(K.button==0)this.c(new h1("select",!1));
if(K.button==1)this.an()};fW.prototype.aep=function(K){I._z(K);if(this.xx!=null&&isNaN(this.xx))return;
var o=I._9(K,document.body),Y=this.Hl;if(Y==null){Y=this.Hl=new gq([{name:[1,12,0]}]);this.Hl.k("select",this.wB,this)}Y.update(null);
Y.t();Y.parent=this;var c=new h1(w.E.L,!0);c.data={d:w.I.FY,A_:Y,x:o.x+1,y:o.y+1};this.c(c)};fW.prototype.an=function(){this.wB({})};
fW.prototype.wB=function(K){if(K.stopPropagation)K.stopPropagation();if(this.xx!=null&&!isNaN(this.xx)){var o=new h1(w.E.L,!0);
o.data={d:w.I.yQ,A_:this.Hl};this.c(o);o.data={d:w.I.Ak,VS:bB.Q5,b:parseFloat(this.xx),Yr:"del"};this.c(o)}else if(this.ayx())this.c(new h1(w.E.qH,!1))};
fW.prototype.ayx=function(K){return!0};fW.prototype.tx=function(K,o,Y,c,z){};fW.prototype.D3=function(K,o,Y,c,z){};
fW.prototype.pt=function(K,o,Y,c,z){};fW.n5=function(K,o,Y){if(K.childElementCount!=0)return;var c=K.textContent;
this.ix=this.aop.bind(this);this.arO=this.atS.bind(this);this.XF=o;this.azK=Y;this.Di=K;this.aaI=c;var z=I._("input","");
z.setAttribute("type","text");z.setAttribute("size","10");z.setAttribute("value",c);I.oA(K);K.appendChild(z);
z.select();z.focus();I._R(K);K.addEventListener("keyup",this.ix,!1);document.body.addEventListener("mousedown",this.arO,!1)};
fW.n5.prototype.aop=function(K){var o=a1.Ik,Y=o(K.code,a1.C4);if(o(K.code,a1.Xg)||Y)this.a9g(Y)};fW.n5.prototype.atS=function(K){var o=K.target;
if(o.tagName&&o.tagName.toLowerCase()=="input")return;this.a9g(!0)};fW.n5.prototype.a9g=function(K){var o=this.Di,Y=o.firstChild.value;
o.removeEventListener("keyup",this.ix);document.body.removeEventListener("mousedown",this.arO);if(this.azK||K&&Y!=""&&Y!=this.aaI){this.XF(Y)}else{I.oA(o);
o.textContent=this.aaI}};fW.CL={s5:"0",ab4:"1",_V:"2",aB6:"3",ai_:"4",_N:"5",CSS:"6",ra:"7",a5v:"8",a22:"9",a0L:"10",aba:"11",aym:"12",R8:"13",Us:"14",aai:"15",a0D:"16",Kc:"17",aoc:"18",aei:"19",an5:"20",j7:"21",atA:"22",a5q:"23"};
function a$(){fW.call(this,[9,9],!1,"---panels/actions",fW.CL.aba);this.Bk=null;this.te=[0,0]}a$.prototype=new fW("");
a$.prototype.ro=function(){if(!I.qO(this.NA)||this.C$)return;this.C$=I._("div","padded scrollable");
this.C$.setAttribute("style","width:260px;  height:260px");this.NA.appendChild(this.C$);this.k(w.E.p,this.Ep,this);
this.D5=I._("div","lpfoot");this.NA.appendChild(this.D5);this.ZG=[];var K="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",o="</svg>",Y=K+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+o,c=K+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+o;
this.atJ=K+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+o;this.aoM=K+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+o;
var z=[this.atJ,c,"lrs/folder","lrs/newlayer","lrs/bin",Y],f=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var y=0;y<z.length;y++){var $=z[y];if(1<y&&y!=z.length-1)$="<img src=\""+PIMG[z[y]]+"\" class=\"miniscale gsicon\" />";
var E=new eg($,!1,f[y]);E.k("click",this.ahh,this);this.D5.appendChild(E.n);this.ZG.push(E)}this.nF()};
a$.prototype.t=function(){fW.prototype.t.call(this);if(this.C$==null)return;for(var y=0;y<this.ZG.length;
y++)this.ZG[y].t()};a$.prototype.ahh=function(K){var y=this.ZG.indexOf(K.currentTarget),o=this.te,Y=this.Bk,c=Y.TJ;
if(y==0){var z,f=Y.wS;if(c.length==0){alert("Create an Action Set first.");return}if(o.length<2){alert("Select a target action first.");
return}if(f==null){z=this.aoM;f=this.te}else{z=this.atJ;f=null}this.ZG[0].Sk(z);Y.wS=f}else if(y==1)this.a2D();
else if(y==2||y==3){var $={Mx:"Action Set "+c.length,k6:[],exp:!0};if(y==2||c.length==0){o=[c.length];
c.push($)}if(y==3){var E=c[o[0]].k6;o=[o[0],E.length];E.push({Mx:"Action "+E.length,color:0,k6:[],a2T:!1,shift:!1,exp:!0,UQ:E.length})}this.te=o;
this.nF()}else if(y==4){var b;if(o.length==1)b=c;else if(o.length==2)b=c[o[0]].k6;else b=c[o[0]].k6[o[1]].k6;
var q=o.length-1;b.splice(o[q],1);if(b.length==0)o.pop();else while(o[q]>=b.length)o[q]--;if(o.length==0)o.push(0);
this.nF()}else if(y==5){if(c.length==0){alert("No Actions Present.");return}var O=new h1(w.E.L,!0);O.data={d:w.I.eP,aiE:bB.U,Vp:o[0]};
this.c(O)}};a$.prototype.Ep=function(K){var o=this.Bk.TJ,Y=K.data.d,c=K.data.Kh;if(Y=="sel")this.te=c;
if(Y=="fold"){if(c.length==1)o[c[0]].exp=!o[c[0]].exp;else o[c[0]].k6[c[1]].exp=!o[c[0]].k6[c[1]].exp}if(Y=="enab"){var z=o[c[0]].k6[c[1]].k6[c[2]];
z.u=!z.u}if(Y=="nchange"){if(c.length==1)o[c[0]].Mx=K.data.GJ;else o[c[0]].k6[c[1]].Mx=K.data.GJ}this.nF()};
a$.prototype.ic=a$.prototype.Lv=function(){this.ro()};a$.prototype.fL=function(K,o){this.Bk=K;if(this.C$==null)return;
if(o==bB.U||o==bB.tk)this.nF()};a$.prototype.nF=function(){if(this.Bk==null)return;I.oA(this.C$);var K=this.Bk.TJ;
if(K.length==0)return;var o=JSON.stringify(this.te);for(var y=0;y<K.length;y++){var Y=K[y],c=new a$.Cs([y],o,Y.exp,Y.Mx.split("=").pop());
c.parent=this;this.C$.appendChild(c.n);if(!Y.exp)continue;for(var z=0;z<Y.k6.length;z++){var f=Y.k6[z],c=new a$.Cs([y,z],o,f.exp,f.Mx.split("=").pop());
c.parent=this;this.C$.appendChild(c.n);if(!f.exp)continue;for(var $=0;$<f.k6.length;$++){var E=f.k6[$],c=new a$.Cs([y,z,$],o,null,ca.get(b0.a0B(E)),E.u);
c.parent=this;this.C$.appendChild(c.n)}}}};a$.prototype.a2D=function(){var K=this.Bk.TJ,o=this.te;if(K.length==0){alert("No Actions Present");
return}if(o.length==1){alert("Select an Action first");return}if(this.Bk.wS!=null){alert("You can not apply actions while recording actions");
return}if(o.length==1)o.push(0);var Y=K[o[0]],c=Y.k6[o[1]],z=new h1(w.E.L,!0);z.data={d:w.I.z8,$G:[c.Mx,Y.Mx]};
this.c(z)};a$.Cs=function(K,o,Y,c,z){cv.call(this);this.Kh=K;var f=this.Kh.length-1;this.n=I._("div","layeritem"+(JSON.stringify(K)==o?" selected":""));
this.$E=I._("div","head");this.n.appendChild(this.$E);this.$E.setAttribute("style","height:24px");this.FX=I._("div","headL");
this.$E.appendChild(this.FX);if(f!=0){var $=I._("div");$.style.width=f*20+"px";this.FX.appendChild($)}if(Y!=null){var E=this.a1n=I._("div",Y?"open":"closed");
this.FX.appendChild(E)}else{var b=this.amC=I._("div","cmark");b.setAttribute("style","background-size:12px 12px; opacity:"+(z?1:.3));
this.FX.appendChild(b)}if(f==0){var q=I._("div","folder");this.FX.appendChild(q)}var O=this.T$=I._("div","label");
O.textContent=c;this.FX.appendChild(O);this.n.addEventListener("mouseup",this.jz.bind(this),!1)};a$.Cs.prototype=new cv;
a$.Cs.prototype.jz=function(K){if(K.detail==1&&K.target.tagName.toLowerCase()!="input"){var o="sel";
if(K.target==this.a1n)o="fold";if(K.target==this.amC)o="enab";var Y=new h1(w.E.p,!0);Y.data={d:o,Kh:this.Kh};
this.c(Y)}else if(this.Kh.length<3)var c=new fW.n5(this.T$,this.XF.bind(this))};a$.Cs.prototype.XF=function(K){var o=new h1(w.E.p,!0);
o.data={d:"nchange",GJ:K,Kh:this.Kh};this.c(o)};function iW(){fW.call(this,[3],!1,"---lrs/adj",fW.CL.aoc)}iW.prototype=new fW("");
iW.prototype.ro=function(){if(!I.qO(this.NA)||this.ZG)return;this.NA.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.ZG=[];var y=0;for(var K in jh.names){var o=new eg("<img src=\""+PIMG["adj/"+K]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,jh.names[K]);
o.k("click",this.aio,this);this.ZG.push(o);this.NA.appendChild(o.n);if(y==4||y==10)I.Tg(this.NA);y++}this.t()};
iW.prototype.ic=function(){this.ro()};iW.prototype.Lv=function(){this.ro()};iW.prototype.t=function(){fW.prototype.t.call(this);
if(this.ZG==null)return;for(var y=0;y<this.ZG.length;y++)this.ZG[y].t()};iW.prototype.aio=function(K){var o=this.ZG.indexOf(K.target),Y=cE.sY()[o],c=new h1(Y.K,!0);
c.data=Y.C;this.c(c)};function jD(){fW.call(this,[12,22],!1,null,fW.CL.j7);this.C$=I._("div","padded");
this.Bk=null;this.NA.appendChild(this.C$);this.kq=new dh(null,17.7,10);this.kq.parent=this;this.kq.k(w.E.p,this.Rq,this);
this.C$.appendChild(this.kq.q1)}jD.prototype=new fW("");jD.prototype.Rq=function(K){var o=this.kq.h(),Y=new h1(w.E.U,!0);
Y.data={d:"setstl",b:o.Ww};Y.f=m.la;this.c(Y);Y.data={d:"confirm"};this.c(Y)};jD.prototype.fL=function(K,o){this.Bk=K;
this.nF()};jD.prototype.nF=function(){var K=this.Bk;if(K==null)return;this.kq.nn([K.ck,K.K_]);this.kq.Fx()};
jD.prototype.ic=function(){this.nF()};jD.prototype.Lv=function(){this.nF()};var be=function(){function K(){fW.call(this,[9,3],!1,"---panels/brush",fW.CL.ra);
this.vg=null;this.Bk=null}K.prototype=new fW("");K.prototype.ro=function(){var z=I._("div","");this.NA.appendChild(z);
this.MJ=I._("div","bordered cell");this.MJ.setAttribute("style","width:10em; height:28.5em;");z.appendChild(this.MJ);
this.EA=[];this.Ki=null;this.Iq=[];var f=this.adH.bind(this);this.R1=[new Y("basic"),new Y("useTipDynamics"),new Y("useScatter"),new Y("useColorDynamics"),new Y("usePaintDynamics")];
for(var y=0;y<this.R1.length;y++){var $=I._("div","listitem"),E=this.R1[y],q=null;E.parent=this;E.k("brushchange",this.a3Y,this);
var b=E.O$;if(y==0){this.Ki=new gJ(b);$.appendChild(this.Ki.n)}else{q=new bb(b,!1);q.k(w.E.p,this.apI,this);
$.appendChild(q.n)}this.Iq.push(q);this.MJ.appendChild($);this.EA.push($);$.addEventListener("click",f,!1)}this.O0=I._("div","cell padded");
z.appendChild(this.O0);this.setItem(0);this.V=I._("canvas");this.V.height=10;z.appendChild(this.V);this.$F=this.V.getContext("2d");
this.Bf()};K.prototype.Fx=function(z,f){if(this.Fv==z)return;this.Fv=z;this.jd=f;this.Bf()};K.prototype.Lv=function(){if(!I.qO(this.NA))return;
if(this.MJ){this.Bf();return}this.ro();this.t();this.fL(this.Bk,bB.tk)};K.prototype.t=function(){fW.prototype.t.call(this);
if(this.MJ==null)return;this.Ki.t();for(var y=1;y<this.Iq.length;y++)this.Iq[y].t();for(var y=0;y<this.R1.length;
y++)this.R1[y].t()};K.prototype.a3Y=function(z){var f=this.R1.indexOf(z.currentTarget),$=JSON.parse(JSON.stringify(this.R1[f].vg)),E=new h1(w.E.L,!0);
E.data={d:w.I.Ak,VS:bB.NJ,vg:$};this.c(E)};K.prototype.apI=function(z){this.agy(this.Iq.indexOf(z.currentTarget),z.currentTarget.mR())};
K.prototype.adH=function(z){var y=this.EA.indexOf(z.currentTarget);if(z.target.tagName.toLowerCase()=="input")return;
if(this.Iq[y]&&!this.Iq[y].mR()){this.Iq[y].Fo();this.agy(y,!0)}this.setItem(y)};K.prototype.agy=function(z,f){this.R1[z].aAe(f)};
K.prototype.setItem=function(z){for(var y=0;y<this.R1.length;y++)this.EA[y].className="listitem";if(this.O0.firstChild)this.O0.removeChild(this.O0.firstChild);
this.EA[z].className="listitem selected";this.O0.appendChild(this.R1[z].n)};K.prototype.fL=function(z,f){this.Bk=z;
if(this.MJ==null)return;for(var y=0;y<this.R1.length;y++)this.R1[y].fL(z,f);if(f==bB.NJ||f==bB.tk){this.vg=z.OD.U0;
this.Bf()}if(f==bB.R8)this.Bf()};K.prototype.Bf=function(){if(this.vg)this.enable();else{this.disable();
return}if(!I.qO(this.NA))return;var z=this.Bk;for(var y=0;y<this.R1.length;y++){this.R1[y].T(this.vg);
if(this.Iq[y])this.Iq[y].T(this.R1[y].mR())}var f=JSON.parse(JSON.stringify(this.vg));f.Brsh.v.Dmtr.v.val=Math.min(f.Brsh.v.Dmtr.v.val,50);
I.AU(this.V,this.Fv,80);var $=new hD(0,0,this.V.width,this.V.height),E=this.Bk.OD,b=new g3(f,E?E.IC:null,E?E.$H:null,{al:1},z.qm,z.YQ,$,null,0),q=$.e/2,O=$.m-q*2;
b.moveTo(q,q);for(var y=0;y<=O;y+=10)b.lineTo(q+y,q+20*Math.sin(2*Math.PI*y/O));b.finish();var j=this.$F.createImageData($.m,$.e);
d.iF(b.SC(),b._U(),j.data,$);this.$F.putImageData(j,0,0)};function o(z){cv.call(this);z=z.split(".")[0];
this.Pg=z;var f=this.n=I._("span"),$=["Off","Fade"];$.push(z=="angleDynamics"?"Direction":"Pen Pressure");
var E=this.gT=new bY("Control",$);E.k(w.E.p,this.Jr,this);f.appendChild(E.n);var b=this.a44=new h5(null,0,100,null,null,null,!0);
b.T(50);b.k(w.E.p,this.Jr,this)}o.prototype=new cv;o.prototype.T=function(z){z=z<2?z:2;this.gT.T(z);
this.nF()};o.prototype.h=function(){var z=this.gT.h(),f=this.Pg;z=z<=1?z:f=="angleDynamics"?6:2;return z};
o.prototype.Jr=function(z){this.nF();z.target=z.currentTarget=this;this.c(z)};o.prototype.nF=function(z){this.a44.W6(this.gT.h()==1)};
function Y(z){cv.call(this);this.n=I._("div");this.vg=null;var f=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(z);
this.O$=[[15,0],[15,1],[15,2],[15,3],"Transfer"][f];this.ji=z;this.iL={};this.a3R=null;var $=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][f];
for(var y=0;y<$.length;y++){var E=$[y],b;if(E=="--br"){b=new gk;this.n.appendChild(b.q1.firstChild)}else if(E=="Brsh.Dmtr")b=new dr([12,14,0],1,1e3," px",0,!0);
else if(E=="Brsh.Angl")b=new dr([12,15],0,359," \xB0");else if(E=="Brsh.Rndn")b=new dr([12,16],0,100," %");
else if(E=="Brsh.Hrdn")b=new dr([12,17],0,100," %");else if(E=="Brsh.Spcn")b=new dr([12,18],1,300," %");
else if(E=="szVr.jitter")b=new dr([15,4,0],0,100,"%");else if(E=="minimumDiameter")b=new dr([15,4,1],0,100,"%");
else if(E=="angleDynamics.jitter")b=new dr([15,4,2],0,100,"%");else if(E.endsWith("bVTy"))b=new o(E);
else if(E.endsWith("fStp"))b=new h5(null,0,100,null,null,null,!0);else if(E=="roundnessDynamics.jitter")b=new dr([15,4,3],0,100,"%");
else if(E=="minimumRoundness")b=new dr([15,4,4],1,100,"%");else if(E=="scatterDynamics.jitter")b=new dr([15,5,0],0,1e3," %");
else if(E=="Cnt")b=new dr([15,5,1],1,20);else if(E=="countDynamics.jitter")b=new dr([15,5,2],0,100," %");
else if(E=="clVr.jitter")b=new dr([15,6,0],0,100," %");else if(E=="H")b=new dr([15,6,1],0,100," %");
else if(E=="Strt")b=new dr([15,6,2],0,100," %");else if(E=="Brgh")b=new dr([15,6,3],0,100," %");else if(E=="opVr.jitter")b=new dr("Opacity Jitter",0,100," %");
else if(E=="prVr.jitter")b=new dr("Flow Jitter",0,100," %");else throw E;this.iL[E]=b;b.parent=this;
b.k(w.E.p,this.Jr,this)}}Y.prototype=new cv;Y.prototype.aBa=function(){this.c(new h1("brushchange"))};
Y.prototype.T=function(z){this.vg=JSON.parse(JSON.stringify(z));this.n.className=this.mR()?"":"disabled";
this.Bf()};Y.prototype.t=function(){for(var z in this.iL)this.iL[z].t()};Y.prototype.mR=function(){return!0};
Y.prototype.fL=function(z,f){if(f==bB.ra||f==bB.tk){var $=this.iL["--br"];if($)$.nn(z.OD)}};Y.prototype.Jr=function(z){var f=z.target,$=this.iL,E;
for(var b in $)if($[b]==f)E=b;if(E=="--br"){var q=new h1(w.E.L,!0);q.data={d:w.I.Ak,VS:bB.NJ,vg:f.h()};
this.c(q)}else{var O=c(this.vg,E),j=f.h();if(O){if(E.endsWith("bVTy")||E.endsWith("fStp")||E=="Cnt")O.v=j;
else O.v.val=j;this.aBa()}}};Y.prototype.Bf=function(){var z=this.vg,f=z.Brsh.v.classID,$=this.iL,E=f!=this.a3R;
this.a3R=f;if(E){I.oA(this.n);for(var b in $){if(f!="computedBrush"&&f!="sampledBrush"&&b=="Brsh.Rndn")continue;
if(f!="computedBrush"&&b=="Brsh.Hrdn")continue;var q=$[b],O=q.n;if(b=="--br"){O=q.T3.n;O.style.width="auto"}this.n.appendChild(O)}}for(var b in $){if(b=="--br")continue;
var j=c(z,b),A;if(j){if(b.endsWith("bVTy")||b.endsWith("fStp")||b=="Cnt")A=j.v;else A=j.v.val;$[b].T(A);
if(b.endsWith("fStp"))$[b].W6(c(z,b.split(".")[0]+".bVTy").v==1)}}};Y.prototype.mR=function(){var z=this.ji;
return z=="basic"?!0:this.vg[z].v};Y.prototype.aAe=function(z){var f=this.ji;if(f=="basic")return;this.vg[f].v=z;
iO.fQ.apP(this.vg);this.aBa()};function c(z,f){var $=f.split(".");z=z[$[0]];for(var y=1;y<$.length;y++){if(z==null)return z;
z=z.v[$[y]]}return z}return K}();function ey(){fW.call(this,[9,0],!1,"---panels/history",fW.CL.s5);this.NA.setAttribute("style","min-width:200px;");
this.Ek=I._("div","hpbody scrollable");this.Ek.style.height="160px";this.NA.appendChild(this.Ek);this.aqX=-1;
this.oi=[];this.Kz="";this.FI=new gq([{name:"Clear History"}],[{K:w.E.U,f:m.s5,C:{d:"h_clear"}}])}ey.prototype=new fW("");
ey.prototype.VL=function(){return this.FI};ey.prototype.Fx=function(K,o){this.Lv()};ey.prototype.ic=function(K){if(K==null){I.oA(this.Ek);
this.Kz="";return}I.oA(this.Ek);var o=0;for(var y=0;y<K.history.length;y++)if(y<=K.Eu&&!K.history[y].Fk)o=y;
for(var y=0;y<K.history.length;y++){var Y=K.history[y];if(Y.Fk)continue;var c=new bT(Y,y,o);c.parent=this;
this.Ek.appendChild(c.n);this.oi.push(c)}if(K.Eu==K.history.length-1)this.Lv()};ey.prototype.Lv=function(){this.Ek.scrollTop=this.Ek.scrollHeight};
ey.prototype.t=function(){fW.prototype.t.call(this);for(var y=0;y<this.oi.length;y++)this.oi[y].t()};
function bT(K,y,o){cv.call(this);this.index=y;this.n=I._("div",y==o?"listitem selected":"listitem");
this.aW=K.name;this.t();if(y>o)this.n.style.opacity=.4;this.n.addEventListener("click",this.tx.bind(this),!1)}bT.prototype=new cv;
bT.prototype.t=function(){this.n.textContent=ca.get(this.aW)};bT.prototype.tx=function(K){if(this.index==this.parent.aqX)return;
this.BU({d:"h_itemchange",index:this.index})};bT.prototype.BU=function(K){var o=new h1(w.E.U,!0);o.data=K;
o.f=m.s5;this.c(o)};function hV(){fW.call(this,[9,10],!1,"---panels/histogram",fW.CL.ai_);var K=I._("div","padded");
this.NA.appendChild(K);this.Z_=new jx(256,!0);K.appendChild(this.Z_.n);this.$S=null}hV.prototype=new fW("");
hV.prototype.ic=function(K){this.$S=K;this.nF()};hV.prototype.nF=function(){var K=this.$S;if(!I.qO(this.NA))return;
if(K==null||K.Y.length==0){this.Z_.T(d.$w(d.R(4)));return}var o=K.Gl(),Y=new hD(0,0,K.m,K.e),c=Y.Z();
if(K.r){var z=K.r.rect,f=d.R(z.Z()*4);d.iF(o,Y,f,z);d.Ym(K.r.channel,f);o=f;Y=z;var $=K.r.channel;c=0;
for(var y=0;y<$.length;y++)c+=$[y];c=Math.round(c/255)}var E=d.$w(o);E[0][255]+=3*(c-E[5]);for(var y=1;
y<4;y++)E[y][255]+=c-E[5];this.Z_.T(E,c)};hV.prototype.fL=function(K,o){this.Z_.Nh(j1.YA[K.fi]["--text-color"])};
hV.prototype.t=function(){fW.prototype.t.call(this);this.Z_.t()};hV.prototype.Lv=function(){this.nF()};
function eh(){fW.call(this,[9,8],!1,"---adj/clrL",fW.CL.ab4);this.C$=I._("div","padded");this.NA.appendChild(this.C$);
this.gf=new cC(10);this.C$.appendChild(this.gf.n);this.kt=new al;this.kt.parent=this;this.C$.appendChild(this.kt.q1);
this.kt.q1.style.marginTop="6px";this.gf.k(w.E.p,this.a1a,this);this.kt.k(w.E.p,this.a1a,this)}eh.prototype=new fW("");
eh.prototype.a1a=function(K){var o;if(K.target==this.gf)o=this.gf.h();else{var Y=this.kt.h();o=Math.round(Y.o)<<16|Math.round(Y.A)<<8|Math.round(Y.J)}var c=new h1(w.E.L,!0);
c.data={d:w.I.Ak,VS:bB.R8,f4:0,b:o};this.c(c)};eh.Qw=function(K,o){var Y=o==bB.tk,c=K._w,z=K.Nk,f=z.strokeStyleContent.v,$=null;
if((o==bB.Vo||Y)&&c.ut==1){$=d.H.CK(c.fe.Clr.v);$=$.o<<16|$.A<<8|$.J}if((o==bB.Xq||Y)&&z.strokeEnabled.v&&f.classID=="solidColorLayer"){$=d.H.CK(f.Clr.v);
$=$.o<<16|$.A<<8|$.J}if(o==bB.R8||Y)$=K.qm;return $};eh.prototype.fL=function(K,o){var Y=K.qm,c=o==bB.tk,z=eh.Qw(K,o);
if(z!=null){this.gf.T(z);this.kt.T({o:z>>>16&255,A:z>>>8&255,J:z>>>0&255,AO:"Color #"+d.lP(z)})}if(o==bB.U4||c){var f=K.awA;
this.kt.nn(f)}};function dY(){fW.call(this,[12,72],!1,"---adj/mixr",fW.CL.a0D);this.Au=null;this.xm=null;
this.Ek=I._("div","lpbody scrollable");this.Ek.style.marginTop="4px";this.D5=I._("div","lpfoot");this.NA.appendChild(this.Ek);
this.NA.appendChild(this.D5);this.bt=[];this.k("click",this.Jv,this);this.cQ=[];dY.Od([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.cQ,this.D5,this.pQ.bind(this),this.mC.bind(this));
this.FI=new gq([{name:"Merge Channels",j_:!0}],[{K:w.E.L,C:{d:w.I.Gg,XQ:"mergechannels"}}])}dY.prototype=new fW("");
dY.prototype.VL=function(){return this.FI};dY.Od=function(K,o,Y,c,z){for(var y=0;y<K.length;y++){var f=new eg("W",!1,K[y]);
o.push(f);I.Xh(f.n,c);Y.appendChild(f.n);var $=f.n;$.addEventListener("drop",z,!1);$.addEventListener("dragover",function(E){E.preventDefault()},!1);
$.addEventListener("dragenter",I._z,!1)}};dY.OX=function(K,o){for(var y=0;y<K.length;y++)if(K[y].n==o.currentTarget)return y};
dY.prototype.pQ=function(K){var o=dY.OX(this.cQ,K);if(o==0)this.c(il.f7(!0,null,K));else{o--;var Y=new h1(w.E.hP,!0),c={classID:"null"};
if(o==0)c.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(o==1)c.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else c.null=b0.x2("Chnl",!0);Y.data={Rk:["duplicate","make","delete"][o],jU:c};this.c(Y)}};dY.prototype.mC=function(K){var o=dY.OX(this.cQ,K);
if(o==2){var Y=new h1(w.E.hP,!0),c={classID:"null"};c.null=b0.x2("Chnl",!0);Y.data={Rk:"duplicate",jU:c};
this.c(Y)}else this.pQ(K)};dY.prototype.x1=function(y){var K=this.bt,o=K[y];if(o==null){var Y=I._("canvas");
o=Y.getContext("2d");K.push(o)}return o};dY.prototype.Jv=function(K){var o=this.Au.slice(0),Y=K.data.UQ,c=o[0]+o[1]+o[2],z=this.xm;
if(-5<Y&&Y<0){var f=-Y-1;if(K.data.yI){if(f==0)o=c==3?[0,0,0]:[1,1,1];else{if(o[f-1]==0)o[f-1]=1;else if(!0)o[f-1]=0}}else{if(f==0)o=[1,1,1];
else{o=[0,0,0];o[f-1]=1}for(var y=0;y<z.Kl.length;y++)z.Kl[y].Gt=!1;z.Md=[]}var $=new h1(w.E.U,!0);$.f=m.AC;
$.data={d:"setcls",v:o};this.c($);return}if(-1<Y){var E=z.B[Y],b=E.xO==1?E.ue():E.wm(z).F;if(K.data.yI)b.Gt=!b.Gt;
else{for(var y=0;y<z.Kl.length;y++)z.Kl[y].Gt=!1;z.Md=[]}}else{var q=-Y-5,b=z.Kl[q];if(K.data.yI)b.Gt=!b.Gt;
else{for(var y=0;y<z.Kl.length;y++)z.Kl[y].Gt=!1;b.Gt=!0;z.Md=[q];if(c!=0){var $=new h1(w.E.U,!0);$.f=m.AC;
$.data={d:"setcls",v:[0,0,0]};this.c($)}}}z.px=z.Pb=!0};dY.prototype.Lv=function(){this.eA()};dY.prototype.ic=function(K){this.xm=K;
this.eA()};dY.prototype.eA=function(){var K=this.xm,o=this.Ek,R=4;I.oA(o);if(K==null||!I.qO(o))return;
var Y=K.m,c=K.e,z=new hD(0,0,Y,c),f=this.Au=K.Q.v.slice(0),$=f[0]+f[1]+f[2],E=Math.round(34*I.GR()),b=E;
if(Y>c)b=Math.round(b*c/Y);else E=Math.round(E*Y/c);var q=["RGB"].concat(jh.gj);for(var y=0;y<4;y++){var O=this.x1(y);
d.Uv.mh(O,E,b,z,K.Gl(),z,!1,y==0?null:y-1);var j=y==0?$==3:f[y-1]==1,A=new il(-1-y,!0,!0,O,q[y],j,j);
A.parent=this;o.appendChild(A.n);I.d4(O.canvas)}for(var y=0;y<K.Y.length;y++){var g=K.B[K.Y[y]],H=g.xO;
if(H!=1&&H!=3)continue;var i=H==1?g.ue():g.wm(K).F,O=this.x1(R+y);R++;d.Uv.Wn(O,E,b,z,i);var A=new il(K.Y[y],!0,!0,O,g.getName()+(H==1?"":" Filter")+" Mask",!0,i.Gt);
A.parent=this;o.appendChild(A.n);I.d4(O.canvas)}for(var y=0;y<K.Kl.length;y++){var i=K.Kl[y],O=this.x1(R+y);
d.Uv.Wn(O,E,b,z,i);var A=new il(-5-y,!0,i.name=="Quick Mask",O,i.name,K.Md.indexOf(y)!=-1,i.Gt,m._V,{d:S.ps,f4:"rnm",UQ:y});
A.parent=this;o.appendChild(A.n);I.d4(O.canvas)}};dY.prototype.Fx=function(K,o){this.Ek.style.height=o-30-4+"px";
this.Ek.style.width=K+"px"};dY.prototype.t=function(){fW.prototype.t.call(this);this.eA();dY.Sl(this.cQ,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
dY.Sl=function(K,o,Y){var o=hQ.jO(o,null,"miniscale");for(var y=0;y<K.length;y++)K[y].Sk(o[y],Y?Y[y]:null)};
function il(K,o,Y,c,z,f,$,E,b){cv.call(this);this.n=I._("div");this.auy=K;this.auD=o;this.$F=c;this.afx=E;
this.azp=b;this.$E=I._("div",f?"head selected":"head");this.$E.setAttribute("style","height: "+40+"px");
var q=I._("div","headL"),O=I._("div","headR"),j=15;this.n.appendChild(this.$E);this.$E.appendChild(q);
this.$E.appendChild(O);this.qL=I._("div","eye");if(1<I.GR()&&I.GR()<1.5)j=j/I.GR();this.qL.setAttribute("style","background-size: "+j+"px "+j+"px;");
this.qL.style.opacity=$?1:.2;if(o)q.appendChild(this.qL);this.w6=I._("div","thumb");if(c)this.w6.appendChild(c.canvas);
q.appendChild(this.w6);this.Ii=I._("div","label");if(Y)this.Ii.style.fontStyle="italic";this.Ii.textContent=ca.get(z);
q.appendChild(this.Ii);var A=this.$E;A.setAttribute("draggable","true");A.addEventListener("dragstart",function(R){R.stopPropagation();
R.dataTransfer.setData("Text","hello")},!1);A.addEventListener("drop",I._z,!1);I.Xh(this.$E,this.alz.bind(this));
if(!Y)this.$E.addEventListener("mouseup",this.ayz.bind(this),!1)}il.prototype=new cv;il.prototype.XF=function(K){var o=new h1(w.E.U,!0);
o.f=this.afx;o.data=this.azp;o.data.name=K;this.c(o)};il.prototype.alz=function(K){var o=K.ctrlKey||K.metaKey,Y=this.auy;
if(o&&K.target==this.$F.canvas){this.c(il.f7(this.auD,Y,K))}else{var c=new h1("click",!0);c.data={UQ:Y,yI:K.target==this.qL,RX:o};
this.c(c)}};il.prototype.ayz=function(K){if(K.detail==2&&K.target==this.Ii){var o=new fW.n5(this.Ii,this.XF.bind(this))}};
il.f7=function(K,o,Y){var c=0;if(Y.shiftKey)c++;if(Y.altKey)c+=2;var z=new h1(w.E.U,!0);z.f=m.at;if(K){if(-5<o&&o<0){z=new h1(w.E.hP,!0);
z.data=m.PP.a59(c,["RGB","Rd","Grn","Bl"][-1-o])}else z.data={d:"fromchannel",$G:[o,0,c]}}else z.data={d:"frompath",$G:[o,0,c]};
return z};function gD(){fW.call(this,[8,9],!1,"---panels/paths",fW.CL.Kc);this.Au=null;this.xm=null;
this.Ek=I._("div","lpbody scrollable");this.Ek.style.marginTop="4px";this.D5=I._("div","lpfoot");this.NA.appendChild(this.Ek);
this.NA.appendChild(this.D5);this.NA.addEventListener("click",this.awF.bind(this),!1);this.bt=[];this.k("click",this.Jv,this);
this.cQ=[];dY.Od(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.cQ,this.D5,this.pQ.bind(this),this.mC.bind(this))}gD.prototype=new fW("");
gD.prototype.pQ=function(K,o){var Y=dY.OX(this.cQ,K),c;if(Y<2){if(Y==1&&K.altKey){c=new h1(w.E.L,!0);
c.data={d:w.I.Gg,XQ:"strokepath"}}else{c=new h1(w.E.hP,!0);c.data=m.xY.fB(Y==0?null:"PbTl")}}else if(Y==2)c=il.f7(!1,null,K);
else if(Y==3){c=new h1(w.E.hP,!0);c.data={Rk:"make",jU:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(Y>3){var c=new h1(w.E.U,!0);
c.f=m.h_;c.data={d:"pathedit",f4:["new","del"][Y-4],a5s:o}}this.c(c)};gD.prototype.mC=function(K){this.pQ(K,!0)};
gD.prototype.x1=function(y){var K=this.bt,o=K[y];if(o==null){var Y=I._("canvas");o=Y.getContext("2d");
K.push(o)}return o};gD.prototype.awF=function(K){if(K.target==this.Ek){var o=this.xm;o.n7=[];o.d5=[];
o.Pb=!0;o.px=!0}};gD.prototype.Jv=function(K){var o=K.data.UQ,Y=this.xm,c=K.data.RX,z=o,f=Y.d5,$=Y.n7;
if(o<0){z=-1-o;f=Y.n7;$=Y.d5}if(c){var E=f.indexOf(z);if(E==-1)f.push(z);else f.splice(E,1)}else{while(f.length!=0)f.pop();
while($.length!=0)$.pop();f.push(z)}Y.Pb=!0;Y.px=!0};gD.prototype.Lv=function(){this.eA()};gD.prototype.ic=function(K){this.xm=K;
this.eA()};gD.prototype.eA=function(){var K=this.xm,o=this.Ek;I.oA(o);if(K==null||!I.qO(o))return;var Y=K.m,c=K.e,z=new hD(0,0,Y,c),f=this.Au=K.Q.v.slice(0),$=f[0]+f[1]+f[2],E=Math.round(34*I.GR()),b=E;
if(Y>c)b=Math.round(b*c/Y);else E=Math.round(E*Y/c);var q=K.dK(),O=q[0];for(var y=0;y<O.length;y++){var j=O[y],A=this.x1(y);
d.Uv.aq5(A,E,b,z,j.add.vmsk);var R=new il(j.UQ,!1,j.UQ>=0,A,j.name,q[1].indexOf(y)!=-1,!1,m.h_,{d:"pathedit",f4:"rnm",UQ:j.UQ});
R.parent=this;o.appendChild(R.n);I.d4(A.canvas)}};gD.prototype.Fx=function(K,o){this.Ek.style.height=o-30-4+"px";
this.Ek.style.width=K+"px"};gD.prototype.t=function(){fW.prototype.t.call(this);this.eA();dY.Sl(this.cQ,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function ky(K){fW.call(this,[9,K?4:5],!1,"---panels/"+(K?"character":"paragraph"),K?fW.CL.a22:fW.CL.a0L);
this.NA.setAttribute("style","min-width:240px;");this.acA=K;this.w2=null;this.Bk=null}ky.prototype=new fW("");
ky.prototype.ro=function(){this.w2=new gi;var K=this.w2,o=this.NA;K.parent=this;if(this.acA){var Y=I._("div","marged");
o.appendChild(Y);Y.appendChild(K.qC.n);o.appendChild(I._("hr"));var c=I._("div","marged");o.appendChild(c);
c.appendChild(K.cJ.n);c.appendChild(K.$B.n);var z=I._("div","marged");o.appendChild(z);z.appendChild(K.zr.n);
z.appendChild(K.Zo.n);o.appendChild(I._("hr"));var f=I._("div","marged");o.appendChild(f);f.appendChild(K._7.n);
f.appendChild(K.BP.n);var $=I._("div","marged");o.appendChild($);$.appendChild(K.dT.n);$.appendChild(K.YE.n);
$.appendChild(K.Ma.n);o.appendChild(I._("hr"));var E=I._("div","marged");o.appendChild(E);E.appendChild(K.Rl.n);
E.appendChild(K.mP.n);E.appendChild(K.yX.n);E.appendChild(K.W0.n);E.appendChild(K.a4.n);E.appendChild(K.re.n);
E.appendChild(K.uw.n);E.appendChild(K.SA.n)}else{var Y=I._("div","marged");o.appendChild(Y);Y.appendChild(K.C9.n);
Y.appendChild(K.Bi.n);Y.appendChild(K.Db.n);Y.appendChild(K.abp.n);Y.appendChild(K.ayv.n);Y.appendChild(K.ay8.n);
Y.appendChild(K.a7T.n);o.appendChild(I._("hr"));var c=I._("div","marged");o.appendChild(c);c.appendChild(K.ve.n);
c.appendChild(K.xE.n);c.appendChild(K.q4.n);o.appendChild(I._("hr"));var z=I._("div","marged");o.appendChild(z);
z.appendChild(K.p$.n);z.appendChild(K.hN.n);z.appendChild(K.CC.n);z.appendChild(K.AA.n)}};ky.prototype.Lv=function(){if(!I.qO(this.NA))return;
if(this.w2==null){this.ro();var K=this.Bk;if(K)this.w2.T(K.KP,K.zl,K.vA);this.w2.t()}};ky.prototype.t=function(){fW.prototype.t.call(this);
if(this.w2)this.w2.t()};ky.prototype.fL=function(K,o){this.Bk=K;if(o!=bB.tk&&o!=bB.tV&&o!=bB.Kx&&o!=bB.OT)return;
if(this.w2)this.w2.T(K.KP,K.zl,K.vA)};function fh(){fW.call(this,[9,13],!1,"---panels/glyphs",fW.CL.aei);
this.Bk=null}fh.prototype=new fW("");fh.prototype.ro=function(){this.w2=new gi;this.w2.parent=this;this.auB=null;
this.apz=null;this.dz=null;this.aD8=null;this.YL=Math.round(290*I.GR());this.DQ=45;this.a1M=4;this.a2n=this.nF.bind(this);
this.as6=0;this.P5=new bY(null,["Hi","Hello"]);this.P5.k(w.E.p,this.nF,this);var K=this.g6=new eg("-",null,null,!0);
K.k("click",this.anS,this);var o=this.apy=new eg("+",null,null,!0);o.k("click",this.anS,this);this.T3=new cW(!1);
this.T3.k(w.E.p,this.t0,this);this.T3.n.style.height=250+"px";var Y=this.YU=I._("div","form padded");
this.NA.appendChild(Y);Y.appendChild(this.w2.qC.n);I.Tg(Y);Y.appendChild(this.P5.n);Y.appendChild(K.n);
Y.appendChild(o.n);this.NA.appendChild(this.T3.n)};fh.prototype.Fx=function(K,o){if(this.Fv==K||this.w2==null)return;
this.Fv=K;this.YL=Math.floor((K-13)*I.GR());this.YU.setAttribute("style","width:"+this.YL/I.GR()+"px;");
this.T3.n.style.height=o-73+"px";this.nF()};fh.prototype.t0=function(K){var o=this.a1b(),Y=Math.round(this.YL/o);
o/=I.GR();var c=this.T3.h()[0]*Y*this.a1M,z=this.T3.adk();c+=Math.floor(z.y/o)*Y;c+=Math.floor(z.x/o);
var f=this.dz[this.P5.h()];if(c>=f.length)return;var $=f[c],E=this.aD8[$],b=new h1(w.E.U,!0);b.f=m.oB;
if(E.vJ.length==0)b.data={d:"insertGlyph",b:c+1};else b.data={d:"insertText",b:String.fromCodePoint(E.vJ[0])};
this.c(b)};fh.prototype.anS=function(K){var o=1.2;if(K.target==this.g6){if(this.DQ>20)this.DQ/=o}else{if(this.DQ<100)this.DQ*=o}this.nF()};
fh.prototype.Lv=function(){this.fL(this.Bk)};fh.prototype.fL=function(K,o){this.Bk=K;if(!I.qO(this.NA))return;
if(this.w2==null)this.ro();this.w2.T(K.KP,K.zl,K.vA);var Y=K.KP,c=Y.Pf.Font,b=0;if(c==null)return;var z=Y.qu[c].Name;
if(this.auB==z)return;var c=K.zl.ng(z);if(c==null)return;var f=c.maxp.numGlyphs,$=this.aD8=new Array(f);
for(var y=0;y<f;y++)$[y]={vJ:[]};var E=Date.now(),q=new Uint8Array(1048575);for(var y=0;y<1048575;y++){var O=Typr.U.codeToGlyph(c,y);
if(O!=0&&O<f){q[y]=1;if($[O].vJ.length==0)b++;$[O].vJ.push(y)}}var j=fh.Z$,A=[];for(var y=0;y<j.length;
y++)A.push([]);for(var O=1;O<f;O++){A[0].push(O);var R=$[O].vJ[0];if(R==null){continue}for(var g=1;g<j.length;
g++){var H=j[g].c$;for(var y=0;y<H.length;y+=2)if(H[y]<=R&&R<=H[y+1]){A[g].push(O);break}}}this.dz=A;
var i=[];for(var y=0;y<j.length;y++)i.push(j[y].Ml+" ("+A[y].length+")");var h=this.P5.h();this.P5.Xs(i);
this.P5.T(h);this.auB=z;this.apz=c;this.nF()};fh.prototype.a1b=function(K){var o=Math.floor(this.YL/this.DQ);
return Math.floor(this.YL/o)};fh.prototype.nF=function(K){if(!I.qO(this.NA)||this.dz==null)return;var o=this.dz[this.P5.h()],Y=o.length,c=this.apz,z=Typr.U,f=this.a1b(),$=f,E=$*.8,b=$*.8/c.head.unitsPerEm,q=[],O=Math.floor(this.YL/f),j=Math.ceil(Y/O),A=this.a1M,R=Date.now();
for(var g=0;g<j;g+=A){var H=I._("canvas"),i=H.getContext("2d");H.width=f*O;H.height=$*A;i.fillStyle="white";
i.fillRect(0,0,O*f,$*A);for(var h=0;h<A;h++){for(var x=0;x<O;x++){var y=o[(g+h)*O+x];if(y==null)break;
var F=z.glyphToPath(c,y),X=d.M.OA(F.crds);i.fillStyle="#252525";if(X.xf()){var V=c.hmtx,U=[],p=170;for(var Z in V)U.push(Z);
var T=V[U[0]][y],v=V[U[1]][y],P=Math.max(T,v);F={cmds:"M L M L M L".split(" "),crds:[0,0,P,0,0,-p,0,p,P,-p,P,p]};
X.m=P;X.x=0;i.strokeStyle="rgba(0,255,0,1)"}i.beginPath();var a=x*f+(f-X.m*b)*.5-X.x*b,D=h*$+E;i.translate(a,D);
i.scale(b,-b);z.pathToContext(F,i);i.scale(1/b,-1/b);i.translate(-a,-D);X.xf()?i.stroke():i.fill()}}i.beginPath();
for(var x=0;x<O;x++){var n=x*f+f+.5;i.moveTo(n,0);i.lineTo(n,$*A)}for(var h=0;h<A;h++){var N=h*$+$+.5;
i.moveTo(0,N);i.lineTo(O*f,N)}i.strokeStyle="rgba(0,0,0,0.3)";i.stroke();q.push(H)}this.T3.SK(q,null,f*O,$*A)};
fh.Z$=[{Ml:"All Glyphs"},{Ml:"Basic Latin, Latin 1",c$:[0,127,128,143]},{Ml:"Latin Extended-A",c$:[256,383]},{Ml:"Latin Extended-B",c$:[384,591]},{Ml:"Punctuations",c$:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Ml:"Greek",c$:[880,1023]},{Ml:"Cyrillic",c$:[1024,1279]},{Ml:"Hebrew",c$:[1424,1535]},{Ml:"Arabic",c$:[1536,1791]},{Ml:"Emoji",c$:[9728,10095,127744,129535]}];
function cZ(){fW.call(this,[13,0],!1,null,fW.CL.R8);this.xU=0;this.amq=0;this.Bk=null}cZ.prototype=new fW("");
cZ.prototype.ro=function(){if(!I.qO(this.NA)||this.Cz)return;var K=I._("div","flexrow padded");this.NA.appendChild(K);
var o=I._("div");K.appendChild(o);this.Cz=[];for(var y=0;y<2;y++){var Y=new gK;this.Cz.push(Y);Y.k("click",this.a4l,this);
o.appendChild(Y.n)}this.xc=new f2(192);console.log("hsb picker");this.xc.k(w.E.p,this.HB,this);this.LN=new gG;
this.LN.parent=this;K.appendChild(this.xc.n);this.fL(this.Bk,bB.tk)};cZ.prototype.a4l=function(K){var o=K.currentTarget,Y=this.Cz.indexOf(o);
if(Y==this.xU){this.LN.PT(Y)}else{this.xU=Y;this.nF()}};cZ.prototype.HB=function(K){var o=this.xc.h();
this.xc.T(o);var Y=Math.round(o.o*255)<<16|Math.round(o.A*255)<<8|Math.round(o.J*255),c=new h1(w.E.L,!0);
c.data={d:w.I.Ak,VS:bB.R8,f4:this.xU,b:Y};this.c(c);this.amq=Date.now()};cZ.prototype.nF=function(){if(this.LN==null)return;
var K=this.Bk,o=this.xU,Y=[K.qm,K.YQ];for(var y=0;y<2;y++){var c=this.Cz[y],z=c.n.style;c.Nh(Y[y]);if(y==o)z.filter="drop-shadow(0 0 1px #000000)"}var f=Y[o];
if(Date.now()-this.amq>100)this.xc.T({o:(f>>>16)/255,A:(f>>>8&255)/255,J:(f&255)/255})};cZ.prototype.fL=function(K,o){this.Bk=K;
if(this.LN==null)return;if(o==bB.tk||o==bB.R8){this.LN.a4x(K.qm,K.YQ);this.nF()}};cZ.prototype.ic=function(){this.ro()};
cZ.prototype.Lv=function(){this.ro();this.nF()};function bv(){fW.call(this,"CSS",!1,"---panels/css",fW.CL.CSS);
this.$S=null;var K=I._("div","padded");this.NA.appendChild(K);this.q8=I._("textarea");I._R(this.q8);
K.appendChild(this.q8)}bv.prototype=new fW("");bv.prototype.Fx=function(K,o){if(this.Fv==K)return;this.Fv=K;
this.q8.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(K-10)+"px; height:"+(o-10)+"px")};
bv.prototype.ic=function(K){this.$S=K;this.nF()};bv.prototype.fL=function(K,o){if(o==bB.Kx)this.nF()};
bv.prototype.nF=function(){var K=this.$S;if(K==null||K.Y.length==0)return;if(!I.qO(this.NA))return;var o=K.B[K.Y[0]],Y=CSS.a41(o,K);
if(Y.length!=0)this.q8.value=Y.join(";\n")+";";else this.q8.value=""};bv.prototype.Lv=function(){this.nF()};
function de(){fW.call(this,"Text to Image",!1,null,fW.CL.a5q);this.$S=null;var K=this.agT=I._("div","form padded labfxd");
this.NA.appendChild(K);this.Lp=["512x512","1024x1024"];this.ZX=0;this.gf=0;this.fK={};this.BY=[];this.$J=[];
this.Mk=null;var o=["API Key","Generate"],Y=this.yK=[[new gJ("DALL\xB7E"),new hQ(null,["Our key","Your own key"]),new cI,new gJ("Stable Diffusion"),new hQ(null,["Our key","Your own key"]),new cI],[new hQ("Model",["DALL\xB7E","Stable Diffusion"]),new cI("Prompt",null,null,4),new bY([12,14,0],this.Lp),new bb("Inpaint the masked area of a layer"),new eg([12,49],!0,null,!0)]];
Y[1][0].T(1);Y[1][1].T("goat riding a bike");Y[1][2].T(1);Y[1][3].T(!1);for(var y=0;y<2;y++){var c=new eg(o[y]);
this.BY.push(c);K.appendChild(c.n);c.k("click",this.amB,this);var z=I._("div");this.$J.push(z);var f=Y[y];
for(var $=0;$<f.length;$++){f[$].parent=this;z.appendChild(f[$].n);if(!(y==0&&($==1||$==4)))I.Tg(z);
if(y==0&&$==2)I.Ud(z);if(y==0)f[$].k(w.E.p,this.aaB,this);if(y==1&&$==4)f[$].k("click",this.a0g,this)}}I.Ud(K);
this.H$=I._("div");K.appendChild(this.H$);this.Z_=I._("div","scrollable");this.$J[1].appendChild(this.Z_);
var E=window.locStor.getItem("sd_api_key");if(E){E=E.split(",");if(E.length==2)E.push("0","your_api_key");
for(var y=0;y<2;y++){Y[0][y*3+1].T(parseInt(E[y*2+0]));Y[0][y*3+2].T(E[y*2+1])}}else{Y[0][2].T("your_api_key");
Y[0][5].T("your_api_key")}this.aaB();this.amB(null,1)}de.prototype=new fW("");de.prototype.a0g=function(){if(!navigator.onLine){alert("Get online to use this feature.");
return}var K=this.yK,o=K[0],Y=K[1],c=Y[0].h(),z=o[c*3+1].h()==0,f=!Y[3].h(),O,j,A;if(c==0&&z){alert("Enter your own API Key to use DALL-E.",5e3);
return}if(z&&!es.YP()){var $=Math.round((Date.now()-this.gf)/1e3),E=60;if($<E){window.confirm("Wait "+(E-$)+" seconds or get a Premium account for the unlimited access. Or enter your own API Key.");
return}}var b=Y[1].h().trim(),q=this.Lp[Y[2].h()],R=o[c*3+2].h().trim();if(c==0){O="https://api.openai.com/v1/images/"+(f?"generations":"edits");
var g=a9.sH("% D5Nfn1>!}>$;#AVxId1:DK-?leqOVcf*\\qj;~\"o5#j/P )]\\~");j={Authorization:"Bearer "+(z?g:R)};
A={model:"image-alpha-001",prompt:b,num_images:1,size:q,response_format:"b64_json"}}else{O="https://dezgo.p.rapidapi.com/"+(f?"text2image":"inpainting");
var g=a9.sH("sx| !WZ\\0a=F>js@zFNQRV-'\\/dfv:oHDMK&20+\\a`26l<@xFL");j={"X-RapidAPI-Key":z?g:R,"X-RapidAPI-Host":"dezgo.p.rapidapi.com"};
A={prompt:b,upscale:q=="512x512"?1:2,model:f?"stablediffusion_2_1_512px":"stablediffusion_inpaint_1"}}var H=new XMLHttpRequest;
H.open("POST",O,!0);for(var i in j)H.setRequestHeader(i,j[i]);H.onload=de.prototype.af4.bind(this);if(c==1)H.responseType="arraybuffer";
if(f){if(c==0){H.setRequestHeader("Content-type","application/json");H.send(JSON.stringify(A))}else{H.setRequestHeader("content-type","application/x-www-form-urlencoded");
var h=[];for(var x in A)h.push(encodeURIComponent(x)+"="+encodeURIComponent(A[x]));H.send(h.join("&"))}}else{var F=this.$S,X=F.B[F.Y[0]],V=X.ue(),T=0;
if(V==null){alert("There is no raster mask");return}var U=[X.buffer,X.rect];d.pa(U);var Z=[V.ig(X.rect),X.rect];
d.ZN(Z);while(c==1&&U[T+1].Z()>600*600)T+=2;var v=U[T+1].clone();if(c==0)v.m=v.e=Math.max(v.m,v.e);var P=d.R(v.Z()*4);
d.iF(U[T],U[T+1],P,v);var p=UPNG.encode([P.buffer],v.m,v.e),a=d.R(v.Z());d.u_(Z[T],Z[T+1],a,v);d.round(a);
P.fill(255);if(c==0){d.cb(a,P,3)}else{d.oD(a);d.xI(a,P)}var D=UPNG.encode([P.buffer],v.m,v.e,null,null,null,!0),n=new FormData;
n.append(["image","init_image"][c],new Blob([p],{type:"image/png"}));n.append(["mask","mask_image"][c],new Blob([D],{type:"image/png"}));
for(var x in A)n.append(x,A[x]);H.send(n)}I.Px(this.NA,"disabled");this.gf=Date.now()};de.prototype.af4=function(K){var o=this.yK,Y=o[1][0].h(),c;
I.LR(this.NA,"disabled");if(Y==0){c=JSON.parse(K.target.response);var z=c.error;if(z){alert(z.message,5e3);
return}}else{c={created:Math.round(Date.now()/1e3),data:[{b64_json:fv.zj(K.target.response)}]}}var f=this.fK,$=o[1][1].h().trim()+":"+o[1][2].h();
if(f[$]==null)f[$]=[];f[$].push(c);var E=o[0][Y*3+1].h()==0;for(var y=0;y<c.data.length;y++)es.event("dalle_DALL-E "+(!E?"Users":es.YP()?"Premium":"Free"));
this.nF()};de.prototype.aaB=function(K){var o=this.yK,Y=[];for(var y=0;y<2;y++)Y.push(o[0][y*3+1].h(),o[0][y*3+2].h().trim());
window.locStor.setItem("sd_api_key",Y.join(","));o[0][2].W6(Y[0]==1);o[0][5].W6(Y[2]==1)};de.prototype.amB=function(K,y){I.oA(this.H$);
if(y==null)y=this.BY.indexOf(K.target);for(var o=0;o<2;o++)this.BY[o].T(o==y);this.H$.appendChild(this.$J[y])};
de.prototype.Fx=function(K,o){if(this.Fv==K)return;this.Fv=K;this.agT.style.width=K-16+"px";this.Z_.style.height=o-190+"px"};
de.prototype.ic=function(K,o){this.$S=K;if(K)this.ZX=o.indexOf(K);this.nF()};de.prototype.fL=function(K,o){};
de.prototype.t=function(K,o){fW.prototype.t.call(this);var Y=this.yK,z=" target=\"_blank\" style=\"color:inherit;\">";
for(var y=0;y<2;y++){this.BY[y].t();for(var c=0;c<Y[y].length;c++)this.yK[y][c].t()}Y[0][0].n.innerHTML="DALL\xB7E - <a href=\"//beta.openai.com\" "+z+"beta.openai.com</a>";
Y[0][3].n.innerHTML="Stable Diffusion - <a href=\"//rapidapi.com/dezgo/api/dezgo\" "+z+"rapidapi.com/dezgo</a>"};
de.prototype.nF=function(){var K=this.Z_,o=this.fK;I.oA(K);var Y=[];for(var c in o){o[c].sort(function(H,i){return i.created-H.created});
Y.push([c,o[c]])}Y.sort(function(H,i){return i[1][0].created-H[1][0].created});var z=this.adr.bind(this),f=this.Mk=[[],[]];
for(var y=0;y<Y.length;y++){var c=Y[y][0].split(":"),$=Y[y][1],E=this.Lp[c[1]],b=parseInt(E.split("x")[0]),q=I._("div");
q.textContent=c[0]+", "+b+" x "+b;K.appendChild(q);for(var O=0;O<$.length;O++){var j=$[O].data;for(var A=0;
A<j.length;A++){var R=j[A].b64_json,g=I._("img");g.setAttribute("src","data:image/png;base64,"+R);g.onclick=z;
g.style.width=128/I.GR()+"px";g.style.marginRight="4px";g.style.cursor="pointer";K.appendChild(g);f[0].push(g);
f[1].push(j[A])}}}};de.prototype.adr=function(K){var y=this.Mk[0].indexOf(K.target),o=this.Mk[1][y].b64_json,Y=fv.iX(o);
jm.gn({url:"file",ZX:this.ZX},Y,this)};de.prototype.Lv=function(){this.nF()};function kp(){fW.call(this,[9,6],!1,"---panels/info",fW.CL.aB6);
this.NA.setAttribute("style","min-width:240px;");this.$S=null;this.Bk=null;this.Is=null;var K=this.Mq=[];
for(var o=0;o<3;o++){var Y=I._("div","marged row");this.NA.appendChild(Y);var c=I._("div","cell");c.setAttribute("style","width:10em");
Y.appendChild(c);var z=I._("div","cell");z.setAttribute("style","width:10em");Y.appendChild(z);var f=[8,4,3][o];
for(var y=0;y<f;y++){var $=new gJ("");K.push($);$.T(0);$.n.style.padding="0";var E=y<(o==1?2:4)?c:z;
E.appendChild($.n);I.Tg(E)}if(o<2)I.Ud(this.NA)}this.w4=K[8];this.kU=K[9];this.oQ=K[10];this.g0=K[11];
I.Ud(this.NA);this.Is=I._("div");this.Is.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.NA.appendChild(this.Is)}kp.prototype=new fW("");kp.prototype.D3=function(K,o,Y,c,z){if(!I.qO(this.NA)||K==null)return;
var f=K.Q.oh(z.x,z.y),$=new jc(Math.floor(f.x),Math.floor(f.y));if(!z.WR){var E=0,b=0,q=0,O=0,j=this.Mq;
if(!z.WR&&!K.anQ()&&new hD(0,0,K.m-1,K.e-1).Tz($)){var A=K.Gl(),y=K.m*$.y+$.x<<2;E=A[y+0];b=A[y+1];q=A[y+2];
O=A[y+3]}var R=d.fO([E/255,b/255,q/255]);j[0].T("R: "+E);j[1].T("G: "+b);j[2].T("B: "+q);j[3].T("A: "+O);
j[4].T("C: "+Math.round(R[0]*100)+"%");j[5].T("M: "+Math.round(R[1]*100)+"%");j[6].T("Y: "+Math.round(R[2]*100)+"%");
j[7].T("K: "+Math.round(R[3]*100)+"%");var g=d.vr(E,b,q);j[12].T("H: "+Math.round(g.jd*360)+"\xB0");
j[13].T("S: "+Math.round(g.ZO*100)+"%");j[14].T("B: "+Math.round(g.J*100/255)+"%")}var H=K.Q.O>1?new jc(f.x,f.y):$;
this.w4.T("X: "+d.Rf.wk(H.x,K.aE,Y,K.m));this.kU.T("Y: "+d.Rf.wk(H.y,K.aE,Y,K.e));this.A0()};kp.prototype.A0=function(){var K=this.$S,o=this.Bk,Y=0,c=0;
if(K&&o){if(K.Q.qE){Y=K.Q.qE.m;c=K.Q.qE.e}else if(K.r){Y=K.r.rect.m;c=K.r.rect.e}Y=d.Rf.wk(Math.abs(Y),K.aE,o,K.m);
c=d.Rf.wk(Math.abs(c),K.aE,o,K.e)}this.oQ.T(ca.get([12,41]).charAt(0)+": "+Y);this.g0.T(ca.get([12,42]).charAt(0)+": "+c)};
kp.prototype.t=function(){fW.prototype.t.call(this);this.A0()};kp.prototype.Lv=function(){this.ic(this.$S,null,this.Bk)};
kp.prototype.ic=function(K,o,Y){this.$S=K;this.Bk=Y;if(!I.qO(this.NA))return;console.log("update");this.A0();
if(K&&K.Y.length!=0){var c=K.Y[0],z=K.B[c],f=jh.get(z.add)!=null,$=f&&K.Y[0]>0;this.Is.innerHTML="";
for(var y=0;y<K.dW.length;y++){var E=K.dW[y],z=K.Q.Hc(E.x,E.y),b=m.XV.wD(K,z,1,$?1:2),q={o:b>>>16&255,A:b>>>8&255,J:b&255},H="<span style=\"display:inline-block; width:25px; text-align:right\">",i="</span>";
if($){var O=K.Y[0];K.Y[0]=c-1;var j=m.XV.wD(K,z,1,1),A={o:j>>>16&255,A:j>>>8&255,J:j&255};K.Y[0]=O}var R=I._("div");
R.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var g="<b>#"+(y+1)+"</b>",h=[q.o,q.A,q.J],x=$?[A.o,A.A,A.J]:null,F=["R","G","B"];
for(var X=0;X<3;X++)g+="<br/>"+H+F[X]+i+": "+($?H+x[X]+i+" /":"")+H+h[X]+i;R.innerHTML=g;this.Is.appendChild(R)}}};
function b9(){fW.call(this,[9,1],!1,"---panels/layers",fW.CL._V);this.j3=null;this.eS=[];this.l_=null;
this.gl=null;this.$E=I._("div","lphead");this.Ek=I._("div","lpbody scrollable");this.Ek.addEventListener("scroll",this.a1Z.bind(this),!1);
this.D5=I._("div","lpfoot");var K=this.aoO=I._("span");K.setAttribute("style","display:inline-block; height:26px");
this.$E.appendChild(K);this.t$=new bY(null,jw.Y9,jw.AJ);this.t$.k(w.E.p,this.adc,this);this.$E.appendChild(this.t$.n);
this.p0=new h5([12,0],0,100,"%",0);this.p0.k(w.E.p,this.a0f,this);this.p0.parent=this;this.$E.appendChild(this.p0.n);
this.g1=new i1([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.g1.k(w.E.p,this.a4G,this);this.$E.appendChild(this.g1.n);this.ir=new h5([12,26],0,100,"%",0);this.ir.k(w.E.p,this.a0Q,this);
this.ir.parent=this;this.$E.appendChild(this.ir.n);this.cQ=[];this.Od();this.NA.appendChild(this.$E);
this.NA.appendChild(this.Ek);this.Ek.addEventListener("dragover",function(z){z.preventDefault()},!1);
this.Ek.addEventListener("dragenter",I._z,!1);this.Ek.addEventListener("drop",this.a6J.bind(this),!1);
this.NA.appendChild(this.D5);this.NA.addEventListener("contextmenu",I._z,!1);this.k("rclick",this.avK,this);
var o=function(z,f,y){return{u9:this.o1[y]==1}}.bind(this);this.agA=new gq([{name:[0,6],u:o},{name:[14,10],u:o},{name:[6,57,2],u:o,M_:!0},{name:"Long-tap as a right click",u:o,M_:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",u:function(){return{u9:jk.fT==0,u:!0}}},{name:"Thumbnails by Document",u:function(){return{u9:jk.fT==1,u:!0}}}]);
this.agA.k("select",this.avz,this);this.o1=[0,1,1,0];var Y=window.locStor;if(Y){var c=Y.getItem("lpOpt");
if(c){c=JSON.parse(c);this.o1=c[0];jk.aV=c[1];jk.fT=c[2]}}this.avz()}b9.prototype=new fW("");b9.prototype.mY=function(){if(this.ag3)return;
var K=cE.PY(!0),o=cE.s_(!0);this.ag3=new gq(K,o);var K=[{name:[14,10]},{name:[14,11],M_:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],M_:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",u:function(Y){return{u:Y.B[Y.Y[0]].add.SoLd!=null}},M_:!0},{name:[6,8],u:b9.atI},{name:[6,34],u:function(Y){var c=Y.B[Y.Y[0]];
return{u:c.add.lmfx!=null&&!c.f$()}}},{name:[6,40],M_:!0,u:function(Y){var c=Y.B[Y.Y[0]];return{u:c.add.TySh!=null}}},{name:"",M_:!0,u:function(Y){var c=Y.B[Y.Y[0]],z=c.add.TySh,f=z?z.e9:null;
return{u:z!=null&&f.Curve==null,hY:ca.get(z&&b_.C8(f)==0?[16,3,1]:[16,3,0])}}},b9.amU(!1),cE.a3$(),{name:[6,12,0],u:function(Y){var c=Y==null?0:Y.Y.length;
return{u:c!=0&&(c!=1||Y.Y[0]!=0),hY:ca.get(c>1||c==1&&Y.B[Y.Y[0]].f$()?[6,12,0]:[6,10])}}},{name:[6,12,1],M_:!0},{name:[13,0],sub:function(){var Y=[];
for(var y=0;y<f_.zg.length;y++)Y.push({name:[13,1,y],Uv:"#"+d.lP(f_.zg[y])});return Y}()}],o=[{K:w.E.L,C:{d:w.I.Gg,XQ:"layerstyle"}},{K:w.E.U,f:m.at,C:{d:"fromlayer",$G:[null,0,0]}},{K:w.E.U,f:m._V,C:{d:S.Rz}},{K:w.E.L,C:{d:w.I.Gg,XQ:"duplinto"}},{K:w.E.U,f:m._V,C:{d:S._C}},{K:w.E.hP,C:{Rk:"newPlacedLayer"}},{K:w.E.U,f:m._V,C:{d:S.Tp}},{K:w.E.hP,C:{Rk:"rasterizeLayer",jU:{classID:"rasterizeLayer",null:b0.x2("Lyr",!0)}}},{K:w.E.U,f:m._V,C:{d:S.FZ}},{K:w.E.U,f:m._V,C:{d:S.a6N}},{K:w.E.U,f:m.oB,C:{d:"switchPntPrgr"}},{K:w.E.U,f:m._V,C:{d:S.I4}},cE.a9J(),{K:w.E.hP,C:{Rk:"mergeLayersNew",jU:{__name:"Merge Layers",classID:"Mrg2"}}},{K:w.E.hP,C:{Rk:"flattenImage"}},{sub:function(){var Y=[];
for(var y=0;y<8;y++)Y.push({K:w.E.U,f:m._V,C:{d:S.ow,a78:y}});return Y}()}];this.O0=new gq(K,o);var K=[{name:[6,45],u:function(Y){var c=Y.B[Y.Y[0]];
return{u:c.wm(Y).F==null}}},{name:[6,47]}],o=[{K:w.E.U,f:m._V,C:{d:S.Pi}},{K:w.E.U,f:m._V,C:{d:S.ZF}}];
this.awK=new gq(K,o);var K=[{name:"enab/disab",u:function(Y){return{hY:ca.get(Y.B[Y.Y[0]].ue().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],u:function(Y){return{u:Y.WM(!1,!0)}}}],o=[{K:w.E.U,f:m._V,C:{d:S.mW}},{K:w.E.U,f:m._V,C:{d:S.Jj}},{K:w.E.U,f:m._V,C:{d:S.sF}}];
this.adw=new gq(K,o);var K=[{name:"enab/disab",u:function(Y){return{hY:ca.get(Y.B[Y.Y[0]].wm(Y).F.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],o=[{K:w.E.U,f:m._V,C:{d:S.us}},{K:w.E.U,f:m._V,C:{d:S.Rr}}];
this.anI=new gq(K,o);var K=[{name:"enab/disab",u:function(Y){return{hY:ca.get(Y.B[Y.Y[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],o=[{K:w.E.U,f:m._V,C:{d:S.sX}},{K:w.E.U,f:m._V,C:{d:S.xL}},{K:w.E.U,f:m._V,C:{d:S.WI}}];
this.a3o=new gq(K,o);this.abD=new gq(cE.anY(!0),cE.sY(!0));this.aoN=new gq(cE.PY(),cE.s_())};b9.prototype.a1Z=function(K){var o=this.Ek.scrollTop-600;
for(var y=0;y<this.eS.length;y++){var Y=this.eS[y],c=Y.wt;if(o<Y.wt)Y.a31();if(Y.wt>o+this.jd+600)break}};
b9.prototype.VL=function(){return this.agA};b9.prototype.avz=function(K){var o=this.o1;if(K){var Y=K.target.kW(),y=Y[0];
if(y<4)o[y]=1-o[y];else if(y<6){if(y==4&&jk.aV-10>=10)jk.aV-=10;if(y==5&&jk.aV+10<=200)jk.aV+=10;if(this.l_)this.l_.jS=!0}else{if(y==6)jk.fT=0;
if(y==7)jk.fT=1;if(this.l_)this.l_.jS=!0}var c=window.locStor;if(c)c.setItem("lpOpt",JSON.stringify([o,jk.aV,jk.fT]))}if(o[0]==1)this.aef();
var z=[[{n:this.aoO}],[this.t$,this.p0],[this.g1,this.ir]];for(var y=0;y<3;y++)for(var f=0;f<z[y].length;
f++)z[y][f].n.style.display=o[y]==1?"inline-block":"none";this.Fx(this.Fv,this.jd)};b9.prototype.a92=function(){var K=this.o9;
if(K==null)return!1;if(K.h()){var o=this.Nc.h(),Y=this.ij[o].h();if(o==0)return Y.indexOf(!0)!=-1;if(o==1)return Y!=""}return!1};
b9.amU=function(K){var o=function(c){var z=c!=null&&c.Y.length!=0&&c.B[c.Y[0]].z_;return{u9:z,u:c!=null&&c.eT(c.Y[0]),C:{K:w.E.hP,C:{Rk:z?"ungroup":"groupEvent",jU:{classID:z?"Ungr":"GrpL",null:b0.x2("Lyr",!0)}}}}},Y={name:[6,6,0],M_:!0,u:o};
if(K)Y.aL=[a1.cV,a1.rK,a1.vH];return Y};b9.atI=function(K,o){if(K)for(var y=0;y<K.Y.length;y++){var Y=K.B[K.Y[y]];
if(Y.add.TySh||Y.add.SoLd||Y.add.SoCo||Y.add.GdFl||Y.add.PtFl)return{u:!0}}return{u:!1}};b9.prototype.a6J=function(K){I._z(K);
var o=K.dataTransfer.getData("Text"),Y=1,c=0;if(o==""){I.De(K,this,this.gl.indexOf(this.l_),c+(Y>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),z=o.tM;
if(z=="l")this.BU({d:S.bh,source:o.Vp,target:c,Ao:Y})}};b9.prototype.avK=function(K){var o=this.l_,Y=K.data,z;
if(o.Y.indexOf(Y.a)==-1){var c={d:S._m,a:K.target.Di.index,Ky:Y.xO};this.BU(c)}if(o.Y.indexOf(Y.a)==-1)return;
this.mY();if(Y.xO==1){z=this.adw}else if(Y.xO==2){z=this.a3o}else if(Y.xO==3){z=this.anI}else if(Y.xO==4){z=this.awK}else if(Y.xO==5){z=this.ag3}else{z=this.O0}z.t();
z.update(o);z.parent=this;var f=new h1(w.E.L,!0);f.data={d:w.I.FY,A_:z,x:Y.Yj.x+1,y:Y.Yj.y+1};this.c(f)};
b9.prototype.t=function(){fW.prototype.t.call(this);this.t$.t();this.p0.t();this.g1.t();this.ir.t();
if(this.o9){this.o9.t();this.ij[0].t()}if(this.l_)this.ic(this.l_);var K="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var y=0;y<this.cQ.length;y++){var o=this.cQ[y];o.Sk(I.pA(K[y],null,"miniscale"));if(y==1||y==3){o.n.style.position="relative";
var Y=I._("img","gsicon");Y.setAttribute("src",PIMG["tools/corner"]);Y.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
o.n.appendChild(Y)}}};b9.prototype.ic=function(K,o){if(K&&!K.jS)return;if(K==null)I.Px(this.NA,"disabled");
else I.LR(this.NA,"disabled");this.l_=K;this.gl=o;if(this.j3!=null){I.oA(this.Ek);this.j3=null;this.eS=[]}if(K==null)return;
var Y=!1;for(var y=0;y<K.Kl.length;y++)if(K.Kl[y].Gt)Y=!0;this.j3=new f_(K.root,this,K,{ws:0,wa:!1},{apf:Y,ake:this.a92()},this.eS,0,new hD(0,0,K.m,K.e));
if(K.Y.length==0||K.B[K.Y[0]]==null)I.Px(this.$E,"disabled");else{I.LR(this.$E,"disabled");if(K.Y.length==1&&K.YS){var c=K.Y[0];
for(var y=0;y<this.eS.length;y++){var z=this.eS[y];if(z.Di.index==c&&z.$E.scrollIntoView)z.$E.scrollIntoView({block:"nearest"})}}var f=K.B[K.Y[0]];
if(f.f$()){this.t$.Xs([[15,10,27]].concat(jw.Y9),[1].concat(jw.AJ));var $=jw.iu.indexOf(f.YF);this.t$.T($+1)}else{this.t$.Xs(jw.Y9,jw.AJ);
var $=jw.iu.indexOf(f.YF);this.t$.T($)}this.p0.T(Math.round(100*f.opacity/255));this.g1.T([f.dq(0),f.dq(1),f.dq(2),f.dq(31)]);
var E=K.Yd();this.t$.W6(!E);this.ir.W6(!E);this.p0.W6(!E);this.g1.W6(!(E&&!f.dq(31)));this.ir.T(Math.round(100*(f.add.iOpa!=null?f.add.iOpa/255:1)));
this.cQ[2].a0J(ca.get(f.ue()?[6,23]:[6,21]))}this.a1Z(null)};b9.prototype.Fx=function(K,o){this.Fv=K;
this.jd=o;var Y=this.$E.getBoundingClientRect().height;if(55<Y&&Y<56)Y=60.2;var c=this.D5.getBoundingClientRect().height,z=o-(Y+c+3);
this.Ek.style.height=z+"px";this.Ek.style.width=K+"px"};b9.prototype.adc=function(K){this.BU({d:S.N9,Wx:this.t$.h()})};
b9.prototype.a0f=function(K){this.BU({d:S._n,Wx:Math.round(255*this.p0.h()/100)})};b9.prototype.a4G=function(K){this.BU({d:S.JM,Wx:[this.g1.h(),[0,1,2,31]]})};
b9.prototype.a0Q=function(K){this.BU({d:S.Gy,Wx:Math.round(255*this.ir.h()/100)})};b9.prototype.o6=function(K){if(K.target==this.Nc)this.aef();
var o=this.o9.h();if(o)I.LR(this.CF,"disabled");else I.Px(this.CF,"disabled");this.t();this.l_.jS=!0;
this.ic(this.l_);this.l_.jS=!1};b9.prototype.aef=function(){var K=this.CF;if(K==null){var o=this.aoO,Y=this.o9=new bb([0,6]);
Y.k(w.E.p,this.o6,this);o.appendChild(Y.n);K=this.CF=I._("span","disabled");o.appendChild(K);this.Nc=new bY(null,["Kind",[12,48]],[]);
this.Nc.k(w.E.p,this.o6,this);var c=this.ij=[new i1(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new cI(null,null,8)];
c[0].k(w.E.p,this.o6,this);c[1].k("input",this.o6,this)}I.oA(K);K.appendChild(this.Nc.n);K.appendChild(this.ij[this.Nc.h()].n)};
b9.prototype.a1i=function(K){this.mY();this.aph(K,this.abD)};b9.prototype.ay7=function(K){this.mY();
this.aph(K,this.aoN)};b9.prototype.aph=function(K,o){var Y=K.currentTarget;if(I.qO(o.n))return;K.stopPropagation();
var c=Y.getBoundingClientRect();o.t();o.update(this.l_);o.parent=this;var z=new h1(w.E.L,!0);z.data={d:w.I.FY,A_:o,x:c.left,y:c.top,atp:!0};
this.c(z)};b9.prototype.aBv=function(K){this.BU({d:S.ahe})};b9.prototype.auL=function(K){this.BU({d:this.l_.Y.length>1?S.p5:S.rr})};
b9.prototype.akk=function(K){this.BU({d:S.zm})};b9.prototype.aAq=function(K){var o=this.l_;if(o.Y.length==0)return;
var Y=o.B[o.Y[0]],c=Y.xO;this.BU({d:c<=0?Y.bw?S.xL:S._C:c==3?S.Rr:S.Jj})};b9.prototype.a3F=function(K){this.BU({d:S._i})};
b9.prototype.BU=function(K){var o=new h1(w.E.U,!0);o.data=K;o.f=m._V;this.c(o)};b9.prototype.Od=function(){var K=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],o=[this.a3F,this.ay7,this.aBv,this.a1i,this.auL,this.akk,this.aAq],Y=this.a94.bind(this);
for(var y=0;y<K.length;y++){var c=new eg("W",!1,K[y]);this.cQ.push(c);I.Xh(c.n,o[y].bind(this));this.D5.appendChild(c.n);
if(y>=K.length-3){var z=c.n;z.addEventListener("drop",Y,!1);z.addEventListener("dragover",function(f){f.preventDefault()},!1);
z.addEventListener("dragenter",I._z,!1)}}};b9.prototype.a94=function(K){I._z(K);var o=0,Y=this.cQ;while(Y[o].n!=K.currentTarget)o++;
Y[o].ba();var c=K.dataTransfer.getData("Text");if(c=="")return;var c=JSON.parse(c);if(c.tM=="l"){var z={d:[S.p5,S.Rz,S._C][o-4]};
if(this.l_.Y.indexOf(c.Vp)==-1)z.a=c.Vp;this.BU(z)}if(o!=6)return;if(c.tM=="sm"||c.tM=="s"){var f=new h1(w.E.U,!0);
f.f=m.la;f.data={d:c.tM=="sm"?"st_clear":"st_delsingle",a:c.Vp,Vp:c.BN};this.c(f)}if(c.tM=="fm"||c.tM=="f"){this.BU({d:c.tM=="fm"?S.ZF:S.aF,src:c.Vp,BN:c.BN})}if(c.tM=="m"||c.tM=="vm"){this.BU({d:c.tM=="m"?S.Jj:S.xL,a:c.Vp})}};
function f_(K,o,Y,c,z,f,$,E){cv.call(this);this.parent=o;this.wt=$;this.Di=K;f.push(this);this.L$=Y;
this._Z=c;var b=o.Ek,q=K.a,O=Y.Y.indexOf(K.index)!=-1,g=null;this.$E=I._("div",O?"head selected":"head");
if(q.add.artb!=null){I.Px(this.$E,"artb");E=q.Yv()}var j=this.a0T=Math.floor(10+q.apN/I.GR()),A="height: "+j+"px;";
if(O&&z.apf)A+="background-color:rgba(255,50,50,0.4);";this.$E.setAttribute("style",A);this.q2=E;var R=this.a3n=this.afm.bind(this),H=z.ake&&!this.adU();
if(!H){if(K.depth!=0){b.appendChild(this.$E);$+=j}if(q.Ug()||q.Mn())if(q.LJ()){g=this.a0z=I._("div","lpineck");
b.appendChild(g);if(q.Ug()){g.addEventListener("contextmenu",R,!1);var i=new b9.h0(ca.get([12,1]),"sm","layerstyle",K.depth,0,null);
$+=21;i.parent=this;g.appendChild(i.n);var h=q.add.lmfx,x=h.masterFXSwitch.v;i.dt(x);for(var y=0;y<eF.order.length;
y++){var F=h[eF.nk[y]].v;if(F.length==0)continue;for(var X=0;X<F.length;X++){var i=new b9.h0(ca.get(eF.names[y]),"s","layerstyle",K.depth,1,[y,X]);
$+=21;i.dt(x&&F[X].v.enab.v);i.parent=this;g.appendChild(i.n)}}}if(q.Mn()){var V=q.wm(Y).F;if(V)this.bN=I._("div","thumb");
var i=new b9.h0(ca.get([12,55]),"fm",null,K.depth,0,-1,V?this.bN:null);$+=V?j:21;i.parent=this;g.appendChild(i.n);
this.arf=i.n;this.arf.addEventListener("contextmenu",R,!1);var h=q.add.SoLd.filterFX.v,U=h.filterFXList.v,x=h.enab.v;
i.dt(x);for(var y=U.length-1;y>=0;y--){var Z=U[y].v,T=fn.UK(Z);if(jh.hW[T])T=jh.hW[T];var v=Z.Nm.v;if(fn.names[T])v=ca.get(fn.names[T]);
if(jh.names[T])v=ca.get(jh.names[T]);var P="afw_"+T,i=new b9.h0(v,"f",P,K.depth,1,y);$+=21;i.dt(x&&Z.enab.v);
i.parent=this;g.appendChild(i.n)}}}}var p=q.add.lclr;if(p==null)p=0;p=p==0?c.ws:f_.zg[p];this.a5a=p;
if(q.f$()&&(q.add.lsct==eo.bl||z.ake)){var a={ws:p,wa:c.wa||q.dq(31)};for(var y=K.children.length-1;
y>=0;y--){var D=new f_(K.children[y],o,Y,a,z,f,$,E);$=D.afu}}this.afu=$}f_.prototype=new cv;f_.zg=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
f_.prototype.a31=function(){if(this.Jw)return;var K=this.Di,o=K.a,Y=this.L$,c=this._Z,j=!0,a=!1;K.zU(Y,this.q2,!0);
var z=I._("div","headL"),f=I._("div","headR");this.$E.appendChild(z);this.$E.appendChild(f);var $=this.$E;
$.setAttribute("draggable","true");$.addEventListener("dragstart",this.l5.bind(this),!1);$.addEventListener("drop",this.h7.bind(this),!1);
$.addEventListener("dragover",this.uP.bind(this),!1);$.addEventListener("dragenter",I._z,!1);$.addEventListener("dragleave",this.kd.bind(this),!1);
var E=[],b=[null,null,null,null],q=o.KL(),O=K;while(O.parent){O=O.parent;q=q&&O.a.KL()}if(o.z_){for(var y=K.index-1;
y>=0;y--){var A=Y.B[y];if(!A.z_){j=A.KL();break}}}var R=o.KL()?q&&j?2:1:0;this.Jw=I._("div");var g=I._("div",R==0?"sqr":"eye");
this.Jw.appendChild(g);g.style.opacity=[.12,.33,1][R];var H=I._("div","space");this.Ii=I._("div","label");
this.Ii.setAttribute("style","max-width:calc(100% - "+(96+K.depth*20)+"px); margin-top:"+(this.a0T-19)/2+"px;"+(o.UR?"text-decoration:underline;":""));
this.Ii.textContent=o.getName();this.ry=I._("div","lock");this.aor=I._("div","lrfx");this._k=I._("div","arfx");
var i=this.a3n,h=this.acD.bind(this);this.$E.addEventListener("click",h,!1);this.$E.addEventListener("contextmenu",i,!1);
var x=this.a5a;if(x!=0){var F=[x>>16,x>>8&255,x&255];for(var y=0;y<3;y++){F[y]="calc("+F[y]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.Jw.setAttribute("style","background-color:rgba("+F.join(",")+",1);")}var X=this.abo.bind(this);
this.Jw.addEventListener("mousedown",X,!1);this.Jw.addEventListener("mouseover",X,!1);this._k.addEventListener("click",this.asc.bind(this),!1);
E[0]=this.Jw;E[1]=H;E[10]=this.Ii;if(o.f$()){var V=I._("div","arrow"),U=I._("div","folder");this.pb(U);
V.addEventListener("click",this.azz.bind(this),!1);E[2]=V;E[3]=U;V.className=o.add.lsct==eo.bl?"open":"closed"}else{this.w6=I._("div","thumb");
E[5]=this.w6;f_.un(this.w6,o.lN);this.pb(this.w6);if(jh.get(o.add))I.Px(o.lN.canvas,"gsicon")}var Z=o.ue();
if(Z){this.cT=I._("div","chain");this.S2=I._("div","thumb");f_.un(this.S2,o.V6,!0);this.cT.style.opacity=Z.wn?1:0;
this.cT.addEventListener("click",this.axO.bind(this),!1)}var T=o.sB()&&o.add.vmsk;if(o.add.vmsk&&!T){this.cn=I._("div","chain");
this.Lg=I._("div","thumb");f_.un(this.Lg,o.J3,!0);this.cn.style.opacity=o.add.vmsk.wn?1:0;this.cn.addEventListener("click",this.afd.bind(this),!1)}if(o.Mn()&&o.LJ()&&o.wm(Y).F){f_.un(this.bN,o.ab,!1);
this.pb(this.bN);this.bN.addEventListener("click",h,!1);this.bN.addEventListener("contextmenu",i,!1)}if(K.index==Y.Y[0]){var v=o.xO,P;
if(v<=0)P=this.w6;else if(v==1)P=this.S2;else if(v==3)P=this.bN;if(P)P.className="thumb active";if(o.bw&&this.Lg)this.Lg.className="thumb active"}H.setAttribute("style","width:"+Math.max(0,K.depth-1)*18+"px");
var p=o.add.lspf!=null&&o.add.lspf!=0||c.wa;this.ry.style.opacity=o.dq(31)?1:.5;E[4]=o.z_?I._("div","clipp"):null;
E[6]=Z?this.cT:null;E[7]=Z?this.S2:null;E[8]=o.add.vmsk&&!T?this.cn:null;E[9]=o.add.vmsk&&!T?this.Lg:null;
var D=o.RY,n=Y.Y;if(D!=0)for(var y=0;y<n.length;y++)if(Y.B[n[y]].RY==D){a=!0;break}if(a){b[0]=I._("div",o.kw?"link":"linkX");
b[0].addEventListener("click",this.atw.bind(this),!1)}b[1]=p?this.ry:null;b[2]=o.Ug()?this.aor:null;
b[3]=o.Ug()||o.Mn()?this._k:null;this._k.className=o.LJ()?"arfx open  gsicon":"arfx closed  gsicon";
var N=E;for(var y=0;y<N.length;y++)if(N[y])z.appendChild(N[y]);N=b;for(var y=0;y<N.length;y++)if(N[y])f.appendChild(N[y])};
f_.un=function(K,o,Y){var c=o.canvas;I.d4(c);if(Y)K.setAttribute("draggable","true");K.appendChild(c);
c.setAttribute("style",c.getAttribute("style")+"; pointer-events:none")};f_.prototype.pb=function(K){I.Xh(K,function(o){if(this.parent.o1[3]==0)return;
I.kx(o);I.HX(document.body,function(){clearTimeout(this.aey)}.bind(this));this.aey=setTimeout(function(){var Y=new h1("rclick",!0);
Y.data={a:this.Di.index,xO:this.xO(o),Yj:I._9(o,document.body)};this.c(Y)}.bind(this),600)}.bind(this))};
f_.l4=function(K,o){var Y=o.getBoundingClientRect();return(K.clientY-Y.top)/Y.height};f_.prototype.l5=function(K){K.stopPropagation();
var o=K.target==this.S2?"m":K.target==this.Lg?"vm":"l";K.dataTransfer.setData("Text",JSON.stringify({tM:o,Vp:this.Di.index}))};
f_.prototype.kd=function(K){I._z(K);this.x5()};f_.prototype.h7=function(K){I._z(K);this.x5();var o=K.dataTransfer.getData("Text"),Y=this.parent.l_,c=f_.l4(K,this.$E),z=this.Di.index;
if(c>.8){var f=!0,$=Y.root.w3(z);while($.parent!=null){var E=$.parent,b=E.children;if(b.indexOf($)!=0)f=!1;
$=$.parent}if(f){z=0;c=1}}if(o==""){I.De(K,this,this.parent.gl.indexOf(Y),z+(c>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),q=o.tM;
if(q=="l")this.BU({d:S.bh,source:o.Vp,target:z,Ao:c});else if(q=="m"||q=="vm")this.BU({d:q=="m"?S.a0R:S.R6,src:o.Vp,sL:z});
else f_.ayk(K,o,this)}};f_.ayk=function(K,o,Y,c){var z=o.tM,f=Y.Di.index,$=o.Vp;if(z=="s"||z=="sm")Y.BU({d:S.fR,src:$,sL:f,BN:o.BN});
if(z=="f"||z=="fm")Y.BU({d:S.ajp,src:$,sL:f,BN:o.BN,SO:c==null?0:c})};f_.prototype.uP=function(K){I._z(K);
var o=f_.l4(K,this.$E),Y=this.Di.a.f$()&&.5<o&&o<.8;this.x5();var c="inset 0 "+(Y?0:o>.5?-3:3)+"px "+(Y?"5px black":"0 rgba(0,0,0,0.5)");
this.$E.style.boxShadow=c};f_.prototype.x5=function(K){this.$E.style.boxShadow=""};f_.ak2=-1;f_.tl=!1;
f_.aj1=function(K){f_.tl=!1;document.body.removeEventListener("mouseup",f_.aj1)};f_.prototype.abo=function(K){if(K.button!=0)return;
if(K.type=="mousedown"){f_.tl=!0;document.body.addEventListener("mouseup",f_.aj1,!1)}if(K.type=="mouseover"&&(!f_.tl||f_.ak2==this.Di.index))return;
I._z(K);this.BU({d:S.WF,a:this.Di.index});f_.ak2=this.Di.index};f_.prototype.azz=function(K){I._z(K);
this.BU({d:S.agv,a:this.Di.index})};f_.prototype.axO=function(K){this.BU({d:S.uo,a:this.Di.index})};
f_.prototype.afd=function(K){this.BU({d:S.D1,a:this.Di.index})};f_.Hy=0;f_.prototype.XF=function(K){this.BU({d:S.No,a:this.Di.index,name:K})};
f_.prototype.asc=function(K){this.BU({d:S.axb,a:this.Di.index})};f_.prototype.atw=function(K){this.BU({d:S.Xn,a:this.Di.index})};
f_.prototype.afm=function(K){if(K.button!=2&&!I.atD(K))return;var o=this.xO(K);if(o!=3&&K.currentTarget==this.arf)o=4;
if(K.target==this.aor||K.currentTarget==this.a0z)o=5;var Y=new h1("rclick",!0);Y.data={a:this.Di.index,xO:o,Yj:I._9(K,document.body)};
this.c(Y)};f_.prototype.xO=function(K){var o=K.target,Y=o;return Y==this.Lg?2:Y==this.S2?1:Y==this.w6?0:Y==this.bN?3:-1};
f_.prototype.acD=function(K){var o=K.target,R;if(o==this.Jw.firstChild||o==this._k||o==this.cT||o==this.cn||o.tagName&&o.tagName.toLowerCase()=="input")return;
var Y=this.xO(K),c=this.parent.l_,z=this.Di.index,f=c.B[z];if(o==this.ry){this.BU({d:S.JM,a:z,Wx:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var $=f_.Hy,E=Date.now()-$<300;f_.Hy=Date.now();if(o==this.Ii){if(E){this.$E.setAttribute("draggable","false");
var b=new fW.n5(this.Ii,this.XF.bind(this))}else this.BU({d:S._m,a:z,Ky:Y,vL:!0});return}if(K.button==0&&E){if(o==this.Ii)return;
var q=new h1(w.E.U,!0),O=new h1(w.E.L,!0),j=new h1(w.E.hP,!0);if(Y==0&&f.add.SoCo){var A=d.H.CK(f.add.SoCo.Clr.v);
O.data={d:w.I.Gg,XQ:"colorpicker",ws:A.o<<16|A.A<<8|A.J,n4:function(i){var h=d.H.eD({J:i&255,A:i>>>8&255,o:i>>16&255});
h={classID:"null",Clr:{t:"Objc",v:h}};var x=new h1(w.E.U,!0);x.f=m._V;x.data={d:S.B$,zI:[z],ls:!0,b:{ut:1,fe:h}};
this.c(x)}.bind(this),jB:!0}}else if(Y==0&&(jh.get(f.add)||f.add.SoCo||f.add.GdFl||f.add.PtFl))O.data={d:w.I.Ba,XQ:fW.CL._N};
else if(Y!=0&&Y!=-1)O.data={d:w.I.Ba,XQ:fW.CL._N};else if(Y==0&&f.add.SoLd)j.data={Rk:"placedLayerEditContents",jU:{classID:"placedLayerEditContents"}};
else if(Y==0&&f.add.TySh){q.f=m.oB;q.data={d:"editCurr",JZ:z}}else O.data={d:w.I.Gg,XQ:"layerstyle",a:z};
this.c(j.data?j:O.data?O:q);return}if(K.button!=0)return;if(Y==1||Y==3){var g=Y==3?f.wm(c).F:f.ue();
R=g.Gt?c.Q.v.join("")=="111"?1:2:0}var H={d:S._m,a:z,Ky:Y,a52:R,vL:!0};this.BU(H)};f_.prototype.BU=function(K){var o=new h1(w.E.U,!0);
o.data=K;o.f=m._V;this.c(o)};f_.prototype.adU=function(){var K=this.Di.a,o=K.add,Y=this.parent.Nc.h(),c=this.parent.ij[Y].h();
if(Y==0){if(c[0]&&o.SoLd==null&&o.TySh==null&&K.Go())return!0;if(c[1]&&jh.get(o)!=null)return!0;if(c[2]&&o.TySh!=null)return!0;
if(c[3]&&o.vstk!=null)return!0;if(c[4]&&o.SoLd!=null)return!0;return!1}if(Y==1)return K.getName().toLowerCase().indexOf(c.toLowerCase())!=-1};
b9.h0=function(K,o,Y,c,z,f,$){cv.call(this);this.alv=o;this.i6=Y;this.index=f;this.n=I._("div","styleitem");
this.$E=I._("div","head");this.aAk=null;if(o=="f"){var E=this.aAk=I._("div","headR");E.textContent="\u2699";
this.$E.appendChild(E)}this.Jw=I._("div","eye gsicon");this.Ii=I._("div","label");this.n.appendChild(this.$E);
this.$E.appendChild(this.Jw);if($){this.S2=$;this.$E.appendChild($);this.$E.setAttribute("style","height: "+(26/I.GR()+10)+"px")}this.Ii.innerHTML=K;
this.n.setAttribute("style","margin-left: "+(24+c*16+z*22)+"px");this.$E.appendChild(this.Ii);this.Jw.addEventListener("click",this.am4.bind(this),!1);
var b=this.n;b.setAttribute("draggable","true");b.addEventListener("dragstart",this.l5.bind(this),!1);
if(!0){b.addEventListener("drop",this.h7.bind(this),!1);b.addEventListener("dragover",this.uP.bind(this),!1);
b.addEventListener("dragenter",I._z,!1);b.addEventListener("dragleave",this.kd.bind(this),!1)}this.n.addEventListener("click",this.pt.bind(this),!1)};
b9.h0.prototype=new cv;b9.h0.prototype.l5=function(K){K.stopPropagation();K.dataTransfer.setData("Text",JSON.stringify({tM:this.alv,Vp:this.parent.Di.index,BN:this.index}))};
b9.h0.prototype.kd=function(K){I._z(K);this.x5()};b9.h0.prototype.h7=function(K){I._z(K);this.x5();var o=K.dataTransfer.getData("Text");
if(o=="")return;var o=JSON.parse(o);f_.ayk(K,o,this.parent,this.index+(f_.l4(K,this.$E)>.5?0:1))};b9.h0.prototype.uP=function(K){I._z(K);
var o=f_.l4(K,this.$E)>.5;this.x5();var Y="border-"+(o?"bottom":"top");this.$E.style[Y]="0.2em solid rgba(0,0,0,0.5)"};
b9.h0.prototype.x5=function(K){this.$E.style.border="none"};b9.h0.prototype.dt=function(K){this.Jw.style.opacity=K?1:.2};
b9.h0.prototype.pt=function(K){var o=f_.Hy,Y=Date.now()-o<300;f_.Hy=Date.now();if(K.target==this.Jw)return;
var c=this.parent.Di.index;if(Y&&this.i6!=null){var c=this.parent.Di.index,z=new h1(w.E.L,!0);if(this.i6.indexOf("afw_")==0){var f=this.i6.slice(4),$=dD[f]||fn.q[f],E=K.target==this.aAk;
if(!E&&!$)return;z.data=m.H8.aBR(E?"blendOptions":f,{a:c,index:this.index})}else z.data={d:w.I.Gg,XQ:this.i6,a:c,index:this.index};
this.c(z)}else{if(K.target.className!="thumb")this.parent.BU({d:S._m,a:c,Ky:0})}};b9.h0.prototype.am4=function(K){var o={fm:S.nK,f:S.tz,sm:S.Co,s:S.NZ}[this.alv];
this.parent.BU({d:o,a:this.parent.Di.index,index:this.index})};function aO(){fW.call(this,"Guide Guy",!1,"---panels/guideguy",fW.CL.aai);
this.$S=null;this.gT=new bY(null,d.Rf.Vl)}aO.prototype=new fW("");aO.prototype.ro=function(){this.Mq=[];
var K=I._("div","form padded");this.NA.appendChild(K);K.setAttribute("style","width:200px");this.NA.appendChild(K);
var o=I._("canvas"),Y=o.getContext("2d");o.width=o.height=160;var c=[32,0,16,160,0,32,160,16,0,112,160,16],z="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),f=[0,0,0,0,0,0,0,0,0,0];
K.appendChild(this.gT.n);for(var y=0;y<10;y++){Y.clearRect(0,0,160,160);Y.setTransform(1,0,0,1,80,80);
Y.rotate((y&3)*Math.PI/2);Y.translate(-80,-80);Y.fillStyle="rgba(0,0,0,0.3)";if(y<4){for(var $=0;$<12;
$+=4){Y.fillStyle=$==0?"#000000":"rgba(0,0,0,0.3)";Y.fillRect(c[$],c[$+1],c[$+2],c[$+3])}}else if(y<6){var E=8*6;
Y.fillRect(0,0,E,160);Y.fillRect(8*7,0,E,160);Y.fillStyle="#000000";Y.fillRect(8*14,0,E,160)}else if(y<8){Y.fillRect(0,0,16,160);
Y.fillRect(160-16,0,16,160);Y.fillRect(32,0,160-64,160);Y.fillStyle="#000000";Y.fillRect(32,80-8,160-64,8*1)}else{Y.fillRect(0,0,8*7,160);
Y.fillRect(8*13,0,160,160);Y.fillStyle="#000000";Y.fillRect(8*7,80-8,8*6,8*1)}var b="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",q=new h5(b,0,200,null,y==4||y==5?0:2,null,null,4,z[y]);
q.parent=this;q.k(w.E.p,this.aeW,this);q.T(f[y]);q.t();this.Mq.push(q);K.appendChild(q.n)}var O=[[11,14],[11,15,0]];
this.ZG=[];for(var y=0;y<O.length;y++){var j=new eg(O[y],!0,null,!0);this.ZG.push(j);j.k("click",this.$U,this);
K.appendChild(j.n)}for(var y=0;y<6;y++){Y.setTransform(1,0,0,1,80,80);Y.rotate(Math.floor(y/3)*Math.PI/2);
Y.translate(-80,-80);Y.clearRect(0,0,160,160);Y.fillStyle="rgba(0,0,0,0.3)";Y.fillRect(0,0,160,160);
Y.clearRect(16,16,128,128);Y.fillStyle="#000000";var A=y%3;Y.fillRect([0,9,18][A]*8,0,16,160);var b="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",j=new eg(b,!1,null,!1);
this.ZG.push(j);j.k("click",this.$U,this);K.appendChild(j.n)}};aO.prototype.t=function(){fW.prototype.t.call(this);
this.gT.t();if(this.Mq==null)return;for(var y=0;y<this.ZG.length;y++)this.ZG[y].t()};aO.prototype.aeW=function(K){var o=this.Mq,Y=o.indexOf(K.target),c=Math.floor(Y/2),z=Y&1,f=[];
for(var y=0;y<4;y++)f.push(o[2*y+z].h());var $=-1;if(c==2&&f[2]!=0&&f[3]!=0&&f[4]!=0)$=4;if(c==3&&f[3]!=0&&f[2]!=0&&f[4]!=0)$=4;
if(c==4&&f[4]!=0&&f[2]!=0&&f[3]!=0)$=3;if($!=-1)o[2*$+z].T(0)};aO.prototype.$U=function(K){var o=this.$S,Y=this.ZG.indexOf(K.target),c=[[],[]];
if(o==null)return;var z=o.r?o.r.rect:new hD(0,0,o.m,o.e),f=z.m,$=z.e;if(Y==0){var E=[[],[]],b=this.gT.h();
for(var y=0;y<this.Mq.length;y++){var q=this.Mq[y].h();q=d.Rf.iI(q,o.aE,o.m,b);E[y&1].push(q)}var O=[aO.aoh(E[0],z.x,z.x+f),aO.aoh(E[1],z.y,z.y+$)];
c=aO.nh(O);m.sq.Tr(c,o.Jm())}else if(Y==1){}else{Y-=2;var j=Math.floor(Y/3),O=[[],[]];O[j].push([z.x,z.x+f/2,z.x+f,z.y,z.y+$/2,z.y+$][Y]);
c=aO.nh(O);m.sq.Tr(c,o.Jm())}this.apC(c)};aO.nh=function(K){var o=[],Y=[];for(var c=0;c<2;c++)for(var y=0;
y<K[c].length;y++){o.push([c,K[c][y]]);Y.push(-1)}return[o,Y]};aO.prototype.amx=function(K){var o=this.a9c.indexOf(K.target)};
aO.prototype.apC=function(K){var o=new h1(w.E.U,!0);o.f=m.Wh;o.data={d:"gids",_s:K};this.c(o)};aO.aoh=function(K,o,Y){var c=[],z=K[2],f=K[3],$=K[4],E=0;
if(z==0)E++;if(f==0)E++;if($==0)E++;if(E>1&&z==0&&f==0){if(K[0]!=0)c.push(o+K[0]);if(K[1]!=0)c.push(Y-K[1]);
return c}var b=Y-o-K[0]-K[1];if(z==0){if($==0){z=Math.floor(b/f);$=(b-z*f)/(z-1)}else{z=1;while(f*z+$*(z-1)+f+$<=b)z++}}else if(z!=0&&f!=0){if(z*f>b)z=Math.floor(b/f);
$=(b-z*f)/(z-1)}c.push(o+K[0],Y-K[1]);var f=(b-$*(z-1))/z;for(var y=1;y<z;y++){if($==0)c.push(o+K[0]+y*f);
else c.push(o+K[0]+y*f+(y-1)*$,o+K[0]+y*f+y*$)}return c};aO.prototype.ic=function(K,o,Y){this.$S=K};
aO.prototype.Lv=function(){if(I.qO(this.NA)&&this.Mq==null)this.ro();this.t()};aO.prototype.fL=function(K){this.gT.T(K.EU.hq)};
function a7(){fW.call(this,[9,2],!1,"---panels/properties",fW.CL._N);this.av2=null;this.L$=null;this.Bk=null;
this.aki=-1;this.C$=null}a7.prototype=new fW("");a7.prototype.Fx=function(K,o){this.Fv=K;this.jd=o;K=K-16;
o=o-30;var Y=this.C$;if(Y){Y.style.width=K+"px";Y.style.height=o+"px";for(var y=0;y<3;y++)this.yW[y].Fx(K-12,o)}};
a7.prototype.ro=function(){this.C$=I._("div","padded scrollable");this.NA.appendChild(this.C$);var K=I._("span");
this.C$.appendChild(K);this.VO=[new eg([0,3]),new eg([12,73]),new eg([12,91,0])];for(var y=0;y<this.VO.length;
y++){var o=this.VO[y];o.k("click",this.akV,this);K.appendChild(o.n);if(y==2)o.n.style.marginRight="0"}this.C$.appendChild(I._("hr"));
this.t2=new a7.VG;this.t2.parent=this;this.lm=new a7.VP;this.lm.parent=this;this.r1=new a7.ap;this.r1.parent=this;
this.yW=[this.t2,this.lm,this.r1];this.C$.appendChild(this.t2.n);this.D5=I._("div","lpfoot");this.NA.appendChild(this.D5);
this.cQ=[];for(var y=0;y<3;y++){var o=new eg("W");o.k("click",this.pQ,this);this.cQ.push(o);this.D5.appendChild(o.n)}this.Fx(this.Fv,this.jd)};
a7.prototype.pQ=function(K){var y=this.cQ.indexOf(K.target),o=new h1(w.E.U,!0);o.f=m._V;if(y==0)o.data={d:S.I4};
if(y==1)o.data={d:S.WF};if(y==2)o.data={d:S._C};this.c(o)};a7.prototype.akV=function(K){var y=this.VO.indexOf(K.currentTarget);
this.Ya(y);this.ac9(y==1?this.lm.uz:-1)};a7.prototype.Ya=function(K){for(var y=0;y<3;y++){this.VO[y].ba();
var o=this.yW[y].n;if(o.parentNode==this.C$&&y!=K)this.C$.removeChild(o);if(o.parentNode!=this.C$&&y==K)this.C$.appendChild(o)}this.VO[K].Fo()};
a7.prototype.ac9=function(K){var o=this.L$.Y[0],Y=this.L$.B[o],c=K+1;if(K==1&&Y.bw)return;var z=new h1(w.E.U,!0);
z.f=m._V;if(K!=1&&Y.bw){z.data={d:S._m,a:o,Ky:2};this.c(z)}z.data={d:S._m,a:o,Ky:c};this.c(z)};a7.prototype.t=function(){fW.prototype.t.call(this);
if(this.C$==null)return;this.ic(this.L$);for(var y=0;y<3;y++){this.VO[y].t();this.yW[y].t()}dY.Sl(this.cQ,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
a7.prototype.Lv=function(){if(!I.qO(this.NA))return;if(this.C$==null){this.ro();this.fL(this.Bk,bB.tk);
this.ic(this.av2);this.t()}};a7.prototype.ic=function(K){this.av2=K;if(this.C$==null)return;this.t2.ic(K);
this.lm.ic(K);this.r1.ic(K);if(K==null||K.Y.length==0||K.B[K.Y[0]]==null){I.Px(this.NA,"disabled");this.L$=null;
return}else I.LR(this.NA,"disabled");var o=K.Y[0],Y=K.B[o];this.cQ[0].T(Y.z_);this.cQ[1].T(Y.KL());var c=K.dK(),z=c[0],f=c[1];
if(f.length!=0){var $=z[f[0]],E=$.add.vogk,b=!1;if(E)for(var y=0;y<E.length;y++){var q=E[y].v;if(!d.SU.Ij(q))continue;
b=!0;o=$.UQ}}o+=","+b;if(K!=this.L$||this.aki!=o){this.L$=K;this.aki=o;if(b)this.Ya(2);else if(Y.xO<1&&!Y.bw||jh.get(Y.add))this.Ya(0);
else this.Ya(1)}this.VO[1].W6(this.lm.uz!=-1);this.VO[2].W6(b)};a7.prototype.fL=function(K,o){this.Bk=K;
if(this.t2)this.t2.fL(K,o);if(this.r1)this.r1.fL(K,o)};a7.VG=function(){cv.call(this);this.n=I._("div","form");
this.al2=new gJ("Hello");this.X0=new eg([1,12,2],null,null,!0);this.X0.n.style.aiU="right";this.X0.k("click",this.a0,this);
this.n.appendChild(this.al2.n);this.n.appendChild(this.X0.n);this.Fz=null;this.I9=null;this.L$=null;
this.Bk=null;this.a5N=-1;this.ahA=null;this.Im=null;this.DG=new h6(0,!0,!0);this.DG.parent=this;this.DG.k(w.E.p,this.ajB,this);
this.n.appendChild(this.DG.n);this.Xi=new gK(!0);this.Xi.parent=this;this.Xi.k(w.E.p,this.afT,this);
this.VW=I._("div","marged hiline");this.VW.appendChild(this.Xi.n);this.su=new gt("GrFl",!0);this.su.parent=this;
this.su.k(w.E.p,this.aBE,this);this.UD=I._("div","marged hiline");var K="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var y=0;y<K.length;y++){var o=this.su.iL[K[y]].n;this.UD.appendChild(o)}this.HS=new gt("patternFill",!0);
this.HS.parent=this;this.HS.k(w.E.p,this.abL,this);this.w7=I._("div","marged hiline");var K=["Ptrn","Angl","Scl","Algn","phase"];
for(var y=0;y<K.length;y++){var o=this.HS.iL[K[y]].n;this.w7.appendChild(o)}this.nR={};for(var Y in jh.names){if(dD[Y]==null)continue;
this.nR[Y]=new dD[Y];this.nR[Y].k(w.E.p,this.am6,this);this.nR[Y].parent=this}var c=this.afU=I._("div","marged hiline");
this.Ur=new h6(0,!0);c.appendChild(this.Ur.n);this.Ur.k(w.E.p,this.co,this);this.aCk=null;this.gt=new gU;
this.gt.parent=this;this.gt.k(w.E.p,this.co,this);c.appendChild(this.gt.n)};a7.VG.prototype=new cv;a7.VG.prototype.ajB=function(K){var o=this.DG.h(),Y=this.Im,c=new hD(o[0],o[1],o[2],o[3]);
if(c.BV(Y))return;this.Im=c;var z=new h1(w.E.U,!0);if(Y.m==c.m&&Y.e==c.e){z.f=m.Wh;z.data={d:"trsl",zS:c.x-Y.x,_g:c.y-Y.y}}else{z.f=m._6;
z.data={d:"scl",Mx:[2,4],b:new jc(c.m/Y.m,c.e/Y.e),Xy:0}}this.c(z)};a7.VG.prototype.Fx=function(K,o){var Y=this.nR;
for(var c in Y)Y[c].Fx(K,o)};a7.VG.prototype.a0=function(K){var o=this.L$,Y=o.B[o.Y[0]],c=jh.get(Y.add);
this.I9.T(fn.Ta(c));this.am6()};a7.VG.prototype.t=function(){for(var K in this.nR)this.nR[K].t();this.su.t();
this.HS.t();this.gt.t();this.Ur.t();this.X0.t();this.DG.t()};a7.VG.prototype.co=function(K){var o=new h1(w.E.U,!0),Y=this.Ur.h(),c=this.aCk;
if(K.target==this.Ur&&Y[2]==c[2]&&Y[3]==c[3]){o.f=m.Wh;o.data={d:"trsl",zS:Y[0]-c[0],_g:Y[1]-c[1]}}else{var z=S.nZ(new hD(Y[0],Y[1],Y[2],Y[3])),f=this.gt.ajy();
f.artboardRect={t:"Objc",v:z};var $=this.L$,E=$.B[$.Y[0]],b=E.add.artb.guideIndeces;if(b)f.guideIndeces=JSON.parse(JSON.stringify(b));
o.f=m._V;o.data={d:S.a6,fh:f}}this.c(o)};a7.VG.prototype.afT=function(K){var o=this.L$,Y=o.Y[0];if(o.B[Y].add.SoCo==null)return;
var c=JSON.parse(JSON.stringify(o.B[Y].add.SoCo));c.Clr.v=this.Xi.h();this.in({ut:1,fe:c})};a7.VG.prototype.aBE=function(K){var o=this.L$,Y=o.Y[0];
if(o.B[Y].add.GdFl==null)return;this.in({ut:2,fe:this.su.h()})};a7.VG.prototype.abL=function(K){this.in({ut:3,fe:this.HS.h()})};
a7.VG.prototype.in=function(K){this.akT(m._V,{d:S.B$,zI:[this.L$.Y[0]],ls:!0,b:K})};a7.VG.prototype.am6=function(K){this.akT(m.Ay,{d:"edit_layer",b:this.I9.h()})};
a7.VG.prototype.akT=function(K,o){var Y=new h1(w.E.U,!0);Y.f=K;Y.data=o;this.c(Y)};a7.VG.prototype.ic=function(K,o){var Y=ca.get([0,3]),c=!1,z=!1,f=null;
this.L$=K;if(K&&K.B.length>0&&K.Y.length!=0&&K.B[K.Y[0]]){var $=K.B[K.Y[0]],E=jh.get($.add);if(E!=null&&this.nR[E]!=null){f=this.nR[E].n;
this.I9=this.nR[E];this.nR[E].T(JSON.parse(JSON.stringify($.add[E])));if(K.Y[0]!=this.a5N){var b=K.Gl(K.Y[0]-1);
this.ahA=d.$w(b)}this.nR[E].rW(this.ahA);Y=ca.get(jh.names[E]);c=!0}if(E==null&&$.add.artb==null){var q=this.Im=d.M.tS(m.OB._U(K));
z=!q.xf();this.DG.T([q.x,q.y,q.m,q.e],[K.aE,K.m,this.Bk.EU.hq])}if($.add.SoCo){f=this.VW;this.Xi.T($.add.SoCo.Clr.v);
Y=ca.get([6,48,0,0])}if($.add.GdFl){f=this.UD;this.su.update(K,$.add.GdFl);Y=ca.get([6,48,0,1])}if($.add.PtFl){f=this.w7;
this.HS.update(K,$.add.PtFl);Y=ca.get([6,48,0,2])}if($.add.artb){var O=$.add.artb,j=$.Yv();f=this.afU;
this.gt.ag9(O);var A=this.aCk=[j.x,j.y,j.m,j.e];this.Ur.T(A,[K.aE,K.m,this.Bk.EU.hq]);Y=ca.get([1,16,0])}this.a5N=K.Y[0]}if(f!=this.Fz){if(this.Fz)this.n.removeChild(this.Fz);
if(f!=null)this.n.appendChild(f);this.Fz=f}this.al2.T(Y);this.X0.n.style.display=c?"":"none";this.DG.n.style.display=z?"":"none"};
a7.VG.prototype.fL=function(K,o){this.Bk=K;this.su.fL(K,o);this.HS.fL(K,o);if(o==bB.gE)this.ic(this.L$,K);
for(var Y in this.nR)this.nR[Y].fL(K,o)};a7.VP=function(){cv.call(this);this.n=I._("div","form");this.L$=null;
this.uz=0;var K=I._("span","fitem");this.n.appendChild(K);this.VO=[new eg([6,2]),new eg([6,3]),new eg([6,50])];
for(var y=0;y<this.VO.length;y++){var o=this.VO[y];o.k("click",this.ayR,this);K.appendChild(o.n)}this.E1=new dr([12,74],0,255);
this.E1.k(w.E.p,this.Jr,this);this.n.appendChild(this.E1.n);this.fI=new dr([7,6],0,500,"px",2,!0);this.fI.k(w.E.p,this.Jr,this);
this.n.appendChild(this.fI.n);this.GM=new eg([4,11],null,null,!0);this.GM.k("click",this.aez,this)};
a7.VP.prototype=new cv;a7.VP.prototype.aez=function(){var K=new h1(w.E.U,!0);K.f=m.Ay;K.data={d:"start",W2:"nvrt"};
this.c(K)};a7.VP.prototype.Jr=function(K){var o=this.E1.h(),Y=this.fI.h(),c=new h1(w.E.U,!0);c.f=m._V;
c.data={d:S.ih,nI:this.L$.Y[0],Ea:{jm:this.uz,E1:o,fI:Y}};this.c(c)};a7.VP.prototype.t=function(){for(var y=0;
y<this.VO.length;y++)this.VO[y].t();this.E1.t();this.fI.t();this.GM.t()};a7.VP.prototype.ic=function(K){this.L$=K;
this.eA()};a7.VP.prototype.ayR=function(K){this.eA(this.VO.indexOf(K.currentTarget));this.parent.ac9(this.uz)};
a7.VP.prototype.eA=function(K){var o=this.L$,Y=this.VO;for(var y=0;y<3;y++){var c=Y[y];c.ba();c.b2()}if(o==null||o.B.length==0||o.Y.length==0||o.B[o.Y[0]]==null)return;
var z=-1,f=o.B[o.Y[0]];if(f.Mn()&&f.wm(o).F!=null){Y[2].L2();z=2}if(f.add.vmsk){Y[1].L2();z=1}if(f.ue()){Y[0].L2();
z=0}if(K!=null)z=K;else if(f.bw)z=1;else if(f.xO==3)z=2;else if(f.xO==1)z=0;this.uz=z;if(z==-1){this.E1.b2();
this.fI.b2();return}var $=f.KT(z);this.E1.L2();this.fI.L2();this.E1.T($.E1);this.fI.T($.fI);Y[z].Fo();
var E=this.GM.n;if(z==0)this.n.appendChild(E);else if(E.parentNode==this.n)this.n.removeChild(E)};a7.ap=function(){cv.call(this);
this.n=I._("div","form");this.$S=null;this.Bk=null;this.gf=-1;this.DG=new h6(0,!1);this.DB=new dr([12,15],-180,180,"\xB0",2);
this.Az=new h6(1,!0);this.oL=new dr([12,94,0],0,100,null,2);this.K6=new dr([12,78],3,30);this.Dw=new eg(["\u279C  ",[12,76,0]],null,null,!0);
this.DG.k(w.E.p,this.ag,this);this.DB.k(w.E.p,this.ag,this);this.Az.k(w.E.p,this.ag,this);this.oL.k(w.E.p,this.ag,this);
this.K6.k(w.E.p,this.ag,this);this.Dw.k("click",this.ag,this)};a7.ap.prototype=new cv;a7.ap.prototype.t=function(){this.DG.t();
this.DB.t();this.Az.t();this.oL.t();this.K6.t()};a7.ap.prototype.ag=function(K){var o=this.$S,Y=d.SU.P_(o),c=K.target.h(),z=[this.DG,this.DB,this.Az,this.oL,this.K6,this.Dw].indexOf(K.target);
if(z==0){var f=[];f[0]=c[0];f[1]=c[1];f[2]=f[0]+c[2];f[3]=f[1]+c[3];c=f}if(z==1)c=c*Math.PI/180;var $={0:1,1:2,2:3,3:3,4:4}[z];
Y[$]=c;var E=new h1(w.E.U,!0);E.f=m._V;E.data={d:S.PM,b:Y,ahB:z==5};this.c(E)};a7.ap.prototype.ic=function(K){var o=this.n;
this.$S=K;if(K==null)return;var Y=this.Bk,c=[K.aE,K.m,Y.EU.hq],z=d.SU.P_(K),f=z[0],$=z[1];if($==null)return;
var E=f!=this.gf;this.gf=f;if(E)I.oA(o);if(E)o.appendChild(this.DG.n);if(E)o.appendChild(this.DB.n);
this.DG.T([$[0],$[1],$[2]-$[0],$[3]-$[1]],c);this.DB.T(z[2]*180/Math.PI);if(f==2){if(E)o.appendChild(this.Az.n);
var b=z[3];this.Az.T(b,c)}if(f==7||f==8){if(E)o.appendChild(this.oL.n);this.oL.T(z[3])}if(f==8){if(E)o.appendChild(this.K6.n);
this.K6.T(z[4])}o.appendChild(this.Dw.n)};a7.ap.prototype.fL=function(K,o){this.Bk=K;this.ic(this.$S)};
function fH(K){fW.call(this,K.name,!0);this.l_=K;this.KO=null;this.fM=new aU(this.NA);this.fM.parent=this}fH.prototype=new fW;
fH.Ho=function(){var K=document.createElement("canvas"),o=document.createElement("canvas"),Y=16,c=d.R(16*16*4);
d.uD(c,Y,Y,8);var z=d.scale.SW(c,Y,Y);return{hA:K,yn:o,k6:K.getContext("2d",{willReadFrequently:!0}),pS:o.getContext("2d"),bW:z}}();
fH.prototype.ayx=function(){if(this.l_.FB())return window.confirm(ca.get([22,6,3])+" "+this.l_.name+". "+ca.get([22,6,4]));
return!0};fH.prototype.fL=function(K,o){this.KO=K};fH.prototype.ic=function(K){this.Lv();this.nF()};
fH.prototype.Fx=function(K,o){if(K<=0||o<=0)return;this.Fv=K;this.jd=o;var Y=this.l_,c=fH.Ho,z=I.GR();
Y.Q.k6.m=Math.floor(K*z);Y.Q.k6.e=Math.floor(o*z);I.AU(c.hA,K,o);I.AU(c.yn,K,o);I.AU(jK.oN(),K,o);if(Y.Q.O==0)Y.Q.O=m.w8.x9(Y.m,Y.e,K*z,o*z);
this.nF()};fH.prototype.Lv=function(){var K=this.NA.firstChild,o=fH.Ho,Y=jK.YT&&g1==0;if(!Y&&K==jK.oN()||Y&&K==o.hA)this.NA.removeChild(K);
var c=Y?jK.oN():o.hA;if(!I.qO(c))this.NA.appendChild(c)};fH.prototype.nF=function(){if(this.KO==null)return;
var K=this.l_,o=jK.YT&&g1==0;if(o)this.azI();else this.mr()};fH.prototype.azI=function(){if(jK.YT&&fH.L_==null){var K=fH.L_=[],o=[0,2,8,32,128];
for(var y=0;y<5;y++)K[y]=[new fH.Lk(!1,o[y],!1),new fH.Lk(!0,o[y],!1)];K.push([new fH.Lk(!1,0,!0),new fH.Lk(!0,0,!0)])}var Y=this.l_,c=fH.Ho,j,g=0,V,U;
if(Y.Ns==null)return;var z=Y.Q,f=z.k6.m,$=z.k6.e,E=jK.$F;c.k6.clearRect(0,0,f,$);var b=this.a5P(Y);if(z.gk==null||z.gk.m!=f||z.gk.e!=$)z.gk=new jK.ok(f,$);
if(b){var q=new Uint8Array(c.k6.getImageData(0,0,f,$).data.buffer);z.gk.set(q)}else{jK.EW(z.gk);jK.lF(1)}var O=z.Hc(0,0);
if(fH.acl==null)fH.acl=new Float32Array(4*1024);var A=[0,0,0,0],R=fH.acl;if(Y.add.artd){R.fill(0);A=fH.Sy(Y);
var H=Y.m,i=Y.e,X=0;for(var y=0;y<Y.B.length;y++){var h=Y.B[y],x=h.add.artb;if(x==null||!h.KL())continue;
var F=h.Yv();R[g]=F.x/H;R[g+1]=F.y/i;R[g+2]=F.m/H;R[g+3]=F.e/i;g+=4;if(g==R.length)break}if(g>2*4)X++;
if(g>8*4)X++;if(g>32*4)X++;j=fH.L_[X+1];R=new Float32Array(R.buffer,0,[2,8,32,128][X]*4)}else j=fH.L_[Y.Lt?5:0];
var Z=Y.QI();if(Z==null)j=j[0];else{j=j[1];U=Z[Y.add.fcmy==1?6:4];V=Z[2]}jK.Kd(f,$);jK.lF(0);jK.Kd(f,$);
j.eG();var T=new dF;T.scale(f,$);T.concat(z.HI(!0));T.scale(1/Y.m,1/Y.e);var v=[T.g,T.J,0,T.b0,T.gG,0,T.B3,T.Z7,1];
j.sb(z.gk.eI,Y.Ns.eI,new Float32Array(v),new Float32Array([f/8,$/8,O.x/f,O.y/$]),Y.m,Y.e,1/Y.Q.O,f,$,new Float32Array(A),R,new Float32Array(d.tb.Cy(d.tb.aqu(z.v))),U,V);
E.drawArrays(E.TRIANGLES,0,6)};fH.Sy=function(K){return[0,0,0,0]};fH.a0y=function(K){var o=d.H.CK(K.v),Y=[o.o/255,o.A/255,o.J/255,1];
for(var y=0;y<4;y++)Y[y]=Math.min(1,Y[y]);return Y};fH.nN=function(K,o){var Y=K[2]*255;if(jK.YT)Y=o?0:Math.max(2,Y);
return"rgba("+K[0]*255+","+K[1]*255+","+Y+","+K[3]+")"};fH.TT=function(K){var o=K.length;if(jK.YT)for(var y=0;
y<o;y+=4){if(K[y+2]==0)K[y+2]=3}};fH.prototype.mr=function(){var K=this.l_,o=fH.Ho;if(g1==0&&K.buffer==null)return;
var Y=K.Q,c=Y.k6,z=c.m,f=c.e,$=new hD(0,0,K.m,K.e);o.pS.clearRect(0,0,z,f);o.k6.clearRect(0,0,z,f);var E=Y.HI(!0),b=E.clone();
b.oD();if(K.add.artd==null){o.k6.save();var q=b.qc(new jc(0,0));b.translate(-q.x,-q.y);o.k6.translate(Math.round(q.x),Math.round(q.y));
o.k6.fillStyle=g1==0?o.bW:"#ffffff";if(K.Lt)o.k6.fillRect(-5e3,-5e3,2e4,2e4);else{var O=K.add.arts;if(g1==1)for(var y=0;
y<O.length;y++){var j=d.M.OA(O[y].BA);this.h5(d.M.Yq(j),b,o.k6);o.k6.fill()}else{this.h5(d.M.Yq($),b,o.k6);
o.k6.fill()}}o.k6.restore()}else{o.k6.fillStyle=fH.nN(fH.Sy(K));o.k6.fillRect(0,0,z,f);o.k6.save();o.k6.setTransform(b.g,b.J,b.b0,b.gG,b.B3,b.Z7);
var A=K.root.children;for(var y=0;y<A.length;y++){var R=A[y].a;if(R.add.artb==null||!R.KL())continue;
var g=R.Yv(),H=R.bm();if(H!=0)continue;o.k6.fillStyle=o.bW;o.k6.save();o.k6.scale(1/Y.O,1/Y.O);o.k6.fillRect(Y.O*g.x,Y.O*g.y,g.m*Y.O,g.e*Y.O);
o.k6.restore()}o.k6.restore()}if(Y.Fl.length!=c.Z()){Y.Fl=d.R(c.Z());Y.YJ=d.R(c.Z()*4)}Y.YJ.fill(0);
if(g1==1){var b=Y.HI(!0);b.oD();o.k6.save();var i=d.M.Yq(Y.k6);d.M.i(i.z,Y.HI(!0),i.z);var j=d.M.MN(i.z);
o.k6.setTransform(b.g,b.J,b.b0,b.gG,b.B3,b.Z7);K.root.awp(K,o.k6,this.KO,j);o.k6.restore()}else{d.scale.al6(K.buffer,$,E,Y.YJ,c,K.Lt);
var h=K.QI();if(h)ICC.U.applyLUT(h[K.add.fcmy==1?5:3],h[2],Y.YJ,Y.YJ);if(Y.v[0]+Y.v[1]+Y.v[2]!=3)d.tb.afj(Y.YJ,Y.YJ,d.tb.aqu(Y.v));
o.pS.putImageData(new ImageData(new Uint8ClampedArray(Y.YJ.buffer),c.m,c.e),0,0);o.k6.drawImage(o.yn,0,0);
o.k6.getImageData(0,0,1,1)}this.a5P(K)};fH.prototype.a5P=function(K){var o=K.Q,Y=o.v[0]+o.v[1]+o.v[2],c=fH.Ho,z=!1,f=[];
for(var y=0;y<K.Y.length;y++){var $=K.B[K.Y[y]];if($==null)continue;var E=$.xO;if(E!=1&&E!=3)continue;
var b=E==1?$.ue():$.wm(K).F;if(b.Gt)f.push(b)}for(var y=0;y<K.Kl.length;y++)if(K.Kl[y].Gt)f.push(K.Kl[y]);
for(var y=0;y<f.length;y++){var b=f[y];this.at6(b,o,f.length==1&&Y==0?2:1,b.color,b.ws);z=!0}var q=this.KO;
z=this.azd(K,c.k6,o,f.length!=0)||z;if(K.r&&q.uj&&q.EU.h1){this.at6(K.r,o,0,0,null);z=!0}return z};fH.prototype.at6=function(K,o,Y,c,z){var f=0;
if(z)f=Math.round(z.J)<<16|Math.round(z.A)<<8|Math.round(z.o);var $=o.HI(!0),E=o.k6,b=new hD(0,0,o.l_.m,o.l_.e),q=fH.Ho;
if(o.YJ==null||o.YJ.length!=E.Z()*4){o.Fl=d.R(E.Z());o.YJ=d.R(E.Z()*4)}o.Fl.fill(c);o.YJ.fill(0);var O=K.channel,j=K.rect;
d.scale.i(O,j,$,o.Fl,E);if(Y==0){var A=new Uint32Array([4278190080,4294967295]);fH.TT(new Uint8Array(A.buffer));
d.r.a2w(o.Fl,o.YJ,E,A,I.GR()>1.9)}else{var R=Date.now();d.r.asa(o.Fl,o.YJ,E,Y,f);fH.TT(o.YJ)}var g=new ImageData(new Uint8ClampedArray(o.YJ.buffer),E.m,E.e);
q.pS.putImageData(g,0,0);q.k6.save();if(Y!=0){var H=new hD(0,0,b.m,b.e),i=$.clone();i.oD();this.h5(d.M.Yq(H),i,q.k6);
q.k6.clip()}q.k6.drawImage(q.yn,0,0);q.k6.restore()};fH.prototype.azd=function(K,o,Y,c){var z=K.N.GI!=null||K.N.AE!=null||K.N.CB!=null||K.N.Qm!=null||K.N.hl.length!=0||K.N.Rw.length!=0,f=this.KO,$=f.EU,E=j1.YA[f.fi],b=Math.round(12*I.GR()),q=b/K.Q.O,O=Y.HI(!0);
O.oD();o.save();o.setTransform(O.g,O.J,O.b0,O.gG,O.B3,O.Z7);var j=fH.Sy(K)[0];j=j<.5?j+.5:j-.5;j=""+Math.round(j*255).toString(16);
while(j.length<2)j="0"+j;o.font=q+"px sans-serif";if(K.add.artd){o.fillStyle="#"+j+j+j;for(var y=0;y<K.B.length;
y++){var A=K.B[y];if(A.add.artb==null||!A.KL())continue;var R=A.Yv();o.save();o.beginPath();o.rect(R.x,R.y-2*q,R.m,2*q);
o.clip();o.fillText(A.getName(),R.x+2,R.y-q*.7);o.beginPath();o.restore();z=!0}}if(K.add.arts&&f.i5==m.aj7){var g=K.add.arts;
for(var y=0;y<g.length;y++){var R=g[y],H=d.M.OA(R.BA),i=(y+1+"").padStart(2,"0");i+=" - "+R.S4;o.save();
o.beginPath();o.fillStyle=R.Y?"#cce6ff":"#dddddd";o.rect(H.x,H.y,o.measureText(i).width+q,q*1.5);o.fill();
o.fillStyle="black";o.fillText(i,H.x+q/2,H.y+q*1.1);o.restore()}z=!0}function h(eB){return eB==1||eB==2||eB==4||eB==5}var x=fH.nN([.3,.5,1,1]),F=fH.nN([1,1,1,1]);
if(f.uj&&$.V9){o.fillStyle=o.strokeStyle=x;o.lineWidth=1.5/Y.O;var X=K.dK(),V=X[0],U=X[1];for(var Z=0;
Z<U.length;Z++){var A=V[U[Z]],T=A.add.vmsk,v=T.$,P=d.M.Y0(v);this.h5(P,null,o);o.stroke();z=!0;var p=3*I.GR()/Y.O;
for(var y=0;y<T.vh.length;y++){var a=d.j.ap2(v,T.vh[y]);if(a==null)continue;var D=a.x,n=a.y;o.beginPath();
var N=y==0;if(T.Qn)N=!N;if(N){o.moveTo(D-p,n-p);o.lineTo(D+p,n+p);o.moveTo(D-p,n+p);o.lineTo(D+p,n-p);
o.stroke()}else{o.arc(D,n,p*1,0,2*Math.PI);o.fill()}z=!0}if(K.Y.length!=1)continue;var W=-1;for(var y=0;
y<v.length;y++){if(v[y].type>5)continue;if(v[y].type==0||v[y].type==3){if(v[y].fa!=-1)W++;continue}if(T.Y.indexOf(W)!=-1){var D=v[y].P.x,n=v[y].P.y;
o.fillRect(D-p*.8,n-p*.8,2*p*.8,2*p*.8)}if(T.gy.indexOf(y)!=-1){var G=v[y],l=[G.P];o.beginPath();o.moveTo(G.KK.x,G.KK.y);
o.lineTo(G.P.x,G.P.y);o.lineTo(G.eb.x,G.eb.y);var u=v[y-1],e=v[y+1];if(u&&h(u.type)&&T.gy.indexOf(y-1)==-1){o.moveTo(u.P.x,u.P.y);
o.lineTo(u.eb.x,u.eb.y);l.push(u.eb)}if(e&&h(e.type)&&T.gy.indexOf(y+1)==-1){o.moveTo(e.P.x,e.P.y);o.lineTo(e.KK.x,e.KK.y);
l.push(e.KK)}o.stroke();if(!G.P.BV(G.KK))l.push(G.KK);if(!G.P.BV(G.eb))l.push(G.eb);for(var M=0;M<l.length;
M++){var a=l[M],D=a.x,n=a.y;if(M==0&&(G.type==2||G.type==5))o.fillRect(D-1.2*p,n-1.2*p,2.4*p,2.4*p);
else{o.beginPath();o.arc(D,n,p*1.2,0,2*Math.PI);o.fill();if(M!=0)o.fillStyle=F;o.beginPath();o.arc(D,n,p*.8,0,2*Math.PI);
o.fill();o.fillStyle=x}}}z=!0}}}o.lineWidth=1/Y.O;if(K.N.Uq){o.fillStyle=o.strokeStyle=x;var e={z:[],G:[]},B=fH.asF;
if(B==null){B=fH.asF={z:[1,0],G:["M"]};for(var y=1;y<30;y++){var s=Math.PI*2*y/30;B.z.push(Math.cos(s),Math.sin(s));
B.G.push("L")}B.G.push("Z","M","L","M","L");B.z.push(-.5,0,.5,0,0,-.5,0,.5)}for(var y=0;y<K.N.Uq.length;
y++){var u=m.J_.aqm(K.N.Uq[y],Y),t=new dF(u[0],0,0,u[0],u[1],u[2]);d.M.concat(e,B,t)}this.h5(e,null,o);
o.stroke();z=!0}var J=new dF(1,0,0,1,.5/Y.O,.5/Y.O);if(K.Lt){o.fillStyle=o.strokeStyle=x;var e={z:[0,0,K.m,0,K.m,K.e,0,K.e],G:["M","L","L","L","Z"]};
this.h5(e,J,o);o.stroke();z=!0}if(K.N.xv){o.fillStyle=o.strokeStyle=fH.nN([0,0,0,.5]);this.h5(K.N.xv,null,o,!0);
o.fill("evenodd")}o.strokeStyle=x;o.fillStyle=F;if(K.N.CB){this.h5(K.N.CB,J,o);o.stroke()}var L=fH.K3(K.N.Av,o,Y);
o.fill();o.stroke();z=z||L;o.fillStyle=o.strokeStyle=fH.nN([0,0,0,jK.YT&&g1==0?1:.5],!0);if(K.N.GI){this.h5(K.N.GI,null,o);
o.fill()}if(K.N.AE){this.h5(K.N.AE,J,o);o.stroke()}for(var k in K.N.CQ)if(K.N.CQ[k].AE){this.h5(K.N.CQ[k].AE,null,o);
o.stroke();z=!0}var L=fH.K3(K.N.HJ,o,Y);o.stroke();z=z||L;if(K.N.EV.length+K.N._4.length+K.N.Td.length!=0){z=!0;
o.fillStyle=F;fH.lO(K.N.EV,o,Y,6);o.fill();fH.lO(K.N._4,o,Y,6);o.fill();o.fillStyle=x;fH.lO(K.N.EV,o,Y,4);
o.fill();fH.lO(K.N.Td,o,Y,4);o.fill();o.fillStyle=fH.nN([.7,.7,.7,1]);fH.lO(K.N._4,o,Y,4);o.fill()}if(K.N.hl.length!=0){for(var y=0;
y<K.N.hl.length;y++){var C=K.N.hl[y],r=C[1],Q;if(c){Q=o.getImageData(r.x,r.y,r.m,r.e);d.l.To("norm",C[0],r,new Uint8Array(Q.data.buffer),r,r,1)}else Q=new ImageData(new Uint8ClampedArray(C[0].buffer),r.m,r.e);
o.putImageData(Q,r.x,r.y)}}var j9=.5/Y.O;o.lineWidth=1/Y.O;if(K.N.s8){z=!0;var a4=K.N.s8,ar=a4.yl,P={G:[],z:[]};
for(var y=0;y<a4.Qp.length;y++)d.M.concat(P,d.M.Yq(a4.Qp[y]));P.z=P.z.concat(ar);for(var y=0;y<ar.length;
y+=4){P.G.push("M","L")}for(var y=0;y<P.z.length;y++){P.z[y]+=j9}o.strokeStyle=fH.nN([.9,.2,.2,1]);this.h5(P,null,o);
o.stroke();var ez=I.GR(),ja=2/Y.O;o.font=q*.9+"px sans-serif";for(var y=0;y<ar.length;y+=4){var D=ar[y],n=ar[y+1],c3=ar[y+2],hW=ar[y+3],fO=Math.sqrt((hW-n)*(hW-n)+(c3-D)*(c3-D));
fO=d.Rf.wk(fO,K.aE,f,n==hW?K.m:K.e);var ei=new jc((D+c3)/2,(n+hW)/2);o.fillStyle=fH.nN([.9,.2,.2,1]);
var fV=o.measureText(fO).width;o.fillRect(ei.x-fV/2-ja*ez,ei.y-3.5*ja*ez,fV+2*ja*ez,7*ja*ez);o.fillStyle=fH.nN([1,1,1,1]);
o.save();o.translate(ei.x-fV/2,ei.y+2*ja*ez);o.scale(.1,.1);o.font=q*9+"px sans-serif";o.fillText(fO,0,0);
o.restore()}}if(f.uj){if($.dv&&K.Q.O>10&&g1==0){this.uD(K,o,1,1,.25,$.uF,16777215);z=!0}if($.WV){var aW=d.Rf.iI($.jk,K.aE,K.m,$.MU),ee=aW;
if($.MU==4)ee*=K.e/K.m;this.uD(K,o,aW,ee,1,$.uF,$.x$);z=!0}if($.xS){var hM=K.Jm(),ds=K.pH(),cp=Math.max(K.Q.k6.m,K.Q.k6.e)/K.Q.O;
cp=Math.max(Math.max(K.m,K.e)*2,cp);for(var y=0;y<hM[0].length;y++){var eA=hM[0][y],db=hM[1][y];if(db!=-1&&db!=ds)continue;
var js=Y.Hc(eA[1],eA[1]),bF=Y.oh(Math.floor(js.x)+.5,Math.floor(js.y)+.5),jI=d.XK($.dA);jI=[jI.o/255,jI.A/255,jI.J/255,1];
if(db!=-1)jI=[0,.5,1,1];o.beginPath();o.strokeStyle=fH.nN(jI);if(eA[0]==0){var gF=bF.x;o.moveTo(gF,-cp);
o.lineTo(gF,cp)}else{var b6=bF.x;o.moveTo(-cp,b6);o.lineTo(cp,b6)}o.stroke();z=!0}}var ji=K.dW;if(ji.length>0&&f.i5==m.aps){var r=7/K.Q.O,hd=r/3,eZ=r*4;
o.strokeStyle=o.fillStyle="black";for(var y=0;y<ji.length;y++){var hj=ji[y];o.fillRect(hj.x-.5*hd,hj.y-.5*eZ,hd,eZ);
o.fillRect(hj.x-.5*eZ,hj.y-.5*hd,eZ,hd);o.lineWidth=2.5/K.Q.O;o.beginPath();o.arc(hj.x,hj.y,r,0,2*Math.PI);
o.stroke();o.font=1.9*r+"px serif";o.lineWidth=1.25/K.Q.O;o.strokeText(""+(y+1),hj.x+.75*r,hj.y+2.5*r)}z=!0}var eK=K.FT;
if($.FT&&eK.length!=0){o.font=q*.8+"px sans-serif";var cX=[],bW=[];for(var y=0;y<eK.length;y++){var ju=m.F$.nL(eK,y);
cX.push(ju);if(K.V4.indexOf(y)!=-1)bW.push(ju)}cX.reverse();var ci=Date.now();cX=d.rect.avN([0,0,K.m,K.e],cX);
for(var M=0;M<2;M++)for(var y=0;y<cX.length;y++){var hH=cX[y],W=hH[4],b8=W!=null?eK[W]:null;if(b8&&M==0||b8==null&&M==1)continue;
var D=Math.round(hH[0]),n=Math.round(hH[1]),c3=Math.round(hH[2]),hW=Math.round(hH[3]);o.strokeStyle=o.fillStyle=fH.nN(b8?[0,.7,.7,1]:[.8,.8,.8,1]);
o.strokeRect(D+j9,n+j9,c3-D,hW-n);var gh=y+1,aN=o.measureText(gh),fV=aN.width;o.fillRect(D,n,fV+q/2,q);
o.fillStyle=fH.nN([1,1,1,1]);o.fillText(gh,D+q/4,n+q*.8)}var ja=2/K.Q.O,eS=2*ja;for(var y=0;y<bW.length;
y++){var hH=bW[y],D=Math.round(hH[0]),n=Math.round(hH[1]),c3=Math.round(hH[2]),hW=Math.round(hH[3]);
o.strokeStyle=o.fillStyle=fH.nN([1,.6,0,1]);o.strokeRect(D+j9,n+j9,c3-D,hW-n);var b2=[D,n,c3,n,c3,hW,D,hW];
for(var fZ=0;fZ<b2.length;fZ+=2){var gF=b2[fZ],b6=b2[fZ+1],dw=b2[fZ+2&7],ib=b2[fZ+3&7];o.fillRect(gF-ja,b6-ja,eS,eS);
o.fillRect(Math.round((gF+dw)/2)-ja,Math.round((b6+ib)/2)-ja,eS,eS)}}z=!0}var eJ=K.add.Anno;if(eJ&&eJ.length!=0)for(var y=0;
y<eJ.length;y++){var df=eJ[y],jI=df[2],gF=df[0]-j9,b6=df[1]-j9,eS=30/Y.Ql,k5=.4*eS,eC=.6*eS;o.beginPath();
o.moveTo(gF,b6+eC);o.lineTo(gF,b6);o.lineTo(gF+eS,b6);o.lineTo(gF+eS,b6+eS);o.lineTo(gF+k5,b6+eS);o.closePath();
o.lineTo(gF+k5,b6+eC);o.lineTo(gF+k5,b6+eS);if(y==K.Q.ay){o.lineWidth*=5;o.strokeStyle=fH.nN([0,0,0,.5]);
o.stroke();o.lineWidth/=5}o.fillStyle=fH.nN([jI.o/255,jI.A/255,jI.J/255,1]);o.fill();o.strokeStyle=fH.nN([0,0,0,1]);
o.stroke()}}o.strokeStyle=fH.nN([1,0,0,1]);if(K.N.Qm){this.h5(K.N.Qm,J,o);o.stroke()}o.restore();if(f.Pk){if(K.Q.h9==null||K.Q.h9.width!=K.Q.k6.m||K.Q.l6.height!=K.Q.k6.e){K.Q.h9=o.createImageData(K.Q.k6.m,d.Rf.c7);
K.Q.l6=o.createImageData(d.Rf.c7,K.Q.k6.e)}var E=j1.YA[f.fi],j7=0,cK=0,bw=K.m,f6=K.e;if(K.pH()!=-1){var R=K.B[K.pH()].Yv();
j7=R.x;cK=R.y;bw=R.m;f6=R.e}j7*=Y.O;cK*=Y.O;var Y=K.Q,iF=[1,K.aE,K.aE/2.54,K.aE/25.4,bw/100][$.hq],ag=Y.O*K.m/2,bS=Y.O*K.e/2,b$=[Y.O*iF,new jc(Y.w.x+(j7+ag*iF-ag),Y.w.y+(cK+bS*iF-bS))];
if($.hq==4)iF*=f6/bw;var aj=[Y.O*iF,new jc(Y.w.x+(j7+ag*iF-ag),Y.w.y+(cK+bS*iF-bS))],iV=this.fM.wL;d.Rf.a1N(Y,E["--text-color"],E["--bg-input"],Math.floor(iV.x),Math.floor(iV.y),b$,aj);
var g0=kB.awD(Y.O,fH.nN([1,1,1,1]),K.m,K.e);fH.TT(K.Q.l6.data);fH.TT(K.Q.h9.data);o.putImageData(K.Q.l6,0,0);
o.putImageData(K.Q.h9,0,0);o.putImageData(g0,0,K.Q.k6.e-g0.height)}if(K.N.Rw.length!=0){for(var y=0;
y<K.N.Rw.length;y++){var C=K.N.Rw[y],r=C[1];o.putImageData(new ImageData(new Uint8ClampedArray(C[0].buffer),r.m,r.e),r.x,r.y)}}return z||f.Pk};
fH.prototype.uD=function(K,o,Y,c,z,f,$){while(Y*K.Q.O<4){Y*=2;c*=2}var E=K.m,b=K.e,q=.5/K.Q.O;$=d.XK($);
o.strokeStyle=fH.nN([$.o/255,$.A/255,$.J/255,z],!1);o.save();o.rect(0,0,E,b);o.clip();o.beginPath();
for(var O=0;O<=E;O+=Y){o.moveTo(O+q,0);o.lineTo(O+q,b)}if(f==0){for(var j=0;j<=b;j+=c){o.moveTo(0,j+q);
o.lineTo(E,j+q)}}else{c*=Math.sqrt(4/3);var A=c*Math.floor(E/c),R=E*(c/(2*Y));for(var j=-A;j<=b+A;j+=c){o.moveTo(0,j);
o.lineTo(E,j-R);o.moveTo(0,j);o.lineTo(E,j+R)}}o.stroke();o.restore()};fH.lO=function(K,o,Y,c){o.beginPath();
var z=c*I.GR()/Y.O,f=!1;for(var y=0;y<K.length;y+=2){f=!0;var $=K[y],E=K[y+1];o.moveTo($+z,E);o.arc($,E,z,0,2*Math.PI)}return f};
fH.K3=function(K,o,Y,c){o.beginPath();var z=(c?c:1)*(4*I.GR()+.5)/Y.O,f=!1;for(var y=0;y<K.length;y+=2){f=!0;
var $=K[y],E=K[y+1];o.rect($-z,E-z,2*z,2*z)}return f};fH.iB=function(K,o,Y,c){Y.beginPath();if(c)Y.rect(-1e5,-1e5,1e6,1e6);
var z=K;if(o){z=d.M.clone(K);d.M.i(z.z,o,z.z)}Typr.U.pathToContext({cmds:z.G,crds:z.z},Y)};fH.prototype.h5=fH.iB;
fH.Lk=function(K,o,Y){jK.li.call(this);var c=o!=0,z=Y?"true":"in01(sCoord)",f="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(K?"uniform sampler2D lut;  uniform float N;  "+jK.hi.Vd:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(c?"uniform vec4 bgClr;  uniform vec4 ars["+o+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+jK.hi.wA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(Y?"-floor(sCoord)":"")+"); \t\t\t\t"+(K?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(c?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+o+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+z+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+z+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",$="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.JC(f,$)};fH.Lk.prototype=new jK.li;fH.Lk.prototype.sb=function(K,o,Y,c,z,f,$,E,b,q,O,j,A,R){this.Kf("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var g=jK.$F,H=this.dN;g.uniformMatrix3fv(H.tmat,!1,Y);g.uniform4fv(H.gsize,c);g.uniform3f(H.contSizeZoom,z,f,$);
g.uniform2f(H.cnvSize,E,b);g.uniformMatrix4fv(H.ctrn,!1,j);if(this.awI){g.uniform4fv(H.ars,O);g.uniform4fv(H.bgClr,q)}g.uniform1i(H.source,0);
g.uniform1i(H.target,1);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,K);g.activeTexture(g.TEXTURE1);
g.bindTexture(g.TEXTURE_2D,o);if(A){g.uniform1f(H.N,R);g.uniform1i(H.lut,2);g.activeTexture(g.TEXTURE2);
g.bindTexture(g.TEXTURE_2D,A.eI);var i=g.LINEAR;g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,i);
g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,i)}g.activeTexture(g.TEXTURE0)};function fX(){fW.call(this,[9,7],!1,"---panels/layercomps",fW.CL.a5v);
this.NA.setAttribute("style","min-width:240px;");this.L$=null;this.AW=-1;this.eS=[];this.Ek=I._("div","scrollable");
this.Ek.style.height="160px";this.NA.appendChild(this.Ek);this.D5=I._("div","lpfoot");this.NA.appendChild(this.D5);
this.ZG=[];var K=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],o=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var y=0;y<K.length;y++){var Y=K[y];if(y>0)Y="<img src=\""+PIMG[K[y]]+"\" class=\"miniscale gsicon\" />";
var c=new eg(Y,!1,o[y]);c.k("click",this.awU,this);this.D5.appendChild(c.n);this.ZG.push(c)}}fX.prototype=new fW("");
fX.prototype.Fx=function(K,o){this.NA.setAttribute("style","width:"+(K-2)+"px;");this.Ek.style.height=o-28+"px"};
fX.prototype.BU=function(K){var o=new h1(w.E.U,!0);o.data=K;o.f=m.oa;this.c(o)};fX.alr="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
fX.prototype.awU=function(K){var y=this.ZG.indexOf(K.currentTarget)-1;if(y==-1){var o=new h1(w.E.L,!0);
o.data={d:w.I.nu,il:fX.alr};this.c(o);return}if(y!=1)if(this.AW==-1)return;this.BU({d:["updLC","addLC","delLC"][y],UQ:this.AW});
if(y==2)this.AW=-1};fX.prototype.t=function(){fW.prototype.t.call(this);for(var y=0;y<this.ZG.length;
y++)this.ZG[y].t()};fX.prototype.ic=function(K){if(K==null)I.Px(this.NA,"disabled");else I.LR(this.NA,"disabled");
this.L$=K;I.oA(this.Ek);if(K==null)return;var o=K.Fe.lastAppliedComp?K.Fe.lastAppliedComp.v:0,Y=K.Fe.list.v.slice(0);
Y.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var y=0;y<Y.length;
y++){var c=Y[y].v,z=new kD(c.Nm.v,c.compID.v,c.capturedInfo.v,o,this.AW);z.k("activate",this.jz,this);
z.parent=this;this.Ek.appendChild(z.n);this.eS.push(z)}};fX.prototype.jz=function(K){this.AW=K.currentTarget.UQ;
this.ic(this.L$)};function kD(K,y,o,Y,c){cv.call(this);this.UQ=y;this.n=I._("div","head listitem"+(y==c?" selected":""));
var z=y==Y,f=new eg(z?"\u2713":"\u2014");if(z)f.Fo();this.n.appendChild(f.n);f.k("click",this.DR,this);
var $=this.T$=I._("span");$.textContent=K;this.n.appendChild($);this.ZG=[];if(y!=0){this.n.addEventListener("mouseup",this.jz.bind(this),!1);
this.ao7=I._("span","headR");this.n.appendChild(this.ao7);var E=["lrs/eye","pos","lrs/fx"],b=["Visibility","Position","Appearance"];
for(var q=0;q<E.length;q++){var O=new eg("<img src=\""+PIMG[E[q]]+"\" class=\"autoscale gsicon\" />",!1,b[q]);
if((o>>q&1)==0)O.n.setAttribute("style","opacity:0.3");O.k("click",this.awO,this);this.ao7.appendChild(O.n);
this.ZG.push(O)}}}kD.prototype=new cv;kD.prototype.jz=function(K){if(K.target!=this.T$&&K.target!=this.n)return;
if(K.detail==1)this.c(new h1("activate",!1));else{var o=new fW.n5(this.T$,this.XF.bind(this))}};kD.prototype.awO=function(K){var y=this.ZG.indexOf(K.currentTarget);
this.BU({d:"editLC",ajP:y,UQ:this.UQ})};kD.prototype.XF=function(K){this.BU({d:"editLC",GJ:K,UQ:this.UQ})};
kD.prototype.DR=function(K){this.BU({d:"setLC",UQ:this.UQ})};kD.prototype.BU=function(K){var o=new h1(w.E.U,!0);
o.data=K;o.f=m.oa;this.c(o)};function ec(){fW.call(this,[9,11],!1,"---panels/navigator",fW.CL.aym);var K=this.NA;
I.Px(K,"padded");K.setAttribute("style","cursor:grab;");this.V=I._("canvas");K.appendChild(this.V);I.Tg(K);
I._I(this.V);I.Xh(this.V,this.AX.bind(this));this.N4=new hB(null,2,6400,"%",null,!0);this.N4.k(w.E.p,this.akl,this);
K.appendChild(this.N4.n);this.a2a=this.VT.bind(this);this.alK=this.MH.bind(this);this.$S=null;this.vs=null;
this.SG=!1}ec.prototype=new fW("");ec.prototype.Fx=function(K,o){this.Fv=K*1.2;this.jd=o*1.2;this.nF()};
ec.prototype.akl=function(K){var o=this.N4.h(),Y=this.$S,c=o/100;if(.8<c&&c<1.2)c=1;else if(1.8<c)c=Math.round(c);
var z=new h1(w.E.U,!0);z.f=m.bx;z.data={d:"zoom",O:c};this.c(z)};ec.prototype.AX=function(K){var o=this.$S;
if(o==null)return;this.SG=!0;I.TG(window,this.a2a);I.HX(window,this.alK)};ec.prototype.VT=function(K){var o=I._9(K,this.V),Y=this.$S,c=this.V.width,z=this.V.height,f=(o.x*I.GR()-c/2)/c,$=(o.y*I.GR()-z/2)/z,E=I.GR()*Y.Q.O,b=Math.round(-Y.Q.O*Y.m*f),q=Math.round(-Y.Q.O*Y.e*$);
m.FL.Ne(Y,b,q)};ec.prototype.MH=function(K){I.oH(window,this.a2a);I.O1(window,this.alK);this.SG=!1};
ec.prototype.ic=function(K){if(K==null&&this.$S!=null)this.V.width=100;this.$S=K;this.nF()};ec.prototype.a2H=function(){var K=this.$S,o=I.GR(),Y=m.w8.x9(K.m,K.e,o*(this.Fv-10),o*(this.jd-36)),c=d.PC(K.Gl(),new hD(0,0,K.m,K.e),Y);
this.vs=[c.y3,c.rect]};ec.prototype.nF=function(){var K=this.$S;if(K==null||K.Q.O==0)return;var o=K.Q;
if(!I.qO(this.NA))return;this.N4.T(o.O*100);if(!this.SG)this.a2H();var Y=this.vs[0],c=this.vs[1],z=c.m,f=c.e,$=this.V;
$.width=z;$.height=f;I.vf($,z,f);var E=this.NA;E.style.width=this.V.style.width+12+"px";var b=$.getContext("2d"),q=b.createImageData(z,f);
d.kO(Y,q.data);b.putImageData(q,0,0);b.getImageData(0,0,1,1);var O=o.k6,j=o.oh(O.x,O.y),A=o.oh(O.x+O.m,O.y+O.e),R=z/K.m;
b.scale(R,R);b.lineWidth=4/R;b.strokeStyle="#ff0000";b.strokeRect(j.x,j.y,A.x-j.x,A.y-j.y)};ec.prototype.fL=function(K,o){};
ec.prototype.Lv=function(){this.nF()};function ie(K,o){fW.call(this,K.name,!1,K.icon,o);this.ac1=K}ie.prototype=new fW("");
ie.prototype.ro=function(){var K=this.NA,o=this.ac1;if(!I.qO(K)||this.Mi)return;var Y=this.Mi=I._("iframe");
Y.setAttribute("src",o.url);this.NA.appendChild(Y)};ie.prototype.Lv=ie.prototype.ic=function(){this.ro()};
ie.prototype.qn=function(K){if(I.qO(this.Mi))this.Mi.contentWindow.postMessage(K,"*")};ie.prototype.Fx=function(K,o){if(this.Mi==null)return;
this.Mi.setAttribute("style","width:"+K+"px; height:"+o+"px")};function gM(){fW.call(this,[9,12],!1,"---panels/tpreset",fW.CL.Us);
this.Bk=null;this._x=new gT(m.ra);this._x.parent=this;var K=I._("div","padded");K.setAttribute("style","width:20em");
this.NA.appendChild(K);K.appendChild(this._x.q1)}gM.prototype=new fW("");gM.prototype.Lv=function(){this._x.nn(this.Bk.iG)};
gM.prototype.fL=function(K,o){this.Bk=K;if(o==bB.tk||o==bB.Us)this._x.nn(K.iG)};gM.prototype.Fx=function(K,o){this._x.azy(this.Bk.i5)};
gM.prototype.t=function(){fW.prototype.t.call(this);this._x.t()};var da=function(){var K=[],o=null,Y=null,c=null,z=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function f(){fW.call(this,"Memory",!1,null,fW.CL.an5);var A=I._("div","padded");this.NA.appendChild(A);
Y=new eg(["<< VAR0",[0,13,2]],!1,null,!0);Y.addEventListener("click",function(R){K.pop();E()});A.appendChild(Y.n);
o=I._("div","scrollable");o.setAttribute("style","width:20em;  height:26em; margin-top:8px;");A.appendChild(o)}f.prototype=new fW("");
f.prototype.ic=function(A,R,g){c=R;this.Lv()};f.prototype.Lv=function(){Y.W6(!1);if(!I.qO(o))return;
var A={S4:"Total:",Lb:[]};for(var y=0;y<c.length;y++)A.Lb.push(q(c[y]));j(A);K=[A];E()};f.prototype.t=function(){fW.prototype.t.call(this);
Y.t()};function $(A){var R=A.currentTarget,y=0;while((R=R.previousSibling)!=null)y++;K.push(K[K.length-1].Lb[y-1]);
E()}function E(){Y.W6(K.length>1);var A=K[K.length-1];I.oA(o);b(A,o,0);A.Lb.sort(function(R,g){return g.lp[0]-R.lp[0]});
for(var y=0;y<A.Lb.length;y++)b(A.Lb[y],o,1)}function b(A,R,g){var H=gO.Es,i=g!=0&&A.Lb,h="margin-left:"+g*10+"px; margin-bottom:8px; padding:3px 5px;";
if(i)h+="cursor:pointer;";if(A.tM!=null)h+="background-color:rgba("+z[A.tM].join(",")+",0.2);";var x=I._("div");
R.appendChild(x);x.setAttribute("style",h);x.innerHTML=I.P9(A.S4)+"<br />"+"RAM: <b>"+H(A.lp[0])+"</b>\u2001GPU: <b>"+H(A.lp[1])+"</b>";
if(i)x.addEventListener("click",$,!1)}function q(A){var R={S4:A.name,Lb:[],tM:0},g=jK.YT?1:0,H=1-g,i={S4:"History",Lb:[],tM:5};
R.Lb.push(i);for(var y=1;y<A.history.length;y++){var h=A.history[y];i.Lb.push({S4:ca.get(h.name),tM:5,lp:[h.gI(),0]})}j(i);
var i={S4:"Final Image",lp:[A.m*A.e*4,g*A.m*A.e*4],tM:2};R.Lb.push(i);for(var y=0;y<A.B.length;y++){var x=O(A.B[y]);
if(x.Lb.length!=0)R.Lb.push(x)}var F=A.add.lnk2;if(F)for(var y=0;y<F.length;y++){var x=F[y],X={S4:x.oF,Lb:[],tM:4},V=0;
X.Lb.push({S4:"Raw file",lp:[x.raw.length,0]});if(x.W3)for(var U=0;U<x.W3.length;U+=2)V+=x.W3[U].length;
if(V!=0)X.Lb.push({S4:"Decoded pixels",lp:[V,0]});j(X);R.Lb.push(X)}j(R);return R}function O(A){var R={S4:A.getName(),Lb:[],tM:1},g=jK.YT?1:0,H=1-g,i=A.rect.Z();
if(i!=0)R.Lb.push({S4:"Layer pixels",lp:[i*4,g*i*4]});if(A.add.lmfx&&A.DM.ck.type){var h=A.DM.ck.type,V=0;
for(var x in h){var F=0;for(var X=0;X<h[x].length;X++)if(x=="ebbl"){if(h[x][X].p8)F+=h[x][X].p8.z2.Z();
if(h[x][X].uW)F+=h[x][X].uW.z2.Z();if(h[x][X].RR)F+=h[x][X].RR.z2.Z();if(h[x][X].iP)F+=h[x][X].iP.z2.Z()}else F+=h[x][X].z2.Z();
if(F!=0)R.Lb.push({S4:ca.get(eF.names[eF.order.indexOf(x)]),lp:[H*F*4,g*F*4],tM:3})}if(A.DM.R_)V+=i;
if(A.DM.C3)V+=i;if(A.DM.nj)V+=i;if(A.DM.nj)V+=i;if(A.DM.tJ)V+=i;if(A.DM.sl)V+=i;var U=A.DM.dx?A.DM.dx.length:0;
if(V+U!=0)R.Lb.push({S4:"Additional Blending Data",lp:[H*V*4+U,g*V*4]})}var Z=A.ue(),T=Z?Z.rect.Z():0;
if(T!=0){R.Lb.push({S4:"Raster Mask",lp:[T,0]})}var Z=A.add.vmsk,T=Z&&Z.DJ?Z.DJ.rect.Z():0;if(T!=0){R.Lb.push({S4:"Vector Mask",lp:[T,0]})}j(R);
return R}function j(A){A.lp=[0,0];for(var y=0;y<A.Lb.length;y++){A.lp[0]+=A.Lb[y].lp[0];A.lp[1]+=A.Lb[y].lp[1]}}return f}();
function gg(){fW.call(this,[9,14],!1,"---panels/notes",fW.CL.atA);this.NA.setAttribute("style","min-width:240px;");
var K=I._("div","padded");this.NA.appendChild(K);this.mZ=new cI("Author");K.appendChild(this.mZ.n);this.q8=I._("textarea");
I._R(this.q8);K.appendChild(this.q8);var o=new eg("<<",null,null,!0);K.appendChild(o.n);this.ail=o;var Y=new eg(">>",null,null,!0);
K.appendChild(Y.n);o.k("click",this.IG,this);Y.k("click",this.IG,this);var c=this.abb=new gJ("");K.appendChild(c.n)}gg.prototype=new fW("");
gg.prototype.IG=function(K){var o=K.target==this.ail?-1:1,Y=this.$S,c=Y.add.Anno;if(c==null)return;var z=c.length,f=Y.Q.ay;
Y.Q.ay=(f+o+z)%z;Y.Pb=!0;this.nF()};gg.prototype.nF=function(){var K=this.$S;if(K==null)return;var o=K.add.Anno;
if(o==null||o.length==0)return;var Y=K.Q.ay,c=o[Y];this.q8.value=c[4];this.abb.T(Y+1+" / "+o.length);
this.mZ.T(c[3])};gg.prototype.Fx=function(K,o){if(this.Fv==K)return;this.Fv=K;o=Math.min(o,200);this.q8.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(K-10)+"px; height:"+(o-66)+"px")};
gg.prototype.ic=function(K,o,Y){this.$S=K;this.nF()};function aC(){cv.call(this);this.f=0;this.hF=null;
this.n=I._("div","toolconf");this._x=null;this.cO=null;this.body=new I._("div","body")}aC.prototype=new cv;
aC.prototype.ad8=function(K,o){this.f=K;this.hF=o;if(m.nS[K]){var Y=this._x=new gT(K);this.n.appendChild(Y.n);
Y.parent=this}else{this.cO=I._("div");this.n.appendChild(this.cO)}this.n.appendChild(this.body);this.t()};
aC.prototype.a0N=function(K,o){};aC.prototype.ax9=function(K){};aC.prototype.fL=function(K,o){if(o==bB.tk||o==bB.Us)if(this._x)this._x.nn(K.iG)};
aC.prototype.Tl=function(K){};aC.prototype.t=function(){if(this._x)this._x.t();else this.cO.innerHTML=I.pA(this.hF,null,"toolicon");
this.Ra()};aC.prototype.Ra=function(){};function i9(){aC.call(this);this.gt=new gU;this.gt.k(w.E.p,this.co,this);
this.body.appendChild(this.gt.n)}i9.prototype=new aC;i9.prototype.Ra=function(){this.gt.t()};i9.prototype.co=function(K){var o=new h1(w.E.L,!0);
o.data={d:w.I.h$,f:this.f,VS:this.gt.ajy()};this.c(o)};i9.prototype.Tl=function(K){this.gt.ag9(K.kM)};
function eX(K){aC.call(this);if(K==null)return;this.Bk=null;this.Mq={};if(K.indexOf("brush")!=-1&&K.indexOf("prsr")==-1)K.push("prsr");
for(var y=0;y<K.length;y++){var o=K[y],Y=null;if(o=="brush"){Y=new gk}if(o=="bmode"){Y=new bY([12,19,0],jw.Y9,jw.AJ)}if(o=="bmode0"){Y=new bY([12,19,0],jw.Y9.slice(23))}if(o=="emode"){Y=new bY([12,36],[[9,3],[10,38]])}if(o=="opacity"){Y=new h5([12,0],0,100,"%");
Y.T(100)}if(o=="flow"){Y=new h5([12,63],0,100,"%");Y.T(100)}if(o=="smth"){Y=new h5([19,3,0],0,100,"%");
Y.T(0)}if(o=="samp"){Y=new bY([12,36],[[12,25,4],[12,25,5],[12,46]])}if(o=="wconf"){Y=new id;Y.T([40,!0,!0])}if(o=="sall"){Y=new bb([12,25,2])}if(o=="strn"){Y=new h5([12,64],1,100,"%");
Y.T(50)}if(o=="smode"){Y=new bY([12,36],[[19,7,0],[19,7,1]]);Y.T(1)}if(o=="pdetail"){Y=new bb([12,65]);
Y.Fo()}if(o=="rng"){Y=new bY([12,12],[[19,6,0],[19,6,1],[19,6,2]]);Y.T(1)}if(o=="expo"){Y=new h5([12,5],0,100,"%");
Y.T(50)}if(o=="algnd"){Y=new bb([12,75]);Y.T(!1)}if(o=="sfrom"){Y=new bY([12,70],[[17,1],[17,3],[17,0]])}if(o=="alt"){Y=new i1(null,["Alt"],!0,["Select Source"])}if(o=="qsmode"){Y=new hQ([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(o=="redge"){Y=new eg([7,11],!1,null,!0)}if(o=="sesu"){Y=new eg("Select Subject",!1,null,!0)}if(o=="setop"){Y=new he}if(o=="patch"){Y=new hQ(null,[[12,70],[12,71]])}if(o=="prsr"){Y=this.Mq.brush._P}this.body.appendChild(Y.n);
if(o=="prsr")continue;Y.parent=this;this.Mq[o]=Y;if(o=="brush")Y.k(w.E.p,this.ajo,this);else if(o=="redge"||o=="sesu")Y.k("click",cP.aha,this);
else Y.k(w.E.p,this.SE,this)}}eX.prototype=new aC;eX.prototype.a0N=function(K,o){K=K[1];var Y=this.Mq;
if(K.Md)Y.bmode.T(jw.$R.indexOf(K.Md.v.BlnM));if(K.Opct)Y.opacity.T(K.Opct.v);if(K.flow)Y.flow.T(K.flow.v);
if(K.Brsh)Y.brush.T(K,o.OD.IC,o.OD.$H);if(K.FrgC){var c=d.H.CK(K.FrgC.v),z=new h1(w.E.L,!0);z.data={d:w.I.Ak,VS:bB.R8,f4:0,b:c.o<<16|c.A<<8|c.J};
this.c(z)}this.ajo();this.SE()};eX.prototype.ax9=function(){if(m.nS[this.f]==null)return null;var K=this.Mq,o;
for(var Y in m.Ru)if(m.Ru[Y]==this.f)o=Y;var c=JSON.parse(JSON.stringify(K.brush.h()));c.classID=o;if(K.bmode)c.Md={t:"enum",v:{BlnM:jw.$R[K.bmode.h()]}};
if(K.opacity)c.Opct={t:"long",v:K.opacity.h()};if(K.flow)c.flow={t:"long",v:K.flow.h()};var z=this.Bk.qm;
z={o:z>>>16,A:z>>>8&255,J:z&255};c.FrgC={t:"Objc",v:d.H.eD(z)};return["Brush Preset "+c.Brsh.v.Dmtr.v.val,c]};
eX.prototype.Ra=function(){for(var K in this.Mq)this.Mq[K].t()};eX.prototype.Tl=function(K){if(K.a4I=="showBrushOpts"){this.Mq.brush.aCm(K.Yj.x,K.Yj.y)}for(var o in K.Pn){var Y=K.Pn[o];
if(o!="qsmode")Y*=100;if(this.Mq[o])this.Mq[o].T(Y)}};eX.prototype.fL=function(K,o){aC.prototype.fL.call(this,K,o);
this.Bk=K;var Y=this.Mq.brush;if(Y==null)return;if(o==bB.tk||o==bB.ra)Y.nn(K.OD);if(o==bB.NJ){Y.T(K.OD.U0,K.OD.IC,K.OD.$H)}};
eX.prototype.ajo=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.Ak,VS:bB.NJ,vg:this.Mq.brush.h()};this.c(K)};
eX.prototype.SE=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.h$,f:this.f};for(var o in this.Mq){if(o=="brush"||o=="redge")continue;
var Y=this.Mq[o].h();if(["opacity","flow","smth","strn","expo"].indexOf(o)!=-1)K.data[o]=Y/100;else if(o=="bmode")K.data.bmode=jw.iu[Y];
else if(o=="bmode0")K.data.bmode=jw.iu[23+Y];else K.data[o]=Y}this.c(K)};function cP(K,o){aC.call(this);
if(K)return;this.Mq={};for(var y=0;y<o.length;y++){var Y=o[y],c=null;if(Y=="binop")c=new he;if(Y=="feat"){c=new h5([7,6],0,100,"px");
c.T(0)}if(Y=="redge")c=new eg([7,11],!1,null,!0);if(Y=="sesu")c=new eg("Select Subject",!1,null,!0);
if(Y=="wconf")c=new id;if(Y=="cstr")c=new br;if(Y=="anta"){c=new bb([12,25,1]);c.T(!0)}if(Y=="sall")c=new bb([12,25,2]);
if(Y=="redge"||Y=="sesu")c.k("click",cP.aha,this);else c.k(w.E.p,this.SE,this);c.parent=this;this.body.appendChild(c.n);
this.Mq[Y]=c}}cP.prototype=new aC;cP.prototype.Tl=function(K){if(K.PD!=null)this.Mq.binop.T(K.PD);else if(K.Bp){for(var o in K.Bp)if(this.Mq[o])this.Mq[o].T(K.Bp[o])}else{var Y=cP.gO;
if(Y==null){var c=bK.a7Q(!0);Y=cP.gO=new gq(c.items,c.D7)}Y.t();Y.parent=this;Y.update(K.Xe,K.KO);var z=new h1(w.E.L,!0);
z.data={d:w.I.FY,A_:Y,x:K.p4.w$+2,y:K.p4.dn+1};this.c(z)}};cP.prototype.Ra=function(){for(var K in this.Mq)this.Mq[K].t()};
cP.aha=function(K){var o=K.target==this.Mq.sesu,Y=new h1(o?w.E.U:w.E.L,!0);if(o){Y.f=m.at;Y.data={d:"bgrm",b:2}}else Y.data={d:w.I.Gg,XQ:"redge"};
this.c(Y)};cP.prototype.SE=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.h$,f:this.f,Bp:{}};for(var o in this.Mq)K.data.Bp[o]=this.Mq[o].h();
this.c(K)};function cS(){eX.call(this,["brush","strn"])}cS.prototype=new eX;function hk(){eX.call(this,"brush bmode opacity flow smth prsr".split(" "))}hk.prototype=new eX;
function ir(){eX.call(this,["brush","bmode0","samp","wconf"])}ir.prototype=new eX;function jR(){eX.call(this,["brush"])}jR.prototype=new eX;
function dQ(){eX.call(this,["brush","bmode","opacity","smth","prsr"])}dQ.prototype=new eX;function eD(){eX.call(this,["brush","rng","expo"])}eD.prototype=new eX;
function dK(){eX.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}dK.prototype=new eX;function bL(K){aC.call(this);
if(K==null)return;this.VO=[];this.$c=new eg("\u2026",!1,null,!0);if(!K)this.body.appendChild(this.$c.n);
this.$c.k("click",this.Vs,this);this.xA=new cv;this.xA.parent=this;var o=this.xA.n=I._("div","floatcont form"),Y=[[17,0],[17,1],[11,12,0],[17,2]];
for(var y=0;y<Y.length;y++){var c=new eg(Y[y],!1,null,!0);this.VO.push(c);c.k("click",this.acb,this);
if(!K||y==1)o.appendChild(c.n)}this.qJ=new br;this.qJ.k(w.E.p,this.dZ,this);if(!K)this.body.appendChild(this.qJ.n);
this.PO=new eg([15,7,6],!1,null,!0);this.PO.k("click",this.acb,this);if(!K)this.body.appendChild(this.PO.n);
this.iH=new bb([15,7,10]);this.iH.k(w.E.p,this.dZ,this);if(!K)this.body.appendChild(this.iH.n);this.Hw=new bb("Content-Aware");
this.Hw.k(w.E.p,this.dZ,this);if(!K)this.body.appendChild(this.Hw.n);this.TR=new aa;this.TR.k("click",this.hc,this)}bL.prototype=new aC;
bL.prototype.Vs=function(K){if(I.qO(this.xA.n))return;var o=this.$c.n.getBoundingClientRect(),Y=new h1(w.E.L,!0);
Y.data={d:w.I.FY,A_:this.xA,x:o.left,y:o.top+o.height+4};this.c(Y)};bL.prototype.Ra=function(){this.TR.t();
for(var y=0;y<this.VO.length;y++)this.VO[y].t();this.qJ.t();this.iH.t();this.PO.t()};bL.prototype.Tl=function(K){if(K.RB){this.qJ.avY(K.RB[0],K.RB[1]);
return}var o=this.TR.n;if(K.n9)this.body.appendChild(o);else if(this.body.contains(o))this.body.removeChild(o);
if(K.qJ)this.qJ.T(K.qJ)};bL.prototype.hc=function(K){var o={d:w.I.h$,f:this.f,$z:this.TR.h()?"commit":"cancel"},Y=new h1(w.E.L,!0);
Y.data=o;this.c(Y)};bL.prototype.acb=function(K){K.target.n.blur();var o={d:w.I.h$,f:this.f,$z:"cropby",aC3:this.VO.indexOf(K.target)};
if(K.target==this.PO)o.$z="straighten";var Y=new h1(w.E.L,!0);Y.data={d:w.I.yQ,A_:this.xA};this.c(Y);
Y.data=o;this.c(Y)};bL.prototype.dZ=function(K){var o={d:w.I.h$,f:this.f,$z:"config",sK:{$d:this.qJ.h(),Am:this.iH.h(),tE:this.Hw.h()},ak5:K.target==this.qJ},Y=new h1(w.E.L,!0);
Y.data=o;this.c(Y)};function d$(){bL.call(this,!1)}d$.prototype=new bL;function fy(){bL.call(this,!0)}fy.prototype=new bL;
function hw(){eX.call(this,["brush","rng","expo"])}hw.prototype=new eX;function jL(){eX.call(this,"brush emode opacity flow smth prsr".split(" "))}jL.prototype=new eX;
function ev(){eX.call(this,["brush","samp","wconf"])}ev.prototype=new eX;function bc(){cP.call(this,!1,["binop","feat","anta","redge","cstr"])}bc.prototype=new cP(!0);
function dd(){aC.call(this);var K=this.Mq=[new bY([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new bY([12,70],[[17,1],[17,3],[17,0]]),new bb([12,20,1]),new bb([8,0])];
K[1].T(2);K[2].T(!0);for(var y=0;y<K.length;y++){var o=K[y];o.k(w.E.p,this.SE,this);this.body.appendChild(o.n)}}dd.prototype=new aC;
dd.prototype.SE=function(K){var o=this.Mq,Y=[];for(var y=0;y<o.length;y++)Y[y]=o[y].h();var c=new h1(w.E.L,!0);
c.data={d:w.I.h$,f:this.f,Bp:Y};this.c(c)};dd.prototype.Ra=function(){for(var y=0;y<this.Mq.length;y++)this.Mq[y].t()};
function e4(){aC.call(this);this.Jg=new cB(!1);this.Jg.parent=this;this.Jg.k(w.E.p,this.Jr,this);this.body.appendChild(this.Jg.n);
this.Jg.T(JSON.parse(eF.tG.arl).v);this.bQ=new bY(null,eF.H.names.slice(0,5));this.bQ.k(w.E.p,this.Jr,this);
this.body.appendChild(this.bQ.n);this.b9=new bY([12,19,0],jw.Y9,jw.AJ);this.b9.k(w.E.p,this.Jr,this);
this.body.appendChild(this.b9.n);this.wg=new h5([12,0],0,100,"%");this.wg.parent=this;this.wg.k(w.E.p,this.Jr,this);
this.body.appendChild(this.wg.n);this.wg.T(100);this.pD=new bb([12,23,0]);this.pD.k(w.E.p,this.Jr,this);
this.body.appendChild(this.pD.n);this.FH=new bb([12,23,3]);this.FH.k(w.E.p,this.Jr,this);this.body.appendChild(this.FH.n)}e4.prototype=new aC;
e4.prototype.Ra=function(){this.bQ.t();this.b9.t();this.wg.t();this.pD.t();this.FH.t()};e4.prototype.fL=function(K,o){aC.prototype.fL.call(this,K,o);
var Y=o==bB.R8;this.Jg.xN(K.qm,K.YQ);if(Y||o==bB.ne||o==bB.tk)this.Jg.nn(K.aq)};e4.prototype.Jr=function(){var K=new h1(w.E.L,!0);
K.data={d:w.I.h$,f:this.f};K.data.VS={H:this.Jg.h(),Ww:eF.H.types[this.bQ.h()],Qn:this.pD.mR(),FW:this.FH.mR(),aCM:jw.iu[this.b9.h()],al:this.wg.h()/100};
this.c(K)};function eN(){aC.call(this);this.yA=new bb([8,7,1]);this.body.appendChild(this.yA.n);this.yA.k(w.E.p,this.SE,this)}eN.prototype=new aC;
eN.prototype.SE=function(){var K={d:w.I.h$,f:this.f,bV:this.yA.h()},o=new h1(w.E.L,!0);o.data=K;this.c(o)};
function bx(){aC.call(this);var K=I._("span","fitem");this.body.appendChild(K);this.Mg=[new h5([12,15],-180,180,"\xB0"),new eg([1,12,2],null,null,!0)];
for(var y=0;y<this.Mg.length;y++){var o=this.Mg[y];o.parent=this;K.appendChild(o.n);o.k(y==1?"click":w.E.p,this.Ep,this)}}bx.prototype=new aC;
bx.prototype.Ra=function(){for(var y=0;y<this.Mg.length;y++)this.Mg[y].t()};bx.prototype.Tl=function(K){this.Mg[0].T(K.Wt*180/Math.PI)};
bx.prototype.Ep=function(K){var o=this.Mg.indexOf(K.target),Y=new h1(w.E.L,!0);Y.data={d:w.I.h$,f:this.f,Wt:o==1?0:K.target.h()*Math.PI/180};
this.c(Y)};function jV(){eX.call(this,["brush","algnd","sfrom","alt"])}jV.prototype=new eX;function dz(){aC.call(this);
this.fw=new gi;this.fw.parent=this;this.body.appendChild(this.fw.qC.n);this.body.appendChild(this.fw.cJ.n);
this.body.appendChild(this.fw.YE.n);this.body.appendChild(this.fw.Ma.n);var K=I._("span","fitem");this.body.appendChild(K);
K.appendChild(this.fw.C9.n);K.appendChild(this.fw.Bi.n);K.appendChild(this.fw.Db.n);this.fV=new bY("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.fV.k(w.E.p,this.hc,this);this.body.appendChild(this.fV.n);this.u8=new eg([11,9],!1,null,!0);this.u8.k("click",this.a4c,this);
this.body.appendChild(this.u8.n);this.TR=new aa;this.TR.k("click",this.hc,this)}dz.prototype=new aC;
dz.prototype.Ra=function(){this.TR.t();this.fw.t();this.u8.t()};dz.prototype.a4c=function(K){var o={d:w.I.h$,f:this.f,$z:"showwarp"},Y=new h1(w.E.L,!0);
Y.data=o;this.c(Y)};dz.prototype.Tl=function(K){if(K.$z=="showactive")this.body.appendChild(this.TR.n);
if(K.$z=="hideactive")this.body.removeChild(this.TR.n);if(K.$z=="changeAA")this.fV.T(K.Wx);if(K.$z=="showpan"){var o=[{name:[0,1],M_:!0}],Y=[{K:w.E.U,f:m.oB,C:{d:"editCurr",JZ:K.JZ}}],c=K.p4;
if(K.a8a){o=[{name:["VAR0: VAR1",[0,5],[7,0]],M_:!0}];Y=[{K:w.E.hP,C:m.PP.hE(!0)}];var z=bK.ayT();o=o.concat(z[0]);
Y=Y.concat(z[1])}o.push({name:[11,9]});Y.push({K:w.E.L,C:{d:w.I.h$,f:this.f,$z:"showwarp"}});var f=new gq(o,Y);
f.parent=this;f.t();f.update(K.Xe,K.KO);var $=new h1(w.E.L,!0);$.data={d:w.I.FY,A_:f,x:c.w$+2,y:c.dn+1};
this.c($)}};dz.prototype.fL=function(K,o){aC.prototype.fL.call(this,K,o);if(o!=bB.tk&&o!=bB.tV&&o!=bB.Kx&&o!=bB.OT)return;
this.fw.T(K.KP,K.zl,K.vA)};dz.prototype.hc=function(K){var o={d:w.I.h$,f:this.f,$z:this.TR.h()?"commit":"cancel"};
if(K.target==this.fV){o.$z="changeAA";o.Wx=this.fV.h()}var Y=new h1(w.E.L,!0);Y.data=o;this.c(Y)};function j_(){cP.call(this,!1,["binop","feat","anta","redge"])}j_.prototype=new cP(!0);
function hs(){aC.call(this);var K=[],Y="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.pY=new bb([12,85]);this.pY.T(!0);this.pY.k(w.E.p,this.SE,this);K.push(this.pY.n);this.wJ=new bY(null,[[0,4],[0,3]]);
this.wJ.k(w.E.p,this.SE,this);this.wJ.T(1);K.push(this.wJ.n);this.m_=new bb([20,1]);this.m_.k(w.E.p,this.SE,this);
K.push(this.m_.n);this.N6=new bb([12,83]);this.N6.k(w.E.p,this.SE,this);K.push(this.N6.n);this.xA=new cv;
this.xA.n=I._("div","floatcont form");this.xA.n.setAttribute("style","max-width: 200px;");this.xA.parent=this;
var o=this.xA.n;this.avu=new bY("Scale for exported files",["1x","2x","3x","4x"]);o.appendChild(this.avu.n);
this.Xl=new eg(Y+" PNG",!1,"Save selected layers as PNG",!0);o.appendChild(this.Xl.n);this.Xl.k("click",this.U$,this);
this.ai$=new eg(Y+" SVG",!1,"Save selected layers as SVG",!0);o.appendChild(this.ai$.n);this.ai$.k("click",this.U$,this);
var c=new eg(Y,!1,"Save selected layers",!0);K.push(c.n);c.k("click",function(b){if(I.qO(this.xA.n))return;
var q=c.n.getBoundingClientRect(),O=new h1(w.E.L,!0);O.data={d:w.I.FY,A_:this.xA,x:q.left,y:q.top+q.height,n2:!0};
this.c(O)},this);var z=I._("span","fitem");K.push(z);var f=I._("span","fitem");K.push(f);this.ZG=[];
for(var y=0;y<8;y++){var $=y==3||y==7?[20,4,6]:[20,4,y<3?y:y-1],E=new eg("Hi",!1,$);(y<4?z:f).appendChild(E.n);
E.k("click",this.U$,this);this.ZG.push(E)}for(var y=0;y<K.length;y++)this.body.appendChild(K[y]);this.ay2=K}hs.prototype=new aC;
hs.prototype.Tl=function(K){var o=K.kM,Y=K.asL;this.pY.T(o.Bq);this.m_.T(o.t8);this.N6.T(o.s8);if(Y){I.oA(this.body);
for(var y=0;y<Y.length;y++)if(Y[y]==1&&this.ay2[y])this.body.appendChild(this.ay2[y])}};hs.prototype.U$=function(K){var o=this.ZG.indexOf(K.target),Y;
if(o==-1){Y=new h1(w.E.L,!0);Y.data={d:w.I.h$,f:this.f,f4:K.target==this.Xl?"getPNG":"getSVG",MY:this.avu.h()+1}}else{Y=new h1(w.E.U,!0);
Y.f=m.Wh;Y.data={d:"algn",b:o}}this.c(Y)};hs.prototype.SE=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.h$,f:this.f,f4:"prms",Bq:this.pY.mR(),av6:this.wJ.h(),t8:this.m_.mR(),s8:this.N6.mR()};
this.c(o)};hs.prototype.Ra=function(){this.pY.t();this.wJ.t();this.m_.t();this.N6.t();var K="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var y=0;y<8;y++){this.ZG[y].Sk(I.pA("align/"+K[y],null,"autoscale"))}};function ix(){cP.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}ix.prototype=new cP(!0);
function e6(){eX.call(this,["setop","patch"])}e6.prototype=new eX;function aQ(){eX.call(this,["setop"])}aQ.prototype=new eX;
function bO(K){var o=K==m.a7R?[]:["bmode"];eX.call(this,o.concat(["opacity","wconf","sall"]))}bO.prototype=new eX;
function kq(){cP.call(this,!1,["binop","feat","anta","redge"])}kq.prototype=new cP(!0);function cg(){cP.call(this,!1,["binop","feat","anta","redge"])}cg.prototype=new cP(!0);
function ek(){cP.call(this,!1,["binop","feat","redge","cstr"])}ek.prototype=new cP(!0);function jA(){aC.call(this);
this.Bk=null;this._Z=null;this.WW=[new cI("X",null,3.2,null,!0),new cI("Y",null,3.2,null,!0),new cI("W",null,3.2,null,!0),new cI("H",null,3.2,null,!0),new cI([12,15],"\xB0",3.7,null,!0),new cI(["VAR0 1",[12,80,0]],null,3.5,null,!0),new cI(["VAR0 2",[12,80,0]],null,3.5,null,!0),new eg([15,7,6],!1,null,!0),new eg([2,2],!1,null,!0)];
for(var y=0;y<this.WW.length;y++){var K=this.WW[y];this.body.appendChild(K.n);if(y>6)K.k("click",this.JW,this)}this.Q9=0}jA.prototype=new aC;
jA.prototype.JW=function(K){var o=this.WW.indexOf(K.target)==7,Y=new h1(w.E.U,!0);if(o){if(this.Q9==0)return;
Y.f=m._6;Y.data={d:"rot",Mx:[2,5],b:-this.Q9}}else{Y.f=m.Yn;for(var y=0;y<6;y++)this.WW[y].T(null)}this.c(Y)};
jA.prototype.Tl=function(K){function o(E,b,q){var O=Math.sqrt(Math.pow(b.x-E.x,2)+Math.pow(b.y-E.y,2)),j=Math.sqrt(Math.pow(b.x-q.x,2)+Math.pow(b.y-q.y,2)),A=Math.sqrt(Math.pow(q.x-E.x,2)+Math.pow(q.y-E.y,2));
return Math.acos((j*j+O*O-A*A)/(2*j*O))}if(K==null)return;this._Z=K;var Y=K.apq,c=K.UY,z=c.x-Y.x,f=c.y-Y.y;
this.Q9=-Math.atan2(f,z);if(K.GL)this.Q9=o(c,Y,K.GL);var $=this.WW;$[0].T(this.XB(K,Y.x));$[1].T(this.XB(K,Y.y));
$[2].T(this.XB(K,z));$[3].T(this.XB(K,f));$[4].T((this.Q9*180/Math.PI).toFixed(2));$[5].T(this.XB(K,jc.si(Y,c)));
if(K.GL){$[6].T(this.XB(K,jc.si(Y,K.GL)))}else $[6].T("")};jA.prototype.XB=function(K,o){var Y=d.Rf.wk(o,K.aE,this.Bk,K.amv,!1);
return parseFloat(Y).toFixed(2)};jA.prototype.fL=function(K,o){this.Bk=K;this.Tl(this._Z)};jA.prototype.Ra=function(){var K=this.WW;
for(var y=0;y<K.length;y++)K[y].t();I.IJ(K[2],K[3])};function ga(){eX.call(this,["brush","strn","pdetail"])}ga.prototype=new eX;
function hL(){eX.call(this,["brush","sfrom"]);this.adX=[];var K=[[7,12]];for(var y=0;y<K.length;y++){var o=new eg(K[y],!1,null,!0);
this.adX.push(o);o.parent=this;this.body.appendChild(o.n);o.k("click",this.aeN,this)}}hL.prototype=new eX;
hL.prototype.aeN=function(K){var o=this.adX.indexOf(K.currentTarget),Y=new h1(w.E.hP,!0);Y.data=m.oC.Sz("contentAware");
this.c(Y)};function iN(){eX.call(this,["brush","strn"])}iN.prototype=new eX;function jW(){eX.call(this,["brush","flow","smode"])}jW.prototype=new eX;
function gj(){aC.call(this);this.oD=!1;var K=I._("span","fitem");this.body.appendChild(K);this.hC=new hQ(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
K.appendChild(this.hC.n);this.hC.k(w.E.p,this.SE,this);this.mo=new eg([20,2]);this.body.appendChild(this.mo.n);
this.mo.k("click",this.a2x,this);this.ZV=new eg([20,3]);this.body.appendChild(this.ZV.n);this.ZV.k("click",this.a2x,this);
this.yA=new bb([8,7,1]);this.body.appendChild(this.yA.n);this.yA.k(w.E.p,this.SE,this)}gj.prototype=new aC;
gj.prototype.Ra=function(){this.mo.t();this.ZV.t()};gj.prototype.SE=function(){var K={d:w.I.h$,f:this.f,ik:this.hC.h()==0,bV:this.yA.h()},o=new h1(w.E.L,!0);
o.data=K;this.c(o)};gj.prototype.Tl=function(K){if(this.oD!=K.oD)this.hC.T(1-this.hC.h());this.oD=K.oD};
gj.prototype.a2x=function(K){var o=new h1(w.E.U,!0);o.f=m.bx;o.data={d:"adapt",b:K.target==this.mo?"pixel":"fitscr"};
this.c(o)};function kC(K,o){aC.call(this);if(K==null)return;this.u6=K;this.zB={};this.amb=o;for(var y=0;
y<K.length;y++){var Y=K[y],c=null;if(Y=="tmode"){c=new bY(null,[[12,76,1],[12,76,0],[12,76,2]]);c.T(0);
if(o)c.a8i(2)}if(Y=="make"){c=new hQ("Make",[[17,2],[12,76,1]],null,!0)}if(Y=="anta"){c=new bb([12,25,1]);
c.T(!0)}if(Y=="binop"){c=new bY(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(Y=="pshape")c=new bY(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(Y=="shape")c=new bl([12,76,1]);if(Y=="crad"){c=new h5([12,94,0],0,50,"px");c.T(0)}if(Y=="cstr"){c=new br}if(Y=="irad"){c=new h5([12,94,1],0,100,"%");
c.T(40)}if(Y=="length"){c=new h5([12,80,0],4,40);c.T(4)}if(Y=="sides"){c=new h5([12,78],3,30);c.T(5)}if(Y=="width"){c=new h5([12,41],1,100,"px");
c.T(5)}if(Y=="tolr"){c=new h5([12,24],0,100);c.T(5)}if(Y=="fstyle"){c=new bf([12,26])}if(Y=="sstyle"){c=new aT}if(Y=="psnap"){c=new bb([8,10])}if(Y=="crnr"){c=new eg("\u2312",!1,[12,94,0],!0)}if(Y=="aopts"){c=new kt;
c.T([!1,!1,50,60,0])}if(Y=="smplp"){c=new eg([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}c.parent=this;
this.body.appendChild(c.n);this.zB[Y]=c;c.k(Y=="crnr"||Y=="smplp"?"click":w.E.p,this.SE,this)}}kC.prototype=new aC;
kC.prototype.Tl=function(K){if(K.PD!=null)this.zB.binop.T(K.PD);else if(K.f4=="vals")for(var o in K.air)this.zB[o].T(K.air[o]);
else{var Y=kC.gO;if(Y==null)Y=kC.gO=new gq([{name:"Remove Anchor Point",u:function(z){var f=z?z.dK():null;
return{u:z&&f[1].length!=0&&f[0][f[1][0]].add.vmsk.gy.length!=0}}},{name:"Remove Path",u:function(z){var f=z?z.dK():null;
return{u:z&&f[1].length!=0&&f[0][f[1][0]].add.vmsk.Y.length!=0}},M_:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{K:w.E.U,f:m._D,C:{d:"remove",od:!0}},{K:w.E.U,f:m.h_,C:{d:"remove"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"makesel"}},{K:w.E.hP,C:m.xY.fB(null)},{K:w.E.hP,C:m.xY.fB("PbTl")}]);
Y.parent=this;Y.update(K.Xe,K.KO);var c=new h1(w.E.L,!0);c.data={d:w.I.FY,A_:Y,x:K.p4.w$+2,y:K.p4.dn+1};
this.c(c)}};kC.prototype.a8X=function(y){return null};kC.prototype.Ra=function(){for(var K in this.zB){this.zB[K].t()}};
kC.prototype.SE=function(K){var o=new h1(w.E.L,!0),Y=this.zB;if(K.target==Y.crnr){o=new h1(w.E.U,!0);
o.f=m._D;o.data={d:"crnr"}}else if(K.target==Y.smplp){o=new h1(w.E.U,!0);o.f=m.h_;o.data={d:"smplp"}}else if(K.target==Y.make){var y=K.target.h();
console.log(y);if(y==0)o.data={d:w.I.Gg,XQ:"makesel"};else{o=new h1(w.E.U,!0);o.f=m.uO;o.data={d:"newfill",tM:0}}}else if(K.target==Y.fstyle){o.data={d:w.I.Ak,VS:bB.Vo,b:Y.fstyle.h()}}else if(K.target==Y.sstyle){o.data={d:w.I.Ak,VS:bB.Xq,b:Y.sstyle.h()}}else if(K.target==Y.tmode){o.data={d:w.I.Ak,VS:bB.uN,b:Y.tmode.h()}}else{if(Y.pshape)this.ST();
o.data={d:w.I.h$,f:this.f};for(var c in Y)o.data[c]=Y[c].h()}this.c(o)};kC.prototype.ST=function(){var K=this.zB,o=K.tmode.h(),Y=K.pshape?this.a8X(K.pshape.h()):this.u6,c;
if(o==0)c=["anta","make"];if(o==1)c=["anta","fstyle","sstyle"];if(o==2)c=["make","binop","fstyle","sstyle"];
var z=K.binop;if(z){var f=z.h();if(o==0){z.amp(0)}else{z.a8i(0);if(f==0){z.T(1);this.SE({target:z})}}}I.oA(this.body);
for(var y=0;y<Y.length;y++){var $=Y[y];if(c.indexOf($)!=-1)continue;this.body.appendChild(K[$].n)}};
kC.prototype.fL=function(K,o){aC.prototype.fL.call(this,K,o);var Y=this.zB.fstyle,c=this.zB.sstyle,z=this.zB.tmode;
if(Y)Y.fL(K,o);if(c)c.fL(K,o);if(o==bB.tk||o==bB.mI)if(K.qr.length!=0&&this.zB.shape){this.zB.shape.nn(K.qr)}if(o==bB.tk||o==bB.Vo)if(Y)Y.T(null,K._w,K.Vk);
if(o==bB.tk||o==bB.Xq)if(c)c.T(null,K.Nk,K.T8);if(o==bB.tk||o==bB.uN){var f=K.M5;if(this.amb&&f==2)f=0;
if(z){z.T(f);this.ST()}}};function hm(){kC.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}hm.prototype=new kC;
function ex(){kC.call(this,"tmode make anta fstyle sstyle binop".split(" "))}ex.prototype=new kC;function eU(){kC.call(this,["fstyle","sstyle","smplp"]);
this.awV=null;this.a6n=null;this.aAw=null;this.Hx=new bY([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.SG=new eg("\u25BC");this.SG.Fo();this.VH=new eg("\u25B2");this.VH.Fo();this.ga=[this.Hx,this.SG,this.VH];
for(var y=0;y<this.ga.length;y++){var K=this.ga[y];this.body.appendChild(K.n);K.parent=this;K.k(y==0?w.E.p:"click",this.Rq,this)}}eU.prototype=new kC;
eU.prototype.Tl=function(K){if(K.$z=="main"){var o=this.ga,Y=K.Ah;if(Y){this.a6n=Y.clone();this.aAw=JSON.stringify(K.SU);
var c=Y.Y.slice(0),z=c.length;for(var y=0;y<c.length;y++)c[y]++;c.sort(function(b,q){return b-q});o[0].L2();
o[1].W6(z!=0);o[2].W6(z!=0);o[0].Sk(z==0?"No Paths":z==1?"Path "+c[0]:"Paths "+c.slice(0,3).join(",")+(z>3?"..":""));
if(z!=0){var f=Y.Y[0],$=d.j.js(Y.$,f),E=Y.$[$];this.Hx.T([3,0,1,2][E.fa])}}else for(var y=0;y<o.length;
y++)o[y].b2()}else kC.prototype.Tl.call(this,K)};eU.prototype.Ra=function(){kC.prototype.Ra.call(this);
this.Hx.t()};eU.prototype.Rq=function(K){if(K.target==this.Hx||K.target==this.SG||K.target==this.VH){var o={},Y=this.a6n,c=Y.$,z=Y.Y,f=d.j.rD(c),$=JSON.parse(this.aAw);
z.sort(function(x,F){return x-F});if(K.target==this.Hx){var E=this.Hx.h();if(E<4)for(var y=0;y<z.length;
y++)c[d.j.js(c,z[y])].fa=[1,2,3,0][E];else{if(f<=1)return;Y.$=d.j.HE(c);Y.Y=Y.$.length==2?[]:[0];Y.gy=[];
$=[d.SU._L()]}}else{var b=K.target==this.SG?-1:1,q=[];for(var y=0;y<f;y++){var O=d.j.js(c,y),j=O+1+c[O].length;
q.push(c.slice(O,j))}var A=z.slice(0);for(var y=0;y<z.length;y++)A[y]=Math.max(y,Math.min(f-1-(z.length-1-y),A[y]+b));
if(z.join(",")==A.join(","))return;var R=JSON.parse(JSON.stringify($));for(var y=0;y<z.length;y++){var g=b==-1?y:z.length-1-y,O=z[g],j=A[g];
if(O!=j){var H=q[O];q[O]=q[j];q[j]=H;H=R[O];R[O]=R[j];R[j]=H}}var i=c.slice(0,2);for(var y=0;y<q.length;
y++)i=i.concat(q[y]);Y.$=i;Y.Y=A;$=R}o.Ah=Y;o.SU=$;var h=new h1(w.E.L,!0);h.data={d:w.I.h$,f:this.f,$G:o};
this.c(h)}};function dZ(){kC.call(this,["fstyle","sstyle","crnr","psnap"])}dZ.prototype=new kC;function er(){kC.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}er.prototype=new kC;
function e8(){kC.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}e8.prototype=new kC;
function bE(){kC.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.zB.aopts.T([!1,!0,50,60,0])}bE.prototype=new kC;bE.prototype.a8X=function(y){var K=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(K[y])};function jC(){kC.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}jC.prototype=new kC;
function cO(){kC.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}cO.prototype=new kC;
function h0(){cP.call(this,!1,["binop","feat","redge","sesu"])}h0.prototype=new cP(!0);function i7(){eX.call(this,["brush","qsmode","redge","sesu"])}i7.prototype=new eX;
function cN(){aC.call(this);this.Uh=[];for(var y=0;y<2;y++){var K=new eg(y==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.Uh.push(K);K.k("click",this.Rq,this);this.body.appendChild(K.n)}}cN.prototype=new aC;cN.prototype.Rq=function(K){var o;
if(this.Uh.indexOf(K.target)==0){o=new h1(w.E.hP,!0);o.data={Rk:"make",jU:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{o=new h1(w.E.L,!0);
o.data={d:w.I.Gg,XQ:"divslice"}}this.c(o)};cN.prototype.Ra=function(K){for(var y=0;y<this.Uh.length;
y++)this.Uh[y].t()};function fA(){aC.call(this);var K=this.yK=[new eg("\u25BC",null,null,!0),new eg("\u25B2",null,null,!0),new eg([5,4],null,null,!0),new eg(["VAR0...",[15,10,22]],null,null,!0)];
for(var y=0;y<4;y++){var o=K[y];this.body.appendChild(o.n);o.k("click",this.Rq,this)}}fA.prototype=new aC;
fA.prototype.Rq=function(K){var o=this.yK.indexOf(K.target),Y;if(o==3){Y=new h1(w.E.L,!0);Y.data={d:w.I.Gg,XQ:"divslice"}}else{Y=new h1(w.E.U,!0);
Y.f=m.YM;Y.data={d:o==2?"delete":"reorder",dir:o==0?-1:1}}this.c(Y)};fA.prototype.t=function(){aC.prototype.t.call(this);
for(var y=0;y<4;y++)this.yK[y].t()};function jg(K,o){aC.call(this);if(window.Typr==null||K)return;this.aC8=o;
this.Gz=null;this.alb=I._("span","");this.agH=I._("span","");var Y=1,c=this.HW={Xy:new ac(null,24),w4:new h5("X",0,0,"px",0,!1,!0,4),kU:new h5("Y",0,0,"px",0,!1,!0,4),oQ:new h5("W",0,0,["%","px"],2,!1,!0,5),Ls:new eg("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),g0:new h5("H",0,0,["%","px"],2,!1,!0,5),axj:new h5("\u2221",0,0,"\xB0",Y,!1,!0),arT:new h5("\u25B1 H",-85,85,"\xB0",Y,!1,!0),a3r:new h5("\u25B1 V",-85,85,"\xB0",Y,!1,!0),MC:new bY(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),am:new bY("Protect",[])};
c.MC.T(1);c.Ls.T(!0);for(var z in c){var f=c[z],$=!0;if(o&&(f==c.axj||f==c.arT||f==c.a3r||f==c.MC))$=!1;
if(!o&&f==c.am)$=!1;if($)this.alb.appendChild(f.n);var E=f==c.Ls?"click":w.E.p;f.k(E,this.a2F,this)}this.mp=new hQ("Split",hQ.jO(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.mp.T(-1);this.mp.k(w.E.p,this.ayw,this);this.TP=new fw(!0,!0,!0);this.TP.k(w.E.p,this.ayw,this);
this.TP.parent=this;var b=this.agH,q=this.TP;b.appendChild(this.mp.n);b.appendChild(q.LQ.n);b.appendChild(q.Hj.n);
b.appendChild(q.vy.n);b.appendChild(q.Mj.n);b.appendChild(q.bn.n);this.u8=new eg([11,9]);this.u8.k("click",this.axF,this);
this.TR=new aa;this.TR.k("click",this.hc,this)}jg.prototype=new aC;jg.prototype.Tl=function(K){if(K.p4){var o=jg,Y=this.gO;
if(Y==null)Y=this.gO=new gq(o.apO(),o.a71(this.f));Y.t();Y.parent=this;Y.update(K.Xe,K.KO);var c=new h1(w.E.L,!0);
c.data={d:w.I.FY,A_:Y,x:K.p4.w$+2,y:K.p4.dn+1};this.c(c);return}I.oA(this.body);this.Gz=K;if(K.HW){var z=K.HW.oJ,f=K.HW.gr.clone(),$=Math.atan2(-f.J,f.g),E=new dF;
E.rotate(-$);f.concat(E);var b=this.HW;b.Xy.T(K.HW.m5);b.w4.T(K.HW.Gf.x);b.kU.T(K.HW.Gf.y);b.oQ.T(f.g*(b.oQ.rU()=="%"?100:z.m));
b.g0.T(f.gG*(b.g0.rU()=="%"?100:z.e));b.axj.T(-$*180/Math.PI);b.arT.T(Math.atan(f.b0/f.gG)*180/Math.PI);
b.a3r.T(0*180/Math.PI);this.body.appendChild(this.alb);this.u8.ba();if(K.HW.pu!=null)b.Ls.T(K.HW.pu)}if(K.$I){if(K.awJ)this.mp.T(-1);
this.TP.T(K.$I);this.body.appendChild(this.agH);this.u8.Fo()}if(K.Kl)b.am.Xs(K.Kl);this.body.appendChild(this.TR.n);
if(K.aaD&&!this.aC8)this.body.appendChild(this.u8.n)};jg.prototype.a2F=function(K){var o=this.HW,Y=this.Gz.HW.oJ;
if(K.target==o.Ls)o.Ls.T(!o.Ls.h());else if(o.Ls.mR()){var c=o.g0,z=o.oQ,f=Y.e,$=Y.m;if(K.target==o.oQ){c=o.oQ;
z=o.g0;f=Y.m;$=Y.e}var E=c.h()/(c.rU()=="%"?100:f);E*=z.rU()=="%"?100:$;z.T(E)}var b=[];for(var q in o)if(o[q]!=o.Ls&&o[q]!=o.Xy){var E=o[q].h();
if((o[q]==o.oQ||o[q]==o.g0)&&E==0){E=.1;o[q].T(E)}if(o[q]==o.oQ&&o[q].rU()=="px")E/=Y.m/100;if(o[q]==o.g0&&o[q].rU()=="px")E/=Y.e/100;
b.push(E)}var O=new jc(b[0],b[1]);if(K.target==o.Xy){this.MV({$z:"ctyp",m5:o.Xy.h()})}else if(K.target==o.w4||K.target==o.kU){this.MV({$z:"cen",Gf:O})}else{var j=this.Gz.HW.gr.clone(),A=j.clone(),R=Math.atan2(-j.J,j.g);
A.translate(-O.x,-O.y);A.rotate(-R);var g=new dF(A.g,A.J,A.b0,A.gG,0,0);g.oD();A.concat(g);var H=b[2]/100,i=b[3]/100;
A.concat(new dF(H,H*Math.tan(b[6]*Math.PI/180),i*Math.tan(b[5]*Math.PI/180),i,0,0));A.rotate(-b[4]*Math.PI/180);
A.translate(O.x,O.y);this.Gz.HW.gr=A;this.MV({$z:"trn",HW:A,rA:o.MC.h(),gV:o.am.h(),pu:o.Ls.h()})}};
jg.prototype.ayw=function(K){var o=this.mp;this.MV(K.target==o?{$z:"splt",b:o.h()}:{$z:"wrp",$I:this.TP.h()})};
jg.prototype.axF=function(K){this.MV({$z:"switchWarp"})};jg.prototype.hc=function(K){this.MV({$z:this.TR.h()?"commit":"cancel"})};
jg.prototype.MV=function(K){K.d=w.I.h$;K.f=this.f;var o=new h1(w.E.L,!0);o.data=K;this.c(o)};jg.prototype.Ra=function(){var K=this.HW;
for(var o in K)K[o].t();I.IJ(K.oQ,K.g0);this.TR.t();this.mp.t();this.TP.t();this.u8.t()};jg.apO=function(){var K=function(o){var Y=!0;
if(o==null||o.Y.length==0)Y=!1;else{var c=o.Y;for(var y=0;y<c.length;y++){if(o.B[c[y]].add.TySh)Y=!1}}return{u:Y}};
return[{name:[5,9],aL:"Shift+Alt+Ctrl + T",M_:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],u:K},{name:[2,9],u:K},{name:[11,9],u:function(o){if(o==null||o.Y.length!=1)return{u:!1};
var Y=o.B[o.Y[0]];return{u:Y.add.TySh==null&&!Y.f$()}},M_:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
jg.a71=function(K){if(K==null)K=m._6;return[{K:w.E.U,f:K,C:{d:"again"}},{K:w.E.L,C:{d:w.I.NR,f:K,kM:{aZ:3}}},{K:w.E.L,C:{d:w.I.NR,f:K,kM:{aZ:4}}},{K:w.E.L,C:{d:w.I.NR,f:K,kM:{aZ:2}}},{K:w.E.L,C:{d:w.I.NR,f:K,kM:{aZ:1}}},{K:w.E.L,C:{d:w.I.NR,f:K,kM:{aZ:-1}}},{K:w.E.hP,C:m.OB.On(!0,90,!0)},{K:w.E.hP,C:m.OB.On(!0,-90,!0)},{K:w.E.hP,C:m.OB.On(!0,-180,!0)},{K:w.E.hP,C:m.OB.On(!1,"Hrzn",!0)},{K:w.E.hP,C:m.OB.On(!1,"Vrtc",!0)}]};
function ad(){jg.call(this)}ad.prototype=new jg(!0);function eR(){jg.call(this)}eR.prototype=new jg(!0);
function hz(){jg.call(this,!1,!0)}hz.prototype=new jg(!0);function dx(){aC.call(this);var K=this.u6=[new bY([12,36],["Rigid",[15,10,0],[24,4]]),new bY([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new h5([7,4],0,100,"px"),new bb("Show Mesh"),new eg("\u25BC",null,null,!0),new eg("\u25B2",null,null,!0)];
for(var y=0;y<K.length;y++){var o=K[y];o.parent=this;this.body.appendChild(o.n);o.k(y<4?w.E.p:"click",this.a6B,this)}this.TR=new aa;
this.TR.k("click",this.hc,this);this.body.appendChild(this.TR.n)}dx.prototype=new aC;dx.prototype.Ra=function(){var K=this.u6;
for(var y=0;y<4;y++)K[y].t();this.TR.t()};dx.prototype.Tl=function(K){var K=K.VS;for(var y=0;y<4;y++)this.u6[y].T(K[y])};
dx.prototype.a6B=function(K){var o=[];for(var y=0;y<4;y++)o[y]=this.u6[y].h();var Y=this.u6.indexOf(K.target);
if(Y<4)this.MV({$z:"prm",VS:o});else this.MV({$z:"moveDepth",a9n:Y==5})};dx.prototype.hc=function(K){this.MV({$z:this.TR.h()?"commit":"cancel"})};
dx.prototype.MV=function(K){K.d=w.I.h$;K.f=this.f;var o=new h1(w.E.L,!0);o.data=K;this.c(o)};function gB(){aC.call(this);
var K=this.Mq=[new bY([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var y=0;y<K.length;y++){var o=K[y];
o.k(w.E.p,this.SE,this);this.body.appendChild(o.n)}}gB.prototype=new aC;gB.prototype.SE=function(K){var o=this.Mq,Y=[];
for(var y=0;y<o.length;y++)Y[y]=o[y].h();var c=new h1(w.E.L,!0);c.data={d:w.I.h$,f:this.f,Bp:Y};this.c(c)};
gB.prototype.Ra=function(){for(var y=0;y<this.Mq.length;y++)this.Mq[y].t()};function fi(){cv.call(this);
this.n=I._("div","cmanager");window.alert=function(z,f){this.abI(z,f);console.log("Alert: "+z)}.bind(this);
window.onblur=function(z){var f=this;f.p3()}.bind(this);this.Fv=0;this.jd=0;this.kB=[];this.WK={};this.kC=I._("div","alertcont");
this.n.appendChild(this.kC);this.a8C=I._("div","alertcont");this.n.appendChild(this.a8C);this.cA=I._("div","alertcont");
this.aoj=0;this.Ht=-1;this.a3v=null;this.Uh=null;var K=this.aeI=I._("div","alertpanel");K.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.cA.appendChild(K);var o=this.B5=I._("input");o.setAttribute("type","text");I._R(o);o.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
o.addEventListener("input",this.auO.bind(this),!1);o.addEventListener("keydown",this.aj5.bind(this),!1);
K.appendChild(o);var c=this.ad4=I._("div","contextpanel scrollable");c.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
c.addEventListener("click",this.az8.bind(this),!1);K.appendChild(c);I.Xh(document.body,this.a7_.bind(this))}fi.prototype=new cv;
fi.prototype.sV=function(){if(I.qO(this.cA))this.n.removeChild(this.cA)};fi.prototype.aus=function(K,o){var Y=this.a3v=[],c=o.awx;
for(var y=0;y<bK.data.length;y++){var z=bK.data[y],f=[ca.get(z.name)],$=[y];fi.bq(z.items,f,$,Y,K,o,c==null?null:c[y]==null?0:c[y])}var E=o.q;
for(var y=0;y<E.yw.length;y++){var b=E.yw[y],q=E.keys[y];for(var O=0;O<b.length;O++)Y.push([["Tools",ca.get(b[O].f.name)],[-1,b[O].f.id],q?q.Ml:null])}this.n.appendChild(this.cA);
var j=this.B5;j.focus();j.select();this.nF()};fi.prototype.auO=function(K){this.Ht=-1;this.nF()};fi.prototype.nF=function(){var K=this.B5.value.toLowerCase().trim().replace(/  +/g," "),o=this.a3v,Y=[],c=[],z=K.split(" ");
if(K!="")for(var y=0;y<o.length;y++){var f=o[y][0],$=[],E=0;for(var b=0;b<f.length;b++)$[b]=-1;for(var q=0;
q<z.length;q++)for(var b=0;b<f.length;b++){var O=f[b].toLowerCase().indexOf(z[q]);if(O!=-1){$[b]=[O,O+z[q].length];
E++;break}}if(E==z.length){Y.push(o[y]);c.push($)}}var j=[],A=this.ad4;I.oA(A);for(var y=0;y<Y.length;
y++){var R=Y[y],g=R[0],O=c[y],H="enab",h="";if(y==this.Ht)H+=" active";var i=I._("div",H);j.push(i);
A.appendChild(i);for(var b=0;b<g.length;b++){var x=O[b],F=z[b],X=g[b];if(x!=-1)X=X.slice(0,x[0])+"<span style=\"color:black\">"+X.slice(x[0],x[1])+"</span>"+X.slice(x[1]);
h+=X;if(b<g.length-1)h+=" \uFE65 "}if(R[2]&&(typeof R[2]!="string"||R[2].length==1))h+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+a1.x8(R[2])+"</span>";
i.innerHTML=h}this.Uh=[Y,j]};fi.prototype.aj5=function(K){var o=a1.Ik,Y=K.code;if(o(Y,a1.Xg))this.sV();
var c=o(Y,a1.mc),z=o(Y,a1.hb),f=o(Y,a1.C4);if(c||z){this.Ht=Math.max(0,Math.min(this.Uh[0].length-1,this.Ht+(c?-1:1)));
this.nF()}if(f&&this.Ht!=-1)this.abG(this.Ht)};fi.bq=function(K,o,Y,c,z,f,$){if(typeof $=="number"){if($==0)return;
if($==1)$=null}for(var y=0;y<K.length;y++){if($!=null&&($[y]==0||$[y]==null))continue;var E=K[y],b=o.slice(0),q=Y.slice(0),O=ca.get(E.name);
if(E.u){var j=E.u(z,f,y);if(j.hY)O=j.hY;if(j.u==!1)continue}b.push(O);q.push(y);if(E.sub)fi.bq(E.sub,b,q,c,z,f,$?$[y]:null);
else c.push([b,q,E.aL])}};fi.prototype.az8=function(K){var o=K.target;if(o.tagName.toLowerCase()=="span")o=o.parentNode;
var Y=this.Uh[1].indexOf(o);if(Y!=-1)this.abG(Y)};fi.prototype.abG=function(K){var o=this.Uh[0][K][1];
if(o[0]==-1){var Y=new h1(w.E.L,!0);Y.data={d:w.I.NR,f:o[1]};this.c(Y)}else{var c=bK.data[o[0]].D7[o[1]];
for(var y=2;y<o.length;y++)c=c.sub[o[y]];var z=new h1(c.K,!0);z.f=c.f;z.data=c.C;this.c(z)}this.sV()};
fi.prototype.Fx=function(K,o){this.Fv=K;this.jd=o;this.ad4.style["max-height"]=o-120+"px"};fi.prototype.afY=function(K){var o=I._("div","alertpanel");
o.textContent=ca.get(K);this.kC.appendChild(o);this.WK[JSON.stringify(K)]=o};fi.prototype.a0k=function(K){var o=this.WK[JSON.stringify(K)];
this.kC.removeChild(o);delete this.WK[JSON.stringify(K)]};fi.prototype.abI=function(K,o){var Y=this.a8C;
for(var y=0;y<Y.children.length;y++)if(Y.children[y].textContent==K)return;var c=I._("div","alertpanel tpanel");
c.textContent=K;c.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");Y.appendChild(c);if(o==null)o=1500;
var z=o,f=Math.max(Date.now()+z,this.aoj+z);setTimeout(function(){c.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){Y.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},f-Date.now()-30);
setTimeout(function(){Y.removeChild(Y.firstChild);Y.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},f-Date.now());
this.aoj=f};fi.prototype.a7_=function(K){var o=this.kB;for(var y=o.length-1;y>=0;y--){var Y=o[y],c=K.target;
while(c!=null){if(c==Y.n){this.p3(Y);return}c=c.parentNode}}this.p3();var z=K.target;while(z!=this.cA&&z!=document.body)z=z.parentNode;
if(z!=this.cA)this.sV()};fi.prototype.p3=function(K){var o=this.kB;for(var y=0;y<o.length;y++){if(K&&K.as4(o[y]))continue;
var Y=o[y].n;if(!(o[y]instanceof gq))I.pL(o[y],this.n);else this.n.removeChild(Y);Y.style.height="auto";
I.LR(Y,"scrollable");o.splice(y,1);y--}};fi.prototype.a5Y=function(K){this.p3(K.A_);var o=K.A_,Y=o.n;
if(this.kB.indexOf(o)!=-1)return;this.kB.push(o);this.n.appendChild(Y);var c=this.Fv,z=this.jd,f=K.x,$=K.y,E=this.n.getBoundingClientRect(),b=o instanceof gq,q=-1,O=z-2;
if(b||K.n2){var j=o.iW(),A=o.a9K();if(b)j=Math.min(j,200);var R=c-j-2,g=z-A-2;if($<g)q=2;else if(f<R)q=1;
else if(0<$-A-2)q=0;else q=3;if(K.atp)q=0;if(K.amT)q=2;if(q==2){f=Math.min(f,R)}else if(q==1){$=Math.min($,g)}else if(q==0){$=$-A-2;
f=Math.min(f,R);O=K.y}else if(q==3){f=f-j-2;$=Math.min($,g)}}$=Math.max(2,$);var top=Math.round($-E.y+this.n.offsetTop);
Y.style.position="absolute";Y.style["z-index"]=10;if($+o.a9K()>O){Y.style.height=O-$+"px";I.Px(Y,"scrollable");
if(q==3)f-=10}Y.style.left=Math.round(f)+"px";Y.style.top=top+"px";if(!(o instanceof gq))I.c0(o)};fi.prototype.amj=function(K){var o=K.A_,Y=this.kB.indexOf(o);
if(Y==-1)return;this.kB.splice(Y,1);var c=o.n;if(!(o instanceof gq))I.pL(o,this.n);else this.n.removeChild(o.n)};
fi.prototype.BQ=function(){var K=this.kB;return K.length==0?null:K[K.length-1]};fi.prototype.acN=function(){this.amj({A_:this.BQ()})};
function bj(){cv.call(this);this.n=I._("div","confbar")}bj.prototype=new cv;bj.prototype.a3t=function(K){K.parent=this;
I.oA(this.n);this.n.appendChild(K.n)};function jm(K){cv.call(this);jm.C$=this;jm.gn=K;this.Bk=null;this.V0=I._("input","");
this.V0.setAttribute("type","file");this.V0.setAttribute("multiple","");this.V0.addEventListener("change",function(o){this.H6(o.target.files,null,this.xw,null);
this.xw=null}.bind(this),!1);document.body.appendChild(this.V0);this.V0.setAttribute("style","display:none");
this.aig=[];this.K7=!1;this.a2Y=[];this.mu=!1;this.aC$={};this.xw=null}jm.prototype=new cv;jm.gn=null;
jm.me=function(K){try{var o={};o[K.type]=K;navigator.clipboard.write([new ClipboardItem(o)])}catch(es){console.error(es,es.message)}};
jm.YD=function(K,o){navigator.clipboard.read().then(function(Y){for(var y=0;y<Y.length;y++){try{var c=Y[y],z={},f=0,$=0;
for(var E=0;E<c.types.length;E++){var b=c.types[E];f++;c.getType(b).then(function(q){var O=b;new Response(q).arrayBuffer().then(function(j){z[this.tM]=j;
$++;if($==f)jm.ag0(z,K,o)}.bind({tM:this.tM}))}.bind({tM:b}))}}catch(es){console.error(es,es.message)}}}).catch(function(Y){})};
jm.aCW=function(K){navigator.permissions.query({name:"clipboard-read"}).then(function(o){K(o.state)})};
jm.ag0=function(K,o,Y){var c=["text/plain","image/png","text/html","text/plain"];for(var z in K)console.log(z,z.startsWith("text")?_.DI(new Uint8Array(K[z])).slice(0,100)+"...":K[z]);
for(var f=0;f<c.length;f++){var $=c[f],E=K[$];if(E==null)continue;if($=="image/png"){jm.gn({name:"image.png"},E,o,Y);
return}if($=="text/plain"){var b=_.DI(new Uint8Array(E));if(f==0)if(!b.startsWith("<!--")&&!b.startsWith("<svg"))continue;
if(Y&&b.startsWith("<svg"))continue;var q=new h1(w.E.L,!0);q.data={d:w.I.aen,b:b};o.c(q);return}if($=="text/html"){var b=_.DI(new Uint8Array(E)),O=b.indexOf("src=\"");
if(O!=-1&&b.slice(O+5,O+9)!="http"){var j=O+10;while(b[j]!="\"")j++;var R=b.slice(O+5,j);jm.gn({name:"chart.png"},fv.rh(R).buffer,o,Y);
return}}}};jm.prototype.W_=function(K){if(K==null)K=[23,5];var o=JSON.stringify(K),Y=this.aC$;if(Y[o]==null)Y[o]=0;
if(Y[o]==0){var c=new h1(w.E.L,!0);c.data={d:w.I.Cj,vU:K};this.c(c)}Y[o]++};jm.prototype.rw=function(K){if(K==null)K=[23,5];
var o=JSON.stringify(K),Y=this.aC$;if(Y[o]==null)Y[o]=0;Y[o]--;if(Y[o]==0){var c=new h1(w.E.L,!0);c.data={d:w.I.fy,vU:K};
this.c(c)}};jm.prototype.alj=function(K,o){this.xw=K;var Y=window.showOpenFilePicker;if(Y&&window.self==window.top){var c=this;
Y({multiple:!0}).then(function($){var E=[];function b(q){E.push(q);if(E.length==$.length){c.H6(E,null,c.xw,null,$);
c.xw=null}else $[E.length].getFile().then(b)}$[E.length].getFile().then(b)});return}var z=this.V0;if(o)z.setAttribute("accept",o);
else z.removeAttribute("accept");var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
z.dispatchEvent(f)};jm.prototype.TM=function(K){if(K.url.indexOf("photopea.com#i")!=-1||K.url.indexOf("photopea.com/#i")!=-1){this._3(K.url.split("#i").pop());
return}this.aig.push(K);this.adD()};jm.prototype.adD=function(){var K=this.aig;if(K.length==0||this.K7)return;
this.K7=!0;var o=K.shift();this.W_();if(o.Yr==null)o.Yr={};var Y=new XMLHttpRequest;Y.cf=o;var c=o.url;
if(o.cF&&!c.startsWith("data:image"))c="mirror.php?url="+encodeURIComponent(c);Y.open("GET",c);if(o.Jd)for(var z in o.Jd)Y.setRequestHeader(z,o.Jd[z]);
Y.responseType="arraybuffer";Y.onload=this.aqY.bind(this);Y.send()};jm.prototype.H6=function(K,o,Y,c,z){for(var y=0;
y<K.length;y++){this.W_();var f=K[y],$=new FileReader;$.cf=f;$.cf.ZX=Y;$.cf.gq=c;$.a8o=o;if(z)$.cf.ZT=z[y];
$.onload=this.aqY.bind(this);$.onerror=function(E){this.rw()}.bind(this);this.a2Y.push([$,f])}this.V0.value=null;
this.axn()};jm.prototype.axn=function(){var K=this.a2Y;if(K.length==0||this.mu)return;this.mu=!0;var o=K.shift();
o[0].readAsArrayBuffer(o[1])};jm.prototype.aB1=function(K,o,Y){this.W_("Saving ...");this.Bk=o;setTimeout(Y.bind({zV:K,caller:this}),50)};
jm.YG=function(K){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=new Uint8Array(K),c=Y.length,z=c%3,f=c-z,$=[],E=0,b=0,q=0;
for(var y=0;y<f;y+=3){E=Y[y];b=Y[y+1];q=Y[y+2];$.push(o[E>>2]+o[(E&3)<<4|b>>4]+o[(b&15)<<2|q>>6]+o[q&63])}if(z==1){E=Y[f];
$.push(o[E>>2]+o[(E&3)<<4]+"==")}if(z==2){E=Y[f];b=Y[f+1];$.push(o[E>>2]+o[(E&3)<<4|b>>4]+o[(b&15)<<2]+"=")}var O=$.join("");
return O};jm.aie=function(K,o){var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(64),E=0,b=0,q=0,j=0;
for(var y=0;y<64;y++)c[y]=Y.charCodeAt(y);var z=new Uint8Array(K),f=o%3,$=o-f,O=new Uint8Array(Math.floor(o/3)*4+(f==0?0:4));
for(var y=0;y<$;y+=3){E=z[y];b=z[y+1];q=z[y+2];O[j]=c[E>>>2];O[j+1]=c[(E&3)<<4|b>>>4];O[j+2]=c[(b&15)<<2|q>>>6];
O[j+3]=c[q&63];j+=4}if(f==1){E=z[$];O[j]=c[E>>2];O[j+1]=c[(E&3)<<4];O[j+2]=61;O[j+3]=61}if(f==2){E=z[$];
b=z[$+1];O[j]=c[E>>2];O[j+1]=c[(E&3)<<4|b>>4];O[j+2]=c[(b&15)<<2];O[j+3]=61}return O};jm.prototype.aqY=function(K){var o,Y=K.target.cf;
if(K.target instanceof XMLHttpRequest)o=K.target.response;else o=K.target.result;jm.gn(Y,o,this,K.target.a8o);
this.rw();if(K.target instanceof XMLHttpRequest){this.K7=!1;this.adD()}else{this.mu=!1;this.axn()}};
jm.af8=function(K,o){var Y=new XMLHttpRequest;Y.open("POST","https://api.imgur.com/3/image",!0);Y.F_=o;
Y.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");Y.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Y.setRequestHeader("Accept","application/json");Y.addEventListener("load",jm.a3u);Y.send("type=base64&image="+encodeURIComponent(jm.YG(K)));
alert("Saving to Imgur ...",4e3)};jm.a3u=function(K){var o=JSON.parse(K.target.response);if(o.success){if(K.target.F_)K.target.F_(o.data.link);
else window.open(o.data.link,"Imgur")}};jm.prototype._3=function(K,o,Y){this.W_();var c=new XMLHttpRequest;
c.responseType="arraybuffer";c.open("GET","https://f000.backblazeb2.com/file/"+(Y?"pp-resources":"psdshared")+"/"+K);
c.onload=this.awe.bind(this);c.send();c._Z=[Date.now(),K,o?K:null,Y]};jm.prototype.awe=function(K){var o=K.target._Z,Y=new Uint8Array(K.target.response);
console.log(Y.length+" B,",Date.now()-o[0]+" ms");for(var y=0;y<Y.length;y++)Y[y]=255-Y[y];Y=pako.inflateRaw(Y);
var c=JSON.parse(_.DI(Y,0,2e3));jm.gn({name:c.name,hr:o[2]},Y.slice(2e3).buffer,this);this.rw();if(!o[3])jm.OI("act=0&id="+o[1])};
jm.prototype.a6M=function(K,o,Y,c){if(!(K instanceof ArrayBuffer))throw"e";K=new Uint8Array(K);var z=new Uint8Array(K.length+2e3),A="";
for(var y=0;y<2e3;y++)z[y]=32;_.dI(JSON.stringify({name:o}),z,0);z.set(K,2e3);K=z;K=pako.deflateRaw(K);
for(var y=0;y<K.length;y++)K[y]=255-K[y];K=K.buffer;var f=K.byteLength,$=gO.Es(f),E=~~(609e5/2),b=~~(209e5/2);
if(f>E){confirm("Your file is "+$+". Our limit is "+gO.Es(E)+". Delete some layers and try again.");
return}if(f>b){var q=confirm("Your file is quite large ("+$+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!q)return}var O=sha1(K),j=[];for(var y=0;y<20;y++){var R=parseInt(O.slice(y*2,y*2+2),16);j.push(R);
A+=String.fromCharCode(R)}var g=btoa(A).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(jm.akv(g,c)){console.log("file already exists");
if(Y)Y(g);else window.open("https://www.photopea.com#i"+g+".psd");return}this.W_("Publishing ...");var H=new XMLHttpRequest;
H._Z=[K,O,g,Y,c];H.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+g+"&size="+f+"&bname="+c);
H.onload=this.a2B.bind(this);H.send()};jm.akv=function(K,o){try{var Y=new XMLHttpRequest;Y.open("HEAD","https://f000.backblazeb2.com/file/"+o+"/"+K,!1);
Y.send();if(Y.status==200)return!0}catch(es){return!1}return!1};jm.prototype.a2B=function(K){console.log(K.target.response);
var o=JSON.parse(K.target.response),Y=K.target._Z,c=new XMLHttpRequest;c.open("POST",o.uploadUrl);c.setRequestHeader("Authorization",o.authorizationToken);
c.setRequestHeader("X-Bz-File-Name",Y[2]);c.setRequestHeader("Content-Type","b2/x-auto");c.setRequestHeader("X-Bz-Content-Sha1",Y[1]);
c.send(new Blob([Y[0]]));c.onload=this.a8N.bind({qT:this,_Z:Y})};jm.prototype.a8N=function(K){this.qT.rw("Publishing ...");
if(this._Z[3])this._Z[3](this._Z[2]);else window.open("https://www.photopea.com#i"+this._Z[2]+".psd");
if(this._Z[4]=="psdshared")jm.OI("act=2&id="+this._Z[2]+"&fileId="+JSON.parse(K.target.response).fileId)};
jm.OI=function(K){var o=new XMLHttpRequest;o.open("GET","/papi/img/update.php?"+K+"&rnd="+Math.random());
o.send()};jm.save=function(K,o){var Y=new Uint8Array(K),c=document.createElement("a");if(typeof c.download=="string"){var z=new Blob([Y]),f=window.URL.createObjectURL(z);
c.href=f;c.download=o;document.body.appendChild(c);c.click();document.body.removeChild(c)}else{var $="data:application/octet-stream;base64,"+jm.YG(K);
window.open($)}};function jQ(){this.size=16;this.data=d.R(16)}jQ.prototype.d7=function(K,o){if(K+o<=this.size)return;
var Y=this.size;while(K+o>this.size)this.size*=2;var c=d.R(this.size);for(var y=0;y<Y;y++)c[y]=this.data[y];
this.data=c};var dt={};dt.$v=function(K,o,Y,c){var z=o.split(":"),f=z[0];if(z.length==2){if(f=="jpg")c=[Math.round(100*parseFloat(z[1]))];
if(f=="webp")c=[Math.round(100*parseFloat(z[1])),100,0,!1,!1];if(f=="psd")c=[!0,!0,!1,!1,!1];if(f=="svg")c=z[1].split(",").map(function(E){return E=="true"})}var $=fv.lU(K,f.toUpperCase(),null,null,c,Y);
return $};dt.ae2=function(K,o,Y){var c=K.Gl(),z=o[0];return dt.$v(K,z,Y)};dt.arg=function(){var K=this.zV,o=this.caller,Y=K.Yr.oO,c=Y.formats,z,f;
K.Gl();var $=Date.now();if(Y.version==1){var E=[],b=0,O=0;for(var y=0;y<c.length;y++){var q=dt.$v(K,c[y],o.Bk);
E.push(q);b+=q.byteLength}z=new Uint8Array(2e3+b);var j="{ \"source\": "+JSON.stringify(K.z0)+", \"versions\": [\n";
for(var y=0;y<c.length;y++){var A=new Uint8Array(E[y]);j+="\t{\"format\": \""+c[y].split(":")[0]+"\", \"start\": "+O+", \"size\": "+A.length+" }"+(y+1<c.length?", ":"")+"\n";
z.set(A,2e3+O);O+=E[y].byteLength}j+="] }";var R=_.dI(j,z,0);for(var y=R;y<2e3;y++)z[y]=32;f="application/octet-stream"}else{var g=new jQ,H=0,i="",h=encodeURIComponent;
i="p="+h("{ \"source\": "+JSON.stringify(K.z0)+", \"versions\": [");_.cK(g,H,i);H+=i.length;for(var y=0;
y<c.length;y++){i=h(" {\"format\": \""+c[y].split(":")[0]+"\", \"data\": \"");_.cK(g,H,i);H+=i.length;
var q=dt.$v(K,c[y],o.Bk),x=jm.aie(q,q.byteLength),R=x.length;g.d7(H,R);for(var F=0;F<R;F++){g.d7(H,3);
var X=x[F];if(X==43){g.data[H]=37;g.data[H+1]=50;g.data[H+2]=66;H+=3}else if(X==47){g.data[H]=37;g.data[H+1]=50;
g.data[H+2]=70;H+=3}else if(X==61){g.data[H]=37;g.data[H+1]=51;g.data[H+2]=68;H+=3}else{g.data[H]=X;
H++}}i=h("\" }"+(y+1<c.length?", ":""));_.cK(g,H,i);H+=i.length}i=h("] }");_.cK(g,H,i);H+=i.length;z=g.data.slice(0,H);
f="application/x-www-form-urlencoded"}var V=new XMLHttpRequest;V.open("POST",Y.url,!0);if(f)V.setRequestHeader("Content-Type",f);
V.addEventListener("load",dt.ae$.bind(this));V.send(new Blob([z.buffer]))};dt.ae$=function(K){this.caller.rw("Saving ...");
var o=K.target.response;if(o.charAt(0)=="{"){o=JSON.parse(o);if(o.newSource)this.zV.z0=o.newSource;if(o.message)alert(o.message,2e3);
if(o.script){var Y=new h1(w.E.L,!0);Y.data={d:w.I.nu,il:o.script};this.caller.c(Y)}}else alert("Saved. Response: "+o,1500)};
dt.agb=function(K){var o=K.yt,Y=o[1].split(".").pop(),c=dt.$v(K,Y,null,Y=="psd"&&o[0]==1?[!0,!1,!0,!1]:null),z=Storage.I3(o[0]);
return z.ak3(o[1],c)};dt.am$=function(K,o){var Y=K.ED.HT;if(o==null)o=dt.$v(K,Y);hP.Oo(function(){var c=new XMLHttpRequest,z="https://www.googleapis.com/upload/drive/v3/files/"+K.ED.file.id+"?uploadType=media"+"&"+hP.GP();
c.open("PATCH",z,!0);c.addEventListener("load",function(f){var $=JSON.parse(f.target.response);alert($.name+" updated")});
c.send(o);alert("Saving \""+K.ED.file.name+"\" to Google Drive ...")})};dt.gn=function(K,o,Y,c){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)dt.afe(K,o,Y,c);
else{try{dt.afe(K,o,Y,c)}catch(es){if(es=="low_ram"){}else{var z="Error. Please, send your file to support@photopea.com and we will solve it.";
if(fv.sR(o)=="eps")z="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(z,1e4)}}}};dt.afe=function(K,o,Y,c){var z;if(K.name){var f=K.name.lastIndexOf(".");z=f==-1?K.name:K.name.slice(0,f)}else{if(K.url.substring(0,5)=="data:"||K.url.indexOf("googleapis")!=-1)z="image";
else z=K.url.substring(K.url.lastIndexOf("/")+1).split(".")[0];z=z.slice(0,50)}var $=K.name?K.name:K.url,E=new Uint8Array(o),b=fv.sR(o),q=window.gtag;
if(Math.random()<.25&&q&&b!=null&&fv.WD(b))q("event",b,{event_category:"Formats"});if(b==null)b=_.H9(E,0,4);
if($&&$.toLowerCase().endsWith(".raw")){var O=new h1(w.E.L,!0);O.data={d:w.I.Gg,XQ:"importraw",Q3:o,oF:$.split("/").pop()};
Y.c(O);return}else if(b=="json"){var j="";for(var y=0;y<E.length;y++)j+=String.fromCharCode(E[y]);j=decodeURIComponent(escape(j));
var R=JSON.parse(j);if(R.name&&R.url){var O=new h1(w.E.L,!0);O.data={d:w.I.a7M,b:R};Y.c(O)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(R)}return}if(b=="html"){var j=_.DI(E,0,E.length),g=new DOMParser,H=g.parseFromString(j,"text/html"),i=H.getElementsByTagName("meta");
for(var y=0;y<i.length;y++){var h=i[y],x=h.getAttribute("property"),F=h.getAttribute("content"),X=null;
if(x=="og:image")X=F;if(x==null&&F&&F.startsWith("0;url=/imgres?")){var V=F.slice(14).split("&");for(var U=0;
U<V.length;U++)if(V[U].startsWith("imgurl"))X=decodeURIComponent(V[U].slice(7))}if(X==null)continue;
var O=new h1(w.E.L,!0);O.data={d:w.I.vO,VS:{url:X,cF:!0,ZX:K.ZX}};Y.c(O)}return}if(fv.WD(b)){var Z,T,v=fv.WD(b);
if(K.ZX!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(b)!=-1){var O=new h1(w.E.L,!0);if(0<=K.ZX)O.data={d:w.I.B7,target:K.ZX,JZ:K.gq,l_:o,O$:z};
else{O=new h1(w.E.U,!0);O.data={d:S.DP,data:new Uint8Array(o),oF:z+"."+b};O.f=m._V}Y.c(O);return}var P=[z,v,b,K,Y,c,o];
if(v.MS){var p=g1==0?"psd":"ai";Z=new h7(z+(b==p?"":"-"+b)+"."+p);v.MW(o,Z,dt.uf,P)}else{T=v.MW(o,null,dt.uf,P,Y)}if(v.YR!=!0)dt.uf(Z,T,P);
else Y.W_();return}var a=new h1(w.E.L,!0);a.data={d:w.I.g3,Q3:o,S4:K.name};var D=K instanceof File&&K.mx!=!0,O=new h1(w.E.L,!0);
O.data={d:w.I.Ak,Yr:"add",VS:null,Uo:null,ac5:K.mx};if(b=="zip"){var n=Date.now(),N=UZIP.parse(o),W="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var G in N){var l=!1;for(var y=0;y<W.length;y++)if(G.toLowerCase().endsWith("."+W[y]))l=!0;if(G.startsWith("__MACOSX/")||N[G].length==0)l=!0;
if(l)continue;var u=G.split("/").pop();dt.gn({name:u},N[G].buffer,Y,c)}}else if(b=="jsx"||$&&$.toLowerCase().endsWith(".jsx")){var j=_.DI(new Uint8Array(o));
O.data={d:w.I.nu,il:j};Y.c(O)}else if(b=="otf"){if(D)Y.c(a);var e=Typr.parse(o);O.data.VS=bB.Kx;for(var y=0;
y<e.length;y++){O.data.Uo=e[y];Y.c(O)}}else if(b=="asl"){if(D)Y.c(a);var e=bC.qz(o,$);O.data.VS=bB.Tq;
O.data.Uo=e.DL;Y.c(O);O.data.VS=bB.j7;O.data.Uo=e.sa;Y.c(O)}else if(b=="tpl"){if(D)Y.c(a);var e=hI.qz(o);
O.data.VS=bB.ra;O.data.Uo={IC:e.IC,$H:e.$H,list:[]};Y.c(O);if(e.abu.length!=0){O.data.VS=bB.mI;O.data.Uo=e.abu;
Y.c(O)}if(e.sa.length!=0){O.data.VS=bB.j7;O.data.Uo=e.sa;Y.c(O)}O.data.VS=bB.Us;O.data.Uo=e.list;Y.c(O)}else{var M="";
for(var B in bB.eq)if(bB.eq[B][0]==b)M=B;if(M!=""){if(D)Y.c(a);O.data.Uo=bB.eq[M][2].qz(o,$);O.data.VS=M;
Y.c(O)}else if(o.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(b))}};
dt.uf=function(K,o,Y){var c=Y[0],z=Y[1],f=Y[2],$=Y[3],E=Y[4],b=Y[5],q=Y[6];if(z.YR)E.rw();if(!z.MS){if(o.length==0)return;
if(o[0].t33421||o[0].t50706){d.raw.normalize(o[0],q);console.log(o[0]);var O=new h1(w.E.L,!0);O.data={d:w.I.Gg,XQ:"rawpea",Ol:o[0]};
E.c(O);return}if(b){b(new Uint8Array(o[0].data),o[0].eQ);return}K=fv.w_(c,o)}K.hr=$.hr;K.MG=f;K.Yr=$.Yr;
K.z0=$.url;K.cr=$.cr;K.ED=$.ED;K.ZT=$.ZT;K.yt=$.yt;if(K.ED)K.ED.HT=f;if(K.B.length!=0){var O=new h1(w.E.L,!0);
O.data={d:$.ZX==null?w.I.Pc:w.I.B7,target:$.ZX,JZ:$.gq,l_:K};E.c(O)}};function ah(K){cv.call(this);this.JP=ah.JP++;
this.tT=K;this.agO=this.axX.bind(this);this.aAQ=this.ayV.bind(this);this.a6Z=this.Cq.bind(this);this.av5=this.aco.bind(this);
this.a13=this.ags.bind(this);this.a1A=this.a8E.bind(this);this.i1=0;this.aCh=0;this.aqL=0;this.n=I._("div","panelblock");
this.nX=I._("div","block");this.s4=I._("div","collapsed");this.n.appendChild(this.nX);this.Jx=-1;this.P3=!0;
this.yL=I._("div","panelhead");this.nX.appendChild(this.yL);this.Yp(this.yL);this.Ez=new eg("\u2261");
this.Ez.n.setAttribute("style","position:absolute; right:0;");this.Ez.k("click",this.a8w,this);this.Ek=I._("div","body");
this.nX.appendChild(this.Ek);this.EA=[];this.fJ=null;this.c9=null}ah.JP=0;ah.prototype=new cv;ah.sh=26.1;
ah.prototype.a8w=function(K){var o=this.EA[this.Jx].VL(),Y=K.currentTarget.n.getBoundingClientRect();
o.t();o.update();o.parent=this;var c=new h1(w.E.L,!0);c.data={d:w.I.FY,A_:o,x:Y.left,y:Y.top+Y.height+2};
this.c(c)};ah.prototype.sj=function(K){var o=this.nX,Y=this.yL,c=this.Ek;if(I.qO(Y))o.removeChild(Y);
if(I.qO(c))o.removeChild(c);if(K==0)o.appendChild(Y);o.appendChild(c);this.aqL=K};ah._z=function(K){K.stopPropagation();
K.preventDefault()};ah.prototype.axX=function(K){var o=K.dataTransfer.types;if(o[1]!=null&&o[1]!=this.JP+"")return;
ah._z(K);var h4=K.currentTarget;if(K.target==h4)I.Px(h4,"highlight")};ah.prototype.ayV=function(K){ah._z(K);
var h4=K.currentTarget;if(K.target==h4)I.LR(h4,"highlight")};ah.prototype.Yp=function(K){K.addEventListener("dragenter",this.agO,!1);
K.addEventListener("dragleave",this.aAQ,!1);K.addEventListener("dragover",ah._z,!1);K.addEventListener("drop",this.a6Z,!1);
K.addEventListener("dragstart",function(o){o.dataTransfer.setData("Text","--panel");o.dataTransfer.setData(this.JP+"","")}.bind(this),!1)};
ah.prototype.Cq=function(K){this.aAQ(K);var o=null,h4=K.currentTarget,Y=this.aaO(h4);if(h4==this.Ek&&this.Jx!=-1)o=this.Jx;
else if(h4==this.yL)o=null;else if(Y!=-1)o=Y;var c=K.dataTransfer.getData("Text");if(c==""||c.startsWith("http"))I.De(K,this,o);
else if(c=="--panel"){var z=I._9(K,h4),f=this.EA,$=f.slice(0),y=this.Jx,E=Y==-1?f.length:z.x<h4.getBoundingClientRect().width/2?Y:Y+1;
if(y==E||y+1==E||h4==this.Ek)return;var b=y<E?E-1:E,q=f[y];f.splice(y,1);f.splice(b,0,q);I.oA(this.yL);
for(var O=0;O<f.length;O++)this.yL.appendChild(f[O].mz);this.qB(b);var j=[];for(var y=0;y<f.length;y++)j[y]=$.indexOf(f[y]);
var A=new h1("shuffleItems",!1);A.data={aka:j};this.c(A)}else if(o!=null&&this instanceof ge){var A=new h1(w.E.L,!0);
A.data={d:w.I.azi,a3a:o};this.c(A)}};ah.prototype.TK=function(){return null};ah.prototype.agx=function(){if(this.TK()){this.yL.style.padding="0px";
this.c9=this.TK();this.Ek.appendChild(this.c9);this.aS.W6(!1);var K=new h1(w.E.L,!0);K.data={d:w.I.lI,b:1};
this.c(K)}};ah.prototype.anj=function(){if(this.c9){this.yL.style.padding="";this.Ek.removeChild(this.c9);
this.c9=null;this.aS.W6(!0);var K=new h1(w.E.L,!0);K.data={d:w.I.lI,b:0};this.c(K)}};ah.prototype.aaO=function(K){var o=this.EA;
for(var y=0;y<o.length;y++)if(o[y].mz==K)return y;return-1};ah.prototype.Z8=function(){for(var y=0;y<this.EA.length;
y++)this.EA[y].vx.ba()};ah.prototype.At=function(){return this.Jx};ah.prototype.fA=function(){if(this.P3)return;
this.P3=!0;this.n.removeChild(this.s4);this.n.appendChild(this.nX)};ah.prototype.collapse=function(){if(!this.P3)return;
this.P3=!1;this.n.appendChild(this.s4);this.n.removeChild(this.nX)};ah.prototype.sh=function(){var K=0;
if(this.aqL==0){K=this.yL.getBoundingClientRect().height+1;K=Math.max(K,ah.sh)}return K};ah.prototype.a8k=function(){return this.sh()+this.Ek.getBoundingClientRect().height};
ah.prototype.Fx=function(K,o){this.yL.style.maxWidth=K+"px";var Y=this.sh();if(this.Jx!=-1)this.EA[this.Jx].Fx(K,o-Y);
return o-Y};ah.prototype.fL=function(K,o){if(this.Jx!=-1)this.EA[this.Jx].fL(K,o)};ah.prototype.ic=function(K,o,Y){this.EA[this.Jx].ic(K,o,Y)};
ah.prototype.kb=function(K){this.anj();if(this.EA.indexOf(K)!=-1){this.qB(this.EA.indexOf(K));return}K.parent=this;
this.EA.push(K);this.yL.appendChild(K.mz);K.mz.addEventListener("mouseover",this.av5,!1);this.Yp(K.mz);
this.s4.appendChild(K.vx.n);K.vx.k("click",this.a6a,this);K.k("select",this.aAj,this);K.k(w.E.qH,this.a0u,this);
this.qB(this.EA.length-1)};ah.prototype.aco=function(K){if(K.buttons==0)return;var o=K.currentTarget,Y=o,y=0;
while((Y=Y.previousSibling)!=null)y++;this.aCh=y;o.addEventListener("mouseout",this.a13,!1);this.i1=setTimeout(this.a1A,700)};
ah.prototype.ags=function(K){var o=K.currentTarget,Y=o,y=0;while((Y=Y.previousSibling)!=null)y++;o.removeEventListener("mouseout",this.a13);
clearTimeout(this.i1)};ah.prototype.a8E=function(K){this.c(new h1(w.E.af9,!1))};ah.prototype.a4p=function(K){return this.aCh};
ah.prototype.En=function(y){var K=new h1(w.E.qH,!1);K.data={ky:y};this.c(K);var o=this.EA[y];this.EA.splice(y,1);
this.yL.removeChild(o.mz);this.s4.removeChild(o.vx.n);o.mz.className="";o.vx.removeEventListener("click",this.a6a,this);
o.vx.ba();o.removeEventListener("activate",this.aAj);o.removeEventListener(w.E.qH,this.a0u);var Y=this.Jx;
if(y<Y)Y--;else if(y==Y&&y==this.EA.length)Y--;this.qB(Y);if(this.EA.length==0)this.agx()};ah.prototype.aCn=function(){return this.EA.length};
ah.prototype.an=function(){if(this.EA.length!=0)this.EA[this.Jx].an()};ah.prototype.qB=function(K,o){if(o==null)o=!0;
for(var y=0;y<this.EA.length;y++)this.EA[y].mz.className="";if(this.fJ)this.Ek.removeChild(this.fJ);
this.fJ=null;this.Jx=K;if(K==-1)return;var Y=this.EA[this.Jx];this.fJ=Y.NA;this.Ek.appendChild(Y.NA);
Y.mz.className="active";if(!this.P3){this.c(new h1("showFloat"));this.EA[K].vx.Fo()}if(o)this.c(new h1(w.E.p,!1));
Y.Lv();var c=this.Ez.n;if(c.parentNode)this.yL.removeChild(c);if(Y.VL())this.yL.appendChild(c);var z=new h1(w.E.L,!0);
z.data={d:w.I.m9};this.c(z)};ah.prototype.aAj=function(K){if(this.tT&&!this.tT.adx())return;var y=this.EA.indexOf(K.currentTarget);
this.qB(y)};ah.prototype.a0u=function(K){if(this.tT&&!this.tT.adx())return;var y=this.EA.indexOf(K.currentTarget);
this.En(y)};ah.prototype.a6a=function(K){var o=this.EA.indexOf(K.currentTarget.parent);if(this.EA[o].vx.mR())this.c(new h1("hideFloat"));
else this.qB(o)};ah.prototype.amW=function(K){this.c(K)};function ge(K){ah.call(this,K);this.Fv=0;this.jd=0;
I.HX(this.yL,this.amu.bind(this));this.Bm=0;this.aAN=this.ap5.bind(this);this.Yp(this.Ek);this.Kj=["default;"];
this.aS=new I.fS(this.Ek);this.mS=new hx(!0);this.mS.parent=this;this.bg=this.mS.n;hx.V1(this.mS)}ge.prototype=new ah;
ge.prototype.amu=function(K){if(K.target!=this.yL)return;var o=this.Bm;this.Bm=Date.now();if(Date.now()-o>300)return;
var Y=new h1(w.E.L,!0);Y.data={d:w.I.Gg,XQ:"newproject"};this.c(Y)};ge.prototype.RL=function(K,o){if(o)this.Kj.push(K);
else{var Y=this.Kj.length-1;if(this.Kj[Y]==K)return;this.Kj[Y]=K}this.AB()};ge.prototype.aAs=function(){this.Kj.pop();
this.AB()};ge.prototype.AB=function(){var K=this.Kj[this.Kj.length-1];this.aS.ic(K,this.H4)};ge.prototype.fL=function(K,o){ah.prototype.fL.call(this,K,o);
this.mS.fL(K,o);if(!K.EK){}};ge.prototype.t=function(){ah.prototype.t.call(this);this.mS.t()};ge.prototype.ic=function(K,o){for(var y=0;
y<o.length;y++){var Y=o[y];this.EA[y].eB(Y.name+(Y.FB()?" *":""))}ah.prototype.ic.call(this,K,o)};ge.prototype.TK=function(){return this.bg};
ge.prototype.Fx=function(K,o){if(this.EA.length==0)o+=ah.sh-1;this.Fv=K;this.jd=o;o=ah.prototype.Fx.call(this,K,o);
this.H4="height:"+o+"px; width:"+K+"px; overflow:hidden; position:relative;";this.AB();this.mS.Fx(K,o)};
ge.prototype.kb=function(K){ah.prototype.kb.call(this,K);K.mz.addEventListener("click",this.aAN,!1)};
ge.prototype.En=function(y){var K=this.EA[y];I.O1(K.mz,this.aAN);ah.prototype.En.call(this,y)};ge.prototype.ap5=function(K){var o=this.Bm;
this.Bm=Date.now();if(Date.now()-o>300)return;var Y=this.aaO(K.currentTarget),c=this.EA[Y].l_.name,z=new h1(w.E.L,!0),f={K:w.E.U,f:m._V,C:{d:S.UT}};
z.data={d:w.I.Gg,XQ:"namewindow",UZ:c.slice(0,c.length-4),Wy:f};this.c(z)};function fk(K){cv.call(this);
if(K)return;j1.a7w(1);this.n=I._("div","flexrow app");this.yh=I._("div");this.n.appendChild(this.yh);
setTimeout(function(){var Y=window.hideCap;if(Y)Y()},25e3);this.t6=new a1;window.addEventListener("blur",function(Y){this.t6.reset()}.bind(this),!1);
window.addEventListener("resize",this.aD.bind(this),!1);var o=this.yh;this.L3=new d3;this.L3.parent=this;
o.appendChild(this.L3.n);this.j$=new fi;this.j$.parent=this;o.appendChild(this.j$.n);this.Wk=new ij(!0);
this.Wk.parent=this;o.appendChild(this.Wk.n);this.k(w.E.L,this.NW,this);this.tH=this.Gk.bind(this);window.requestAnimationFrame(this.tH)}fk.prototype=new cv;
fk.prototype.Gk=function(K){this.Ot();window.requestAnimationFrame(this.tH)};fk.prototype.t=function(){};
fk.prototype.aD=function(K){var o=window.innerWidth,Y=window.innerHeight;this.Fx(o,Y)};fk.prototype.Fx=function(K,o){this.j$.Fx(K,o);
this.L3.Fx(K,o)};fk.prototype.NW=function(K){var o=K.data.d;if(o==w.I.FY)this.j$.a5Y(K.data);if(o==w.I.yQ)this.j$.amj(K.data);
if(o==w.I.Cj)this.j$.afY(K.data.vU);if(o==w.I.fy)this.j$.a0k(K.data.vU);if(o==w.I.Q2)this.j$.p3()};function bs(){fk.call(this);
this.wL={x:0,y:0,WR:!1};this.CO=!1;this.Ng=!1;this.DU=null;this.abB=0;this.afz=!1;this.jh=0;window.onmessage=function(O){if(Storage.aD3(O.source))return;
if(O.data instanceof ArrayBuffer){var j=fv.sR(O.data),A=fv.WD(j);jm.gn({url:"file"},O.data,this);if(A==null)this.TF()}else if(O.data instanceof Object||O.data.startsWith("{")||O.data.startsWith("amp-")||O.data.startsWith("0=goog")||O.data.startsWith("3PCoo")){}else if(O.data.startsWith("--ur ")){var R=O.data.split(" ").pop(),F=null;
R=R.length==0?[]:R.split(",");console.log(R);var g=this.T9.Uo,H=new h1(w.E.L,!0);H.data={d:w.I.Ak,VS:bB.Ft,Wx:R};
this.c(H);var i=R,h=g;if(h.length>i.length){var x=h;h=i;i=x}for(var y=0;y<i.length;y++)if(h.indexOf(i[y])==-1)F=i[y];
jm.OI("act=3&id="+F+"&dif="+(i==R?1:-1));alert((i==R?"Resource added.":"Resource removed.")+" "+F)}else if(O.data.startsWith("--ot ")){this.L3.BQ().close();
this.bp._3(O.data.split(" ").pop(),!0)}else if(O.data.startsWith("--et ")){}else{var H=new h1(w.E.L,!0);
H.data={d:w.I.nu,il:O.data};this.c(H);this.TF()}}.bind(this);window.onbeforeunload=function(O){this.a8V();
for(var y=0;y<this.n$.length;y++)if(this.n$[y].FB())return this.n$[y].name}.bind(this);window.setInterval(this.anq.bind(this),5*60*1e3);
var K=this;if(window.indexedDB&&(!ih.f5()||document.hasStorageAccess==null)){var o={d7:window.indexedDB.open("pp",1)};
o.d7.onupgradeneeded=function(O){var j=O.target.result,A=j.createObjectStore("rsrc",{keyPath:"k"})};
o.d7.onsuccess=function(O){var j=K.T9.v5.b1=O.target.result,A=j.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=A.get("fs0");
R.onsuccess=function(O){if(O.target.result){var i=K.T9.v5.om=O.target.result.fset;for(var h in i){if(!h.endsWith(".jsx")&&!h.endsWith(".psd"))jm.gn({url:h,mx:!0},i[h],K)}}};
var g=new BroadcastChannel("pp-tabs"),H=[];g.onmessage=function(O){if(O.data=="id")g.postMessage(K.T9.v5.id);
else H.push(O.data)};g.postMessage("id");setTimeout(function(){var A=j.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=A.getAllKeys();
i.onsuccess=function(){var h=i.result,x=[],F=0;for(var y=0;y<h.length;y++){if(h[y]=="fs0")continue;if(H.indexOf(h[y])!=-1)continue;
x.push(h[y])}for(var y=0;y<x.length;y++){var R=A.get(x[y]);R.onsuccess=function(O){if(O.target.result){var X=O.target.result.fset;
for(var V in X){jm.gn({url:V,mx:!0},X[V],K);var U=K.oe();U.s6=U.Iy=-1}F++;if(F==x.length)for(var y=0;
y<x.length;y++){var R=A.delete(x[y])}}}}}},200)}}var Y=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],c=I.eg[a9.f6][a9.M6];
for(var y=0;y<Y.length;y++){var z=I.sH(Y[y]);if(c.indexOf(z)!=-1){var f=I.eg[a9.f6][a9.Ek],$=I.sH("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
I.oA(f);f[a9.axW]=$;return}}this.q=bs.aru();this.T9={q:this.q,adW:!1,i5:null,ja:0,OD:{$H:[],IC:[],list:[],U0:null},iG:[],ag$:[],aq:[],$r:[],LU:[],K_:[],awA:[],aja:[],LU:[],qr:[a_.Ta()],ck:[],TJ:[],wS:null,M5:0,_w:{ut:1,fe:JSON.parse(JSON.stringify(eF.fN[0]))},Nk:eF.oc.Ta(),Vk:[null].concat(eF.fN),T8:[null].concat(eF.fN),zl:new dk(function(O){var j=new h1(w.E.L,!0);
j.data={d:w.I.vO,VS:{url:"rsrc/fonts/"+O}};this.c(j)}.bind(this)),KP:{qu:[],Pf:null,Nd:null},font:null,vA:[],Uo:[],a2t:{},qm:0,YQ:16777215,Pk:!1,uj:!0,EU:{xS:!0,WV:!1,h1:!0,V9:!0,dv:!0,FT:!0,jk:20,MU:0,uF:0,hq:0,x$:8421504,dA:65535},dM:!0,Zt:[!0,!0,!1,!0,!0],R1:[0,1,2,3,5,6,7,9,10,16,17,100],fi:1,Ox:!0,Yi:{},EK:!0,a6p:!1,compact:!1,DK:1,g_:0,bg:!0,Xw:null,v5:{id:"ts"+Math.round(Math.random()*16777215),ack:!1,aqt:!1,om:{},zt:{},b1:null},a4Z:0,a5Q:null,EZ:null,att:null,Al:null};
dk.UM.JC(this);this.aoX={oJ:new hD,va:new jc};this.T9.KP=b_.aCA();this.q0=new bK;this._y=new bj;this.NY=new hi(this.q,!0);
this.Mp=new bm;this.G8=new ge(this);this.EE=I._("div");this.E6=!1;this.U9=this.aaS.bind(this);I.Px(this.G8.n,"mainblock");
this.Wk.parent=this.q0.parent=this._y.parent=this.NY.parent=this.Mp.parent=this.G8.parent=this;this.G8.k(w.E.p,this.oI,this);
this.G8.k(w.E.qH,this.apK,this);this.G8.k("shuffleItems",this.ar4,this);this.G8.k(w.E.af9,this.abx,this);
this.k("mouse",this.aec,this);this.k(w.E.U,this.yx,this);this.k(w.E.hP,this.a9W,this);document.body.addEventListener("keydown",this.LA.bind(this),!1);
window.addEventListener("keyup",this.ix.bind(this),!1);window.addEventListener("paste",this.asN.bind(this),!1);
window.addEventListener("copy",this.ax_.bind(this),!1);window.addEventListener("wheel",function(O){if(O.ctrlKey)O.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(O){if(window.innerWidth>400)O.preventDefault();
this.T9.Xw=O}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(O){if(O.aly){console.log("Service worker installing")}else if(O.ae_){console.log("Service worker installed")}else if(O.active){console.log("Service worker active")}}).catch(function(O){console.log("Registration failed with "+O)})}this.a5=0;
this.n$=[];this.bp=new jm(dt.gn);this.bp.parent=this;var E=this.yh,b=this.Xo=I._("div");b.appendChild(this.q0.n);
b.appendChild(this._y.n);this.Wk.a1e(b);var q=this.a3M=I._("div","flexrow");E.appendChild(q);q.appendChild(this.NY.n);
q.appendChild(this.G8.n);q.appendChild(this.Mp.n);this.bp.TM({url:"rsrc/basic/basic.zip"});this.k5(m.Wh);
es.JC(this.agY.bind(this))}bs.prototype=new fk(!0);bs.prototype.TF=function(K){var o=new h1(w.E.L);o.data={d:w.I.Se,VS:K?K:"done"};
this.c(o)};bs.prototype.anq=function(){var K=this.T9.v5,Y=!1;if(K.b1==null)return;var o=this.n$;for(var y=0;
y<o.length;y++){var c=o[y];if(c.Iy!=c.Eu){var z=Date.now(),f=fv.lU(c,"psd",0,0,[!0,!1,!0,!1,!0]);c.Iy=c.Eu;
K.zt[c.name]=f;Y=!0;console.log(Date.now()-z,"saving "+c.name,f.byteLength)}}if(Y){var $=new h1(w.E.L);
$.data={d:w.I.Ak,VS:bB.Ap,amO:!0};this.c($)}};bs.prototype.agY=function(){I.eg[a9.Eq](this.a8r.bind(this),Math.pow(Math.PI,8)+I.eg[a9.arN][a9.a4f]()*1e4);
var K=es.Tu();if(K!=null&&K.globals!=null)this.M2(K.globals);else{this.afz=!0;var o=navigator.languages;
if(o&&o.length!=0){var Y=o[0];ca.A2(Y,this.U9)}}if(!this.MX()){var c=I.a9f();if(c==0)this.a6p=!0;if(c==2)this.T9.EK=!1;
if(c!=1&&Math.random()<.002)I.apE()}if(!ih.f5()||!this.T9.EK){this.ave();this.Bs()}else{var z=I.KE(I.eg[a9.lD]);
z[a9.A4](a9.$0,this.a7G.bind(this));z[a9.n8](I.I2("61="),I.I2("_MYOqDLGJa;A:6"));z[a9.JR]()}this.CO=!0;
this.TF()};bs.prototype.a7G=function(K){var o=JSON.parse(K.target[a9.dJ]),Y=I.eg[a9.kT][a9.afo]()/1e3,c=I.eg[a9.f6][a9.M6],z=!1;
for(var f in o)if(f.indexOf(".")!=-1&&c.indexOf(f)!=-1&&parseInt(o[f])>Y)z=!0;if(z)this.T9.EK=!1;this.ave();
this.Bs()};bs.prototype.Bs=function(K){this.Ng=!0;if(!this.T9.bg)this.G8.bg=null;else if(this.n$.length==0)this.G8.agx();
this.xk(bB.tk);this.t();this.aD();this.Mp.ic(this.oe(),this.n$,this.T9)};bs.prototype.M2=function(K){var o=this.T9;
if(K.fcolor!=null)o.qm=K.fcolor;if(K.bcolor!=null)o.YQ=K.bcolor;if(K.rulers!=null)o.Pk=K.rulers;if(K.extras!=null)o.uj=K.extras;
if(K.favFam!=null)o.vA=K.favFam;if(K.rsrc!=null)o.Uo=K.rsrc;if(K.font!=null)o.KP.qu[0].Name=K.font;if(K.panels!=null)o.R1=K.panels;
if(K.as!=null)o.DK=K.as;if(K.co!=null)o.g_=K.co;if(K.eparams){var Y=K.eparams,c=o.EU;if(Y.guides!=null)c.xS=Y.guides;
if(Y.grid!=null)c.WV=Y.grid;if(Y.gsize!=null)c.jk=Y.gsize;if(Y.gunits!=null)c.MU=Y.gunits;if(Y.gtype!=null)c.uF=Y.gtype;
if(Y.runits!=null)c.hq=Y.runits;if(Y.gcol!=null)c.x$=Y.gcol;if(Y.gucol!=null)c.dA=Y.gucol;if(Y.sels!=null)c.h1=Y.sels;
if(Y.paths!=null)c.V9=Y.paths;if(Y.pgrid!=null)c.dv=Y.pgrid;if(Y.slices!=null)c.FT=Y.slices}if(K.lang!=null)ca.A2(K.lang,this.U9);
if(K.theme!=null)o.fi=K.theme;if(K.topt||o.T6){var z=K.topt?K.topt:{},f=o.T6?o.T6:{};for(var $ in this.q.map){if($>=103)continue;
var E="t"+$;if(z[E]||f[E])this.q.map[$].f.jH(z[E],f[E],this)}}};bs.prototype.ave=function(){if(this.T9.adW)return;
this.T9.adW=!0;var K=null,o=window.location.href,Y=o.indexOf("="),c=o.indexOf("#");if(Y!=-1)K=o.substring(o.indexOf("?")+1,Y);
if(c!=-1&&c!=o.length-1){K="p";Y=c}if(c!=-1&&o[c+1]=="i"){this.bp._3(o.slice(c+2,c+10))}else if(o.slice(c+1).startsWith("goog_rewarded")){}else if(c!=-1&&o[c+1]=="t"){this.bp._3(o.slice(c+2,c+10).split("").reverse().join(""),!0)}else if(K=="p"||K=="state"){var z=o.substring(Y+1,o.length);
z=JSON.parse(decodeURI(z));if(K=="p"){if(z.script=="alert(73)")this.T9.EK=!1;if(z.script)f3.aAV(this);
if(z.server)this.DU=z.server;if(z.resources)for(var y=0;y<z.resources.length;y++)this.bp.TM({url:z.resources[y]});
if(z.files)for(var y=0;y<z.files.length;y++)this.bp.TM({url:z.files[y],Yr:{oO:z.server,awB:z.script}});
var f=z.environment;if(f==null)f={};if(f.plugins!=null)this.Mp.aCx(f.plugins);if(f.localsave!=null)this.T9.Ox=f.localsave;
if(f.customIO!=null)this.T9.Yi=f.customIO;if(f.vmode!=null){var $=f.vmode;if($==1)this.T9.compact=!0;
if($==2)this.sj(1)}if(f.intro!=null)this.T9.bg=f.intro;if(f.menus!=null)this.T9.awx=f.menus;if(f.tmnu!=null)this.T9.T6=f.tmnu;
if(f.panels!=null)this.T9.R1=f.panels;if(f.showtools!=null){var E=f.showtools,b=E.indexOf(this.T9.i5);
this.T9.Np=E;if(b==-1)this.k5(E[0])}if(f.phrases!=null)ca.aqV(f.phrases);if(f.autosave!=null){this.T9.DK=0;
window.setInterval(function(){var j=new h1(w.E.L);j.data={d:w.I.vB};this.c(j)}.bind(this),f.autosave*1e3)}if(f.icons!=null){for(var q in f.icons)if(f.icons[q].indexOf("\"")==-1){if((q==a9.akY||q==a9.a4M)&&this.T9.EK)continue;
PIMG[q]=f.icons[q];PIMG["__"+q]=!0}}this.M2(f);if(z.files==null&&z.script){eV.RF(z.script,this);this.TF()}}else if(K=="state"){var O=this.bp;
if(z.action=="create"){var j=new h1(w.E.L);j.data={d:w.I.Gg,XQ:"newproject",ahl:z.folderId};this.c(j)}if(z.action=="open"){for(var y=0;
y<z.ids.length;y++)hP.Oo(function(){var R="https://www.googleapis.com/drive/v3/files/"+this.aBO,g=new XMLHttpRequest;
g.open("GET",R);g.setRequestHeader("Authorization",hP.Hf());g.send();g.onload=function(H){var i=JSON.parse(H.target.response);
O.TM({url:R+"?alt=media",name:i.name,ED:{file:i,HT:""},Jd:{Authorization:hP.Hf()}})}}.bind({aBO:z.ids[y]}));
alert("Loading files from Google Drive ...")}}}else{var A=window.launchQueue;if(A){var O=this.bp;A.setConsumer(function(R){var g=R.files;
console.log(g);for(var y=0;y<g.length;y++){var H=g[y];H.getFile().then(function(i){O.H6([i],null,null,null,[H])})}})}}};
bs.prototype.t=function(){var K=document.getElementById("cap");if(K){var o=!1,Y=K.getElementsByTagName("h1")[0],f=0,E=0,b=0;
Y.textContent=o?"Photopea":ca.get([0,17,0]);var c=K.getElementsByTagName("p"),z=I.P9(ca.get([0,17,1])),$=["PSD","XCF","Sketch","XD","CDR"];
for(var y=0;y<$.length;y++)z=z.replace($[y],"<b>"+$[y]+"</b>");if(!o)z+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
c[0].innerHTML=z;z=ca.get([0,17,2])+" "+ca.get([0,17,3]);for(var y=0;y<z.length;y++){var q=z[y];if(q=="<")E++;
if(q==">")b++}if(!o&&E*b==9){var O=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var y=0;y<3;y++){var j=z.indexOf("<",f),A=z.indexOf(">",f),R=z.slice(0,j)+"<a href=\""+O[y]+"\" target=\"_blank\">"+z.slice(j+1,A)+"</a>";
f=R.length;z=R+z.slice(A+1)}c[1].innerHTML=z}else c[1].innerHTML=ca.get([0,17,2])}var g=document.getElementById("sponsors");
if(g)g.textContent=ca.get([0,17,4]);this.Wk.t();this.q0.t();this.Mp.t();this.NY.t();this.L3.t();this.G8.t();
for(var H in this.q.map)if(this.q.map[H].nE)this.q.map[H].nE.t()};bs.prototype.MX=function(){var K=I.eg[a9.dE][a9.alg];
if(K&&K[1]){if(K[1].endsWith(a9.I2("UUPSDm@ID")))return!0}return 4<I.eg[a9.dE][a9.kz][a9.aa0](a9.I2("'$!|"))};
bs.prototype.Fx=function(K,o){K=Math.floor(K);o=Math.floor(o);var Y=I.I2("WUMK&AM"),c=a9.$R,z=I.eg[a9.f6],f=Math.max(K,window.screen.width),$=Math.max(o,window.screen.height),j=0;
if(ih.Dh==null)ih.Dh=Math.min(f,$)<500||f<750?0:f<1500?1:2;var E=ih.Dh,b=!this.Ng||this.MX()||!this.T9.EK||es.YP()||E==0;
if(!b&&ih.f5()){if(this.arP==null)this.arP=Math.random()<.5;b=this.arP}if(b){if(E!=0&&I.eg[Y]&&this.Ng)I.eg[Y]()}else{if(E==0)o-=60;
else K-=E==1?180:320}fk.prototype.Fx.call(this,K,o);if(b&&this.E6){this.n[a9.EC](this.EE);I.oA(this.EE);
this.E6=!1}if(!b&&!this.E6){var q=function(g){if(Math.random()<.002){es.event(ih.Gp()?"gota_0":"gota_1")}this.a4n(K,o);
var H=E==0?z[a9.Ek]:this.n;H.appendChild(this.EE);this.EE[a9.xX](c,I.I2("_MMJLNDfKCAg")+(E==0?10:10)+I.I2("_d$ebOS?I:==Ba-+# }$M"));
this.EE[c][I.I2("_MMJLND&<:E")]=(E==0?0:19)+I.I2("_d");this.EE[c][I.I2("i5WJHX")]=E==0?0:1}.bind(this);
function O(){ih.a5d(q)}setTimeout(O,2300);this.E6=!0}if(I.qO(this.q0.n))j+=31;if(I.qO(this._y.n))j+=32;
this.Wk.abE=this.T9.EK&&this.Ng;this.Wk.Fx(K,j);var A=o-j,R=I.I2("_d");this.EE[c][a9.a3d]=(E==0?100>>>1:o-11)+R;
this.EE[c][a9.$y]=(E==0?K:6*Math.pow(10,2))+R;if(I.qO(this.NY.n))this.NY.Fx(K,A);this.Mp.Fx(K,A);this.G8.Fx(K-this.NY.iW()-this.Mp.iW(),A)};
bs.prototype.a4n=function(K,o){var Y=function(){var c=new h1(w.E.L);c.data={d:w.I.Gg,XQ:"account"};this.c(c)}.bind(this);
ih.at1(K,o,this.EE,Y)};bs.prototype.ax_=function(K){console.log("systemCopy")};bs.prototype.asN=function(K){if(I.ql())return;
console.log("systemPaste");if(!K.clipboardData)return;var o=K.target.tagName.toLowerCase(),Y=K.clipboardData.items;
if(Y==null)return;var c=this.avk.bind(this);for(var y=0;y<Y.length;y++){var z=Y[y],f=z.getAsFile();if(z.type.indexOf("image")!=-1){if(f.size==this.T9.a4Z)return;
this.T9.a4Z=f.size;if(f){f.name="image.png";this.bp.H6([f],c)}}}};bs.prototype.avk=function(K,o){var Y={buffer:K,rect:o},c=this.T9;
if(I.ql()){var z=this.aoX,f=z.oJ;if(f.m==o.m&&f.e==o.e){Y.rect=f;Y.va=z.va}}else{if(c.EZ){var $=new h1(w.E.U,!0);
$.f=m.s5;$.data={d:"h_stepbck"};this.c($)}}c.EZ=Y;var $=new h1(w.E.L,!0);$.data={d:w.I.Cd,azY:!0};this.c($)};
bs.prototype.axG=function(){if(this.L3.BQ()!=null)alert(ca.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
bs.prototype.yx=function(K){var o=this.oe();if(o==null){alert(ca.get([15,7,7]));return}var Y=K.f==m.AC||K.f==m.bx;
if(this.L3.$l()&&K.vk!=!0&&!Y){this.axG();return}var c=this.q,z=this.T9.i5,f=K.f;if(f==m.oB&&z==m.Fd)f=m.Fd;
if(z!=f&&c.map[z].f.$l()&&!Y&&!(z==m.AF&&f==m.lj)){console.log("disabling",z);c.map[z].f.disable(o,this,this.T9,this.t6)}var $=this.q.map[f].f;
$.yx(K.data,this,o,this.t6,this.T9)};bs.prototype.a9W=function(K){var o=this.T9;if(K.data.Un!=!0)b0.adK({Rk:K.data.Rk,jU:K.data.jU},this,o,this.oe());
var Y=o.wS,c=o.TJ;if(Y==null)return;var z={aCu:!1,ip:"Step",ao8:0,u:!0,exp:!1,Rk:K.data.Rk};if(Y[2]==null)Y[2]=c[Y[0]].k6[Y[1]].k6.length-1;
if(K.data.jU)z.jU=K.data.jU;c[Y[0]].k6[Y[1]].k6.splice(Y[2]+1,0,z);Y[2]++;this.xk(bB.U)};bs.prototype.NW=function(K){if(this.a6p){K.data=0;
return K.type}fk.prototype.NW.call(this,K);var o=K.data.d;if(o==w.I.z8)b0.ak9(this.oe(),this.T9.TJ,K.data.$G[0],K.data.$G[1],this);
if(o==w.I.azi){this.a57(K.data.a3a)}if(o==w.I.a3J){this.t();this.aD()}if(o==w.I.m9)this.aD();if(o==w.I.vv)if(this.T9.Xw){this.T9.Xw.prompt();
this.T9.Xw=null}if(o==w.I.eZ)this.G8.RL(K.data.gg,K.data.push);if(o==w.I.aqk)this.G8.aAs();if(o==w.I.afk)this.oI(null,K.data.dir);
if(o==w.I.SM)this.G8.En(this.n$.indexOf(K.data.zV));if(o==w.I.lI){if(K.data.cB&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(K.data.cB)document.body.webkitRequestFullScreen();if(K.data.b!=null)this.sj(K.data.b)}if(o==w.I.ayA){if(K.data.WR)this.t6.EN(K.data.a5C);
else this.t6.BF(K.data.a5C);this.Ed(K.data.WR?"down":"up")}if(o==w.I.a7M){var Y=K.data.b;this.Mp.aCx([Y]);
this.t()}if(o==w.I.Bu){var c=this.oe(),z=c.Gl().slice(0),f=c.B[c.Y[0]],$=new hD(0,0,c.m,c.e),E=h7.I_()+"-d71c-11e5-b1ae-a548a96e5f9f",b=new h1(w.E.L,!0);
if(K.data.VS==0){var q={name:"Default/"+c.name.split(".")[0],id:E,JN:[z,$]};b.data={d:w.I.Ak,Yr:"add",VS:bB.Tq,Uo:[q]};
this.c(b)}if(K.data.VS==1){var O=d.R($.Z()*4);d.nz(O,4294967295);d.l.To("norm",z,$,O,$,$,1);var j=d.R($.Z());
d.jf(O,j);d.oD(j);var R=d.sd(j,$);if(R.xf())R=$;var g=d.R(R.Z());d.u_(j,$,g,R);R.x=R.y=0;var H={oJ:R,id:E,JN:[g,R]},i=iO.EL(E),h=i.Brsh.v;
h.Dmtr.v.val=Math.max(R.m,R.e);h.Spcn.v.val=10;b.data={d:w.I.Ak,Yr:"add",VS:bB.ra,Uo:{list:[{t:"Objc",v:i}],IC:[H],$H:[]}};
this.c(b);b.data={d:w.I.Ak,VS:bB.NJ,vg:i};this.c(b)}if(K.data.VS==2){var x=c.dK(),F=x[0][x[1][0]],X={gK:"Default/"+f.getName(),A8:E,$:F.add.vmsk.clone().$},V=d.j.QJ(X.$),U=new dF(V.m,0,0,V.e,V.x,V.y);
U.oD();d.j.k3(X.$,U);V.x=V.y=0;X.BA=V.clone();b.data={d:w.I.Ak,Yr:"add",VS:bB.mI,Uo:[X]};this.c(b)}}if(o==w.I.vO)this.bp.TM(K.data.VS);
if(o==w.I.WC){var Z=K.data.aqM,T=K.data.pT;if(Z!=!0&&T!=!0&&this.JQ("open"))return;var v=this.G8.At();
if(T)v=-1-v;this.bp.alj(Z||T?v:null,K.data.an$)}if(o==w.I.eP){var P=K.data.aiE,p=K.data.HK,a=this.sE(P);
if(p){var D=P==bB.ra,n=[];for(var y=0;y<p.length;y++)n.push((D?a.list:a)[p[y]]);a=D?{$H:a.$H,IC:a.IC,list:n}:n}if(P==bB.j7){var $=new h7;
for(var y=0;y<a.length;y++){var N=a[y].Ww.Lefx;if(N)eq.auT(N,$,this.T9.K_)}a={DL:$.add.Patt?$.add.Patt:[],sa:a}}if(P==bB.Us){var W=this.T9.OD;
a={IC:[],$H:[],list:a};console.log(a)}if(P==bB.U)a=a[K.data.Vp];var G=bB.eq[P],z=G[2].lW(a);jm.save(z,G[1]+"."+G[0])}if(o==w.I.g3){var l=this.T9.v5,u=K.data.axw;
if(l.b1&&!l.ack&&!u){l.aqt=window.confirm("Load \""+K.data.S4+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
l.ack=!0}if((l.aqt||u)&&l.b1){l.om[K.data.S4]=K.data.Q3;var b=new h1(w.E.L);b.data={d:w.I.Ak,VS:bB.Ap};
this.c(b)}}if(o==w.I.a4s){var c=this.oe(),B="<!DOCTYPE HTML>";if(c==null)return;var e=fv.lZ(c.Gl().buffer,c.m,c.e),M=window.open();
B+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";B+="<body><img src=\""+e+"\" /></body>";
B+="</html>";M.document.write(B)}if(o==w.I.xW){if(this.JQ("publishOnline"))return;var s=K.data.ks!="psd",c=this.oe();
if(c==null)return;if(!s&&c.hr)return;var t="Your "+(s?"picture":"document")+" will be published at "+(s?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!s)t+=" We guarantee 6+ months of storage.";var J=K.data.F_?!0:confirm(t);if(J){if(!s){var b=new h1(w.E.U,!0);
b.f=m._V;b.data={d:S.qf};this.c(b);var L=new hD(0,0,c.m,c.e);for(var y=0;y<c.B.length;y++){var f=c.B[y];
if(f.rect.xf()||f.f$()||f.ue()||f.L8()||f.sB()||f.add.TySh||f.add.vmsk||f.add.SoLd)continue;var k=L.wu(f.rect);
if(!k.BV(f.rect)&&!k.xf()){var C=d.R(k.Z()*4);d.iF(f.buffer,f.rect,C,k);f.buffer=C;f.rect=k}if(!d.Bc(f.buffer,f.rect.m,f.rect.e))continue;
var r=f.KL(),Q=f.opacity,j9=f.YF,a4=f.z_;f.dt(!0);f.opacity=255;f.YF="norm";c.Y=[y];b.data={d:S.MQ,ks:"jpg"};
this.c(b);var ar=c.B[y];f.dt(r);ar.dt(r);f.opacity=ar.opacity=Q;f.YF=ar.YF=j9,f.z_=ar.z_=a4}}if(c.gF){c.Uj()}var ez=c.m,ja=c.e,c3=K.data.aq9,hW;
if(c3)while(Math.max(ez,ja)>c3){ez=ez>>>1;ja=ja>>>1}console.log(ez,ja);if(K.data.ks=="psd")hW=fv.lU(c,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(K.data.ks=="png")hW=fv.lU(c,"png",ez,ja);else{var fO=fv.lU(c,"png",ez,ja),ei=fv.lU(c,"jpg",ez,ja);
hW=fO.byteLength<ei.byteLength?fO:ei}if(K.data.F_==null)K.data.F_=function(c7){var dU=s?c7:"https://www.photopea.com/#i"+c7+".psd",b=new h1(w.E.L);
b.data={d:w.I.Gg,XQ:"linkview",agJ:dU};this.c(b)}.bind(this);if(s)jm.af8(hW,K.data.F_);else this.bp.a6M(hW,c.name,K.data.F_,"psdshared")}}if(o==w.I.vB){var c=this.oe(),fV=!1;
if(c==null)return;if(c.gF){c.Uj()}if(K.data.Bw){if(!this.na(c,K.data.Bw))return;var z=dt.ae2(c,K.data.Bw,this.T9);
this.TF(z);fV=!0}else if(c.cr){if(this.n$.indexOf(c.cr.lQ)!=-1){var z=new Uint8Array(fv.WD("PSD").vc(c,null,null,[!0,!1])),b=new h1(w.E.U,!0);
b.data={d:S.DP,l_:c.cr.lQ,data:z,id:c.cr.a5z,oF:c.name};b.f=m._V;this.c(b);alert("Smart Object updated")}fV=!0}else if(this.JQ("save")){fV=!0}else if(c.ED){dt.am$(c);
fV=!0}else if(c.yt){var aW=dt.agb(c);if(aW==1){alert("Already saving another file. Try again later.");
return}fV=!0}else if(c.Yr&&c.Yr.oO){if(!this.na(c,c.Yr.oO.formats))return;this.bp.aB1(c,this.T9,dt.arg);
fV=!0}else if(c.ZT&&"psd jpg png gif webp svg bmp".split(" ").indexOf(c.MG)!=-1){this.aAE();return}if(fV){c.s6=c.Eu;
c.z9=Date.now();c.px=!0}else{var b=new h1(w.E.L,!0);b.data={d:w.I.Uy};this.c(b)}}if(o==w.I.Uy){if(!this.T9.Ox){alert("function is disabled");
return}if(this.JQ("saveAsPSD"))return;var c=this.oe();if(c==null)return;if(!this.na(c))return;var b=new h1(w.E.U,!0);
b.data={d:S.qf};b.f=m._V;this.c(b);if(c.B.length>8e3&&!confirm("Your document has "+c.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var ee={ii:[]};c.root.a6r([],ee);var hM=ee.ii;if(hM.length>11&&!confirm("One layer is nested "+(hM.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hM.join(" \uD83E\uDC1A ")+"."))return;
var ds=window.showSaveFilePicker;if(window.parent!=window)ds=null;if(ds&&!K.data.a82){var cp={suggestedName:c.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
ds(cp).then(function(K){c.ZT=K;c.name=K.name;c.Pb=!0;c.MG="psd";this.aAE()}.bind(this));return}var eA=window.gtag;
if(c.bu()&&eA)eA("event",c.MG+":"+I.sH(es.YP()?"\"'|('61":"w'| "),{event_category:"Formats"});if(c.gF){c.Uj()}var db=g1==0?"PSD":"AI",js=fv.WD(db);
if(K.data.a82){var z=c.MG=="psd"?js.vc(c):dt.$v(c,c.MG,this.T9);this.a7D(z,c,this)}else{var z=js.vc(c);
jm.save(z,c.name);c.s6=c.Eu;c.z9=Date.now();c.px=!0}}if(o==w.I.IE)window.open(K.data.link,"_blank");
if(o==w.I.agN){if(this.L3.$l()){this.axG();return}var c=this.oe(),f=c.B[c.Y[0]],Y=c.yo(f.add.SoLd.Idnt.v);
for(var y=0;y<this.n$.length;y++){var bF=this.n$[y].cr;if(bF!=null&&bF.a5z==Y.YH&&bF.lQ==c){this.G8.qB(y);
return}}jm.gn({name:Y.oF,cr:{a5z:f.add.SoLd.Idnt.v,lQ:c}},Y.raw.buffer,this)}if(o==w.I.aml){var c=this.oe(),f=c.B[c.Y[0]],Y=c.yo(f.add.SoLd.Idnt.v);
jm.save(Y.raw.buffer,Y.oF)}if(o==w.I.azr){console.log(K.data);jm.gn({name:K.data.yt[1].split("/").pop(),yt:K.data.yt},K.data.r4,this)}if(o==w.I.ahN){var c=this.oe();
c.yt=K.data.yt;c.name=c.yt[1].split("/").pop();var b=new h1(w.E.L);b.data={d:w.I.vB};this.c(b)}if(o==w.I.s7){this.aw5()}if(o==w.I.pc){this.abK(K.data.qD,K.data.UH,K.data.nV)}if(o==w.I.Cd){this.adO(K.data.azY,K.data.Qo,K.data.nV)}if(o==w.I.aen){var jI=K.data.b;
if(this.T9.i5==m.oB&&this.Aj().$l()){var b=new h1(w.E.U,!0);b.f=m.oB;b.data={d:"insertText",b:jI};this.c(b);
return}if(jI.startsWith("vcb;")){var gF=JSON.parse(jI.slice(4));gF[0]=a_.asJ(gF[0]);var b=new h1(w.E.U,!0);
b.f=m.h_;b.data={d:"append",Mx:"Paste Paths",aBu:gF};this.c(b)}else if(jI.startsWith("lrs;")){var b6=jI.split(";"),ji=this.n$[parseInt(b6[1])];
if(ji==null)return;var hd=this.oe(),eZ=ji.Y;ji.Y=JSON.parse(b6[2]);var hj=ji.be(null,ji!=hd),b=new h1(w.E.U,!0);
b.data={d:S.Zn,B:hj,lQ:ji,LZ:hd};b.f=m._V;this.c(b);ji.Y=eZ}else if(jI.startsWith("<!--")||jI.startsWith("<svg")){var eK=_.tA(jI),cX=fv.WD("svg"),$=new h7("image.psd");
cX.MW(eK.buffer,$);if(this.n$.length!=0){var bW=$.B;if(bW.length==3&&bW[0].getName()=="</Layer group>"&&bW[2].f$())bW=[bW[1]];
var b=new h1(w.E.U,!0);b.f=m._V;b.data={d:S.Zn,B:bW,lQ:$,LZ:this.oe()};this.c(b)}else this.aAA($)}}if(o==w.I.nu){eV.RF(K.data.il,this)}if(o==w.I.Se){if(window.parent!=window)window.parent.postMessage(K.data.VS,"*");
this.Mp.qn(K.data.VS)}if(o==w.I.Ba){var ju=parseFloat(K.data.XQ);if(this.T9.R1.indexOf(ju)==-1){var b=new h1(w.E.L,!0);
b.data={d:w.I.Ak,VS:bB.Q5,b:ju,Yr:"add"};this.c(b)}this.Mp.a30(K.data.XQ)}if(o==w.I.Kk){this.j$.aus(this.oe(),this.T9)}if(o==w.I.Gg){var ci="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var y=0;y<ci.length;y+=2)if(K.data.XQ==ci[y]&&this.JQ(ci[y+1]))return;if(!this.T9.Ox&&K.data.window=="saveforweb"){alert("function is disabled");
return}this.L3.ak0(K.data.XQ,this.oe(),K.data,this.n$,this.t6)}if(o==w.I.fv)jm.save(K.data.data,K.data.name);
if(o==w.I.Pc){if(!this.L3.$l()||K.vk)this.aAA(K.data.l_)}if(o==w.I.B7){this.G8.qB(K.data.target);var b=new h1(w.E.U,!0);
b.data={d:S.a2f,l_:K.data.l_,O$:K.data.O$,JZ:K.data.JZ};b.f=m._V;this.c(b);this.k5(m._6)}if(o==w.I.az4){jK.YT=!jK.YT;
if(this.n$.length>0)this.oe().W()}if(o==w.I.al4){var b8=es.Tu();if(b8!=null&&b8.globals!=null)this.M2(b8.globals);
this.Bs()}if(o==w.I.$e){this.bp.H6(K.data.data,null,K.data.ZX,K.data.gq,K.data.af6)}if(o==w.I.NR){var gh=this.Aj();
if(!this.L3.BQ()!=null)this.k5(K.data.f,K.data.kM);var aN=this.Aj();if(aN!=gh&&K.data.aaF)aN.tx(this.oe(),this,this.T9,this.t6,this.wL)}if(o==w.I.LS){if(this.q.Y6)this.k5(this.q.Y6)}if(o==w.I.h$){var eS=this.q.map[K.data.f].f,c=this.oe();
eS.SX(K.data,this,c,this.t6,this.T9);if(c)c.jS=!0;this.aeY()}if(o==w.I.DA){var b2=this.q.map[K.data.f];
this.adN(b2);b2.nE.Tl(K.data)}if(o==w.I.Ak){var c=this.oe(),fZ=K.data.VS,dw=K.data.Uo,ib=this.T9;if(K.data.Yr=="set"){var aN=m.Ru[dw[1].classID];
if(ib.i5!=aN)this.k5(aN);this.q.map[aN].nE.a0N(dw,ib)}if(K.data.Yr=="add"){var G=bB.eq[fZ];if(fZ==bB.Q5){ib.R1.push(K.data.b);
ib.R1.sort(function(c7,dU){return c7-dU})}else if(G==null){if(dw)ib.zl.aCq(dw,K.data.ac5);if(c)c.px=!0}else{var eJ=this.sE(fZ);
if(fZ==bB.ra){eJ.IC=eJ.IC.concat(dw.IC);eJ.$H=eJ.$H.concat(dw.$H);eJ=eJ.list;dw=dw.list}if(fZ==bB.j7&&c){for(var y=0;
y<dw.length;y++){var N=dw[y].Ww.Lefx;if(N)eq.asp(N,c,ib.K_)}}if(fZ==bB.Us&&dw==null){var $=this.q.map[ib.i5].nE.ax9();
if($==null)return;dw=[$]}for(var y=0;y<dw.length;y++)eJ.push(dw[y]);if(fZ==bB.mI){var df={};for(var y=0;
y<eJ.length;y++){var k5=eJ[y].gK;while(df[k5]!=null)k5=eJ[y].gK=k5+"X";df[k5]=!0}}if(K.data.ac5!=!0)if(eJ.length!=dw.length||fZ==bB.U4||fZ==bB.j7||fZ==bB.Cw||fZ==bB.U)alert(ca.get(G[3])+" "+ca.get([23,1])+".")}}if(K.data.Yr=="del"){if(fZ==bB.Q5){ib.R1.splice(ib.R1.indexOf(K.data.b),1)}else{var G=bB.eq[fZ],p=K.data.HK,eJ=this.sE(fZ);
if(fZ==bB.ra)eJ=eJ.list;for(var y=0;y<p.length;y++)eJ[p[y]]=null;for(var y=0;y<eJ.length;y++)if(eJ[y]==null){eJ.splice(y,1);
y--}alert(ca.get(G[3])+" deleted.")}}if(K.data.Yr=="rnm"){var G=bB.eq[fZ],eJ=this.sE(fZ);if(fZ==bB.ra)eJ=eJ.list;
if(eJ[K.data.HK[0]]==null)return;G[2].eB(eJ[K.data.HK[0]],(K.data.Xu?K.data.Xu:"")+K.data.b)}if(fZ==bB.Vo){var eC=K.data.b;
ib._w=eC;ib.Vk[eC.ut]=eC.fe}if(fZ==bB.Xq){var eC=K.data.b;ib.Nk=JSON.parse(JSON.stringify(eC));var j7=eF.WE(eC);
ib.T8[j7.ut]=j7.fe}if(fZ==bB.uN){ib.M5=K.data.b}if(fZ==bB.tV){ib.KP=K.data.KP}if(fZ==bB.NJ){var C=JSON.parse(JSON.stringify(K.data.vg)),cK=C.useBrushSize;
if(cK&&cK.v){C.Brsh.v.Dmtr.v.val=ib.OD.U0.Brsh.v.Dmtr.v.val;cK.v=!1}ib.OD.U0=C;var bw={Rk:"select",jU:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:C.Nm.v.split("/").pop()}}]}}},b2=this.Aj();
b2.qT=this;b2.track(bw)}if(fZ==bB.OT){ib.vA=K.data.Wx}if(fZ==bB.Ft){ib.Uo=K.data.Wx}if(fZ==bB.R8){var bw,f6="Clrs";
if(K.data.f4<2){var iF=K.data.b,ag=K.data.f4==0,bS=d.H.eD({o:iF>>>16,A:iF>>>8&255,J:iF&255});if(ag)ib.qm=iF;
else ib.YQ=iF;f6=ag?"FrgC":"BckC";bw={Rk:"set",jU:{__name:"Set",classID:"setd",T:{t:"Objc",v:bS}}}}if(K.data.f4==2){var b$=ib.qm;
ib.qm=ib.YQ;ib.YQ=b$;bw={Rk:"exchange",jU:{__name:"Exchange",classID:"Exch"}}}if(K.data.f4==3){ib.qm=0;
ib.YQ=16777215;if(c!=null&&c.Y.length!=0&&c.B[c.Y[0]].xO==1){var b$=ib.qm;ib.qm=ib.YQ;ib.YQ=b$}bw={Rk:"reset",jU:{__name:"Reset",classID:"Rset"}}}if(bw){bw.jU.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:f6}}]};
var b2=this.Aj();b2.qT=this;b2.track(bw)}}if(fZ==bB.yP){ib.Pk=!ib.Pk;this.aD()}if(fZ==bB.PA){ib.uj=!ib.uj;
this.aD()}var aj=ib.EU;if(fZ==bB.xh){aj.h1=!aj.h1;this.aD()}if(fZ==bB.Kc){aj.V9=!aj.V9;this.aD()}if(fZ==bB.dD){aj.xS=!aj.xS;
this.aD()}if(fZ==bB.mE){aj.WV=!aj.WV;this.aD()}if(fZ==bB.Qs){aj.dv=!aj.dv;this.aD()}if(fZ==bB.XO){aj.FT=!aj.FT;
this.aD()}if(fZ==bB.gE){ib.EU=K.data.Wx;this.aD()}if(fZ==bB.abH){ib.dM=!ib.dM;this.aD()}if(fZ==bB.lT){ib.Zt[K.data.ss]=!ib.Zt[K.data.ss];
this.aD()}if(fZ==bB.j0){ca.Yc(K.data.lang,this.U9)}if(fZ==bB.oz){ib.fi=K.data.fi;this.t()}if(fZ==bB.Ap&&ib.v5.b1){var iV=ib.v5.b1.transaction(["rsrc"],"readwrite").objectStore("rsrc"),g0={k:"fs0",fset:ib.v5.om};
if(K.data.amO)g0={k:ib.v5.id,fset:ib.v5.zt};var eB=Object.keys(g0.fset).length==0?iV.delete(g0.k):iV.put(g0);
eB.onerror=function(K){console.log(K);alert("Storing failed. Browser says: "+K.target.error.message,7e3)}}this.xk(fZ)}};
bs.prototype.aAE=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.Cj,vU:"Saving ..."};this.c(K);setTimeout(function(){var K=new h1(w.E.L,!0);
K.data={d:w.I.Uy,a82:!0};this.c(K)}.bind(this),20)};bs.prototype.a7D=function(K,o){o.ZT.createWritable().then(function(Y){Y.write(K);
return Y}).then(function(Y){return Y.close()}).then(function(Y){o.s6=o.Eu;o.z9=Date.now();o.px=!0;var c=new h1(w.E.L,!0);
c.data={d:w.I.fy,vU:"Saving ..."};this.c(c)}.bind(this)).catch(function(Y){var c=new h1(w.E.L,!0);c.data={d:w.I.fy,vU:"Saving ..."};
this.c(c)}.bind(this))};bs.prototype.a0b=function(){var K=this.T9,o=K.Uo,Y=K.a2t;for(var y=0;y<o.length;
y++){var c=o[y];if(Y[c])continue;Y[c]=!0;this.bp._3(c,!1,!0)}};bs.prototype.aaS=function(){this.t();
this.aD()};bs.prototype.JQ=function(K){var o=this.T9.Yi[K];if(o){var Y=new h1(w.E.L,!0);Y.data={d:w.I.nu,il:o};
this.c(Y)}return o!=null};bs.prototype.na=function(K,o){var Y=!0,$=15;if(o){Y=!1;for(var y=0;y<o.length;
y++)if(o[y].startsWith(I.I2("__M")))Y=!0}var c=K.bu()||K.cr&&K.cr.lQ.bu();if(this.MX())c=!1;var z=new I.eg[a9.kT],f=(z[I.sH("xy,b-66:")]()&1)*60+z[I.I2("VQ]3LNRN<G")]();
if(c&&!es.YP()&&f>$&&Y){var E=I.eg[I.sH("}$z{2*35")][I.sH("y'|!")],b=I.I2("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
b+="\n\n"+I.I2("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-f+120)+I.I2("nYRTXTBMd");
if(E.indexOf(I.sH("\"|'/-1)(W0?@"))==-1)b=ca.get([0,11+6,3+2]);I.eg._cwY(b);return!1}return!0};bs.prototype.sE=function(K){var o=this.T9,Y=[bB.ra,bB.ne,bB.cw,bB.Cw,bB.Tq,bB.mI,bB.j7,bB.U4,bB.U,bB.Us,bB.wb],c=[o.OD,o.aq,o.$r,o.LU,o.K_,o.qr,o.ck,o.awA,o.TJ,o.iG,o.ag$];
return c[Y.indexOf(K)]};bs.prototype.aw5=function(){var K=this.abK(),o=this.oe();if(o==null||o.Y.length==0)return;
var Y=o.B[o.Y[0]],c=new h1(w.E.U);if(K==1){c.f=m.h_;c.data={d:"remove",Mx:"Cut Paths"}}else{c=new h1(w.E.hP);
c.data={Rk:"delete"}}this.c(c)};bs.prototype.abK=function(K,o,Y){if(K==null)K=!1;var c=this.T9;console.log("doCopy",K,o);
var z=this.oe();if(c.i5==m.oB&&this.Aj().$l()){var f=new h1(w.E.U,!0);f.f=m.oB;f.data={d:"copyText"};
this.c(f);return}if(z==null||z.Y.length==0)return;var $=z.B[o==null?z.Y[0]:o],E=z.dK(),b=E[0],q=E[1],O=b[q[0]];
if(!K&&O!=null&&O.add.vmsk.Y.length!=0){var j=m.xY.GB(O.add.vmsk,O.add.vogk);if(I.ql()){j[0]=a_.aBx(j[0]);
var R="vcb;"+JSON.stringify(j);jm.me(new Blob([R],{type:"text/plain"}))}else c.Al=j;return 1}else if(z.r==null){if(I.ql()){var R="lrs;"+this.n$.indexOf(z)+";"+JSON.stringify(z.Y);
jm.me(new Blob([R],{type:"text/plain"}))}}else{var g,H;if(K){var i=new hD(0,0,z.m,z.e);H=i.wu(z.r.rect);
g=d.R(H.Z()*4);d.iF(z.Gl(),i,g,H);d.D$(z.r.channel,z.r.rect,g,H)}else if(z.Md.length!=0){H=z.r.rect.clone();
g=d.R(H.Z()*4);var h=z.Kl[z.Md[0]],x=h.dQ(H);d.xI(x,g);d.cb(z.r.channel,g,3)}else{var F=$.Ct(z,z.r);
if(F==null){alert("Copied area is empty");return}g=F.r4;H=F.rect}var X=z.Q.v,V=X[0]+X[1]+X[2];if(V==1){var U=X.indexOf(1);
for(var y=0;y<g.length;y+=4)g[y]=g[y+1]=g[y+2]=g[y+U]}var Z=new jc(z.m,z.e);if(I.ql()&&Y!=!0){var T=fv.WD("PNG").azW(g.buffer,H.m,H.e);
jm.me(new Blob([new Uint8Array(T)],{type:"image/png"}));this.aoX={oJ:H,va:Z}}else c.EZ={buffer:g,rect:H,va:Z};
c.a5Q=H.clone();c.Al=null}};bs.prototype.adO=function(K,o,Y){if(o)this.a77=!0;console.log("doPaste");
var c=this.T9,z=c.EZ,b;if(this.n$.length==0){if(!K&&I.ql()){jm.YD(this,null);return}if(z){var f=fv.w_("image.psd",[{data:z.buffer.buffer,eQ:z.rect}]),$=new h1(w.E.L);
$.data={d:w.I.Pc,l_:f};this.c($)}return}var f=this.oe();if(c.i5==m.oB&&this.Aj().$l()){jm.YD(this,null);
return}var E=f.B[f.Y.length==0?f.B.length-1:f.Y[0]];if(c.Al){var q=f.dK(!0),O=q[0],j=q[1];b=O[j[0]]}var $=new h1(w.E.U,!0);
if(c.Al!=null&&b!=null){$.f=m.h_;$.data={d:"append",Mx:"Paste Paths",aBu:c.Al}}else if(!K&&I.ql()&&Y!=!0){jm.YD(this,this.avk.bind(this));
return}else{if(z==null)return;if(f.WM(!1)&&(f.Q.v.join("")!="111"||f.Md.length!=0||E.xO>0||E.rect.xf())){$.f=m.ra;
$.data={d:"draw",akM:!0,Mx:[5,2]}}else{$.f=m._V;$.data={d:S.fC,Qo:this.a77};this.a77=!1}$.data.EZ=z}this.c($)};
bs.prototype.amM=function(){var K=this.T9.zl;if(K.aBM())return;for(var y=0;y<this.n$.length;y++){var o=this.n$[y];
if(!au._1(o,K,this))continue;if(o.$P)au.tF(o,K,this);var Y=o.add.lnk2;if(Y)for(var c=0;c<Y.length;c++){var z=Y[c];
if(z.$P)m.$m._H(o,z.YH,z.W3[1],z.W3[1],K)}if(o.avI)continue;o.avI=!0;if(o.Yr&&o.Yr.awB)eV.RF(o.Yr.awB,this);
this.TF();var f=new h1(w.E.U);f.f=m._V;f.data={d:S.RM};var $=new h1(w.E.L);$.data={d:w.I.Ba,XQ:fW.CL.aba}}};
bs.prototype.xk=function(K){this.a0b();var o=this.T9,Y=o.i5,$=!1;if(K==bB.NJ){if(this.q.map[Y].nE)this.q.map[Y].nE.fL(o,K)}else for(var c in this.q.map)if(this.q.map[c].nE)this.q.map[c].nE.fL(o,K);
if(K==bB.Kx){if(Y!=m.oB)this.q.map[m.oB].f.fL(o,K);this.amM()}this.G8.fL(o,K);this.NY.fL(o,K);this.L3.fL(o,K);
if(g1==1&&(K==bB.Vo||K==bB.Xq))this.q.map[m.pf].f.fL(o,K);else this.Aj().fL(o,K);this.Mp.fL(o,K);this.q0.fL(o,K);
if(K==bB.oz||K==bB.tk){j1.a7w(o.fi);this.update(!0)}var z=o.KP,f=z.Pf.Font;if(K==bB.tV&&f!=null&&z.qu[f].Name!=o.font){o.font=z.qu[f].Name;
$=!0}if([bB.Q5,bB.OT,bB.Ft,bB.R8,bB.yP,bB.PA,bB.gE,bB.dD,bB.mE,bB.xh,bB.Kc,bB.Qs,bB.XO,bB.j0,bB.oz].indexOf(K)!=-1||$)this.aeY()};
bs.prototype.aeY=function(){if(!this.CO)return;var K={},o=this.q.map;for(var Y in o){var c=o[Y].f;if(c.Hn&&c.Hn()!=null)K["t"+Y]=c.Hn()}var z=this.T9,f=z.EU,E={guides:f.xS,grid:f.WV,sels:f.h1,paths:f.V9,pgrid:f.dv,slices:f.FT,gsize:parseFloat(f.jk.toFixed(2)),gunits:f.MU,gtype:f.uF,runits:f.hq};
if(f.x$!=8421504)E.gcol=f.x$;if(f.dA!=65535)E.gucol=f.dA;var b={fcolor:z.qm,bcolor:z.YQ,rulers:z.Pk,extras:z.uj,favFam:z.vA,rsrc:z.Uo,panels:z.R1,eparams:E,lang:ca.WX(),theme:z.fi,as:z.DK,co:z.g_,topt:K};
if(z.font!=null)b.font=z.font;var q=es.Tu();if(q==null)q={};q.globals=b;es.y8(q)};bs.prototype.bs=function(K){var o=this.t6,Y=this.wL,c=this.T9.i5,z=this.q.map[c].f,f=null,$=!1;
for(var y=0;y<this.q.a29.length;y++){var E=this.q.a29[y],b=!0;for(var q=0;q<E.aL.length;q++){var O=E.aL[q];
if(!o.S(O))b=!1}if(b&&(!E.uM||!z.$l())&&(E.WU==null||E.WU.indexOf(c)!=-1)){f=E.f;$=E.uM;break}}if((!Y.WR||c==m.RQ||K)&&this.q.sw!=f&&(f!=c||!$)){var j=this.oe();
if(this.q.sw!=null&&f==null)this.Aj().disable(j,this,this.T9,o,!0);this.q.sw=f;this.Aj().enable(j,this,this.T9,o,f!=null&&f!=c)}};
bs.prototype.sO=function(K){var o=this.T9.i5,Y=this.oe();if(o!=null){this.q.map[o].f.disable(Y,this,this.T9,this.t6)}};
bs.prototype.adN=function(K){if(K.nE==null){K.nE=new K.VA(K.f.id);K.nE.ad8(K.f.id,K.f.hF);K.nE.fL(this.T9,bB.tk);
K.nE.t()}};bs.prototype.k5=function(K,o){if(K==m._6&&this.L3.BQ())return;var Y=this.oe(),c=this.T9;if(this.q.map[K].f.IA(Y,c)){this.sO();
if(K!=c.i5)this.q.Y6=c.i5?c.i5:m.Wh;c.i5=K;this.NY.k5(c.i5);var z=this.q.map[K];this.q.LL[z.mO]=z.atr;
this.adN(z);this._y.a3t(z.nE);var f=z.f;f.enable(Y,this,this.T9,this.t6,!1,o);if(Y)Y.jS=!0;this.aD();
this.Wk.aiq()}};bs.prototype.Aj=function(K){var o=this.q,Y=o.p_,c=o.sw,z=this.T9.i5;if(Y)z=Y;else if(c&&K==null)z=c;
return o.map[z].f};bs.prototype.aAA=function(K){var o=this.T9,Y=this.n$.indexOf(K);if(Y!=-1){this.G8.qB(Y);
return}if(this.DU&&(K.Yr==null||K.Yr.oO==null)){K.Yr={oO:this.DU}}if(K.z0==null){K.z0="local,"+this.abB+","+K.name;
this.abB++}K.z9=Date.now();if(g1==1&&K.add.arts==null)K.aBg();if(ih.Gp()!=0&&!this.afz&&I.eg[I.sH("t$&!'31")].toString().indexOf(I.sH(" u,$4&"))==-1){alert(I.sH("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var y=0;y<K.B.length;y++){var c=K.B[y];if(c.add.SoLd!=null){var z=Date.now()}}var f=K.B[K.Y[0]],$=K.B[K.Y[0]+1],E=K.B.length,b=a9.cY(),q=Math.PI*(5465<<14)+(I.m$(31)?20:10)*7e7;
if(b>q){var E=K.B.length;K.B=[];return E}if(jK.YT){jK.zn(Math.max(K.m,K.e));for(var y=0;y<K.B.length;
y++){var c=K.B[y];if(c.Go())jK.zn(Math.max(c.rect.m,c.rect.e))}}K.Sm();K.t4();if(K.ahr)K.ark();else K.W();
K.ahr=!1;this.n$.push(K);this.G8.kb(new fH(K));K.jS=!0;K.px=!0;this.amM();var O=new h1(w.E.U);O.f=m.Ay;
O.data={d:"auto",mJ:2}};bs.prototype.oe=function(){return this.n$[this.a5]};bs.prototype.adx=function(){return this.L3.BQ()==null};
bs.prototype.oI=function(K,o){this.sO();var Y=this.n$.length;if(o!=null)this.G8.qB((this.G8.At()+o+Y)%Y);
this.a5=this.G8.At();var c=this.oe();this.q0.ar_(c,this.T9);this.Mp.ic(c,this.n$,this.T9);this.aD();
if(c)c.jS=!0};bs.prototype.apK=function(K){this.sO();var o=this.n$,Y=o[K.data.ky];o.splice(K.data.ky,1);
if(o.length==0){this.oI(K);var c=jK.oN(),z=fH.Ho.hA;if(c.parentNode)c.parentNode.removeChild(c);if(z.parentNode)z.parentNode.removeChild(z)}this.a8V(Y.name)};
bs.prototype.a8V=function(K){var o=this.T9.v5,Y=!1;if(o.b1==null)return;for(var c in o.zt){if(K==null||c==K){delete o.zt[c];
Y=!0}}if(Y){var z=new h1(w.E.L);z.data={d:w.I.Ak,VS:bB.Ap,amO:!0};this.c(z)}};bs.prototype.ar4=function(K){var o=[],Y=K.data.aka;
for(var y=0;y<Y.length;y++)o[y]=this.n$[Y[y]];this.n$=o;this.a5=this.G8.At()};bs.prototype.abx=function(K){var o=this.G8,Y=o.a4p(),c=this.Aj(),z=this.oe();
if(Y==o.At()||!c.aCK())return;this.a57(Y,c)};bs.prototype.a57=function(K,o){console.log("dup2doc");var Y=this.T9,c=this.G8,z=this.oe(),f=this.n$[K],$,E=new h1(w.E.U,!0);
E.f=m._V;if(z.r==null){E.data={d:S.Zn,B:z.be(null,!0),lQ:z,LZ:f};this.c(E)}else $=z.B[z.Y[0]].Ct(z,z.r);
var b=this.wL,q=Y.Pk;Y.Pk=!1;b=z.Q.oh(b.x,b.y);if(o)o.It(z,this,Y,this.t6);c.qB(K);if(z.r){E.data={d:S.fC,EZ:{buffer:$.r4,rect:$.rect}};
this.c(E)}b=f.Q.Hc(b.x,b.y);if(o)o.tx(f,this,Y,this.t6,b);Y.Pk=q};bs.prototype.aec=function(K){var o=this.oe(),Y=this.t6,c=this.T9,z=K.mq;
if(z)this.wL=z;if(z)z.y-=c.g_;if(this.wx==null)this.wx=0;if(K.action=="multidown"){this.C6=K.Ie.length;
this.wx=Date.now()}if(K.action=="up"&&Date.now()-this.wx<100){var f=new h1(w.E.U);f.f=m.s5;f.data={d:this.C6==2?"h_stepbck":"h_stepfwd"};
this.c(f)}if(K.action.startsWith("multi")){var $=new h1(w.E.U,!0);$.data={d:K.action,Ie:K.Ie};$.f=m.bx;
this.c($);return}var E=this.q.map[m.Wh].f;if((K.action=="down"||K.action=="rdown")&&c.i5!=m.Wh&&this.q.sw!=m.Wh&&E.aaE(o,this,c,Y,z)){this.q.p_=m.Wh;
E.enable(o,this,c,Y,!0)}if(K.action=="idown"){Y.EN("Space");this.bs(!0);K.action="down"}var b=this.L3.BQ(),q=b!=null&&b.t1()&&this.q.sw==null?b:this.Aj();
if(K.action=="scroll"){var O=!Y.S(a1.rK)&&K.RX,$=new h1(w.E.U,!0);$.data={d:"scroll",Q8:K.Q8.clone(),mq:z,aot:O};
$.f=Y.S(a1.cV)||O?m.bx:m.AC;this.c($)}if(b!=null&&q!=b&&this.L3.$l()&&q.id!=m.AC&&q.id!=m.bx)return;
if(K.action=="down")q.tx(o,this,c,Y,z);if(K.action=="rdown")q.N8(o,this,c,Y,z);if(K.action=="move")q.D3(o,this,c,Y,z);
if(K.action=="up"||K.action=="iup"||K.action=="cancellast")q.pt(o,this,c,Y,z,K.action=="cancellast");
if(K.action=="rup")q.aj(o,this,c,Y,z);if(K.action=="iup"){Y.BF("Space");this.bs(!0)}if(K.action=="cancellast"){if(o&&o.history.length!=0&&Date.now()-o.history[o.history.length-1].aaR<200){var f=new h1(w.E.U);
f.f=m.s5;f.data={d:"h_stepbck"};this.c(f)}}var j=this.Mp;if(K.action=="down")j.tx(o,this,c,Y,z);if(K.action=="move")j.D3(o,this,c,Y,z);
if(K.action=="up")j.pt(o,this,c,Y,z);if(K.action=="down"||K.action=="up"){this.bs()}if(K.action=="down"||K.action=="up"||K.action=="ctx"){o.jS=!0}if((K.action=="up"||K.action=="rup")&&this.q.p_){this.q.p_=null;
E.disable(o,this,c,Y)}};bs.prototype.Ot=function(K){var o=this.oe(),Y=this.wL;if(o&&this.Aj().bZ(Y,this.t6)){var c=o.Q,z=c.k6.m,f=c.k6.e,$=0,E=0,b=16;
if(Y.x<b)$=b-Y.x;if(Y.x>z-b)$=Y.x-(z-b);if(Y.y<b)E=b-Y.y;if(Y.y>f-b)E=Y.y-(f-b);var q=this.t6.S(a1.jR)?8:1;
if(($!=0||E!=0)&&(o.m*c.O>z||o.e*c.O>f)){$=Math.min(5,$*.5)*q;E=Math.min(5,E*.5)*q;if(Y.x>b)$=-$;if(Y.y>b)E=-E;
c.w.x+=$;c.w.y+=E;this.aec({mq:this.wL,action:"move"});o.Pb=!0}}this.update()};bs.prototype.update=function(K){var o=this.oe();
if(o==null)return;if(g1!=0){if(o.buffer)throw"e"}if(o.jS){var Y=this.q.map;for(var c in Y){if(Y[c].f.Ok)Y[c].f.Ok(o,this,this.T9,this.t6)}if(g1==1){Y[m.pf].f.Ok(o,this,this.T9,this.t6,!0)}}if(o.gF&&g1==0)if(jK.YT)jK.zn(Math.max(o.m,o.e));
if(o.gF&&g1==0){o.Uj()}var z=o.Q,f=this.jh,$=this.jh=Date.now();if(o.gF||o._t||o.px||o.Pb||K||z.Ql!=z.O||!z.vI.BV(z.w)){var E=z.Ql;
if(z.Ql!=z.O){var b=m.w8.apg(z.O,z.Ql>z.O),q=.12;if(z.Ql<z.O&&z.Ql<b)z.Ql=b;if(z.Ql>z.O&&z.Ql>b)z.Ql=b;
var O=Math.abs(z.O-b)*($-f)*.001/q;if(z.Ql<z.O)z.Ql=Math.min(z.O,z.Ql+O);else z.Ql=Math.max(z.O,z.Ql-O)}var j=E==z.O?0:(z.Ql-z.O)/(E-z.O);
z.vI.x=z.w.x+j*(z.vI.x-z.w.x);z.vI.y=z.w.y+j*(z.vI.y-z.w.y);this.G8.fL(this.T9,null);this.G8.ic(o,this.n$)}if((o.gF||o.Pb||o.jS)&&(!this.wL.WR||o.Ro)){if(o.jS)o.t4();
this.Mp.ic(o,this.n$,this.T9);this.NY.aCE(o,this.t6);o.YS=!1}o.Ro=!1;o.jS=!1;o.gF=null;o._t=o.px=o.Pb=!1};
bs.prototype.LA=function(K){var o=K.target.tagName.toLowerCase(),Y=K.target.getAttribute("type"),c=a1,z=c.Ik(K.code,c.C4);
if(!((o=="input"||o=="select"||o=="button")&&c.Ik(K.code,c.wy))){if(c.xp(K)&&o!="select"){K.preventDefault()}this.t6.EN(c.Vm(K));
this.Ed("down")}};bs.prototype.ix=function(K){if(K.key==" ")this.t6.lX();if(a1.Ik(K.code,a1.x0))this.t6.reset();
this.t6.BF(a1.Vm(K));var o=K.target.tagName.toLowerCase();if(a1.xp(K)&&o!="select"){K.preventDefault()}this.Ed("up")};
bs.prototype.Ed=function(K){var o=this.t6,Y=this.oe(),c=Y!=null&&Y.Y.length!=0;if(this.j$.BQ()!=null){if(o.S(a1.Xg)||o.S(a1.C4)){this.j$.acN()}return}this.bs();
var z=this.Aq(a1.rK),f=o.S(a1.cV),$=o.S(a1.jR);if(z&&o.S(a1.VI)&&K=="down"){var E=new h1(w.E.U),b=new h1(w.E.L);
E.f=m.s5;if($){E.data={d:"h_stepfwd"}}else{E.data={d:"h_stepbck"}}if(this.L3.BQ()!=null&&this.L3.BQ().$l()){}else this.c(E)}if(z){var E=new h1(w.E.U),q=new h1(w.E.hP),b=new h1(w.E.L);
if(o.S(a1.WL)&&o.S(a1.dN)){b.data={d:w.I.Gg,XQ:"storwindow"};this.c(b)}if(!f&&K=="down")for(var O in jh.keys){var j=jh.keys[O],A=!0;
for(var y=0;y<j.length;y++)if(!o.S(j[y]))A=!1;if(A){E.f=m.Ay;if(O=="hue2"&&$&&Y.B[Y.Y[0]].add.SoLd==null)E.data={d:"auto",mJ:3};
else E.data={d:"start",W2:O}}}if(o.S(a1.I)){if(f){q.data={Rk:"selectAllLayers",jU:{classID:"null",null:b0.x2("Lyr",!0)}}}else q.data=m.PP.hE(!0)}if(o.S(a1.bY)){if(f)b.data={d:w.I.Gg,XQ:"csize"};
else if(Y)b.data={d:w.I.pc,qD:$}}if(o.S(a1.dc)&&Y.r){q.data=m.PP.hE()}if(o.S(a1.E)&&K=="down"){if($)q.data={Rk:"mergeVisible"};
else q.data={Rk:"mergeLayersNew",jU:{__name:"Merge Layers",classID:"Mrg2"}}}if(o.S(a1.Sd)){if($&&this.T9.i5!=m._6)b.data={d:w.I.Gg,XQ:"afw_fade"};
else if(f){E.f=m.lj;E.data={d:"applylast"}}else b.data={d:w.I.Kk}}if(o.S(a1.vH)){if(f&&Y&&Y.eT(Y.Y[0])){E.f=m._V;
E.data={d:S.I4}}else{E.f=m._V;E.data={d:S.p5,pF:$}}}if(o.S(a1.y$)){b.data={d:w.I.Ak,VS:bB.PA}}if(o.S(a1.WL)){if($){E.data=null;
if(f)b.data={d:w.I.Gg,XQ:"finfo"};else q.data={Rk:"inverse"}}else if(f)b.data={d:w.I.Gg,XQ:"isize"}}if(o.S(a1.Om)){q.data={Rk:($?"cut":"copy")+"ToLayer"}}if(o.S(a1.kl)){b.data={d:w.I.Gg,XQ:"preferences"}}if(o.S(a1.f8)){if($){E.f=m._V;
E.data={d:S.zm}}else if(K=="down")b.data={d:w.I.Gg,XQ:"newproject"}}if(o.S(a1.Nf)){if(f)b.data={d:w.I.Gg,XQ:"storwindow",aZ:0};
else{b.data={d:w.I.WC};o.reset()}}if(o.S(a1.WO)){b.data={d:w.I.a4s};o.reset()}if(o.S(a1.CL)){b.data={d:w.I.Ak,VS:bB.yP}}if(o.S(a1.rQ)&&K=="down"){if($){if(f)b.data={d:w.I.Gg,XQ:"saveforweb"};
else b.data={d:w.I.Uy}}else b.data={d:w.I.vB}}if(o.S(a1.DM)){if($){E.f=m._V;E.data={d:S.Rz};this.c(E);
E.f=m._6;E.data={d:"again"}}else b.data={d:w.I.NR,f:m._6}}if(o.S(a1.MD)){b.data={d:w.I.Cd}}if(o.S(a1.TA)){this.G8.an()}if(o.S(a1.zA)&&Y&&Y.qb()){b.data={d:w.I.s7}}if(o.S(a1.r3)||o.S(a1.rn)){E.f=m._V;
E.data={d:S.DO,f4:0};if(o.S(a1.r3))E.data.f4=$?3:2;else E.data.f4=$?0:1}if(o.S(a1.jF)&&Y){E.f=m._V;E.data={d:S.WF}}if(o.S(a1.C4)&&Y){var R=0;
if($)R++;if(f)R+=2;E.f=m.at;E.data={d:"frompath",$G:[null,0,R]}}if(o.S(a1.uh)){q.data=m.XX.Vc(0)}if(o.S(a1.wy)){var g=this.n$.length,H=o.S(a1.jR)?-1:1;
if(g>1)this.G8.qB((this.G8.At()+g+H)%g)}if(o.S(a1.QT)){b.data={d:w.I.Ak,VS:bB.dD}}if(o.S(a1.Id)){b.data={d:w.I.Ak,VS:bB.mE}}m.w8.a0A(o,E);
if(this.L3.BQ()!=null&&this.L3.BQ().$l()){}else{if(E.data)this.c(E);if(q.data)this.c(q);if(b.data)this.c(b)}}if(!z&&f){var i;
if(o.S(a1.r3))i="Bckw";if(o.S(a1.rn))i="Frwr";if(o.S(a1.jF))i="Back";if(o.S(a1.uh))i="Frnt";if(i){var q=new h1(w.E.hP);
q.data={Rk:"select",jU:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:i}}]},MkVs:{t:"bool",v:!1}}};
this.c(q)}}if(Y&&Y.Y.length!=0){var h=Y.B[Y.Y[0]],x=h.xO;if(x==1||x==3||z){var E=new h1(w.E.U),F=x==3?h.wm(Y).F:h.ue();
if(F){var X=F.Gt?Y.Q.v.join("")=="111"?1:2:0;E.f=m.bx;if(F&&o.S(a1.Xg)&&X!=0){E.data={d:"mskView",b:0}}if(F&&o.S(a1.asQ)){E.data={d:"mskView",b:X==1?0:1}}if(F&&o.S(a1.av0)){E.data={d:"mskView",b:X==2?0:2}}if(E.data)this.c(E)}}}var V=o.Q1();
if(Y&&z&&2<=V&&V<=5){var U=[1,1,1];if(V>2){U=[0,0,0];U[V-3]=1}var Z=new h1(w.E.U,!0);Z.f=m.AC;Z.data={d:"setcls",v:U};
this.c(Z)}if(!o.S(a1.rK)&&!f&&K=="down"){var E=new h1(w.E.U),b=new h1(w.E.L),T=this.q.map[this.T9.i5],v=-1;
for(var y=0;y<this.q.keys.length;y++)if(this.q.keys[y]&&this.Aq(this.q.keys[y]))v=y;if(v!=-1){var P=null;
if(T.mO!=v)P=this.q.LL[v];if(T.mO==v&&$)P=(T.atr+1)%this.q.yw[v].length;if(P!=null){var p=this.q.yw[v][P].f.id,a=this.T9.Np;
if((a==null||a.indexOf(parseInt(p))!=-1)&&!this.wL.WR)b.data={d:w.I.NR,f:p}}}if(o.S(a1.y$))b.data={d:w.I.NR,f:m.AC};
if(o.S(a1.CL))b.data={d:w.I.NR,f:m.UO};if(o.S(a1.zA))b.data={d:w.I.Ak,VS:bB.R8,f4:2};if(o.S(a1.dc))b.data={d:w.I.Ak,VS:bB.R8,f4:3};
if(b.data)this.c(b);if(o.S(a1.a1d)&&Y&&Y.Y.length==1){var h=Y.B[Y.Y[0]];E.f=m._V;var D=h.dq(0)||h.dq(1)||h.dq(2)||h.dq(31);
E.data={d:S.JM,Wx:D?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(E)}var V=o.Q1();if(c&&V!=-1&&this.Aq(a1.Q6[V])){var n=Y.Y[0],h=Y.B[n],N=a1._0(Math.round(100*h.opacity/255),V);
E.f=m._V;E.data={d:S._n,Wx:Math.round(255*N/100)};this.c(E)}var W=this.T9.ja;if(o.S(a1.wy)){b.data={d:w.I.lI,b:W==0?1:0};
this.c(b)}if(o.S(a1.Sd)||o.S(a1.Xg)&&W==2){var G=document.fullscreenElement!=null==(W==2);b.data={d:w.I.lI,b:W==0?2:0,cB:G};
this.c(b)}if(o.S(a1.mk)&&!this.wL.WR){E.f=m.at;E.data={d:"qmask"};this.c(E)}}if(!o.S(a1.rK)&&!f&&$){var E=new h1(w.E.U),b=new h1(w.E.L);
if(o.S(a1.jF))b.data={d:w.I.Gg,XQ:"shortcuts"};if(o.S(a1.ah))b.data={d:w.I.Gg,XQ:"fill"};if(o.S(a1.avw))b.data={d:w.I.Gg,XQ:"sel_feather"};
if(c&&(o.S(a1.U1)||o.S(a1.VV))){var n=Y.Y[0],h=Y.B[n],l=jw.iu,u=l.length,e=l.indexOf(h.YF);E.f=m._V;
E.data={d:S.N9,Wx:(e+u+(o.S(a1.U1)?1:-1))%u};this.c(E)}if(b.data)this.c(b)}var E=new h1(w.E.U),M=K=="down"&&(this.Aq(a1.v1)||this.Aq(a1.QC));
if((z||f)&&M){E=new h1(w.E.hP);E.data=m.oC.Sz(z?"BckC":"FrgC");this.c(E)}else if(this.L3.BQ()==null&&Y&&M&&!this.wL.WR){if(Y.r!=null){E=new h1(w.E.hP);
E.data={Rk:"delete"}}else if(Y.Y.length!=0){var h=Y.B[Y.Y[0]];if(h.xO==1)E.data={d:S.Jj};else if(h.xO==3)E.data={d:S.Rr};
else E.data={d:S._C};E.f=m._V}this.c(E)}if(this.L3.BQ()!=null){if(o.S(a1.Xg)){this.L3.BQ().adT()}else{this.L3.BQ().Ed(Y,this,this.T9,o)}}if(this.T9.i5==null)return;
var T=this.Aj();if(this.L3.BQ()==null||this.q.sw)T.Ed(Y,this,this.T9,o)};bs.prototype.Aq=function(K){var o=this.t6,Y=this.q.map[this.T9.i5].f,top=this.L3.BQ(),c=this.oe();
return o.S(K)&&!Y.rC(K,c)&&(top==null||!top.rC(K,c))};bs.prototype.sj=function(K){var o=this.a3M,Y=this.yh;
this.T9.ja=K;var c=I.qO,z=this.q0.n;if(c(z))this.Xo.removeChild(z);var f=this._y.n;if(c(f))this.Xo.removeChild(f);
var $=this.NY.n;if(c($))o.removeChild($);var E=this.G8.n;if(c(E))o.removeChild(E);var b=this.Mp.n;if(c(b))o.removeChild(b);
if(K==0){this.Xo.appendChild(z);this.Xo.appendChild(f);Y.appendChild(o);o.appendChild($);o.appendChild(E);
o.appendChild(b)}if(K==1){this.Xo.appendChild(z);o.appendChild(E)}if(K==2){o.appendChild(E)}this.G8.sj(K==2?1:0);
this.aD()};bs.prototype.a8r=function(K){if(this.MX())return 1;if(I.a9f()==0){this.T9={};this.Fx=function(o,Y){return Math.sqrt(o*Y)}}return-1};
bs.aru=function(){var K=g1==0?[[{f:new m.sq,VA:hs},{f:new m.J_,VA:i9}],[{f:new m._B,VA:ek,gx:0},{f:new m.hh,VA:bc,gx:0}],[{f:new m.QL,VA:j_,gx:0},{f:new m.CY,VA:kq,gx:0},{f:new m.pV,VA:cg,gx:0}],[{f:new m.Ih,VA:ix,gx:0},{f:new m.u$,VA:i7,gx:0},{f:new m.ZZ,VA:h0,gx:0}],[{f:new m.ajV,VA:d$},{f:new m.a8D,VA:fy},{f:new m.F$,VA:cN,gx:0},{f:new m.N_,VA:fA,gx:0}],[{f:new m.XV,VA:dd},{f:new m.bR,VA:gB,gx:0},{f:new m.tY,VA:jA}],[{f:new m.h3,VA:hL,gx:0},{f:new m.AH,VA:jV,gx:0},{f:new m.jy,VA:e6,gx:0},{f:new m.aqK,VA:aQ,gx:0},{f:new m.ZM,VA:jR,gx:0}],[{f:new m.rt,VA:hk,gx:0},{f:new m.on,VA:dQ,gx:0},{f:new m.uC,VA:ir,gx:0}],[{f:new m.ho,VA:dK,gx:0}],[{f:new m.e7,VA:jL,gx:0},{f:new m._G,VA:ev,gx:0},{f:new m.p7(!0),VA:bO,gx:0}],[{f:new m.A7,VA:e4,gx:0},{f:new m.p7,VA:bO,gx:0}],[{f:new m.Yu,VA:cS,gx:0},{f:new m.Lu,VA:ga,gx:0},{f:new m.KQ,VA:iN,gx:0}],[{f:new m.d3,VA:hw,gx:0},{f:new m.Wq,VA:eD,gx:0},{f:new m.CP,VA:jW,gx:0}],[{f:new m.Na,VA:dz},{f:new m.E2,VA:dz}],[{f:new m.aI(0),VA:hm},{f:new m.Rc,VA:ex},{f:new m.aI(1),VA:hm}],[{f:new m.hx,VA:eU},{f:new m.aC,VA:dZ}],[{f:new m.Rect,VA:er},{f:new m.MR,VA:e8},{f:new m.Ov,VA:jC},{f:new m.uc,VA:bE},{f:new m.zq,VA:cO}],[{f:new m.FL,VA:eN},{f:new m.io,VA:bx}],[{f:new m.w8,VA:gj}]]:[[{f:new m.sq,VA:hs}],[{f:new m.aC,VA:dZ}],[{f:new m.aI(0),VA:hm}],[{f:new m.Rc,VA:ex}],[{f:new m.Na,VA:dz},{f:new m.E2,VA:dz}],[{f:new m.Ov,VA:jC}],[{f:new m.Rect,VA:er},{f:new m.MR,VA:e8},{f:new m.uc,VA:bE},{f:new m.zq,VA:cO}],[{f:new m.a26,VA:eN}],[{f:new m.FL,VA:eN},{f:new m.io,VA:bx}],[{f:new m.w8,VA:gj}]],o=g1==0?[a1.MD,a1.$L,a1.Gi,a1.TA,a1.bY,a1.WL,a1.Om,a1.Wi,a1.rQ,a1.E,a1.vH,null,a1.Nf,a1.DM,a1.WO,a1.I,a1.dN,a1.y$,a1.VI]:[a1.MD,a1.I,a1.WO,null,a1.DM,null,a1.$L,a1.y$,a1.VI],Y={a29:[{f:m.bx,uM:!1,aL:[a1.alE,a1._e]},{f:m.AC,uM:!1,aL:[a1._e]},{f:m.YM,uM:!0,aL:[a1.rK],WU:[m.GC]},{f:m.GC,uM:!0,aL:[a1.rK],WU:[m.YM]},{f:m._D,uM:!0,aL:[a1.rK],WU:[m.h_,m.pf,m.ey]},{f:m.h_,uM:!0,aL:[a1.rK],WU:[m._D,m.uO,m.ty,m.TU,m.hs,m.Dt]},{f:m.Wh,uM:!0,aL:[a1.rK]}],yw:K,LL:[],keys:o,tn:[{f:new m.aku,VA:ad},{f:new m.aCo,VA:eR},{f:new m.atv,VA:hz},{f:new m.XV(!0),VA:dd},{f:new m.Cc,VA:dx}],bD:[{f:new m.$m},{f:new m.History},{f:new m.gL},{f:new m.Pu},{f:new m.rE},{f:new m.H8}],map:{},Y6:null,sw:null,p_:null},c=Y.yw,$="",E="";
for(var y=0;y<c.length;y++){var z=c[y];if(ih=="---")continue;for(var f=0;f<z.length;f++)if(z[f].gx!=null&&z[f].gx!=g1){z.splice(f,1);
f--}if(z.length==0){c.splice(y,1);Y.keys.splice(y,1);y--}}for(var y=0;y<Y.yw.length;y++){var b=Y.yw[y];
if(b=="---")continue;var q=Y.keys[y];for(var f=0;f<b.length;f++){Y.map[b[f].f.id]=b[f];b[f].mO=y;b[f].atr=f;
var O=ca.get(b[f].f.name);E+="<li>"+b[f].f.id+": "+O+"</li>";$+="\t"+JSON.stringify(b[f].f.name)+", "+(q?"\""+q.Ml+"\"":"null")+", "+b[f].f.id+", // "+O+"\n"}Y.LL[y]=0}for(var y=0;
y<Y.tn.length;y++)Y.map[Y.tn[y].f.id]=Y.tn[y];for(var y=0;y<Y.bD.length;y++)Y.map[Y.bD[y].f.id]=Y.bD[y];
return Y};function cR(K){cv.call(this);if(K==null)return;this.Fv=null;this.jd=null;this.n=I._("div","sbar"+" "+K);
this.zu=new I._("div","top");this.zu.innerHTML="> <";this.n.appendChild(this.zu);this.pO=1;this.zu.addEventListener("click",this.ahH.bind(this),!1)}cR.prototype=new cv;
cR.prototype.ahH=function(K){if(this.Fv!=null&&this.Fv<500&&this.pO==0)return;if(this.pO==0)this.fA(!0);
else this.collapse(!0)};cR.prototype.afV=function(K){this.pO=K;this.zu.innerHTML=this.pO==0?"< >":"> <"};
cR.prototype.atU=function(){var K=new h1(w.E.L,!0);K.data={d:w.I.m9};this.c(K)};cR.prototype.fA=function(K){this.afV(1);
if(K)this.atU()};cR.prototype.collapse=function(K){this.afV(0);if(K)this.atU()};cR.prototype.Yo=function(){return this.pO==1};
function at(K,o){cR.call(this,"vcolumn");this.eR=K;this.atm=o;this.XR();this.H$=I._("div");this.H$.setAttribute("style","cursor:default;");
this.abz=this.aAn.bind(this);this.atn=this.aaV.bind(this);this.auV=this.aoJ.bind(this);I.Xh(this.n,this.abz);
this.n.appendChild(this.H$);this.Th=I._("div");this.H$.appendChild(this.Th);this.By=-1;this.a00=I._("div","float");
var Y=this.T2=I._("canvas","gsicon"),c=Math.round(12*I.GR());Y.width=Y.height=c;var z=Y.getContext("2d");
z.moveTo(2,2);z.lineTo(c-2,c-2);z.moveTo(2,7);z.lineTo(c-7,c-2);z.stroke();this.T2.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
I._I(this.T2);I.Xh(this.T2,this.abz);I.d4(Y);this.zM=[];this.zi=[];this.an1=null;this.rm=null;this.aBk=0}at.prototype=new cR;
at.prototype.aAn=function(K){var o=K.target==this.T2;if(!o){if(K.target!=this.n)return;if(!this.Yo())return}else{var Y=this.zM[this.By].nX;
Y.style.pointerEvents="none";var c=Y.getBoundingClientRect();this.an1=[c.width,c.height];this.zi[this.By]=[c.width,c.height]}K.stopPropagation();
this.rm=I._9(K,document.body);this.aBk=this.eR;I.TG(document,this.atn);I.HX(document,this.auV)};at.prototype.aaV=function(K){var o=I._9(K,document.body);
if(this.Yo()){this.eR=this.aBk+this.rm.x-o.x;this.XR()}else{var Y=this.zi[this.By],c=this.an1;Y[0]=c[0]+this.rm.x-o.x;
Y[1]=c[1]+o.y-this.rm.y}var z=new h1(w.E.L,!0);z.data={d:w.I.m9};this.c(z)};at.prototype.aoJ=function(K){if(!this.Yo()){var o=this.zM[this.By].nX;
o.style.pointerEvents="auto"}I.oH(document,this.atn);I.O1(document,this.auV)};at.prototype.akw=function(K){K.k("showFloat",this.avs,this);
K.k("hideFloat",this.F0,this);this.zM.push(K);K.parent=this;this.H$.appendChild(K.n)};at.prototype.asq=function(y){var K=this.zM[y];
K.removeEventListener("showFloat",this.avs,this);K.removeEventListener("hideFloat",this.F0,this);this.zM.splice(y,1);
K.parent=null;this.H$.removeChild(K.n)};at.prototype.aav=function(){return this.zM.length};at.prototype.Z8=function(){for(var y=0;
y<this.zM.length;y++)this.zM[y].Z8()};at.prototype.avs=function(K){this.Z8();var o=this.a00;this.Th.appendChild(o);
this.By=this.zM.indexOf(K.currentTarget);var Y=this.zM[this.By].nX;I.oA(o);o.appendChild(Y);o.appendChild(this.T2);
this.Fx(this.Fv,this.jd)};at.prototype.F0=function(K){this.Z8();if(this.By!=-1){this.Th.removeChild(this.a00);
this.By=-1}};at.prototype.XR=function(){function K(o){return Math.round(o*I.GR())/I.GR()}this.n.setAttribute("style","width: "+this.eR+"px; border-left-width:"+K(4)+"px; cursor:ew-resize;")};
at.prototype.fA=function(K){this.XR();this.F0();for(var y=0;y<this.zM.length;y++)this.zM[y].fA();cR.prototype.fA.call(this,K)};
at.prototype.collapse=function(K){this.n.removeAttribute("style");for(var y=0;y<this.zM.length;y++)this.zM[y].collapse();
cR.prototype.collapse.call(this,K)};at.adA=11;at.prototype.Fx=function(K,o){this.Fv=K;this.jd=o;o-=at.adA;
var Y=this.zM.length;if(Y==0)return;if(!this.Yo()){var c=o<400?o:400+(o-400)*.5;for(var y=0;y<Y;y++){var z=this.zM[y],f=this.zi[y];
z.Fx(f?f[0]:this.eR,f?f[1]:c)}}else{var $=o;for(var y=0;y<Y;y++){var z=this.zM[y],E=z.a8k();if(y==Y-1){E=$;
z.n.style.borderBottom="none"}z.Fx(this.eR,E);$-=E+4}}};function ij(K){cv.call(this);this.n=I._("div");
this.H$=null;this.bo=0;this.hL=0;this.a2C=K;this.abw=this.dl.bind(this);this.a2g=this.iM.bind(this);
this.a0v=this.hz.bind(this);this.XY=null;this.ml=null;this.G0=null;I.Xh(this.n,this.abw);var o=this.n,z="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
o.addEventListener("touchmove",I.kx,!1);this.abE=!0;this.ZG=[];var c=this.ath=I._("div");c.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(c);var f=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",z+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",z+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",z+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var y=0;y<f.length;y++){var $=new eg(f[y]);this.ZG.push($);$.n.setAttribute("style","margin-left:"+(y<7?4:0)+"px;cursor:pointer;");
$.k("click",this.$U,this)}}ij.prototype=new cv;ij.prototype.t=function(){var K=this.ath;I.oA(K);for(var y=0;
y<this.ZG.length;y++){var o=this.ZG[y];if(y<5)o.t();K.appendChild(o.n)}};ij.prototype.$U=function(K){var y=this.ZG.indexOf(K.currentTarget);
if(y==0){if(window.showCap)window.showCap();return}var o=" issues learn blog api twitter facebook".split(" "),Y=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),c=window.ga;
if(c)c("send","event","Links",o[y]);var z=new h1(w.E.L,!0);z.data={d:w.I.IE,link:Y[y]};this.c(z)};ij.prototype.dl=function(K){if(K.akL){K.preventDefault();
K.stopPropagation()}var o=window;I.TG(o,this.a2g);I.HX(o,this.a0v);o=this.H$;this.XY=new jc(parseInt(o.style.left),parseInt(o.style.top));
this.ml=I._9(K,this.n);this.G0=o.getBoundingClientRect()};ij.prototype.iM=function(K){var o=I._9(K,this.n),Y=this.XY.x+o.x-this.ml.x,c=this.XY.y+o.y-this.ml.y,z=this.bo-this.G0.width,f=this.hL-this.G0.height;
if(this.a2C)this.H$.style.left=Math.min(0,Math.max(z,Y))+"px";else this.H$.style.top=Math.min(0,Math.max(f,c))+"px";
if(Y-10>0){this.ml.x=o.x-10;this.XY.x=0}if(Y+10<z){this.ml.x=o.x+10;this.XY.x=z}};ij.prototype.hz=function(K){var o=window;
I.oH(o,this.a2g);I.O1(o,this.a0v)};ij.prototype.a1e=function(K){if(this.H$){this.n.removeChild(this.H$)}this.H$=K;
this.n.appendChild(K);K.style.position="absolute";if(this.a2C)K.style.left=0;else K.style.top=0};ij.prototype.Fx=function(K,o){this.bo=K;
this.hL=o;this.n.setAttribute("style","position:relative; width: "+K+"px; height: "+o+"px; overflow:hidden; white-space: nowrap; ");
var Y=this.H$.firstChild,c=this.ath,z=Y?Y.firstChild.getBoundingClientRect().width+80:1e9,f=170,$=this.abE&&K>z+f;
c[a9.$R][a9.a3S]=$?"":a9.GE;var E=this.ZG;for(var y=0;y<E.length;y++){var b=y>4||K-z>500?"":a9.GE,q=E[y];
q.n.style.display=b}};ij.prototype.aiq=function(){this.H$.style.left="0";this.H$.style.top="0"};function bm(){cv.call(this);
this.Bk=null;this.Ln=bm.WO;this.avH="";this.n=I._("div","rightbar");this.vq=[new at(300),new at(268,!0)];
this.zM=[new ah,new ah,new ah,new ah,new ah,new ah,new ah];this.au_=[]}bm.prototype=new cv;bm.prototype.t=function(){var K=this.Ln;
for(var y=0;y<K.length;y++)K[y].A_.t()};bm.WO=[{A_:new a$,Tc:3},{A_:new iW,Tc:1},{A_:new be,Tc:4},{A_:new dY,Tc:2},{A_:new ky(!0),Tc:5},{A_:new cZ,Tc:0},{A_:new fh,Tc:5},{A_:new hV,Tc:3},{A_:new ey,Tc:0},{A_:new kp,Tc:3},{A_:new b9,Tc:2},{A_:new fX,Tc:4},{A_:new ec,Tc:3},{A_:new gg,Tc:5},{A_:new ky(!1),Tc:5},{A_:new gD,Tc:2},{A_:new a7,Tc:3},{A_:new jD,Tc:1},{A_:new eh,Tc:0},{A_:new gM,Tc:5},{A_:new bv,Tc:6,pI:!0},{A_:new de,Tc:6,pI:!0},{A_:new aO,Tc:6,pI:!0},{A_:new da,Tc:6,pI:!0}];
(function(){var K=[{id:fW.CL.ak$,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var y=0;y<K.length;y++)bm.WO.push({A_:new ie(K[y],100+y),Tc:6,pI:!0})}());bm.prototype.aCx=function(K){for(var y=0;
y<K.length;y++){var o=K[y],Y=new ie(o,"plg_"+o.name);this.Ln.push({A_:Y,Tc:6});this.au_.push(Y.xx)}this.nF()};
bm.prototype.fL=function(K,o){this.Bk=K;var Y=this.Ln;for(var y=0;y<Y.length;y++)Y[y].A_.fL(K,o);if(o==bB.Q5||o==bB.tk)this.nF()};
bm.prototype.qn=function(K){var o=this.Ln;for(var y=0;y<o.length;y++)o[y].A_.qn(K)};bm.prototype.Fx=function(K,o){this.Fv=K;
this.jd=o;this.nF();this.vq[0].Fx(K,o);this.vq[1].Fx(K,o)};bm.prototype.nF=function(){var K=this.Bk,o=this.Fv,Y=this.jd;
if(K==null||o==0)return;var c=K.R1.concat(this.au_),z=o<500||o<700&&o<Y,f=JSON.stringify(c)+","+z;if(f!=this.avH){this.avH=f;
I.oA(this.n);var $=[];for(var y=0;y<this.vq.length;y++){var E=this.vq[y];$[y]=E.Yo();while(E.aav()!=0)E.asq(0);
E.fA()}var b=[];for(var y=0;y<this.zM.length;y++){var q=this.zM[y];q.fA();while(q.aCn()!=0)q.En(0);b.push(0)}for(var y=0;
y<c.length;y++){var O=this.amf(c[y].toString());if(O==null)continue;this.zM[O.Tc].kb(O.A_);this.zM[O.Tc].qB(0);
b[O.Tc]++}var j=[];for(var y=0;y<b.length;y++){if(b[y]==0)continue;var A=y<3||z?1:0,E=this.vq[A];E.parent=this;
E.akw(this.zM[y]);j[A]=!0}for(var y=0;y<this.vq.length;y++)if(j[y])this.n.appendChild(this.vq[y].n);
this.vq[0].collapse();if(o<700||this.Bk.compact||!$[1]){this.vq[1].collapse()}var R=new h1(w.E.L,!0);
R.data={d:w.I.m9};this.c(R)}};bm.prototype.amf=function(K){for(var y=0;y<this.Ln.length;y++)if(this.Ln[y].A_.xx==K)return this.Ln[y]};
bm.prototype.a30=function(K){var o=this.amf(K);this.zM[o.Tc].kb(o.A_)};bm.prototype.ic=function(K,o,Y){var c=this.Ln;
for(var y=0;y<c.length;y++)c[y].A_.ic(K,o,Y)};bm.prototype.tx=function(K,o,Y,c,z){var f=this.Ln;for(var y=0;
y<f.length;y++)f[y].A_.tx(K,o,Y,c,z)};bm.prototype.D3=function(K,o,Y,c,z){var f=this.Ln;for(var y=0;
y<f.length;y++)f[y].A_.D3(K,o,Y,c,z)};bm.prototype.pt=function(K,o,Y,c,z){var f=this.Ln;for(var y=0;
y<f.length;y++)f[y].A_.pt(K,o,Y,c,z)};function hi(K,o){cR.call(this,"toolbar");this.n.removeChild(this.zu);
this.Cf=I._("div","tools");this.n.appendChild(this.Cf);this.Np=null;this.i5=null;this.agR=o;this.Jq=null;
this.acd=-1;this.asY={};this.as3=K;this.q=null;this.EA=null;this._T=null;this.Ni=null;this.FI=new gG;
this.FI.n.style.marginTop="5px";this.FI.n.style.marginBottom="3px";this.FI.parent=this;this.oy=new eg(I.pA("lrs/mask"),!1,[6,6,1]);
this.oy.k("click",function(f){var $=new h1(w.E.U,!0);$.f=m.at;$.data={d:"qmask"};this.c($)},this);var Y=new i1(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
Y.k(w.E.p,this.ayi,this);var c=I._("span","rangecontFloat form padded");c.appendChild(Y.n);c.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var z=this.n;this.aud=[!1,!1,!1,!1];this.cZ=new eg(I.pA("kb"),!1,"Virtual Keys");this.cZ.k("click",function(f){var $=this.cZ.n.getBoundingClientRect();
c.style.top=$.top-110+"px";c.style.left=$.left+$.width+8+"px";if(I.qO(c)){I.pL({n:c},z)}else{z.appendChild(c);
I.c0({n:c})}},this)}hi.prototype=new cR;hi.prototype.ayi=function(K){var o=K.target.h();this.cZ.T(o[0]||o[1]||o[2]||o[3]);
var Y=new h1(w.E.L,!0);for(var y=0;y<4;y++){if(o[y]!=this.aud[y]){Y.data={d:w.I.ayA,WR:o[y],a5C:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][y]};
this.c(Y)}}this.aud=o.slice(0)};hi.prototype.aCE=function(K,o){this.Jq=o;if(K==null||K.Y.length==0||K.B[K.Y[0]]==null)return;
var Y=K.oy()!=null,c=K.Q.v,z=K.B[K.Y[0]].xO,f=z==1||z==3||Y||c[0]+c[1]+c[2]==1;this.FI.aiL(f);this.oy.T(Y)};
hi.prototype.ayy=function(K,o){var Y=K.length,c=[];for(var y=0;y<Y;y++)c[y]=K[y].slice(0);K=c;var z=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],f=Math.min(z.length/2,Y-o);
for(var y=0;y<f;y++){var $=z[2*y],E=z[2*y+1];K[$]=K[$].concat(K[E]);K[E]=null}for(var y=0;y<K.length;
y++)if(K[y]==null){K.splice(y,1);y--}return K};hi.prototype.agF=function(K,o){for(var y=0;y<o.length;
y++)for(var Y=0;Y<o[y].length;Y++)if(o[y][Y].f.id==K)return y};hi.prototype.asz=function(K){var o=this.as3;
this.EA=[];this._T=[];this.Ni=[];this.q=[];var Y=o.yw;if(K!=null&&this.agR)Y=this.ayy(Y,K);var c=this.Np;
if(c){var z=[];for(var y=0;y<Y.length;y++){var f=[];for(var $=0;$<Y[y].length;$++){var E=Y[y][$];if(c==null||c.indexOf(parseInt(E.f.id))!=-1)f.push(E)}if(f.length>0)z.push(f)}Y=z}for(var y=0;
y<Y.length;y++){var b=[],q=this.EA.length,O=null,j=-1;for(var $=0;$<Y[y].length;$++){var E=Y[y][$].f,A=this.agF(E.id,o.yw),R=o.keys[A];
if(R==a1.y$&&$==1)R=a1.CL;this.q.push(E);var g=new j$(E.name,R,E.hF,this.EA.length,y,Y[y].length>1);
this.EA.push(g);var H=this.asY[E.id];if(H==null)H=0;if(H>j){j=H;O=g}g.k(w.E.p,this.pz,this);g.k("mover",this.E5,this);
b.push({name:E.name,Uv:E.hF,aL:R?R.Ml:""})}this._T.push(O);this.Ni.push(b.length==1?null:[b,q])}};hi.prototype.Fx=function(K,o){var Y=this.jd=o,c=32;
if(1<I.GR()&&I.GR()<1.5)c=18+14*(1/I.GR());var z=39+23,f=Math.floor((Y-z)/c);if(f!=this.acd){this.acd=f;
this.asz(f);this.k5()}var $=this._T.length*c+z,E=Math.min(1,Y/$);if(.75<=E){this.Cf.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+E+","+E+");");
this.n.setAttribute("style","height:"+(o-2)+"px;")}else{Y-=4;this.Cf.setAttribute("style","height: "+Y+"px;  width:"+Math.ceil($/Y)*34+"px");
this.n.setAttribute("style","")}};hi.prototype.t=function(){if(this.q==null)return;for(var y=0;y<this.EA.length;
y++)this.EA[y].t()};hi.prototype.pz=function(K){var o=new h1(w.E.L,!0);o.data={d:w.I.NR,f:this.q[K.id].id};
this.c(o)};hi.prototype.aiN=function(K){var o=K.target.adS+K.target.kW()[0];this.EA[o].hz(null,!0)};
hi.prototype.E5=function(K){var o=this.Jq,Y=new h1(w.E.L,!0);Y.data={d:w.I.Q2};this.c(Y);var c=K.target,z=this.Ni[c.mO];
if(z==null)return;var f=new gq(z[0],null,!0);f.adS=z[1];f.mO=c.mO;f.k("select",this.aiN,this);f.parent=this;
f.t();var $=c.n.getBoundingClientRect(),Y=new h1(w.E.L,!0);Y.data={d:w.I.FY,A_:f,x:$.left+$.width+8,y:$.top};
if(o==null||!(o.S(a1._e)||o.S(a1.rK)))this.c(Y)};hi.prototype.k5=function(K){if(K==null)K=this.i5;this.i5=K;
if(this.q==null)return;this.asY[K]=Date.now();var o=-1;for(var y=0;y<this.q.length;y++)if(this.q[y].id==K)o=y;
for(var y=0;y<this.EA.length;y++){var Y=this.EA[y];Y.a1G(o==y)}if(o==-1)return;this._T[this.EA[o].mO]=this.EA[o];
I.oA(this.Cf);var c=this._T;for(var y=0;y<c.length;y++){this.Cf.appendChild(c[y].n)}if(!this.agR)return;
this.Cf.appendChild(this.FI.n);if(this.jd>640)this.Cf.appendChild(this.oy.n);this.Cf.appendChild(this.cZ.n)};
hi.prototype.fL=function(K,o){if(o==bB.tk&&K.Np){this.Np=K.Np;this.asz();this.k5()}this.FI.a4x(K.qm,K.YQ);
if(g1==1&&(o==bB.Vo||o==bB.Xq)){this.FI.ao0(K)}};function j$(K,o,Y,c,z,f){cv.call(this);this.i1=0;this.fM=this.arF.bind(this);
this.mO=z;this.Kh=c;this.aW=K;this.Pg=o;this.agV=f;this.hF=Y;this.n=I._("button","");this.n.innerHTML=I.pA(this.hF);
if(this.agV){var $=I._("img","gsicon");$.setAttribute("src",PIMG["tools/corner"]);$.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild($)}this.n.addEventListener("touchstart",I.kx,!1);this.t();I.Xh(this.n,this.dl.bind(this));
I.HX(this.n,this.hz.bind(this));this.n.addEventListener("contextmenu",this.fM,!1);this.n.addEventListener("contextmenu",j$._z,!1)}j$.prototype=new cv;
j$._z=function(K){K.stopPropagation();K.preventDefault();return!1};j$.prototype.t=function(){var K=this.Pg?" ("+this.Pg.Ml+")":"";
this.n.setAttribute("title",ca.get(this.aW)+K)};j$.prototype.dl=function(K){j$.gf=this.Kh;this.i1=setTimeout(this.fM,160)};
j$.prototype.hz=function(K,o){if(o==null&&j$.gf!=this.Kh)return;clearTimeout(this.i1);var Y=new h1(w.E.p,!1);
Y.target=this;Y.id=this.Kh;this.c(Y)};j$.prototype.arF=function(K){var o=new h1("mover",!1);o.target=this;
o.id=this.Kh;this.c(o)};j$.prototype.a1G=function(K){this.n.className=K?"toolbtn active":"toolbtn"};
function bK(){cv.call(this);this.n=I._("div","topbar");this.s2=I._("span","");this.asn=0;this.n.appendChild(this.s2);
this.xm=null;this.Iu=null;this.VQ=[];this.R1=[];var K=this.dl.bind(this);for(var y=0;y<bK.data.length;
y++){var o=I._("button");this.VQ.push(o);var Y=bK.data[y];o.addEventListener("mouseover",K,!1);I.Xh(o,K)}this.Oj=new eg([0,13,0],!1,null,!0);
this.Oj.k("click",this.jx,this);this.n.appendChild(this.Oj.n);this.NC=new eg(I.pA("tools/zoom",null,"autoscale"),!1,[12,86]);
this.NC.k("click",this.jx,this);this.n.appendChild(this.NC.n);this.hn=new eg("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.hn.k("click",this.jx,this);this.n.appendChild(this.hn.n)}bK.prototype=new cv;bK.prototype.a1I=function(){if(this.R1.length!=0)return;
for(var y=0;y<bK.data.length;y++){var K=bK.data[y],o=new gq(K.items,K.D7);o.parent=this;this.R1.push(o)}this.t()};
bK.prototype.t=function(){this.Oj.t();this.NC.t();this.hn.t();for(var y=0;y<this.VQ.length;y++)this.VQ[y].textContent=ca.get(bK.data[y].name);
this.a9X();for(var y=0;y<this.R1.length;y++)this.R1[y].t()};bK.prototype.jx=function(K){var o=new h1(w.E.L,!0);
if(K.target==this.Oj)o.data={d:w.I.Gg,XQ:"account"};else if(K.target==this.NC)o.data={d:w.I.Kk};else o.data={d:w.I.lI,cB:!0};
this.c(o)};bK.prototype.ar_=function(K,o){this.xm=K;this.Iu=o};bK.prototype.fL=function(K,o){this.Iu=K;
if(o==bB.tk){var Y=K.awx;I.oA(this.s2);for(var y=0;y<this.VQ.length;y++){var c=bK.data[y];if(Y==null||Y[y]==1||Y[y]instanceof Array)if(c.gx==null||c.gx==g1)this.s2.appendChild(this.VQ[y]);
if(Y!=null&&Y[y]instanceof Array){this.a1I();this.R1[y].ala(Y[y])}}this.n.removeChild(this.Oj.n);this.n.removeChild(this.NC.n);
this.n.removeChild(this.hn.n);if(K.EK)this.n.appendChild(this.Oj.n);this.n.appendChild(this.NC.n);this.n.appendChild(this.hn.n)}this.a9X()};
bK.prototype.a9X=function(K,o){var Y=this.Oj,c=12255232;if(es.DH())c=es.YP()?43520:16755200;Y.n.setAttribute("style","color:#ffffff; background-color:#"+d.lP(c))};
bK.prototype.dl=function(K){this.a1I();var y=this.VQ.indexOf(K.currentTarget),o=this.R1[y];if(K.type=="mouseover"&&!I.qO(this.R1[this.asn].n))return;
if(I.qO(o.n))return;K.akL=!0;this.asn=y;for(var y=0;y<bK.data.length;y++)this.R1[y].update(this.xm,this.Iu);
var Y=K.target.getBoundingClientRect(),c=new h1(w.E.L,!0);c.data={d:w.I.FY,A_:o,x:Y.left,y:Y.top+Y.height+2,amT:!0};
this.c(c)};bK.a7Q=function(K){var o=a1,Y=o.rK,c=o.jR,z=o.cV,f=function(q){return{u:q!=null}},$=function(q){return{u:q!=null&&q.r!=null}},E={name:[0,5],gx:0,items:[{name:[7,0],u:f,aL:[Y,o.I]},{name:[7,1],aL:[Y,o.dc],u:$},{name:[7,2],aL:[c,Y,o.WL],u:$,M_:!0},{name:"Remove BG",u:function(q){return{u:q!=null&&q.Y.length!=0&&!q.B[q.Y[0]].rect.xf()}}},{name:[7,8],u:f,j_:!0},{name:[7,13],j_:!0,u:function(q){return{u:q!=null&&q.Y.length!=0&&!q.B[q.Y[0]].rect.xf()}},M_:!0},{name:[7,11],j_:!0,u:function(q){return{u:q!=null&&q.Y.length!=0&&!q.B[q.Y[0]].rect.xf()}}},{name:[7,3],u:f,M_:!0,sub:[{name:[7,9],j_:!0,u:$},{name:[19,3,0],j_:!0,u:$},{name:[7,4],j_:!0,u:$},{name:[7,5],j_:!0,u:$},{name:[7,6],j_:!0,u:$,aL:"Shift+F6"}]},{name:"Grow",u:$},{name:"Similar",u:$,M_:!0},{name:[7,10],u:$,M_:!0},{name:[6,6,1],u:function(q){return{u:q!=null,u9:q!=null&&q.oy()!=null}},aL:[o.mk],M_:!0},{name:["VAR0 VAR1",[1,2],[17,2]],u:$}],D7:[{K:w.E.hP,C:m.PP.hE(!0)},{K:w.E.hP,C:m.PP.hE()},{K:w.E.hP,C:{Rk:"inverse"}},{K:w.E.U,f:m.at,C:{d:"bgrm",b:1}},{K:w.E.L,C:{d:w.I.Gg,XQ:"crange"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"magiccut"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"redge"}},{sub:[{K:w.E.L,C:{d:w.I.Gg,XQ:"sel_border"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"sel_smoothness"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"sel_expand"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"sel_contract"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"sel_feather"}}]},{K:w.E.hP,C:{Rk:"grow",jU:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:w.E.hP,C:{Rk:"similar",jU:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:w.E.L,C:{d:w.I.NR,f:m.Lz}},{K:w.E.U,f:m.at,C:{d:"qmask"}},{K:w.E.hP,C:{Rk:"duplicate",jU:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(K){var b=E.items.length-1;E.items.splice(b-2,0,{name:[6,49],aL:[Y,o.Om],M_:!0});E.D7.splice(b-2,0,{K:w.E.hP,C:{Rk:"copyToLayer"}});
E.items.splice(b-1,0,{name:[10,16],aL:[z,Y,o.DM]});E.D7.splice(b-1,0,{K:w.E.L,C:{d:w.I.NR,f:m._6}})}return E};
bK.ma=function(K,o){if(K==null||K.Y.length==0)return!1;var Y=K.B[K.Y[0]];return Y.add.TySh!=null&&o.i5==m.oB};
bK.ayT=function(){var K=a1,o=K.rK,Y=K.jR,c=K.cV,z=function(f){return{u:f!=null}};return[[{name:[5,0],aL:[o,K.zA],u:function(f,$){return{u:f!=null&&(f.qb()||bK.ma(f,$))}}},{name:[5,1],aL:[o,K.bY],u:z},{name:[5,2],aL:[o,K.MD],u:function(f,$){return{u:bK.ma()||I.ql()||$.EZ!=null||$.Al!=null||$.ael!=null}}},{name:[2,2],u:function(f,$){return{u:f!=null&&(f.r!=null||bK.ma(f,$))}},aL:"Delete",M_:!0}],[{K:w.E.L,C:{d:w.I.s7}},{K:w.E.L,C:{d:w.I.pc}},{K:w.E.L,C:{d:w.I.Cd}},{K:w.E.hP,C:{Rk:"delete"}}]]};
bK.data=function(){var K=a1,o=K.rK,Y=K.jR,c=K.cV,z=function(R){return{u:R!=null&&R.Y.length!=0}},f=function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].add.SoLd!=null}},$=function(R){return{u:R!=null}},E=function(R){return{u:R!=null&&R.WM(!1)}},b=[],q=[],O="none maxx avrg medn minn rang stdv summ vari".split(" "),j=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var y=0;y<O.length;y++){b.push({name:j[y],u:function(R,g){if(R==null||R.Y.length!=1)return{u:!1};
var H=R.B[R.Y[0]].add.SoLd;if(H==null)return{u:!1};return{u:!0,u9:H.Impr.v.classID==this.ai9}}.bind({ai9:O[y]})});
q.push({K:w.E.U,f:m._V,C:{d:S.pr,Wx:O[y]}})}var A=bK.ayT(!0);return[{name:[0,0],items:[{name:[5,3],aL:[c,o,K.f8],title:[11,7],j_:!0},{name:[1,0],aL:[o,K.Nf],j_:!0},{name:[1,11],j_:!0,u:$},{name:["VAR0 VAR1",[1,0],[0,14]],M_:!0,sub:[{name:"Storage",j_:!0,aL:[c,o,K.Nf]},{name:[1,5],j_:!0},{name:[11,0],j_:!0},{name:["PSD VAR0",[25,0]],j_:!0}]},{name:[1,18],M_:!0,u:$,sub:[{name:"PNG",aL:"Imgur.com",u:function(R,g){return{u:R!=null&&g.Ox}}},{name:"JPG",aL:"Imgur.com",u:function(R,g){return{u:R!=null&&g.Ox}}},{name:"PSD",aL:"Photopea.com",u:function(R,g){return{u:R!=null&&g.Ox&&!R.hr}}}]},{name:"Save ...",aL:[o,K.rQ],u:function(R,g){var H=ca.get([1,2]),i=!0;
if(R){if(R.cr)H+=" ("+ca.get([6,7,1])+")";if(R.ED)H+=" (Google Drive)";if(R.yt)H+=" ("+Storage.list[R.yt[0]][0]+")";
i="psd jpg png gif webp svg bmp".split(" ").indexOf(R.MG)!=-1}return{u:R!=null&&(R.yt!=null||R.ZT!=null&&i||R.cr!=null||R.Yr!=null&&R.Yr.oO!=null||R.ED!=null||g.Yi.save!=null),hY:H}}},{name:g1==0?[1,3]:"Save as AI",u:function(R,g){return{u:R!=null&&g.Ox}}},{name:["VAR0 VAR1",[1,2],[0,14]],u:$,sub:[{name:(g1==0?"PSD":"AI")+" to Storage",u:function(R,g){return{u:R!=null&&g.Ox}}},{name:["VAR0 PSD/PSB",[1,2]],j_:!0,u:function(R,g){return{u:R!=null&&g.Ox}}}]},{name:[1,8],u:$,sub:function(){var R=fv.L7(0),g=[];
for(var y=0;y<R.length;y++)g.push({name:R[y],aL:"."+R[y].toLowerCase()});g.push({name:[0,14],sub:function(){var R=fv.L7(1),g=[];
for(var y=0;y<R.length;y++)g.push({name:R[y],aL:"."+R[y].toLowerCase()});return g}()});return g}()},{name:[1,4],j_:!0,u:$,M_:!0},{name:[1,9],j_:!0,u:$},{name:"Export Color Lookup",j_:!0,u:$,M_:!0},{name:[1,14],j_:!0,u:$,M_:!0},{name:[1,17],sub:[{name:"Batch",j_:!0},{name:"PDF Presentation",j_:!0},{name:"Convert Formats",j_:!0}]},{name:[1,10],j_:!0}],D7:[{K:w.E.L,C:{d:w.I.Gg,XQ:"newproject"}},{K:w.E.L,C:{d:w.I.WC}},{K:w.E.L,C:{d:w.I.WC,aqM:!0}},{sub:[{K:w.E.L,C:{d:w.I.Gg,XQ:"storwindow",aZ:0}},{K:w.E.L,C:{d:w.I.Gg,XQ:"open_from_url"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"camera"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"res0"}}]},{sub:[{K:w.E.L,C:{d:w.I.xW,ks:"png"}},{K:w.E.L,C:{d:w.I.xW,ks:"jpg"}},{K:w.E.L,C:{d:w.I.xW,ks:"psd"}}]},{K:w.E.L,C:{d:w.I.vB}},{K:w.E.L,C:{d:w.I.Uy}},{sub:[{K:w.E.L,C:{d:w.I.Gg,XQ:"storwindow",aZ:1}},{K:w.E.L,C:{d:w.I.Gg,XQ:"savepsb"}}]},{sub:function(){var R=fv.L7(0),g=[];
for(var y=0;y<R.length;y++)g.push({K:w.E.L,C:{d:w.I.Gg,XQ:"saveforweb",ks:y}});g.push({sub:function(){var H=fv.L7(0).length,R=fv.L7(1),g=[];
for(var y=0;y<R.length;y++)g.push({K:w.E.L,C:{d:w.I.Gg,XQ:"saveforweb",ks:H+y}});return g}()});return g}()},{K:w.E.L,C:{d:w.I.Gg,XQ:"saveforweb",ks:5,axT:!0}},{K:w.E.L,C:{d:w.I.Gg,XQ:"eassets"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"exlut"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"finfo"}},{sub:[{K:w.E.L,C:{d:w.I.Gg,XQ:"batch"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"pdfpres"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"cformat"}}]},{K:w.E.L,C:{d:w.I.Gg,XQ:"script"}}]},{name:[0,1],items:[{name:[2,8],u:$},{name:[2,0],u:$,aL:[Y,o,K.VI]},{name:[2,1],u:$,aL:[o,K.VI],M_:!0},{name:[2,11],aL:[Y,o,K.Sd],M_:!0,j_:!0,u:function(R,g){return{u:gr.afH(R)&&g.i5!=m._6}}},A[0][0],A[0][1],{name:[5,7],aL:[Y,o,K.bY],u:function(R){return{u:R!=null&&R.qb()}}},A[0][2],A[0][3],{name:[2,3],u:$,j_:!0,aL:[Y,K.ah]},{name:[14,9],u:$,j_:!0,M_:!0},{name:[10,48],u:E},{name:[10,46],u:function(R){return{u:m.Cc.are(R)}}},{name:[10,16],u:$,aL:[c,o,K.DM]},{name:[2,4],u:$,sub:jg.apO()},{name:[2,10,1],u:$},{name:[2,10,0],u:$,M_:!0},{name:[12,87],u:$,sub:[{name:[12,62],u:$},{name:[9,3],u:$},{name:[10,31],u:function(R){return{u:R!=null&&R.dK()[1].length!=0}}}]},{name:[1,15],j_:!0},{name:[12,79],j_:!0,aL:[o,K.kl]},{name:[1,13],j_:!0}],D7:[{K:w.E.U,f:m.s5,C:{d:"h_undoredo"}},{K:w.E.U,f:m.s5,C:{d:"h_stepfwd"}},{K:w.E.U,f:m.s5,C:{d:"h_stepbck"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"afw_fade"}},A[1][0],A[1][1],{K:w.E.L,C:{d:w.I.pc,qD:!0}},A[1][2],A[1][3],{K:w.E.L,C:{d:w.I.Gg,XQ:"fill"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"stroke"}},{K:w.E.L,C:{d:w.I.NR,f:m.UN}},{K:w.E.U,f:m.lj,C:{d:"start",pl:"rigidTransform"}},{K:w.E.L,C:{d:w.I.NR,f:m._6}},{sub:jg.a71()},{K:w.E.hP,C:{Rk:"align",jU:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:w.E.U,f:m._V,C:{d:S.RM}},{sub:[{K:w.E.L,C:{d:w.I.Bu,VS:0}},{K:w.E.L,C:{d:w.I.Bu,VS:1}},{K:w.E.L,C:{d:w.I.Bu,VS:2}}]},{K:w.E.L,C:{d:w.I.Gg,XQ:"pmanager"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"preferences"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"locstor"}}]},{name:[0,2],items:[{name:[12,36],u:$,M_:!0,sub:[{name:"RGB",u:function(R){if(R==null)return{u:!1};
return{u9:R.add.fcmy==null,u:!0}}},{name:"CMYK",u:function(R){if(R==null)return{u:!1};return{u9:R.add.fcmy!=null,u:!0}}}]},{name:[3],u:$,M_:!0,sub:function(){var R=[];
for(var g in jh.names){R.push({name:jh.names[g],j_:dD[g]!=null,aL:jh.keys[g],M_:jh.ayg.indexOf(g)!=-1});
if(g=="selc"){R.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],j_:!0,M_:!0});R.push({name:[19,7,0],aL:[o,Y,K.dN],u:E});
R.push({name:[4,18],j_:!0,u:E})}}return R}()},{name:[4,16,0],u:E},{name:[4,16,1],u:E},{name:[4,16,2],u:E,M_:!0},{name:[11,11,1],u:E,j_:!0},{name:[11,11,0],u:E,j_:!0,M_:!0},{name:[11,3],u:$,j_:!0,aL:[c,o,K.bY]},{name:[11,10],u:$,j_:!0,aL:[c,o,K.WL]},{name:[2,4],u:$,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],u:function(R){return{u:R!=null&&R.r!=null}}},{name:[11,12,0],u:$,aL:[o,K.uh],j_:!0},{name:[11,12,2],u:$,M_:!0},{name:[12,53],u:$},{name:[2,12],u:E,j_:!0,M_:!0},{name:[2,14],u:$,j_:!0}],D7:[{sub:[{K:w.E.U,f:m.Wh,C:{d:"fcmy",b:0}},{K:w.E.U,f:m.Wh,C:{d:"fcmy",b:1}}]},{sub:function(){var R=[];
for(var g in jh.names){R.push({K:w.E.U,f:m.Ay,C:{d:"start",W2:g}});if(g=="selc"){R.push({K:w.E.U,f:m.lj,C:{d:"start",pl:"adaptCorrect"}});
R.push({K:w.E.hP,C:{Rk:"desaturate"}});R.push({K:w.E.U,f:m.Ay,C:{d:"start",W2:"matc"}})}}return R}()},{K:w.E.hP,C:{Rk:"levels",jU:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:w.E.hP,C:{Rk:"levels",jU:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:w.E.hP,C:{Rk:"levels",jU:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:w.E.L,C:{d:w.I.Gg,XQ:"rcolors"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"vbitmap"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"csize"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"isize"}},{sub:[{K:w.E.hP,C:m.OB.On(!0,90)},{K:w.E.hP,C:m.OB.On(!0,-90)},{K:w.E.hP,C:m.OB.On(!0,-180)},{K:w.E.hP,C:m.OB.On(!1,"Hrzn")},{K:w.E.hP,C:m.OB.On(!1,"Vrtc")}]},{K:w.E.hP,C:{Rk:"crop",jU:{__name:"Crop",classID:"Crop"}}},{K:w.E.L,C:{d:w.I.Gg,XQ:"trim"}},{K:w.E.hP,C:{Rk:"revealAll",jU:{classID:"RvlA"}}},{K:w.E.hP,C:{Rk:"duplicate",jU:{classID:"Dplc",null:b0.x2("Dcmn",!0)}}},{K:w.E.U,f:m.Ay,C:{d:"start",W2:"aply"}},{K:w.E.L,C:{d:w.I.Gg,XQ:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],u:$,sub:[{name:[0,3],aL:[Y,o,K.f8]},{name:[0,4]},{name:[1,16,0],j_:!0},{name:[1,16,3],j_:!0,M_:!0},{name:[6,49,0],aL:[o,K.Om]},{name:[6,49,1],aL:[Y,o,K.Om],u:function(R){return{u:R!=null&&R.r!=null&&R.WM(!1)}}}]},{name:[6,0],u:z,aL:[o,K.Om]},{name:[11,4],u:z},{name:[5,4],u:z,M_:!0},{name:[11,6],u:z,M_:!0,sub:cE.PY(!0)},{name:[6,48,1],u:$,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],u:$,M_:!0,sub:cE.anY()},{name:[6,2],u:$,sub:[{name:[6,4],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()==null}}},{name:[6,5,0],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()==null}}},{name:[6,5,1],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()==null&&R.r!=null}}},{name:[6,5,2],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()==null&&R.r!=null}}},{name:[6,5,3],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()==null}},M_:!0},{name:[5,4],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()!=null}}},{name:[5,8],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()!=null&&R.WM(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].ue()!=null}}}]},{name:[6,3],u:$,sub:[{name:[6,4],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].add.vmsk==null}}},{name:[6,5,0],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].add.vmsk==null}}},{name:[12,76,7],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].add.vmsk==null}},M_:!0},{name:[5,4],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],u:function(R){return{u:R!=null&&R.Y.length!=0&&R.B[R.Y[0]].add.vmsk!=null}}}]},b9.amU(!0),{name:[6,7,1],u:$,M_:!0,sub:[{name:[6,7,0],M_:!0},{name:"Open (Edit Contents)",u:f,j_:!0},{name:"Replace Contents",u:f,j_:!0},{name:"Export Contents",u:f,j_:!0,M_:!0},{name:[6,36,4],u:f,sub:b},{name:"Turn into JPG",u:f}]},{name:[6,8],u:b9.atI},{name:[6,34],M_:!0,u:function(R){if(R==null||R.Y.length==0)return{u:!1};
var g=R.B[R.Y[0]];return{u:g.add.lmfx!=null&&!g.f$()}}},{name:[6,9],u:$,M_:!0,aL:[o,K.vH]},{name:[6,55],u:$,sub:[{name:[6,56,0],aL:[Y,o,K.rn]},{name:[6,56,1],aL:[o,K.rn]},{name:[6,56,2],aL:[o,K.r3]},{name:[6,56,3],aL:[Y,o,K.r3]}]},{name:"Combine Shapes",u:$,M_:!0,sub:[{name:[18,1],Uv:"set/union"},{name:[18,2],Uv:"set/difference"},{name:[18,3],Uv:"set/intersection"},{name:[18,4],Uv:"set/xor"}]},{name:[6,58],u:$,M_:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],aL:[o,K.E],u:function(R){var g=R==null?0:R.Y.length;
return{u:g!=0&&(g!=1||R.Y[0]!=0),hY:ca.get(g>1||g==1&&R.B[R.Y[0]].f$()?[6,12,0]:[6,10])}}},{name:[6,12,1],u:$},{name:[2,13],u:$}],D7:[{sub:[{K:w.E.U,f:m._V,C:{d:S.zm}},{K:w.E.U,f:m._V,C:{d:S.rr}},{K:w.E.L,C:{d:w.I.Gg,XQ:"newartb",aZ:0}},{K:w.E.L,C:{d:w.I.Gg,XQ:"newartb",aZ:1}},{K:w.E.hP,C:{Rk:"copyToLayer"}},{K:w.E.hP,C:{Rk:"cutToLayer"}}]},{K:w.E.U,f:m._V,C:{d:S.Rz}},{K:w.E.L,C:{d:w.I.Gg,XQ:"duplinto"}},{K:w.E.U,f:m._V,C:{d:S._C}},{sub:cE.s_(!0)},{sub:[{K:w.E.U,f:m.uO,C:{d:"newfill",tM:0}},{K:w.E.hP,C:m.GU.Sz(1)},{K:w.E.hP,C:m.GU.Sz(2)}]},{sub:cE.sY()},{sub:[{K:w.E.U,f:m._V,C:{d:S.FO,aZ:"RvlA"}},{K:w.E.U,f:m._V,C:{d:S.FO,aZ:"HdAl"}},{K:w.E.U,f:m._V,C:{d:S.FO,aZ:"RvlS"}},{K:w.E.U,f:m._V,C:{d:S.FO,aZ:"HdSl"}},{K:w.E.U,f:m._V,C:{d:S.FO,aZ:"Trns"}},{K:w.E.U,f:m._V,C:{d:S.Jj}},{K:w.E.U,f:m._V,C:{d:S.sF}},{K:w.E.U,f:m._V,C:{d:S.mW}}]},{sub:[{K:w.E.U,f:m._V,C:{d:S.ka,alW:!1}},{K:w.E.U,f:m._V,C:{d:S.ka,alW:!0}},{K:w.E.U,f:m._V,C:{d:S.ka,anZ:!0}},{K:w.E.U,f:m._V,C:{d:S.xL}},{K:w.E.U,f:m._V,C:{d:S.sX}}]},{K:w.E.U,f:m._V,C:{d:S.I4}},{sub:[{K:w.E.hP,C:{Rk:"newPlacedLayer"}},{K:w.E.hP,C:{Rk:"placedLayerEditContents",jU:{classID:"placedLayerEditContents"}}},{K:w.E.hP,C:{Rk:"placedLayerReplaceContents",jU:{classID:"placedLayerReplaceContents"}}},{K:w.E.hP,C:{Rk:"placedLayerExportContents",jU:{classID:"placedLayerExportContents"}}},{sub:q},{K:w.E.U,f:m._V,C:{d:S.a5h}}]},{K:w.E.hP,C:{Rk:"rasterizeLayer",jU:{classID:"rasterizeLayer",null:b0.x2("Lyr",!0)}}},{K:w.E.U,f:m._V,C:{d:S.FZ}},{K:w.E.U,f:m._V,C:{d:S.p5}},{sub:[{K:w.E.U,f:m._V,C:{d:S.DO,f4:0}},{K:w.E.U,f:m._V,C:{d:S.DO,f4:1}},{K:w.E.U,f:m._V,C:{d:S.DO,f4:2}},{K:w.E.U,f:m._V,C:{d:S.DO,f4:3}}]},{sub:[{K:w.E.U,f:m._V,C:{d:S.Vn,dP:0}},{K:w.E.U,f:m._V,C:{d:S.Vn,dP:1}},{K:w.E.U,f:m._V,C:{d:S.Vn,dP:2}},{K:w.E.U,f:m._V,C:{d:S.Vn,dP:3}}]},{sub:[{K:w.E.U,f:m._V,C:{d:S.xs,f4:"makeframes"}},{K:w.E.U,f:m._V,C:{d:S.xs,f4:"unmakeframes"}},{K:w.E.U,f:m._V,C:{d:S.xs,f4:"merge"}}]},{K:w.E.hP,C:{Rk:"mergeLayersNew",jU:{__name:"Merge Layers",classID:"Mrg2"}}},{K:w.E.hP,C:{Rk:"flattenImage"}},{K:w.E.U,f:m.lj,C:{d:"start",pl:"defr"}}]},bK.a7Q(!1),function(){var R={name:[0,6],gx:0,items:[{name:[24,18,4],aL:[c,o,K.Sd],u:$,M_:!0}],D7:[{K:w.E.U,f:m.lj,C:{d:"applylast"}}]};
for(var y=0;y<fn.Z$.length;y++){var g=fn.Z$[y];if(g.fe!=null){var H={name:fn.names[g.fe],j_:!0,M_:g.M_,u:$};
if(g.fe=="VaPo")H.u=E;R.items.push(H);R.D7.push({K:w.E.U,f:m.lj,C:{d:"start",pl:g.fe}});continue}var i={name:g.AO,sub:[],u:$};
R.items.push(i);var h={sub:[]};R.D7.push(h);for(var x=0;x<g.zf.length;x++){var F={name:fn.names[g.zf[x]],j_:fn.Ta(g.zf[x])!=null};
i.sub.push(F);var X={K:w.E.U,f:m.lj,C:{d:"start",pl:g.zf[x]}};h.sub.push(X)}}return R}(),{name:[0,7],items:[{name:[8,0],u:$,aL:[o,K.U1]},{name:[8,1],u:$,aL:[o,K.VV]},{name:[20,3],u:$,aL:[o,K.Xv]},{name:[20,2],u:$,aL:[o,K.fX]},{name:[8,14],u:function(R,g){return{u:R!=null,u9:R!=null&&R.Lt}},M_:!0},{name:[12,36],M_:!0,sub:[{name:"Fullscreen",u:function(R,g){return{u9:document.fullscreenElement!=null}},M_:!0},{name:"Standard",u:function(R,g){return{u9:g.ja==0}}},{name:"Menu Bar and Canvas",u:function(R,g){return{u9:g.ja==1}}}]},{name:[8,13],aL:[o,K.y$],u:function(R,g){return{u9:g.uj}}},{name:[8,12],M_:!0,sub:[{name:[17,2],u:function(R,g){return{u:g.uj,u9:g.EU.h1}}},{name:[8,9],u:function(R,g){return{u:g.uj,u9:g.EU.V9}}},{name:[8,2],u:function(R,g){return{u:g.uj,u9:g.EU.xS}},aL:[o,K.QT]},{name:[8,4],u:function(R,g){return{u:g.uj,u9:g.EU.WV}},aL:[o,K.Id]},{name:[8,8],u:function(R,g){return{u:g.uj,u9:g.EU.dv}}},{name:[8,11,0],u:function(R,g){return{u:g.uj,u9:g.EU.FT}}}]},{name:[8,3],u:function(R,g){return{u9:g.Pk}},aL:[o,K.CL],M_:!0},{name:[8,5],u:function(R,g){return{u9:g.dM}}},{name:[8,6],M_:!0,sub:[{name:[8,2],u:function(R,g){return{u9:g.Zt[0]}}},{name:[8,4],u:function(R,g){return{u9:g.Zt[1]}}},{name:[9,1],u:function(R,g){return{u9:g.Zt[2]}}},{name:[8,11,0],u:function(R,g){return{u9:g.Zt[3]}}},{name:[8,7,0],u:function(R,g){return{u9:g.Zt[4]}}}]},{name:[11,15,2],u:function(R,g){return{u:R!=null,u9:R!=null&&R.zT}}},{name:[11,15,0],u:$},{name:[11,14],u:$,j_:!0},{name:[11,15,1],u:function(R,g){return{u:R!=null&&R.Y.length!=0}},M_:!0},{name:[8,11,2],u:function(R,g){return{u:R!=null&&R.FT.length!=0}}}],D7:[{K:w.E.U,f:m.bx,C:{d:"zoom",ik:!0}},{K:w.E.U,f:m.bx,C:{d:"zoom",ik:!1}},{K:w.E.U,f:m.bx,C:{d:"adapt",b:"fitscr"}},{K:w.E.U,f:m.bx,C:{d:"adapt",b:"pixel"}},{K:w.E.U,f:m.Wh,C:{d:"pview"}},{sub:[{K:w.E.L,C:{d:w.I.lI,cB:!0}},{K:w.E.L,C:{d:w.I.lI,b:0}},{K:w.E.L,C:{d:w.I.lI,b:1}},{K:w.E.L,C:{d:w.I.lI,b:2}}]},{K:w.E.L,C:{d:w.I.Ak,VS:bB.PA}},{sub:[{K:w.E.L,C:{d:w.I.Ak,VS:bB.xh}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.Kc}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.dD}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.mE}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.Qs}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.XO}}]},{K:w.E.L,C:{d:w.I.Ak,VS:bB.yP}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.abH}},{sub:[{K:w.E.L,C:{d:w.I.Ak,VS:bB.lT,ss:0}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.lT,ss:1}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.lT,ss:2}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.lT,ss:3}},{K:w.E.L,C:{d:w.I.Ak,VS:bB.lT,ss:4}}]},{K:w.E.U,f:m.Wh,C:{d:"lockguides"}},{K:w.E.U,f:m.Wh,C:{d:"gids",_s:[[],[]]}},{K:w.E.L,C:{d:w.I.Gg,XQ:"addguides"}},{K:w.E.U,f:m.Wh,C:{d:"gidsFromLayer"}},{K:w.E.U,f:m.YM,C:{d:"deleteAll"}}]},function(){var R={name:[0,8],items:[{name:[0,14],M_:!0,sub:[]},{name:"Plugins",M_:!0}],D7:[{sub:[]},{K:w.E.L,C:{d:w.I.Gg,XQ:"res1"}}]};
for(var y=0;y<bm.WO.length;y++){var g=bm.WO[y],H=function(){var i=g.A_.xx;return function(h,x){return{u9:x.R1.indexOf(parseInt(i))!=-1}}}();
(g.pI?R.items[0].sub:R.items).push({name:g.A_.name,u:H});(g.pI?R.D7[0].sub:R.D7).push({K:w.E.L,C:{d:w.I.Ba,XQ:g.A_.xx}})}return R}(),function(){var R={name:[0,14],items:[],D7:[]},g={name:[0,9],sub:[]};
R.items.push(g);var H={sub:[]};R.D7.push(H);var i=ca.apX();for(var y=0;y<i.length;y++){var h=i[y],x=h.code,F=ca.apx(x);
g.sub.push({name:h.name,aL:x,u:function(X,V){return{u9:this.aL==ca.WX()}}});H.sub.push({K:w.E.L,C:{d:w.I.Ak,VS:bB.j0,lang:F}})}g.sub.push({name:[0,12]});
H.sub.push({K:w.E.L,C:{d:w.I.IE,link:"https://www.photopea.com/translate/"}});var g={name:[0,15],sub:[]};
R.items.push(g);var H={sub:[]};R.D7.push(H);for(var y=0;y<j1.YA.length;y++){g.sub.push({name:j1.YA[y].name,u:function(X,V){return{u9:this.name==j1.YA[V.fi].name}}});
H.sub.push({K:w.E.L,C:{d:w.I.Ak,VS:bB.oz,fi:y}})}R.items.push({name:[0,17,6],u:function(X,V){return{u:V.Xw!=null}}});
R.D7.push({K:w.E.L,C:{d:w.I.vv}});R.items.push({name:[11,13]});R.D7.push({K:w.E.L,C:{d:w.I.Gg,XQ:"shortcuts"}});
R.items.push({name:[0,16],u:function(X){return{u9:jK.YT,u:jK.Pd}},M_:!0});R.D7.push({K:w.E.L,C:{d:w.I.az4}});
R.items.push({name:"",u:function(X,V){return V.EK?{hY:"About Photopea",u:!0}:{hY:"",u:!1}}});R.D7.push({K:w.E.L,C:{d:w.I.Gg,XQ:"aboutpp"}});
return R}()]}();function d3(){cv.call(this);this.n=I._("div","");this.bo=0;this.hL=0;this.Bk=null;this.Tc=I._("div","");
this.Tc.setAttribute("style","width:200em; height:100em; position:absolute;");this.nY=[];this.JO=[];
this.Ms={}}d3.prototype=new cv;d3.prototype.ro=function(K){var o=Date.now(),Y=[];if(K=="-"){Y=[new jP,new dL,new eH("pdfpres"),new eH("cformat"),new eH("batch"),new ia,new ap,new gO,new hp,new gl,new dX,new k9,new k7,new fI,new cH,new h$,new dn,new bU,new cE,new g$("isize"),new g$("csize"),new dC,new aL,new aZ,new c1,new bI,new bJ,new c2,new bM,new hS(!1),new hS(!0),new kb(0),new kb(1),new fY,new jX,new dB,new cQ,new hr,new fg,new ao(0),new ao(1),new ao(2),new ao(3),new ao(4),new ao(5),new ao(6),new ao(7),new ao(8),new gL,new jT,new em,new kw,new k4,new jU,new kl,new c4,new en("border",[7,9],"px"),new en("smoothness",[19,3,0],"px"),new en("expand",[7,4],"px"),new en("contract",[7,5],"px"),new en("feather",[7,6],"px"),new eG(0,"namewindow",[12,48]),new eG(2,"billto","Bill To"),new eG(1,"cornerradius",[12,94,0],"px",!0,!0),new eG(1,"scaleeffects",[6,30,1],"%",!0),new eG(1,"doczoom","Zoom","%",!0),new eG(1,"setFPS","Set FPS","fps,120",!1),new eG(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(g1==0){Y.push(new hK)}}else Y=[new gr(K.slice(4))];this.ahj(Y);this.Ms[K]=!0};d3.prototype.ahj=function(K){var o=this.Bk;
for(var y=0;y<K.length;y++){var Y=K[y];Y.parent=this;this.JO.push(Y);this.ku(Y);Y.t();if(o)Y.fL(o,bB.tk);
Y.k(w.E.qH,this.y5,this);I.pL(Y)}};d3.prototype.Fx=function(K,o){this.bo=K;this.hL=o;for(var y=0;y<this.JO.length;
y++)this.ku(this.JO[y])};d3.prototype.t=function(){for(var y=0;y<this.JO.length;y++)this.JO[y].t()};
d3.prototype.BQ=function(){return this.nY.length==0?null:this.nY[this.nY.length-1]};d3.prototype.$l=function(){for(var y=0;
y<this.nY.length;y++)if(this.nY[y].$l())return!0;return!1};d3.prototype.ak0=function(K,o,Y,c,z){var f=K.startsWith("afw_"),$=null;
if(!f&&!this.Ms["-"])this.ro("-");if(f&&!this.Ms[K])this.ro(K);if(typeof K=="object"){$=K;if(!$.aAu(w.E.qH,this.y5))$.k(w.E.qH,this.y5,this);
$.parent=this}else for(var y=0;y<this.JO.length;y++)if(this.JO[y].id==K)$=this.JO[y];if(this.$l()&&$.$l()){alert("Finish the current action first");
return}if(!$.zR(o))return;if(this.nY.indexOf($)!=-1){if(K=="colorpicker")$.ic(o,Y,c,z);return}var E=this.nY.length-1;
if(E>=0)I.Px(this.nY[E].n,"wdisabled");this.n.appendChild($.n);this.nY.push($);this.ku($);I.c0($);$.ic(o,Y,c,z)};
d3.prototype.ku=function(K){var o=this.bo,Y=this.hL,c=K.uJ(o,Y),z;if(c!=null){z=c}else{c=new jc(0,0);
z=K.akE();if(z==null){var f=this.nY.indexOf(K)+1;if(o<450||Y<450)z=new jc(0,0);else z=new jc(f*150,f*150)}}K.n.style.left=z.x+"px";
K.n.style.top=this.n.offsetTop+z.y+"px";K.Fx(this.bo-c.x*2,this.hL-c.y*2-34)};d3.prototype.fL=function(K,o){this.Bk=K;
for(var y=0;y<this.JO.length;y++)this.JO[y].fL(K,o)};d3.prototype.y5=function(K){var o=this.nY.pop();
I.pL(o,this.n);var Y=this.nY.length-1;if(Y>=0)I.LR(this.nY[Y].n,"wdisabled");if(this.Tc.parentNode==this.n)this.n.removeChild(this.Tc)};
window.onload=function(){document.body.appendChild(new bs().n)}}())